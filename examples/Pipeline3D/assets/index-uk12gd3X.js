const __vite__fileDeps=["./index-C8mooSRS.js","./xframelib-exp-BYnL-see.js","./@vue-exp-BMz8X7Pi.js","./axios-exp-DvxIUWKU.js","./vendor-Dka75WDo.js","./@hprose-exp-CwcCDL56.js","./vendor-69nrQ4Fp.css","./xframelib-exp-DtnNtff7.css","./vue-router-exp-COsaUipG.js","./index-CPCM7AG1.css","./testView-RzDP6sUV.js","./testView-D0zLmJ5q.css","./test2View-Bn6FYckE.js","./test2View-BwU2wMqw.css","./404-ToBAgVYO.js","./404-IvfXCjaQ.css","./index-BjTMagU3.js","./index-eb60_iwf.js","./index-DzCrMgo-.js","./rotate-ShLujV4O.js","./domTool-Dunoo3KF.js","./rotate-COvMTU-0.css","./index-DhJdZv6e.js","./index-DP1PnRjt.css","./OneLoginPortal-C3YUbqGT.js","./OneLoginPortal-BSpzW2rT.css","./HeaderTitleWidget-dJMuzFKh.js","./HeaderTitleWidget-D_3wMJYp.css","./StatusWidget-0o9Loopn.js","./StatusWidget-BGY9QhUG.css","./CesiumWidget-Cg98t2Li.js","./SystemsEvent-CcMw5DLH.js","./NavigateWidget-ChjfJsGW.js","./NavigateWidget-J0ALQ7R9.css","./RenderStatusWidget-D88IQHFE.js","./linkMenuWidget-B0rfq6GU.js","./WidgetUtils-RSDkuW7P.js","./WidgetUtils-HUSX4w8e.css","./linkMenuWidget-Bbikl5My.css","./templateMenuWidget-D8Uj-GGX.js","./templateMenuWidget-BM5pA9hW.css","./flyMenuWidget-Dk1Iq_9Y.js","./flyMenuWidget-LINGIXEW.css","./RainWidget-CLAdkJh_.js","./SnowWidget-DSBLZFRh.js","./weatherMenuWidget-BB2H_B1U.js","./weatherMenuWidget-DCuhpbf_.css","./PipelineWidget-CRELOSNA.js","./PipelineWidget-DDwiA1si.css","./initXframe-C_7zuLH-.js","./@iconify/vue-exp-C8cZaBpF.js","./directives-BJi8rx4o.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as oe,D as re,u as se,v as ae,L as le,H as ue,I as ce,m as de,c as pe}from"./@vue-exp-BMz8X7Pi.js";import{d as S,a as me,t as b,r as he,s as fe,c as ge,Q as _e,l as ve,D as ye,b as be,e as Se,N as Re}from"./vendor-Dka75WDo.js";import{N as c,M as Le,B as Ee,u as P,U as We,d as q,j as ke,a as Y,E as we,L as De,b as Ae,e as Te,f as Ie,C as z,g as G,k as Ce,o as _,x as K,T as Oe}from"./xframelib-exp-BYnL-see.js";import{i as Pe,c as Me,a as xe}from"./vue-router-exp-COsaUipG.js";import"./@hprose-exp-CwcCDL56.js";import"./axios-exp-DvxIUWKU.js";const He=function(){const t=typeof document!="undefined"&&document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),$e=function(e,t){return new URL(e,t).href},M={},d=function(t,n,i){let o=Promise.resolve();if(n&&n.length>0){const r=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),m=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.all(n.map(a=>{if(a=$e(a,i),a in M)return;M[a]=!0;const l=a.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(!!i)for(let y=r.length-1;y>=0;y--){const v=r[y];if(v.href===a&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${h}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":He,l||(f.as="script",f.crossOrigin=""),f.href=a,m&&f.setAttribute("nonce",m),document.head.appendChild(f),l)return new Promise((y,v)=>{f.addEventListener("load",y),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}return o.then(()=>t()).catch(r=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=r,window.dispatchEvent(s),!s.defaultPrevented)throw r})},Q={SatusMessage:"statusmessage",LoadingMessage:"loadingMessage"};function Be(e,t){c.EventBus.on(e,t)}function Ve(e,t){c.EventBus.off(e,t)}function Ut(e,t){c.EventBus.emit(e,t)}function Ue(e){c.EventBus.emit(Q.SatusMessage,e)}function Nt(e){c.EventBus.on(Q.SatusMessage,e)}let x=!1;function J(e="end"){if(e==="end")setTimeout(()=>{var t;(t=document.getElementById("apploading"))==null||t.remove()},300),x=!0;else if(e)if(x){const t=`加载Widget：${e}……`;Ue(t)}else{const t=document.getElementById("app-loading-info");t&&(t.innerHTML=`正在加载：${e}……`)}}const Ne=oe({name:"App",components:{RouterTransition:Le},setup(){function e(t){if(!t.isExceptionInfo){const n=`${t.message}
$${t.result}`;c.Message.warn(n)}c.Logger().warn(t,"请求错误")}re(()=>{c.Loading("App.vue")}),se(()=>{Ee(),Be(P.AxiosRequestErrorEvent,e)}),ae(()=>{We(),Ve(P.AxiosRequestErrorEvent,e)})}}),Fe=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n};function je(e,t,n,i,o,r){const s=le("RouterTransition");return ue(),ce(s)}const qe=Fe(Ne,[["render",je],["__file","App.vue"]]);var X=(e=>(e.SIDEBAR="sidebar",e.MIX_SIDEBAR="mix-sidebar",e.MIX="mix",e.TOP_MENU="top-menu",e))(X||{}),Z=(e=>(e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.VERTICAL_RIGHT="vertical-right",e.INLINE="inline",e))(Z||{}),u=(e=>(e[e.Widget=0]="Widget",e[e.Route=1]="Route",e[e.URL=2]="URL",e[e.Action=3]="Action",e))(u||{});const Ye={themeStyle:"Quasar",darkTheme:"",leftCollapsed:!1,overlayMenu:!1,layoutContentHeight:700,layoutContentWidth:600,showSettingButton:!0,openKeepAlive:!0,useErrorHandle:!1,showLogo:!0,showFooter:!0,footerHeight:20,headerSetting:{fixed:!0,show:!0,height:64,centerTitle:!0,showFullScreen:!0,showCollapseIcon:!0,showNotice:!0},menuSetting:{collapsed:!1,minWidth:48,menuWidth:250,accordion:!0,mode:Z.HORIZONTAL,type:X.SIDEBAR}},R="PROJ_SETTINGS_KEY",g=new Y("",sessionStorage),H={...Ye},ze=S("app",{state:()=>{var s,m,a,l,h,p;g==null||g.remove(R);const t=g.get(R)||H,n=(m=(s=t.headerSetting)==null?void 0:s.height)!=null?m:64,o=t.showFooter?t.footerHeight:0;t.layoutContentHeight=document.body.clientHeight-o-n,t.leftCollapsed=(a=t.menuSetting)==null?void 0:a.collapsed;let r=0;return t.leftCollapsed?r=(l=t.menuSetting)==null?void 0:l.minWidth:r=(p=(h=t.menuSetting)==null?void 0:h.menuWidth)!=null?p:250,t.layoutContentWidth=document.body.clientWidth-r,t},getters:{layoutHeaderHeight(e){var t;return(t=e.headerSetting.height)!=null?t:64},layoutFooterHeight(e){return e.showFooter?e.footerHeight:0},layoutSiderWidth(e){var t;return!e.menuSetting||!e.menuSetting.show?0:e.menuSetting.collapsed?e.menuSetting.minWidth:(t=e.menuSetting.menuWidth)!=null?t:250}},actions:{getCacheStore(){let e=g.get(R);return e||(e=H),e},saveCacheStore(){g.set(R,this.$state)},clear(){g==null||g.remove(R)},setProjectConfig(e){e&&(ke(this.$state,e),this.saveCacheStore())},setMenuSetting(e){this.setProjectConfig({menuSetting:e})},toggleCollapse(){this.leftCollapsed=!this.leftCollapsed,this.menuSetting.collapsed=this.leftCollapsed,this.layoutContentWidth=document.body.clientWidth-this.layoutSiderWidth,this.saveCacheStore();const e=new Event("resize");window.dispatchEvent(e)},resizeHandler(){this.layoutContentWidth=document.body.clientWidth-this.layoutSiderWidth,this.layoutContentHeight=document.body.clientHeight-this.layoutFooterHeight-this.layoutHeaderHeight,this.saveCacheStore()},SetThemeStyle(e){this.themeStyle=e,g.set("default-theme-style",e)},GetThemeStyle(){return this.themeStyle?this.themeStyle:g.get("default-theme-style")?g.get("default-theme-style"):"Quasar-Admin"},SetDarkTheme(e){this.darkTheme=e,g.set("default-dark-theme",e)},GetDarkTheme(){return this.darkTheme?this.darkTheme:g.get("default-dark-theme")?g.get("default-dark-theme"):!1}}});function Ge(){ze().resizeHandler()}q.windowResizeHandler(Ge);const Ke=S("asyncRoute",{state:()=>({menus:[],keepAliveComponents:[]}),getters:{},actions:{setRoutes(e){this.menus=e}}});function Qe(e){for(const t in e)return e[t]}S("breadCrumbs",{state:()=>({breadcrumbs:[]}),getters:{getBreadCrumbs(e){return e.breadcrumbs}},actions:{setBreadcurmbs(e,t){const n=[];for(let o=0;o<e.length;o++){const r={title:e[o].meta.title,name:e[o].name,fullPath:e[o].path,icon:e[o].meta.icon,keepAlive:e[o].meta.keepAlive};n.push(r)}const i=n.length-1;Object.keys(t).length&&(n[i].title+="："+Qe(t)),this.breadcrumbs=n}}});S("keepAlive",{state:()=>({keepAliveList:[]}),getters:{getKeepAliveList(e){return e.keepAliveList}},actions:{setKeepAliveList(e){this.keepAliveList=[];for(let t=0;t<e.length;t++)e[t].keepAlive&&this.keepAliveList.push(e[t].name);return this.keepAliveList}}});const Je={path:"/bigscreen",name:"bigscreen",component:()=>d(()=>import("./index-C8mooSRS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url),meta:{title:""},children:[{path:"/test",name:"test",meta:{title:"routes.home",icon:"icon-Home-Filled"},component:()=>d(()=>import("./testView-RzDP6sUV.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8,11]),import.meta.url)},{path:"/test2",name:"test2",meta:{title:"routes.home",icon:"icon-Home-Filled"},component:()=>d(()=>import("./test2View-Bn6FYckE.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,13]),import.meta.url)}]},$="error",Xe={path:"/:pathMatch(.*)*",name:"NotFound",meta:{title:"不存在",hidden:!0,isSystem:!0},component:()=>d(()=>import("./404-ToBAgVYO.js"),__vite__mapDeps([14,4,5,2,6,1,3,7,8,15]),import.meta.url)},Ze={path:"/error",name:$,redirect:"/error/404",meta:{title:"错误页",hidden:!0,isSystem:!0},children:[{path:"404",name:`${$}-404`,meta:{title:"404",hidden:!0,isSystem:!0},component:()=>d(()=>import("./404-ToBAgVYO.js"),__vite__mapDeps([14,4,5,2,6,1,3,7,8,15]),import.meta.url)}]},et=[Xe,Ze],tt={path:"/help/:name",name:"help",meta:{title:"相关内部系统功能",isSystem:!0},component:()=>d(()=>import("./index-BjTMagU3.js"),__vite__mapDeps([16,8,2,1,3,4,5,6,7]),import.meta.url)},nt=[tt],it=[{path:"/redirect/:path*",name:"Redirect",component:{},meta:{title:"重定向",icon:"SettingOutlined",hidden:!0,isSystem:!0},children:[{path:"",name:"Redirect2",component:()=>d(()=>import("./index-eb60_iwf.js"),__vite__mapDeps([17,8,2,4,5,6,1,3,7]),import.meta.url),meta:{title:"重定向",hidden:!0,keepAlive:!1}}]}],ot=[{path:"/login",name:"login",meta:{title:"系统登录",isSystem:!0},component:()=>d(()=>import("./index-DzCrMgo-.js"),__vite__mapDeps([18,4,5,2,6,19,20,1,3,7,21,8]),import.meta.url)},{path:"/onelogin",name:"onelogin",meta:{title:"统一登录",isSystem:!0},component:()=>d(()=>import("./index-DhJdZv6e.js"),__vite__mapDeps([22,4,5,2,6,1,3,7,19,20,21,8,23]),import.meta.url)},{path:"/onelogin-portal",name:"onelogin-portal",meta:{title:"统一验证导航页",isSystem:!0},component:()=>d(()=>import("./OneLoginPortal-C3YUbqGT.js"),__vite__mapDeps([24,4,5,2,6,8,1,3,7,25]),import.meta.url)}],ee=[],B=Object.assign({"./error.ts":et,"./help.ts":nt,"./redirect.ts":it,"./shared.ts":ot});Object.keys(B).forEach(e=>{const t=B[e];ee.push(...t)});const rt="PipelineCesiumDemo",st="0.0.1",at="三维管线展示系统",lt="三维管线展示系统",ut="zorrowm <zorrowm@126.com>",ct="module",dt={lint:"eslint --fix --ext .ts,.vue ./",format:'prettier --write "**/*.{ts,vue,scss,html,md,json}" --ignore-path .gitignore',dev:"cross-env DEBUG=vite:deps quasar dev",build:"quasar build","build:pwa":"quasar build -m pwa",clean:"quasar clean && rimraf components.d.ts package-lock.json pnpm-lock.yaml && rimraf node_modules/.q-cache"},pt={"@quasar/extras":"^1.16.11","cesium-navigation-es6":"^3.0.9","floating-vue":"5.2.2","lodash-es":"^4.17.21",nprogress:"1.0.0-1",pinia:"^2.1.7",quasar:"^2.16.4",vue:"^3.4.27","vue-router":"^4.3.2","vue-types":"^5.1.2",xframelib:"^0.7.7"},mt={"@iconify/vue":"^4.1.2","@quasar/app-vite":"2.0.0-beta.14","@rollup/plugin-alias":"^5.1.0","@types/node":"^20.14.1","@types/nprogress":"^0.2.3","@typescript-eslint/eslint-plugin":"^7.12.0","@typescript-eslint/parser":"^7.12.0","@vitejs/plugin-vue-jsx":"^4.0.0","@vue-macros/volar":"^0.21.1","@vue/compiler-sfc":"^3.4.27",autoprefixer:"^10.4.19",cesium:"^1.118.2","cross-env":"^7.0.3",dotenv:"^16.4.5",eslint:"^9.4.0","eslint-config-prettier":"^9.1.0","eslint-plugin-simple-import-sort":"^12.1.0","eslint-plugin-vue":"^9.26.0",prettier:"^3.3.0",prismjs:"^1.29.0",rimraf:"^5.0.7","rollup-plugin-visualizer":"^5.12.0",typescript:"^5.4.5","unplugin-vue-components":"^0.27.0","unplugin-vue-define-options":"^1.4.5","vite-plugin-cesium":"^1.2.22","vite-plugin-fs":"^1.1.0","vite-plugin-vue-inspector":"^5.1.2","vite-plugin-webworker-service":"^1.1.0"},ht={node:"^24 || ^22 || ^20 || ^18",npm:">= 6.13.4",yarn:">= 1.21.1"},ft={name:rt,version:st,description:at,productName:lt,author:ut,type:ct,private:!0,scripts:dt,dependencies:pt,devDependencies:mt,engines:ht},{name:gt,version:_t}=ft,te={pkg:{name:gt,version:_t},lastBuildTime:me.formatDate("YYYY-MM-DD HH:mm:ss")};function vt(){const{pkg:e}=te,t=`${e.name}_${e.version}`;return q.MD5(t)}function Ft(){const{pkg:e}=te;return e}function yt(e,t="/"){if(e)return e.startsWith("/")?e.startsWith(t)?e:`${t}${e}`:t==="/"?`${t}${e}`:`${t}/${e}`}function V(e,t){e.getRoutes().find(o=>o.path==="/")||e.addRoute({name:"/",path:"/",redirect:t.path})}function ne(e,t=!1){const n=[];let i=[];return Object.keys(e).forEach(o=>{const r=e[o];r&&i.push(...r)}),t&&(i=i.sort((o,r)=>{let s=0,m=0;return o.index!=null&&(s=Number(o.index)),r.index!=null&&(m=Number(r.index)),s-m})),n.push(...i),i.length=0,n}function T(e,t="/"){var o,r,s;let n=t;if(e.redirect&&e.children){e.path.startsWith(t)?n=e.path:n=t+e.path;const m=e.children[0];return T(m,n)}return e.path.startsWith(t)?n=e.path:n=`${t}/${e.path}`,{title:(o=e.meta)==null?void 0:o.title,fullPath:n,path:e.path,icon:(r=e.meta)==null?void 0:r.icon,keepAlive:(s=e.meta)==null?void 0:s.keepAlive,name:e.name}}async function bt(e){const t=await we(e).catch(n=>{c.Message.warn(`token验证失败:${n.message}!`)});return t?(C().init(t.data),De(t.data.doubletoken),!0):!1}b.configure({showSpinner:!1});const W="/login",St="/";function Rt(e){var n;const t=(n=c.Config.UI)==null?void 0:n.SiteTitle;return e?`${e} - ${t}`:`${t}`}function U(e){return e==="NotFound"?!1:ie(L,e)}function ie(e,t){let n=!1;const i=e.length;for(let o=0;o<i;o++){const r=e[o];if(n=r.name==t,n)break;if(r.children&&(n=ie(r.children,t),n))break}return n}function Lt(e){e.beforeEach((t,n,i)=>{var m,a;b.start();const o=t.name;t.path;const r=C();if(Ae()){const l=Te();if(!c.User&&r.id&&(Ie(),o==="NotFound"&&l&&l.routes&&l.routes.length>0)){const h=j();if(h){c.User=r.id;let p;h.forEach(f=>{p||(p=f),e.addRoute(f)}),p&&V(e,p),t.name=void 0,i(t)}return}if(o==="login")i({path:St}),b.done();else{const h=e.hasRoute(o);(U(o)||h)&&(!l&&o==="NotFound"?(z(),G(),i({path:W,query:{redirect:t.fullPath},replace:!0})):i(),b.done())}}else if(U(o))i();else{const l=(a=(m=t.query)==null?void 0:m.tk)==null?void 0:a.toString();if(l)bt(l).then(h=>{if(h){const p=vt(),f=r.DefaultMaxRoleLevel===0;Ce(p,f).then(()=>{const y=j();if(y){let v;y.forEach(O=>{v||(v=O),e.addRoute(O)}),v&&V(e,v),i({path:t.path});return}}).catch(()=>{c.Message.warn("获取用户功能权限失败！"),i()})}else{c.Logger().debug("验证tk参数失败！");const p=c.Config.ServiceURL.UILoginURL;if(p){const f=document.URL;window.open(p+"?redirect="+f,"_self")}else i({path:W,query:{redirect:t.fullPath},replace:!0});b.done()}});else{const h=c.Config.ServiceURL.UILoginURL;if(h){const p=document.URL;window.open(h+"?redirect="+p,"_self")}else i({path:W,query:{redirect:t.fullPath},replace:!0});b.done()}}}),e.afterEach((t,n,i)=>{var m,a,l,h;const o=Ke();document.title=Rt(t.meta.title),Pe(i)&&c.Logger().debug("failed navigation",i);const r=o.keepAliveComponents,s=(a=(m=t.matched.find(p=>p.name==t.name))==null?void 0:m.components)==null?void 0:a.default.name;if(s&&!(r!=null&&r.includes(s))&&((l=t.meta)!=null&&l.keepAlive))r.push(s);else if(!((h=t.meta)!=null&&h.keepAlive)||t.name=="Redirect"){const p=o.keepAliveComponents.findIndex(f=>f==s);p!=-1&&(r==null||r.splice(p,1))}b.done()}),e.onError(t=>{c.Message.err("加载视图错误:"+t.message),c.Logger().debug(t,"路由错误"),e.push("/error/404")})}J("Router路由");const E=[Je],N=[...ee],L=c.Config.UI.IsNoLogin?[...E,...N]:N,k=he(function(){var o;const e=xe;let t=!1;L.forEach(r=>{r.path==="/"&&(t=!0)});const n=L[0];n.path!="/"&&!t&&L.unshift({path:"/",redirect:n.path});const i=Me({scrollBehavior:()=>({left:0,top:0}),routes:L,history:e("/")});return(o=c.Config.UI)!=null&&o.IsNoLogin||Lt(i),i}),Et=[{name:"图层树",index:2,icon:"vaadin:file-tree",path:"layerManagerWidget",type:u.Widget},{name:"专题地图",index:3,icon:"gis:map-route",path:"layerManagerWidget",type:u.Widget},{name:"雪特效",index:8,icon:"gis:map-play",path:"snowWidget",type:u.Widget,unload:!0},{name:"天气",index:5,path:"weatherMenuWidget",type:u.Widget,children:[{name:"雨",icon:"bi:cloud-rain-fill",path:"rainWidget",type:u.Widget,unload:!0},{name:"雪",icon:"bi:cloud-snow-fill",path:"snowWidget",type:u.Widget,unload:!0},{name:"雾",icon:"bi:cloud-fog-fill",path:"fog1Widget",type:u.Widget,unload:!0},{name:"云",icon:"bi:cloud-fill",path:"cloudWidget",type:u.Widget,unload:!0},{name:"风",icon:"ph:wind-fill",path:"windyWidget",type:u.Widget},{name:"太阳",icon:"bi:sun-fill",path:"sunWidget",type:u.Widget},{name:"大气",icon:"icon-atmosphere",path:"atmosphereWidget",type:u.Widget}]}],Wt=[{name:"地图工具",index:1,icon:"gis:globe-gear",path:"linkMenuWidget",type:u.Widget,unload:!0,children:[{name:"测量工具",icon:"gis:measure",path:"flyMenuWidget",type:u.Widget,children:[{name:"test1",path:"flyRoamingWidget1",type:u.Widget,unload:!0},{name:"test2",path:"SimulationWidget2",type:u.Widget,unload:!0}]},{name:"量算工具",icon:"gis:measure",path:"measureToolWidget",type:u.Widget,unload:!0},{name:"标绘工具",path:"drawToolWidget",icon:"material-symbols:draw-outline",type:u.Widget,unload:!0},{name:"态势标绘",path:"plotMapWidget",icon:"clarity:scatter-plot-outline-alerted",type:u.Widget,unload:!0},{name:"截图/视频",path:"photoVideoWidget",icon:"ph:file-video-thin",type:u.Widget,unload:!0}]}],kt=[{name:"天气222",index:10,children:[{name:"雨",icon:"bi:cloud-rain-fill",path:"rainWidget",type:u.Widget,unload:!0},{name:"雪",icon:"bi:cloud-snow-fill",path:"snowWidget",type:u.Widget,unload:!0},{name:"雾",icon:"bi:cloud-fog-fill",path:"fog1Widget",type:u.Widget,unload:!0},{name:"云",icon:"bi:cloud-fill",path:"cloudWidget",type:u.Widget,unload:!0},{name:"风",icon:"ph:wind-fill",path:"windyWidget",type:u.Widget},{name:"太阳",icon:"bi:sun-fill",path:"sunWidget",type:u.Widget},{name:"大气",icon:"icon-atmosphere",path:"atmosphereWidget",type:u.Widget}]}],wt=Object.assign({"./mapother.ts":Et,"./maptoolbar.ts":Wt,"./test.ts":kt}),jt=ne(wt,!0),Dt=[{layoutID:"bigScreenLayout",id:"headerTitleWidget",label:"头部栏",container:_.top,component:()=>d(()=>import("./HeaderTitleWidget-dJMuzFKh.js"),__vite__mapDeps([26,4,5,2,6,1,3,7,8,27]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"statusWidget",container:_.bottom,component:()=>d(()=>import("./StatusWidget-0o9Loopn.js"),__vite__mapDeps([28,1,2,3,4,5,6,7,8,29]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"cesiumWidget",container:_.centerBack,component:()=>d(()=>import("./CesiumWidget-Cg98t2Li.js"),__vite__mapDeps([30,31,1,2,3,4,5,6,7,8]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"navigateWidget",container:_.centerBack,afterid:"cesiumWidget",component:()=>d(()=>import("./NavigateWidget-ChjfJsGW.js"),__vite__mapDeps([32,4,5,2,6,31,1,3,7,8,33]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"renderStatusWidget",container:_.centerBack,afterid:"cesiumWidget",component:()=>d(()=>import("./RenderStatusWidget-D88IQHFE.js"),__vite__mapDeps([34,31,1,2,3,4,5,6,7,8]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"linkMenuWidget",container:_.centerBack,component:()=>d(()=>import("./linkMenuWidget-B0rfq6GU.js"),__vite__mapDeps([35,36,2,1,3,4,5,6,7,8,37,38]),import.meta.url),preload:!1},{layoutID:"bigScreenLayout",id:"templateMenuWidget",container:_.centerBack,component:()=>d(()=>import("./templateMenuWidget-D8Uj-GGX.js"),__vite__mapDeps([39,36,2,1,3,4,5,6,7,8,37,40]),import.meta.url),preload:!1},{layoutID:"bigScreenLayout",id:"flyMenuWidget",container:_.centerBack,component:()=>d(()=>import("./flyMenuWidget-Dk1Iq_9Y.js"),__vite__mapDeps([41,36,2,1,3,4,5,6,7,8,37,42]),import.meta.url),preload:!1},{layoutID:"bigScreenLayout",id:"rainWidget",container:_.centerBack,component:()=>d(()=>import("./RainWidget-CLAdkJh_.js"),__vite__mapDeps([43,31,1,2,3,4,5,6,7,8]),import.meta.url),preload:!1},{layoutID:"bigScreenLayout",id:"snowWidget",container:_.centerBack,component:()=>d(()=>import("./SnowWidget-DSBLZFRh.js"),__vite__mapDeps([44,31,1,2,3,4,5,6,7,8]),import.meta.url),preload:!1},{layoutID:"bigScreenLayout",id:"weatherMenuWidget",container:_.centerBack,afterid:"cesiumWidget",component:()=>d(()=>import("./weatherMenuWidget-BB2H_B1U.js"),__vite__mapDeps([45,36,2,1,3,4,5,6,7,8,37,46]),import.meta.url),preload:!1},{layoutID:"bigScreenLayout",id:"PipelineWidget",container:_.centerBack,afterid:"cesiumWidget",component:()=>d(()=>import("./PipelineWidget-CRELOSNA.js"),__vite__mapDeps([47,4,5,2,6,1,3,7,8,48]),import.meta.url),preload:!0}],At=Object.assign({"./bigScreen.ts":Dt}),F=ne(At,!1);function I(){return C().DefaultMaxRoleLevel}function j(){const e=c.Config.UI.IsNoLogin?E:K(E,I());return!c.Config.UI.IsNoLogin&&!c.CorrectRoute&&(e==null||e.forEach(t=>{t.children&&t.children.length>0&&(t.redirect=yt(t.children[0].path,t.path))}),c.CorrectRoute=!0),e}function Tt(){const e=c.Config.UI.IsNoLogin?E:K(E,I());if(e)return e[0]}function qt(){return c.Config.UI.IsNoLogin?F:Oe(F,I())}S("tabMenu",{state:()=>({tabMenus:[],currentTab:{}}),getters:{base(){const e=Tt();return e?T(e):void 0}},actions:{AddTabMenu(e){if(this.base&&this.tabMenus&&(this.tabMenus.length===0&&(this.tabMenus=this.tabMenus.concat([this.base]),this.currentTab=this.base),e)){const t=T(e);this.tabMenus.some(n=>n.name===t.name)||(this.tabMenus=this.tabMenus.concat([t]),this.currentTab=t)}},ChangeCurrentTab(e){this.currentTab=e},RemoveTab(e){const t=this.tabMenus.indexOf(e);this.tabMenus=this.tabMenus.filter(n=>n.fullPath!==e.fullPath),this.currentTab=this.tabMenus[t-1]},RemoveRightTab(e){const t=this.tabMenus.indexOf(e);this.tabMenus=this.tabMenus.slice(0,t+1)},RemoveLeftTab(e){const t=this.tabMenus.indexOf(e),n=this.tabMenus.slice(t);this.tabMenus=[this.base].concat(n)},DestroyTabMenu(){this.currentTab="",this.tabMenus=[]}}});const w="USER_SYS_KEY",D=new Y("",sessionStorage),C=S("user",{state:()=>D.get(w)||{},getters:{DefaultMaxRole(e){var i;const t=(i=e.roles)==null?void 0:i[0];let n="普通用户";switch(t==null?void 0:t.level){case 0:n="超级管理员";break;case 1:n="管理员";break;case 2:n="普通用户";break}return n},DefaultMaxRoleLevel(e){var i;const t=(i=e.roles)==null?void 0:i[0];let n=-1;return t&&(n=t.level),n},AdminSystemList(e){var n;const t=[];return(n=e.roles)==null||n.forEach(i=>{(i.level===0||i.level===1)&&i.syslist&&i.syslist.forEach(o=>{t.findIndex(s=>s.id===o.id)<0&&t.push(o)})}),t}},actions:{init(e){this.id=e.id,this.name=e.name,this.doubletoken=e.doubletoken,this.roles=e.roles,this.bindid=e.bindid,D.set(w,{id:e.id,name:e.name,roles:e.roles})},getCurrentSystemRole(e){var n;const t=this.roles;if(t){for(const i of t)if((n=i.syslist)==null?void 0:n.find(r=>r.id===e))return i}},clear(){this.id=void 0,this.name=void 0,this.doubletoken=void 0,this.roles=void 0,this.bindid=void 0,D.remove(w),z(),G()}}}),A=fe(()=>(J("PiniaStore"),ge()));async function It(e,t){const n=e(qe);n.use(_e,t);const i=typeof A=="function"?await A({}):A;n.use(i);const o=de(typeof k=="function"?await k({store:i}):k);return i.use(({store:r})=>{r.router=o}),{app:n,store:i,router:o}}const Ct={config:{},lang:ve,plugins:{Dialog:ye,AppFullscreen:be,Loading:Se,Notify:Re}},Ot="/";async function Pt({app:e,router:t,store:n},i){let o=!1;const r=a=>{try{return t.resolve(a).href}catch{}return Object(a)===a?null:a},s=a=>{if(o=!0,typeof a=="string"&&/^https?:\/\//.test(a)){window.location.href=a;return}const l=r(a);l!==null&&(window.location.href=l,window.location.reload())},m=window.location.href.replace(window.location.origin,"");for(let a=0;o===!1&&a<i.length;a++)try{await i[a]({app:e,router:t,store:n,ssrContext:null,redirect:s,urlPath:m,publicPath:Ot})}catch(l){if(l&&l.url){s(l.url);return}return}o!==!0&&(e.use(t),e.mount("#q-app"))}It(pe,Ct).then(e=>{const[t,n]=Promise.allSettled!==void 0?["allSettled",i=>i.map(o=>{if(o.status!=="rejected")return o.value.default})]:["all",i=>i.map(o=>o.default)];return Promise[t]([d(()=>import("./initXframe-C_7zuLH-.js"),__vite__mapDeps([49,50,2,4,5,6,1,3,7,8]),import.meta.url),d(()=>import("./directives-BJi8rx4o.js"),__vite__mapDeps([51,4,5,2,6,1,3,7,20]),import.meta.url)]).then(i=>{const o=n(i).filter(r=>typeof r=="function");Pt(e,o)})});export{J as E,u as M,Nt as O,d as _,Ft as a,qt as b,ze as c,Fe as d,E as e,bt as f,vt as g,j as h,V as i,Ut as j,Be as k,Ve as l,jt as m,Ue as n,C as u,F as w};
