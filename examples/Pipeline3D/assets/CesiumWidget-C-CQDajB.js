import{j as l,d as u}from"./index-qJxAkqGK.js";import{S as m}from"./SystemsEvent-CcMw5DLH.js";import{N as t}from"./xframelib-exp-BgfRSxAM.js";import{d as c,u as f,M as d,H as p}from"./@vue-exp-CDtNmxB2.js";import"./vendor-1Ijim4br.js";import"./@hprose-exp-CbqXUr-3.js";import"./vue-router-exp-Btxc1z5e.js";import"./axios-exp-DvxIUWKU.js";const g=c({setup(){Cesium.Camera.DEFAULT_VIEW_FACTOR=0,Cesium.Camera.DEFAULT_VIEW_RECTANGLE=Cesium.Rectangle.fromDegrees(116.05,36.2548,116.493,36.4362);function s(){var i;const e=new Cesium.Viewer("cesiumContainer",{shouldAnimate:!0,animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!0,timeline:!1,navigationHelpButton:!1,vrButton:!1,scene3DOnly:!0,fullscreenElement:document.body,baseLayer:!1,requestRenderMode:!0,maximumRenderTimeChange:1/0,targetFrameRate:60,contextOptions:{webgl:{alpha:!0,depth:!1,stencil:!0,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!0,failIfMajorPerformanceCaveat:!1},requestWebgl1:!1,allowTextureFilterAnisotropic:!0}});return e.clock.currentTime=Cesium.JulianDate.fromDate(new Date),e.cesiumWidget.creditContainer.style.display="none",e.scene.postProcessStages.fxaa.enabled=!0,e.scene.globe.showGroundAtmosphere=!0,e.scene.moon.show=!1,e.scene.fog.enabled=!1,e.scene.sun.show=!1,e.scene.skyBox.show=!1,e.resolutionScale=(i=window.devicePixelRatio)!=null?i:1,e}function o(e){if(e.scene.postProcessStages.fxaa.enabled=!0,e.scene.fxaa=!0,e.cesiumWidget._supportsImageRenderingPixelated){let a=window.devicePixelRatio;for(;a>=2;)a/=2;e.resolutionScale=a}}function r(e="img_w",i="http://localhost:8000"){const a=new Cesium.WebMapTileServiceImageryProvider({url:`${i}/wmts?service=WMTS&request=GetTile&version=1.0.0&LAYER=${e}&tileMatrixSet=w&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&style=default&format=png`,layer:e,style:"default",format:"image/jpeg",tileMatrixSetID:"GoogleMapsCompatible"});t.CesiumViewer.imageryLayers.addImageryProvider(a)}const n=async e=>{try{const i=await Cesium.CesiumTerrainProvider.fromUrl(t.Config.LocalTerrain,{requestWaterMask:!0,requestVertexNormals:!0});e.terrainProvider=i}catch{}};f(async()=>{if(t.CesiumViewer=s(),t.CesiumViewer.camera.setView({destination:Cesium.Cartesian3.fromDegrees(116.2698,36.3475,203),orientation:{heading:Cesium.Math.toRadians(5.69),pitch:Cesium.Math.toRadians(-26.21),roll:Cesium.Math.toRadians(360)}}),l(m.CesiumWidgetLoaded,"CesiumWidgetLoaded"),t.CesiumViewer.scene.globe.depthTestAgainstTerrain=!1,o(t.CesiumViewer),t.Config.LocalTerrain)try{n(t.CesiumViewer)}catch{}if(t.Config.OfflineMap&&t.Config.OfflineMap.layers){const e=t.Config.OfflineMap.url;t.Config.OfflineMap.layers.forEach(i=>{e?r(i,e):r(i)})}})}}),C={id:"cesiumContainer",style:{width:"100vw",height:"100vh"}};function w(s,o,r,n,e,i){return p(),d("div",C)}const P=u(g,[["render",w],["__file","CesiumWidget.vue"]]);export{P as default};
