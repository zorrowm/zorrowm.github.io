import{d as C,n as R,o as E,p as x,b as f,q as h,s as B,t as P,u as d,i as A,v as F,r as _,x as H,y as w,A as z,B as I,e as v,w as $,F as j,D as q}from"./vendor.048272ea.js";import{_ as b}from"./index.17547efc.js";import"./expansion-moment.a491418d.js";import"./expansion-axios.5452c070.js";const M=C({name:"codeEditor",props:{value:{type:String,required:!0}},emits:["change"],components:{},setup(e,{attrs:s,slots:g,emit:c}){let t;function i(){return t?t.getValue():""}return R(()=>e.value,(a,r)=>{t&&a&&t.setValue(a)}),E(()=>{const a=document.querySelector("#editor"),r={tabSize:2,mode:"text/html",hint:!0,lineNumbers:!0,autoRefresh:!0};t=x.fromTextArea(a,r),t.on("change",l=>{const u=l.getValue();c("change",u)}),t.setValue(e.value)}),{getValue:i}}}),N={id:"editor"};function T(e,s,g,c,t,i){return f(),h("textarea",N)}var W=b(M,[["render",T]]);const L=C({name:"codeView",props:{},components:{codeEditor:W,Pane:B,Splitpanes:P},setup(e,{attrs:s,slots:g,emit:c}){const t=d(0);let i;const a=d("\u663E\u793A\u6E90\u7801"),r=d(),l=d(),u=q();function y(){const o=document.getElementById("mainpane");o.innerHTML="";const n=document.createElement("iframe");if(n.setAttribute("frameborder","0"),n.setAttribute("id","preview"),n.style.width="100%",n.style.height="100%",o.append(n),n){n.innerHTML="";const m=n.contentWindow||n.contentDocument;m&&i&&i.length>10&&(m?.document.open(),m?.document.write(i),m?.document.close())}}const V=A(()=>{let o=window.innerWidth*t.value/100;return o>90&&(o-=85),`left:${o}px`});function D(o){i=o}E(()=>{S()});function S(){r.value=void 0;const o=u.query.path;o&&F(o).then(n=>{r.value=n.data,i=n.data,y()})}const p=d(!1);function k(){p.value?(a.value="\u663E\u793A\u6E90\u7801",t.value=0):(t.value=50,a.value="\u9690\u85CF\u6E90\u7801"),p.value=!p.value}return{paneSize:t,runPreview:y,codeChanged:D,codeDataRef:r,loadHtml:S,htmlEditor:l,showSource:k,isShow:p,showInfoRef:a,getBtnPostion:V}}}),G={key:0,style:{position:"relative",width:"100%",height:"100%"}};function J(e,s,g,c,t,i){const a=_("codeEditor"),r=_("pane"),l=_("splitpanes");return f(),h(j,null,[e.isShow?(f(),h("div",{key:0,class:"topbtnDiv",style:H(e.getBtnPostion)},[w("input",{type:"button",value:"\u91CD\u7F6E",style:{"margin-right":"10px"},onClick:s[0]||(s[0]=(...u)=>e.loadHtml&&e.loadHtml(...u))}),w("input",{type:"button",value:"\u8FD0\u884C",onClick:s[1]||(s[1]=(...u)=>e.runPreview&&e.runPreview(...u))})],4)):z("",!0),w("div",{class:"topbtnDivRight",onClick:s[2]||(s[2]=(...u)=>e.showSource&&e.showSource(...u))},I(e.showInfoRef),1),v(l,{horizontal:!1,class:"default-theme"},{default:$(()=>[v(r,{size:e.paneSize,minSize:"0",maxSize:"100"},{default:$(()=>[e.isShow?(f(),h("div",G,[v(a,{ref:"htmlEditor",style:{width:"100%",height:"100%","margin-top":"10px"},value:e.codeDataRef,onChange:e.codeChanged},null,8,["value","onChange"])])):z("",!0)]),_:1},8,["size"]),v(r,{size:100-e.paneSize,id:"mainpane"},null,8,["size"])]),_:1})],64)}var X=b(L,[["render",J],["__scopeId","data-v-21b3f500"]]);export{X as default};
