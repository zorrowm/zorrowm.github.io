import{_ as e,s as n,a as t}from"./index.d6011a7c.js";import{A as a,d as s,r as l,f as o,a5 as i,P as u,b as r,L as c,a6 as d,a7 as m,j as p,w as f,c as g,t as h,M as y,a8 as v,a9 as _,aa as b,ab as k,ac as M,ad as x,G as w,ae as K,e as I,af as C,ag as S,ah as E,ai as R,aj as L,J as O,v as j,g as W,i as A,ak as P,al as V,am as D}from"./vendor.5af50741.js";import"./expansion-axios.5452c070.js";import"./expansion-moment.d5a89207.js";const H="ScrollPosition";const T=s({name:"",props:{menus:{type:Array}},components:{},setup(e,{attrs:n,slots:t,emit:s}){const r=l([]);return o((()=>{i((()=>e.menus),(()=>{e.menus&&(r.value.length=0,r.value.push(...e.menus))}),{deep:!0})})),{defaultMenus:r,selectItem:function(e){var n;switch(e.type){case"hprose":const t=`${a.Config.ServiceURL.HproseTestURL}?url=${e.path}`;window.open(t,"_blank");break;case"database":u.copyText(e.path),null==(n=a.Message)||n.info("已复制：数据库链接路径！");break;default:window.open(e.path,"_blank")}},getImagePath:function(e){let n=e.icon;return n?(0===n.length&&(n="/img/null.png"),`background-image:url(${n})`):"visibility: hidden;"},infoShowStyle:function(e){return e.icon?"":"visibility: visible;"}}}}),B={class:"secondgroup"},U={class:"imgcover"},$={class:"infoContent"};var N=e(T,[["render",function(e,n,t,a,s,l){const o=_,i=b,u=k,w=M,K=x;return r(!0),c(m,null,d(e.defaultMenus,((n,t)=>(r(),c(m,{key:"index"},[p(o,{class:"maingroup",orientation:"left"},{default:f((()=>[g(h(n.name),1)])),_:2},1024),y("ul",null,[(r(!0),c(m,null,d(n.children,((n,t)=>(r(),c("li",{key:n.key},[y("p",B,h(n.name+"("+n.children.length+")"),1),p(K,{id:n.key,grid:{gutter:5,xs:1,sm:2,md:3,lg:3,xl:4,xxl:4},"data-source":n.children,style:{margin:"10px 20px","border-bottom":"solid 1px rgba(74, 74, 74, 0.22)"}},{renderItem:f((({item:n})=>[p(w,{style:{"margin-left":"20px"},onClick:t=>e.selectItem(n)},{default:f((()=>[p(u,{hoverable:"",bordered:!0},{cover:f((()=>{var t;return[y("div",U,[y("div",{class:"imgobj",style:v(e.getImagePath(n)),alt:""},null,4),y("div",{class:"info",style:v(e.infoShowStyle(n))},[y("span",$,h(null!=(t=n.info)?t:n.path),1)],4)])]})),default:f((()=>[p(i,{title:n.name,description:""},null,8,["title"])])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1032,["id","data-source"])])))),128))])],64)))),128)}],["__scopeId","data-v-314e3362"]]);const G=s({props:{menus:{type:Array}},setup(e){const n=w({rootSubmenuKeys:new Array,openKeys:[0]}),t=l([]),s=l([]);return o((()=>{i((()=>e.menus),(()=>{if(e.menus){s.value.length=0,s.value.push(...e.menus);e.menus.forEach((e=>{n.rootSubmenuKeys.push(e.key)}))}}),{deep:!0})})),{...K(n),onOpenChange:e=>{const t=e.find((e=>-1===n.openKeys.indexOf(e)));-1===n.rootSubmenuKeys.indexOf(t)?n.openKeys=e:n.openKeys=t?[t]:[]},clickMenuItem:({key:e})=>{var n,t;n=H,t=e,a.EventBus.emit(n,t)},defaultMenus:s,selectedMenuKeys:t,getMenuSum:function(e){var n;let t=0;return null==(n=e.children)||n.forEach((e=>{e.children&&(t+=e.children.length)})),t},getIcon:function(e){return"iconfont "+e.icon}}}}),J={key:0,class:"anticon"},q={class:"iconClass"};var z=e(s({name:"demoListView",props:{},components:{MainMenu:e(G,[["render",function(e,n,t,a,s,l){const o=E,i=R,u=L;return r(),I(u,{mode:"inline",onClick:e.clickMenuItem,selectedKeys:e.selectedMenuKeys,"onUpdate:selectedKeys":n[0]||(n[0]=n=>e.selectedMenuKeys=n),openKeys:e.openKeys,onOpenChange:e.onOpenChange,class:"menu"},{default:f((()=>[(r(!0),c(m,null,d(e.defaultMenus,((n,t)=>(r(),c(m,null,[n.children?(r(),I(i,{key:t},{title:f((()=>[n.icon?(r(),c("span",J,[y("i",{class:C(e.getIcon(n))},null,2)])):S("",!0),y("span",q,h(n.name+"("+e.getMenuSum(n)+")"),1)])),default:f((()=>[(r(!0),c(m,null,d(n.children,((e,n)=>(r(),I(o,{key:e.key},{default:f((()=>{var n;return[y("span",null,h(e.name+"("+(null==(n=e.children)?void 0:n.length)+")"),1)]})),_:2},1024)))),128))])),_:2},1024)):S("",!0)],64)))),256))])),_:1},8,["onClick","selectedKeys","openKeys","onOpenChange"])}],["__scopeId","data-v-1ea5f6f0"]]),DemoNode:N},setup(e,{attrs:s,slots:u,emit:r}){var c;const d=w({isRouterAlive:!0}),m=K(d),p=O(),f=j((()=>n.appState.menuSetting.menuWidth+"px")),g=l([]);o((async()=>{var e,n;e=H,n=e=>{var n;null==(n=document.getElementById(e))||n.scrollIntoView({behavior:"smooth",block:"end",inline:"center"})},a.EventBus.on(e,n);const s=p.params.type,l=a.Config.menus[s];if(l){y((await t((()=>import(l.config)),[])).default)}})),null==(c=a.LayoutManager)||c.changeWidgetVisible("bottomMenuWidget",!1),W((()=>{var e;null==(e=a.LayoutManager)||e.changeWidgetVisible("bottomMenuWidget",!0)}));const h=l({height:window.innerHeight-60+"px"});function y(e){g.value.length=0,g.value.push(...e)}return i((()=>p.params.type),(async e=>{const n=e,s=a.Config.menus[n];if(s){y((await t((()=>import(s.config)),[])).default)}})),{...m,asiderWidth:f,contentHeight:h,menusRef:g}}}),[["render",function(e,n,t,a,s,l){const o=A("MainMenu"),i=P,u=A("DemoNode"),c=V,d=D;return r(),I(d,{class:"layout"},{default:f((()=>[p(i,{trigger:null,collapsible:"",class:"layout-sider",ref:"sideRef",width:e.asiderWidth},{default:f((()=>[p(o,{menus:e.menusRef},null,8,["menus"])])),_:1},8,["width"]),p(d,{style:{width:"100%",padding:"0px"}},{default:f((()=>[p(c,{class:"layout-content",style:v(e.contentHeight)},{default:f((()=>[p(u,{menus:e.menusRef},null,8,["menus"])])),_:1},8,["style"])])),_:1})])),_:1})}]]);export{z as default};
