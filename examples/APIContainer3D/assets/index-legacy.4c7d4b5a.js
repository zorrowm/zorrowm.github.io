!function(){function e(e,n,t,o,r,i,l){try{var s=e[i](l),a=s.value}catch(u){return void t(u)}s.done?n(a):Promise.resolve(a).then(o,r)}function n(n){return function(){var t=this,o=arguments;return new Promise((function(r,i){var l=n.apply(t,o);function s(n){e(l,r,i,s,a,"next",n)}function a(n){e(l,r,i,s,a,"throw",n)}s(void 0)}))}}System.register(["./vendor-legacy.61b454ae.js","./logo-legacy.9119228e.js","./index-legacy.97525b29.js","./expansion-moment-legacy.137cccc6.js","./expansion-axios-legacy.08657a3d.js"],(function(e){"use strict";var t,o,r,i,l,s,a,u,c,d,g,p,f,v,m,y,h,w,x,b,k,S;return{setters:[function(e){t=e.d,o=e.G,r=e.r,i=e.A,l=e.I,s=e.J,a=e.R,u=e.V,c=e.f,d=e.Y,g=e.q,p=e.n,f=e.b,v=e.L,m=e.M,y=e.t,h=e.N,w=e.O,x=e.P,b=e.X},function(e){k=e._},function(e){S=e._},function(){},function(){}],execute:function(){var I=t({setup:function(){var e,t,f,v=i.t,m=o({username:"",password:""}),y=r(),h=r(),w=r(null===(e=i.Config.UI)||void 0===e?void 0:e.SiteTitle),k=l(),S=s(),I=decodeURIComponent((null===(t=S.query)||void 0===t?void 0:t.redirect)||"/"),T=a();if(T)return u(T),void(k&&k.replace(I).then((function(e){"login"==S.name&&k.replace("/")})));var M=function(){var e=n(regeneratorRuntime.mark((function e(){var n,t,o,r,l,s,u,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==m.username.trim()&&""!=m.password.trim()){e.next=2;break}return e.abrupt("return",null===(n=i.Message)||void 0===n?void 0:n.warn(v("sys.login.loginEmtyWarnInfo")));case 2:return t={username:m.username.trim(),pwd:x.MD5(m.password)},e.next=5,b(t);case 5:if(o=e.sent){e.next=9;break}return null===(r=i.Message)||void 0===r||r.warn(v("sys.login.loginFailTitle")),e.abrupt("return");case 9:o.isSuccess?(u=decodeURIComponent((null===(l=S.query)||void 0===l?void 0:l.redirect)||"/"),k&&(u.startsWith("http://")||u.startsWith("https://")?(c=a(),window.open(u+"#/?tk="+c.token,"_self")):k.replace(u).then((function(e){"login"==S.name&&k.replace("/")}))),null===(s=i.Message)||void 0===s||s.msg(v("sys.login.loginSuccessTitle"))):null===(d=i.Message)||void 0===d||d.warn(o.ResultDescription||v("sys.login.loginFailTitle"));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c(n(regeneratorRuntime.mark((function e(){var n,t,o,r,l,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I&&(f=null===(n=S.query)||void 0===n||null===(t=n.tk)||void 0===t?void 0:t.toString()),!f){e.next=8;break}return e.next=4,d(f);case 4:o=e.sent,(r=null==o?void 0:o.data)&&(r.isSuccess?(g(r.resultValue),p(r.resultValue.doubleToken),null===(l=i.Message)||void 0===l||l.msg(v("sys.login.loginSuccessTitle")),(s=a())&&((null===(u=I)||void 0===u?void 0:u.indexOf("?"))>0?I+="&tk="+s.token:I+="?tk="+s.token,k.replace(I).then((function(e){"login"==S.name&&k.replace("/")})))):null===(c=i.Message)||void 0===c||c.warn(v("sys.login.loginTokenFailInfo")));case 8:case"end":return e.stop()}}),e)})))),{formState:m,systemTitle:w,handleSubmit:M,t:v,onblur:function(){y.value&&(y.value.placeholder=v("sys.login.accountPlaceholder")),h.value&&(h.value.placeholder=v("sys.login.passwordPlaceholder"))},nameInput:y,pwdInput:h}}}),T={class:"container"},M={class:"login-logo"},R=m("img",{src:k,alt:""},null,-1),P={class:"login-title"},j={class:"login"},U={class:"login-top"},V={class:"login-center clearfix"},q=m("div",{class:"login-center-img"},[m("img",{src:"./img/login/name.png"})],-1),C={class:"login-center-input"},F=["placeholder"],B={class:"login-center-input-text"},W={class:"login-center clearfix"},_=m("div",{class:"login-center-img"},[m("img",{src:"./img/login/password.png"})],-1),D={class:"login-center-input"},N=["placeholder"],O={class:"login-center-input-text"};e("default",S(I,[["render",function(e,n,t,o,r,i){return f(),v("div",T,[m("div",M,[R,m("span",P,y(e.systemTitle),1)]),m("div",j,[m("div",U,y(e.t("sys.login.signInFormTitle")),1),m("div",V,[q,m("div",C,[h(m("input",{ref:"nameInput",type:"text",placeholder:e.t("sys.login.accountPlaceholder"),onfocus:"this.placeholder=''",onBlur:n[0]||(n[0]=function(n){return e.onblur()}),"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.formState.username=n})},null,40,F),[[w,e.formState.username]]),m("div",B,y(e.t("sys.login.userName")),1)])]),m("div",W,[_,m("div",D,[h(m("input",{ref:"pwdInput",type:"password",placeholder:e.t("sys.login.passwordPlaceholder"),onfocus:"this.placeholder=''",onBlur:n[2]||(n[2]=function(n){return e.onblur()}),"onUpdate:modelValue":n[3]||(n[3]=function(n){return e.formState.password=n})},null,40,N),[[w,e.formState.password]]),m("div",O,y(e.t("sys.login.password")),1)])]),m("div",{class:"login-button",onClick:n[4]||(n[4]=function(){return e.handleSubmit&&e.handleSubmit.apply(e,arguments)})},y(e.t("sys.login.loginButton")),1)])])}]]))}}}))}();
