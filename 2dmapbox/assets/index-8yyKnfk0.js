const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-CK4sCHwB.js","./xframelib-exp-CBRV2soX.js","./@vue-exp-Cbz_CXqa.js","./axios-exp-B_zfNCMU.js","./vendor-qEPl7M71.js","./vendor-BFflbAh3.css","./@iconify/vue-exp-BeT9ZUzB.js","./xframelib-exp-DEz_MDSr.css","./monaco-editor-exp-B01XOe8A.js","./monaco-editor-exp-B7uS4J0T.css","./vue-router-exp-U1sBIDGE.js","./index-DsV20gZR.css","./index-DkT82Zt5.js","./MapEvent-oszfKv5w.js","./index-Bqn20HaZ.css","./index-CJeh-2lF.js","./layoutTool-Ym0BJ3T4.js","./index-CbyZ1ZQn.css","./help-BLhexcCX.js","./md-editor-v3-exp-DsSSEtJ3.js","./md-editor-v3-exp-CJ-e5H23.css","./help-r80FPUh8.css","./productLayout-C93gt-Sp.js","./productLayout-T1-xJguo.css","./404-PtLwdD2E.js","./404-BgEe9KI_.css","./index-D4ylh-iW.js","./index-DdNEvghq.js","./index-DWWd46vR.js","./index-CEa3BXF0.js","./urlUtils-BY_cFLPx.js","./index-BDH1Pu0Q.css","./OneLoginPortal-DHYDzzQd.js","./OneLoginPortal-DYd93NbP.css","./HeaderTitleWidget-Dg3Sei2J.js","./HeaderTitleWidget-B6IWnUsh.css","./MapViewerWidget-Ckfd4tFC.js","./MapTool-lkJYUbBB.js","./MapViewerWidget-DGdOCHOF.css","./MapToolMenuWidget-Cgu4M6Ru.js","./WidgetsEvent-e0lOKT5_.js","./MapToolMenuWidget-CWaWeScR.css","./MapControlWidget-DQRH3FRl.js","./MapDefaultMenuWidget-BLAegB6_.js","./MapStatusWidget-0_QyX3iQ.js","./MapStatusWidget-BsTAsMJA.css","./MapOverviewWidget-DU--4URi.js","./MapOverviewWidget-B4xfBvBM.css","./CompassWidget-BFU125aJ.js","./CompassWidget-De38GmFI.css","./LocationWidget-CMT_g8KC.js","./LocationWidget-kMKq6Z2f.css","./MapDrawWidget-B95yBvJ9.js","./MapDrawTool-Cb72cPis.js","./MapDrawWidget-DqezjyUk.css","./ExampleSceneWidget-AbtXNw-C.js","./ExampleSceneWidget-BQ2k2bII.css","./BasemapLayerWidget-CKJTrcGk.js","./BasemapLayerWidget-DlPjPP6v.css","./UploadDataWidget-DRo8kF-8.js","./UploadDataWidget-CkRE-93l.css","./MapGeneralWidget-iWBmcrTR.js","./MapMeasureTool-OMVPGK-b.js","./MapGeneralWidget-D9zpRR26.css","./LogoTitleWidget-C0BVsVKg.js","./LogoTitleWidget-B9wsGl6L.css","./TopMenuWidget-gqoCY5YD.js","./FullScreen-iS1AEBEp.js","./FullScreen-tn0RQdqM.css","./TopMenuWidget-JbGb3sAS.css","./FrontLayoutContainerWidget-DeaRWXsH.js","./FrontLayoutContainerWidget-eamm3R7v.css","./ModalContainerWidget-CQkfhcWr.js","./MapDrawWidget-CXE-21iE.js","./MapDrawWidget-D7-Li8Ao.css","./BaseLayerManageWidget-DVryDi_9.js","./BaseLayerManageWidget-C6qauaUV.css","./LayerManageWidget-CKA8gLfM.js","./LayerManageWidget-DGTq9rhw.css","./MapPrintWidget-CxY8u2zw.js","./MapPrintWidget-CfF_g-RB.css","./MapImageWidget-DXcfUcd6.js","./VectorFeatureWidget-C90mYs3h.js","./MapCompareWidget-8G1WUA6h.js","./MapCompareWidget-UHqmyjly.css","./UploadVectorWidget-CJvfIW6T.js","./UploadVectorWidget-YWwMejF3.css","./MapLinkShareWidget-BoYJSqoR.js","./MapLinkShareWidget-WOXWBi-W.css","./SharePageWidget-BkjKz62U.js","./MapMaskWidget-D_04nRD3.js","./MapMeasureWidget-Bjp3jVCb.js","./MapMeasureWidget-BqjqyepZ.css","./initXframe-ubEDrkhC.js","./directives-CqdGqcAv.js"])))=>i.map(i=>d[i]);
import{_ as a}from"./monaco-editor-exp-B01XOe8A.js";import{d as le,aa as ue,o as de,C as pe,L as me,S as fe,V as ge,n as _e,m as he,f as ye}from"./@vue-exp-Cbz_CXqa.js";import{e as W,f as ve,t as v,g as Le,h as Ee,i as Re,Q as Ie,l as De,D as be,P as We,j as we,N as Se}from"./vendor-qEPl7M71.js";import{B as l,Z as Ae,s as M,Q as Oe,h as K,l as ke,w as Q,D as Pe,j as Ce,L as Ve,r as Te,M as Me,A as Z,a as J,b as Be,c as s,d as xe,$ as $e}from"./xframelib-exp-CBRV2soX.js";import{i as Fe,c as He,a as Ne}from"./vue-router-exp-U1sBIDGE.js";import"./axios-exp-B_zfNCMU.js";import"./@iconify/vue-exp-BeT9ZUzB.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(i){if(i.ep)return;i.ep=!0;const n=r(i);fetch(i.href,n)}})();const Ue={SatusMessage:"statusmessage",LoadingMessage:"loadingMessage"};function je(e,t){l.EventBus.on(e,t)}function qe(e,t){l.EventBus.off(e,t)}function Xt(e,t){l.EventBus.emit(e,t)}function Ye(e){l.EventBus.emit(Ue.SatusMessage,e)}let B=!1;function X(e="end"){if(e==="end")setTimeout(()=>{document.getElementById("apploading")?.remove()},300),B=!0;else if(e)if(B){const t=`加载Widget：${e}……`;Ye(t)}else{const t=document.getElementById("app-loading-info");t&&(t.innerHTML=`正在加载：${e}……`)}}function x(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.head.appendChild(t)}const ze=le({name:"App",setup(){function e(t){if(!t.isExceptionInfo){const r=`${t.message}
$${t.result}`;l.Message.warn(r)}l.Logger().warn(t,"请求错误")}ue(()=>{l.Loading("App.vue"),l.Config.Enables&&(l.Config.Enables.TurfAsync&&x("./js/turf-async/index.js"),l.Config.Enables.CesiumOfflineCache&&x("./js/CesiumOfflineCache.min.js"))}),de(()=>{Ae(),je(M.AxiosRequestErrorEvent,e)}),pe(()=>{Oe(),qe(M.AxiosRequestErrorEvent,e)})}}),Ge=(e,t)=>{const r=e.__vccOpts||e;for(const[o,i]of t)r[o]=i;return r};function Ke(e,t,r,o,i,n){const c=ge("router-view");return me(),fe(c)}const L=Ge(ze,[["render",Ke],["__file","App.vue"]]);var ee=(e=>(e.SIDEBAR="sidebar",e.MIX_SIDEBAR="mix-sidebar",e.MIX="mix",e.TOP_MENU="top-menu",e))(ee||{}),te=(e=>(e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.VERTICAL_RIGHT="vertical-right",e.INLINE="inline",e))(te||{}),y=(e=>(e[e.Widget=0]="Widget",e[e.Route=1]="Route",e[e.URL=2]="URL",e[e.Action=3]="Action",e))(y||{});const Qe={leftDrawerOpen:!0,reloadFlag:!0,showTabMenu:!0,TabMenuHeight:30,showBreadCrumbs:!0,leftCollapsed:!1,overlayMenu:!1,layoutContentHeight:700,layoutContentWidth:600,showSettingButton:!0,openKeepAlive:!0,useErrorHandle:!1,showLogo:!0,showFooter:!0,footerHeight:20,headerSetting:{fixed:!0,show:!0,height:64,centerTitle:!0,showFullScreen:!0,showCollapseIcon:!0,showNotice:!0},menuSetting:{collapsed:!1,minWidth:48,menuWidth:250,accordion:!0,mode:te.HORIZONTAL,type:ee.SIDEBAR}},R="PROJ_SETTINGS_KEY",I=new Q("",sessionStorage),$={...Qe},Ze=W("app",{state:()=>{I?.remove(R);const t=I.get(R)||$,r=t.headerSetting?.height??64,i=t.showFooter?t.footerHeight:0;t.layoutContentHeight=document.body.clientHeight-i-r,t.leftCollapsed=t.menuSetting?.collapsed;let n=0;return t.leftCollapsed?n=t.menuSetting?.minWidth:n=t.menuSetting?.menuWidth??250,t.layoutContentWidth=document.body.clientWidth-n,t},getters:{layoutHeaderHeight(e){return e.headerSetting.height??84},layoutFooterHeight(e){return e.showFooter?e.footerHeight:0},layoutSiderWidth(e){return!e.menuSetting||!e.menuSetting.show?0:e.menuSetting.collapsed?e.menuSetting.minWidth:e.menuSetting.menuWidth??250}},actions:{async reloadPage(e=0){this.reloadFlag=!1,await _e(),e?setTimeout(()=>{this.reloadFlag=!0},e):this.reloadFlag=!0},getCacheStore(){let e=I.get(R);return e||(e=$),e},saveCacheStore(){I.set(R,this.$state)},clear(){I?.remove(R)},setProjectConfig(e){e&&(ke(this.$state,e),this.saveCacheStore())},setMenuSetting(e){this.setProjectConfig({menuSetting:e})},toggleCollapse(){this.leftCollapsed=!this.leftCollapsed,this.menuSetting.collapsed=this.leftCollapsed,this.layoutContentWidth=document.body.clientWidth-this.layoutSiderWidth,this.saveCacheStore();const e=new Event("resize");window.dispatchEvent(e)},resizeHandler(){this.layoutContentWidth=document.body.clientWidth-this.layoutSiderWidth,this.layoutContentHeight=document.body.clientHeight-this.layoutFooterHeight-this.layoutHeaderHeight,this.saveCacheStore()}}});function Je(){Ze().resizeHandler()}K.windowResizeHandler(Je);const Xe=W("asyncRoute",{state:()=>({menus:[],keepAliveComponents:[]}),getters:{},actions:{setRoutes(e){this.menus=e}}});function et(e){for(const t in e)return e[t]}const tt=W("breadCrumbs",{state:()=>({breadcrumbs:[]}),getters:{getBreadCrumbs(e){return e.breadcrumbs}},actions:{setBreadcurmbs(e,t){const r=[];for(let i=0;i<e.length;i++){const n={title:e[i].meta.title,name:e[i].name,fullPath:e[i].path,icon:e[i].meta.icon,keepAlive:e[i].meta.keepAlive};r.push(n)}const o=r.length-1;Object.keys(t).length&&(r[o].title+="："+et(t)),this.breadcrumbs=r}}}),ot="/map",rt={path:ot,name:"MapLayout",component:()=>a(()=>import("./index-CK4sCHwB.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url),meta:{title:"",layoutID:"mapLayout",keepAlive:!0,isadmin:!0}},it="product_portal_system",nt="0.0.1",at="研究院产品门户网站",st="product_portal_system",ct="zorrowm <zorrowm@126.com>",lt="module",ut={lint:"eslint --fix --ext .ts,.vue ./",format:'prettier --write "**/*.{ts,vue,scss,html,md,json}" --ignore-path .gitignore',dev:"cross-env DEBUG=vite:deps VITE_CJS_IGNORE_WARNING=true  quasar dev",build:"quasar build","build:pwa":"quasar build -m pwa",clean:"quasar clean && rimraf components.d.ts package-lock.json pnpm-lock.yaml && rimraf node_modules/.q-cache"},dt={"@capacitor/preferences":"^6.0.2","@mapbox/mapbox-gl-draw":"^1.4.3","@mapbox/mapbox-gl-geocoder":"^5.0.3","@microsoft/signalr":"^8.0.7","@quasar/extras":"^1.16.12","@tato30/vue-pdf":"^1.11.1","@tmcw/togeojson":"^5.8.1","@vueuse/core":"^11.1.0","cesium-navigation-es6":"^3.0.9",comlink:"^4.4.1","dat.gui":"^0.7.9",dexie:"^4.0.8",echarts:"^5.5.1","floating-vue":"5.2.2",gsap:"^3.12.5",iweather_icons:"^1.1.1","lodash-es":"^4.17.21","lottie-web":"^5.12.2","mapbox-gl":"^3.7.0","mapbox-gl-compare":"^0.4.1","mapbox-gl-draw-rectangle-mode":"^1.0.4","md-editor-v3":"^4.21.0","monaco-editor":"^0.52.0",nprogress:"1.0.0-1",pinia:"^2.2.4",proj4:"^2.15.0",qrcode:"^1.5.4",quasar:"^2.17.1",three:"^0.169.0",viewerjs:"^1.11.6",vue:"^3.5.11","vue-router":"^4.4.5","vue-types":"^5.1.3",xframelib:"^0.8.1"},pt={"@iconify/vue":"^4.1.2","@quasar/app-vite":"2.0.0-beta.24","@rollup/plugin-alias":"^5.1.1","@types/node":"^22.7.5","@types/nprogress":"^0.2.3","@typescript-eslint/eslint-plugin":"^8.8.1","@typescript-eslint/parser":"^8.8.1","@vue-macros/volar":"^0.30.3","@vue/compiler-sfc":"^3.5.11",autoprefixer:"^10.4.20","cross-env":"^7.0.3",dotenv:"^16.4.5",eslint:"^9.12.0","eslint-config-prettier":"^9.1.0","eslint-plugin-simple-import-sort":"^12.1.1","eslint-plugin-vue":"^9.28.0",prettier:"^3.3.3",prismjs:"^1.29.0",rimraf:"^6.0.1","rollup-plugin-copy":"^3.5.0","rollup-plugin-visualizer":"^5.12.0",typescript:"^5.6.3","unplugin-vue-components":"^0.27.4","unplugin-vue-define-options":"^1.5.1","vite-plugin-checker":"^0.8.0","vite-plugin-fs":"^1.1.0","vite-plugin-vue-inspector":"^5.2.0","vite-plugin-webworker-service":"^1.1.0","vite-tsconfig-paths":"^5.0.1"},mt={node:"^24 || ^22 || ^20 || ^18",npm:">= 6.13.4",yarn:">= 1.21.1"},ft={name:it,version:nt,description:at,productName:st,author:ct,type:lt,private:!0,scripts:ut,dependencies:dt,devDependencies:pt,engines:mt},{name:gt,version:_t}=ft,oe={pkg:{name:gt,version:_t},lastBuildTime:ve.formatDate("YYYY-MM-DD HH:mm:ss")};function ht(){const{pkg:e}=oe,t=`${e.name}_${e.version}`;return K.MD5(t)}function eo(){const{pkg:e}=oe;return e}function re(e,t="/"){if(e)return e.startsWith("/")?e.startsWith(t)?e:`${t}${e}`:t==="/"?`${t}${e}`:`${t}/${e}`}function F(e,t){e.getRoutes().find(i=>i.path==="/")||e.addRoute({name:"/",path:"/",redirect:t.path})}function yt(e){const t=[];let r=[];return Object.keys(e).forEach(o=>{const i=e[o];i&&r.push(...i)}),r=r.sort((o,i)=>{let n=0,c=0;return o.meta&&(o.meta.index!=null?n=Number(o.meta.index):n=100),i.meta&&(i.meta.index!=null?c=Number(i.meta.index):c=100),n-c}),t.push(...r),r.length=0,t}function ie(e,t=!1){const r=[];let o=[];return Object.keys(e).forEach(i=>{const n=e[i];n&&o.push(...n)}),t&&(o=o.sort((i,n)=>{let c=0,u=0;return i.index!=null&&(c=Number(i.index)),n.index!=null&&(u=Number(n.index)),c-u})),r.push(...o),o.length=0,r}const vt=[{path:"apiexamples",name:"apiexamples",component:()=>a(()=>import("./index-DkT82Zt5.js"),__vite__mapDeps([12,8,9,4,2,5,1,3,6,7,10,13,14]),import.meta.url),meta:{index:4,title:"查询-api示例",hidden:!0,isSystem:!0}}],Lt=[{path:"index",name:"index",component:()=>a(()=>import("./index-CJeh-2lF.js"),__vite__mapDeps([15,8,9,2,1,3,4,5,6,7,16,10,17]),import.meta.url),meta:{index:1,title:"查询-首页",hidden:!0,isSystem:!0}},{path:"mdHelp",name:"mdHelp",component:()=>a(()=>import("./help-BLhexcCX.js"),__vite__mapDeps([18,4,2,5,10,19,20,1,3,6,7,8,9,21]),import.meta.url),meta:{index:5,title:"开发文档",hidden:!0,isSystem:!0}}],Et=Object.assign({"./apiexample.ts":vt,"./home.ts":Lt}),H=yt(Et),N="/",Rt={path:N,name:"Product",component:()=>a(()=>import("./productLayout-C93gt-Sp.js"),__vite__mapDeps([22,4,2,5,1,3,6,7,8,9,10,23]),import.meta.url),redirect:re(H[0]?.path,N),meta:{title:"",hidden:!0,isSystem:!0,keepAlive:!0},children:H},U="error",It={path:"/:pathMatch(.*)*",name:"NotFound",meta:{title:"不存在",hidden:!0,isSystem:!0},component:()=>a(()=>import("./404-PtLwdD2E.js"),__vite__mapDeps([24,4,2,5,1,3,6,7,8,9,10,25]),import.meta.url)},Dt={path:"/error",name:U,redirect:"/error/404",meta:{title:"错误页",hidden:!0,isSystem:!0},children:[{path:"404",name:`${U}-404`,meta:{title:"404",hidden:!0,isSystem:!0},component:()=>a(()=>import("./404-PtLwdD2E.js"),__vite__mapDeps([24,4,2,5,1,3,6,7,8,9,10,25]),import.meta.url)}]},bt=[It,Dt],Wt={path:"/help/:name",name:"help",meta:{title:"相关内部系统功能",isSystem:!0},component:()=>a(()=>import("./index-D4ylh-iW.js"),__vite__mapDeps([26,10,2,1,3,4,5,6,7,8,9]),import.meta.url)},wt=[Wt],St=[{path:"/redirect/:path*",name:"Redirect",component:{},meta:{title:"重定向",icon:"SettingOutlined",hidden:!0,isSystem:!0},children:[{path:"",name:"Redirect2",component:()=>a(()=>import("./index-DdNEvghq.js"),__vite__mapDeps([27,10,2,8,9,4,5,1,3,6,7]),import.meta.url),meta:{title:"重定向",hidden:!0,keepAlive:!1}}]}],At=[{path:"/login",name:"login",meta:{title:"系统登录",isSystem:!0},component:()=>a(()=>import("./index-DWWd46vR.js"),__vite__mapDeps([28,4,2,5,1,3,6,7,10,8,9]),import.meta.url)},{path:"/onelogin",name:"onelogin",meta:{title:"统一登录",isSystem:!0},component:()=>a(()=>import("./index-CEa3BXF0.js"),__vite__mapDeps([29,4,2,5,1,3,6,7,30,10,8,9,31]),import.meta.url)},{path:"/onelogin-portal",name:"onelogin-portal",meta:{title:"统一验证导航页",isSystem:!0},component:()=>a(()=>import("./OneLoginPortal-DHYDzzQd.js"),__vite__mapDeps([32,4,2,5,10,1,3,6,7,8,9,33]),import.meta.url)}],ne=[],j=Object.assign({"./error.ts":bt,"./help.ts":wt,"./redirect.ts":St,"./shared.ts":At});Object.keys(j).forEach(e=>{const t=j[e];ne.push(...t)});async function Ot(e){const t=await Pe(e).catch(r=>{l.Message.warn(`token验证失败:${r.message}!`)});return t?(T().init(t.data),Ce(t.data.doubletoken),!0):!1}v.configure({showSpinner:!1});const w="/login",kt="/";function Pt(e){const t=l.Config.UI?.SiteTitle;return e?`${e} - ${t}`:`${t}`}function q(e){return e==="NotFound"?!1:ae(D,e)}function ae(e,t){let r=!1;const o=e.length;for(let i=0;i<o;i++){const n=e[i];if(r=n.name==t,r)break;if(n.children&&(r=ae(n.children,t),r))break}return r}function se(e,t,r=""){let o=!1;const i=e.length;for(let n=0;n<i;n++){const c=e[n];let u=c.path;if(u.startsWith("/")||(r.endsWith("/")?u=`${r}${u}`:u=`${r}/${u}`),o=u==t,o)break;if(t.startsWith(u)&&c.children&&(o=se(c.children,t,u),o))break}return o}function Ct(e){let t="";const r=tt();e.beforeEach((o,i,n)=>{v.start();const c=o.name;t=o.path;const u=T();if(c==="NotFound"&&!se(b,t)){n({path:"/error",query:{url:o.path}});return}if(Ve()){const d=Te();if(!l.User&&u.id&&(Me(),c==="NotFound"&&d&&d.routes&&d.routes.length>0)){const f=z();if(f){l.User=u.id;let g;f.forEach(_=>{g||(g=_),e.addRoute(_)}),g&&F(e,g),o.name=void 0,n(o)}return}if(c==="login")n({path:kt}),v.done();else{const f=e.hasRoute(c);(q(c)||f)&&(!d&&c==="NotFound"?(Z(),J(),n({path:w,query:{redirect:o.fullPath},replace:!0})):(n(),r.setBreadcurmbs(o.matched,o.query)),v.done())}}else{const d=o.query?.tk?.toString();if(d)Ot(d).then(f=>{if(f){const g=ht(),_=u.DefaultMaxRoleLevel===0;Be(g,_).then(()=>{const E=z();if(E){let m;if(E.forEach(h=>{m||(m=h),e.addRoute(h)}),m&&F(e,m),o.query.redirect){const h=o.query.redirect;h.startsWith("http")?window.open(h,"_self"):n({path:h})}else n({path:o.path});return}}).catch(()=>{l.Message.warn("获取用户功能权限失败！"),n()})}else{l.Logger().debug("验证外部的tk参数失败！");const g=l.Config.ServiceURL.UILoginURL;if(g){const _=document.URL;window.open(g+"?redirect="+_,"_self")}else{let _=o.fullPath;o.query.redirect&&(_=o.query.redirect),n({path:w,query:{redirect:_},replace:!0})}v.done()}});else if(q(c))n(),r.setBreadcurmbs(o.matched,o.query);else{const f=l.Config.ServiceURL.UILoginURL;if(f){const g=document.URL;window.open(f+"?redirect="+g,"_self")}else n({path:w,query:{redirect:o.fullPath},replace:!0});v.done()}}}),e.afterEach((o,i,n)=>{const c=Xe();document.title=Pt(o.meta.title),Fe(n)&&l.Logger().debug("failed navigation",n);const u=c.keepAliveComponents,p=o.matched.find(d=>d.name==o.name)?.components?.default.name;if(p&&!u?.includes(p)&&o.meta?.keepAlive)u.push(p);else if(!o.meta?.keepAlive||o.name=="Redirect"){const d=c.keepAliveComponents.findIndex(f=>f==p);d!=-1&&u?.splice(d,1)}v.done()}),e.onError(o=>{l.Message.err("加载视图错误:"+o.message),l.Logger().debug(o,"路由错误"),e.push("/error/404")})}X("Router路由");const b=[],Y=[rt,Rt,...ne],D=l.Config.UI.IsNoLogin?[...b,...Y]:Y,S=Le(function(){const e=Ne;let t=!1;D.forEach(i=>{i.path==="/"&&(t=!0)});const r=D[0];r.path!="/"&&!t&&D.unshift({path:"/",redirect:r.path});const o=He({scrollBehavior:()=>({left:0,top:0}),routes:D,history:e("/./")});return l.Config.UI?.IsNoLogin||Ct(o),o}),Vt=[{name:"底图",index:1,icon:"gis:globe-gear",path:"BasemapLayerWidget",type:y.Widget,unload:!0},{name:"示例",index:2,icon:"gis:globe-gear",path:"ExampleSceneWidget",type:y.Widget,unload:!0},{name:"地图工具",index:3,icon:"gis:globe-gear",path:"linkMenuWidget",type:y.Widget,unload:!0,children:[{name:"标绘工具",path:"MapDrawWidget",icon:"material-symbols:draw-outline",type:y.Widget,unload:!0},{name:"位置定位",path:"LocationWidget",icon:"material-symbols:draw-outline",type:y.Widget,unload:!0},{name:"鹰眼图",path:"MapOverviewWidget",icon:"material-symbols:draw-outline",type:y.Widget,unload:!0},{name:"方向罗盘",path:"CompassWidget",icon:"material-symbols:draw-outline",type:y.Widget,unload:!0},{name:"数据上传",path:"UploadDataWidget",icon:"ph:file-video-thin",type:y.Widget,unload:!0},{name:"图层蒙版",path:"MapLayerMask",icon:"ph:file-video-thin",type:y.Action,unload:!0},{name:"打印",path:"MapPrintData",icon:"ph:file-video-thin",type:y.Action,unload:!0}]}],Tt=Object.assign({"./maptoolbar.ts":Vt}),to=ie(Tt,!0),Mt=[{layoutID:"mapsceneLayout",id:"HeaderTitleWidget",label:"头部标签",container:s.top,component:()=>a(()=>import("./HeaderTitleWidget-Dg3Sei2J.js"),__vite__mapDeps([34,4,2,5,1,3,6,7,8,9,10,35]),import.meta.url),preload:!0},{layoutID:"mapsceneLayout",id:"MapViewerWidget",label:"地图组件",container:s.centerBack,component:()=>a(()=>import("./MapViewerWidget-Ckfd4tFC.js"),__vite__mapDeps([36,4,2,5,13,1,3,6,7,37,8,9,10,38]),import.meta.url),preload:!0},{layoutID:"mapsceneLayout",id:"MapToolMenuWidget",label:"工具菜单栏目",container:s.centerFront,component:()=>a(()=>import("./MapToolMenuWidget-Cgu4M6Ru.js"),__vite__mapDeps([39,4,2,5,10,1,3,6,7,40,37,8,9,41]),import.meta.url),preload:!0},{layoutID:"mapsceneLayout",id:"MapControlWidget",label:"基础控件",container:s.centerBack,component:()=>a(()=>import("./MapControlWidget-DQRH3FRl.js"),__vite__mapDeps([42,4,2,5,1,3,6,7,37,8,9,10]),import.meta.url),preload:!0,afterid:"MapViewerWidget"},{layoutID:"mapsceneLayout",id:"MapDefaultMenuWidget",label:"基础菜单",container:s.centerBack,component:()=>a(()=>import("./MapDefaultMenuWidget-BLAegB6_.js"),__vite__mapDeps([43,4,2,5,1,3,6,7,8,9,10]),import.meta.url),preload:!0,afterid:"MapViewerWidget"},{layoutID:"mapsceneLayout",id:"MapStatusWidget",label:"状态栏",container:s.centerBack,component:()=>a(()=>import("./MapStatusWidget-0_QyX3iQ.js"),__vite__mapDeps([44,1,2,3,4,5,6,7,8,9,10,45]),import.meta.url),preload:!0,afterid:"MapViewerWidget"},{layoutID:"mapsceneLayout",id:"MapOverviewWidget",label:"鹰眼图",container:s.centerBack,component:()=>a(()=>import("./MapOverviewWidget-DU--4URi.js"),__vite__mapDeps([46,4,2,5,1,3,6,7,8,9,10,47]),import.meta.url),preload:!1,afterid:"MapViewerWidget"},{layoutID:"mapsceneLayout",id:"CompassWidget",label:"方位罗盘",container:s.centerBack,component:()=>a(()=>import("./CompassWidget-BFU125aJ.js"),__vite__mapDeps([48,4,2,5,1,3,6,7,8,9,10,49]),import.meta.url),preload:!1,afterid:"MapViewerWidget"},{layoutID:"mapsceneLayout",id:"LocationWidget",label:"位置定位",container:s.centerBack,component:()=>a(()=>import("./LocationWidget-CMT_g8KC.js"),__vite__mapDeps([50,4,2,5,1,3,6,7,40,8,9,10,51]),import.meta.url),preload:!1,afterid:"MapViewerWidget"},{layoutID:"mapsceneLayout",id:"MapDrawWidget",label:"标绘工具",container:s.centerBack,component:()=>a(()=>import("./MapDrawWidget-B95yBvJ9.js"),__vite__mapDeps([52,4,2,5,1,3,6,7,53,8,9,10,54]),import.meta.url),preload:!1,afterid:"MapViewerWidget"},{layoutID:"mapsceneLayout",id:"ExampleSceneWidget",label:"示例工具",container:s.centerBack,component:()=>a(()=>import("./ExampleSceneWidget-AbtXNw-C.js"),__vite__mapDeps([55,4,2,5,40,1,3,6,7,37,8,9,10,56]),import.meta.url),preload:!1,afterid:"MapViewerWidget"},{layoutID:"mapsceneLayout",id:"BasemapLayerWidget",label:"底图切换",container:s.centerBack,component:()=>a(()=>import("./BasemapLayerWidget-CKJTrcGk.js"),__vite__mapDeps([57,4,2,5,1,3,6,7,40,37,8,9,10,58]),import.meta.url),preload:!1,afterid:"MapViewerWidget"},{layoutID:"mapsceneLayout",id:"UploadDataWidget",label:"数据上传工具",container:s.centerBack,component:()=>a(()=>import("./UploadDataWidget-DRo8kF-8.js"),__vite__mapDeps([59,4,2,5,1,3,6,7,40,8,9,10,60]),import.meta.url),preload:!1,afterid:"MapViewerWidget"},{layoutID:"mapsceneLayout",id:"MapGeneralWidget",label:"自定义组件",container:s.centerBack,component:()=>a(()=>import("./MapGeneralWidget-iWBmcrTR.js"),__vite__mapDeps([61,4,2,5,1,3,6,7,62,8,9,10,63]),import.meta.url),preload:!0,afterid:"MapViewerWidget"}],Bt=[{layoutID:"productLayout",id:"LogoTitleWidget",label:"头部栏",container:s.top,component:()=>a(()=>import("./LogoTitleWidget-C0BVsVKg.js"),__vite__mapDeps([64,4,2,5,1,3,6,7,8,9,10,65]),import.meta.url),preload:!0},{layoutID:"productLayout",id:"TopMenuWidget",label:"头部菜单栏",container:s.top,component:()=>a(()=>import("./TopMenuWidget-gqoCY5YD.js"),__vite__mapDeps([66,4,2,5,67,1,3,6,7,68,10,30,16,40,8,9,69]),import.meta.url),preload:!0},{layoutID:"productLayout",id:"frontLayoutWidget",label:"前端弹框容器",container:s.centerFront,component:()=>a(()=>import("./FrontLayoutContainerWidget-DeaRWXsH.js"),__vite__mapDeps([70,4,2,5,10,1,3,6,7,8,9,67,68,71]),import.meta.url),preload:!1},{layoutID:"productLayout",id:"ModalContainerWidget",label:"弹框容器",container:s.top,component:()=>a(()=>import("./ModalContainerWidget-CQkfhcWr.js"),__vite__mapDeps([72,4,2,5,40,1,3,6,7,8,9,10]),import.meta.url),preload:!0}],xt=[{layoutID:"frontLayoutWidget",id:"MapViewerWidget",container:s.centerBack,component:()=>a(()=>import("./MapViewerWidget-Ckfd4tFC.js"),__vite__mapDeps([36,4,2,5,13,1,3,6,7,37,8,9,10,38]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MapDrawWidget",container:s.centerBack,component:()=>a(()=>import("./MapDrawWidget-CXE-21iE.js"),__vite__mapDeps([73,4,2,5,1,3,6,7,53,8,9,10,74]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MapOverviewWidget",container:s.centerBack,component:()=>a(()=>import("./MapOverviewWidget-DU--4URi.js"),__vite__mapDeps([46,4,2,5,1,3,6,7,8,9,10,47]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"CompassWidget",container:s.centerBack,component:()=>a(()=>import("./CompassWidget-BFU125aJ.js"),__vite__mapDeps([48,4,2,5,1,3,6,7,8,9,10,49]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"BaseLayerManageWidget",container:s.centerBack,component:()=>a(()=>import("./BaseLayerManageWidget-DVryDi_9.js"),__vite__mapDeps([75,1,2,3,4,5,6,7,37,8,9,10,76]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"LayerManageWidget",container:s.centerBack,component:()=>a(()=>import("./LayerManageWidget-CKA8gLfM.js"),__vite__mapDeps([77,4,2,5,1,3,6,7,37,8,9,10,78]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MapPrintWidget",container:s.centerBack,component:()=>a(()=>import("./MapPrintWidget-CxY8u2zw.js"),__vite__mapDeps([79,4,2,5,1,3,6,7,37,8,9,10,80]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MapControlWidget",container:s.centerBack,component:()=>a(()=>import("./MapControlWidget-DQRH3FRl.js"),__vite__mapDeps([42,4,2,5,1,3,6,7,37,8,9,10]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MapDefaultMenuWidget",container:s.centerBack,component:()=>a(()=>import("./MapDefaultMenuWidget-BLAegB6_.js"),__vite__mapDeps([43,4,2,5,1,3,6,7,8,9,10]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MapImageWidget",container:s.centerBack,component:()=>a(()=>import("./MapImageWidget-DXcfUcd6.js"),__vite__mapDeps([81,1,2,3,4,5,6,7,8,9,10]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"VectorFeatureWidget",container:s.centerBack,component:()=>a(()=>import("./VectorFeatureWidget-C90mYs3h.js"),__vite__mapDeps([82,4,2,5,1,3,6,7,8,9,10]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MapCompareWidget",container:s.centerBack,component:()=>a(()=>import("./MapCompareWidget-8G1WUA6h.js"),__vite__mapDeps([83,37,1,2,3,4,5,6,7,8,9,10,84]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"UploadVectorWidget",container:s.centerBack,component:()=>a(()=>import("./UploadVectorWidget-CJvfIW6T.js"),__vite__mapDeps([85,4,2,5,1,3,6,7,8,9,10,86]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MapLinkShareWidget",container:s.centerBack,component:()=>a(()=>import("./MapLinkShareWidget-BoYJSqoR.js"),__vite__mapDeps([87,4,2,5,1,3,6,7,8,9,10,88]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"SharePageWidget",container:s.centerBack,component:()=>a(()=>import("./SharePageWidget-BkjKz62U.js"),__vite__mapDeps([89,10,2,4,5,8,9,1,3,6,7]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MapMaskWidget",container:s.centerBack,component:()=>a(()=>import("./MapMaskWidget-D_04nRD3.js"),__vite__mapDeps([90,1,2,3,4,5,6,7,8,9,10]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MapStatusWidget",container:s.centerBack,component:()=>a(()=>import("./MapStatusWidget-0_QyX3iQ.js"),__vite__mapDeps([44,1,2,3,4,5,6,7,8,9,10,45]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MapMeasureWidget",container:s.centerBack,component:()=>a(()=>import("./MapMeasureWidget-Bjp3jVCb.js"),__vite__mapDeps([91,4,2,5,1,3,6,7,62,8,9,10,92]),import.meta.url),preload:!1}],$t=Object.assign({"./mapscene.ts":Mt,"./productLayout.ts":Bt,"./product_api_examples.ts":xt}),V=ie($t,!1);function ce(){return T().DefaultMaxRoleLevel}function z(){const e=l.Config.UI.IsNoLogin?b:$e(b,ce());return!l.Config.UI.IsNoLogin&&!l.CorrectRoute&&(e?.forEach(t=>{t.children&&t.children.length>0&&(t.redirect=re(t.children[0].path,t.path))}),l.CorrectRoute=!0),e}const A=[];function Ft(){const e=["portalLayout","bigScreenLayout","productLayout"];return A.length===0&&V.forEach(t=>{const r=t.layoutID;r&&e.indexOf(r)>=0&&A.push(t)}),A}function oo(){let e;if(l.Config.UI.IsNoLogin)e=V;else{const t=ce();t===-1?e=Ft():e=xe(V,t)}return l.WidgetConfigList||(l.WidgetConfigList=e),e}const O="USER_SYS_KEY",k=new Q("",sessionStorage),T=W("user",{state:()=>k.get(O)||{},getters:{DefaultMaxRole(e){const t=e.roles?.[0];let r="普通用户";switch(t?.level){case 0:r="超级管理员";break;case 1:r="管理员";break;case 2:r="普通用户";break}return r},DefaultMaxRoleLevel(e){const t=e.roles?.[0];let r=-1;return t&&(r=t.level),r},AdminSystemList(e){const t=[];return e.roles?.forEach(r=>{(r.level===0||r.level===1)&&r.syslist&&r.syslist.forEach(o=>{t.findIndex(n=>n.id===o.id)<0&&t.push(o)})}),t}},actions:{init(e){this.id=e.id,this.name=e.name,this.doubletoken=e.doubletoken,this.roles=e.roles,this.bindid=e.bindid,k.set(O,{id:e.id,name:e.name,roles:e.roles})},getCurrentSystemRole(e){const t=this.roles;if(t){for(const r of t)if(r.syslist?.find(i=>i.id===e))return r}},clear(){this.id=void 0,this.name=void 0,this.doubletoken=void 0,this.roles=void 0,this.bindid=void 0,k.remove(O),Z(),J()}}}),P=Ee(()=>(X("PiniaStore"),Re()));async function Ht(e,t){const r=e(L);r.use(Ie,t);const o=typeof P=="function"?await P({}):P;r.use(o);const i=he(typeof S=="function"?await S({store:o}):S);return o.use(({store:n})=>{n.router=i}),{app:r,store:o,router:i}}const Nt={config:{},lang:De,plugins:{Dialog:be,AppFullscreen:We,Loading:we,Notify:Se}};let C=typeof L.preFetch=="function"?L.preFetch:L.__c!==void 0&&typeof L.__c.preFetch=="function"?L.__c.preFetch:!1;function G(e,t){const r=e?e.matched?e:t.resolve(e).route:t.currentRoute.value;if(!r)return[];const o=r.matched.filter(i=>i.components!==void 0);return o.length===0?[]:Array.prototype.concat.apply([],o.map(i=>Object.keys(i.components).map(n=>{const c=i.components[n];return{path:i.path,c}})))}function Ut({router:e,store:t,publicPath:r}){e.beforeResolve((o,i,n)=>{const c=window.location.href.replace(window.location.origin,""),u=G(o,e),p=G(i,e);let d=!1;const f=u.filter((m,h)=>d||(d=!p[h]||p[h].c!==m.c||m.path.indexOf("/:")>-1)).filter(m=>m.c!==void 0&&(typeof m.c.preFetch=="function"||m.c.__c!==void 0&&typeof m.c.__c.preFetch=="function")).map(m=>m.c.__c!==void 0?m.c.__c.preFetch:m.c.preFetch);if(C!==!1&&(f.unshift(C),C=!1),f.length===0)return n();let g=!1;const _=m=>{g=!0,n(m)},E=()=>{g===!1&&n()};f.reduce((m,h)=>m.then(()=>g===!1&&h({store:t,currentRoute:o,previousRoute:i,redirect:_,urlPath:c,publicPath:r})),Promise.resolve()).then(E).catch(m=>{E()})})}const jt="/./";async function qt({app:e,router:t,store:r},o){let i=!1;const n=p=>{try{return t.resolve(p).href}catch{}return Object(p)===p?null:p},c=p=>{if(i=!0,typeof p=="string"&&/^https?:\/\//.test(p)){window.location.href=p;return}const d=n(p);d!==null&&(window.location.href=d,window.location.reload())},u=window.location.href.replace(window.location.origin,"");for(let p=0;i===!1&&p<o.length;p++)try{await o[p]({app:e,router:t,store:r,ssrContext:null,redirect:c,urlPath:u,publicPath:jt})}catch(d){if(d&&d.url){c(d.url);return}return}i!==!0&&(e.use(t),Ut({router:t,store:r}),e.mount("#q-app"))}Ht(ye,Nt).then(e=>{const[t,r]=Promise.allSettled!==void 0?["allSettled",o=>o.map(i=>{if(i.status!=="rejected")return i.value.default})]:["all",o=>o.map(i=>i.default)];return Promise[t]([a(()=>import("./initXframe-ubEDrkhC.js"),__vite__mapDeps([93,8,9,4,2,5,6,1,3,7,10]),import.meta.url),a(()=>import("./directives-CqdGqcAv.js"),__vite__mapDeps([94,4,2,5,1,3,6,7]),import.meta.url)]).then(o=>{const i=r(o).filter(n=>typeof n=="function");qt(e,i)})});export{X as E,y as M,je as O,Ge as _,eo as a,Ze as b,oo as c,Xt as d,Vt as e,qe as f,ht as g,ie as h,b as i,Ot as j,z as k,F as l,to as m,Rt as p,T as u,V as w};
