import{y as C,w as S,x as v}from"./vendor-qEPl7M71.js";import{r as I,d as h,a as _,o as L,V as N,L as u,M as p,e as s,a7 as b,a2 as i,X as g,N as d,c as P,C as V,S as B,_ as w}from"./@vue-exp-Cbz_CXqa.js";import{_ as x,c as D,b as R}from"./index-8yyKnfk0.js";import{B as H,h as y,e as k}from"./xframelib-exp-CBRV2soX.js";import"./monaco-editor-exp-B01XOe8A.js";import"./vue-router-exp-U1sBIDGE.js";import"./axios-exp-B_zfNCMU.js";import"./@iconify/vue-exp-BeT9ZUzB.js";const l=I({lat:39.9087,lng:116.3974,city:"北京市",addr:"天安门"});let f;function q(){return new Promise((r,n)=>{f||(f=new qq.maps.Geolocation("TR5BZ-6UY64-Z66UV-DUU4Q-2HNOZ-LCFES","小冰天气")),f?.getLocation(t=>{l.addr=t.addr,l.city=t.city,l.lat=t.lat,l.lng=t.lng,r(t)},()=>{n()},{timeout:2e4,failTipFlag:!0})})}const U=h({__name:"LocationWeather",setup(r,{expose:n}){n();const t=_(),e=_();L(async()=>{const o=await q();o&&(t.value=o)});const a={currentPosition:t,weatherNow:e,get IIcon(){return C}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),W={class:"row justify-center q-gutter-x-md"},j={key:0,class:"row items-center"},E={key:1,class:"row items-center q-gutter-x-sm"};function F(r,n,t,e,a,o){const c=N("Icon");return u(),p("div",W,[e.currentPosition?(u(),p("span",j,[s(c,{icon:"ic:baseline-location-on"}),b(" "+i(e.currentPosition.city+" "+e.currentPosition.addr),1)])):g("",!0),e.weatherNow?(u(),p("div",E,[s(e.IIcon,{name:e.weatherNow?.icon,size:24},null,8,["name"]),d("span",null,i(e.weatherNow?.text),1),d("span",null,i(e.weatherNow?.temp)+"°",1),d("span",null,i(e.weatherNow?.windDir),1),d("span",null,i(e.weatherNow?.windScale)+"级",1)])):g("",!0)])}const O=x(U,[["render",F],["__file","LocationWeather.vue"]]),Q=h({name:"productLayout"}),T=h({...Q,setup(r,{expose:n}){n();const t=D(),e=_(t),a=_("productLayout"),o=R(),c=P(()=>o.headerSetting.show?o.headerSetting.height:0);L(()=>{H.Loading("end"),y.setCssVar("--center-pointer-events","none"),y.setCssVar("--header-top-height",c.value+"px")}),V(()=>{});const m={widgetCofig:t,configRef:e,layoutIDRef:a,appState:o,topHeaderHeight:c,LocationWeather:O,get LayoutContainer(){return k}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}});function Z(r,n,t,e,a,o){return u(),B(v,{view:"hHh lpR fFf"},{default:w(()=>[s(S,null,{default:w(()=>[s(e.LocationWeather,{class:"absolute-top-right q-mr-sm shadow-1",style:{"font-size":"12px"}}),s(e.LayoutContainer,{widgetConfig:e.configRef,layoutID:e.layoutIDRef},null,8,["widgetConfig","layoutID"])]),_:1})]),_:1})}const te=x(T,[["render",Z],["__scopeId","data-v-9064fc12"],["__file","productLayout.vue"]]);export{te as default};
