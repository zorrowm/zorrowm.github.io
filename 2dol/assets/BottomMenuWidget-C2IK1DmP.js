import{O as $,T as R,W as E,Z as O,$ as Q,a0 as A,J as H}from"./vendor-CcHNtcKJ.js";import{M as p,_ as B,O as U,m as D}from"./index-o5kdQfcL.js";import{O as N}from"./urlUtils-dFpGY-z-.js";import{u as q,b as F}from"./vue-router-exp-B0kidEOa.js";import{B as W,s as P}from"./xframelib-exp-CxzDUbp4.js";import{d as L,r as v,X as s,$ as d,F as _,ad as w,Y as S,a6 as h,c as g,E as m,a4 as k,ae as T,aa as j,L as z,a0 as C}from"./@vue-exp-DTehQd6t.js";import"./@hprose-exp-CYjcO8Nw.js";import"./axios-exp-B_zfNCMU.js";import"./@iconify/vue-exp-Ct1khs4G.js";const J=L({__name:"index",props:{data:{},layoutManager:{}},setup(l,{expose:c}){c();const r=l,t=v(r.data),u=q(),b=F();function a(e){if(e.children){let n=!1;if(e.children.forEach(f=>{if(f.selected){n=!0;return}}),n)return" pagemenuActive"}else if(e.selected)return"pagemenuActive";return""}const i=v();function o(e,n){const f=e.label;if(i.value)i.value.label!=f&&(i.value.state=!1),i.value=e,e.state=n;else{i.value=e,e.state=n;return}}function y(e){if(e.path&&e.path)switch(e.type){case p.Route:e.blank?N(u,e.path,{}):u.push({path:e.path});break;case p.URL:window.open(e.path,"_blank");break;case p.Action:W.EventBus.emit("IWidgetMenu.Action",e);break;case p.Widget:const n=r.layoutManager;e.selected?(e.selected=!1,e.unload?n.unloadWidget(e.path):n.changeWidgetVisible(e.path,!1)):(e.selected=!0,n.isWidgetLoaded(e.path)?n.changeWidgetVisible(e.path,!0):n.loadWidget(e.path));break}}const M={props:r,dataRef:t,router:u,route:b,getSelectedStyle:a,currentItem:i,setShowState:o,menuClickHandler:y};return Object.defineProperty(M,"__isScriptSetup",{enumerable:!1,value:!0}),M}}),X={class:"row gt-xs q-ma-auto q-gutter-xs flex-center"};function Y(l,c,r,t,u,b){return s(),d("div",X,[(s(!0),d(_,null,w(t.dataRef,(a,i)=>(s(),d(_,{key:a.name},[a.path?(s(),S(H,{key:1,color:"white",flat:"",label:a.name,class:k(a.selected?"pagemenuActive":""),onClick:o=>t.menuClickHandler(a),onMouseover:o=>t.setShowState(a,!1)},null,8,["label","class","onClick","onMouseover"])):(s(),S(A,{key:0,"model-value":a.state,"onUpdate:modelValue":o=>a.state=o,color:"white","transition-show":"flip-right","transition-hide":"flip-left",flat:"",label:a.name,class:k(t.getSelectedStyle(a)),onMouseover:o=>t.setShowState(a,!0)},{default:h(()=>[g($,{style:{"min-width":"100px"},onMouseover:o=>t.setShowState(a,!0),onMouseleave:o=>t.setShowState(a,!1)},{default:h(()=>[(s(!0),d(_,null,w(a.children,(o,y)=>(s(),d(_,{key:o.name},[m((s(),S(R,{clickable:"",class:k(t.getSelectedStyle(o)),onClick:M=>t.menuClickHandler(o)},{default:h(()=>[g(E,null,{default:h(()=>[T(j(o.name),1)]),_:2},1024)]),_:2},1032,["class","onClick"])),[[O]]),g(Q)],64))),128))]),_:2},1032,["onMouseover","onMouseleave"])]),_:2},1032,["model-value","onUpdate:modelValue","label","class","onMouseover"]))],64))),128))])}const V=B(J,[["render",Y],["__file","index.vue"]]),x="bottomMenuWidget",Z=L({name:x,components:{BottomMainMenu:V},props:{},setup(){const l=v(W.LayoutMap.get("bigScreenLayout")),c=v(!0);function r(t){t.name===x&&(c.value=t.visible)}return U(P.WidgetVisibleChanged,r),{isVisible:c,menuSetting:D,dpLayoutManager:l}}}),G={ref:"footerMenu",class:"footer"},K={class:"layoutfooter"},I={class:"menuContainer"};function ee(l,c,r,t,u,b){const a=V;return m((s(),d("div",G,[C("div",K,[C("div",I,[g(a,{data:l.menuSetting,layoutManager:l.dpLayoutManager},null,8,["data","layoutManager"])])])],512)),[[z,l.isVisible]])}const de=B(Z,[["render",ee],["__scopeId","data-v-2e33beb3"],["__file","BottomMenuWidget.vue"]]);export{de as default};
