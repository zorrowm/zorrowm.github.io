import{W as f,K as M}from"./vendor-DEnSXaZk.js";import{a as g,r as v}from"./xgis-ol-exp-B_x7d6gL.js";import{F as V,g as C}from"./xframelib-exp-DUbArU78.js";import{d as S,r as t,B as b,O as x,S as k,c as r,U as s,a2 as i}from"./@vue-exp-DhuHfG86.js";import{_ as w}from"./index-9YwdlOdB.js";import"./ol-exp-DNVUl0aT.js";import"./@iconify/vue-exp-DcFsj1aI.js";import"./axios-exp-C7rfqWEd.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./vue-router-exp-CLDoDjFh.js";const B={class:"rightPanel"},L={class:"q-pa-md",style:{"max-width":"500px"}},h=S({__name:"StyleJsonMapWidget",setup(j){const m=t(""),p=t(""),c=t(""),o=t("https://map.gis.digsur.com/Resource/styles/BJ_OSM_NEW/style.json?tk=undefined"),l=t("");function d(e){m.value=e.tileSchema?.rule??"W",p.value=e.id,c.value=e.name;const a=V.XMap;g(a.map,e).then(n=>{const u=a.MapView.getProjection();e.zoom,a.MapView.setZoom(e.zoom),e.center?a.MapView.setCenter(v.fromLonLatCoordinate(e.center,u)):a.MapView.setCenter(v.fromLonLatCoordinate(e.center,u))})}function _(){if(l.value){const e=JSON.parse(l.value);d(e)}else o.value&&C(o.value).then(e=>{e.data&&d(e.data)})}return b(()=>{V.XMap}),(e,a)=>(x(),k("div",B,[r(f,{clearable:"",modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=n=>o.value=n),label:"StyleJson地址","stack-label":"",dense:!1},null,8,["modelValue"]),s("div",L,[r(f,{clearable:"",modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=n=>l.value=n),filled:"",type:"textarea"},null,8,["modelValue"])]),r(M,{color:"primary",label:"加载StyleJson",onClick:_}),s("div",null,[s("span",null,"图层ID:"+i(p.value)+" 服务名："+i(c.value)+" 切片方案："+i(m.value),1)])]))}}),Q=w(h,[["__scopeId","data-v-cffa1b11"]]);export{Q as default};
