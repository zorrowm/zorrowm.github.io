import{a6 as f,H as M}from"./vendor-BjjxFmO4.js";import{a as C,r as v}from"./xgis-ol-exp-CshjZaOS.js";import{F as V,f as S}from"./xframelib-exp-B5TZbF78.js";import{d as g,r as t,B as b,O as x,S as k,c as r,U as s,a2 as i}from"./@vue-exp-18LRBxdm.js";import{_ as w}from"./index-Dxssf89i.js";import"./ol-exp-BZzGrai6.js";import"./@iconify/vue-exp-C65O8cJc.js";import"./axios-exp-C7rfqWEd.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./vue-router-exp-CvNwyAs-.js";const B={class:"rightPanel"},L={class:"q-pa-md",style:{"max-width":"500px"}},h=g({__name:"StyleJsonMapWidget",setup(j){const m=t(""),p=t(""),d=t(""),o=t("https://map.gis.digsur.com/Resource/styles/BJ_OSM_NEW/style.json?tk=undefined"),l=t("");function c(e){m.value=e.tileSchema?.rule??"W",p.value=e.id,d.value=e.name;const a=V.XMap;C(a.map,e).then(n=>{const u=a.MapView.getProjection();e.zoom,a.MapView.setZoom(e.zoom),e.center?a.MapView.setCenter(v.fromLonLatCoordinate(e.center,u)):a.MapView.setCenter(v.fromLonLatCoordinate(e.center,u))})}function _(){if(l.value){const e=JSON.parse(l.value);c(e)}else o.value&&S(o.value).then(e=>{e.data&&c(e.data)})}return b(()=>{V.XMap}),(e,a)=>(x(),k("div",B,[r(f,{clearable:"",modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=n=>o.value=n),label:"StyleJson地址","stack-label":"",dense:!1},null,8,["modelValue"]),s("div",L,[r(f,{clearable:"",modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=n=>l.value=n),filled:"",type:"textarea"},null,8,["modelValue"])]),r(M,{color:"primary",label:"加载StyleJson",onClick:_}),s("div",null,[s("span",null,"图层ID:"+i(p.value)+" 服务名："+i(d.value)+" 切片方案："+i(m.value),1)])]))}}),Q=w(h,[["__scopeId","data-v-fc88ad3b"]]);export{Q as default};
