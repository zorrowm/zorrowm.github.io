import{F as a,f}from"./xframelib-exp-DUbArU78.js";import{T as p,M as x}from"./xgis-ol-exp-B_x7d6gL.js";import{d as M,r as _,b as g,B as v,O as E,P as C,_ as T,c as y,C as r,A as L}from"./@vue-exp-DhuHfG86.js";import"./axios-exp-C7rfqWEd.js";import"./vendor-DEnSXaZk.js";import"./ol-exp-DNVUl0aT.js";import"./@iconify/vue-exp-DcFsj1aI.js";const b=M({__name:"LayerControlMenuWidget",setup(X){const i=L();function u(e){e.id}function m(e){const n=i?.proxy?.$options.id,o=i?.proxy?.$options.layoutID;n&&a.LayoutMap.get(o)?.unloadWidget(n)}const l=[{},{name:"测试一下",icon:"gis:layer-up",value:"upMove2"},{name:"Test",icon:"gis:layer-down",value:"downMove2"}];function s(e){if(!t.value||e.mapID!=t.value.target)return;const{item:n,id:o,name:c,label:d}=e.data;a.Message.info(`右键菜单：${n.name},图层ID：${o},图层名：${c},图层Label:${d}`)}const t=_();return g(()=>{if(a.XMap){const e=a.XMap;t.value=e,e.mapEventBus.eventOn(p.LAYER_TREE_CONTEXT_MENU,s)}}),v(()=>{a.XMap&&a.XMap.mapEventBus.eventOff(p.LAYER_TREE_CONTEXT_MENU,s)}),(e,n)=>(E(),C(r(f),{isDark:!1,top:"30px",left:"10px",nWidth:"350px",hHeight:"400px",title:"图层管理",icon:"img/basicimage/arcgis_img.png",onLoaded:u,onClose:m},{default:T(()=>[y(r(x),{xmap:t.value,moreContextMenu:l},null,8,["xmap"])]),_:1}))}});export{b as default};
