import{o as c}from"./ol-exp-DNVUl0aT.js";import{F as r,W as t}from"./xframelib-exp-DUbArU78.js";import{d as l,b as p,B as v,O as u,S as f,U as i}from"./@vue-exp-DhuHfG86.js";import"./vendor-DEnSXaZk.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-DcFsj1aI.js";const V=l({__name:"MapVideoRecorderWidget",setup(C){let o;p(()=>{const e=r.XMap;e.MapView.getProjection(),o=new c,o&&e.map.addControl(o),o.on("stop",function(n){const d=document.querySelector("video");d.src=n.videoURL;const s=document.getElementById("video");t.addClass(s,"visible");const m=document.getElementById("map");t.removeClass(m,"recording")}),o.on("start",function(n){const d=document.getElementById("map");t.addClass(d,"recording")}),o.on("error",console.log)});function a(){const e=document.getElementById("video");t.removeClass(e,"visible")}return v(()=>{if(r.XMap){const e=r.XMap;o&&e.map.removeControl(o)}}),(e,n)=>(u(),f("div",null,[i("div",{id:"video"},[i("div",null,[n[0]||(n[0]=i("video",{controls:""},null,-1)),i("span",{onClick:a},"âœ–")])])]))}});export{V as default};
