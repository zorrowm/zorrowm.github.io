import{O as R,am as z,K as H,ak as G,J as N,an as X,H as Q,ao as E,X as U,a9 as J,af as K,al as Y,ap as P,G as Z}from"./vendor-BjjxFmO4.js";import{F as S,Q as ee}from"./xframelib-exp-B5TZbF78.js";import{c as T,_ as W,u as te,p as ae}from"./index-Dxssf89i.js";import{b as M,u as V}from"./vue-router-exp-CvNwyAs-.js";import{d as O,y as $,a as w,w as ne,b as le,r as b,R as B,O as s,P as _,_ as u,c as h,X as oe,C as r,a6 as q,a2 as D,V as j,S as k,F as y,a5 as C,D as I,Y as L,W as F,a8 as se,e as re,U as x,ab as ie}from"./@vue-exp-18LRBxdm.js";import{O as ce}from"./urlUtils-DeiOINk8.js";import{L as ue}from"./layoutTool-C0Ra1Q1O.js";import"./ol-exp-BZzGrai6.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-C65O8cJc.js";import"./monaco-editor-exp-BNK_u0iZ.js";const de=O({__name:"ItemMultiple",props:{trueItem:{default:function(){return null},type:Object},initLevel:{type:Number,default:0}},setup(o){const m=T(),a=M(),d=o,{trueItem:l,initLevel:i}=$(d),p=w(()=>m.leftCollapsed&&!m.overlayMenu?"margin-left:-16px":"");ne(a,()=>{f()}),le(()=>{f()});const c=b(!1),f=()=>{for(let e of l.value.children)if(e.path===a.path||e.parent_code===a.name){c.value=!0;return}c.value=!1};return(e,t)=>{const n=B("Icon");return s(),_(z,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=A=>c.value=A),group:r(l).name,"header-inset-level":r(i)},{header:u(()=>[h(R,{avatar:"",style:oe(p.value)},{default:u(()=>[h(n,{icon:r(l).meta?.icon},null,8,["icon"])]),_:1},8,["style"]),h(R,{style:{"margin-left":"-10px"}},{default:u(()=>[q(D(r(l).meta?.title??r(l).label),1)]),_:1})]),default:u(()=>[j(e.$slots,"default")]),_:3},8,["modelValue","group","header-inset-level"])}}});var v=(o=>(o[o.Widget=0]="Widget",o[o.Route=1]="Route",o[o.URL=2]="URL",o[o.Action=3]="Action",o))(v||{});const pe={class:"row gt-xs q-py-md q-gutter-xs"},fe=O({__name:"PageMenu",props:{data:{type:Array,required:!0}},setup(o){const a=b(o.data),d=V(),l=M();function i(e){if(e.children){let t=!1;if(e.children.forEach(n=>{if(n.name===l.name||n.path===l.path){t=!0;return}}),t)return" pagemenuActive"}else if(e.name==l.name||e.path===l.path)return"pagemenuActive";return""}const p=b();function c(e,t){const n=e.label;if(p.value)p.value.label!=n&&(p.value.state=!1),p.value=e,e.state=t;else{p.value=e,e.state=t;return}}function f(e){if(!(!e||e.children)&&(e.path||e.name))switch(e.kind){case void 0:case v.Route:e.blank?ce(d,e.path,{}):e.name?d.push({name:e.name}):e.path&&d.push({path:e.path});break;case v.URL:window.open(e.path,"_blank");break;case v.Action:S.EventBus.emit("IPageMenu.Action",e);break;case v.Widget:S.EventBus.emit("LayoutLoadWidget",e);break}}return(e,t)=>(s(),k("div",pe,[(s(!0),k(y,null,C(a.value,(n,A)=>(s(),k(y,{key:n.label},[n.children?(s(),_(X,{key:0,"model-value":n.state,"onUpdate:modelValue":g=>n.state=g,"transition-show":"flip-right","transition-hide":"flip-left",flat:"",label:n.label,class:L([i(n),"pageMenuItem"]),onMouseover:g=>c(n,!0)},{default:u(()=>[h(N,{style:{"min-width":"100px"},onMouseover:g=>c(n,!0),onMouseleave:g=>c(n,!1)},{default:u(()=>[(s(!0),k(y,null,C(n.children,(g,Se)=>(s(),k(y,{key:g.label},[I((s(),_(H,{clickable:"",class:L([i(g),"pageMenuItem"]),onClick:Re=>f(g)},{default:u(()=>[h(R,null,{default:u(()=>[q(D(g.label),1)]),_:2},1024)]),_:2},1032,["class","onClick"])),[[E]]),h(G)],64))),128))]),_:2},1032,["onMouseover","onMouseleave"])]),_:2},1032,["model-value","onUpdate:modelValue","label","class","onMouseover"])):(s(),_(Q,{key:1,flat:"",label:n.label,class:L([i(n),"pageMenuItem"]),onClick:g=>f(n),onMouseover:g=>c(n,!1)},null,8,["label","class","onClick","onMouseover"]))],64))),128))]))}}),he={__name:"ItemSingle",props:{trueItem:{default:function(){return{}},type:Object},initLevel:{type:Number,default:0}},setup(o){const m=U();w(()=>m.dark.isActive?"bg-grey-10 text-white":"bg-primary text-white");const a=V(),d=M(),l=o,{trueItem:i,initLevel:p}=$(l),c=e=>{if(e.kind){const t=e;switch(t.kind){case v.Route:t.blank?OpenURL(a,t.path,{}):t.name?a.push({name:t.name}):t.path&&a.push({path:t.path});break;case v.URL:window.open(t.path,"_blank");break;case v.Action:Global.EventBus.emit("IPageMenu.Action",t);break;case v.Widget:Global.EventBus.emit("LayoutLoadWidget",t);break}}else e.path&&ee(e.path)||e.link?window.open(e.path):a.push({name:e.name})},f=w(()=>d.name===i.value.name||d.path===i.value.path);return(e,t)=>{const n=B("Icon");return I((s(),_(H,{clickable:"",exact:"","inset-level":r(p),active:f.value,"active-class":e.darkThemeSelect,onClick:t[0]||(t[0]=A=>c(r(i)))},{default:u(()=>[h(R,{avatar:""},{default:u(()=>[h(n,{icon:r(i).meta?.icon??r(i).icon},null,8,["icon"])]),_:1}),h(R,{style:{"margin-left":"-10px"}},{default:u(()=>[q(D(r(i).meta?.title??r(i).label),1)]),_:1})]),_:1},8,["inset-level","active","active-class"])),[[J]])}}},ve=W(he,[["__scopeId","data-v-77886570"]]),me={__name:"SideMenuBarItem",props:{childrenItem:{default:function(){return{}},type:Object},initLevel:{type:Number,default:0}},setup(o){const m=o,{childrenItem:a,initLevel:d}=$(m),l=w(()=>a.value.children&&a.value.children.length!==0?de:ve);return(i,p)=>{const c=B("SideMenuBarItem",!0);return s(),_(se(l.value),{"true-item":r(a),"init-level":r(d)},{default:u(()=>[r(a).children&&r(a).children.length!==0?(s(!0),k(y,{key:0},C(r(a).children,f=>(s(),_(c,{key:f.path,"children-item":f,"init-level":r(d)+.3},null,8,["children-item","init-level"]))),128)):F("",!0)]),_:1},8,["true-item","init-level"])}}},_e={__name:"index",props:{topMenuChildren:{type:Object||Array,required:!1,default:()=>null}},setup(o){const m=U(),a=w(()=>m.dark.isActive?"bg-grey-10 text-white":"bg-white text-dark"),d=o,{topMenuChildren:l}=$(d);return S.Loading("SideMenuBar"),(i,p)=>(s(),_(K,{style:{height:"calc(100%)"},class:L(a.value)},{default:u(()=>[j(i.$slots,"default",{},void 0,!0),h(N,{class:"menu-list"},{default:u(()=>[(s(!0),k(y,null,C(r(l),(c,f)=>(s(),_(me,{key:f,"children-item":c,"init-level":0,style:{}},null,8,["children-item"]))),128))]),_:1})]),_:3},8,["class"]))}},ge=W(_e,[["__scopeId","data-v-4f4fae95"]]),be={class:"row"},ke={class:"col-11 row justify-end items-center"},ye={class:"col-1 justify-center q-py-md"},we={class:"q-gutter-sm row items-center no-wrap"},Oe=O({__name:"TopMenuWidget",setup(o){const m=[{label:"首页",icon:"ant-design:home-outlined",kind:v.Route,path:"/index"},{label:"二维大屏",kind:v.Route,path:"/bigscreen"},{label:"API示例",kind:v.Route,path:"/apiexamples"},{label:"开发文档",kind:v.Route,path:"/mdHelp"}],a=b(!1);b(!1);const d=U();b(S.Config.UI?.SiteTitle);const l=T();te(),Y(l),b(l.headerSetting.centerTitle),b(l.headerSetting.showFullScreen),b(l.headerSetting.showCollapseIcon),re({headerHeight:ue.getHeaderHeight()}),b(window.document.documentElement),M(),w(()=>!S.Config.UI?.IsNoLogin),V(),w(()=>{const p=ae.children;return p||(S.Message.warn("无法获取路由列表！"),[])});function i(){a.value=!a.value}return(p,c)=>{const f=B("Icon"),e=ie("tooltip");return s(),k(y,null,[x("div",be,[x("div",ke,[h(r(fe),{data:m})]),x("div",ye,[x("div",we,[I((s(),_(Q,{class:"lt-sm",dense:"",flat:"",size:"md",round:"",onClick:i},{default:u(()=>[h(f,{icon:"whh:dropmenu",width:"100",height:"100"})]),_:1})),[[e,"菜单列表"]])])])]),r(d).screen.lt.sm?(s(),_(Z,{key:0,view:"hHH lpR fFf"},{default:u(()=>[h(P,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=t=>a.value=t),side:"right",bordered:""},{default:u(()=>[I((s(),_(Q,{dense:"",flat:"",round:"",onClick:i},{default:u(()=>[h(f,{icon:"codicon:chrome-close"})]),_:1})),[[e,"菜单列表"]]),h(ge,{"top-menu-children":m})]),_:1},8,["modelValue"])]),_:1})):F("",!0)],64)}}});export{Oe as default};
