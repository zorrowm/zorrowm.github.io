import{C as x,F as W,G as I}from"./vendor-CcHNtcKJ.js";import{d as D,_ as E}from"./index-Bagyd4Bo.js";import{B as c,f as M,n as b}from"./xframelib-exp-CxzDUbp4.js";import{m as L}from"./xgis-ol-exp-DABivj7e.js";import{W as k}from"./WidgetsEvent-e0lOKT5_.js";import{d as F,r as v,b as X,E as P,L as H,Y as Q,a6 as g,X as u,c as f,a0 as S,$ as B,ad as V,a4 as N,aa as O,F as T}from"./@vue-exp-DTehQd6t.js";import"./@hprose-exp-CYjcO8Nw.js";import"./vue-router-exp-B0kidEOa.js";import"./axios-exp-B_zfNCMU.js";import"./@iconify/vue-exp-Ct1khs4G.js";import"./ol-exp-DkhKL1MQ.js";const j=F({__name:"BasicLayerManagerWidget",setup(C,{expose:m}){let a=v(""),t="BasicLayerManagerWidget",r="";function p(e){r=e.id}function i(e){t=e.pid,e.pid&&D(k.WidgetClosed,t)}function o(e){let s="";return a.value&&e.id===a.value&&(s="cardSelected"),s}function _(e){const s=a.value;if(a.value=e.id,c.XMap){const h=c.XMap;if(s){const l=L.find(n=>n.id===s);l&&l.layers?.length>0&&l.layers.forEach(n=>{h.LayerManager.deleteLayerByID(n)}),e.layers.forEach(n=>{h.addOnlineLayer(n)})}}}X(()=>{c.XMap&&(a.value="TDT_VEC")});const d=v(!0);function y(e=!1){d.value=e,r&&e&&b.openWindowPanel(r)}m({changeVisible:y,isShow:d});const w={get itemSelected(){return a},set itemSelected(e){a=e},get widgetID(){return t},set widgetID(e){t=e},get windowID(){return r},set windowID(e){r=e},loadedHandle:p,doClosePanel:i,getSelectedStyle:o,selectItem:_,isShow:d,changeVisible:y,get XWindow(){return M},get BasicLayerList(){return L}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),q={class:"row q-col-gutter-sm"},z={class:"text-center textContent"};function A(C,m,a,t,r,p){return P((u(),Q(t.XWindow,{isDark:!0,top:"10px",left:"10px",nWidth:"280px",hHeight:"350px",title:"在线影像底图",icon:"img/basicimage/arcgis_img.png",pid:"imageBaseLayerWidget",onLoaded:t.loadedHandle,onClose:t.doClosePanel},{default:g(()=>[f(I,{style:{height:"100%"}},{default:g(()=>[S("div",q,[(u(!0),B(T,null,V(t.BasicLayerList,(i,o)=>(u(),B("div",{class:"col-4",key:o},[f(x,{class:N(["cardContent",t.getSelectedStyle(i)]),onClick:_=>t.selectItem(i)},{default:g(()=>[f(W,{src:i.img,height:"75px"},null,8,["src"]),S("div",z,O(i.label),1)]),_:2},1032,["class","onClick"])]))),128))])]),_:1})]),_:1},512)),[[H,t.isShow]])}const ie=E(j,[["render",A],["__scopeId","data-v-bc0b72d3"],["__file","BasicLayerManagerWidget.vue"]]);export{ie as default};
