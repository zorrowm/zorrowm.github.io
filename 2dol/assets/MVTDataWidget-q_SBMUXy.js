import{F as r}from"./xframelib-exp-DUbArU78.js";import{D as d,d as l,e as _,G as g,I as x,K as M,f as v,a as S,b as V}from"./ol-exp-DNVUl0aT.js";import{d as y,r as h,b as D,B as G,O as I,S as L,U as f,a2 as P}from"./@vue-exp-DhuHfG86.js";import{_ as T}from"./index-9YwdlOdB.js";import"./axios-exp-C7rfqWEd.js";import"./vendor-DEnSXaZk.js";import"./@iconify/vue-exp-DcFsj1aI.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./vue-router-exp-CLDoDjFh.js";const E={class:"rightPanel"},X=y({__name:"MVTDataWidget",setup(b){const s=h("");let a;const p=new d({formatConstructors:[l,_,g,x,M,v]}),u=function(t){const e=[];if(r.XMap.map.forEachFeatureAtPixel(t,function(o){e.push(o)}),e.length>0){const o=[];let n,c;for(n=0,c=e.length;n<c;++n){const m=JSON.stringify(e[n].getProperties());m&&o.push(m)}s.value=o.join(", ")||"&nbsp"}else s.value="&nbsp;"};return D(()=>{if(r.XMap){const t=r.XMap;t.map.addInteraction(p),p.on("addfeatures",function(e){const i=new S({features:e.features});a&&t.map.removeLayer(a),a=t.map.addLayer(new V({source:i})),t.map.getView().fit(i.getExtent())}),t.map.on("click",function(e){u(e.pixel)})}}),G(()=>{a&&r.XMap.map.removeLayer(a)}),(t,e)=>(I(),L("div",E,[e[0]||(e[0]=f("h4",null,"拖拽MVT瓦片预览（支持EPSG:4326 或 EPSG:3857的MVT瓦片数据）",-1)),f("span",null,P(s.value),1)]))}}),K=T(X,[["__scopeId","data-v-aaa56dea"]]);export{K as default};
