import{b as m,_ as u}from"./index-Dxssf89i.js";import{f as M,F as o,e as y}from"./xframelib-exp-B5TZbF78.js";import{r as _,A as C}from"./xgis-ol-exp-CshjZaOS.js";import{d as v,r as t,b as W,w as I,O as w,S as L,U as h,c as D,C as j}from"./@vue-exp-18LRBxdm.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./vendor-BjjxFmO4.js";import"./ol-exp-BZzGrai6.js";import"./vue-router-exp-CvNwyAs-.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-C65O8cJc.js";const x={class:"MainMapContainerWidget"},R={id:"map",class:"mapstyle"},T=v({__name:"XMapContainerWidget",setup(B){const r=t(),f=t(!1),g=m(),d=t(g),n=t("mapLayout");function p(){const i=n.value,a=o.LayoutMap.get(i);a?a.loadWidget("MapproxyWidget"):setTimeout(()=>{p()},100)}return W(async()=>{const a=(await M("DefaultMapConfig.json").catch(e=>{o.Message.warn("加载地图初始化配置DefaultMapConfig.json失败！"+e.Message)})).data;a.projInfo&&(a.viewOptions.Projection=_.getProjection(a.projInfo));const s=C.initByMapConfig(a);r.value=s,o.XMap=s,p(),f.value=!!s.LayerManager,I(()=>r.value?.mapMenuState.layerTree,e=>{const l=n.value,c=o.LayoutMap.get(l);e!=null&&(e?c?.loadWidget("mapLayerTreeWidget"):c?.unloadWidget("mapLayerTreeWidget"))})}),(i,a)=>(w(),L("div",x,[h("div",R,[D(j(y),{widgetConfig:d.value,layoutID:n.value},null,8,["widgetConfig","layoutID"])])]))}}),E=u(T,[["__scopeId","data-v-6a622639"]]);export{E as default};
