const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BYcxAd0z.js","./xframelib-exp-B5TZbF78.js","./@vue-exp-18LRBxdm.js","./axios-exp-C7rfqWEd.js","./vendor-BjjxFmO4.js","./ol-exp-BZzGrai6.js","./ol-exp-CB3xFKxh.css","./vendor-shU8OfFI.css","./@iconify/vue-exp-C65O8cJc.js","./xframelib-exp-254NBRTd.css","./monaco-editor-exp-BNK_u0iZ.js","./monaco-editor-exp-B7uS4J0T.css","./vue-router-exp-CvNwyAs-.js","./index-Bloc8sMW.css","./testView-SSiXzJrN.js","./testView-CC2Ayt0M.css","./index-a63IFsSQ.js","./index-fgiaONWP.css","./help-DN396s58.js","./md-editor-v3-exp-BdGVHTMy.js","./md-editor-v3-exp-l5tLToum.css","./help-r80FPUh8.css","./index-BBSstrlr.js","./layoutTool-C0Ra1Q1O.js","./index-D6VMgkCX.css","./productLayout-CfCmoBBq.js","./productLayout-CyMnP1DO.css","./index-3jumiIFM.js","./index-W0UxUiAL.css","./MapPreview-BQPpZZxb.js","./GuestPreview--d6kq49O.js","./404-Nmzw4sYh.js","./404-BgEe9KI_.css","./index-DLbXDsx4.js","./index-T7XIEwnc.js","./index-DzsiV7zg.js","./index-DV3jt6T7.js","./urlUtils-DeiOINk8.js","./index-BDH1Pu0Q.css","./OneLoginPortal-B39Ff-mM.js","./OneLoginPortal-DYd93NbP.css","./HeaderTitleWidget-DFe7_R4x.js","./FullScreen-g-QvofVV.js","./FullScreen-QSZqY_0H.css","./HeaderTitleWidget-H_5FHbjf.css","./StatusWidget-BD84TjQ9.js","./StatusWidget-B4H7Eg9R.css","./XMapContainerWidget-BZ15T4M_.js","./xgis-ol-exp-CshjZaOS.js","./xgis-ol-exp-DQwfWMGd.css","./XMapContainerWidget-DvcjgvYA.css","./TwoXMapWidget-D2iKShMK.js","./MultiService-mSSu8pmF.js","./index-wDZCrNO2.js","./TwoXMapWidget-_YicPGC1.css","./TwoSwipeToolWidget-B-VPKdI0.js","./TwoSwipeToolWidget-89bGORng.css","./PopupTooltipWidget-BbyskL5t.js","./ClipPolygon-D6cYOfBt.js","./zhezhaotest-FsVvAOE7.js","./BaiduMapWidget-C8IyCzyz.js","./BaiduMapWidget-fLFfw6_c.css","./index-qr4yNpcD.js","./index-D5EULSnE.css","./StartMapInitWidget-B55tgLnw.js","./StartMapInitWidget-8W79llC_.css","./ClipInteractionWidget-DoI6fNyZ.js","./ClipInteractionWidget-CI6LmFUt.css","./FisheyeMap-66KC2RJE.js","./FisheyeMap-C9NadhjZ.css","./ContextMenuWidget-cSeSQiWa.js","./MapPrintWidget-BRGVP-Vf.js","./MapPrintWidget-DYWPVnMK.css","./MapPrintDialogWidget-Cz0MBaBB.js","./MapPrintDialogWidget-b-Zm7WY9.css","./MapVideoRecorderWidget-DS8qVT1p.js","./MapVideoRecorderWidget-fMy8EZvt.css","./SwipeMap-DUmvvKLr.js","./SwipeMap-BSY-pUzH.css","./PolygonZheZhao-B2OpePsp.js","./CropMaskExtWidget-CMeplF2F.js","./CropMaskExtWidget-Cpl5ywBt.css","./PlotMapWidget-CfEo2Tdd.js","./PlotMapWidget-BgmNyoFb.css","./LayerManager-CyjZmKzP.js","./index-BfYsAeOM.js","./index-B9rRjv6J.css","./LoadWMTS-DDrgPa5Y.js","./LoadMultiWMTS-sYyFvg5s.js","./MapBasicTool-BfC6T7j8.js","./LocationWidget-7mwm-B7c.js","./LocationWidget-BBLmXdC0.css","./DrawToolBarWidget-8GDx_nqQ.js","./MeasureToolBarWidget-DEBwgV5U.js","./SwipeToolBarWidget-Qtc5lSbd.js","./SwipeToolBarWidget-CQbinsX6.css","./GeoimageLayerWidget-NJg2CcRI.js","./GeoimageLayerWidget-D6JaZu-6.css","./StaticimageLayerWidget-B3CJR7Hy.js","./StaticimageLayerWidget-D8r_b4ut.css","./PerspectiveMapWidget-aoP-NGqK.js","./PerspectiveMapWidget-jDWjmid3.css","./EpsgSwitchWidget-B0yJgIIy.js","./DragFileLoadLayerWidget-D8lp4tGl.js","./GeojsonDataWidget-DuCgGid6.js","./WMTSImageLayerWidget-CM4y0SsL.js","./OGCWMTSLayerWidget-DucuWRBm.js","./MultiTimeLayerWidget-C_zf3CHH.js","./MultiTimeLayerWidget-D0Idaew8.css","./WMTSLayerURLWidget-amiEQHOB.js","./MVTLayerWidget-Cw__z8SU.js","./MVTLayerWidget-DrF_Wl2X.css","./MVTDataWidget-BjvbMXwg.js","./MVTDataWidget-DmJM6cq9.css","./StyleJsonMapWidget-CghJoYaQ.js","./StyleJsonMapWidget-C3SFc4O8.css","./OGCWMSLayerWidget-BRuF455H.js","./Building3DWidget-DBB8sX9Y.js","./DragFileLoadLayerWidget-CaVClDXv.js","./XMapWidget-vMjgER8g.js","./XMapWidget-B3EY1LFW.css","./MainMapWidget-CZqxoD14.js","./MainMapWidget-DoAv-oTK.css","./OLXMapWidget-BYLLO2nj.js","./OLXMapWidget-CTui2EcG.css","./XMapViewWidget-CyWtlH-j.js","./SystemsEvent-DUQCZw_Q.js","./XMapViewWidget-5--77lOw.css","./ZoomFullControlWidget-a_uoOJyQ.js","./MapOverviewWidget-K3695Ys5.js","./MapOverviewWidget-VpG_L3aU.css","./TargetControlWidget-sxwf0tVT.js","./DistanceLegendWidget-CXhmMNvI.js","./BasicLayerManagerWidget-CyuogVpK.js","./BasicLayerManagerWidget-B1GYmrsB.css","./LayerSwitchWidget-CJ8OXYRT.js","./LayerSwitchWidget-CDTmPLLK.css","./LayerControlMenuWidget-BQAtNwi9.js","./MapproxyWidget-BVXmyDXg.js","./MapZoomFullWidget-BzT9ZnlY.js","./MapToolAppendWidget-B8-9mx-l.js","./QueryLayerLoadWidget-jUWojv5x.js","./QueryLayerLoadWidget--5Ot5Dta.css","./MapLayerTreeWidget-DIeS7hpb.js","./MapContextMenuWidget-D4kKh4zL.js","./MapContextMenuWidget-CcYcAEd6.css","./WMTSLoadPanelWidget-CK1zzpeF.js","./WMTSLoadPanelWidget-PBp_QlR0.css","./MVTLoadPanelWidget-DDtLcM2-.js","./index-BmtILNHT.js","./index-D6xFPpM1.css","./LogoTitleWidget-BxbW5_Sa.js","./LogoTitleWidget-BRj1Ewhw.css","./TopMenuWidget-B4_VtMTT.js","./TopMenuWidget-ZY-NlMIP.css","./FrontLayoutContainerWidget-7Dwnb7zp.js","./FrontLayoutContainerWidget-C4BNpZXa.css","./ModalContainerWidget-DSoEltvG.js","./initXframe-juXdWEq4.js","./directives-BTW1S3NO.js"])))=>i.map(i=>d[i]);
import{_ as o}from"./monaco-editor-exp-BNK_u0iZ.js";import{d as ce,aa as me,w as _e,b as fe,B as ge,O as ye,P as he,R as Le,n as ve,m as We,f as Ee}from"./@vue-exp-18LRBxdm.js";import{j as b,n as Ie,t as L,o as De,p as be,q as Re,Q as Me,v as Te,D as Pe,w as Oe,y as Ae,N as ke}from"./vendor-BjjxFmO4.js";import{F as s,H as Se,y as B,j as Ve,l as Be,c as K,t as we,u as J,C as Ce,i as xe,a as Fe,K as $e,E as He,S as Q,x as Z,b as Ne,d as i,I as Ue,k as je}from"./xframelib-exp-B5TZbF78.js";import{i as qe,c as Ge,a as Xe}from"./vue-router-exp-CvNwyAs-.js";import"./ol-exp-BZzGrai6.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-C65O8cJc.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();const ee={SatusMessage:"statusmessage",LoadingMessage:"loadingMessage"};function w(e,t){s.EventBus.on(e,t)}function C(e,t){s.EventBus.off(e,t)}function lo(e,t){s.EventBus.emit(e,t)}function ze(e){s.EventBus.emit(ee.SatusMessage,e)}function so(e){s.EventBus.on(ee.SatusMessage,e)}let x=!1;function te(e="end"){if(e==="end")setTimeout(()=>{document.getElementById("apploading")?.remove()},300),x=!0;else if(e)if(x){const t=`加载Widget：${e}……`;ze(t)}else{const t=document.getElementById("app-loading-info");t&&(t.innerHTML=`正在加载：${e}……`)}}function F(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.head.appendChild(t)}const $={ModalContainerWidget_LoadModal:"ModalContainerWidget_LoadModal",ModalContainerWidget_CloseModal:"ModalContainerWidget_CloseModal",WidgetClosed:"WidgetClosed"},Ye=ce({name:"App",setup(){function e(a){if(!a.isExceptionInfo){const r=`${a.message}
$${a.result}`;s.Message.warn(r)}s.Logger().warn(a,"请求错误")}me(()=>{s.Loading("App.vue"),s.Config.Enables&&(s.Config.Enables.TurfAsync&&F("./js/turf-async/index.js"),s.Config.Enables.CesiumOfflineCache&&F("./js/CesiumOfflineCache.min.js"))}),_e(()=>Be.isLock,a=>{s.Logger().debug("监听状态变化",a)}),fe(()=>{Se(),s.Logger().debug("监听了000000000"),w(B.AxiosRequestErrorEvent,e),w($.WidgetClosed,t)});function t(a){if(a){const r=s.getLayoutManager(a);r&&r.unloadWidget(a)}}ge(()=>{Ve(),s.Logger().debug("卸载了000000000"),C(B.AxiosRequestErrorEvent,e),C($.WidgetClosed,t)})}}),Ke=(e,t)=>{const a=e.__vccOpts||e;for(const[r,n]of t)a[r]=n;return a};function Je(e,t,a,r,n,l){const d=Le("router-view");return ye(),he(d)}const v=Ke(Ye,[["render",Je]]);var oe=(e=>(e.SIDEBAR="sidebar",e.MIX_SIDEBAR="mix-sidebar",e.MIX="mix",e.TOP_MENU="top-menu",e))(oe||{}),re=(e=>(e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.VERTICAL_RIGHT="vertical-right",e.INLINE="inline",e))(re||{}),g=(e=>(e[e.Widget=0]="Widget",e[e.Route=1]="Route",e[e.URL=2]="URL",e[e.Action=3]="Action",e))(g||{});const Qe={leftDrawerOpen:!0,reloadFlag:!0,showTabMenu:!0,TabMenuHeight:30,showBreadCrumbs:!0,leftCollapsed:!1,overlayMenu:!1,layoutContentHeight:700,layoutContentWidth:600,showSettingButton:!0,openKeepAlive:!0,useErrorHandle:!1,showLogo:!0,showFooter:!0,footerHeight:20,headerSetting:{fixed:!0,show:!0,height:64,centerTitle:!0,showFullScreen:!0,showCollapseIcon:!0,showNotice:!0},menuSetting:{collapsed:!1,minWidth:48,menuWidth:250,accordion:!0,mode:re.HORIZONTAL,type:oe.SIDEBAR}},E="PROJ_SETTINGS_KEY",I=new J("",sessionStorage),H={...Qe},Ze=b("app",{state:()=>{I?.remove(E);const t=I.get(E)||H,a=t.headerSetting?.height??64,n=t.showFooter?t.footerHeight:0;t.layoutContentHeight=document.body.clientHeight-n-a,t.leftCollapsed=t.menuSetting?.collapsed;let l=0;return t.leftCollapsed?l=t.menuSetting?.minWidth:l=t.menuSetting?.menuWidth??250,t.layoutContentWidth=document.body.clientWidth-l,t},getters:{layoutHeaderHeight(e){return e.headerSetting.height??64},layoutFooterHeight(e){return e.showFooter?e.footerHeight:0},layoutSiderWidth(e){return!e.menuSetting||!e.menuSetting.show?0:e.menuSetting.collapsed?e.menuSetting.minWidth:e.menuSetting.menuWidth??250}},actions:{async reloadPage(e=0){this.reloadFlag=!1,await ve(),e?setTimeout(()=>{this.reloadFlag=!0},e):this.reloadFlag=!0},getCacheStore(){let e=I.get(E);return e||(e=H),e},saveCacheStore(){I.set(E,this.$state)},clear(){I?.remove(E)},setProjectConfig(e){e&&(we(this.$state,e),this.saveCacheStore())},setMenuSetting(e){this.setProjectConfig({menuSetting:e})},toggleCollapse(){this.leftCollapsed=!this.leftCollapsed,this.menuSetting.collapsed=this.leftCollapsed,this.layoutContentWidth=document.body.clientWidth-this.layoutSiderWidth,this.saveCacheStore();const e=new Event("resize");window.dispatchEvent(e)},resizeHandler(){this.layoutContentWidth=document.body.clientWidth-this.layoutSiderWidth,this.layoutContentHeight=document.body.clientHeight-this.layoutFooterHeight-this.layoutHeaderHeight,this.saveCacheStore()}}});function et(){Ze().resizeHandler()}K.windowResizeHandler(et);const tt=b("asyncRoute",{state:()=>({menus:[],keepAliveComponents:[]}),getters:{},actions:{setRoutes(e){this.menus=e}}});function ot(e){for(const t in e)return e[t]}const rt=b("breadCrumbs",{state:()=>({breadcrumbs:[]}),getters:{getBreadCrumbs(e){return e.breadcrumbs}},actions:{setBreadcurmbs(e,t){const a=[];for(let n=0;n<e.length;n++){const l={title:e[n].meta.title,name:e[n].name,fullPath:e[n].path,icon:e[n].meta.icon,keepAlive:e[n].meta.keepAlive};a.push(l)}const r=a.length-1;Object.keys(t).length&&(a[r].title+="："+ot(t)),this.breadcrumbs=a}}}),it={path:"/bigscreen",name:"bigscreen",component:()=>o(()=>import("./index-BYcxAd0z.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url),meta:{title:"",keepAlive:!0},children:[{path:"/bigscreen/test",name:"test",meta:{title:"routes.home",icon:"icon-Home-Filled"},component:()=>o(()=>import("./testView-SSiXzJrN.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,8,9,10,11,12,15]),import.meta.url)}]},at="GIS-OpenLayers",nt="0.0.1",lt="2024-11-06,基于Openlayers开发的二维GIS平台系统",st="GIS-OpenLayers",dt="zorrowm <zorrowm@126.com>",ut="module",pt={lint:"eslint --fix --ext .ts,.vue ./",format:'prettier --write "**/*.{ts,vue,scss,html,md,json}" --ignore-path .gitignore',dev:"cross-env DEBUG=vite:deps VITE_CJS_IGNORE_WARNING=true  quasar dev",build:"quasar build","build:pwa":"quasar build -m pwa",clean:"quasar clean && rimraf components.d.ts package-lock.json pnpm-lock.yaml && rimraf node_modules/.q-cache"},ct={"@loaders.gl/core":"^4.3.3","@microsoft/signalr":"^8.0.7","@quasar/extras":"^1.16.15","@vueuse/core":"^12.2.0",comlink:"^4.4.2",dexie:"^4.0.10",echarts:"^5.5.1","floating-vue":"5.2.2","iconv-lite":"^0.6.3","lodash-es":"^4.17.21","md-editor-v3":"^5.1.1","monaco-editor":"^0.52.2",nprogress:"1.0.0-1",ol:"^10.3.1","ol-ext":"^4.0.24",pinia:"^2.3.0",quasar:"^2.17.5",vue:"^3.5.13","vue-router":"^4.5.0","vue-types":"^5.1.3",xframelib:"^0.8.9","xgis-data2d":"^0.0.3","xgis-ol":"^0.4.3","xgis-plot":"^0.0.4"},mt={"@iconify/vue":"^4.2.0","@quasar/app-vite":"2.0.4","@rollup/plugin-alias":"^5.1.1","@types/node":"^22.10.2","@types/nprogress":"^0.2.3","@typescript-eslint/eslint-plugin":"^8.18.2","@typescript-eslint/parser":"^8.18.2","@vue-macros/volar":"^0.30.8","@vue/compiler-sfc":"^3.5.13",autoprefixer:"^10.4.20","cross-env":"^7.0.3",dotenv:"^16.4.7",eslint:"^9.17.0","eslint-config-prettier":"^9.1.0","eslint-plugin-simple-import-sort":"^12.1.1","eslint-plugin-vue":"^9.32.0",prettier:"^3.4.2",prismjs:"^1.29.0",rimraf:"^6.0.1","rollup-plugin-copy":"^3.5.0","rollup-plugin-node-polyfills":"^0.2.1","rollup-plugin-visualizer":"^5.12.0",sass:"^1.83.0",typescript:"^5.7.2","unplugin-vue-components":"^0.28.0","vite-plugin-checker":"^0.8.0","vite-plugin-commonjs":"^0.10.4","vite-plugin-fs":"^1.1.0","vite-plugin-vue-inspector":"^5.3.1","vite-plugin-webworker-service":"^1.1.0","vite-tsconfig-paths":"^5.1.4"},_t={node:"^24 || ^22 || ^20 || ^18",npm:">= 6.13.4",yarn:">= 1.21.1"},ft={name:at,version:nt,description:lt,productName:st,author:dt,type:ut,private:!0,scripts:pt,dependencies:ct,devDependencies:mt,engines:_t},{name:gt,version:yt}=ft,ie={pkg:{name:gt,version:yt},lastBuildTime:Ie.formatDate("YYYY-MM-DD HH:mm:ss")};function ht(){const{pkg:e}=ie,t=`${e.name}_${e.version}`;return K.MD5(t)}function uo(){const{pkg:e}=ie;return e}function ae(e,t="/"){if(e)return e.startsWith("/")?e.startsWith(t)?e:`${t}${e}`:t==="/"?`${t}${e}`:`${t}/${e}`}function N(e,t){e.getRoutes().find(n=>n.path==="/")||e.addRoute({name:"/",path:"/",redirect:t.path})}function ne(e){const t=[];let a=[];return Object.keys(e).forEach(r=>{const n=e[r];n&&a.push(...n)}),a=a.sort((r,n)=>{let l=0,d=0;return r.meta&&(r.meta.index!=null?l=Number(r.meta.index):l=100),n.meta&&(n.meta.index!=null?d=Number(n.meta.index):d=100),l-d}),t.push(...a),a.length=0,t}function le(e,t=!1){const a=[];let r=[];return Object.keys(e).forEach(n=>{const l=e[n];l&&r.push(...l)}),t&&(r=r.sort((n,l)=>{let d=0,p=0;return n.index!=null&&(d=Number(n.index)),l.index!=null&&(p=Number(l.index)),d-p})),a.push(...r),r.length=0,a}const Lt=[{path:"apiexamples",name:"apiexamples",component:()=>o(()=>import("./index-a63IFsSQ.js"),__vite__mapDeps([16,10,11,4,2,5,6,7,1,3,8,9,12,17]),import.meta.url),meta:{index:4,title:"查询-api示例",hidden:!0,isSystem:!0}},{path:"mdhelp",name:"mdhelp",component:()=>o(()=>import("./help-DN396s58.js"),__vite__mapDeps([18,4,2,5,6,7,12,19,20,1,3,8,9,10,11,21]),import.meta.url),meta:{index:5,title:"帮助文档"}}],vt=[{path:"index",name:"index",component:()=>o(()=>import("./index-BBSstrlr.js"),__vite__mapDeps([22,10,11,2,1,3,4,5,6,7,8,9,23,12,24]),import.meta.url),meta:{index:1,title:"首页",hidden:!0,isSystem:!0}}],Wt=Object.assign({"./apiexample.ts":Lt,"./home.ts":vt}),U=ne(Wt),j="/",Et={path:j,name:"Product",component:()=>o(()=>import("./productLayout-CfCmoBBq.js"),__vite__mapDeps([25,4,2,5,6,7,1,3,8,9,10,11,12,26]),import.meta.url),redirect:ae(U[0]?.path,j),meta:{title:"",hidden:!0,isSystem:!0,keepAlive:!0},children:U},It={path:"/preview",name:"preview",component:()=>o(()=>import("./index-3jumiIFM.js"),__vite__mapDeps([27,1,2,3,4,5,6,7,8,9,10,11,12,28]),import.meta.url),redirect:"/preview/mappreview",meta:{title:"",keepAlive:!0},children:[{path:"mappreview",name:"mappreview",meta:{title:"地图预览"},component:()=>o(()=>import("./MapPreview-BQPpZZxb.js"),__vite__mapDeps([29,2]),import.meta.url)},{path:"guestpreview",name:"guestpreview",meta:{title:"外部地图预览"},component:()=>o(()=>import("./GuestPreview--d6kq49O.js"),__vite__mapDeps([30,2,10,11,4,5,6,7,1,3,8,9,12]),import.meta.url)}]},q="error",Dt={path:"/:pathMatch(.*)*",name:"NotFound",meta:{index:99,title:"不存在",hidden:!0,isSystem:!0}},bt={path:"/error",name:q,redirect:"/error/404",meta:{index:80,title:"错误页",hidden:!0,isSystem:!0},children:[{path:"404",name:`${q}-404`,meta:{title:"404",hidden:!0,isSystem:!0},component:()=>o(()=>import("./404-Nmzw4sYh.js"),__vite__mapDeps([31,4,2,5,6,7,1,3,8,9,10,11,12,32]),import.meta.url)}]},Rt=[Dt,bt],Mt={path:"/help/:name",name:"help",meta:{title:"相关内部系统功能",isSystem:!0},component:()=>o(()=>import("./index-DLbXDsx4.js"),__vite__mapDeps([33,12,2,1,3,4,5,6,7,8,9,10,11]),import.meta.url)},Tt=[Mt],Pt=[{path:"/redirect/:path*",name:"Redirect",component:{},meta:{index:70,title:"重定向",icon:"SettingOutlined",hidden:!0,isSystem:!0},children:[{path:"",name:"Redirect2",component:()=>o(()=>import("./index-T7XIEwnc.js"),__vite__mapDeps([34,12,2]),import.meta.url),meta:{title:"重定向",hidden:!0,keepAlive:!1}}]}],Ot=[{path:"/login",name:"login",meta:{index:10,title:"系统登录",isSystem:!0},component:()=>o(()=>import("./index-DzsiV7zg.js"),__vite__mapDeps([35,4,2,5,6,7,1,3,8,9,12,10,11]),import.meta.url)},{path:"/onelogin",name:"onelogin",meta:{index:11,title:"统一登录",isSystem:!0},component:()=>o(()=>import("./index-DV3jt6T7.js"),__vite__mapDeps([36,4,2,5,6,7,1,3,8,9,37,12,10,11,38]),import.meta.url)},{path:"/onelogin-portal",name:"onelogin-portal",meta:{index:12,title:"统一验证导航页",isSystem:!0},component:()=>o(()=>import("./OneLoginPortal-B39Ff-mM.js"),__vite__mapDeps([39,4,2,5,6,7,12,1,3,8,9,10,11,40]),import.meta.url)}],At=Object.assign({"./error.ts":Rt,"./help.ts":Tt,"./redirect.ts":Pt,"./shared.ts":Ot}),kt=ne(At);async function St(e){const t=await Ce(e).catch(a=>{s.Message.warn(`token验证失败:${a.message}!`)});return t?(V().init(t.data),xe(t.data.doubletoken),!0):!1}L.configure({showSpinner:!1});const R="/login",Vt="/";function Bt(e){const t=s.Config.UI?.SiteTitle;return e?`${e} - ${t}`:`${t}`}function G(e){return e==="NotFound"?!1:se(ue,e)}function se(e,t){let a=!1;const r=e.length;for(let n=0;n<r;n++){const l=e[n];if(a=l.name==t,a)break;if(l.children&&(a=se(l.children,t),a))break}return a}function de(e,t,a=""){let r=!1;const n=e.length;for(let l=0;l<n;l++){const d=e[l];let p=d.path;if(p.startsWith("/")||(p=`${a}/${p}`),r=p==t,r)break;if(t.startsWith(p)&&d.children&&(r=de(d.children,t,p),r))break}return r}function wt(e){let t="";const a=rt();e.beforeEach((r,n,l)=>{L.start();const d=r.name;t=r.path;const p=V();if(d==="NotFound"&&!de(D,t)){l({path:"/error",query:{url:r.path}});return}if(Fe()){const u=$e();if(!s.User&&p.id&&(He(),d==="NotFound"&&u&&u.routes&&u.routes.length>0)){const _=z();if(_){s.User=p.id;let f;_.forEach(y=>{f||(f=y),e.addRoute(y)}),f&&N(e,f),r.name=void 0,l(r)}return}if(d==="login")l({path:Vt}),L.done();else{const _=e.hasRoute(d);(G(d)||_)&&(!u&&d==="NotFound"?(Q(),Z(),l({path:R,query:{redirect:r.fullPath},replace:!0})):(l(),a.setBreadcurmbs(r.matched,r.query)),L.done())}}else{const u=r.query?.tk?.toString();if(u)St(u).then(_=>{if(_){const f=ht(),y=p.DefaultMaxRoleLevel===0;Ne(f,y).then(()=>{const W=z();if(W){let m;if(W.forEach(h=>{m||(m=h),e.addRoute(h)}),m&&N(e,m),r.query.redirect){const h=r.query.redirect;h.startsWith("http")?window.open(h,"_self"):l({path:h})}else l({path:r.path});return}}).catch(()=>{s.Message.warn("获取用户功能权限失败！"),l()})}else{s.Logger().debug("验证外部的tk参数失败！");const f=s.Config.ServiceURL.UILoginURL;if(f){const y=document.URL;window.open(f+"?redirect="+y,"_self")}else{let y=r.fullPath;r.query.redirect&&(y=r.query.redirect),l({path:R,query:{redirect:y},replace:!0})}L.done()}});else if(G(d))l(),a.setBreadcurmbs(r.matched,r.query);else{const _=s.Config.ServiceURL.UILoginURL;if(_){const f=document.URL;window.open(_+"?redirect="+f,"_self")}else l({path:R,query:{redirect:r.fullPath},replace:!0});L.done()}}}),e.afterEach((r,n,l)=>{const d=tt();document.title=Bt(r.meta.title),qe(l)&&s.Logger().debug("failed navigation",l);const p=d.keepAliveComponents,c=r.matched.find(u=>u.name==r.name)?.components?.default.name;if(c&&!p?.includes(c)&&r.meta?.keepAlive)p.push(c);else if(!r.meta?.keepAlive||r.name=="Redirect"){const u=d.keepAliveComponents.findIndex(_=>_==c);u!=-1&&p?.splice(u,1)}L.done()}),e.onError(r=>{s.Message.err("加载视图错误:"+r.message),s.Logger().debug(r,"路由错误"),e.push("/error/404")})}te("Router路由");const D=[],X=[Et,it,It,...kt],ue=s.Config.UI.IsNoLogin?[...D,...X]:X,M=De(function(){const t=Ge({scrollBehavior:()=>({left:0,top:0}),routes:ue,history:Xe("/./")});return s.Config.UI?.IsNoLogin||wt(t),t}),Ct=[{name:"服务加载",index:4,icon:"gis:map-route",path:"serviceLoadMenuWidget",type:g.Widget,children:[{name:"OGC WMTS加载",path:"WMTSLoadPanelWidget",icon:"gis:wmts",type:g.Widget,unload:!0},{name:"MVT矢量切片服务",path:"MVTLoadPanelWidget",icon:"gis:mvt",type:g.Widget,unload:!0}]},{name:"Popup弹框",index:5,icon:"gis:map-play",path:"popupTooltipWidget",type:g.Widget,unload:!0},{name:"遮罩裁切",index:6,icon:"bi:layout-split",path:"clipPolygonLayer",type:g.Widget,unload:!0}],xt=[{name:"地图工具",index:1,icon:"gis:globe-gear",path:"linkMenuWidget",type:g.Widget,unload:!0,children:[{name:"量算工具",icon:"gis:measure",path:"measureToolWidget",type:g.Widget,unload:!0},{name:"绘制工具",path:"drawToolBarWidget",icon:"material-symbols:draw-outline",type:g.Widget,unload:!0},{name:"卷帘分析",path:"swipeToolBar",icon:"ic:outline-swipe",type:g.Widget,unload:!0},{name:"态势标绘",path:"plotMapWidget",icon:"clarity:scatter-plot-outline-alerted",type:g.Widget,unload:!0},{name:"两屏对比",icon:"bi:layout-split",path:"twoMapScreenControl",type:g.Action,selected:!1,tag:{layoutID:"previewLayout,bigScreenLayout",widgetID:"twoXMapWidget"}},{name:"视频录制",path:"mapVideoRecorder",icon:"ph:file-video-thin",type:g.Widget,unload:!0},{name:"截图打印",path:"mapPrintDialog",icon:"dashicons:printer",type:g.Widget,unload:!0},{name:"在线底图管理",path:"basicLayerManagerWidget",icon:"ic:baseline-layers",type:g.Widget,unload:!0}]}],Ft=Object.assign({"./mapother.ts":Ct,"./maptoolbar.ts":xt}),po=le(Ft,!0),$t=[{layoutID:"bigScreenLayout",id:"headerTitleWidget",label:"头部栏",container:i.top,component:()=>o(()=>import("./HeaderTitleWidget-DFe7_R4x.js"),__vite__mapDeps([41,4,2,5,6,7,42,1,3,8,9,43,37,12,10,11,44]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"statusWidget",container:i.bottom,component:()=>o(()=>import("./StatusWidget-BD84TjQ9.js"),__vite__mapDeps([45,1,2,3,4,5,6,7,8,9,10,11,12,46]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"XMapContainerWidget",label:"XMap地图容器组件",container:i.centerBack,component:()=>o(()=>import("./XMapContainerWidget-BZ15T4M_.js"),__vite__mapDeps([47,1,2,3,4,5,6,7,8,9,48,49,10,11,12,50]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"twoXMapWidget",label:"分屏地图",container:i.centerBack,component:()=>o(()=>import("./TwoXMapWidget-D2iKShMK.js"),__vite__mapDeps([51,4,2,5,6,7,1,3,8,9,48,49,12,52,53,10,11,54]),import.meta.url),preload:!1,layout:{position:"absolute",left:"0"}},{layoutID:"bigScreenLayout",id:"swipeToolBar",label:"卷帘工具",container:i.centerBack,component:()=>o(()=>import("./TwoSwipeToolWidget-B-VPKdI0.js"),__vite__mapDeps([55,48,2,8,5,4,7,6,49,1,3,9,10,11,12,56]),import.meta.url),afterid:"twoXMapWidget",preload:!0,layout:{position:"absolute",right:"calc(50% + 20px)",top:"175px",height:"130px"}},{layoutID:"bigScreenLayout",id:"popupTooltipWidget",label:"Popup提示框",container:i.centerBack,component:()=>o(()=>import("./PopupTooltipWidget-BbyskL5t.js"),__vite__mapDeps([57,5,4,2,7,6,1,3,8,9,48,49]),import.meta.url),preload:!1},{layoutID:"bigScreenLayout",id:"clipPolygonLayer",label:"裁切图层",container:i.centerBack,component:()=>o(()=>import("./ClipPolygon-D6cYOfBt.js"),__vite__mapDeps([58,5,4,2,7,6,1,3,8,9,59]),import.meta.url),preload:!1}],Ht=[{layoutID:"frontLayoutWidget",id:"BaiduMapWidget",label:"百度地图初始化",container:i.centerBack,component:()=>o(()=>import("./BaiduMapWidget-C8IyCzyz.js"),__vite__mapDeps([60,48,2,8,5,4,7,6,49,10,11,1,3,9,12,61]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MultiMapWidget",label:"多屏地图",container:i.centerBack,component:()=>o(()=>import("./index-qr4yNpcD.js"),__vite__mapDeps([62,1,2,3,4,5,6,7,8,9,48,49,10,11,12,63]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"StartMapInitWidget",label:"最简单的地图初始化",container:i.centerBack,component:()=>o(()=>import("./StartMapInitWidget-B55tgLnw.js"),__vite__mapDeps([64,48,2,8,5,4,7,6,49,10,11,1,3,9,12,65]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"ClipInteractionWidget",label:"鱼眼实现ol-ext",container:i.centerBack,component:()=>o(()=>import("./ClipInteractionWidget-DoI6fNyZ.js"),__vite__mapDeps([66,4,2,5,6,7,1,3,8,9,10,11,12,67]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"FisheyeMap",label:"鱼眼地图",container:i.centerBack,component:()=>o(()=>import("./FisheyeMap-66KC2RJE.js"),__vite__mapDeps([68,2,48,8,5,4,7,6,49,1,3,9,10,11,12,69]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"contextmenuWidget",label:"右键菜单",container:i.centerBack,component:()=>o(()=>import("./ContextMenuWidget-cSeSQiWa.js"),__vite__mapDeps([70,1,2,3,4,5,6,7,8,9,48,49]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"mapPrintWidget",label:"Print打印输出",container:i.centerBack,component:()=>o(()=>import("./MapPrintWidget-BRGVP-Vf.js"),__vite__mapDeps([71,1,2,3,4,5,6,7,8,9,72]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"mapPrintDialogWidget",label:"Print打印对话框",container:i.centerBack,component:()=>o(()=>import("./MapPrintDialogWidget-Cz0MBaBB.js"),__vite__mapDeps([73,1,2,3,4,5,6,7,8,9,74]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"mapVideoRecorderWidget",label:"Video视频录制",container:i.centerBack,component:()=>o(()=>import("./MapVideoRecorderWidget-DS8qVT1p.js"),__vite__mapDeps([75,5,4,2,7,6,1,3,8,9,76]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"SwipeMap",label:"卷帘地图",container:i.centerBack,component:()=>o(()=>import("./SwipeMap-DUmvvKLr.js"),__vite__mapDeps([77,48,2,8,5,4,7,6,49,1,3,9,10,11,12,78]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"ClipPolygonLayer",label:"裁切图层",container:i.centerBack,component:()=>o(()=>import("./ClipPolygon-D6cYOfBt.js"),__vite__mapDeps([58,5,4,2,7,6,1,3,8,9,59]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"PolygonZheZhao",label:"遮罩图层",container:i.centerBack,component:()=>o(()=>import("./PolygonZheZhao-B2OpePsp.js"),__vite__mapDeps([79,5,4,2,7,6,1,3,8,9,59]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"CropMaskExt",label:"ol扩展Mask遮罩图层",container:i.centerBack,component:()=>o(()=>import("./CropMaskExtWidget-CMeplF2F.js"),__vite__mapDeps([80,4,2,5,6,7,1,3,8,9,59,10,11,12,81]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"PlotMapWidget",label:"态势标绘服务",container:i.centerBack,component:()=>o(()=>import("./PlotMapWidget-CfEo2Tdd.js"),__vite__mapDeps([82,4,2,5,6,7,1,3,8,9,10,11,12,83]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LayerManager",label:"图层管理",container:i.centerBack,component:()=>o(()=>import("./LayerManager-CyjZmKzP.js"),__vite__mapDeps([84,2,10,11,4,5,6,7,1,3,8,9,12]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"InterestPointsLayer",label:"兴趣点图层",container:i.centerBack,component:()=>o(()=>import("./index-BfYsAeOM.js"),__vite__mapDeps([85,5,4,2,7,6,48,8,49,10,11,1,3,9,12,86]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LoadWMTSLayer",label:"加载WMTS图层",container:i.centerBack,component:()=>o(()=>import("./LoadWMTS-DDrgPa5Y.js"),__vite__mapDeps([87,2,10,11,4,5,6,7,1,3,8,9,12]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LoadMultiWMTS",label:"加载多个WMTS",container:i.centerBack,component:()=>o(()=>import("./LoadMultiWMTS-sYyFvg5s.js"),__vite__mapDeps([88,2,10,11,4,5,6,7,1,3,8,9,12]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"MapBasicTool",label:"基础工具",container:i.centerBack,component:()=>o(()=>import("./MapBasicTool-BfC6T7j8.js"),__vite__mapDeps([89,2,10,11,4,5,6,7,1,3,8,9,12]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LocationWidget",label:"定位工具",container:i.centerBack,component:()=>o(()=>import("./LocationWidget-7mwm-B7c.js"),__vite__mapDeps([90,4,2,5,6,7,48,8,49,1,3,9,91]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"DrawToolBarWidget",label:"绘制工具",container:i.centerBack,component:()=>o(()=>import("./DrawToolBarWidget-8GDx_nqQ.js"),__vite__mapDeps([92,48,2,8,5,4,7,6,49,1,3,9]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"MeasureToolBarWidget",label:"量算工具",container:i.centerBack,component:()=>o(()=>import("./MeasureToolBarWidget-DEBwgV5U.js"),__vite__mapDeps([93,48,2,8,5,4,7,6,49,1,3,9]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"SwipeToolBar",label:"卷帘工具",container:i.centerBack,component:()=>o(()=>import("./SwipeToolBarWidget-Qtc5lSbd.js"),__vite__mapDeps([94,48,2,8,5,4,7,6,49,1,3,9,10,11,12,95]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"GeoimageLayerWidget",label:"GeoImage图层",container:i.centerBack,component:()=>o(()=>import("./GeoimageLayerWidget-NJg2CcRI.js"),__vite__mapDeps([96,1,2,3,4,5,6,7,8,9,10,11,12,97]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"StaticimageLayerWidget",label:"StaticImage转投影图层",container:i.centerBack,component:()=>o(()=>import("./StaticimageLayerWidget-B3CJR7Hy.js"),__vite__mapDeps([98,1,2,3,4,5,6,7,8,9,10,11,12,99]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"PerspectiveMapWidget",label:"地图倾斜",container:i.centerBack,component:()=>o(()=>import("./PerspectiveMapWidget-aoP-NGqK.js"),__vite__mapDeps([100,4,2,5,6,7,101]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"epsgSwitchWidget",label:"地图投影切换",container:i.centerBack,component:()=>o(()=>import("./EpsgSwitchWidget-B0yJgIIy.js"),__vite__mapDeps([102,4,2,5,6,7,48,8,49,1,3,9]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1,layout:{position:"absolute",right:"40px",bottom:"0px"}},{layoutID:"frontLayoutWidget",id:"dragFileLoadLayerWidget",label:"拖拽文件加载图层",container:i.centerBack,component:()=>o(()=>import("./DragFileLoadLayerWidget-D8lp4tGl.js"),__vite__mapDeps([103,5,4,2,7,6,1,3,8,9,48,49]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"GeojsonDataWidget",label:"加载Geojson数据",container:i.centerBack,component:()=>o(()=>import("./GeojsonDataWidget-DuCgGid6.js"),__vite__mapDeps([104,5,4,2,7,6,1,3,8,9]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"WMTSImageLayerWidget",label:"加载影像WMTS数据",container:i.centerBack,component:()=>o(()=>import("./WMTSImageLayerWidget-CM4y0SsL.js"),__vite__mapDeps([105,1,2,3,4,5,6,7,8,9,12]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"OGCWMTSLayerWidget",label:"OGC GetCapabilities加载影像WMTS数据",container:i.centerBack,component:()=>o(()=>import("./OGCWMTSLayerWidget-DucuWRBm.js"),__vite__mapDeps([106,48,2,8,5,4,7,6,49,1,3,9,12]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"MultiTimeLayerWidget",label:"多时相影像图层",container:i.centerBack,component:()=>o(()=>import("./MultiTimeLayerWidget-C_zf3CHH.js"),__vite__mapDeps([107,4,2,5,6,7,12,1,3,8,9,52,53,10,11,108]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"WMTSLayerURLWidget",label:"URL加载影像WMTS数据",container:i.centerBack,component:()=>o(()=>import("./WMTSLayerURLWidget-amiEQHOB.js"),__vite__mapDeps([109,4,2,5,6,7,48,8,49,1,3,9,12]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"MVTLayerWidget",label:"加载MVT矢量瓦片数据服务",container:i.centerBack,component:()=>o(()=>import("./MVTLayerWidget-Cw__z8SU.js"),__vite__mapDeps([110,4,2,5,6,7,48,8,49,1,3,9,12,10,11,111]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"MVTDataWidget",label:"加载展示单张MVT矢量瓦片数据",container:i.centerBack,component:()=>o(()=>import("./MVTDataWidget-BjvbMXwg.js"),__vite__mapDeps([112,1,2,3,4,5,6,7,8,9,10,11,12,113]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"StyleJsonMapWidget",label:"通过StyleJSON地图样式文档加载电子地图",container:i.centerBack,component:()=>o(()=>import("./StyleJsonMapWidget-CghJoYaQ.js"),__vite__mapDeps([114,4,2,5,6,7,48,8,49,1,3,9,10,11,12,115]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"OGCWMSLayerWidget",label:"OGC URL加载WMS数据",container:i.centerBack,component:()=>o(()=>import("./OGCWMSLayerWidget-BRuF455H.js"),__vite__mapDeps([116,1,2,3,4,5,6,7,8,9,12]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"building3DWidget",label:"建筑物3D渲染图层",container:i.centerBack,component:()=>o(()=>import("./Building3DWidget-DBB8sX9Y.js"),__vite__mapDeps([117,5,4,2,7,6,1,3,8,9]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"dragLoadVectorDataWidget",label:"shp矢量数据加载",container:i.centerBack,component:()=>o(()=>import("./DragFileLoadLayerWidget-CaVClDXv.js"),__vite__mapDeps([118,4,2,5,6,7,1,3,8,9]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1}],Nt=[{layoutID:"frontLayoutWidget",id:"FrontXMapWidget",label:"XMapWidget根据MapConfig.json构建地图",container:i.centerBack,component:()=>o(()=>import("./XMapWidget-vMjgER8g.js"),__vite__mapDeps([119,2,1,3,4,5,6,7,8,9,48,49,10,11,12,120]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"FrontMainMapWidget",label:"OL地图组件",container:i.centerBack,component:()=>o(()=>import("./MainMapWidget-CZqxoD14.js"),__vite__mapDeps([121,1,2,3,4,5,6,7,8,9,48,49,10,11,12,122]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"FrontOLXMapWidget",label:"OLXMap地图组件",container:i.centerBack,component:()=>o(()=>import("./OLXMapWidget-BYLLO2nj.js"),__vite__mapDeps([123,1,2,3,4,5,6,7,8,9,48,49,10,11,12,124]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"FrontXMapViewWidget",label:"XMapView地图组件",container:i.centerBack,component:()=>o(()=>import("./XMapViewWidget-CyWtlH-j.js"),__vite__mapDeps([125,4,2,5,6,7,12,1,3,8,9,48,49,126,10,11,127]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"ZoomFullControlWidget",label:"缩放工具栏",container:i.centerBack,component:()=>o(()=>import("./ZoomFullControlWidget-a_uoOJyQ.js"),__vite__mapDeps([128,48,2,8,5,4,7,6,49,1,3,9]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1,layout:{position:"absolute",top:"20px",right:"20px",zIndex:20}},{layoutID:"frontLayoutWidget",id:"MapOverviewWidget",label:"地图缩略图",container:i.centerBack,component:()=>o(()=>import("./MapOverviewWidget-K3695Ys5.js"),__vite__mapDeps([129,1,2,3,4,5,6,7,8,9,130]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"targetControlWidget",label:"十字中心",container:i.centerBack,component:()=>o(()=>import("./TargetControlWidget-sxwf0tVT.js"),__vite__mapDeps([131,1,2,3,4,5,6,7,8,9]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"distanceLegendWidget",label:"地图比例尺",container:i.centerBack,component:()=>o(()=>import("./DistanceLegendWidget-CXhmMNvI.js"),__vite__mapDeps([132,1,2,3,4,5,6,7,8,9]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"BasicLayerManagerWidget",label:"底图管理组件",container:i.centerBack,component:()=>o(()=>import("./BasicLayerManagerWidget-CyuogVpK.js"),__vite__mapDeps([133,4,2,5,6,7,1,3,8,9,48,49,10,11,12,134]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"PopupTooltipWidget",label:"Popup提示框",container:i.centerBack,component:()=>o(()=>import("./PopupTooltipWidget-BbyskL5t.js"),__vite__mapDeps([57,5,4,2,7,6,1,3,8,9,48,49]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LayerSwitchWidget",label:"图层切换",container:i.centerBack,component:()=>o(()=>import("./LayerSwitchWidget-CJ8OXYRT.js"),__vite__mapDeps([135,4,2,5,6,7,1,3,8,9,10,11,12,136]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"layerControlMenuWidget",label:"图层管理树",container:i.centerBack,component:()=>o(()=>import("./LayerControlMenuWidget-BQAtNwi9.js"),__vite__mapDeps([137,1,2,3,4,5,6,7,8,9,48,49]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1}],Ut=[{layoutID:"mapLayout",id:"MapproxyWidget",label:"地图代理",container:i.centerBack,component:()=>o(()=>import("./MapproxyWidget-BVXmyDXg.js"),__vite__mapDeps([138,2]),import.meta.url),preload:!1},{layoutID:"mapLayout",id:"zoomFullWidget",label:"缩放工具栏",container:i.centerBack,component:()=>o(()=>import("./MapZoomFullWidget-BzT9ZnlY.js"),__vite__mapDeps([139,48,2,8,5,4,7,6,49,1,3,9]),import.meta.url),afterid:"MapproxyWidget",preload:!0,layout:{position:"absolute",bottom:"110px",left:"10px"}},{layoutID:"mapLayout",id:"toolAppendMenuWidget",label:"地图工具菜单",container:i.centerBack,component:()=>o(()=>import("./MapToolAppendWidget-B8-9mx-l.js"),__vite__mapDeps([140,1,2,3,4,5,6,7,8,9]),import.meta.url),afterid:"MapproxyWidget",preload:!0,layout:{position:"absolute",bottom:"70px",left:"10px"}},{layoutID:"mapLayout",id:"queryLayerLoadWidget",label:"解析URL地址加载图层",container:i.centerBack,component:()=>o(()=>import("./QueryLayerLoadWidget-jUWojv5x.js"),__vite__mapDeps([141,4,2,5,6,7,12,1,3,8,9,48,49,52,53,10,11,142]),import.meta.url),afterid:"MapproxyWidget",preload:!0,layout:{position:"absolute",right:"40px",top:"10px"}},{layoutID:"mapLayout",id:"dragLoadLayerWidget",label:"拖拽添加图层（geojson）",container:i.centerBack,component:()=>o(()=>import("./DragFileLoadLayerWidget-D8lp4tGl.js"),__vite__mapDeps([103,5,4,2,7,6,1,3,8,9,48,49]),import.meta.url),afterid:"MapproxyWidget",preload:!0},{layoutID:"mapLayout",id:"epsgSwitchWidget",label:"地图EPSG坐标系切换",container:i.centerBack,component:()=>o(()=>import("./EpsgSwitchWidget-B0yJgIIy.js"),__vite__mapDeps([102,4,2,5,6,7,48,8,49,1,3,9]),import.meta.url),afterid:"MapproxyWidget",preload:!0,layout:{position:"absolute",right:"50px",bottom:"-5px",backgroundColor:"#f0f3f4",borderRadius:"20px"}},{layoutID:"mapLayout",id:"mapLayerTreeWidget",label:"图层树",container:i.centerBack,component:()=>o(()=>import("./MapLayerTreeWidget-DIeS7hpb.js"),__vite__mapDeps([143,1,2,3,4,5,6,7,8,9,48,49]),import.meta.url),preload:!1},{layoutID:"mapLayout",id:"MapOverviewWidget2",label:"地图缩略图",container:i.centerBack,component:()=>o(()=>import("./MapOverviewWidget-K3695Ys5.js"),__vite__mapDeps([129,1,2,3,4,5,6,7,8,9,130]),import.meta.url),afterid:"MapproxyWidget",preload:!0},{layoutID:"mapLayout",id:"mapContextmenuWidget",label:"地图右键菜单",container:i.centerBack,component:()=>o(()=>import("./MapContextMenuWidget-D4kKh4zL.js"),__vite__mapDeps([144,1,2,3,4,5,6,7,8,9,48,49,10,11,12,145]),import.meta.url),afterid:"MapproxyWidget",preload:!0},{layoutID:"mapLayout",id:"basicLayerManagerWidget",label:"在线底图管理",container:i.centerBack,component:()=>o(()=>import("./BasicLayerManagerWidget-CyuogVpK.js"),__vite__mapDeps([133,4,2,5,6,7,1,3,8,9,48,49,10,11,12,134]),import.meta.url),preload:!1},{layoutID:"mapLayout",id:"wmtsLoadPanelWidget",label:"多种方式加载WMTS",container:i.centerBack,component:()=>o(()=>import("./WMTSLoadPanelWidget-CK1zzpeF.js"),__vite__mapDeps([146,4,2,5,6,7,1,3,8,9,48,49,53,10,11,12,147]),import.meta.url),preload:!1},{layoutID:"mapLayout",id:"mvtLoadPanelWidget",label:"加载矢量切片/电子地图",container:i.centerBack,component:()=>o(()=>import("./MVTLoadPanelWidget-DDtLcM2-.js"),__vite__mapDeps([148,4,2,5,6,7,1,3,8,9,110,48,49,12,10,11,111,114,115,112,113]),import.meta.url),preload:!1},{layoutID:"mapLayout",id:"linkMenuWidget",label:"地图工具栏",container:i.centerBack,component:()=>o(()=>import("./index-BmtILNHT.js"),__vite__mapDeps([149,2,1,3,4,5,6,7,8,9,12,10,11,150]),import.meta.url),preload:!1},{layoutID:"mapLayout",id:"measureToolWidget",label:"量算工具",container:i.centerBack,component:()=>o(()=>import("./MeasureToolBarWidget-DEBwgV5U.js"),__vite__mapDeps([93,48,2,8,5,4,7,6,49,1,3,9]),import.meta.url),preload:!1,layout:{position:"absolute",right:"55px",top:"105px"}},{layoutID:"mapLayout",id:"drawToolBarWidget",label:"绘制工具",container:i.centerBack,component:()=>o(()=>import("./DrawToolBarWidget-8GDx_nqQ.js"),__vite__mapDeps([92,48,2,8,5,4,7,6,49,1,3,9]),import.meta.url),preload:!1,layout:{position:"absolute",right:"55px",top:"140px"}},{layoutID:"mapLayout",id:"mapPrintDialog",label:"Print打印对话框",container:i.centerBack,component:()=>o(()=>import("./MapPrintDialogWidget-Cz0MBaBB.js"),__vite__mapDeps([73,1,2,3,4,5,6,7,8,9,74]),import.meta.url),preload:!1},{layoutID:"mapLayout",id:"mapVideoRecorder",label:"Video视频录制",container:i.centerBack,component:()=>o(()=>import("./MapVideoRecorderWidget-DS8qVT1p.js"),__vite__mapDeps([75,5,4,2,7,6,1,3,8,9,76]),import.meta.url),preload:!1},{layoutID:"mapLayout",id:"swipeToolBar",label:"卷帘工具",container:i.centerBack,component:()=>o(()=>import("./SwipeToolBarWidget-Qtc5lSbd.js"),__vite__mapDeps([94,48,2,8,5,4,7,6,49,1,3,9,10,11,12,95]),import.meta.url),preload:!1,layout:{position:"absolute",right:"55px",top:"175px",width:"130px"}},{layoutID:"mapLayout",id:"plotMapWidget",label:"态势标绘",container:i.centerBack,component:()=>o(()=>import("./PlotMapWidget-CfEo2Tdd.js"),__vite__mapDeps([82,4,2,5,6,7,1,3,8,9,10,11,12,83]),import.meta.url),preload:!1},{layoutID:"mapLayout",id:"LayerSwitchWidget",label:"图层切换",container:i.centerBack,component:()=>o(()=>import("./LayerSwitchWidget-CJ8OXYRT.js"),__vite__mapDeps([135,4,2,5,6,7,1,3,8,9,10,11,12,136]),import.meta.url),preload:!0}],jt=[{layoutID:"previewLayout",id:"XMapContainerWidget",label:"XMap地图容器组件",container:i.centerBack,component:()=>o(()=>import("./XMapContainerWidget-BZ15T4M_.js"),__vite__mapDeps([47,1,2,3,4,5,6,7,8,9,48,49,10,11,12,50]),import.meta.url),preload:!0},{layoutID:"previewLayout",id:"twoXMapWidget",label:"分屏地图",container:i.centerBack,component:()=>o(()=>import("./TwoXMapWidget-D2iKShMK.js"),__vite__mapDeps([51,4,2,5,6,7,1,3,8,9,48,49,12,52,53,10,11,54]),import.meta.url),preload:!1,layout:{position:"absolute",left:"0"}},{layoutID:"previewLayout",id:"swipeToolBar",label:"卷帘工具",container:i.centerBack,component:()=>o(()=>import("./TwoSwipeToolWidget-B-VPKdI0.js"),__vite__mapDeps([55,48,2,8,5,4,7,6,49,1,3,9,10,11,12,56]),import.meta.url),afterid:"twoXMapWidget",preload:!0,layout:{position:"absolute",right:"calc(50% + 20px)",top:"175px",height:"130px"}}],qt=[{layoutID:"productLayout",id:"LogoTitleWidget",label:"头部栏",container:i.top,component:()=>o(()=>import("./LogoTitleWidget-BxbW5_Sa.js"),__vite__mapDeps([151,2,4,5,6,7,1,3,8,9,10,11,12,152]),import.meta.url),preload:!0},{layoutID:"productLayout",id:"TopMenuWidget",label:"头部菜单栏",container:i.top,component:()=>o(()=>import("./TopMenuWidget-B4_VtMTT.js"),__vite__mapDeps([153,4,2,5,6,7,1,3,8,9,12,37,23,10,11,154]),import.meta.url),preload:!0},{layoutID:"productLayout",id:"frontLayoutWidget",label:"前端弹框容器",container:i.centerFront,component:()=>o(()=>import("./FrontLayoutContainerWidget-7Dwnb7zp.js"),__vite__mapDeps([155,4,2,5,6,7,12,1,3,8,9,10,11,42,43,156]),import.meta.url),preload:!1},{layoutID:"productLayout",id:"ModalContainerWidget",label:"弹框容器",container:i.top,component:()=>o(()=>import("./ModalContainerWidget-DSoEltvG.js"),__vite__mapDeps([157,4,2,5,6,7,1,3,8,9,10,11,12]),import.meta.url),preload:!0}],Gt=Object.assign({"./bigScreen.ts":$t,"./examples-OL.ts":Ht,"./olwidgets.ts":Nt,"./preview-mapContainer.ts":Ut,"./preview.ts":jt,"./productLayout.ts":qt}),S=le(Gt,!1);function pe(){return V().DefaultMaxRoleLevel}function z(){const e=s.Config.UI.IsNoLogin?D:je(D,pe());return!s.Config.UI.IsNoLogin&&!s.CorrectRoute&&(e?.forEach(t=>{t.children&&t.children.length>0&&(t.redirect=ae(t.children[0].path,t.path))}),s.CorrectRoute=!0),e}const T=[];function Xt(){const e=["portalLayout","bigScreenLayout","productLayout","previewLayout","mapLayout"];return T.length===0&&S.forEach(t=>{const a=t.layoutID;a&&e.indexOf(a)>=0&&T.push(t)}),T}function co(){let e;if(s.Config.UI.IsNoLogin)e=S;else{const t=pe();t===-1?e=Xt():e=Ue(S,t)}return s.WidgetConfigList||(s.WidgetConfigList=e),e}const P="USER_SYS_KEY",O=new J("",sessionStorage),V=b("user",{state:()=>O.get(P)||{},getters:{DefaultMaxRole(e){const t=e.roles?.[0];let a="普通用户";switch(t?.level){case 0:a="超级管理员";break;case 1:a="管理员";break;case 2:a="普通用户";break}return a},DefaultMaxRoleLevel(e){const t=e.roles?.[0];let a=-1;return t&&(a=t.level),a},AdminSystemList(e){const t=[];return e.roles?.forEach(a=>{(a.level===0||a.level===1)&&a.syslist&&a.syslist.forEach(r=>{t.findIndex(l=>l.id===r.id)<0&&t.push(r)})}),t}},actions:{init(e){this.id=e.id,this.name=e.name,this.doubletoken=e.doubletoken,this.roles=e.roles,this.bindid=e.bindid,O.set(P,{id:e.id,name:e.name,roles:e.roles})},getCurrentSystemRole(e){const t=this.roles;if(t){for(const a of t)if(a.syslist?.find(n=>n.id===e))return a}},clear(){this.id=void 0,this.name=void 0,this.doubletoken=void 0,this.roles=void 0,this.bindid=void 0,O.remove(P),Q(),Z()}}}),A=be(()=>(te("PiniaStore"),Re()));async function zt(e,t){const a=e(v);a.use(Me,t);const r=typeof A=="function"?await A({}):A;a.use(r);const n=We(typeof M=="function"?await M({store:r}):M);return r.use(({store:l})=>{l.router=n}),{app:a,store:r,router:n}}const Yt={config:{},lang:Te,plugins:{Dialog:Pe,AppFullscreen:Oe,Loading:Ae,Notify:ke}};let k=typeof v.preFetch=="function"?v.preFetch:v.__c!==void 0&&typeof v.__c.preFetch=="function"?v.__c.preFetch:!1;function Y(e,t){const a=e?e.matched?e:t.resolve(e).route:t.currentRoute.value;if(!a)return[];const r=a.matched.filter(n=>n.components!==void 0);return r.length===0?[]:Array.prototype.concat.apply([],r.map(n=>Object.keys(n.components).map(l=>{const d=n.components[l];return{path:n.path,c:d}})))}function Kt({router:e,store:t,publicPath:a}){e.beforeResolve((r,n,l)=>{const d=window.location.href.replace(window.location.origin,""),p=Y(r,e),c=Y(n,e);let u=!1;const _=p.filter((m,h)=>u||(u=!c[h]||c[h].c!==m.c||m.path.indexOf("/:")>-1)).filter(m=>m.c!==void 0&&(typeof m.c.preFetch=="function"||m.c.__c!==void 0&&typeof m.c.__c.preFetch=="function")).map(m=>m.c.__c!==void 0?m.c.__c.preFetch:m.c.preFetch);if(k!==!1&&(_.unshift(k),k=!1),_.length===0)return l();let f=!1;const y=m=>{f=!0,l(m)},W=()=>{f===!1&&l()};_.reduce((m,h)=>m.then(()=>f===!1&&h({store:t,currentRoute:r,previousRoute:n,redirect:y,urlPath:d,publicPath:a})),Promise.resolve()).then(W).catch(m=>{W()})})}const Jt="/./";async function Qt({app:e,router:t,store:a},r){let n=!1;const l=c=>{try{return t.resolve(c).href}catch{}return Object(c)===c?null:c},d=c=>{if(n=!0,typeof c=="string"&&/^https?:\/\//.test(c)){window.location.href=c;return}const u=l(c);u!==null&&(window.location.href=u,window.location.reload())},p=window.location.href.replace(window.location.origin,"");for(let c=0;n===!1&&c<r.length;c++)try{await r[c]({app:e,router:t,store:a,ssrContext:null,redirect:d,urlPath:p,publicPath:Jt})}catch(u){if(u&&u.url){d(u.url);return}return}n!==!0&&(e.use(t),Kt({router:t,store:a}),e.mount("#q-app"))}zt(Ee,Yt).then(e=>{const[t,a]=Promise.allSettled!==void 0?["allSettled",r=>r.map(n=>{if(n.status!=="rejected")return n.value.default})]:["all",r=>r.map(n=>n.default)];return Promise[t]([o(()=>import("./initXframe-juXdWEq4.js"),__vite__mapDeps([158,10,11,4,2,5,6,7,8,1,3,9,12]),import.meta.url),o(()=>import("./directives-BTW1S3NO.js"),__vite__mapDeps([159,4,2,5,6,7,1,3,8,9]),import.meta.url)]).then(r=>{const n=a(r).filter(l=>typeof l=="function");Qt(e,n)})});export{te as E,g as M,so as O,$ as W,Ke as _,uo as a,co as b,Ze as c,lo as d,w as e,C as f,ht as g,le as h,D as i,St as j,z as k,N as l,po as m,Et as p,V as u,S as w};
