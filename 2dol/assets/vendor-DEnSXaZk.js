import{r as pt,e as il,m as y0,d as _0,f as aR,g as sR,j as Bo,a as xe,k as If,l as fS,t as pre,i as $a,w as qt,q as gre,v as vre,x as mre,n as Mr,y as yre,o as or,z as Hf,A as tn,b as ci,B as uR,h as Be,T as _re,C as bre,D as bl,E as Ca,G as wre,H as Xv,I as xre,p as b0,J as Sre,K as Cre,L as Ere,M as Are,N as kre,O as Na,P as Kv,Q as Fre,R as Hd,S as Vd,U as tl,F as Ire,V as tv,W as TI,X as Tb,Y as hS,Z as Mre,_ as nv,c as lR,$ as cR,a0 as Dre,a1 as Tre,a2 as Pre}from"./@vue-exp-DhuHfG86.js";import{M as Yn,F as PI,O as xx,C as Rre}from"./ol-exp-DNVUl0aT.js";function Wa(t,e,n,i){return Object.defineProperty(t,e,{get:n,set:i,enumerable:!0}),t}function Bre(t,e){for(const n in e)Wa(t,n,e[n]);return t}const ro=pt(!1);let Sx;function Ore(t,e){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(vivaldi)[\/]([\w.]+)/.exec(t)||/(chrome|crios)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(firefox|fxios)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(t)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[4]||n[2]||"0",platform:e[0]||""}}function Lre(t){return/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[]}const fR="ontouchstart"in window||window.navigator.maxTouchPoints>0;function zre(t){const e=t.toLowerCase(),n=Lre(e),i=Ore(e,n),s={mobile:!1,desktop:!1,cordova:!1,capacitor:!1,nativeMobile:!1,electron:!1,bex:!1,linux:!1,mac:!1,win:!1,cros:!1,chrome:!1,firefox:!1,opera:!1,safari:!1,vivaldi:!1,edge:!1,edgeChromium:!1,ie:!1,webkit:!1,android:!1,ios:!1,ipad:!1,iphone:!1,ipod:!1,kindle:!1,winphone:!1,blackberry:!1,playbook:!1,silk:!1};i.browser&&(s[i.browser]=!0,s.version=i.version,s.versionNumber=parseInt(i.version,10)),i.platform&&(s[i.platform]=!0);const l=s.android||s.ios||s.bb||s.blackberry||s.ipad||s.iphone||s.ipod||s.kindle||s.playbook||s.silk||s["windows phone"];if(l===!0||e.indexOf("mobile")!==-1?s.mobile=!0:s.desktop=!0,s["windows phone"]&&(s.winphone=!0,delete s["windows phone"]),s.edga||s.edgios||s.edg?(s.edge=!0,i.browser="edge"):s.crios?(s.chrome=!0,i.browser="chrome"):s.fxios&&(s.firefox=!0,i.browser="firefox"),(s.ipod||s.ipad||s.iphone)&&(s.ios=!0),s.vivaldi&&(i.browser="vivaldi",s.vivaldi=!0),(s.chrome||s.opr||s.safari||s.vivaldi||s.mobile===!0&&s.ios!==!0&&l!==!0)&&(s.webkit=!0),s.opr&&(i.browser="opera",s.opera=!0),s.safari&&(s.blackberry||s.bb?(i.browser="blackberry",s.blackberry=!0):s.playbook?(i.browser="playbook",s.playbook=!0):s.android?(i.browser="android",s.android=!0):s.kindle?(i.browser="kindle",s.kindle=!0):s.silk&&(i.browser="silk",s.silk=!0)),s.name=i.browser,s.platform=i.platform,e.indexOf("electron")!==-1)s.electron=!0;else if(document.location.href.indexOf("-extension://")!==-1)s.bex=!0;else{if(window.Capacitor!==void 0?(s.capacitor=!0,s.nativeMobile=!0,s.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(s.cordova=!0,s.nativeMobile=!0,s.nativeMobileWrapper="cordova"),ro.value===!0&&(Sx={is:{...s}}),fR===!0&&s.mac===!0&&(s.desktop===!0&&s.safari===!0||s.nativeMobile===!0&&s.android!==!0&&s.ios!==!0&&s.ipad!==!0)){delete s.mac,delete s.desktop;const f=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(s,{mobile:!0,ios:!0,platform:f,[f]:!0})}s.mobile!==!0&&window.navigator.userAgentData&&window.navigator.userAgentData.mobile&&(delete s.desktop,s.mobile=!0)}return s}const RI=navigator.userAgent||navigator.vendor||window.opera,Nre={has:{touch:!1,webStorage:!1},within:{iframe:!1}},Sn={userAgent:RI,is:zre(RI),has:{touch:fR},within:{iframe:window.self!==window.top}},rv={install(t){const{$q:e}=t;ro.value===!0?(t.onSSRHydrated.push(()=>{Object.assign(e.platform,Sn),ro.value=!1}),e.platform=il(this)):e.platform=this}};{let t;Wa(Sn.has,"webStorage",()=>{if(t!==void 0)return t;try{if(window.localStorage)return t=!0,!0}catch{}return t=!1,!1}),Object.assign(rv,Sn),ro.value===!0&&(Object.assign(rv,Sx,Nre),Sx=null)}function Zt(t){return y0(_0(t))}function w0(t){return y0(t)}const Vf=(t,e)=>{const n=il(t);for(const i in t)Wa(e,i,()=>n[i],s=>{n[i]=s});return e},wr={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const t=Object.defineProperty({},"passive",{get(){Object.assign(wr,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,t),window.removeEventListener("qtest",null,t)}catch{}function Bi(){}function hR(t){return t.button===0}function ou(t){return t.touches&&t.touches[0]?t=t.touches[0]:t.changedTouches&&t.changedTouches[0]?t=t.changedTouches[0]:t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),{top:t.clientY,left:t.clientX}}function jre(t){if(t.path)return t.path;if(t.composedPath)return t.composedPath();const e=[];let n=t.target;for(;n;){if(e.push(n),n.tagName==="HTML")return e.push(document),e.push(window),e;n=n.parentElement}}function va(t){t.stopPropagation()}function yo(t){t.cancelable!==!1&&t.preventDefault()}function Wn(t){t.cancelable!==!1&&t.preventDefault(),t.stopPropagation()}function bf(t,e){if(t===void 0||e===!0&&t.__dragPrevented===!0)return;const n=e===!0?i=>{i.__dragPrevented=!0,i.addEventListener("dragstart",yo,wr.notPassiveCapture)}:i=>{delete i.__dragPrevented,i.removeEventListener("dragstart",yo,wr.notPassiveCapture)};t.querySelectorAll("a, img").forEach(n)}function zo(t,e,n){const i=`__q_${e}_evt`;t[i]=t[i]!==void 0?t[i].concat(n):n,n.forEach(s=>{s[0].addEventListener(s[1],t[s[2]],wr[s[3]])})}function tu(t,e){const n=`__q_${e}_evt`;t[n]!==void 0&&(t[n].forEach(i=>{i[0].removeEventListener(i[1],t[i[2]],wr[i[3]])}),t[n]=void 0)}function dS(t,e=250,n){let i=null;function s(){const l=arguments,f=()=>{i=null,t.apply(this,l)};i!==null&&clearTimeout(i),i=setTimeout(f,e)}return s.cancel=()=>{i!==null&&clearTimeout(i)},s}const Pb=["sm","md","lg","xl"],{passive:BI}=wr,qre=Vf({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:Bi,setDebounce:Bi,install({$q:t,onSSRHydrated:e}){if(t.screen=this,this.__installed===!0){t.config.screen!==void 0&&(t.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:n}=window,i=n||window,s=document.scrollingElement||document.documentElement,l=n===void 0||Sn.is.mobile===!0?()=>[Math.max(window.innerWidth,s.clientWidth),Math.max(window.innerHeight,s.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-s.clientWidth,n.height*n.scale+window.innerHeight-s.clientHeight],f=t.config.screen!==void 0&&t.config.screen.bodyClasses===!0;this.__update=b=>{const[S,w]=l();if(w!==this.height&&(this.height=w),S!==this.width)this.width=S;else if(b!==!0)return;let C=this.sizes;this.gt.xs=S>=C.sm,this.gt.sm=S>=C.md,this.gt.md=S>=C.lg,this.gt.lg=S>=C.xl,this.lt.sm=S<C.sm,this.lt.md=S<C.md,this.lt.lg=S<C.lg,this.lt.xl=S<C.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,C=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",C!==this.name&&(f===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${C}`)),this.name=C)};let h,p={},m=16;this.setSizes=b=>{Pb.forEach(S=>{b[S]!==void 0&&(p[S]=b[S])})},this.setDebounce=b=>{m=b};const g=()=>{const b=getComputedStyle(document.body);b.getPropertyValue("--q-size-sm")&&Pb.forEach(S=>{this.sizes[S]=parseInt(b.getPropertyValue(`--q-size-${S}`),10)}),this.setSizes=S=>{Pb.forEach(w=>{S[w]&&(this.sizes[w]=S[w])}),this.__update(!0)},this.setDebounce=S=>{h!==void 0&&i.removeEventListener("resize",h,BI),h=S>0?dS(this.__update,S):this.__update,i.addEventListener("resize",h,BI)},this.setDebounce(m),Object.keys(p).length!==0?(this.setSizes(p),p=void 0):this.__update(),f===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};ro.value===!0?e.push(g):g()}}),ii=Vf({isActive:!1,mode:!1},{__media:void 0,set(t){ii.mode=t,t==="auto"?(ii.__media===void 0&&(ii.__media=window.matchMedia("(prefers-color-scheme: dark)"),ii.__updateMedia=()=>{ii.set("auto")},ii.__media.addListener(ii.__updateMedia)),t=ii.__media.matches):ii.__media!==void 0&&(ii.__media.removeListener(ii.__updateMedia),ii.__media=void 0),ii.isActive=t===!0,document.body.classList.remove(`body--${t===!0?"light":"dark"}`),document.body.classList.add(`body--${t===!0?"dark":"light"}`)},toggle(){ii.set(ii.isActive===!1)},install({$q:t,ssrContext:e}){const{dark:n}=t.config;t.dark=this,this.__installed!==!0&&this.set(n!==void 0?n:!1)}});function $re(t,e,n=document.body){if(typeof t!="string")throw new TypeError("Expected a string as propName");if(typeof e!="string")throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${t}`,e)}let dR=!1;function Ure(t){dR=t.isComposing===!0}function pS(t){return dR===!0||t!==Object(t)||t.isComposing===!0||t.qKeyEvent===!0}function Ua(t,e){return pS(t)===!0?!1:[].concat(e).includes(t.keyCode)}function pR(t){if(t.ios===!0)return"ios";if(t.android===!0)return"android"}function Gre({is:t,has:e,within:n},i){const s=[t.desktop===!0?"desktop":"mobile",`${e.touch===!1?"no-":""}touch`];if(t.mobile===!0){const l=pR(t);l!==void 0&&s.push("platform-"+l)}if(t.nativeMobile===!0){const l=t.nativeMobileWrapper;s.push(l),s.push("native-mobile"),t.ios===!0&&(i[l]===void 0||i[l].iosStatusBarPadding!==!1)&&s.push("q-ios-padding")}else t.electron===!0?s.push("electron"):t.bex===!0&&s.push("bex");return n.iframe===!0&&s.push("within-iframe"),s}function Hre(){const{is:t}=Sn,e=document.body.className,n=new Set(e.replace(/ {2}/g," ").split(" "));if(t.nativeMobile!==!0&&t.electron!==!0&&t.bex!==!0){if(t.desktop===!0)n.delete("mobile"),n.delete("platform-ios"),n.delete("platform-android"),n.add("desktop");else if(t.mobile===!0){n.delete("desktop"),n.add("mobile"),n.delete("platform-ios"),n.delete("platform-android");const s=pR(t);s!==void 0&&n.add(`platform-${s}`)}}Sn.has.touch===!0&&(n.delete("no-touch"),n.add("touch")),Sn.within.iframe===!0&&n.add("within-iframe");const i=Array.from(n).join(" ");e!==i&&(document.body.className=i)}function Vre(t){for(const e in t)$re(e,t[e])}const Wre={install(t){if(this.__installed!==!0){if(ro.value===!0)Hre();else{const{$q:e}=t;e.config.brand!==void 0&&Vre(e.config.brand);const n=Gre(Sn,e.config);document.body.classList.add.apply(document.body.classList,n)}Sn.is.ios===!0&&document.body.addEventListener("touchstart",Bi),window.addEventListener("keydown",Ure,!0)}}},gR=()=>!0;function Yre(t){return typeof t=="string"&&t!==""&&t!=="/"&&t!=="#/"}function Xre(t){return t.startsWith("#")===!0&&(t=t.substring(1)),t.startsWith("/")===!1&&(t="/"+t),t.endsWith("/")===!0&&(t=t.substring(0,t.length-1)),"#"+t}function Kre(t){if(t.backButtonExit===!1)return()=>!1;if(t.backButtonExit==="*")return gR;const e=["#/"];return Array.isArray(t.backButtonExit)===!0&&e.push(...t.backButtonExit.filter(Yre).map(Xre)),()=>e.includes(window.location.hash)}const Cx={__history:[],add:Bi,remove:Bi,install({$q:t}){if(this.__installed===!0)return;const{cordova:e,capacitor:n}=Sn.is;if(e!==!0&&n!==!0)return;const i=t.config[e===!0?"cordova":"capacitor"];if(i!==void 0&&i.backButton===!1||n===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=f=>{f.condition===void 0&&(f.condition=gR),this.__history.push(f)},this.remove=f=>{const h=this.__history.indexOf(f);h>=0&&this.__history.splice(h,1)};const s=Kre(Object.assign({backButtonExit:!0},i)),l=()=>{if(this.__history.length){const f=this.__history[this.__history.length-1];f.condition()===!0&&(this.__history.pop(),f.handler())}else s()===!0?navigator.app.exitApp():window.history.back()};e===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",l,!1)}):window.Capacitor.Plugins.App.addListener("backButton",l)}},Ex={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:t=>t?`Expand "${t}"`:"Expand",collapse:t=>t?`Collapse "${t}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:t=>t===1?"1 record selected.":(t===0?"No":t)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(t,e,n)=>t+"-"+e+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function OI(){const t=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof t=="string")return t.split(/[-_]/).map((e,n)=>n===0?e.toLowerCase():n>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase()).join("-")}const la=Vf({__qLang:{}},{getLocale:OI,set(t=Ex,e){const n={...t,rtl:t.rtl===!0,getLocale:OI};{if(n.set=la.set,la.__langConfig===void 0||la.__langConfig.noHtmlAttrs!==!0){const i=document.documentElement;i.setAttribute("dir",n.rtl===!0?"rtl":"ltr"),i.setAttribute("lang",n.isoName)}Object.assign(la.__qLang,n)}},install({$q:t,lang:e,ssrContext:n}){t.lang=la.__qLang,la.__langConfig=t.config.lang,this.__installed===!0?e!==void 0&&this.set(e):(this.props=new Proxy(this.__qLang,{get(){return Reflect.get(...arguments)},ownKeys(i){return Reflect.ownKeys(i).filter(s=>s!=="set"&&s!=="getLocale")}}),this.set(e||Ex))}}),Zre={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},iv=Vf({iconMapFn:null,__qIconSet:{}},{set(t,e){const n={...t};n.set=iv.set,Object.assign(iv.__qIconSet,n)},install({$q:t,iconSet:e,ssrContext:n}){t.config.iconMapFn!==void 0&&(this.iconMapFn=t.config.iconMapFn),t.iconSet=this.__qIconSet,Wa(t,"iconMapFn",()=>this.iconMapFn,i=>{this.iconMapFn=i}),this.__installed===!0?e!==void 0&&this.set(e):(this.props=new Proxy(this.__qIconSet,{get(){return Reflect.get(...arguments)},ownKeys(i){return Reflect.ownKeys(i).filter(s=>s!=="set")}}),this.set(e||Zre))}}),vR="_q_",x0="_q_l_",mR="_q_pc_",yR="_q_fo_",_R="_q_tabs_",Jre="_q_u_";function Nr(){}const ov={};let bR=!1;function Qre(){bR=!0}function q1(t,e){if(t===e)return!0;if(t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,i;if(t.constructor===Array){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(q1(t[i],e[i])!==!0)return!1;return!0}if(t.constructor===Map){if(t.size!==e.size)return!1;let l=t.entries();for(i=l.next();i.done!==!0;){if(e.has(i.value[0])!==!0)return!1;i=l.next()}for(l=t.entries(),i=l.next();i.done!==!0;){if(q1(i.value[1],e.get(i.value[0]))!==!0)return!1;i=l.next()}return!0}if(t.constructor===Set){if(t.size!==e.size)return!1;const l=t.entries();for(i=l.next();i.done!==!0;){if(e.has(i.value[0])!==!0)return!1;i=l.next()}return!0}if(t.buffer!=null&&t.buffer.constructor===ArrayBuffer){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t).filter(l=>t[l]!==void 0);if(n=s.length,n!==Object.keys(e).filter(l=>e[l]!==void 0).length)return!1;for(i=n;i--!==0;){const l=s[i];if(q1(t[l],e[l])!==!0)return!1}return!0}return t!==t&&e!==e}function Wr(t){return t!==null&&typeof t=="object"&&Array.isArray(t)!==!0}function gS(t){return Object.prototype.toString.call(t)==="[object Date]"}function eie(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function tie(t){return typeof t=="number"&&isFinite(t)}const LI=[rv,Wre,ii,qre,Cx,la,iv];function vS(t,e){const n=aR(t);n.config.globalProperties=e.config.globalProperties;const{reload:i,...s}=e._context;return Object.assign(n._context,s),n}function zI(t,e){e.forEach(n=>{n.install(t),n.__installed=!0})}function nie(t,e,n){t.config.globalProperties.$q=n.$q,t.provide(vR,n.$q),zI(n,LI),e.components!==void 0&&Object.values(e.components).forEach(i=>{Wr(i)===!0&&i.name!==void 0&&t.component(i.name,i)}),e.directives!==void 0&&Object.values(e.directives).forEach(i=>{Wr(i)===!0&&i.name!==void 0&&t.directive(i.name,i)}),e.plugins!==void 0&&zI(n,Object.values(e.plugins).filter(i=>typeof i.install=="function"&&LI.includes(i)===!1)),ro.value===!0&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach(i=>{i()}),n.$q.onSSRHydrated=()=>{}})}const rie=function(t,e={}){const n={version:"2.17.5"};bR===!1?(e.config!==void 0&&Object.assign(ov,e.config),n.config={...ov},Qre()):n.config=e.config||{},nie(t,e,{parentApp:t,$q:n,lang:e.lang,iconSet:e.iconSet,onSSRHydrated:[]})},g1e={name:"Quasar",version:"2.17.5",install:rie,lang:la,iconSet:iv};var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iie(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var Rb,NI;function oie(){return NI||(NI=1,Rb=Error),Rb}var Bb,jI;function aie(){return jI||(jI=1,Bb=EvalError),Bb}var Ob,qI;function sie(){return qI||(qI=1,Ob=RangeError),Ob}var Lb,$I;function uie(){return $I||($I=1,Lb=ReferenceError),Lb}var zb,UI;function xR(){return UI||(UI=1,zb=SyntaxError),zb}var Nb,GI;function S0(){return GI||(GI=1,Nb=TypeError),Nb}var jb,HI;function lie(){return HI||(HI=1,jb=URIError),jb}var qb,VI;function cie(){return VI||(VI=1,qb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),i=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var s=42;e[n]=s;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(e,n);if(f.value!==s||f.enumerable!==!0)return!1}return!0}),qb}var $b,WI;function fie(){if(WI)return $b;WI=1;var t=typeof Symbol<"u"&&Symbol,e=cie();return $b=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},$b}var Ub,YI;function hie(){if(YI)return Ub;YI=1;var t={__proto__:null,foo:{}},e=Object;return Ub=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof e)},Ub}var Gb,XI;function die(){if(XI)return Gb;XI=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,i="[object Function]",s=function(p,m){for(var g=[],b=0;b<p.length;b+=1)g[b]=p[b];for(var S=0;S<m.length;S+=1)g[S+p.length]=m[S];return g},l=function(p,m){for(var g=[],b=m,S=0;b<p.length;b+=1,S+=1)g[S]=p[b];return g},f=function(h,p){for(var m="",g=0;g<h.length;g+=1)m+=h[g],g+1<h.length&&(m+=p);return m};return Gb=function(p){var m=this;if(typeof m!="function"||e.apply(m)!==i)throw new TypeError(t+m);for(var g=l(arguments,1),b,S=function(){if(this instanceof b){var D=m.apply(this,s(g,arguments));return Object(D)===D?D:this}return m.apply(p,s(g,arguments))},w=n(0,m.length-g.length),C=[],M=0;M<w;M++)C[M]="$"+M;if(b=Function("binder","return function ("+f(C,",")+"){ return binder.apply(this,arguments); }")(S),m.prototype){var T=function(){};T.prototype=m.prototype,b.prototype=new T,T.prototype=null}return b},Gb}var Hb,KI;function mS(){if(KI)return Hb;KI=1;var t=die();return Hb=Function.prototype.bind||t,Hb}var Vb,ZI;function pie(){if(ZI)return Vb;ZI=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=mS();return Vb=n.call(t,e),Vb}var Wb,JI;function Wf(){if(JI)return Wb;JI=1;var t,e=oie(),n=aie(),i=sie(),s=uie(),l=xR(),f=S0(),h=lie(),p=Function,m=function(Pe){try{return p('"use strict"; return ('+Pe+").constructor;")()}catch{}},g=Object.getOwnPropertyDescriptor;if(g)try{g({},"")}catch{g=null}var b=function(){throw new f},S=g?function(){try{return arguments.callee,b}catch{try{return g(arguments,"callee").get}catch{return b}}}():b,w=fie()(),C=hie()(),M=Object.getPrototypeOf||(C?function(Pe){return Pe.__proto__}:null),T={},D=typeof Uint8Array>"u"||!M?t:M(Uint8Array),R={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":w&&M?M([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":T,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":w&&M?M(M([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!w||!M?t:M(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!w||!M?t:M(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":w&&M?M(""[Symbol.iterator]()):t,"%Symbol%":w?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":S,"%TypedArray%":D,"%TypeError%":f,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":h,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(M)try{null.error}catch(Pe){var q=M(M(Pe));R["%Error.prototype%"]=q}var Y=function Pe(ze){var Je;if(ze==="%AsyncFunction%")Je=m("async function () {}");else if(ze==="%GeneratorFunction%")Je=m("function* () {}");else if(ze==="%AsyncGeneratorFunction%")Je=m("async function* () {}");else if(ze==="%AsyncGenerator%"){var tt=Pe("%AsyncGeneratorFunction%");tt&&(Je=tt.prototype)}else if(ze==="%AsyncIteratorPrototype%"){var lt=Pe("%AsyncGenerator%");lt&&M&&(Je=M(lt.prototype))}return R[ze]=Je,Je},K={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ce=mS(),te=pie(),ee=ce.call(Function.call,Array.prototype.concat),he=ce.call(Function.apply,Array.prototype.splice),be=ce.call(Function.call,String.prototype.replace),Fe=ce.call(Function.call,String.prototype.slice),oe=ce.call(Function.call,RegExp.prototype.exec),Se=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,fe=/\\(\\)?/g,Te=function(ze){var Je=Fe(ze,0,1),tt=Fe(ze,-1);if(Je==="%"&&tt!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(tt==="%"&&Je!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var lt=[];return be(ze,Se,function(Qe,mt,Ct,Ft){lt[lt.length]=Ct?be(Ft,fe,"$1"):mt||Qe}),lt},Le=function(ze,Je){var tt=ze,lt;if(te(K,tt)&&(lt=K[tt],tt="%"+lt[0]+"%"),te(R,tt)){var Qe=R[tt];if(Qe===T&&(Qe=Y(tt)),typeof Qe>"u"&&!Je)throw new f("intrinsic "+ze+" exists, but is not available. Please file an issue!");return{alias:lt,name:tt,value:Qe}}throw new l("intrinsic "+ze+" does not exist!")};return Wb=function(ze,Je){if(typeof ze!="string"||ze.length===0)throw new f("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Je!="boolean")throw new f('"allowMissing" argument must be a boolean');if(oe(/^%?[^%]*%?$/,ze)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var tt=Te(ze),lt=tt.length>0?tt[0]:"",Qe=Le("%"+lt+"%",Je),mt=Qe.name,Ct=Qe.value,Ft=!1,Ze=Qe.alias;Ze&&(lt=Ze[0],he(tt,ee([0,1],Ze)));for(var Pt=1,Lt=!0;Pt<tt.length;Pt+=1){var at=tt[Pt],Et=Fe(at,0,1),Gt=Fe(at,-1);if((Et==='"'||Et==="'"||Et==="`"||Gt==='"'||Gt==="'"||Gt==="`")&&Et!==Gt)throw new l("property names with quotes must have matching quotes");if((at==="constructor"||!Lt)&&(Ft=!0),lt+="."+at,mt="%"+lt+"%",te(R,mt))Ct=R[mt];else if(Ct!=null){if(!(at in Ct)){if(!Je)throw new f("base intrinsic for "+ze+" exists, but the property is not available.");return}if(g&&Pt+1>=tt.length){var Ht=g(Ct,at);Lt=!!Ht,Lt&&"get"in Ht&&!("originalValue"in Ht.get)?Ct=Ht.get:Ct=Ct[at]}else Lt=te(Ct,at),Ct=Ct[at];Lt&&!Ft&&(R[mt]=Ct)}}return Ct},Wb}var Yb={exports:{}},Xb,QI;function yS(){if(QI)return Xb;QI=1;var t=Wf(),e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Xb=e,Xb}var Kb,eM;function SR(){if(eM)return Kb;eM=1;var t=Wf(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return Kb=e,Kb}var Zb,tM;function gie(){if(tM)return Zb;tM=1;var t=yS(),e=xR(),n=S0(),i=SR();return Zb=function(l,f,h){if(!l||typeof l!="object"&&typeof l!="function")throw new n("`obj` must be an object or a function`");if(typeof f!="string"&&typeof f!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var p=arguments.length>3?arguments[3]:null,m=arguments.length>4?arguments[4]:null,g=arguments.length>5?arguments[5]:null,b=arguments.length>6?arguments[6]:!1,S=!!i&&i(l,f);if(t)t(l,f,{configurable:g===null&&S?S.configurable:!g,enumerable:p===null&&S?S.enumerable:!p,value:h,writable:m===null&&S?S.writable:!m});else if(b||!p&&!m&&!g)l[f]=h;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Zb}var Jb,nM;function vie(){if(nM)return Jb;nM=1;var t=yS(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Jb=e,Jb}var Qb,rM;function mie(){if(rM)return Qb;rM=1;var t=Wf(),e=gie(),n=vie()(),i=SR(),s=S0(),l=t("%Math.floor%");return Qb=function(h,p){if(typeof h!="function")throw new s("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||l(p)!==p)throw new s("`length` must be a positive 32-bit integer");var m=arguments.length>2&&!!arguments[2],g=!0,b=!0;if("length"in h&&i){var S=i(h,"length");S&&!S.configurable&&(g=!1),S&&!S.writable&&(b=!1)}return(g||b||!m)&&(n?e(h,"length",p,!0,!0):e(h,"length",p)),h},Qb}var iM;function yie(){return iM||(iM=1,function(t){var e=mS(),n=Wf(),i=mie(),s=S0(),l=n("%Function.prototype.apply%"),f=n("%Function.prototype.call%"),h=n("%Reflect.apply%",!0)||e.call(f,l),p=yS(),m=n("%Math.max%");t.exports=function(S){if(typeof S!="function")throw new s("a function is required");var w=h(e,f,arguments);return i(w,1+m(0,S.length-(arguments.length-1)),!0)};var g=function(){return h(e,l,arguments)};p?p(t.exports,"apply",{value:g}):t.exports.apply=g}(Yb)),Yb.exports}var ew,oM;function _ie(){if(oM)return ew;oM=1;var t=Wf(),e=yie(),n=e(t("String.prototype.indexOf"));return ew=function(s,l){var f=t(s,!!l);return typeof f=="function"&&n(s,".prototype.")>-1?e(f):f},ew}const bie={},wie=Object.freeze(Object.defineProperty({__proto__:null,default:bie},Symbol.toStringTag,{value:"Module"})),Us=iie(wie);var tw,aM;function xie(){if(aM)return tw;aM=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=t&&e&&typeof e.get=="function"?e.get:null,i=t&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,f=s&&l&&typeof l.get=="function"?l.get:null,h=s&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,m=p?WeakMap.prototype.has:null,g=typeof WeakSet=="function"&&WeakSet.prototype,b=g?WeakSet.prototype.has:null,S=typeof WeakRef=="function"&&WeakRef.prototype,w=S?WeakRef.prototype.deref:null,C=Boolean.prototype.valueOf,M=Object.prototype.toString,T=Function.prototype.toString,D=String.prototype.match,R=String.prototype.slice,q=String.prototype.replace,Y=String.prototype.toUpperCase,K=String.prototype.toLowerCase,ce=RegExp.prototype.test,te=Array.prototype.concat,ee=Array.prototype.join,he=Array.prototype.slice,be=Math.floor,Fe=typeof BigInt=="function"?BigInt.prototype.valueOf:null,oe=Object.getOwnPropertySymbols,Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,fe=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Te=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===fe||!0)?Symbol.toStringTag:null,Le=Object.prototype.propertyIsEnumerable,Pe=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function($e){return $e.__proto__}:null);function ze($e,Ve){if($e===1/0||$e===-1/0||$e!==$e||$e&&$e>-1e3&&$e<1e3||ce.call(/e/,Ve))return Ve;var Dt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof $e=="number"){var Rt=$e<0?-be(-$e):be($e);if(Rt!==$e){var yn=String(Rt),Yt=R.call(Ve,yn.length+1);return q.call(yn,Dt,"$&_")+"."+q.call(q.call(Yt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return q.call(Ve,Dt,"$&_")}var Je=Us,tt=Je.custom,lt=Nt(tt)?tt:null,Qe={__proto__:null,double:'"',single:"'"},mt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};tw=function $e(Ve,Dt,Rt,yn){var Yt=Dt||{};if(En(Yt,"quoteStyle")&&!En(Qe,Yt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(En(Yt,"maxStringLength")&&(typeof Yt.maxStringLength=="number"?Yt.maxStringLength<0&&Yt.maxStringLength!==1/0:Yt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var qr=En(Yt,"customInspect")?Yt.customInspect:!0;if(typeof qr!="boolean"&&qr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(En(Yt,"indent")&&Yt.indent!==null&&Yt.indent!=="	"&&!(parseInt(Yt.indent,10)===Yt.indent&&Yt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(En(Yt,"numericSeparator")&&typeof Yt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var pi=Yt.numericSeparator;if(typeof Ve>"u")return"undefined";if(Ve===null)return"null";if(typeof Ve=="boolean")return Ve?"true":"false";if(typeof Ve=="string")return vt(Ve,Yt);if(typeof Ve=="number"){if(Ve===0)return 1/0/Ve>0?"0":"-0";var cr=String(Ve);return pi?ze(Ve,cr):cr}if(typeof Ve=="bigint"){var Ai=String(Ve)+"n";return pi?ze(Ve,Ai):Ai}var Za=typeof Yt.depth>"u"?5:Yt.depth;if(typeof Rt>"u"&&(Rt=0),Rt>=Za&&Za>0&&typeof Ve=="object")return Ze(Ve)?"[Array]":"[Object]";var Un=rt(Yt,Rt);if(typeof yn>"u")yn=[];else if(dr(yn,Ve)>=0)return"[Circular]";function Gn(Ja,Rl,km){if(Rl&&(yn=he.call(yn),yn.push(Rl)),km){var O0={depth:Yt.depth};return En(Yt,"quoteStyle")&&(O0.quoteStyle=Yt.quoteStyle),$e(Ja,O0,Rt+1,yn)}return $e(Ja,Yt,Rt+1,yn)}if(typeof Ve=="function"&&!Lt(Ve)){var fr=lr(Ve),$r=St(Ve,Gn);return"[Function"+(fr?": "+fr:" (anonymous)")+"]"+($r.length>0?" { "+ee.call($r,", ")+" }":"")}if(Nt(Ve)){var qi=fe?q.call(String(Ve),/^(Symbol\(.*\))_[^)]*$/,"$1"):Se.call(Ve);return typeof Ve=="object"&&!fe?z(qi):qi}if(nt(Ve)){for(var Pn="<"+K.call(String(Ve.nodeName)),nr=Ve.attributes||[],Xn=0;Xn<nr.length;Xn++)Pn+=" "+nr[Xn].name+"="+Ct(Ft(nr[Xn].value),"double",Yt);return Pn+=">",Ve.childNodes&&Ve.childNodes.length&&(Pn+="..."),Pn+="</"+K.call(String(Ve.nodeName))+">",Pn}if(Ze(Ve)){if(Ve.length===0)return"[]";var Vo=St(Ve,Gn);return Un&&!He(Vo)?"["+Ue(Vo,Un)+"]":"[ "+ee.call(Vo,", ")+" ]"}if(at(Ve)){var nh=St(Ve,Gn);return!("cause"in Error.prototype)&&"cause"in Ve&&!Le.call(Ve,"cause")?"{ ["+String(Ve)+"] "+ee.call(te.call("[cause]: "+Gn(Ve.cause),nh),", ")+" }":nh.length===0?"["+String(Ve)+"]":"{ ["+String(Ve)+"] "+ee.call(nh,", ")+" }"}if(typeof Ve=="object"&&qr){if(lt&&typeof Ve[lt]=="function"&&Je)return Je(Ve,{depth:Za-Rt});if(qr!=="symbol"&&typeof Ve.inspect=="function")return Ve.inspect()}if(jn(Ve)){var R0=[];return i&&i.call(Ve,function(Ja,Rl){R0.push(Gn(Rl,Ve,!0)+" => "+Gn(Ja,Ve))}),Ce("Map",n.call(Ve),R0,Un)}if(ot(Ve)){var rh=[];return h&&h.call(Ve,function(Ja){rh.push(Gn(Ja,Ve))}),Ce("Set",f.call(Ve),rh,Un)}if(tr(Ve))return X("WeakMap");if(Ne(Ve))return X("WeakSet");if(bt(Ve))return X("WeakRef");if(Gt(Ve))return z(Gn(Number(Ve)));if(Jt(Ve))return z(Gn(Fe.call(Ve)));if(Ht(Ve))return z(C.call(Ve));if(Et(Ve))return z(Gn(String(Ve)));if(typeof window<"u"&&Ve===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Ve===globalThis||typeof av<"u"&&Ve===av)return"{ [object globalThis] }";if(!Pt(Ve)&&!Lt(Ve)){var ih=St(Ve,Gn),oh=Pe?Pe(Ve)===Object.prototype:Ve instanceof Object||Ve.constructor===Object,pu=Ve instanceof Object?"":"null prototype",Pl=!oh&&Te&&Object(Ve)===Ve&&Te in Ve?R.call(bn(Ve),8,-1):pu?"Object":"",B0=oh||typeof Ve.constructor!="function"?"":Ve.constructor.name?Ve.constructor.name+" ":"",ah=B0+(Pl||pu?"["+ee.call(te.call([],Pl||[],pu||[]),": ")+"] ":"");return ih.length===0?ah+"{}":Un?ah+"{"+Ue(ih,Un)+"}":ah+"{ "+ee.call(ih,", ")+" }"}return String(Ve)};function Ct($e,Ve,Dt){var Rt=Dt.quoteStyle||Ve,yn=Qe[Rt];return yn+$e+yn}function Ft($e){return q.call(String($e),/"/g,"&quot;")}function Ze($e){return bn($e)==="[object Array]"&&(!Te||!(typeof $e=="object"&&Te in $e))}function Pt($e){return bn($e)==="[object Date]"&&(!Te||!(typeof $e=="object"&&Te in $e))}function Lt($e){return bn($e)==="[object RegExp]"&&(!Te||!(typeof $e=="object"&&Te in $e))}function at($e){return bn($e)==="[object Error]"&&(!Te||!(typeof $e=="object"&&Te in $e))}function Et($e){return bn($e)==="[object String]"&&(!Te||!(typeof $e=="object"&&Te in $e))}function Gt($e){return bn($e)==="[object Number]"&&(!Te||!(typeof $e=="object"&&Te in $e))}function Ht($e){return bn($e)==="[object Boolean]"&&(!Te||!(typeof $e=="object"&&Te in $e))}function Nt($e){if(fe)return $e&&typeof $e=="object"&&$e instanceof Symbol;if(typeof $e=="symbol")return!0;if(!$e||typeof $e!="object"||!Se)return!1;try{return Se.call($e),!0}catch{}return!1}function Jt($e){if(!$e||typeof $e!="object"||!Fe)return!1;try{return Fe.call($e),!0}catch{}return!1}var pn=Object.prototype.hasOwnProperty||function($e){return $e in this};function En($e,Ve){return pn.call($e,Ve)}function bn($e){return M.call($e)}function lr($e){if($e.name)return $e.name;var Ve=D.call(T.call($e),/^function\s*([\w$]+)/);return Ve?Ve[1]:null}function dr($e,Ve){if($e.indexOf)return $e.indexOf(Ve);for(var Dt=0,Rt=$e.length;Dt<Rt;Dt++)if($e[Dt]===Ve)return Dt;return-1}function jn($e){if(!n||!$e||typeof $e!="object")return!1;try{n.call($e);try{f.call($e)}catch{return!0}return $e instanceof Map}catch{}return!1}function tr($e){if(!m||!$e||typeof $e!="object")return!1;try{m.call($e,m);try{b.call($e,b)}catch{return!0}return $e instanceof WeakMap}catch{}return!1}function bt($e){if(!w||!$e||typeof $e!="object")return!1;try{return w.call($e),!0}catch{}return!1}function ot($e){if(!f||!$e||typeof $e!="object")return!1;try{f.call($e);try{n.call($e)}catch{return!0}return $e instanceof Set}catch{}return!1}function Ne($e){if(!b||!$e||typeof $e!="object")return!1;try{b.call($e,b);try{m.call($e,m)}catch{return!0}return $e instanceof WeakSet}catch{}return!1}function nt($e){return!$e||typeof $e!="object"?!1:typeof HTMLElement<"u"&&$e instanceof HTMLElement?!0:typeof $e.nodeName=="string"&&typeof $e.getAttribute=="function"}function vt($e,Ve){if($e.length>Ve.maxStringLength){var Dt=$e.length-Ve.maxStringLength,Rt="... "+Dt+" more character"+(Dt>1?"s":"");return vt(R.call($e,0,Ve.maxStringLength),Ve)+Rt}var yn=mt[Ve.quoteStyle||"single"];yn.lastIndex=0;var Yt=q.call(q.call($e,yn,"\\$1"),/[\x00-\x1f]/g,ae);return Ct(Yt,"single",Ve)}function ae($e){var Ve=$e.charCodeAt(0),Dt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ve];return Dt?"\\"+Dt:"\\x"+(Ve<16?"0":"")+Y.call(Ve.toString(16))}function z($e){return"Object("+$e+")"}function X($e){return $e+" { ? }"}function Ce($e,Ve,Dt,Rt){var yn=Rt?Ue(Dt,Rt):ee.call(Dt,", ");return $e+" ("+Ve+") {"+yn+"}"}function He($e){for(var Ve=0;Ve<$e.length;Ve++)if(dr($e[Ve],`
`)>=0)return!1;return!0}function rt($e,Ve){var Dt;if($e.indent==="	")Dt="	";else if(typeof $e.indent=="number"&&$e.indent>0)Dt=ee.call(Array($e.indent+1)," ");else return null;return{base:Dt,prev:ee.call(Array(Ve+1),Dt)}}function Ue($e,Ve){if($e.length===0)return"";var Dt=`
`+Ve.prev+Ve.base;return Dt+ee.call($e,","+Dt)+`
`+Ve.prev}function St($e,Ve){var Dt=Ze($e),Rt=[];if(Dt){Rt.length=$e.length;for(var yn=0;yn<$e.length;yn++)Rt[yn]=En($e,yn)?Ve($e[yn],$e):""}var Yt=typeof oe=="function"?oe($e):[],qr;if(fe){qr={};for(var pi=0;pi<Yt.length;pi++)qr["$"+Yt[pi]]=Yt[pi]}for(var cr in $e)En($e,cr)&&(Dt&&String(Number(cr))===cr&&cr<$e.length||fe&&qr["$"+cr]instanceof Symbol||(ce.call(/[^\w$]/,cr)?Rt.push(Ve(cr,$e)+": "+Ve($e[cr],$e)):Rt.push(cr+": "+Ve($e[cr],$e))));if(typeof oe=="function")for(var Ai=0;Ai<Yt.length;Ai++)Le.call($e,Yt[Ai])&&Rt.push("["+Ve(Yt[Ai])+"]: "+Ve($e[Yt[Ai]],$e));return Rt}return tw}var nw,sM;function Sie(){if(sM)return nw;sM=1;var t=Wf(),e=_ie(),n=xie(),i=S0(),s=t("%WeakMap%",!0),l=t("%Map%",!0),f=e("WeakMap.prototype.get",!0),h=e("WeakMap.prototype.set",!0),p=e("WeakMap.prototype.has",!0),m=e("Map.prototype.get",!0),g=e("Map.prototype.set",!0),b=e("Map.prototype.has",!0),S=function(T,D){for(var R=T,q;(q=R.next)!==null;R=q)if(q.key===D)return R.next=q.next,q.next=T.next,T.next=q,q},w=function(T,D){var R=S(T,D);return R&&R.value},C=function(T,D,R){var q=S(T,D);q?q.value=R:T.next={key:D,next:T.next,value:R}},M=function(T,D){return!!S(T,D)};return nw=function(){var D,R,q,Y={assert:function(K){if(!Y.has(K))throw new i("Side channel does not contain "+n(K))},get:function(K){if(s&&K&&(typeof K=="object"||typeof K=="function")){if(D)return f(D,K)}else if(l){if(R)return m(R,K)}else if(q)return w(q,K)},has:function(K){if(s&&K&&(typeof K=="object"||typeof K=="function")){if(D)return p(D,K)}else if(l){if(R)return b(R,K)}else if(q)return M(q,K);return!1},set:function(K,ce){s&&K&&(typeof K=="object"||typeof K=="function")?(D||(D=new s),h(D,K,ce)):l?(R||(R=new l),g(R,K,ce)):(q||(q={key:{},next:null}),C(q,K,ce))}};return Y},nw}var rw,uM;function _S(){if(uM)return rw;uM=1;var t=String.prototype.replace,e=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};return rw={default:n.RFC3986,formatters:{RFC1738:function(i){return t.call(i,e,"+")},RFC3986:function(i){return String(i)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986},rw}var iw,lM;function CR(){if(lM)return iw;lM=1;var t=_S(),e=Object.prototype.hasOwnProperty,n=Array.isArray,i=function(){for(var T=[],D=0;D<256;++D)T.push("%"+((D<16?"0":"")+D.toString(16)).toUpperCase());return T}(),s=function(D){for(;D.length>1;){var R=D.pop(),q=R.obj[R.prop];if(n(q)){for(var Y=[],K=0;K<q.length;++K)typeof q[K]<"u"&&Y.push(q[K]);R.obj[R.prop]=Y}}},l=function(D,R){for(var q=R&&R.plainObjects?{__proto__:null}:{},Y=0;Y<D.length;++Y)typeof D[Y]<"u"&&(q[Y]=D[Y]);return q},f=function T(D,R,q){if(!R)return D;if(typeof R!="object"&&typeof R!="function"){if(n(D))D.push(R);else if(D&&typeof D=="object")(q&&(q.plainObjects||q.allowPrototypes)||!e.call(Object.prototype,R))&&(D[R]=!0);else return[D,R];return D}if(!D||typeof D!="object")return[D].concat(R);var Y=D;return n(D)&&!n(R)&&(Y=l(D,q)),n(D)&&n(R)?(R.forEach(function(K,ce){if(e.call(D,ce)){var te=D[ce];te&&typeof te=="object"&&K&&typeof K=="object"?D[ce]=T(te,K,q):D.push(K)}else D[ce]=K}),D):Object.keys(R).reduce(function(K,ce){var te=R[ce];return e.call(K,ce)?K[ce]=T(K[ce],te,q):K[ce]=te,K},Y)},h=function(D,R){return Object.keys(R).reduce(function(q,Y){return q[Y]=R[Y],q},D)},p=function(T,D,R){var q=T.replace(/\+/g," ");if(R==="iso-8859-1")return q.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(q)}catch{return q}},m=1024,g=function(D,R,q,Y,K){if(D.length===0)return D;var ce=D;if(typeof D=="symbol"?ce=Symbol.prototype.toString.call(D):typeof D!="string"&&(ce=String(D)),q==="iso-8859-1")return escape(ce).replace(/%u[0-9a-f]{4}/gi,function(Se){return"%26%23"+parseInt(Se.slice(2),16)+"%3B"});for(var te="",ee=0;ee<ce.length;ee+=m){for(var he=ce.length>=m?ce.slice(ee,ee+m):ce,be=[],Fe=0;Fe<he.length;++Fe){var oe=he.charCodeAt(Fe);if(oe===45||oe===46||oe===95||oe===126||oe>=48&&oe<=57||oe>=65&&oe<=90||oe>=97&&oe<=122||K===t.RFC1738&&(oe===40||oe===41)){be[be.length]=he.charAt(Fe);continue}if(oe<128){be[be.length]=i[oe];continue}if(oe<2048){be[be.length]=i[192|oe>>6]+i[128|oe&63];continue}if(oe<55296||oe>=57344){be[be.length]=i[224|oe>>12]+i[128|oe>>6&63]+i[128|oe&63];continue}Fe+=1,oe=65536+((oe&1023)<<10|he.charCodeAt(Fe)&1023),be[be.length]=i[240|oe>>18]+i[128|oe>>12&63]+i[128|oe>>6&63]+i[128|oe&63]}te+=be.join("")}return te},b=function(D){for(var R=[{obj:{o:D},prop:"o"}],q=[],Y=0;Y<R.length;++Y)for(var K=R[Y],ce=K.obj[K.prop],te=Object.keys(ce),ee=0;ee<te.length;++ee){var he=te[ee],be=ce[he];typeof be=="object"&&be!==null&&q.indexOf(be)===-1&&(R.push({obj:ce,prop:he}),q.push(be))}return s(R),D},S=function(D){return Object.prototype.toString.call(D)==="[object RegExp]"},w=function(D){return!D||typeof D!="object"?!1:!!(D.constructor&&D.constructor.isBuffer&&D.constructor.isBuffer(D))},C=function(D,R){return[].concat(D,R)},M=function(D,R){if(n(D)){for(var q=[],Y=0;Y<D.length;Y+=1)q.push(R(D[Y]));return q}return R(D)};return iw={arrayToObject:l,assign:h,combine:C,compact:b,decode:p,encode:g,isBuffer:w,isRegExp:S,maybeMap:M,merge:f},iw}var ow,cM;function Cie(){if(cM)return ow;cM=1;var t=Sie(),e=CR(),n=_S(),i=Object.prototype.hasOwnProperty,s={brackets:function(T){return T+"[]"},comma:"comma",indices:function(T,D){return T+"["+D+"]"},repeat:function(T){return T}},l=Array.isArray,f=Array.prototype.push,h=function(M,T){f.apply(M,l(T)?T:[T])},p=Date.prototype.toISOString,m=n.default,g={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:m,formatter:n.formatters[m],indices:!1,serializeDate:function(T){return p.call(T)},skipNulls:!1,strictNullHandling:!1},b=function(T){return typeof T=="string"||typeof T=="number"||typeof T=="boolean"||typeof T=="symbol"||typeof T=="bigint"},S={},w=function M(T,D,R,q,Y,K,ce,te,ee,he,be,Fe,oe,Se,fe,Te,Le,Pe){for(var ze=T,Je=Pe,tt=0,lt=!1;(Je=Je.get(S))!==void 0&&!lt;){var Qe=Je.get(T);if(tt+=1,typeof Qe<"u"){if(Qe===tt)throw new RangeError("Cyclic object value");lt=!0}typeof Je.get(S)>"u"&&(tt=0)}if(typeof he=="function"?ze=he(D,ze):ze instanceof Date?ze=oe(ze):R==="comma"&&l(ze)&&(ze=e.maybeMap(ze,function(pn){return pn instanceof Date?oe(pn):pn})),ze===null){if(K)return ee&&!Te?ee(D,g.encoder,Le,"key",Se):D;ze=""}if(b(ze)||e.isBuffer(ze)){if(ee){var mt=Te?D:ee(D,g.encoder,Le,"key",Se);return[fe(mt)+"="+fe(ee(ze,g.encoder,Le,"value",Se))]}return[fe(D)+"="+fe(String(ze))]}var Ct=[];if(typeof ze>"u")return Ct;var Ft;if(R==="comma"&&l(ze))Te&&ee&&(ze=e.maybeMap(ze,ee)),Ft=[{value:ze.length>0?ze.join(",")||null:void 0}];else if(l(he))Ft=he;else{var Ze=Object.keys(ze);Ft=be?Ze.sort(be):Ze}var Pt=te?String(D).replace(/\./g,"%2E"):String(D),Lt=q&&l(ze)&&ze.length===1?Pt+"[]":Pt;if(Y&&l(ze)&&ze.length===0)return Lt+"[]";for(var at=0;at<Ft.length;++at){var Et=Ft[at],Gt=typeof Et=="object"&&Et&&typeof Et.value<"u"?Et.value:ze[Et];if(!(ce&&Gt===null)){var Ht=Fe&&te?String(Et).replace(/\./g,"%2E"):String(Et),Nt=l(ze)?typeof R=="function"?R(Lt,Ht):Lt:Lt+(Fe?"."+Ht:"["+Ht+"]");Pe.set(T,tt);var Jt=t();Jt.set(S,Pe),h(Ct,M(Gt,Nt,R,q,Y,K,ce,te,R==="comma"&&Te&&l(ze)?null:ee,he,be,Fe,oe,Se,fe,Te,Le,Jt))}}return Ct},C=function(T){if(!T)return g;if(typeof T.allowEmptyArrays<"u"&&typeof T.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof T.encodeDotInKeys<"u"&&typeof T.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(T.encoder!==null&&typeof T.encoder<"u"&&typeof T.encoder!="function")throw new TypeError("Encoder has to be a function.");var D=T.charset||g.charset;if(typeof T.charset<"u"&&T.charset!=="utf-8"&&T.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var R=n.default;if(typeof T.format<"u"){if(!i.call(n.formatters,T.format))throw new TypeError("Unknown format option provided.");R=T.format}var q=n.formatters[R],Y=g.filter;(typeof T.filter=="function"||l(T.filter))&&(Y=T.filter);var K;if(T.arrayFormat in s?K=T.arrayFormat:"indices"in T?K=T.indices?"indices":"repeat":K=g.arrayFormat,"commaRoundTrip"in T&&typeof T.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var ce=typeof T.allowDots>"u"?T.encodeDotInKeys===!0?!0:g.allowDots:!!T.allowDots;return{addQueryPrefix:typeof T.addQueryPrefix=="boolean"?T.addQueryPrefix:g.addQueryPrefix,allowDots:ce,allowEmptyArrays:typeof T.allowEmptyArrays=="boolean"?!!T.allowEmptyArrays:g.allowEmptyArrays,arrayFormat:K,charset:D,charsetSentinel:typeof T.charsetSentinel=="boolean"?T.charsetSentinel:g.charsetSentinel,commaRoundTrip:!!T.commaRoundTrip,delimiter:typeof T.delimiter>"u"?g.delimiter:T.delimiter,encode:typeof T.encode=="boolean"?T.encode:g.encode,encodeDotInKeys:typeof T.encodeDotInKeys=="boolean"?T.encodeDotInKeys:g.encodeDotInKeys,encoder:typeof T.encoder=="function"?T.encoder:g.encoder,encodeValuesOnly:typeof T.encodeValuesOnly=="boolean"?T.encodeValuesOnly:g.encodeValuesOnly,filter:Y,format:R,formatter:q,serializeDate:typeof T.serializeDate=="function"?T.serializeDate:g.serializeDate,skipNulls:typeof T.skipNulls=="boolean"?T.skipNulls:g.skipNulls,sort:typeof T.sort=="function"?T.sort:null,strictNullHandling:typeof T.strictNullHandling=="boolean"?T.strictNullHandling:g.strictNullHandling}};return ow=function(M,T){var D=M,R=C(T),q,Y;typeof R.filter=="function"?(Y=R.filter,D=Y("",D)):l(R.filter)&&(Y=R.filter,q=Y);var K=[];if(typeof D!="object"||D===null)return"";var ce=s[R.arrayFormat],te=ce==="comma"&&R.commaRoundTrip;q||(q=Object.keys(D)),R.sort&&q.sort(R.sort);for(var ee=t(),he=0;he<q.length;++he){var be=q[he],Fe=D[be];R.skipNulls&&Fe===null||h(K,w(Fe,be,ce,te,R.allowEmptyArrays,R.strictNullHandling,R.skipNulls,R.encodeDotInKeys,R.encode?R.encoder:null,R.filter,R.sort,R.allowDots,R.serializeDate,R.format,R.formatter,R.encodeValuesOnly,R.charset,ee))}var oe=K.join(R.delimiter),Se=R.addQueryPrefix===!0?"?":"";return R.charsetSentinel&&(R.charset==="iso-8859-1"?Se+="utf8=%26%2310003%3B&":Se+="utf8=%E2%9C%93&"),oe.length>0?Se+oe:""},ow}var aw,fM;function Eie(){if(fM)return aw;fM=1;var t=CR(),e=Object.prototype.hasOwnProperty,n=Array.isArray,i={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},s=function(S){return S.replace(/&#(\d+);/g,function(w,C){return String.fromCharCode(parseInt(C,10))})},l=function(S,w){return S&&typeof S=="string"&&w.comma&&S.indexOf(",")>-1?S.split(","):S},f="utf8=%26%2310003%3B",h="utf8=%E2%9C%93",p=function(w,C){var M={__proto__:null},T=C.ignoreQueryPrefix?w.replace(/^\?/,""):w;T=T.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var D=C.parameterLimit===1/0?void 0:C.parameterLimit,R=T.split(C.delimiter,D),q=-1,Y,K=C.charset;if(C.charsetSentinel)for(Y=0;Y<R.length;++Y)R[Y].indexOf("utf8=")===0&&(R[Y]===h?K="utf-8":R[Y]===f&&(K="iso-8859-1"),q=Y,Y=R.length);for(Y=0;Y<R.length;++Y)if(Y!==q){var ce=R[Y],te=ce.indexOf("]="),ee=te===-1?ce.indexOf("="):te+1,he,be;ee===-1?(he=C.decoder(ce,i.decoder,K,"key"),be=C.strictNullHandling?null:""):(he=C.decoder(ce.slice(0,ee),i.decoder,K,"key"),be=t.maybeMap(l(ce.slice(ee+1),C),function(oe){return C.decoder(oe,i.decoder,K,"value")})),be&&C.interpretNumericEntities&&K==="iso-8859-1"&&(be=s(String(be))),ce.indexOf("[]=")>-1&&(be=n(be)?[be]:be);var Fe=e.call(M,he);Fe&&C.duplicates==="combine"?M[he]=t.combine(M[he],be):(!Fe||C.duplicates==="last")&&(M[he]=be)}return M},m=function(S,w,C,M){for(var T=M?w:l(w,C),D=S.length-1;D>=0;--D){var R,q=S[D];if(q==="[]"&&C.parseArrays)R=C.allowEmptyArrays&&(T===""||C.strictNullHandling&&T===null)?[]:[].concat(T);else{R=C.plainObjects?{__proto__:null}:{};var Y=q.charAt(0)==="["&&q.charAt(q.length-1)==="]"?q.slice(1,-1):q,K=C.decodeDotInKeys?Y.replace(/%2E/g,"."):Y,ce=parseInt(K,10);!C.parseArrays&&K===""?R={0:T}:!isNaN(ce)&&q!==K&&String(ce)===K&&ce>=0&&C.parseArrays&&ce<=C.arrayLimit?(R=[],R[ce]=T):K!=="__proto__"&&(R[K]=T)}T=R}return T},g=function(w,C,M,T){if(w){var D=M.allowDots?w.replace(/\.([^.[]+)/g,"[$1]"):w,R=/(\[[^[\]]*])/,q=/(\[[^[\]]*])/g,Y=M.depth>0&&R.exec(D),K=Y?D.slice(0,Y.index):D,ce=[];if(K){if(!M.plainObjects&&e.call(Object.prototype,K)&&!M.allowPrototypes)return;ce.push(K)}for(var te=0;M.depth>0&&(Y=q.exec(D))!==null&&te<M.depth;){if(te+=1,!M.plainObjects&&e.call(Object.prototype,Y[1].slice(1,-1))&&!M.allowPrototypes)return;ce.push(Y[1])}if(Y){if(M.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+M.depth+" and strictDepth is true");ce.push("["+D.slice(Y.index)+"]")}return m(ce,C,M,T)}},b=function(w){if(!w)return i;if(typeof w.allowEmptyArrays<"u"&&typeof w.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof w.decodeDotInKeys<"u"&&typeof w.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(w.decoder!==null&&typeof w.decoder<"u"&&typeof w.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof w.charset<"u"&&w.charset!=="utf-8"&&w.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var C=typeof w.charset>"u"?i.charset:w.charset,M=typeof w.duplicates>"u"?i.duplicates:w.duplicates;if(M!=="combine"&&M!=="first"&&M!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var T=typeof w.allowDots>"u"?w.decodeDotInKeys===!0?!0:i.allowDots:!!w.allowDots;return{allowDots:T,allowEmptyArrays:typeof w.allowEmptyArrays=="boolean"?!!w.allowEmptyArrays:i.allowEmptyArrays,allowPrototypes:typeof w.allowPrototypes=="boolean"?w.allowPrototypes:i.allowPrototypes,allowSparse:typeof w.allowSparse=="boolean"?w.allowSparse:i.allowSparse,arrayLimit:typeof w.arrayLimit=="number"?w.arrayLimit:i.arrayLimit,charset:C,charsetSentinel:typeof w.charsetSentinel=="boolean"?w.charsetSentinel:i.charsetSentinel,comma:typeof w.comma=="boolean"?w.comma:i.comma,decodeDotInKeys:typeof w.decodeDotInKeys=="boolean"?w.decodeDotInKeys:i.decodeDotInKeys,decoder:typeof w.decoder=="function"?w.decoder:i.decoder,delimiter:typeof w.delimiter=="string"||t.isRegExp(w.delimiter)?w.delimiter:i.delimiter,depth:typeof w.depth=="number"||w.depth===!1?+w.depth:i.depth,duplicates:M,ignoreQueryPrefix:w.ignoreQueryPrefix===!0,interpretNumericEntities:typeof w.interpretNumericEntities=="boolean"?w.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:typeof w.parameterLimit=="number"?w.parameterLimit:i.parameterLimit,parseArrays:w.parseArrays!==!1,plainObjects:typeof w.plainObjects=="boolean"?w.plainObjects:i.plainObjects,strictDepth:typeof w.strictDepth=="boolean"?!!w.strictDepth:i.strictDepth,strictNullHandling:typeof w.strictNullHandling=="boolean"?w.strictNullHandling:i.strictNullHandling}};return aw=function(S,w){var C=b(w);if(S===""||S===null||typeof S>"u")return C.plainObjects?{__proto__:null}:{};for(var M=typeof S=="string"?p(S,C):S,T=C.plainObjects?{__proto__:null}:{},D=Object.keys(M),R=0;R<D.length;++R){var q=D[R],Y=g(q,M[q],C,typeof S=="string");T=t.merge(T,Y,C)}return C.allowSparse===!0?T:t.compact(T)},aw}var sw,hM;function Aie(){if(hM)return sw;hM=1;var t=Cie(),e=Eie(),n=_S();return sw={formats:n,parse:e,stringify:t},sw}var kie=Aie();const v1e=wR(kie);var qn={},xs={},jg={},kr={},Ss={},dM;function Il(){if(dM)return Ss;dM=1,Object.defineProperty(Ss,"__esModule",{value:!0});var t=new Uint8Array(0),e=1024;function n(S,w,C){return S[w++]=C>>>24&255,S[w++]=C>>>16&255,S[w++]=C>>>8&255,S[w++]=C&255,w}Ss.writeInt32BE=n;function i(S,w,C){return S[w++]=C&255,S[w++]=C>>>8&255,S[w++]=C>>>16&255,S[w++]=C>>>24&255,w}Ss.writeInt32LE=i;function s(S){return--S,S|=S>>1,S|=S>>2,S|=S>>4,S|=S>>8,S|=S>>16,S+1}var l=!0;try{h(new Uint8Array([1,2]))}catch{l=!1}function f(S){for(var w=S.length,C=new Array(w),M=0;M<w;++M)C[M]=S[M];return C}function h(S){return l?String.fromCharCode.apply(String,S):String.fromCharCode.apply(String,f(S))}function p(S,w){if(w<0&&(w=S.length),w===0)return["",0];var C=0,M=0,T=w<32767?w:32767,D=new Uint16Array(T+1),R=S.length,q=[];do{for(;C<T&&M<R;C++){var Y=S[M++];switch(Y>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:D[C]=Y;break;case 12:case 13:if(M<R){D[C]=(Y&31)<<6|S[M++]&63;break}throw new Error("Unfinished UTF-8 octet sequence");case 14:if(M+1<R){D[C]=(Y&15)<<12|(S[M++]&63)<<6|S[M++]&63;break}throw new Error("Unfinished UTF-8 octet sequence");case 15:if(M+2<R){var K=((Y&7)<<18|(S[M++]&63)<<12|(S[M++]&63)<<6|S[M++]&63)-65536;if(0<=K&&K<=1048575){D[C++]=K>>10&1023|55296,D[C]=K&1023|56320;break}throw new Error("Character outside valid Unicode range: 0x"+K.toString(16))}throw new Error("Unfinished UTF-8 octet sequence");default:throw new Error("Bad UTF-8 encoding 0x"+Y.toString(16))}}q.push(h(D.subarray(0,C))),w-=C,C=0,T>w&&(T=w)}while(C<w&&M<R);return[q.length===1?q[0]:q.join(""),M]}function m(S){return p(S,S.length)[0]}Ss.fromUint8Array=m;function g(S){var w=S instanceof Uint8Array?S:new Uint8Array(S),C=w.length;if(C===0)return"";if(C<65535)return h(w);for(var M=C&32767,T=C>>15,D=new Array(M?T+1:T),R=0;R<T;++R)D[R]=h(w.subarray(R<<15,R+1<<15));return M&&(D[T]=h(w.subarray(T<<15,C))),D.join("")}Ss.toBinaryString=g;var b=function(){function S(w){this.buffer=t,this.size=0,this.offset=0,this.rmark=0,this.wmark=0,w&&(typeof w=="number"?this.buffer=new Uint8Array(w):typeof w=="string"?this.writeString(w):(w instanceof S?this.buffer=w.toBytes():w instanceof Uint8Array?this.buffer=w:w instanceof Uint8ClampedArray?this.buffer=new Uint8Array(w.buffer,w.byteOffset,w.length):this.buffer=new Uint8Array(w),this.size=w.length),this.mark())}return S.toString=function(w){return w===void 0?Object.toString.apply(S):typeof w=="string"?w:w instanceof S?w.toString():w instanceof Uint8Array?m(w):w instanceof ArrayBuffer?m(new Uint8Array(w,0)):h(w)},S.prototype.grow=function(w){var C=this.capacity;if(w=this.size+w,w>C)if(C>0){var M=new Uint8Array(s(w));M.set(this.buffer),this.buffer=M}else this.buffer=new Uint8Array(Math.max(s(w),e))},Object.defineProperty(S.prototype,"capacity",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"length",{get:function(){return this.size},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"position",{get:function(){return this.offset},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"bytes",{get:function(){return this.buffer.subarray(0,this.size)},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"remains",{get:function(){return this.buffer.subarray(this.offset,this.size)},enumerable:!0,configurable:!0}),S.prototype.mark=function(){this.wmark=this.size,this.rmark=this.offset},S.prototype.reset=function(){this.size=this.wmark,this.offset=this.rmark},S.prototype.clear=function(){this.buffer=t,this.size=0,this.offset=0,this.wmark=0,this.rmark=0},S.prototype.writeByte=function(w){this.grow(1),this.buffer[this.size++]=w},S.prototype.writeInt32BE=function(w){if(w!==(w|0))throw new TypeError("value is out of bounds");this.grow(4),this.size=n(this.buffer,this.size,w)},S.prototype.writeUInt32BE=function(w){if(w<0||w!==(w|0)&&(w&2147483647)+2147483648!==w)throw new TypeError("value is out of bounds");this.grow(4),this.size=n(this.buffer,this.size,w|0)},S.prototype.writeInt32LE=function(w){if(w!==(w|0))throw new TypeError("value is out of bounds");this.grow(4),this.size=i(this.buffer,this.size,w)},S.prototype.writeUInt32LE=function(w){if(w<0||w!==(w|0)&&(w&2147483647)+2147483648!==w)throw new TypeError("value is out of bounds");this.grow(4),this.size=i(this.buffer,this.size,w|0)},S.prototype.write=function(w){var C=w instanceof ArrayBuffer?w.byteLength:w.length;if(C!==0){this.grow(C);var M=this.buffer,T=this.size;w instanceof S?M.set(w.bytes,T):w instanceof ArrayBuffer?M.set(new Uint8Array(w),T):M.set(w,T),this.size+=C}},S.prototype.writeAsciiString=function(w){var C=w.length;if(C!==0){this.grow(C);for(var M=this.buffer.subarray(this.size),T=0;T<C;++T)M[T]=w.charCodeAt(T);this.size+=C}},S.prototype.writeString=function(w){var C=w.length;if(C!==0){this.grow(C*3);for(var M=this.buffer,T=this.size,D=0;D<C;++D){var R=w.charCodeAt(D);if(R<128)M[T++]=R;else if(R<2048)M[T++]=192|R>>6,M[T++]=128|R&63;else if(R<55296||R>57343)M[T++]=224|R>>12,M[T++]=128|R>>6&63,M[T++]=128|R&63;else{if(D+1<C){var q=w.charCodeAt(D+1);if(R<56320&&56320<=q&&q<=57343){var Y=((R&1023)<<10|q&1023)+65536;M[T++]=240|Y>>18,M[T++]=128|Y>>12&63,M[T++]=128|Y>>6&63,M[T++]=128|Y&63,++D;continue}}throw new Error("Malformed string")}}this.size=T}},S.prototype.readByte=function(){return this.offset>=this.size?-1:this.buffer[this.offset++]},S.prototype.readInt32BE=function(){var w=this.buffer,C=this.offset;if(C+3>=this.size)throw new Error("EOF");var M=w[C++]<<24|w[C++]<<16|w[C++]<<8|w[C++];return this.offset=C,M},S.prototype.readUInt32BE=function(){var w=this.readInt32BE();return w>=0?w:(w&2147483647)+2147483648},S.prototype.readInt32LE=function(){var w=this.buffer,C=this.offset;if(C+3>=this.size)throw new Error("EOF");var M=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;return this.offset=C,M},S.prototype.readUInt32LE=function(){var w=this.readInt32LE();return w>=0?w:(w&2147483647)+2147483648},S.prototype.read=function(w){return(w<0||this.offset+w>this.size)&&(w=this.size-this.offset),w===0?t:this.buffer.subarray(this.offset,this.offset+=w)},S.prototype.skip=function(w){return w===0?0:(w<0||this.offset+w>this.size?(w=this.size-this.offset,this.offset=this.size):this.offset+=w,w)},S.prototype.readBytes=function(w){var C=this.buffer.indexOf(w,this.offset),M;return C===-1?(M=this.buffer.subarray(this.offset,this.size),this.offset=this.size):(M=this.buffer.subarray(this.offset,C+1),this.offset=C+1),M},S.prototype.readUntil=function(w){var C=this.buffer.indexOf(w,this.offset),M="";return C===this.offset?this.offset++:C===-1?(M=m(this.buffer.subarray(this.offset,this.size)),this.offset=this.size):(M=m(this.buffer.subarray(this.offset,C)),this.offset=C+1),M},S.prototype.readAsciiString=function(w){return g(this.read(w))},S.prototype.readStringAsBytes=function(w){if(w===0)return t;var C=this.buffer.subarray(this.offset,this.size);if(w<0)return this.offset=this.size,C;for(var M=0,T=0,D=C.length;T<w&&M<D;T++){var R=C[M++];switch(R>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:break;case 12:case 13:if(M<D){M++;break}throw new Error("Unfinished UTF-8 octet sequence");case 14:if(M+1<D){M+=2;break}throw new Error("Unfinished UTF-8 octet sequence");case 15:if(M+2<D){var q=((R&7)<<18|(C[M++]&63)<<12|(C[M++]&63)<<6|C[M++]&63)-65536;if(0<=q&&q<=1048575){T++;break}throw new Error("Character outside valid Unicode range: 0x"+q.toString(16))}throw new Error("Unfinished UTF-8 octet sequence");default:throw new Error("Bad UTF-8 encoding 0x"+R.toString(16))}}return this.offset+=M,C.subarray(0,M)},S.prototype.readString=function(w){var C=p(this.buffer.subarray(this.offset,this.size),w),M=C[0],T=C[1];return this.offset+=T,M},S.prototype.takeBytes=function(){var w=this.bytes;return this.clear(),w},S.prototype.toBytes=function(){return new Uint8Array(this.bytes)},S.prototype.toString=function(){return m(this.bytes)},S.prototype.clone=function(){return new S(this.toBytes())},S.prototype.trunc=function(){this.buffer=this.remains,this.size=this.buffer.length,this.offset=0,this.wmark=0,this.rmark=0},S}();return Ss.ByteStream=b,Ss}var yc={},Nu={},qg={},pM;function C0(){if(pM)return qg;pM=1,Object.defineProperty(qg,"__esModule",{value:!0});var t=function(){function e(){}return e.prototype.write=function(n,i){n.stream.writeByte(110)},e.prototype.serialize=function(n,i){this.write(n,i)},e}();return qg.BaseSerializer=t,qg}var _c={},go={},gM;function Ya(){if(gM)return go;gM=1,Object.defineProperty(go,"__esModule",{value:!0});function t(m,g){0<=g&&g<=9?m.writeByte(48+g):(g===(g|0)?m.writeByte(105):m.writeByte(108),m.writeAsciiString(""+g),m.writeByte(59))}go.writeInteger=t;function e(m,g){isNaN(g)?m.writeByte(78):isFinite(g)?(m.writeByte(100),m.writeAsciiString(""+g),m.writeByte(59)):(m.writeByte(73),m.writeByte(g>0?43:45))}go.writeDouble=e;function n(m,g){0<=g&&g<=9?m.writeByte(48+Number(g)):(m.writeByte(108),m.writeAsciiString(""+g),m.writeByte(59))}go.writeBigInt=n;function i(m,g){var b=g.length;b>0&&m.writeAsciiString(""+b),m.writeByte(34),m.writeString(g),m.writeByte(34)}go.writeStringBody=i;function s(m,g){var b=g.getUTCFullYear(),S=g.getUTCMonth()+1,w=g.getUTCDate(),C=g.getUTCHours(),M=g.getUTCMinutes(),T=g.getUTCSeconds(),D=g.getUTCMilliseconds();f(m,b,S,w,C,M,T,D,!0)}go.writeUTCDate=s;function l(m,g){var b=g.getFullYear(),S=g.getMonth()+1,w=g.getDate(),C=g.getHours(),M=g.getMinutes(),T=g.getSeconds(),D=g.getMilliseconds();f(m,b,S,w,C,M,T,D,!1)}go.writeLocalDate=l;function f(m,g,b,S,w,C,M,T,D){w===0&&C===0&&M===0&&T===0?h(m,g,b,S):(g===1970&&b===1&&S===1||h(m,g,b,S),p(m,w,C,M,T)),m.writeByte(D?90:59)}go.writeDateTime=f;function h(m,g,b,S){m.writeByte(68),m.writeAsciiString(("0000"+g).slice(-4)),m.writeAsciiString(("00"+b).slice(-2)),m.writeAsciiString(("00"+S).slice(-2))}go.writeDate=h;function p(m,g,b,S,w){m.writeByte(84),m.writeAsciiString(("00"+g).slice(-2)),m.writeAsciiString(("00"+b).slice(-2)),m.writeAsciiString(("00"+S).slice(-2)),w>0&&(m.writeByte(46),m.writeAsciiString(("000"+w).slice(-3)))}return go.writeTime=p,go}var vM;function Fie(){if(vM)return _c;vM=1;var t=_c&&_c.__extends||function(){var s=function(l,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])},s(l,f)};return function(l,f){s(l,f);function h(){this.constructor=l}l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(_c,"__esModule",{value:!0});var e=C0(),n=Ya(),i=function(s){t(l,s);function l(){return s!==null&&s.apply(this,arguments)||this}return l.prototype.write=function(f,h){h=h.valueOf(),Number.isSafeInteger(h)?n.writeInteger(f.stream,h):n.writeDouble(f.stream,h)},l}(e.BaseSerializer);return _c.NumberSerializer=i,_c}var bc={},mM;function Iie(){if(mM)return bc;mM=1;var t=bc&&bc.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(bc,"__esModule",{value:!0});var e=C0(),n=function(i){t(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.prototype.write=function(l,f){l.stream.writeByte(f.valueOf()?116:102)},s}(e.BaseSerializer);return bc.BooleanSerializer=n,bc}var wc={},xc={},yM;function wo(){if(yM)return xc;yM=1;var t=xc&&xc.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(xc,"__esModule",{value:!0});var e=C0(),n=function(i){t(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.prototype.write=function(l,f){l.setReference(f)},s.prototype.serialize=function(l,f){l.writeReference(f)||this.write(l,f)},s}(e.BaseSerializer);return xc.ReferenceSerializer=n,xc}var _M;function Mie(){if(_M)return wc;_M=1;var t=wc&&wc.__extends||function(){var s=function(l,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])},s(l,f)};return function(l,f){s(l,f);function h(){this.constructor=l}l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(wc,"__esModule",{value:!0});var e=wo(),n=Ya(),i=function(s){t(l,s);function l(){return s!==null&&s.apply(this,arguments)||this}return l.prototype.write=function(f,h){s.prototype.write.call(this,f,h);var p=f.stream;p.writeByte(115),n.writeStringBody(p,h)},l.prototype.serialize=function(f,h){var p=f.stream;switch(h.length){case 0:p.writeByte(101);break;case 1:p.writeByte(117),p.writeString(h);break;default:s.prototype.serialize.call(this,f,h);break}},l}(e.ReferenceSerializer);return wc.StringSerializer=i,wc}var Sc={},bM;function Die(){if(bM)return Sc;bM=1;var t=Sc&&Sc.__extends||function(){var s=function(l,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])},s(l,f)};return function(l,f){s(l,f);function h(){this.constructor=l}l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(Sc,"__esModule",{value:!0});var e=wo(),n=Ya(),i=function(s){t(l,s);function l(){return s!==null&&s.apply(this,arguments)||this}return l.prototype.write=function(f,h){s.prototype.write.call(this,f,h);var p=f.stream;f.utc?n.writeUTCDate(p,h):n.writeLocalDate(p,h)},l}(e.ReferenceSerializer);return Sc.DateSerializer=i,Sc}var Cc={},wM;function Tie(){if(wM)return Cc;wM=1;var t=Cc&&Cc.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(Cc,"__esModule",{value:!0});var e=wo(),n=function(i){t(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.prototype.write=function(l,f){i.prototype.write.call(this,l,f);var h=l.stream;h.writeByte(98);var p=f instanceof ArrayBuffer?f.byteLength:f.length;p>0&&h.writeAsciiString(""+p),h.writeByte(34),h.write(f),h.writeByte(34)},s}(e.ReferenceSerializer);return Cc.BytesSerializer=n,Cc}var Ec={},xM;function Pie(){if(xM)return Ec;xM=1;var t=Ec&&Ec.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(Ec,"__esModule",{value:!0});var e=wo(),n=function(i){t(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.prototype.write=function(l,f){i.prototype.write.call(this,l,f);var h=l.stream;h.writeByte(103),h.writeByte(123),h.writeAsciiString(f.toString()),h.writeByte(125)},s}(e.ReferenceSerializer);return Ec.GuidSerializer=n,Ec}var Ac={},SM;function Rie(){if(SM)return Ac;SM=1;var t=Ac&&Ac.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(Ac,"__esModule",{value:!0});var e=wo(),n=function(i){t(s,i);function s(l){var f=i.call(this)||this;return f.writeNumber=l,f}return s.prototype.write=function(l,f){i.prototype.write.call(this,l,f);var h=l.stream;h.writeByte(97);var p=f.length;p>0&&h.writeAsciiString(""+p),h.writeByte(123);for(var m=0;m<p;m++)this.writeNumber(h,f[m]);h.writeByte(125)},s}(e.ReferenceSerializer);return Ac.TypedArraySerializer=n,Ac}var kc={},CM;function Bie(){if(CM)return kc;CM=1;var t=kc&&kc.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(kc,"__esModule",{value:!0});var e=wo(),n=function(i){t(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.prototype.write=function(l,f){i.prototype.write.call(this,l,f);var h=l.stream;h.writeByte(97);var p=f.length;p>0&&h.writeAsciiString(""+p),h.writeByte(123);for(var m=0;m<p;m++)l.serialize(f[m]);h.writeByte(125)},s}(e.ReferenceSerializer);return kc.ArraySerializer=n,kc}var Fc={},EM;function Oie(){if(EM)return Fc;EM=1;var t=Fc&&Fc.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(Fc,"__esModule",{value:!0});var e=wo(),n=function(i){t(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.prototype.write=function(l,f){i.prototype.write.call(this,l,f);var h=l.stream;h.writeByte(97);var p=f.size;p>0&&h.writeAsciiString(""+p),h.writeByte(123),f.forEach(function(m){return l.serialize(m)}),h.writeByte(125)},s}(e.ReferenceSerializer);return Fc.SetSerializer=n,Fc}var Ic={},AM;function Lie(){if(AM)return Ic;AM=1;var t=Ic&&Ic.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(Ic,"__esModule",{value:!0});var e=wo(),n=function(i){t(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.prototype.write=function(l,f){i.prototype.write.call(this,l,f);var h=l.stream;h.writeByte(109);var p=f.size;p>0&&h.writeAsciiString(""+p),h.writeByte(123),f.forEach(function(m,g){l.serialize(g),l.serialize(m)}),h.writeByte(125)},s}(e.ReferenceSerializer);return Ic.MapSerializer=n,Ic}var Mc={},kM;function zie(){if(kM)return Mc;kM=1;var t=Mc&&Mc.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(Mc,"__esModule",{value:!0});var e=wo(),n=function(i){t(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.prototype.write=function(l,f){i.prototype.write.call(this,l,f);var h=l.stream,p=[];if(f.hasOwnProperty===void 0)for(var m in f)typeof f[m]!="function"&&(p[p.length]=m);else for(var m in f)f.hasOwnProperty(m)&&typeof f[m]!="function"&&(p[p.length]=m);var g=p.length;h.writeByte(109),g>0&&h.writeAsciiString(""+g),h.writeByte(123);for(var b=0;b<g;b++)l.serialize(p[b]),l.serialize(f[p[b]]);h.writeByte(125)},s}(e.ReferenceSerializer);return Mc.DictionarySerializer=n,Mc}var Dc={},FM;function Nie(){if(FM)return Dc;FM=1;var t=Dc&&Dc.__extends||function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])},l(f,h)};return function(f,h){l(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(Dc,"__esModule",{value:!0});var e=Il(),n=wo(),i=Ya(),s=function(l){t(f,l);function f(h,p,m){m===void 0&&(m=[]);var g=l.call(this)||this;if(g.type=h.constructor,m.length===0)for(var b in h)h.hasOwnProperty(b)&&typeof h[b]!="function"&&(m[m.length]=b.toString());g.fields=m;var S=new e.ByteStream;S.writeByte(99),i.writeStringBody(S,p);var w=m.length;w>0&&S.writeAsciiString(""+w),S.writeByte(123);for(var C=0;C<w;C++)S.writeByte(115),i.writeStringBody(S,m[C]);return S.writeByte(125),g.metadata=S.takeBytes(),g}return f.prototype.write=function(h,p){var m=h.stream,g=this.fields,b=this.metadata,S=g.length,w=h.writeClass(this.type,function(){m.write(b),h.addReferenceCount(S)});l.prototype.write.call(this,h,p),m.writeByte(111),m.writeAsciiString(""+w),m.writeByte(123);for(var C=0;C<S;C++)h.serialize(p[g[C]]);m.writeByte(125)},f}(n.ReferenceSerializer);return Dc.ObjectSerializer=s,Dc}var Tc={},IM;function jie(){if(IM)return Tc;IM=1;var t=Tc&&Tc.__extends||function(){var s=function(l,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])},s(l,f)};return function(l,f){s(l,f);function h(){this.constructor=l}l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(Tc,"__esModule",{value:!0});var e=wo(),n=Ya(),i=function(s){t(l,s);function l(){return s!==null&&s.apply(this,arguments)||this}return l.prototype.write=function(f,h){f.addReferenceCount(1);var p=f.stream;p.writeByte(69),p.writeByte(115),n.writeStringBody(p,h.message)},l}(e.ReferenceSerializer);return Tc.ErrorSerializer=i,Tc}var ju={},MM;function bS(){if(MM)return ju;MM=1,Object.defineProperty(ju,"__esModule",{value:!0});var t=Object.create(null),e=new WeakMap;"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){var m=this.toString();return m.substr(0,m.indexOf("(")).replace(/(^\s*function\s*)|(\s*$)/ig,"")},writable:!1,enumerable:!1,configurable:!0});function n(m,g){g===void 0&&(g=m.name),e.set(m,g),t[g]=m}ju.register=n;function i(m){return m in t}ju.isRegistered=i;function s(m){if(!m)return"";var g=e.get(m);return g||(g=m.name,g===""||g==="Object"?"":(e.set(m,g),t[g]=m,g))}ju.getName=s;var l=null;try{l=typeof av=="object"?av:window}catch{}function f(m){if(l){for(var g=l,b=m.split("."),S=0;S<b.length;S++)if(g=g[b[S]],g===void 0)return;if(typeof g=="function")return g}}function h(m,g,b,S){if(b<g.length){m[g[b++]]=S;var w=h(m,g,b,".");return w===void 0&&b<g.length&&(w=h(m,g,b,"_")),w}return f(m.join(""))}function p(m){var g=t[m];if(g)return g;if(g=f(m),g)return n(g,m),g;for(var b=[],S=m.indexOf("_");S>=0;)b[b.length]=S,S=m.indexOf("_",S+1);if(b.length>0){var w=m.split("");if(g=h(w,b,0,"."),g===void 0&&(g=h(w,b,0,"_")),g)return n(g,m),g}return g=function(){},Object.defineProperty(g,"name",{value:m}),n(g,m),g}return ju.getType=p,ju}var $g={},DM;function Zv(){if(DM)return $g;DM=1,$g.__esModule=!0;var t=function(){function e(n){if(!n)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,n&&e.isGuid(n)&&(this.value=n)}return e.isGuid=function(n){var i=n.toString();return n&&(n instanceof e||e.validator.test(i))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(n){return new e(n)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(n){for(var i="",s=0;s<n;s++)i+=((1+Math.random())*65536|0).toString(16).substring(1);return i},e.prototype.equals=function(n){return e.isGuid(n)&&this.value===n.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}();return $g.Guid=t,$g}var TM;function Jv(){if(TM)return Nu;TM=1;var t=Nu&&Nu.__importStar||function(tt){if(tt&&tt.__esModule)return tt;var lt={};if(tt!=null)for(var Qe in tt)Object.hasOwnProperty.call(tt,Qe)&&(lt[Qe]=tt[Qe]);return lt.default=tt,lt};Object.defineProperty(Nu,"__esModule",{value:!0});var e=Il(),n=C0(),i=Fie(),s=Iie(),l=Mie(),f=Die(),h=Tie(),p=Pie(),m=Rie(),g=Bie(),b=Oie(),S=Lie(),w=zie(),C=Nie(),M=jie(),T=t(bS()),D=Ya(),R=Zv(),q=new Map,Y=new n.BaseSerializer,K=new i.NumberSerializer,ce=new s.BooleanSerializer,te=new l.StringSerializer,ee=new f.DateSerializer,he=new h.BytesSerializer,be=new p.GuidSerializer,Fe=new m.TypedArraySerializer(D.writeInteger),oe=new m.TypedArraySerializer(D.writeDouble),Se=new g.ArraySerializer,fe=new b.SetSerializer,Te=new S.MapSerializer,Le=new w.DictionarySerializer,Pe=new M.ErrorSerializer;function ze(tt,lt){q.set(tt,lt)}Nu.register=ze;function Je(tt){var lt=tt.constructor;switch(lt){case Function:return Y;case Number:return K;case Boolean:return ce;case String:return te;case Date:return ee;case R.Guid:return be;case Array:return Se;case Set:return fe;case Map:return Te;case ArrayBuffer:case Uint8Array:case Uint8ClampedArray:case e.ByteStream:return he;case Int8Array:case Int16Array:case Int32Array:case Uint16Array:case Uint32Array:return Fe;case Float32Array:case Float64Array:return oe;case Error:return Pe}var Qe=q.get(lt);if(Qe!==void 0)return Qe;if(Array.isArray(tt)||Object.prototype.toString.call(tt)==="[object Arguments]")return Se;if(tt instanceof Error)return ze(lt,Pe),Pe;var mt=T.getName(lt);if(mt==="")return Le;if(mt==="GeneratorFunction"||mt==="AsyncFunction")return Y;var Ct=new C.ObjectSerializer(tt,mt);return ze(lt,Ct),Ct}return Nu.getInstance=Je,Nu}var Xh={},PM;function qie(){if(PM)return Xh;PM=1;var t=Xh&&Xh.__extends||function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])},l(f,h)};return function(f,h){l(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(Xh,"__esModule",{value:!0});var e=Ya(),n=C0(),i=Jv();if(typeof BigInt<"u"){var s=function(l){t(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.prototype.write=function(h,p){e.writeBigInt(h.stream,p)},f}(n.BaseSerializer);i.register(BigInt,new s)}return Xh}var Kh={},RM;function $ie(){if(RM)return Kh;RM=1;var t=Kh&&Kh.__extends||function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var b in g)g.hasOwnProperty(b)&&(m[b]=g[b])},f(h,p)};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(Kh,"__esModule",{value:!0});var e=wo(),n=Ya(),i=Jv();if(typeof BigInt64Array<"u"&&typeof BigUint64Array<"u"){var s=function(f){t(h,f);function h(){return f.call(this)||this}return h.prototype.write=function(p,m){f.prototype.write.call(this,p,m);var g=p.stream;g.writeByte(97);var b=m.length;b>0&&g.writeAsciiString(""+b),g.writeByte(123);for(var S=0;S<b;S++)n.writeBigInt(g,m[S]);g.writeByte(125)},h}(e.ReferenceSerializer),l=new s;i.register(BigInt64Array,l),i.register(BigUint64Array,l)}return Kh}var BM;function ER(){if(BM)return yc;BM=1;var t=yc&&yc.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f in s)Object.hasOwnProperty.call(s,f)&&(l[f]=s[f]);return l.default=s,l};Object.defineProperty(yc,"__esModule",{value:!0});var e=t(Jv());qie(),$ie();var n=function(){function s(){this.ref=new Map,this.last=0}return s.prototype.addCount=function(l){this.last+=l},s.prototype.set=function(l){this.ref.set(l,this.last++)},s.prototype.write=function(l,f){var h=this.ref.get(f);return h!==void 0?(l.writeByte(114),l.writeAsciiString(""+h),l.writeByte(59),!0):!1},s.prototype.reset=function(){this.ref.clear(),this.last=0},s}(),i=function(){function s(l,f,h){f===void 0&&(f=!1),h===void 0&&(h=!1),this.stream=l,this.utc=h,this.ref=new Map,this.last=0,this.simple=f}return Object.defineProperty(s.prototype,"simple",{get:function(){return this.refer===void 0},set:function(l){this.refer=l?void 0:new n},enumerable:!0,configurable:!0}),s.prototype.serialize=function(l){l==null?this.stream.writeByte(110):e.getInstance(l).serialize(this,l)},s.prototype.write=function(l){l==null?this.stream.writeByte(110):e.getInstance(l).write(this,l)},s.prototype.writeReference=function(l){return this.refer?this.refer.write(this.stream,l):!1},s.prototype.setReference=function(l){this.refer&&this.refer.set(l)},s.prototype.addReferenceCount=function(l){this.refer&&this.refer.addCount(l)},s.prototype.reset=function(){this.refer&&this.refer.reset(),this.ref.clear(),this.last=0},s.prototype.writeClass=function(l,f){var h=this.ref.get(l);return h===void 0&&(f(),h=this.last++,this.ref.set(l,h)),h},s}();return yc.Writer=i,yc}var Pc={},Mi={},OM;function Go(){if(OM)return Mi;OM=1,Object.defineProperty(Mi,"__esModule",{value:!0});var t=Zv();function e(M,T){T===void 0&&(T=59);var D=M.readUntil(T);return D.length===0?0:parseInt(D,10)}Mi.readInt=e;function n(M){return parseFloat(M.readUntil(59))}Mi.readDouble=n;function i(M){return M.readByte()===45?-1/0:1/0}Mi.readInfinity=i;function s(M){return e(M,123)}Mi.readCount=s;function l(M){return e(M,34)}Mi.readLength=l;function f(M){var T=l(M),D=M.readString(T);return M.readByte(),D}Mi.readString=f;function h(M){var T=l(M),D=M.read(T);return M.readByte(),D}Mi.readBytes=h;function p(M){var T=l(M),D=M.readAsciiString(T);return M.readByte(),D}Mi.readAsciiString=p;function m(M){M.readByte();var T=t.Guid.parse(M.readAsciiString(36));return M.readByte(),T}Mi.readGuid=m;function g(M){var T=M.readByte()-48;return T=T*10+M.readByte()-48,T=T*10+M.readByte()-48,T*10+M.readByte()-48}function b(M){var T=M.readByte()-48;return T*10+M.readByte()-48}function S(M){var T=M.readByte()-48;T=T*10+M.readByte()-48,T=T*10+M.readByte()-48;var D=M.readByte();return D>=48&&D<=57&&(M.skip(2),D=M.readByte(),D>=48&&D<=57&&(M.skip(2),D=M.readByte())),[T,D]}function w(M){var T,D=b(M),R=b(M),q=b(M),Y=0,K=M.readByte();return K===46&&(T=S(M),Y=T[0],K=T[1]),K===90?new Date(Date.UTC(1970,0,1,D,R,q,Y)):new Date(1970,0,1,D,R,q,Y)}Mi.readTime=w;function C(M){var T,D=g(M),R=b(M)-1,q=b(M),Y=M.readByte();if(Y===84){var K=b(M),ce=b(M),te=b(M),ee=0;return Y=M.readByte(),Y===46&&(T=S(M),ee=T[0],Y=T[1]),Y===90?new Date(Date.UTC(D,R,q,K,ce,te,ee)):new Date(D,R,q,K,ce,te,ee)}return Y===90?new Date(Date.UTC(D,R,q)):new Date(D,R,q)}return Mi.readDateTime=C,Mi}var Zh={},Cs={},Ug={},LM;function fi(){if(LM)return Ug;LM=1,Object.defineProperty(Ug,"__esModule",{value:!0});function t(n){switch(n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 105:return"int32 number";case 108:return"long number";case 100:return"double number";case 110:return"null | undefined";case 101:return"empty string";case 116:return"true";case 102:return"false";case 78:return"NaN";case 73:return"Infinity";case 68:case 84:return"Date";case 98:return"Uint8Array";case 117:case 115:return"string";case 103:return"guid string";case 97:return"Array";case 109:return"object | Map";case 99:return"class";case 111:return"Object";case 114:return"Reference";case 69:return"Error";default:throw new Error("Unexpected Tag: 0x"+(n&255).toString(16))}}var e=function(){function n(i){i===void 0&&(i="undefined"),this.type=i}return n.prototype.read=function(i,s){switch(s){case 110:return;case 114:return i.readReference();case 99:return i.readClass(),this.deserialize(i);case 69:throw new Error(i.deserialize(String))}throw new Error("Cannot convert "+t(s)+" to "+this.type+".")},n.prototype.deserialize=function(i){return this.read(i,i.stream.readByte())},n}();return Ug.BaseDeserializer=e,Ug}var ni={},zM;function ji(){if(zM)return ni;zM=1;var t=ni&&ni.__importStar||function(w){if(w&&w.__esModule)return w;var C={};if(w!=null)for(var M in w)Object.hasOwnProperty.call(w,M)&&(C[M]=w[M]);return C.default=w,C};Object.defineProperty(ni,"__esModule",{value:!0});var e=t(Go());function n(w){var C=e.readBytes(w.stream);return w.addReference(C),C}ni.readBytes=n;function i(w){var C=e.readAsciiString(w.stream);return w.addReference(C),C}ni.readAsciiString=i;function s(w){var C=e.readString(w.stream);return w.addReference(C),C}ni.readString=s;function l(w){var C=e.readGuid(w.stream);return w.addReference(C),C}ni.readGuid=l;function f(w){var C=e.readDateTime(w.stream);return w.addReference(C),C}ni.readDateTime=f;function h(w){var C=e.readTime(w.stream);return w.addReference(C),C}ni.readTime=h;function p(w){var C=w.stream,M=e.readCount(C),T=new Array(M);w.addReference(T);for(var D=0;D<M;++D)T[D]=w.deserialize();return C.readByte(),T}ni.readArray=p;function m(w){var C=w.stream,M=e.readCount(C),T=new Set;w.addReference(T);for(var D=0;D<M;++D)T.add(w.deserialize());return C.readByte(),T}ni.readSet=m;function g(w){var C=w.stream,M=new Map;w.addReference(M);for(var T=e.readCount(C);T>0;--T){var D=w.deserialize(),R=w.deserialize();M.set(D,R)}return C.readByte(),M}ni.readMap=g;function b(w){var C=w.stream,M=e.readInt(C,123),T=w.getTypeInfo(M),D=T.type,R=D?new D:{};w.addReference(R);for(var q=T.names,Y=q.length,K=0;K<Y;++K)R[q[K]]=w.deserialize();return C.readByte(),R}ni.readObject=b;function S(w){var C=w.stream,M=e.readInt(C,123),T=w.getTypeInfo(M),D=new Map;w.addReference(D);for(var R=T.names,q=R.length,Y=0;Y<q;++Y)D.set(R[Y],w.deserialize());return C.readByte(),D}return ni.readObjectAsMap=S,ni}var NM;function Uie(){if(NM)return Cs;NM=1;var t=Cs&&Cs.__extends||function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])},l(f,h)};return function(f,h){l(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}(),e=Cs&&Cs.__importStar||function(l){if(l&&l.__esModule)return l;var f={};if(l!=null)for(var h in l)Object.hasOwnProperty.call(l,h)&&(f[h]=l[h]);return f.default=l,f};Object.defineProperty(Cs,"__esModule",{value:!0});var n=fi(),i=e(ji()),s=function(l){t(f,l);function f(){return l.call(this,"Array")||this}return f.prototype.read=function(h,p){switch(p){case 97:return i.readArray(h);case 101:return[];case 115:return i.readString(h).split("");case 98:return Array.from(i.readBytes(h));case 114:{var m=h.readReference();return m instanceof Uint8Array?Array.from(m):m instanceof String?m.split(""):m}default:return l.prototype.read.call(this,h,p)}},f.instance=new f,f}(n.BaseDeserializer);return Cs.ArrayDeserializer=s,Cs}var ri={},Es={},jM;function Gie(){if(jM)return Es;jM=1;var t=Es&&Es.__extends||function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var b in g)g.hasOwnProperty(b)&&(m[b]=g[b])},f(h,p)};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=Es&&Es.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var p in f)Object.hasOwnProperty.call(f,p)&&(h[p]=f[p]);return h.default=f,h};Object.defineProperty(Es,"__esModule",{value:!0});var n=fi(),i=e(Go()),s=e(ji()),l=function(f){t(h,f);function h(){return f.call(this,"int")||this}return h.prototype.read=function(p,m){if(m>=48&&m<=57)return m-48;var g=p.stream;switch(m){case 105:case 108:return i.readInt(g);case 100:return Math.floor(i.readDouble(g));case 116:return 1;case 102:case 101:return 0;case 115:return parseInt(s.readString(p));case 117:return g.readString(1).charCodeAt(1);case 68:return s.readDateTime(p).getTime();case 84:return s.readTime(p).getTime();case 114:{var b=p.readReference();return b instanceof Date?b.getTime():parseInt(b.toString())}default:return f.prototype.read.call(this,p,m)}},h.instance=new h,h}(n.BaseDeserializer);return Es.IntDeserializer=l,Es}var As={},qM;function AR(){if(qM)return As;qM=1;var t=As&&As.__extends||function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var b in g)g.hasOwnProperty(b)&&(m[b]=g[b])},f(h,p)};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=As&&As.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var p in f)Object.hasOwnProperty.call(f,p)&&(h[p]=f[p]);return h.default=f,h};Object.defineProperty(As,"__esModule",{value:!0});var n=fi(),i=e(Go()),s=e(ji()),l=function(f){t(h,f);function h(){return f.call(this,"number")||this}return h.prototype.read=function(p,m){if(m>=48&&m<=57)return m-48;var g=p.stream;switch(m){case 105:case 108:return i.readInt(g);case 100:return i.readDouble(g);case 78:return NaN;case 73:return i.readInfinity(g);case 116:return 1;case 102:case 101:return 0;case 115:return Number(s.readString(p));case 117:return g.readString(1).charCodeAt(1);case 68:return s.readDateTime(p).getTime();case 84:return s.readTime(p).getTime();case 114:{var b=p.readReference();return b instanceof Date?b.getTime():Number(b.toString())}default:return f.prototype.read.call(this,p,m)}},h.instance=new h,h}(n.BaseDeserializer);return As.NumberDeserializer=l,As}var $M;function kR(){if($M)return ri;$M=1;var t=ri&&ri.__extends||function(){var Fe=function(oe,Se){return Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,Te){fe.__proto__=Te}||function(fe,Te){for(var Le in Te)Te.hasOwnProperty(Le)&&(fe[Le]=Te[Le])},Fe(oe,Se)};return function(oe,Se){Fe(oe,Se);function fe(){this.constructor=oe}oe.prototype=Se===null?Object.create(Se):(fe.prototype=Se.prototype,new fe)}}();Object.defineProperty(ri,"__esModule",{value:!0});var e=Il(),n=Gie(),i=AR(),s=fi(),l=Go(),f=ji();function h(Fe,oe){var Se=Fe.stream,fe=l.readCount(Se),Te=new oe(fe);Fe.addReference(Te);for(var Le=n.IntDeserializer.instance,Pe=0;Pe<fe;++Pe)Te[Pe]=Le.deserialize(Fe);return Se.readByte(),Te}ri.readIntArray=h;function p(Fe,oe){var Se=Fe.stream,fe=l.readCount(Se),Te=new oe(fe);Fe.addReference(Te);for(var Le=i.NumberDeserializer.instance,Pe=0;Pe<fe;++Pe)Te[Pe]=Le.deserialize(Fe);return Se.readByte(),Te}ri.readNumberArray=p;var m=new Int8Array(0),g=function(Fe){t(oe,Fe);function oe(){return Fe.call(this,"Int8Array")||this}return oe.prototype.read=function(Se,fe){var Te;switch(fe){case 101:return m;case 97:return h(Se,Int8Array);case 98:Te=f.readBytes(Se);break;case 117:Te=new e.ByteStream(Se.stream.readString(1)).bytes;break;case 115:Te=new e.ByteStream(f.readString(Se)).bytes;break;default:return Fe.prototype.read.call(this,Se,fe)}return new Int8Array(Te.buffer,Te.byteOffset,Te.length)},oe.instance=new oe,oe}(s.BaseDeserializer);ri.Int8ArrayDeserializer=g;var b=new Int16Array(0),S=function(Fe){t(oe,Fe);function oe(){return Fe.call(this,"Int16Array")||this}return oe.prototype.read=function(Se,fe){switch(fe){case 101:return b;case 97:return h(Se,Int16Array);default:return Fe.prototype.read.call(this,Se,fe)}},oe.instance=new oe,oe}(s.BaseDeserializer);ri.Int16ArrayDeserializer=S;var w=new Int32Array(0),C=function(Fe){t(oe,Fe);function oe(){return Fe.call(this,"Int32Array")||this}return oe.prototype.read=function(Se,fe){switch(fe){case 101:return w;case 97:return h(Se,Int32Array);default:return Fe.prototype.read.call(this,Se,fe)}},oe.instance=new oe,oe}(s.BaseDeserializer);ri.Int32ArrayDeserializer=C;var M=new Uint8Array(0),T=function(Fe){t(oe,Fe);function oe(){return Fe.call(this,"Uint8Array")||this}return oe.prototype.read=function(Se,fe){switch(fe){case 98:return f.readBytes(Se);case 101:return M;case 97:return h(Se,Uint8Array);case 117:return new e.ByteStream(Se.stream.readString(1)).bytes;case 115:return new e.ByteStream(f.readString(Se)).bytes;case 114:{var Te=Se.readReference();return Te instanceof Uint8Array?Te:new e.ByteStream(Te.toString()).bytes}default:return Fe.prototype.read.call(this,Se,fe)}},oe.instance=new oe,oe}(s.BaseDeserializer);ri.Uint8ArrayDeserializer=T;var D=new Uint8ClampedArray(0),R=function(Fe){t(oe,Fe);function oe(){return Fe.call(this,"Uint8ClampedArray")||this}return oe.prototype.read=function(Se,fe){var Te;switch(fe){case 101:return D;case 97:return h(Se,Uint8ClampedArray);case 98:Te=f.readBytes(Se);break;case 117:Te=new e.ByteStream(Se.stream.readString(1)).bytes;break;case 115:Te=new e.ByteStream(f.readString(Se)).bytes;break;case 114:{var Le=Se.readReference();if(Le instanceof Uint8ClampedArray)return Le;Le instanceof Uint8Array?Te=Le:Te=new e.ByteStream(Le.toString()).bytes;break}default:return Fe.prototype.read.call(this,Se,fe)}return new Uint8ClampedArray(Te.buffer,Te.byteOffset,Te.length)},oe.instance=new oe,oe}(s.BaseDeserializer);ri.Uint8ClampedArrayDeserializer=R;var q=new Uint16Array(0),Y=function(Fe){t(oe,Fe);function oe(){return Fe.call(this,"Uint16Array")||this}return oe.prototype.read=function(Se,fe){switch(fe){case 101:return q;case 97:return h(Se,Uint16Array);default:return Fe.prototype.read.call(this,Se,fe)}},oe.instance=new oe,oe}(s.BaseDeserializer);ri.Uint16ArrayDeserializer=Y;var K=new Uint32Array(0),ce=function(Fe){t(oe,Fe);function oe(){return Fe.call(this,"Uint32Array")||this}return oe.prototype.read=function(Se,fe){switch(fe){case 101:return K;case 97:return h(Se,Uint32Array);default:return Fe.prototype.read.call(this,Se,fe)}},oe.instance=new oe,oe}(s.BaseDeserializer);ri.Uint32ArrayDeserializer=ce;var te=new Float32Array(0),ee=function(Fe){t(oe,Fe);function oe(){return Fe.call(this,"Float32Array")||this}return oe.prototype.read=function(Se,fe){switch(fe){case 101:return te;case 97:return p(Se,Float32Array);default:return Fe.prototype.read.call(this,Se,fe)}},oe.instance=new oe,oe}(s.BaseDeserializer);ri.Float32ArrayDeserializer=ee;var he=new Float64Array(0),be=function(Fe){t(oe,Fe);function oe(){return Fe.call(this,"Float64Array")||this}return oe.prototype.read=function(Se,fe){switch(fe){case 101:return he;case 97:return p(Se,Float64Array);default:return Fe.prototype.read.call(this,Se,fe)}},oe.instance=new oe,oe}(s.BaseDeserializer);return ri.Float64ArrayDeserializer=be,ri}var Rc={},UM;function Hie(){if(UM)return Rc;UM=1;var t=Rc&&Rc.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(Rc,"__esModule",{value:!0});var e=fi(),n=function(i){t(s,i);function s(){return i.call(this,"function")||this}return s.instance=new s,s}(e.BaseDeserializer);return Rc.FunctionDeserializer=n,Rc}var ks={},GM;function Vie(){if(GM)return ks;GM=1;var t=ks&&ks.__extends||function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var b in g)g.hasOwnProperty(b)&&(m[b]=g[b])},f(h,p)};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=ks&&ks.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var p in f)Object.hasOwnProperty.call(f,p)&&(h[p]=f[p]);return h.default=f,h};Object.defineProperty(ks,"__esModule",{value:!0});var n=fi(),i=e(Go()),s=e(ji()),l=function(f){t(h,f);function h(){return f.call(this,"boolean")||this}return h.prototype.read=function(p,m){var g=p.stream;switch(m){case 116:return!0;case 102:case 101:case 78:case 48:return!1;case 105:case 108:return i.readInt(g)!==0;case 100:return i.readDouble(g)!==0;case 115:return!!s.readString(p);case 117:return"0\0".indexOf(g.readString(1))===-1;case 73:return g.readByte(),!0;case 114:return!!p.readReference().toString();default:return m>=49&&m<=57?!0:f.prototype.read.call(this,p,m)}},h.instance=new h,h}(n.BaseDeserializer);return ks.BooleanDeserializer=l,ks}var Fs={},HM;function FR(){if(HM)return Fs;HM=1;var t=Fs&&Fs.__extends||function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var b in g)g.hasOwnProperty(b)&&(m[b]=g[b])},f(h,p)};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=Fs&&Fs.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var p in f)Object.hasOwnProperty.call(f,p)&&(h[p]=f[p]);return h.default=f,h};Object.defineProperty(Fs,"__esModule",{value:!0});var n=fi(),i=e(Go()),s=e(ji()),l=function(f){t(h,f);function h(){return f.call(this,"string")||this}return h.prototype.read=function(p,m){if(m>=48&&m<=57)return String.fromCharCode(m);var g=p.stream;switch(m){case 105:case 108:case 100:return g.readUntil(59);case 115:return s.readString(p);case 98:return s.readAsciiString(p);case 116:return"true";case 102:return"false";case 101:return"";case 68:return s.readDateTime(p).toString();case 84:return s.readTime(p).toTimeString();case 103:return s.readGuid(p).toString();case 78:return"NaN";case 73:return i.readInfinity(g).toString();case 117:return g.readString(1);case 97:return s.readArray(p).join("");case 114:return p.readReference().toString();default:return f.prototype.read.call(this,p,m)}},h.instance=new h,h}(n.BaseDeserializer);return Fs.StringDeserializer=l,Fs}var Is={},VM;function Wie(){if(VM)return Is;VM=1;var t=Is&&Is.__extends||function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var b in g)g.hasOwnProperty(b)&&(m[b]=g[b])},f(h,p)};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=Is&&Is.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var p in f)Object.hasOwnProperty.call(f,p)&&(h[p]=f[p]);return h.default=f,h};Object.defineProperty(Is,"__esModule",{value:!0});var n=fi(),i=e(Go()),s=e(ji()),l=function(f){t(h,f);function h(){return f.call(this,"Date")||this}return h.prototype.read=function(p,m){var g=p.stream;switch(m){case 68:return s.readDateTime(p);case 84:return s.readTime(p);case 105:return new Date(i.readInt(g));case 108:return new Date(i.readInt(g));case 100:return new Date(Math.floor(i.readDouble(g)));case 115:return new Date(s.readString(p));case 116:return new Date(1);case 102:case 101:return new Date(0);case 114:{var b=p.readReference();return b instanceof Date?b:new Date(b.toString())}default:return m>=48&&m<=57?new Date(m-48):f.prototype.read.call(this,p,m)}},h.instance=new h,h}(n.BaseDeserializer);return Is.DateDeserializer=l,Is}var Bc={},WM;function Yie(){if(WM)return Bc;WM=1;var t=Bc&&Bc.__extends||function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var b in g)g.hasOwnProperty(b)&&(m[b]=g[b])},f(h,p)};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(Bc,"__esModule",{value:!0});var e=Il(),n=fi(),i=kR(),s=ji(),l=function(f){t(h,f);function h(){return f.call(this,"ByteStream")||this}return h.prototype.read=function(p,m){switch(m){case 98:return new e.ByteStream(s.readBytes(p));case 101:return new e.ByteStream(0);case 97:return new e.ByteStream(i.readIntArray(p,Uint8Array));case 117:return new e.ByteStream(p.stream.readString(1));case 115:return new e.ByteStream(s.readString(p));case 114:{var g=p.readReference();return g instanceof Uint8Array?new e.ByteStream(g):new e.ByteStream(g.toString())}default:return f.prototype.read.call(this,p,m)}},h.instance=new h,h}(n.BaseDeserializer);return Bc.ByteStreamDeserializer=l,Bc}var Oc={},YM;function Xie(){if(YM)return Oc;YM=1;var t=Oc&&Oc.__extends||function(){var s=function(l,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])},s(l,f)};return function(l,f){s(l,f);function h(){this.constructor=l}l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(Oc,"__esModule",{value:!0});var e=fi(),n=ji(),i=function(s){t(l,s);function l(){return s.call(this,"Set")||this}return l.prototype.read=function(f,h){switch(h){case 101:return new Set;case 97:return n.readSet(f);default:return s.prototype.read.call(this,f,h)}},l.instance=new l,l}(e.BaseDeserializer);return Oc.SetDeserializer=i,Oc}var Ms={},XM;function Kie(){if(XM)return Ms;XM=1;var t=Ms&&Ms.__extends||function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])},l(f,h)};return function(f,h){l(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}(),e=Ms&&Ms.__importStar||function(l){if(l&&l.__esModule)return l;var f={};if(l!=null)for(var h in l)Object.hasOwnProperty.call(l,h)&&(f[h]=l[h]);return f.default=l,f};Object.defineProperty(Ms,"__esModule",{value:!0});var n=fi(),i=e(ji()),s=function(l){t(f,l);function f(){return l.call(this,"Map")||this}return f.prototype.read=function(h,p){switch(p){case 101:return new Map;case 109:return i.readMap(h);case 111:return i.readObjectAsMap(h);default:return l.prototype.read.call(this,h,p)}},f.instance=new f,f}(n.BaseDeserializer);return Ms.MapDeserializer=s,Ms}var Ds={},KM;function Zie(){if(KM)return Ds;KM=1;var t=Ds&&Ds.__extends||function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var b in g)g.hasOwnProperty(b)&&(m[b]=g[b])},f(h,p)};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=Ds&&Ds.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var p in f)Object.hasOwnProperty.call(f,p)&&(h[p]=f[p]);return h.default=f,h};Object.defineProperty(Ds,"__esModule",{value:!0});var n=fi(),i=e(ji()),s=Zv(),l=function(f){t(h,f);function h(){return f.call(this,"Guid")||this}return h.prototype.read=function(p,m){switch(m){case 103:return i.readGuid(p);case 115:return s.Guid.parse(i.readString(p));case 114:{var g=p.readReference();return g instanceof s.Guid?g:s.Guid.parse(g.toString())}default:return f.prototype.read.call(this,p,m)}},h.instance=new h,h}(n.BaseDeserializer);return Ds.GuidDeserializer=l,Ds}var Lc={},ZM;function Jie(){if(ZM)return Lc;ZM=1;var t=Lc&&Lc.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(Lc,"__esModule",{value:!0});var e=fi(),n=function(i){t(s,i);function s(){return i.call(this,"Error")||this}return s.prototype.read=function(l,f){switch(f){case 69:return new Error(l.deserialize(String));default:return i.prototype.read.call(this,l,f)}},s.instance=new s,s}(e.BaseDeserializer);return Lc.ErrorDeserializer=n,Lc}var zc={},Ts={},JM;function IR(){if(JM)return Ts;JM=1;var t=Ts&&Ts.__extends||function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var w in S)S.hasOwnProperty(w)&&(b[w]=S[w])},p(m,g)};return function(m,g){p(m,g);function b(){this.constructor=m}m.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}(),e=Ts&&Ts.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var g in p)Object.hasOwnProperty.call(p,g)&&(m[g]=p[g]);return m.default=p,m};Object.defineProperty(Ts,"__esModule",{value:!0});var n=fi(),i=FR(),s=e(Go()),l=e(ji()),f=function(p){t(m,p);function m(){return p.call(this,"any")||this}return m.prototype.read=function(g,b){if(b>=48&&b<=57)return b-48;var S=g.stream;switch(b){case 105:return s.readInt(S);case 115:return l.readString(g);case 98:return l.readBytes(g);case 116:return!0;case 102:return!1;case 101:return"";case 111:return l.readObject(g);case 68:return l.readDateTime(g);case 84:return l.readTime(g);case 103:return l.readGuid(g);case 108:switch(g.longType){case"number":return s.readInt(S);case"bigint":if(typeof BigInt<"u")return BigInt(S.readUntil(59));case"string":return S.readUntil(59)}break;case 100:return s.readDouble(S);case 78:return NaN;case 73:return s.readInfinity(S);case 117:return S.readString(1);case 97:return l.readArray(g);case 109:return g.dictType==="map"?l.readMap(g):h(g);case 69:return new Error(g.deserialize(String));default:return p.prototype.read.call(this,g,b)}},m.instance=new m,m}(n.BaseDeserializer);Ts.DefaultDeserializer=f;function h(p){var m=p.stream,g=Object.create(null);p.addReference(g);for(var b=s.readCount(m),S=i.StringDeserializer.instance,w=f.instance;b>0;--b){var C=S.deserialize(p),M=w.deserialize(p);g[C]=M}return m.readByte(),g}return Ts}var QM;function Qie(){if(QM)return zc;QM=1;var t=zc&&zc.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(zc,"__esModule",{value:!0});var e=IR(),n=function(i){t(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.prototype.read=function(l,f){return f===110?null:i.prototype.read.call(this,l,f)},s.instance=new s,s}(e.DefaultDeserializer);return zc.NullDeserializer=n,zc}var eD;function Qv(){if(eD)return Zh;eD=1,Object.defineProperty(Zh,"__esModule",{value:!0});var t=Il(),e=Uie(),n=kR(),i=Hie(),s=AR(),l=Vie(),f=FR(),h=Wie(),p=Yie(),m=Xie(),g=Kie(),b=Zie(),S=Jie(),w=Qie(),C=IR(),M=Zv(),T=new Map;function D(q,Y){T.set(q,Y)}Zh.register=D;function R(q){if(q){switch(q){case Function:return i.FunctionDeserializer.instance;case Number:return s.NumberDeserializer.instance;case Boolean:return l.BooleanDeserializer.instance;case String:return f.StringDeserializer.instance;case Date:return h.DateDeserializer.instance;case Array:return e.ArrayDeserializer.instance;case t.ByteStream:return p.ByteStreamDeserializer.instance;case Uint8Array:return n.Uint8ArrayDeserializer.instance;case Uint8ClampedArray:return n.Uint8ClampedArrayDeserializer.instance;case Uint16Array:return n.Uint16ArrayDeserializer.instance;case Uint32Array:return n.Uint32ArrayDeserializer.instance;case Int8Array:return n.Int8ArrayDeserializer.instance;case Int16Array:return n.Int16ArrayDeserializer.instance;case Int32Array:return n.Int32ArrayDeserializer.instance;case Float32Array:return n.Float32ArrayDeserializer.instance;case Float64Array:return n.Float64ArrayDeserializer.instance;case Set:return m.SetDeserializer.instance;case Map:return g.MapDeserializer.instance;case M.Guid:return b.GuidDeserializer.instance;case Error:return S.ErrorDeserializer.instance}var Y=T.get(q);if(Y!==void 0)return Y}return q===null?w.NullDeserializer.instance:C.DefaultDeserializer.instance}return Zh.getInstance=R,Zh}var qu={},tD;function eoe(){if(tD)return qu;tD=1;var t=qu&&qu.__extends||function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var b in g)g.hasOwnProperty(b)&&(m[b]=g[b])},f(h,p)};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=qu&&qu.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var p in f)Object.hasOwnProperty.call(f,p)&&(h[p]=f[p]);return h.default=f,h};Object.defineProperty(qu,"__esModule",{value:!0});var n=fi(),i=Qv(),s=e(ji());if(typeof BigInt<"u"){var l=function(f){t(h,f);function h(){return f.call(this,"bigint")||this}return h.prototype.read=function(p,m){if(m>=48&&m<=57)return BigInt(m-48);var g=p.stream;switch(m){case 105:case 108:case 100:return BigInt(g.readUntil(59));case 116:return BigInt(1);case 102:case 101:return BigInt(0);case 115:return BigInt(s.readString(p));case 117:return BigInt(g.readString(1).charCodeAt(1));case 68:return BigInt(s.readDateTime(p).getTime());case 84:return BigInt(s.readTime(p).getTime());case 114:{var b=p.readReference();return b instanceof Date?BigInt(b.getTime()):BigInt(b.toString())}default:return f.prototype.read.call(this,p,m)}},h.instance=new h,h}(n.BaseDeserializer);i.register(BigInt,l.instance)}return qu}var $u={},nD;function toe(){if(nD)return $u;nD=1;var t=$u&&$u.__extends||function(){var g=function(b,S){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,C){w.__proto__=C}||function(w,C){for(var M in C)C.hasOwnProperty(M)&&(w[M]=C[M])},g(b,S)};return function(b,S){g(b,S);function w(){this.constructor=b}b.prototype=S===null?Object.create(S):(w.prototype=S.prototype,new w)}}(),e=$u&&$u.__importStar||function(g){if(g&&g.__esModule)return g;var b={};if(g!=null)for(var S in g)Object.hasOwnProperty.call(g,S)&&(b[S]=g[S]);return b.default=g,b};Object.defineProperty($u,"__esModule",{value:!0});var n=fi(),i=Qv(),s=e(Go());function l(g,b){var S=g.stream,w=s.readCount(S),C=new b(w);g.addReference(C);for(var M=i.getInstance(BigInt),T=0;T<w;++T)C[T]=M.deserialize(g);return S.readByte(),C}if(typeof BigInt64Array<"u"){var f=new BigInt64Array(0),h=function(g){t(b,g);function b(){return g.call(this,"BigInt64Array")||this}return b.prototype.read=function(S,w){switch(w){case 101:return f;case 97:return l(S,BigInt64Array);default:return g.prototype.read.call(this,S,w)}},b.instance=new b,b}(n.BaseDeserializer);i.register(BigInt64Array,h.instance)}if(typeof BigUint64Array<"u"){var p=new BigUint64Array(0),m=function(g){t(b,g);function b(){return g.call(this,"BigUint64Array")||this}return b.prototype.read=function(S,w){switch(w){case 101:return p;case 97:return l(S,BigUint64Array);default:return g.prototype.read.call(this,S,w)}},b.instance=new b,b}(n.BaseDeserializer);i.register(BigUint64Array,m.instance)}return $u}var rD;function MR(){if(rD)return Pc;rD=1;var t=Pc&&Pc.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var p in f)Object.hasOwnProperty.call(f,p)&&(h[p]=f[p]);return h.default=f,h};Object.defineProperty(Pc,"__esModule",{value:!0});var e=Go(),n=t(bS()),i=t(Qv());eoe(),toe();var s=function(){function f(){this.ref=[]}return Object.defineProperty(f.prototype,"lastIndex",{get:function(){return this.ref.length-1},enumerable:!0,configurable:!0}),f.prototype.add=function(h){this.ref.push(h)},f.prototype.set=function(h,p){this.ref[h]=p},f.prototype.read=function(h){return this.ref[h]},f.prototype.reset=function(){this.ref.length=0},f}(),l=function(){function f(h,p){p===void 0&&(p=!1),this.stream=h,this.ref=[],this.longType="number",this.dictType="object",this.simple=p}return Object.defineProperty(f.prototype,"simple",{get:function(){return this.refer===void 0},set:function(h){this.refer=h?void 0:new s},enumerable:!0,configurable:!0}),f.prototype.deserialize=function(h){return i.getInstance(h).deserialize(this)},f.prototype.read=function(h,p){return i.getInstance(p).read(this,h)},f.prototype.readClass=function(){for(var h=this.stream,p=e.readString(h),m=e.readCount(h),g=new Array(m),b=i.getInstance(String),S=0;S<m;++S)g[S]=b.deserialize(this);h.readByte(),this.ref.push({name:p,names:g,type:n.getType(p)})},f.prototype.getTypeInfo=function(h){return this.ref[h]},f.prototype.readReference=function(){return this.refer?this.refer.read(e.readInt(this.stream)):void 0},f.prototype.addReference=function(h){this.refer&&this.refer.add(h)},f.prototype.setReference=function(h,p){this.refer&&this.refer.set(h,p)},Object.defineProperty(f.prototype,"lastReferenceIndex",{get:function(){return this.refer?this.refer.lastIndex:-1},enumerable:!0,configurable:!0}),f.prototype.reset=function(){this.refer&&this.refer.reset(),this.ref.length=0},f}();return Pc.Reader=l,Pc}var Jh={},iD;function noe(){if(iD)return Jh;iD=1,Object.defineProperty(Jh,"__esModule",{value:!0});var t=Il(),e=ER(),n=MR();function i(l,f,h){var p=new t.ByteStream,m=new e.Writer(p,f,h);return m.serialize(l),p.bytes}Jh.serialize=i;function s(l,f,h){l instanceof t.ByteStream||(l=new t.ByteStream(l));var p=new n.Reader(l,h);return p.deserialize(f)}return Jh.deserialize=s,Jh}var oD;function em(){if(oD)return kr;oD=1;var t=kr&&kr.__importStar||function(b){if(b&&b.__esModule)return b;var S={};if(b!=null)for(var w in b)Object.hasOwnProperty.call(b,w)&&(S[w]=b[w]);return S.default=b,S};Object.defineProperty(kr,"__esModule",{value:!0});var e=Il();kr.ByteStream=e.ByteStream,kr.writeInt32BE=e.writeInt32BE,kr.writeInt32LE=e.writeInt32LE,kr.fromUint8Array=e.fromUint8Array,kr.toBinaryString=e.toBinaryString;var n=ER();kr.Writer=n.Writer;var i=MR();kr.Reader=i.Reader;var s=t(bS());kr.TypeManager=s;var l=t(Jv());kr.Serializer=l;var f=t(Qv());kr.Deserializer=f;var h=t(noe());kr.Formatter=h;var p=t(ji());kr.ReferenceReader=p;var m=t(Go());kr.ValueReader=m;var g=t(Ya());return kr.ValueWriter=g,kr}var aD;function DR(){if(aD)return jg;aD=1,Object.defineProperty(jg,"__esModule",{value:!0});var t=em(),e=function(){function n(){this.simple=!1,this.utc=!1,this.longType="number",this.dictType="object"}return n.prototype.encode=function(i,s,l){var f=new t.ByteStream,h=new t.Writer(f,this.simple,this.utc),p=l.requestHeaders;this.simple&&(p.simple=!0);var m=0;for(var g in p)m++;return m>0&&(f.writeByte(72),h.serialize(p),h.reset()),f.writeByte(67),h.serialize(i),s.length>0&&(h.reset(),h.serialize(s)),f.writeByte(122),f.takeBytes()},n.prototype.decode=function(i,s){var l=new t.ByteStream(i),f=new t.Reader(l,!1);f.longType=this.longType,f.dictType=this.dictType;var h=l.readByte();if(h===72){var p=f.deserialize();for(var m in p)s.responseHeaders[m]=p[m];f.reset(),h=l.readByte()}switch(h){case 82:return s.responseHeaders.simple&&(f.simple=!0),f.deserialize(s.returnType);case 69:throw new Error(f.deserialize(String));case 122:return s.type===null?null:void 0;default:throw new Error(`Invalid response:\r
`+l.toString())}},n.instance=new n,n}();return jg.DefaultClientCodec=e,jg}var Nc={},Gg={},sD;function wS(){if(sD)return Gg;sD=1,Object.defineProperty(Gg,"__esModule",{value:!0});var t=function(){function e(){this.requestHeaders=Object.create(null),this.responseHeaders=Object.create(null)}return e.prototype.copy=function(n,i){if(n)for(var s in n)s!=="requestHeaders"&&s!=="responseHeaders"&&(!n.hasOwnProperty||n.hasOwnProperty(s))&&(i[s]=n[s])},e.prototype.clone=function(){var n=Object.create(this.constructor.prototype);return this.copy(this,n),this.copy(this.requestHeaders,n.requestHeaders),this.copy(this.responseHeaders,n.responseHeaders),n},e}();return Gg.Context=t,Gg}var uD;function TR(){if(uD)return Nc;uD=1;var t=Nc&&Nc.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(Nc,"__esModule",{value:!0});var e=wS(),n=function(i){t(s,i);function s(l){var f=i.call(this)||this;return l&&(f.copy(l,f),"requestHeaders"in l&&f.copy(l.requestHeaders,f.requestHeaders)),f}return s.prototype.init=function(l,f){this.client=l,l.uris.length>0&&(this.uri=l.uris[0]),this.returnType===void 0&&(this.returnType=f),this.timeout===void 0&&(this.timeout=l.timeout),this.copy(l.requestHeaders,this.requestHeaders)},s}(e.Context);return Nc.ClientContext=n,Nc}var jc={},Hg={},lD;function xS(){if(lD)return Hg;lD=1,Object.defineProperty(Hg,"__esModule",{value:!0});var t=function(){function e(n){this.defaultHandler=n,this.handlers=[],this.firstHandler=n}return e.prototype.rebuildHandler=function(){for(var n=this.handlers,i=this.defaultHandler,s=n.length,l=s-1;l>=0;--l)i=this.getNextHandler(n[l],i);this.firstHandler=i},Object.defineProperty(e.prototype,"handler",{get:function(){return this.firstHandler},enumerable:!0,configurable:!0}),e.prototype.use=function(){for(var n,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];(n=this.handlers).push.apply(n,i),this.rebuildHandler()},e.prototype.unuse=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var s=!1,l=0,f=n.length;l<f;++l){var h=this.handlers.indexOf(n[l]);h>=0&&(this.handlers.splice(h,1),s=!0)}s&&this.rebuildHandler()},e}();return Hg.PluginManager=t,Hg}var cD;function SS(){if(cD)return jc;cD=1;var t=jc&&jc.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(jc,"__esModule",{value:!0});var e=xS(),n=function(i){t(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.prototype.getNextHandler=function(l,f){return function(h,p,m){return l(h,p,m,f)}},s}(e.PluginManager);return jc.InvokeManager=n,jc}var qc={},fD;function CS(){if(fD)return qc;fD=1;var t=qc&&qc.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(qc,"__esModule",{value:!0});var e=xS(),n=function(i){t(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.prototype.getNextHandler=function(l,f){return function(h,p){return l(h,p,f)}},s}(e.PluginManager);return qc.IOManager=n,qc}var Uu={},hD;function ES(){if(hD)return Uu;hD=1,Object.defineProperty(Uu,"__esModule",{value:!0});function t(f){var h=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),p=f.match(h);if(p){var m=p[4].split(":",2);return{protocol:p[1],host:p[4],hostname:m[0],port:parseInt(m[1],10)||0,path:p[5],query:p[7],fragment:p[9]}}throw new Error("Invalid URI")}Uu.parseURI=t;function e(f){for(var h=[Object.create(null)],p=0,m=f.length;p<m;++p){var g=f[p].split("_"),b=g.length-1;if(b>0){for(var S=h,w=0;w<b;w++){var C=g[w];S[0][C]===void 0&&(S[0][C]=[Object.create(null)]),S=S[0][C]}S.push(g[b])}h.push(f[p])}return h}Uu.normalize=e;function n(f,h){return function(){switch(arguments.length){case 1:var p=arguments[0];p instanceof Error?h(p):f(p);break;case 2:var m=arguments[0],g=arguments[1];m instanceof Error?h(m):g instanceof Error?h(g):f(m===void 0?g:m);break}}}function i(f,h){return function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];return new Promise(function(g,b){p.push(n(g,b));try{f.apply(h,p)}catch(S){b(S)}})}}Uu.promisify=i;var s=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function l(f,h){h===void 0&&(h=0),h=h^-1;for(var p=0,m=f.length;p<m;++p)h=h>>>8^s[(h^f[p])&255];return h^-1}return Uu.crc32=l,Uu}var dD;function PR(){if(dD)return xs;dD=1;var t=xs&&xs.__awaiter||function(S,w,C,M){function T(D){return D instanceof C?D:new C(function(R){R(D)})}return new(C||(C=Promise))(function(D,R){function q(ce){try{K(M.next(ce))}catch(te){R(te)}}function Y(ce){try{K(M.throw(ce))}catch(te){R(te)}}function K(ce){ce.done?D(ce.value):T(ce.value).then(q,Y)}K((M=M.apply(S,w||[])).next())})},e=xs&&xs.__generator||function(S,w){var C={label:0,sent:function(){if(D[0]&1)throw D[1];return D[1]},trys:[],ops:[]},M,T,D,R;return R={next:q(0),throw:q(1),return:q(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function q(K){return function(ce){return Y([K,ce])}}function Y(K){if(M)throw new TypeError("Generator is already executing.");for(;C;)try{if(M=1,T&&(D=K[0]&2?T.return:K[0]?T.throw||((D=T.return)&&D.call(T),0):T.next)&&!(D=D.call(T,K[1])).done)return D;switch(T=0,D&&(K=[K[0]&2,D.value]),K[0]){case 0:case 1:D=K;break;case 4:return C.label++,{value:K[1],done:!1};case 5:C.label++,T=K[1],K=[0];continue;case 7:K=C.ops.pop(),C.trys.pop();continue;default:if(D=C.trys,!(D=D.length>0&&D[D.length-1])&&(K[0]===6||K[0]===2)){C=0;continue}if(K[0]===3&&(!D||K[1]>D[0]&&K[1]<D[3])){C.label=K[1];break}if(K[0]===6&&C.label<D[1]){C.label=D[1],D=K;break}if(D&&C.label<D[2]){C.label=D[2],C.ops.push(K);break}D[2]&&C.ops.pop(),C.trys.pop();continue}K=w.call(S,C)}catch(ce){K=[6,ce],T=0}finally{M=D=0}if(K[0]&5)throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}};Object.defineProperty(xs,"__esModule",{value:!0});var n=DR(),i=TR(),s=SS(),l=CS(),f=ES();function h(S,w){return function(){var C=Array.prototype.slice.call(arguments),M=C.length>0&&C[C.length-1]instanceof i.ClientContext?C.pop():new i.ClientContext;return S.invoke(w,C,M)}}function p(S,w,C,M,T){if(w[M]===void 0){w[M]=Object.create(null),Array.isArray(T)||(T=[T]),C=C+M+"_";for(var D=0;D<T.length;D++){var R=T[D];if(typeof R=="string")w[M][R]=h(S,C+R);else for(var q in R)p(S,w[M],C,q,R[q])}}}function m(S,w){for(var C=f.normalize(w),M=Object.create(null),T=0;T<C.length;T++){var D=C[T];if(typeof D=="string")M[D]===void 0&&(M[D]=h(S,D));else for(var R in D)p(S,M,"",R,D[R])}return M}var g=function(){function S(w,C){this.client=w,this.namespace=C}return S.prototype.get=function(w,C,M){if(typeof C!="symbol"&&C!=="then")return C in w||(w[C]=new Proxy(function(){},new S(this.client,this.namespace?this.namespace+"_"+C:""+C))),w[C]},S.prototype.apply=function(w,C,M){if(this.namespace){var T=M.length>0&&M[M.length-1]instanceof i.ClientContext?M.pop():new i.ClientContext;return this.client.invoke(this.namespace,M,T)}throw new TypeError("target is not a function")},S}(),b=function(){function S(w){var C,M=this;this.returnTypes=Object.create(null),this.requestHeaders=Object.create(null),this.codec=n.DefaultClientCodec.instance,this.timeout=3e4,this.urilist=[],this.transports=Object.create(null),this.invokeManager=new s.InvokeManager(this.call.bind(this)),this.ioManager=new l.IOManager(this.transport.bind(this)),S.transports.forEach(function(T){var D=T.name,R=T.ctor,q=new R;M.transports[D]=q,Object.defineProperty(M,D,{get:function(){return q},set:function(Y){q=Y,M.transports[D]=Y},enumerable:!1,configurable:!1})}),w&&(typeof w=="string"?this.urilist.push(w):(C=this.urilist).push.apply(C,w))}return S.register=function(w,C){S.transports.push({name:w,ctor:C}),C.schemes.forEach(function(M){return S.protocols[M+":"]=w})},Object.defineProperty(S.prototype,"uris",{get:function(){return this.urilist},set:function(w){w.length>0&&(this.urilist=w.slice(0),this.urilist.sort(function(){return Math.random()-.5}))},enumerable:!0,configurable:!0}),S.prototype.useService=function(){for(var w=[],C=0;C<arguments.length;C++)w[C]=arguments[C];var M,T;switch(w.length){case 1:if(Array.isArray(w[0]))return m(this,w[0]);typeof w[0]=="string"?M=w[0]:T=w[0];break;case 2:M=w[0],T=w[1];break}var D=Object.create(null);if(T){for(var R in T){var q=""+R;M&&(q=M+"_"+R),this.returnTypes[q]=T[R],D[R]=h(this,q)}return D}return new Proxy(D,new g(this,M))},S.prototype.useServiceAsync=function(){return t(this,void 0,void 0,function(){var w;return e(this,function(C){switch(C.label){case 0:return[4,this.invoke("~")];case 1:return w=C.sent(),[2,m(this,w)]}})})},S.prototype.use=function(){for(var w,C,M=[],T=0;T<arguments.length;T++)M[T]=arguments[T];if(M.length<=0)return this;switch(M[0].length){case 4:(w=this.invokeManager).use.apply(w,M);break;case 3:(C=this.ioManager).use.apply(C,M);break;default:throw new TypeError("Invalid parameter type")}return this},S.prototype.unuse=function(){for(var w,C,M=[],T=0;T<arguments.length;T++)M[T]=arguments[T];if(M.length<=0)return this;switch(M[0].length){case 4:(w=this.invokeManager).unuse.apply(w,M);break;case 3:(C=this.ioManager).unuse.apply(C,M);break;default:throw new TypeError("Invalid parameter type")}return this},S.prototype.invoke=function(w,C,M){return C===void 0&&(C=[]),M===void 0&&(M=new i.ClientContext),t(this,void 0,void 0,function(){var T;return e(this,function(D){switch(D.label){case 0:return C===null&&(C=[]),C.length>0?[4,Promise.all(C)]:[3,2];case 1:C=D.sent(),D.label=2;case 2:return T=M instanceof i.ClientContext?M:new i.ClientContext(M),T.init(this,this.returnTypes[w]),[2,this.invokeManager.handler(w,C,T)]}})})},S.prototype.call=function(w,C,M){return t(this,void 0,void 0,function(){var T,D,R;return e(this,function(q){switch(q.label){case 0:return T=this.codec,D=T.encode(w,C,M),[4,this.request(D,M)];case 1:return R=q.sent(),[2,T.decode(R,M)]}})})},S.prototype.request=function(w,C){return this.ioManager.handler(w,C)},S.prototype.transport=function(w,C){return t(this,void 0,void 0,function(){var M,T;return e(this,function(D){if(M=f.parseURI(C.uri),T=S.protocols[M.protocol],T!==void 0)return[2,this.transports[T].transport(w,C)];throw new Error('The protocol "'+M.protocol+'" is not supported.')})})},S.prototype.abort=function(){return t(this,void 0,void 0,function(){var w,C;return e(this,function(M){switch(M.label){case 0:w=[];for(C in this.transports)w.push(this.transports[C].abort());return[4,Promise.all(w)];case 1:return M.sent(),[2]}})})},S.transports=[],S.protocols=Object.create(null),S}();return xs.Client=b,xs}var Qh={},pD;function roe(){if(pD)return Qh;pD=1,Object.defineProperty(Qh,"__esModule",{value:!0});var t=Object.create(null);function e(i,s){s===void 0&&(s="@");function l(p){var m;if(p!==void 0){var g=p.trim().split(";"),b=Object.create(null);m=g[0].trim().split("=",2),b.name=m[0],b.value=m[1];for(var S=1;S<g.length;S++){var w=g[S].trim().split("=",2),C=w[0],M=w[1];b[C.toUpperCase()]=M}if(b.PATH){var T=b.PATH.length;T>2&&b.PATH.charAt(0)==='"'&&b.PATH.charAt(T-1)==='"'&&(b.PATH=b.PATH.substr(1,T-2))}else b.PATH="/";b.EXPIRES&&(b.EXPIRES=Date.parse(b.EXPIRES)),b.DOMAIN?b.DOMAIN=b.DOMAIN.toLowerCase():b.DOMAIN=s,b.SECURE=b.SECURE!==void 0,t[b.DOMAIN]===void 0&&(t[b.DOMAIN]=Object.create(null)),t[b.DOMAIN][b.name]=b}}for(var f in i)if(f=f.toLowerCase(),f==="set-cookie"||f==="set-cookie2"){var h=i[f];(Array.isArray(h)?h:[h]).forEach(l)}}Qh.setCookie=e;function n(i,s,l){i=i??"@",s=s??"/";var f=[];for(var h in t)if(i.indexOf(h)>-1){var p=[];for(var m in t[h]){var g=t[h][m];g.EXPIRES&&new Date().getTime()>g.EXPIRES?p.push(m):s.indexOf(g.PATH)===0&&l===g.SECURE&&g.value!==null&&f.push(g.name+"="+g.value)}for(var b=0,S=p.length;b<S;++b)delete t[h][p[b]]}return f.length>0?f.join("; "):""}return Qh.getCookie=n,Qh}var Vg={},gD;function RR(){if(gD)return Vg;gD=1,Object.defineProperty(Vg,"__esModule",{value:!0});function t(){var e=Object.create(null);return e.promise=new Promise(function(n,i){e.resolve=n,e.reject=i}),e}return Vg.defer=t,Vg}var Wg={},vD;function AS(){if(vD)return Wg;vD=1,Object.defineProperty(Wg,"__esModule",{value:!0});var t=function(){function e(n,i,s,l){if(this.method=n,this.name=i,this.target=s,this.paramTypes=l,i===""||i===void 0){if(n.name==="")throw new Error("name must not be empty");i=n.name}}return e}();return Wg.Method=t,Wg}var Yg={},mD;function BR(){if(mD)return Yg;mD=1,Object.defineProperty(Yg,"__esModule",{value:!0});var t=AS(),e=function(){function n(){this.methods=Object.create(null),this.names=[]}return n.prototype.getNames=function(){return this.names},n.prototype.get=function(i){return i=i.toLowerCase(),i in this.methods?this.methods[i]:this.methods["*"]},n.prototype.remove=function(i){delete this.methods[i.toLowerCase()];var s=this.names.indexOf(i);s>-1&&this.names.splice(s,1)},n.prototype.add=function(i){var s=i.name;if(s===""||s===void 0){if(s=i.fullname,(s===""||s===void 0)&&(s=i.method.name,s===""))throw new Error("name must not be empty");i.name=s}this.methods[s.toLowerCase()]=i,this.names.indexOf(s)===-1&&this.names.push(s)},n.prototype.addFunction=function(i){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];switch(s.length){case 0:this.add(new t.Method(i));break;case 1:typeof s[0]=="string"?this.add(new t.Method(i,s[0])):this.add(new t.Method(i,void 0,void 0,s[0]));break;case 2:this.add(new t.Method(i,s[0],void 0,s[1]));break}},n.prototype.addMethod=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(typeof i[0]=="string"){var l=i[1][i[0]];if(typeof l=="function")this.add(new t.Method(l,i[0],i[1],i[2]));else throw new Error("obj[name] must be a function")}else switch(i.length){case 2:this.add(new t.Method(i[0],void 0,i[1]));break;case 3:typeof i[2]=="string"?this.add(new t.Method(i[0],i[2],i[1])):this.add(new t.Method(i[0],void 0,i[1],i[2]));break;case 4:this.add(new t.Method(i[0],i[2],i[1],i[3]))}},n.prototype.addMissingMethod=function(i,s){var l=new t.Method(i,"*",s);l.missing=!0,i.length===3&&(l.passContext=!0),this.add(l)},n.prototype.addFunctions=function(i){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];var f,h;switch(s.length){case 1:s[0].length>1&&typeof s[0][0]=="string"?f=s[0]:h=s[0];break;case 2:f=s[0],h=s[1];break}var p=i.length;if(f&&f.length!==p)throw new Error("names.length must be equal to functions.length");for(var m=0;m<p;++m)this.add(new t.Method(i[m],f?f[m]:void 0,void 0,h))},n.prototype.addMethods=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var l=i[0].length;if(l!==0){var f,h=i[1],p,m;if(typeof i[0][0]=="string"){p=i[0],m=i[2];for(var g=0;g<l;++g){var b=h[p[g]];if(typeof b=="function")this.add(new t.Method(b,p[g],h,m));else throw new Error("obj[name] must be a function")}return}else f=i[0];switch(i.length){case 3:i[2].length>0&&typeof i[2][0]=="string"?p=i[2]:m=i[2];break;case 4:p=i[2],m=i[3]}if(p&&p.length!==l)throw new Error("names.length must be equal to functions.length");for(var g=0;g<l;++g)this.add(new t.Method(f[g],p?p[g]:void 0,h,m))}},n.prototype.addInstanceMethods=function(i,s){for(var l in i)if((!i.hasOwnProperty||i.hasOwnProperty(l))&&typeof i[l]=="function"){var f=s?s+"_"+l:l;this.add(new t.Method(i[l],f,i))}},n}();return Yg.MethodManager=e,Yg}var $c={},yD;function OR(){if(yD)return $c;yD=1;var t=$c&&$c.__extends||function(){var n=function(i,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var h in f)f.hasOwnProperty(h)&&(l[h]=f[h])},n(i,s)};return function(i,s){n(i,s);function l(){this.constructor=i}i.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();Object.defineProperty($c,"__esModule",{value:!0});var e=function(n){t(i,n);function i(s){return s===void 0&&(s="timeout"),n.call(this,s)||this}return i}(Error);return $c.TimeoutError=e,$c}var oa={},Xg={},_D;function LR(){if(_D)return Xg;_D=1,Object.defineProperty(Xg,"__esModule",{value:!0});var t=em(),e=function(){function n(){this.debug=!1,this.simple=!1,this.utc=!1,this.longType="number",this.dictType="object",this.nullType=void 0}return n.prototype.encode=function(i,s){var l=new t.ByteStream,f=new t.Writer(l,this.simple,this.utc),h=s.responseHeaders;this.simple&&(h.simple=!0);var p=0;for(var m in h)p++;return p>0&&(l.writeByte(72),f.serialize(h),f.reset()),i instanceof Error?(l.writeByte(69),f.serialize(this.debug&&i.stack?i.stack:i.message)):(l.writeByte(82),f.serialize(i)),l.writeByte(122),l.takeBytes()},n.prototype.decodeMethod=function(i,s){var l=s.service,f=l.get(i);if(f===void 0)throw new Error("Can't find this method "+i+"().");return s.method=f,f},n.prototype.decodeArguments=function(i,s,l){var f=s.stream,h=f.readByte();if(i.missing)return h===97?(s.reset(),s.read(h,Array)):[];var p=[];if(h===97){s.reset();var m=t.ValueReader.readCount(f),g=i.paramTypes;if(g===void 0)g=new Array(m).fill(this.nullType);else{g.length=m;for(var b=0;b<m;++b)g[b]===void 0&&(g[b]=this.nullType)}p=new Array(m),s.addReference(p);for(var b=0;b<m;++b)p[b]=s.deserialize(g[b]);f.readByte()}return p},n.prototype.decode=function(i,s){if(i.length===0)return this.decodeMethod("~",s),["~",[]];var l=new t.ByteStream(i),f=new t.Reader(l,!1);f.longType=this.longType,f.dictType=this.dictType;var h=l.readByte();if(h===72){var p=f.deserialize(this.nullType);for(var m in p)s.requestHeaders[m]=p[m];f.reset(),h=l.readByte()}switch(h){case 67:s.requestHeaders.simple&&(f.simple=!0);var g=f.deserialize(String),b=this.decodeArguments(this.decodeMethod(g,s),f,s);return[g,b];case 122:return this.decodeMethod("~",s),["~",[]];default:throw new Error(`Invalid request:\r
`+l.toString())}},n.instance=new n,n}();return Xg.DefaultServiceCodec=e,Xg}var bD;function zR(){if(bD)return oa;bD=1;var t=oa&&oa.__awaiter||function(m,g,b,S){function w(C){return C instanceof b?C:new b(function(M){M(C)})}return new(b||(b=Promise))(function(C,M){function T(q){try{R(S.next(q))}catch(Y){M(Y)}}function D(q){try{R(S.throw(q))}catch(Y){M(Y)}}function R(q){q.done?C(q.value):w(q.value).then(T,D)}R((S=S.apply(m,g||[])).next())})},e=oa&&oa.__generator||function(m,g){var b={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},S,w,C,M;return M={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function T(R){return function(q){return D([R,q])}}function D(R){if(S)throw new TypeError("Generator is already executing.");for(;b;)try{if(S=1,w&&(C=R[0]&2?w.return:R[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&!(C=C.call(w,R[1])).done)return C;switch(w=0,C&&(R=[R[0]&2,C.value]),R[0]){case 0:case 1:C=R;break;case 4:return b.label++,{value:R[1],done:!1};case 5:b.label++,w=R[1],R=[0];continue;case 7:R=b.ops.pop(),b.trys.pop();continue;default:if(C=b.trys,!(C=C.length>0&&C[C.length-1])&&(R[0]===6||R[0]===2)){b=0;continue}if(R[0]===3&&(!C||R[1]>C[0]&&R[1]<C[3])){b.label=R[1];break}if(R[0]===6&&b.label<C[1]){b.label=C[1],C=R;break}if(C&&b.label<C[2]){b.label=C[2],b.ops.push(R);break}C[2]&&b.ops.pop(),b.trys.pop();continue}R=g.call(m,b)}catch(q){R=[6,q],w=0}finally{S=C=0}if(R[0]&5)throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}},n=oa&&oa.__spreadArrays||function(){for(var m=0,g=0,b=arguments.length;g<b;g++)m+=arguments[g].length;for(var S=Array(m),w=0,g=0;g<b;g++)for(var C=arguments[g],M=0,T=C.length;M<T;M++,w++)S[w]=C[M];return S};Object.defineProperty(oa,"__esModule",{value:!0});var i=LR(),s=SS(),l=CS(),f=AS(),h=BR(),p=function(){function m(){var g=this;this.codec=i.DefaultServiceCodec.instance,this.maxRequestLength=2147483647,this.invokeManager=new s.InvokeManager(this.execute.bind(this)),this.ioManager=new l.IOManager(this.process.bind(this)),this.methodManager=new h.MethodManager,this.handlers=Object.create(null),this.options=Object.create(null);var b=function(C){var M=m.handlers[C],T=new M(S);S.handlers[C]=T,Object.defineProperty(S,C,{get:function(){return T},set:function(D){T=D,g.handlers[C]=D},enumerable:!0,configurable:!0})},S=this;for(var w in m.handlers)b(w);this.add(new f.Method(this.methodManager.getNames.bind(this.methodManager),"~"))}return m.register=function(g,b){m.handlers[g]=b,b.serverTypes.forEach(function(S){m.serverTypes.has(S)?m.serverTypes.get(S).push(g):m.serverTypes.set(S,[g])})},Object.defineProperty(m.prototype,"names",{get:function(){return this.methodManager.getNames()},enumerable:!0,configurable:!0}),m.prototype.bind=function(g,b){var S=g.constructor,w=m.serverTypes;if(w.has(S))for(var C=w.get(S),M=0,T=C.length;M<T;++M)(b===void 0||b===C[M])&&this.handlers[C[M]].bind(g);else throw new Error("This type server is not supported.");return this},m.prototype.handle=function(g,b){return this.ioManager.handler(g,b)},m.prototype.process=function(g,b){return t(this,void 0,void 0,function(){var S,w,C,M,T,D;return e(this,function(R){switch(R.label){case 0:S=this.codec,R.label=1;case 1:return R.trys.push([1,3,,4]),C=S.decode(g,b),M=C[0],T=C[1],[4,this.invokeManager.handler(M,T,b)];case 2:return w=R.sent(),[3,4];case 3:return D=R.sent(),w=D,[3,4];case 4:return[2,S.encode(w,b)]}})})},m.prototype.execute=function(g,b,S){return t(this,void 0,void 0,function(){var w,C;return e(this,function(M){return w=S.method,C=w.method,w.missing?w.passContext?[2,C.apply(w.target,[g,b,S])]:[2,C.apply(w.target,[g,b])]:(w.passContext&&b.push(S),[2,C.apply(w.target,b)])})})},m.prototype.use=function(){for(var g,b,S=[],w=0;w<arguments.length;w++)S[w]=arguments[w];if(S.length<=0)return this;switch(S[0].length){case 4:(g=this.invokeManager).use.apply(g,S);break;case 3:(b=this.ioManager).use.apply(b,S);break;default:throw new TypeError("Invalid parameter type")}return this},m.prototype.unuse=function(){for(var g,b,S=[],w=0;w<arguments.length;w++)S[w]=arguments[w];if(S.length<=0)return this;switch(S[0].length){case 4:(g=this.invokeManager).unuse.apply(g,S);break;case 3:(b=this.ioManager).unuse.apply(b,S);break;default:throw new TypeError("Invalid parameter type")}return this},m.prototype.get=function(g){return this.methodManager.get(g)},m.prototype.add=function(g){return this.methodManager.add(g),this},m.prototype.remove=function(g){return this.methodManager.remove(g),this},m.prototype.addFunction=function(g){for(var b,S=[],w=1;w<arguments.length;w++)S[w-1]=arguments[w];return(b=this.methodManager).addFunction.apply(b,n([g],S)),this},m.prototype.addMethod=function(){for(var g,b=[],S=0;S<arguments.length;S++)b[S]=arguments[S];return(g=this.methodManager).addMethod.apply(g,n([b[0],b[1]],b.slice(2))),this},m.prototype.addMissingMethod=function(g,b){return this.methodManager.addMissingMethod(g,b),this},m.prototype.addFunctions=function(g){for(var b,S=[],w=1;w<arguments.length;w++)S[w-1]=arguments[w];return(b=this.methodManager).addFunctions.apply(b,n([g],S)),this},m.prototype.addMethods=function(){for(var g,b=[],S=0;S<arguments.length;S++)b[S]=arguments[S];return(g=this.methodManager).addMethods.apply(g,n([b[0],b[1]],b.slice(2))),this},m.prototype.addInstanceMethods=function(g,b){return this.methodManager.addInstanceMethods(g,b),this},m.handlers=Object.create(null),m.serverTypes=new Map,m}();return oa.Service=p,oa}var Uc={},wD;function NR(){if(wD)return Uc;wD=1;var t=Uc&&Uc.__extends||function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])},i(s,l)};return function(s,l){i(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(Uc,"__esModule",{value:!0});var e=wS(),n=function(i){t(s,i);function s(l){var f=i.call(this)||this;return f.service=l,f}return s}(e.Context);return Uc.ServiceContext=n,Uc}var Ra={},Ps={},xD;function jR(){if(xD)return Ps;xD=1;var t=Ps&&Ps.__awaiter||function(i,s,l,f){function h(p){return p instanceof l?p:new l(function(m){m(p)})}return new(l||(l=Promise))(function(p,m){function g(w){try{S(f.next(w))}catch(C){m(C)}}function b(w){try{S(f.throw(w))}catch(C){m(C)}}function S(w){w.done?p(w.value):h(w.value).then(g,b)}S((f=f.apply(i,s||[])).next())})},e=Ps&&Ps.__generator||function(i,s){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,h,p,m;return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(S){return function(w){return b([S,w])}}function b(S){if(f)throw new TypeError("Generator is already executing.");for(;l;)try{if(f=1,h&&(p=S[0]&2?h.return:S[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,S[1])).done)return p;switch(h=0,p&&(S=[S[0]&2,p.value]),S[0]){case 0:case 1:p=S;break;case 4:return l.label++,{value:S[1],done:!1};case 5:l.label++,h=S[1],S=[0];continue;case 7:S=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(S[0]===6||S[0]===2)){l=0;continue}if(S[0]===3&&(!p||S[1]>p[0]&&S[1]<p[3])){l.label=S[1];break}if(S[0]===6&&l.label<p[1]){l.label=p[1],p=S;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(S);break}p[2]&&l.ops.pop(),l.trys.pop();continue}S=s.call(i,l)}catch(w){S=[6,w],h=0}finally{f=p=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(Ps,"__esModule",{value:!0});var n=function(){function i(){}return i.register=function(s,l){i.handlers[s]=l},i.cancel=function(s){delete i.handlers[s]},i.handler=function(s,l){return t(this,void 0,void 0,function(){var f;return e(this,function(h){if(f=i.handlers[s],f)return[2,f(s,l)];throw new Error("Server is stopped")})})},i.handlers=Object.create(null),i}();return Ps.MockAgent=n,Ps}var SD;function ioe(){if(SD)return Ra;SD=1;var t=Ra&&Ra.__awaiter||function(h,p,m,g){function b(S){return S instanceof m?S:new m(function(w){w(S)})}return new(m||(m=Promise))(function(S,w){function C(D){try{T(g.next(D))}catch(R){w(R)}}function M(D){try{T(g.throw(D))}catch(R){w(R)}}function T(D){D.done?S(D.value):b(D.value).then(C,M)}T((g=g.apply(h,p||[])).next())})},e=Ra&&Ra.__generator||function(h,p){var m={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},g,b,S,w;return w={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function C(T){return function(D){return M([T,D])}}function M(T){if(g)throw new TypeError("Generator is already executing.");for(;m;)try{if(g=1,b&&(S=T[0]&2?b.return:T[0]?b.throw||((S=b.return)&&S.call(b),0):b.next)&&!(S=S.call(b,T[1])).done)return S;switch(b=0,S&&(T=[T[0]&2,S.value]),T[0]){case 0:case 1:S=T;break;case 4:return m.label++,{value:T[1],done:!1};case 5:m.label++,b=T[1],T=[0];continue;case 7:T=m.ops.pop(),m.trys.pop();continue;default:if(S=m.trys,!(S=S.length>0&&S[S.length-1])&&(T[0]===6||T[0]===2)){m=0;continue}if(T[0]===3&&(!S||T[1]>S[0]&&T[1]<S[3])){m.label=T[1];break}if(T[0]===6&&m.label<S[1]){m.label=S[1],S=T;break}if(S&&m.label<S[2]){m.label=S[2],m.ops.push(T);break}S[2]&&m.ops.pop(),m.trys.pop();continue}T=p.call(h,m)}catch(D){T=[6,D],b=0}finally{g=S=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}};Object.defineProperty(Ra,"__esModule",{value:!0});var n=NR(),i=zR(),s=jR(),l=function(){function h(p){this.address=p}return h.prototype.close=function(){s.MockAgent.cancel(this.address)},h}();Ra.MockServer=l;var f=function(){function h(p){var m=this;this.service=p,this.handler=function(g,b){return t(m,void 0,void 0,function(){var S,w;return e(this,function(C){if(b.length>this.service.maxRequestLength)throw new Error("Request entity too large");return S=new n.ServiceContext(this.service),w={family:"mock",address:g,port:0},S.remoteAddress=w,S.localAddress=w,S.handler=this,[2,this.service.handle(b,S)]})})}}return h.prototype.bind=function(p){s.MockAgent.register(p.address,this.handler)},h.serverTypes=[l],h}();return Ra.MockHandler=f,i.Service.register("mock",f),Ra}var Rs={},CD;function ooe(){if(CD)return Rs;CD=1;var t=Rs&&Rs.__awaiter||function(p,m,g,b){function S(w){return w instanceof g?w:new g(function(C){C(w)})}return new(g||(g=Promise))(function(w,C){function M(R){try{D(b.next(R))}catch(q){C(q)}}function T(R){try{D(b.throw(R))}catch(q){C(q)}}function D(R){R.done?w(R.value):S(R.value).then(M,T)}D((b=b.apply(p,m||[])).next())})},e=Rs&&Rs.__generator||function(p,m){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,S,w,C;return C={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function M(D){return function(R){return T([D,R])}}function T(D){if(b)throw new TypeError("Generator is already executing.");for(;g;)try{if(b=1,S&&(w=D[0]&2?S.return:D[0]?S.throw||((w=S.return)&&w.call(S),0):S.next)&&!(w=w.call(S,D[1])).done)return w;switch(S=0,w&&(D=[D[0]&2,w.value]),D[0]){case 0:case 1:w=D;break;case 4:return g.label++,{value:D[1],done:!1};case 5:g.label++,S=D[1],D=[0];continue;case 7:D=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(D[0]===6||D[0]===2)){g=0;continue}if(D[0]===3&&(!w||D[1]>w[0]&&D[1]<w[3])){g.label=D[1];break}if(D[0]===6&&g.label<w[1]){g.label=w[1],w=D;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(D);break}w[2]&&g.ops.pop(),g.trys.pop();continue}D=m.call(p,g)}catch(R){D=[6,R],S=0}finally{b=w=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}};Object.defineProperty(Rs,"__esModule",{value:!0});var n=PR(),i=ES(),s=jR(),l=RR(),f=OR(),h=function(){function p(){}return p.prototype.transport=function(m,g){return t(this,void 0,void 0,function(){var b,S,w;return e(this,function(C){return b=i.parseURI(g.uri),S=l.defer(),g.timeout>0&&(w=setTimeout(function(){S.reject(new f.TimeoutError)},g.timeout),S.promise.then(function(){clearTimeout(w)},function(){clearTimeout(w)})),s.MockAgent.handler(b.hostname,m).then(function(M){return S.resolve(M)},function(M){return S.reject(M)}),[2,S.promise]})})},p.prototype.abort=function(){return t(this,void 0,void 0,function(){return e(this,function(m){return[2]})})},p.schemes=["mock"],p}();return Rs.MockTransport=h,n.Client.register("mock",h),Rs}var ED;function kS(){if(ED)return qn;ED=1,Object.defineProperty(qn,"__esModule",{value:!0});var t=PR();qn.Client=t.Client;var e=DR();qn.DefaultClientCodec=e.DefaultClientCodec;var n=TR();qn.ClientContext=n.ClientContext;var i=wS();qn.Context=i.Context;var s=roe();qn.getCookie=s.getCookie,qn.setCookie=s.setCookie;var l=RR();qn.defer=l.defer;var f=xS();qn.PluginManager=f.PluginManager;var h=SS();qn.InvokeManager=h.InvokeManager;var p=CS();qn.IOManager=p.IOManager;var m=AS();qn.Method=m.Method;var g=BR();qn.MethodManager=g.MethodManager;var b=OR();qn.TimeoutError=b.TimeoutError;var S=ES();qn.parseURI=S.parseURI,qn.normalize=S.normalize,qn.promisify=S.promisify,qn.crc32=S.crc32;var w=zR();qn.Service=w.Service;var C=LR();qn.DefaultServiceCodec=C.DefaultServiceCodec;var M=NR();qn.ServiceContext=M.ServiceContext;var T=ioe();qn.MockServer=T.MockServer,qn.MockHandler=T.MockHandler;var D=ooe();return qn.MockTransport=D.MockTransport,qn}var m1e=kS(),y1e=em(),ed={},Bs={},AD;function aoe(){if(AD)return Bs;AD=1;var t=Bs&&Bs.__awaiter||function(l,f,h,p){function m(g){return g instanceof h?g:new h(function(b){b(g)})}return new(h||(h=Promise))(function(g,b){function S(M){try{C(p.next(M))}catch(T){b(T)}}function w(M){try{C(p.throw(M))}catch(T){b(T)}}function C(M){M.done?g(M.value):m(M.value).then(S,w)}C((p=p.apply(l,f||[])).next())})},e=Bs&&Bs.__generator||function(l,f){var h={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},p,m,g,b;return b={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function S(C){return function(M){return w([C,M])}}function w(C){if(p)throw new TypeError("Generator is already executing.");for(;h;)try{if(p=1,m&&(g=C[0]&2?m.return:C[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,C[1])).done)return g;switch(m=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return h.label++,{value:C[1],done:!1};case 5:h.label++,m=C[1],C=[0];continue;case 7:C=h.ops.pop(),h.trys.pop();continue;default:if(g=h.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){h=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){h.label=C[1];break}if(C[0]===6&&h.label<g[1]){h.label=g[1],g=C;break}if(g&&h.label<g[2]){h.label=g[2],h.ops.push(C);break}g[2]&&h.ops.pop(),h.trys.pop();continue}C=f.call(l,h)}catch(M){C=[6,M],m=0}finally{p=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(Bs,"__esModule",{value:!0});var n=kS();function i(l){var f=Object.create(null);if(l){for(var h=l.split(`\r
`),p=0,m=h.length;p<m;p++)if(h[p]!==""){var g=h[p].split(": ",2).map(function(w){return w.trim()}),b=g[0],S=g[1];(f.hasOwnProperty?f.hasOwnProperty(b):b in f)?Array.isArray(f[b])?f[b].push(S):f[b]=[f[b],S]:f[b]=S}}return f}var s=function(){function l(){this.counter=0,this.requests=Object.create(null),this.httpRequestHeaders=Object.create(null),this.onprogress=null}return l.prototype.setRequestHeaders=function(f,h){for(var p in h)if(!h.hasOwnProperty||h.hasOwnProperty(p)){var m=h[p];m!==void 0&&(Array.isArray(m)?f[p]=m.join(", "):f[p]=m+"")}},l.prototype.getRequestHeaders=function(f){var h=Object.create(null);return this.setRequestHeaders(h,this.httpRequestHeaders),f&&this.setRequestHeaders(h,f),h},l.prototype.transport=function(f,h){return t(this,void 0,void 0,function(){var p,m,g,b,S,w,C,M,T=this;return e(this,function(D){p=this.counter<2147483647?++this.counter:this.counter=0,m=new XMLHttpRequest,g=this,this.requests[p]=m,b=h,S=this.getRequestHeaders(b.httpRequestHeaders),w=new Promise(function(R,q){m.upload.onprogress=m.onprogress=T.onprogress,m.upload.onerror=m.onerror=function(Y){delete g.requests[p],q(new Error("network error"))},m.upload.onabort=m.onabort=function(Y){delete g.requests[p],q(new Error("transport abort"))},m.upload.ontimeout=m.ontimeout=function(Y){delete g.requests[p],q(new n.TimeoutError)},m.onload=function(Y){delete g.requests[p],b.httpStatusCode=this.status,b.httpStatusText=this.statusText,this.status>=200&&this.status<300?(b.httpResponseHeaders=i(this.getAllResponseHeaders()),R(new Uint8Array(this.response))):q(new Error(this.status+":"+this.statusText))}}),m.open("POST",h.uri,!0),m.withCredentials=!0,m.responseType="arraybuffer",m.timeout=h.timeout;for(C in S)m.setRequestHeader(C,S[C]);return typeof ArrayBuffer.isView=="function"?m.send(f):typeof f.buffer.slice=="function"?m.send(f.buffer.slice(f.byteOffset,f.length)):(M=new Uint8Array(f.length),M.set(f),m.send(M.buffer)),[2,w]})})},l.prototype.abort=function(){return t(this,void 0,void 0,function(){var f,h;return e(this,function(p){for(f in this.requests)h=this.requests[f],delete this.requests[f],h&&h.abort();return[2]})})},l.schemes=["http","https"],l}();return Bs.HttpTransport=s,n.Client.register("http",s),Bs}var Os={},kD;function soe(){if(kD)return Os;kD=1;var t=Os&&Os.__awaiter||function(l,f,h,p){function m(g){return g instanceof h?g:new h(function(b){b(g)})}return new(h||(h=Promise))(function(g,b){function S(M){try{C(p.next(M))}catch(T){b(T)}}function w(M){try{C(p.throw(M))}catch(T){b(T)}}function C(M){M.done?g(M.value):m(M.value).then(S,w)}C((p=p.apply(l,f||[])).next())})},e=Os&&Os.__generator||function(l,f){var h={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},p,m,g,b;return b={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function S(C){return function(M){return w([C,M])}}function w(C){if(p)throw new TypeError("Generator is already executing.");for(;h;)try{if(p=1,m&&(g=C[0]&2?m.return:C[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,C[1])).done)return g;switch(m=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return h.label++,{value:C[1],done:!1};case 5:h.label++,m=C[1],C=[0];continue;case 7:C=h.ops.pop(),h.trys.pop();continue;default:if(g=h.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){h=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){h.label=C[1];break}if(C[0]===6&&h.label<g[1]){h.label=g[1],g=C;break}if(g&&h.label<g[2]){h.label=g[2],h.ops.push(C);break}g[2]&&h.ops.pop(),h.trys.pop();continue}C=f.call(l,h)}catch(M){C=[6,M],m=0}finally{p=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(Os,"__esModule",{value:!0});var n=kS(),i=em(),s=function(){function l(){this.counter=0,this.results=Object.create(null),this.websockets=Object.create(null)}return l.prototype.connect=function(f){return t(this,void 0,void 0,function(){var h,p,m,g=this;return e(this,function(b){switch(b.label){case 0:return[4,this.websockets[f]];case 1:return h=b.sent(),h!==void 0&&h.readyState!==WebSocket.CLOSING&&h.readyState!==WebSocket.CLOSED?[2,h]:(p=n.defer(),h=new WebSocket(f,"hprose"),h.binaryType="arraybuffer",h.onopen=function(){return p.resolve(h)},h.onmessage=function(S){return t(g,void 0,void 0,function(){var w,C,M;return e(this,function(T){return w=new i.ByteStream(S.data),C=w.readInt32BE(),M=this.results[f][C],delete this.results[f][C],M&&M.resolve(w.remains),[2]})})},m=function(S){var w=g.results[f];if(w)for(var C in w){var M=w[C];delete w[C],M.reject(S)}delete g.websockets[f]},h.onerror=function(S){return m(new Error("error"))},h.onclose=function(S){S.reason?m(new Error(S.code+":"+S.reason)):m(new Error(""+S.code))},this.websockets[f]=p.promise,[2,p.promise])}})})},l.prototype.transport=function(f,h){return t(this,void 0,void 0,function(){var p,m,g,b,S,w,C,M=this;return e(this,function(T){switch(T.label){case 0:return p=h.uri,m=this.counter<2147483647?++this.counter:this.counter=0,g=n.defer(),[4,this.connect(p)];case 1:return b=T.sent(),this.results[p]===void 0&&(this.results[p]=Object.create(null)),this.results[p][m]=g,h.timeout>0&&(S=setTimeout(function(){delete M.results[p][m],g.reject(new n.TimeoutError)},h.timeout),g.promise.then(function(){clearTimeout(S)},function(){clearTimeout(S)})),w=new i.ByteStream(4+f.length),w.writeInt32BE(m),w.write(f),C=w.takeBytes(),typeof ArrayBuffer.isView=="function"?b.send(C):b.send(C.buffer),[2,g.promise]}})})},l.prototype.abort=function(){return t(this,void 0,void 0,function(){var f,h,p,m,g;return e(this,function(b){switch(b.label){case 0:f=[];for(h in this.websockets)f.push(h);p=0,b.label=1;case 1:return p<f.length?(m=f[p],g=this.websockets[m],delete this.websockets[m],g?[4,g]:[3,3]):[3,4];case 2:b.sent().close(1e3),b.label=3;case 3:return p++,[3,1];case 4:return[2]}})})},l.schemes=["ws","wss"],l}();return Os.WebSocketTransport=s,n.Client.register("websocket",s),Os}var FD;function uoe(){if(FD)return ed;FD=1,Object.defineProperty(ed,"__esModule",{value:!0});var t=aoe();ed.HttpTransport=t.HttpTransport;var e=soe();return ed.WebSocketTransport=e.WebSocketTransport,ed}var _1e=uoe(),loe=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let qR;const tm=t=>qR=t,$R=Symbol();function Ax(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Id;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Id||(Id={}));function b1e(){const t=sR(!0),e=t.run(()=>pt({}));let n=[],i=[];const s=y0({install(l){tm(s),s._a=l,l.provide($R,s),l.config.globalProperties.$pinia=s,i.forEach(f=>n.push(f)),i=[]},use(l){return!this._a&&!loe?i.push(l):n.push(l),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const UR=()=>{};function ID(t,e,n,i=UR){t.push(e);const s=()=>{const l=t.indexOf(e);l>-1&&(t.splice(l,1),i())};return!n&&vre()&&mre(s),s}function Gc(t,...e){t.slice().forEach(n=>{n(...e)})}const coe=t=>t(),MD=Symbol(),uw=Symbol();function kx(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,i)=>t.set(i,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];Ax(s)&&Ax(i)&&t.hasOwnProperty(n)&&!If(i)&&!fS(i)?t[n]=kx(s,i):t[n]=i}return t}const foe=Symbol();function hoe(t){return!Ax(t)||!t.hasOwnProperty(foe)}const{assign:Gs}=Object;function doe(t){return!!(If(t)&&t.effect)}function poe(t,e,n,i){const{state:s,actions:l,getters:f}=e,h=n.state.value[t];let p;function m(){h||(n.state.value[t]=s?s():{});const g=yre(n.state.value[t]);return Gs(g,l,Object.keys(f||{}).reduce((b,S)=>(b[S]=y0(xe(()=>{tm(n);const w=n._s.get(t);return f[S].call(w,w)})),b),{}))}return p=GR(t,m,e,n,i,!0),p}function GR(t,e,n={},i,s,l){let f;const h=Gs({actions:{}},n),p={deep:!0};let m,g,b=[],S=[],w;const C=i.state.value[t];!l&&!C&&(i.state.value[t]={}),pt({});let M;function T(ee){let he;m=g=!1,typeof ee=="function"?(ee(i.state.value[t]),he={type:Id.patchFunction,storeId:t,events:w}):(kx(i.state.value[t],ee),he={type:Id.patchObject,payload:ee,storeId:t,events:w});const be=M=Symbol();Mr().then(()=>{M===be&&(m=!0)}),g=!0,Gc(b,he,i.state.value[t])}const D=l?function(){const{state:he}=n,be=he?he():{};this.$patch(Fe=>{Gs(Fe,be)})}:UR;function R(){f.stop(),b=[],S=[],i._s.delete(t)}const q=(ee,he="")=>{if(MD in ee)return ee[uw]=he,ee;const be=function(){tm(i);const Fe=Array.from(arguments),oe=[],Se=[];function fe(Pe){oe.push(Pe)}function Te(Pe){Se.push(Pe)}Gc(S,{args:Fe,name:be[uw],store:K,after:fe,onError:Te});let Le;try{Le=ee.apply(this&&this.$id===t?this:K,Fe)}catch(Pe){throw Gc(Se,Pe),Pe}return Le instanceof Promise?Le.then(Pe=>(Gc(oe,Pe),Pe)).catch(Pe=>(Gc(Se,Pe),Promise.reject(Pe))):(Gc(oe,Le),Le)};return be[MD]=!0,be[uw]=he,be},Y={_p:i,$id:t,$onAction:ID.bind(null,S),$patch:T,$reset:D,$subscribe(ee,he={}){const be=ID(b,ee,he.detached,()=>Fe()),Fe=f.run(()=>qt(()=>i.state.value[t],oe=>{(he.flush==="sync"?g:m)&&ee({storeId:t,type:Id.direct,events:w},oe)},Gs({},p,he)));return be},$dispose:R},K=il(Y);i._s.set(t,K);const te=(i._a&&i._a.runWithContext||coe)(()=>i._e.run(()=>(f=sR()).run(()=>e({action:q}))));for(const ee in te){const he=te[ee];if(If(he)&&!doe(he)||fS(he))l||(C&&hoe(he)&&(If(he)?he.value=C[ee]:kx(he,C[ee])),i.state.value[t][ee]=he);else if(typeof he=="function"){const be=q(he,ee);te[ee]=be,h.actions[ee]=he}}return Gs(K,te),Gs(Bo(K),te),Object.defineProperty(K,"$state",{get:()=>i.state.value[t],set:ee=>{T(he=>{Gs(he,ee)})}}),i._p.forEach(ee=>{Gs(K,f.run(()=>ee({store:K,app:i._a,pinia:i,options:h})))}),C&&l&&n.hydrate&&n.hydrate(K.$state,C),m=!0,g=!0,K}/*! #__NO_SIDE_EFFECTS__ */function w1e(t,e,n){let i,s;const l=typeof e=="function";typeof t=="string"?(i=t,s=l?n:e):(s=t,i=t.id);function f(h,p){const m=gre();return h=h||(m?$a($R,null):null),h&&tm(h),h=qR,h._s.has(i)||(l?GR(i,e,s,h):poe(i,s,h)),h._s.get(i)}return f.$id=i,f}function x1e(t){{const e=Bo(t),n={};for(const i in e){const s=e[i];s.effect?n[i]=xe({get:()=>t[i],set(l){t[i]=l}}):(If(s)||fS(s))&&(n[i]=pre(t,i))}return n}}function S1e(t){return t}function C1e(t){return t}function E1e(t){return t}const DD=["B","KB","MB","GB","TB","PB"];function TD(t,e=1){let n=0;for(;parseInt(t,10)>=1024&&n<DD.length-1;)t/=1024,++n;return`${t.toFixed(e)}${DD[n]}`}function goe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ui(t,e,n){return n<=e?e:Math.min(n,Math.max(e,t))}function br(t,e=2,n="0"){if(t==null)return t;const i=""+t;return i.length>=e?i:new Array(e-i.length+1).join(n)+i}const HR=864e5,voe=36e5,Fx=6e4,VR="YYYY-MM-DDTHH:mm:ss.SSSZ",moe=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,yoe=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,lw={};function _oe(t,e){const n="("+e.days.join("|")+")",i=t+n;if(lw[i]!==void 0)return lw[i];const s="("+e.daysShort.join("|")+")",l="("+e.months.join("|")+")",f="("+e.monthsShort.join("|")+")",h={};let p=0;const m=t.replace(yoe,b=>{switch(p++,b){case"YY":return h.YY=p,"(-?\\d{1,2})";case"YYYY":return h.YYYY=p,"(-?\\d{1,4})";case"M":return h.M=p,"(\\d{1,2})";case"Mo":return h.M=p++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return h.M=p,"(\\d{2})";case"MMM":return h.MMM=p,f;case"MMMM":return h.MMMM=p,l;case"D":return h.D=p,"(\\d{1,2})";case"Do":return h.D=p++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return h.D=p,"(\\d{2})";case"H":return h.H=p,"(\\d{1,2})";case"HH":return h.H=p,"(\\d{2})";case"h":return h.h=p,"(\\d{1,2})";case"hh":return h.h=p,"(\\d{2})";case"m":return h.m=p,"(\\d{1,2})";case"mm":return h.m=p,"(\\d{2})";case"s":return h.s=p,"(\\d{1,2})";case"ss":return h.s=p,"(\\d{2})";case"S":return h.S=p,"(\\d{1})";case"SS":return h.S=p,"(\\d{2})";case"SSS":return h.S=p,"(\\d{3})";case"A":return h.A=p,"(AM|PM)";case"a":return h.a=p,"(am|pm)";case"aa":return h.aa=p,"(a\\.m\\.|p\\.m\\.)";case"ddd":return s;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"do":return p++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return p++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return p++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return h.Z=p,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return h.ZZ=p,"(Z|[+-]\\d{2}\\d{2})";case"X":return h.X=p,"(-?\\d+)";case"x":return h.x=p,"(-?\\d{4,})";default:return p--,b[0]==="["&&(b=b.substring(1,b.length-1)),b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),g={map:h,regex:new RegExp("^"+m)};return lw[i]=g,g}function WR(t,e){return t!==void 0?t:e!==void 0?e.date:Ex.date}function PD(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),s=Math.floor(i/60),l=i%60;return n+br(s)+e+br(l)}function boe(t,e,n){let i=t.getFullYear(),s=t.getMonth();const l=t.getDate();return e.year!==void 0&&(i+=n*e.year,delete e.year),e.month!==void 0&&(s+=n*e.month,delete e.month),t.setDate(1),t.setMonth(2),t.setFullYear(i),t.setMonth(s),t.setDate(Math.min(l,IS(t))),e.date!==void 0&&(t.setDate(t.getDate()+n*e.date),delete e.date),t}function woe(t,e,n){const i=e.year!==void 0?e.year:t[`get${n}FullYear`](),s=e.month!==void 0?e.month-1:t[`get${n}Month`](),l=new Date(i,s+1,0).getDate(),f=Math.min(l,e.date!==void 0?e.date:t[`get${n}Date`]());return t[`set${n}Date`](1),t[`set${n}Month`](2),t[`set${n}FullYear`](i),t[`set${n}Month`](s),t[`set${n}Date`](f),delete e.year,delete e.month,delete e.date,t}function FS(t,e,n){const i=YR(e),s=new Date(t),l=i.year!==void 0||i.month!==void 0||i.date!==void 0?boe(s,i,n):s;for(const f in i){const h=goe(f);l[`set${h}`](l[`get${h}`]()+n*i[f])}return l}function YR(t){const e={...t};return t.years!==void 0&&(e.year=t.years,delete e.years),t.months!==void 0&&(e.month=t.months,delete e.months),t.days!==void 0&&(e.date=t.days,delete e.days),t.day!==void 0&&(e.date=t.day,delete e.day),t.hour!==void 0&&(e.hours=t.hour,delete e.hour),t.minute!==void 0&&(e.minutes=t.minute,delete e.minute),t.second!==void 0&&(e.seconds=t.second,delete e.second),t.millisecond!==void 0&&(e.milliseconds=t.millisecond,delete e.millisecond),e}function XR(t,e,n){const i=YR(e),s=n===!0?"UTC":"",l=new Date(t),f=i.year!==void 0||i.month!==void 0||i.date!==void 0?woe(l,i,s):l;for(const h in i){const p=h.charAt(0).toUpperCase()+h.slice(1);f[`set${s}${p}`](i[h])}return f}function xoe(t,e,n){const i=Soe(t,e,n),s=new Date(i.year,i.month===null?null:i.month-1,i.day===null?1:i.day,i.hour,i.minute,i.second,i.millisecond),l=s.getTimezoneOffset();return i.timezoneOffset===null||i.timezoneOffset===l?s:FS(s,{minutes:i.timezoneOffset-l},1)}function Soe(t,e,n,i,s){const l={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(t==null||t===""||typeof t!="string")return l;e===void 0&&(e=VR);const f=WR(n,la.props),h=f.months,p=f.monthsShort,{regex:m,map:g}=_oe(e,f),b=t.match(m);if(b===null)return l;let S="";if(g.X!==void 0||g.x!==void 0){const w=parseInt(b[g.X!==void 0?g.X:g.x],10);if(isNaN(w)===!0||w<0)return l;const C=new Date(w*(g.X!==void 0?1e3:1));l.year=C.getFullYear(),l.month=C.getMonth()+1,l.day=C.getDate(),l.hour=C.getHours(),l.minute=C.getMinutes(),l.second=C.getSeconds(),l.millisecond=C.getMilliseconds()}else{if(g.YYYY!==void 0)l.year=parseInt(b[g.YYYY],10);else if(g.YY!==void 0){const w=parseInt(b[g.YY],10);l.year=w<0?w:2e3+w}if(g.M!==void 0){if(l.month=parseInt(b[g.M],10),l.month<1||l.month>12)return l}else g.MMM!==void 0?l.month=p.indexOf(b[g.MMM])+1:g.MMMM!==void 0&&(l.month=h.indexOf(b[g.MMMM])+1);if(g.D!==void 0){if(l.day=parseInt(b[g.D],10),l.year===null||l.month===null||l.day<1)return l;const w=new Date(l.year,l.month,0).getDate();if(l.day>w)return l}g.H!==void 0?l.hour=parseInt(b[g.H],10)%24:g.h!==void 0&&(l.hour=parseInt(b[g.h],10)%12,(g.A&&b[g.A]==="PM"||g.a&&b[g.a]==="pm"||g.aa&&b[g.aa]==="p.m.")&&(l.hour+=12),l.hour=l.hour%24),g.m!==void 0&&(l.minute=parseInt(b[g.m],10)%60),g.s!==void 0&&(l.second=parseInt(b[g.s],10)%60),g.S!==void 0&&(l.millisecond=parseInt(b[g.S],10)*10**(3-b[g.S].length)),(g.Z!==void 0||g.ZZ!==void 0)&&(S=g.Z!==void 0?b[g.Z].replace(":",""):b[g.ZZ],l.timezoneOffset=(S[0]==="+"?-1:1)*(60*S.slice(1,3)+1*S.slice(3,5)))}return l.dateHash=br(l.year,6)+"/"+br(l.month)+"/"+br(l.day),l.timeHash=br(l.hour)+":"+br(l.minute)+":"+br(l.second)+S,l}function Coe(t){return typeof t=="number"?!0:isNaN(Date.parse(t))===!1}function Eoe(t,e){return XR(new Date,t,e)}function Aoe(t){const e=new Date(t).getDay();return e===0?7:e}function $1(t){const e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);const n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const i=e.getTimezoneOffset()-n.getTimezoneOffset();e.setHours(e.getHours()-i);const s=(e-n)/(HR*7);return 1+Math.floor(s)}function koe(t){return t.getFullYear()*1e4+t.getMonth()*100+t.getDate()}function cw(t,e){const n=new Date(t);return e===!0?koe(n):n.getTime()}function Foe(t,e,n,i={}){const s=cw(e,i.onlyDate),l=cw(n,i.onlyDate),f=cw(t,i.onlyDate);return(f>s||i.inclusiveFrom===!0&&f===s)&&(f<l||i.inclusiveTo===!0&&f===l)}function Ioe(t,e){return FS(t,e,1)}function Moe(t,e){return FS(t,e,-1)}function ua(t,e,n){const i=new Date(t),s=`set${n===!0?"UTC":""}`;switch(e){case"year":case"years":i[`${s}Month`](0);case"month":case"months":i[`${s}Date`](1);case"day":case"days":case"date":i[`${s}Hours`](0);case"hour":case"hours":i[`${s}Minutes`](0);case"minute":case"minutes":i[`${s}Seconds`](0);case"second":case"seconds":i[`${s}Milliseconds`](0)}return i}function Doe(t,e,n){const i=new Date(t),s=`set${n===!0?"UTC":""}`;switch(e){case"year":case"years":i[`${s}Month`](11);case"month":case"months":i[`${s}Date`](IS(i));case"day":case"days":case"date":i[`${s}Hours`](23);case"hour":case"hours":i[`${s}Minutes`](59);case"minute":case"minutes":i[`${s}Seconds`](59);case"second":case"seconds":i[`${s}Milliseconds`](999)}return i}function Toe(t){let e=new Date(t);return Array.prototype.slice.call(arguments,1).forEach(n=>{e=Math.max(e,new Date(n))}),e}function Poe(t){let e=new Date(t);return Array.prototype.slice.call(arguments,1).forEach(n=>{e=Math.min(e,new Date(n))}),e}function Kg(t,e,n){return(t.getTime()-t.getTimezoneOffset()*Fx-(e.getTime()-e.getTimezoneOffset()*Fx))/n}function KR(t,e,n="days"){const i=new Date(t),s=new Date(e);switch(n){case"years":case"year":return i.getFullYear()-s.getFullYear();case"months":case"month":return(i.getFullYear()-s.getFullYear())*12+i.getMonth()-s.getMonth();case"days":case"day":case"date":return Kg(ua(i,"day"),ua(s,"day"),HR);case"hours":case"hour":return Kg(ua(i,"hour"),ua(s,"hour"),voe);case"minutes":case"minute":return Kg(ua(i,"minute"),ua(s,"minute"),Fx);case"seconds":case"second":return Kg(ua(i,"second"),ua(s,"second"),1e3)}}function U1(t){return KR(t,ua(t,"year"),"days")+1}function Roe(t){return gS(t)===!0?"date":typeof t=="number"?"number":"string"}function Boe(t,e,n){const i=new Date(t);if(e){const s=new Date(e);if(i<s)return s}if(n){const s=new Date(n);if(i>s)return s}return i}function Ooe(t,e,n){const i=new Date(t),s=new Date(e);if(n===void 0)return i.getTime()===s.getTime();switch(n){case"second":case"seconds":if(i.getSeconds()!==s.getSeconds())return!1;case"minute":case"minutes":if(i.getMinutes()!==s.getMinutes())return!1;case"hour":case"hours":if(i.getHours()!==s.getHours())return!1;case"day":case"days":case"date":if(i.getDate()!==s.getDate())return!1;case"month":case"months":if(i.getMonth()!==s.getMonth())return!1;case"year":case"years":if(i.getFullYear()!==s.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${n}`)}return!0}function IS(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}function Hc(t){if(t>=11&&t<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`}return`${t}th`}const RD={YY(t,e,n){const i=this.YYYY(t,e,n)%100;return i>=0?br(i):"-"+br(Math.abs(i))},YYYY(t,e,n){return n??t.getFullYear()},M(t){return t.getMonth()+1},Mo(t){return Hc(t.getMonth()+1)},MM(t){return br(t.getMonth()+1)},MMM(t,e){return e.monthsShort[t.getMonth()]},MMMM(t,e){return e.months[t.getMonth()]},Q(t){return Math.ceil((t.getMonth()+1)/3)},Qo(t){return Hc(this.Q(t))},D(t){return t.getDate()},Do(t){return Hc(t.getDate())},DD(t){return br(t.getDate())},DDD(t){return U1(t)},DDDo(t){return Hc(U1(t))},DDDD(t){return br(U1(t),3)},d(t){return t.getDay()},do(t){return Hc(t.getDay())},dd(t,e){return e.days[t.getDay()].slice(0,2)},ddd(t,e){return e.daysShort[t.getDay()]},dddd(t,e){return e.days[t.getDay()]},E(t){return t.getDay()||7},w(t){return $1(t)},wo(t){return Hc($1(t))},ww(t){return br($1(t))},H(t){return t.getHours()},HH(t){return br(t.getHours())},h(t){const e=t.getHours();return e===0?12:e>12?e%12:e},hh(t){return br(this.h(t))},m(t){return t.getMinutes()},mm(t){return br(t.getMinutes())},s(t){return t.getSeconds()},ss(t){return br(t.getSeconds())},S(t){return Math.floor(t.getMilliseconds()/100)},SS(t){return br(Math.floor(t.getMilliseconds()/10))},SSS(t){return br(t.getMilliseconds(),3)},A(t){return t.getHours()<12?"AM":"PM"},a(t){return t.getHours()<12?"am":"pm"},aa(t){return t.getHours()<12?"a.m.":"p.m."},Z(t,e,n,i){const s=i??t.getTimezoneOffset();return PD(s,":")},ZZ(t,e,n,i){const s=i??t.getTimezoneOffset();return PD(s)},X(t){return Math.floor(t.getTime()/1e3)},x(t){return t.getTime()}};function Loe(t,e,n,i,s){if(t!==0&&!t||t===1/0||t===-1/0)return;const l=new Date(t);if(isNaN(l))return;e===void 0&&(e=VR);const f=WR(n,la.props);return e.replace(moe,(h,p)=>h in RD?RD[h](l,f,i,s):p===void 0?h:p.split("\\]").join("]"))}function zoe(t){return gS(t)===!0?new Date(t.getTime()):t}const A1e={isValid:Coe,extractDate:xoe,buildDate:Eoe,getDayOfWeek:Aoe,getWeekOfYear:$1,isBetweenDates:Foe,addToDate:Ioe,subtractFromDate:Moe,adjustDate:XR,startOfDate:ua,endOfDate:Doe,getMaxDate:Toe,getMinDate:Poe,getDateDiff:KR,getDayOfYear:U1,inferDateFormat:Roe,getDateBetween:Boe,isSameDate:Ooe,daysInMonth:IS,formatDate:Loe,clone:zoe};var td,nd,gn={version:"0.2.0"},Gr=gn.settings={minimum:.08,easing:"linear",positionUsing:"",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function BD(t,e,n){return t<e?e:t>n?n:t}function Zg(t){return 100*(-1+t)}gn.configure=function(t){var e,n;for(e in t)(n=t[e])!==void 0&&t.hasOwnProperty(e)&&(Gr[e]=n);return this},gn.status=null,gn.set=function(t){var e=gn.isStarted();t=BD(t,Gr.minimum,1),gn.status=t===1?null:t;var n=gn.render(!e),i=n.querySelector(Gr.barSelector),s=Gr.speed,l=Gr.easing;return Noe(function(f){Gr.positionUsing===""&&(Gr.positionUsing=gn.getPositioningCSS()),Jg(i,function(h,p,m){var g;return(g=Gr.positionUsing==="translate3d"?{transform:"translate3d("+Zg(h)+"%,0,0)"}:Gr.positionUsing==="translate"?{transform:"translate("+Zg(h)+"%,0)"}:{"margin-left":Zg(h)+"%"}).transition="all "+p+"ms "+m,g}(t,s,l)),t===1?(Jg(n,{transition:"none",opacity:1}),setTimeout(function(){Jg(n,{transition:"all "+s+"ms linear",opacity:0}),setTimeout(function(){gn.remove(),f()},s)},s)):setTimeout(f,s)}),this},gn.isStarted=function(){return typeof gn.status=="number"},gn.start=function(){gn.status||gn.set(0);var t=function(){setTimeout(function(){gn.status&&(gn.trickle(),t())},Gr.trickleSpeed)};return Gr.trickle&&t(),this},gn.done=function(t){return t||gn.status?gn.inc(.3+.5*Math.random()).set(1):this},gn.inc=function(t){var e=gn.status;return e?e>1?void 0:(typeof t!="number"&&(t=e>=0&&e<.2?.1:e>=.2&&e<.5?.04:e>=.5&&e<.8?.02:e>=.8&&e<.99?.005:0),e=BD(e+t,0,.994),gn.set(e)):gn.start()},gn.trickle=function(){return gn.inc()},td=0,nd=0,gn.promise=function(t){return t&&t.state()!=="resolved"?(nd===0&&gn.start(),td++,nd++,t.always(function(){--nd==0?(td=0,gn.done()):gn.set((td-nd)/td)}),this):this},gn.render=function(t){if(gn.isRendered())return document.getElementById("nprogress");OD(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=Gr.template;var n,i=e.querySelector(Gr.barSelector),s=t?"-100":Zg(gn.status||0),l=document.querySelector(Gr.parent);return Jg(i,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),Gr.showSpinner||(n=e.querySelector(Gr.spinnerSelector))&&zD(n),l!=document.body&&OD(l,"nprogress-custom-parent"),l.appendChild(e),e},gn.remove=function(){LD(document.documentElement,"nprogress-busy"),LD(document.querySelector(Gr.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&zD(t)},gn.isRendered=function(){return!!document.getElementById("nprogress")},gn.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var Noe=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),t.length==1&&e()}}(),Jg=function(){var t=["Webkit","O","Moz","ms"],e={};function n(i,s,l){var f;f=(f=s).replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(h,p){return p.toUpperCase()}),s=e[f]||(e[f]=function(h){var p=document.body.style;if(h in p)return h;for(var m,g=t.length,b=h.charAt(0).toUpperCase()+h.slice(1);g--;)if((m=t[g]+b)in p)return m;return h}(f)),i.style[s]=l}return function(i,s){var l,f,h=arguments;if(h.length==2)for(l in s)(f=s[l])!==void 0&&s.hasOwnProperty(l)&&n(i,l,f);else n(i,h[1],h[2])}}();function ZR(t,e){return(typeof t=="string"?t:MS(t)).indexOf(" "+e+" ")>=0}function OD(t,e){var n=MS(t),i=n+e;ZR(n,e)||(t.className=i.substring(1))}function LD(t,e){var n,i=MS(t);ZR(t,e)&&(n=i.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function MS(t){return(" "+(t&&t.className||"")+" ").replace(/\s+/gi," ")}function zD(t){t&&t.parentNode&&t.parentNode.removeChild(t)}const k1e={isoName:"zh-CN",nativeName:"()",label:{clear:"",ok:"",cancel:"",close:"",set:"",select:"",reset:"",remove:"",update:"",create:"",search:"",filter:"",refresh:"",expand:t=>t?`"${t}"`:"",collapse:t=>t?`"${t}"`:""},date:{days:"______".split("_"),daysShort:"______".split("_"),months:"___________".split("_"),monthsShort:"___________".split("_"),headerTitle:t=>new Intl.DateTimeFormat("zh-CN",{weekday:"short",month:"short",day:"numeric"}).format(t),firstDayOfWeek:0,format24h:!1,pluralDay:""},table:{noData:"",noResults:"",loading:"...",selectedRecords:t=>""+t+"",recordsPerPage:":",allRows:"",pagination:(t,e,n)=>t+"-"+e+" / "+n,columns:""},editor:{url:"URL",bold:"",italic:"",strikethrough:"",underline:"",unorderedList:"",orderedList:"",subscript:"",superscript:"",hyperlink:"",toggleFullscreen:"",quote:"",left:"",center:"",right:"",justify:"",print:"",outdent:"",indent:"",removeFormat:"",formatting:"",fontSize:"",align:"",hr:"",undo:"",redo:"",heading1:"",heading2:"",heading3:"",heading4:"",heading5:"",heading6:"",paragraph:"",code:"",size1:"",size2:"",size3:"",size4:"",size5:"",size6:"",size7:"",defaultFont:"",viewSource:""},tree:{noNodes:"",noResults:""}};function JR(t,e,n){let i;function s(){i!==void 0&&(Cx.remove(i),i=void 0)}return or(()=>{t.value===!0&&s()}),{removeFromHistory:s,addToHistory(){i={condition:()=>n.value===!0,handler:e},Cx.add(i)}}}function G1(t){if(Object(t.$parent)===t.$parent)return t.$parent;let{parent:e}=t.$;for(;Object(e)===e;){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function QR(t,e){typeof e.type=="symbol"?Array.isArray(e.children)===!0&&e.children.forEach(n=>{QR(t,n)}):t.add(e)}function joe(t){const e=new Set;return t.forEach(n=>{QR(e,n)}),Array.from(e)}function eB(t){return t.appContext.config.globalProperties.$router!==void 0}function fl(t){return t.isUnmounted===!0||t.isDeactivated===!0}function au(){let t=null;const e=tn();function n(){t!==null&&(clearTimeout(t),t=null)}return Hf(n),or(n),{removeTimeout:n,registerTimeout(i,s){n(),fl(e)===!1&&(t=setTimeout(()=>{t=null,i()},s))}}}function Md(){let t;const e=tn();function n(){t=void 0}return Hf(n),or(n),{removeTick:n,registerTick(i){t=i,Mr(()=>{t===i&&(fl(e)===!1&&t(),t=void 0)})}}}const nm={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},rm=["beforeShow","show","beforeHide","hide"];function im({showing:t,canShow:e,hideOnRouteChange:n,handleShow:i,handleHide:s,processOnMount:l}){const f=tn(),{props:h,emit:p,proxy:m}=f;let g;function b(R){t.value===!0?C(R):S(R)}function S(R){if(h.disable===!0||R!==void 0&&R.qAnchorHandled===!0||e!==void 0&&e(R)!==!0)return;const q=h["onUpdate:modelValue"]!==void 0;q===!0&&(p("update:modelValue",!0),g=R,Mr(()=>{g===R&&(g=void 0)})),(h.modelValue===null||q===!1)&&w(R)}function w(R){t.value!==!0&&(t.value=!0,p("beforeShow",R),i!==void 0?i(R):p("show",R))}function C(R){if(h.disable===!0)return;const q=h["onUpdate:modelValue"]!==void 0;q===!0&&(p("update:modelValue",!1),g=R,Mr(()=>{g===R&&(g=void 0)})),(h.modelValue===null||q===!1)&&M(R)}function M(R){t.value!==!1&&(t.value=!1,p("beforeHide",R),s!==void 0?s(R):p("hide",R))}function T(R){h.disable===!0&&R===!0?h["onUpdate:modelValue"]!==void 0&&p("update:modelValue",!1):R===!0!==t.value&&(R===!0?w:M)(g)}qt(()=>h.modelValue,T),n!==void 0&&eB(f)===!0&&qt(()=>m.$route.fullPath,()=>{n.value===!0&&t.value===!0&&C()}),l===!0&&ci(()=>{T(h.modelValue)});const D={show:S,hide:C,toggle:b};return Object.assign(m,D),D}const DS={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function tB(t,e=()=>{},n=()=>{}){return{transitionProps:xe(()=>{const i=`q-transition--${t.transitionShow||e()}`,s=`q-transition--${t.transitionHide||n()}`;return{appear:!0,enterFromClass:`${i}-enter-from`,enterActiveClass:`${i}-enter-active`,enterToClass:`${i}-enter-to`,leaveFromClass:`${s}-leave-from`,leaveActiveClass:`${s}-leave-active`,leaveToClass:`${s}-leave-to`}}),transitionStyle:xe(()=>`--q-transition-duration: ${t.transitionDuration}ms`)}}let ol=[],Wd=[];function nB(t){Wd=Wd.filter(e=>e!==t)}function qoe(t){nB(t),Wd.push(t)}function ND(t){nB(t),Wd.length===0&&ol.length!==0&&(ol[ol.length-1](),ol=[])}function E0(t){Wd.length===0?t():ol.push(t)}function $oe(t){ol=ol.filter(e=>e!==t)}const wf=[],Dd=[];let Uoe=1,Hs=document.body;function om(t,e){const n=document.createElement("div");if(n.id=e!==void 0?`q-portal--${e}--${Uoe++}`:t,ov.globalNodes!==void 0){const i=ov.globalNodes.class;i!==void 0&&(n.className=i)}return Hs.appendChild(n),wf.push(n),Dd.push(e),n}function TS(t){const e=wf.indexOf(t);wf.splice(e,1),Dd.splice(e,1),t.remove()}function Goe(t){if(t===Hs)return;if(Hs=t,Hs===document.body||Dd.reduce((n,i)=>i==="dialog"?n+1:n,0)<2){wf.forEach(n=>{n.contains(Hs)===!1&&Hs.appendChild(n)});return}const e=Dd.lastIndexOf("dialog");for(let n=0;n<wf.length;n++){const i=wf[n];(n===e||Dd[n]!=="dialog")&&i.contains(Hs)===!1&&Hs.appendChild(i)}}const xf=[];function Hoe(t){return xf.find(e=>e.contentEl!==null&&e.contentEl.contains(t))}function rB(t,e){do{if(t.$options.name==="QMenu"){if(t.hide(e),t.$props.separateClosePopup===!0)return G1(t)}else if(t.__qPortal===!0){const n=G1(t);return n!==void 0&&n.$options.name==="QPopupProxy"?(t.hide(e),n):t}t=G1(t)}while(t!=null)}function Voe(t,e,n){for(;n!==0&&t!==void 0&&t!==null;){if(t.__qPortal===!0){if(n--,t.$options.name==="QMenu"){t=rB(t,e);continue}t.hide(e)}t=G1(t)}}const Woe=Zt({name:"QPortal",setup(t,{slots:e}){return()=>e.default()}});function Yoe(t){for(t=t.parent;t!=null;){if(t.type.name==="QGlobalDialog")return!0;if(t.type.name==="QDialog"||t.type.name==="QMenu")return!1;t=t.parent}return!1}function iB(t,e,n,i){const s=pt(!1),l=pt(!1);let f=null;const h={},p=i==="dialog"&&Yoe(t);function m(b){if(b===!0){ND(h),l.value=!0;return}l.value=!1,s.value===!1&&(p===!1&&f===null&&(f=om(!1,i)),s.value=!0,xf.push(t.proxy),qoe(h))}function g(b){if(l.value=!1,b!==!0)return;ND(h),s.value=!1;const S=xf.indexOf(t.proxy);S!==-1&&xf.splice(S,1),f!==null&&(TS(f),f=null)}return uR(()=>{g(!0)}),t.proxy.__qPortal=!0,Wa(t.proxy,"contentEl",()=>e.value),{showPortal:m,hidePortal:g,portalIsActive:s,portalIsAccessible:l,renderPortal:()=>p===!0?n():s.value===!0?[Be(_re,{to:f},Be(Woe,n))]:void 0}}function Ix(t,e){const n=t.style;for(const i in e)n[i]=e[i]}function Xoe(t){if(t==null)return;if(typeof t=="string")try{return document.querySelector(t)||void 0}catch{return}const e=bre(t);if(e)return e.$el||e}function oB(t,e){if(t==null||t.contains(e)===!0)return!0;for(let n=t.nextElementSibling;n!==null;n=n.nextElementSibling)if(n.contains(e))return!0;return!1}const aB=[Element,String],Koe=[null,document,document.body,document.scrollingElement,document.documentElement];function sB(t,e){let n=Xoe(e);if(n===void 0){if(t==null)return window;n=t.closest(".scroll,.scroll-y,.overflow-auto")}return Koe.includes(n)?window:n}function PS(t){return t===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:t.scrollTop}function RS(t){return t===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:t.scrollLeft}function uB(t,e,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],s=PS(t);if(n<=0){s!==e&&Mx(t,e);return}requestAnimationFrame(l=>{const f=l-i,h=s+(e-s)/Math.max(f,n)*f;Mx(t,h),h!==e&&uB(t,e,n-f,l)})}function lB(t,e,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],s=RS(t);if(n<=0){s!==e&&Dx(t,e);return}requestAnimationFrame(l=>{const f=l-i,h=s+(e-s)/Math.max(f,n)*f;Dx(t,h),h!==e&&lB(t,e,n-f,l)})}function Mx(t,e){if(t===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,e);return}t.scrollTop=e}function Dx(t,e){if(t===window){window.scrollTo(e,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}t.scrollLeft=e}function jD(t,e,n){if(n){uB(t,e,n);return}Mx(t,e)}function fw(t,e,n){if(n){lB(t,e,n);return}Dx(t,e)}let Qg;function H1(){if(Qg!==void 0)return Qg;const t=document.createElement("p"),e=document.createElement("div");Ix(t,{width:"100%",height:"200px"}),Ix(e,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);const n=t.offsetWidth;e.style.overflow="scroll";let i=t.offsetWidth;return n===i&&(i=e.clientWidth),e.remove(),Qg=n-i,Qg}function Zoe(t,e=!0){return!t||t.nodeType!==Node.ELEMENT_NODE?!1:e?t.scrollHeight>t.clientHeight&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-y"])):t.scrollWidth>t.clientWidth&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-x"]))}let rd=0,hw,dw,md,pw=!1,qD,$D,UD,Gu=null;function Joe(t){Qoe(t)&&Wn(t)}function Qoe(t){if(t.target===document.body||t.target.classList.contains("q-layout__backdrop"))return!0;const e=jre(t),n=t.shiftKey&&!t.deltaX,i=!n&&Math.abs(t.deltaX)<=Math.abs(t.deltaY),s=n||i?t.deltaY:t.deltaX;for(let l=0;l<e.length;l++){const f=e[l];if(Zoe(f,i))return i?s<0&&f.scrollTop===0?!0:s>0&&f.scrollTop+f.clientHeight===f.scrollHeight:s<0&&f.scrollLeft===0?!0:s>0&&f.scrollLeft+f.clientWidth===f.scrollWidth}return!0}function GD(t){t.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function e1(t){pw!==!0&&(pw=!0,requestAnimationFrame(()=>{pw=!1;const{height:e}=t.target,{clientHeight:n,scrollTop:i}=document.scrollingElement;(md===void 0||e!==window.innerHeight)&&(md=n-e,document.scrollingElement.scrollTop=i),i>md&&(document.scrollingElement.scrollTop-=Math.ceil((i-md)/8))}))}function HD(t){const e=document.body,n=window.visualViewport!==void 0;if(t==="add"){const{overflowY:i,overflowX:s}=window.getComputedStyle(e);hw=RS(window),dw=PS(window),qD=e.style.left,$D=e.style.top,UD=window.location.href,e.style.left=`-${hw}px`,e.style.top=`-${dw}px`,s!=="hidden"&&(s==="scroll"||e.scrollWidth>window.innerWidth)&&e.classList.add("q-body--force-scrollbar-x"),i!=="hidden"&&(i==="scroll"||e.scrollHeight>window.innerHeight)&&e.classList.add("q-body--force-scrollbar-y"),e.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Sn.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",e1,wr.passiveCapture),window.visualViewport.addEventListener("scroll",e1,wr.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",GD,wr.passiveCapture))}Sn.is.desktop===!0&&Sn.is.mac===!0&&window[`${t}EventListener`]("wheel",Joe,wr.notPassive),t==="remove"&&(Sn.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",e1,wr.passiveCapture),window.visualViewport.removeEventListener("scroll",e1,wr.passiveCapture)):window.removeEventListener("scroll",GD,wr.passiveCapture)),e.classList.remove("q-body--prevent-scroll"),e.classList.remove("q-body--force-scrollbar-x"),e.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,e.style.left=qD,e.style.top=$D,window.location.href===UD&&window.scrollTo(hw,dw),md=void 0)}function Tx(t){let e="add";if(t===!0){if(rd++,Gu!==null){clearTimeout(Gu),Gu=null;return}if(rd>1)return}else{if(rd===0||(rd--,rd>0))return;if(e="remove",Sn.is.ios===!0&&Sn.is.nativeMobile===!0){Gu!==null&&clearTimeout(Gu),Gu=setTimeout(()=>{HD(e),Gu=null},100);return}}HD(e)}function cB(){let t;return{preventBodyScroll(e){e!==t&&(t!==void 0||e===!0)&&(t=e,Tx(e))}}}function Dn(t,e){return t!==void 0&&t()||e}function eae(t,e){if(t!==void 0){const n=t();if(n!=null)return n.slice()}return e}function fa(t,e){return t!==void 0?e.concat(t()):e}function fB(t,e){return t===void 0?e:e!==void 0?e.concat(t()):t()}function Yd(t,e,n,i,s,l){e.key=i+s;const f=Be(t,e,n);return s===!0?bl(f,l()):f}const hl=[];let Mf;function tae(t){Mf=t.keyCode===27}function nae(){Mf===!0&&(Mf=!1)}function rae(t){Mf===!0&&(Mf=!1,Ua(t,27)===!0&&hl[hl.length-1](t))}function hB(t){window[t]("keydown",tae),window[t]("blur",nae),window[t]("keyup",rae),Mf=!1}function dB(t){Sn.is.desktop===!0&&(hl.push(t),hl.length===1&&hB("addEventListener"))}function sv(t){const e=hl.indexOf(t);e!==-1&&(hl.splice(e,1),hl.length===0&&hB("removeEventListener"))}const dl=[];function pB(t){dl[dl.length-1](t)}function gB(t){Sn.is.desktop===!0&&(dl.push(t),dl.length===1&&document.body.addEventListener("focusin",pB))}function Px(t){const e=dl.indexOf(t);e!==-1&&(dl.splice(e,1),dl.length===0&&document.body.removeEventListener("focusin",pB))}let t1=0;const iae={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},VD={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},vB=Zt({name:"QDialog",inheritAttrs:!1,props:{...nm,...DS,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:t=>["standard","top","bottom","left","right"].includes(t)}},emits:[...rm,"shake","click","escapeKey"],setup(t,{slots:e,emit:n,attrs:i}){const s=tn(),l=pt(null),f=pt(!1),h=pt(!1);let p=null,m=null,g,b;const S=xe(()=>t.persistent!==!0&&t.noRouteDismiss!==!0&&t.seamless!==!0),{preventBodyScroll:w}=cB(),{registerTimeout:C}=au(),{registerTick:M,removeTick:T}=Md(),{transitionProps:D,transitionStyle:R}=tB(t,()=>VD[t.position][0],()=>VD[t.position][1]),q=xe(()=>R.value+(t.backdropFilter!==void 0?`;backdrop-filter:${t.backdropFilter};-webkit-backdrop-filter:${t.backdropFilter}`:"")),{showPortal:Y,hidePortal:K,portalIsAccessible:ce,renderPortal:te}=iB(s,l,Ft,"dialog"),{hide:ee}=im({showing:f,hideOnRouteChange:S,handleShow:Te,handleHide:Le,processOnMount:!0}),{addToHistory:he,removeFromHistory:be}=JR(f,ee,S),Fe=xe(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${t.maximized===!0?"maximized":"minimized"} q-dialog__inner--${t.position} ${iae[t.position]}`+(h.value===!0?" q-dialog__inner--animating":"")+(t.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(t.fullHeight===!0?" q-dialog__inner--fullheight":"")+(t.square===!0?" q-dialog__inner--square":"")),oe=xe(()=>f.value===!0&&t.seamless!==!0),Se=xe(()=>t.autoClose===!0?{onClick:Qe}:{}),fe=xe(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${oe.value===!0?"modal":"seamless"}`,i.class]);qt(()=>t.maximized,Ze=>{f.value===!0&&lt(Ze)}),qt(oe,Ze=>{w(Ze),Ze===!0?(gB(Ct),dB(Je)):(Px(Ct),sv(Je))});function Te(Ze){he(),m=t.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,lt(t.maximized),Y(),h.value=!0,t.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),M(Pe)):T(),C(()=>{if(s.proxy.$q.platform.is.ios===!0){if(t.seamless!==!0&&document.activeElement){const{top:Pt,bottom:Lt}=document.activeElement.getBoundingClientRect(),{innerHeight:at}=window,Et=window.visualViewport!==void 0?window.visualViewport.height:at;Pt>0&&Lt>Et/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Et,Lt>=at?1/0:Math.ceil(document.scrollingElement.scrollTop+Lt-Et/2))),document.activeElement.scrollIntoView()}b=!0,l.value.click(),b=!1}Y(!0),h.value=!1,n("show",Ze)},t.transitionDuration)}function Le(Ze){T(),be(),tt(!0),h.value=!0,K(),m!==null&&(((Ze&&Ze.type.indexOf("key")===0?m.closest('[tabindex]:not([tabindex^="-"])'):void 0)||m).focus(),m=null),C(()=>{K(!0),h.value=!1,n("hide",Ze)},t.transitionDuration)}function Pe(Ze){E0(()=>{let Pt=l.value;if(Pt!==null){if(Ze!==void 0){const Lt=Pt.querySelector(Ze);if(Lt!==null){Lt.focus({preventScroll:!0});return}}Pt.contains(document.activeElement)!==!0&&(Pt=Pt.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||Pt.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||Pt.querySelector("[autofocus], [data-autofocus]")||Pt,Pt.focus({preventScroll:!0}))}})}function ze(Ze){Ze&&typeof Ze.focus=="function"?Ze.focus({preventScroll:!0}):Pe(),n("shake");const Pt=l.value;Pt!==null&&(Pt.classList.remove("q-animate--scale"),Pt.classList.add("q-animate--scale"),p!==null&&clearTimeout(p),p=setTimeout(()=>{p=null,l.value!==null&&(Pt.classList.remove("q-animate--scale"),Pe())},170))}function Je(){t.seamless!==!0&&(t.persistent===!0||t.noEscDismiss===!0?t.maximized!==!0&&t.noShake!==!0&&ze():(n("escapeKey"),ee()))}function tt(Ze){p!==null&&(clearTimeout(p),p=null),(Ze===!0||f.value===!0)&&(lt(!1),t.seamless!==!0&&(w(!1),Px(Ct),sv(Je))),Ze!==!0&&(m=null)}function lt(Ze){Ze===!0?g!==!0&&(t1<1&&document.body.classList.add("q-body--dialog"),t1++,g=!0):g===!0&&(t1<2&&document.body.classList.remove("q-body--dialog"),t1--,g=!1)}function Qe(Ze){b!==!0&&(ee(Ze),n("click",Ze))}function mt(Ze){t.persistent!==!0&&t.noBackdropDismiss!==!0?ee(Ze):t.noShake!==!0&&ze()}function Ct(Ze){t.allowFocusOutside!==!0&&ce.value===!0&&oB(l.value,Ze.target)!==!0&&Pe('[tabindex]:not([tabindex="-1"])')}Object.assign(s.proxy,{focus:Pe,shake:ze,__updateRefocusTarget(Ze){m=Ze||null}}),or(tt);function Ft(){return Be("div",{role:"dialog","aria-modal":oe.value===!0?"true":"false",...i,class:fe.value},[Be(Ca,{name:"q-transition--fade",appear:!0},()=>oe.value===!0?Be("div",{class:"q-dialog__backdrop fixed-full",style:q.value,"aria-hidden":"true",tabindex:-1,onClick:mt}):null),Be(Ca,D.value,()=>f.value===!0?Be("div",{ref:l,class:Fe.value,style:R.value,tabindex:-1,...Se.value},Dn(e.default)):null)])}return te}}),Rx={xs:18,sm:24,md:32,lg:38,xl:46},Yf={size:String};function Xf(t,e=Rx){return xe(()=>t.size!==void 0?{fontSize:t.size in e?`${e[t.size]}px`:t.size}:null)}const WD="0 0 24 24",YD=t=>t,gw=t=>`ionicons ${t}`,mB={"mdi-":t=>`mdi ${t}`,"icon-":YD,"bt-":t=>`bt ${t}`,"eva-":t=>`eva ${t}`,"ion-md":gw,"ion-ios":gw,"ion-logo":gw,"iconfont ":YD,"ti-":t=>`themify-icon ${t}`,"bi-":t=>`bootstrap-icons ${t}`},yB={o_:"-outlined",r_:"-round",s_:"-sharp"},_B={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},oae=new RegExp("^("+Object.keys(mB).join("|")+")"),aae=new RegExp("^("+Object.keys(yB).join("|")+")"),XD=new RegExp("^("+Object.keys(_B).join("|")+")"),sae=/^[Mm]\s?[-+]?\.?\d/,uae=/^img:/,lae=/^svguse:/,cae=/^ion-/,fae=/^(fa-(classic|sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /,Xr=Zt({name:"QIcon",props:{...Yf,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=tn(),i=Xf(t),s=xe(()=>"q-icon"+(t.left===!0?" on-left":"")+(t.right===!0?" on-right":"")+(t.color!==void 0?` text-${t.color}`:"")),l=xe(()=>{let f,h=t.name;if(h==="none"||!h)return{none:!0};if(n.iconMapFn!==null){const g=n.iconMapFn(h);if(g!==void 0)if(g.icon!==void 0){if(h=g.icon,h==="none"||!h)return{none:!0}}else return{cls:g.cls,content:g.content!==void 0?g.content:" "}}if(sae.test(h)===!0){const[g,b=WD]=h.split("|");return{svg:!0,viewBox:b,nodes:g.split("&&").map(S=>{const[w,C,M]=S.split("@@");return Be("path",{style:C,d:w,transform:M})})}}if(uae.test(h)===!0)return{img:!0,src:h.substring(4)};if(lae.test(h)===!0){const[g,b=WD]=h.split("|");return{svguse:!0,src:g.substring(7),viewBox:b}}let p=" ";const m=h.match(oae);if(m!==null)f=mB[m[1]](h);else if(fae.test(h)===!0)f=h;else if(cae.test(h)===!0)f=`ionicons ion-${n.platform.is.ios===!0?"ios":"md"}${h.substring(3)}`;else if(XD.test(h)===!0){f="notranslate material-symbols";const g=h.match(XD);g!==null&&(h=h.substring(6),f+=_B[g[1]]),p=h}else{f="notranslate material-icons";const g=h.match(aae);g!==null&&(h=h.substring(2),f+=yB[g[1]]),p=h}return{cls:f,content:p}});return()=>{const f={class:s.value,style:i.value,"aria-hidden":"true",role:"presentation"};return l.value.none===!0?Be(t.tag,f,Dn(e.default)):l.value.img===!0?Be(t.tag,f,fa(e.default,[Be("img",{src:l.value.src})])):l.value.svg===!0?Be(t.tag,f,fa(e.default,[Be("svg",{viewBox:l.value.viewBox||"0 0 24 24"},l.value.nodes)])):l.value.svguse===!0?Be(t.tag,f,fa(e.default,[Be("svg",{viewBox:l.value.viewBox},[Be("use",{"xlink:href":l.value.src})])])):(l.value.cls!==void 0&&(f.class+=" "+l.value.cls),Be(t.tag,f,fa(e.default,[l.value.content])))}}}),hae={size:{type:[String,Number],default:"1em"},color:String};function dae(t){return{cSize:xe(()=>t.size in Rx?`${Rx[t.size]}px`:t.size),classes:xe(()=>"q-spinner"+(t.color?` text-${t.color}`:""))}}const Ga=Zt({name:"QSpinner",props:{...hae,thickness:{type:Number,default:5}},setup(t){const{cSize:e,classes:n}=dae(t);return()=>Be("svg",{class:n.value+" q-spinner-mat",width:e.value,height:e.value,viewBox:"25 25 50 50"},[Be("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":t.thickness,"stroke-miterlimit":"10"})])}});function pae(t,e=250){let n=!1,i;return function(){return n===!1&&(n=!0,setTimeout(()=>{n=!1},e),i=t.apply(this,arguments)),i}}function KD(t,e,n,i){n.modifiers.stop===!0&&va(t);const s=n.modifiers.color;let l=n.modifiers.center;l=l===!0||i===!0;const f=document.createElement("span"),h=document.createElement("span"),p=ou(t),{left:m,top:g,width:b,height:S}=e.getBoundingClientRect(),w=Math.sqrt(b*b+S*S),C=w/2,M=`${(b-w)/2}px`,T=l?M:`${p.left-m-C}px`,D=`${(S-w)/2}px`,R=l?D:`${p.top-g-C}px`;h.className="q-ripple__inner",Ix(h,{height:`${w}px`,width:`${w}px`,transform:`translate3d(${T},${R},0) scale3d(.2,.2,1)`,opacity:0}),f.className=`q-ripple${s?" text-"+s:""}`,f.setAttribute("dir","ltr"),f.appendChild(h),e.appendChild(f);const q=()=>{f.remove(),clearTimeout(Y)};n.abort.push(q);let Y=setTimeout(()=>{h.classList.add("q-ripple__inner--enter"),h.style.transform=`translate3d(${M},${D},0) scale3d(1,1,1)`,h.style.opacity=.2,Y=setTimeout(()=>{h.classList.remove("q-ripple__inner--enter"),h.classList.add("q-ripple__inner--leave"),h.style.opacity=0,Y=setTimeout(()=>{f.remove(),n.abort.splice(n.abort.indexOf(q),1)},275)},250)},50)}function ZD(t,{modifiers:e,value:n,arg:i}){const s=Object.assign({},t.cfg.ripple,e,n);t.modifiers={early:s.early===!0,stop:s.stop===!0,center:s.center===!0,color:s.color||i,keyCodes:[].concat(s.keyCodes||13)}}const bB=w0({name:"ripple",beforeMount(t,e){const n=e.instance.$.appContext.config.globalProperties.$q.config||{};if(n.ripple===!1)return;const i={cfg:n,enabled:e.value!==!1,modifiers:{},abort:[],start(s){i.enabled===!0&&s.qSkipRipple!==!0&&s.type===(i.modifiers.early===!0?"pointerdown":"click")&&KD(s,t,i,s.qKeyEvent===!0)},keystart:pae(s=>{i.enabled===!0&&s.qSkipRipple!==!0&&Ua(s,i.modifiers.keyCodes)===!0&&s.type===`key${i.modifiers.early===!0?"down":"up"}`&&KD(s,t,i,!0)},300)};ZD(i,e),t.__qripple=i,zo(i,"main",[[t,"pointerdown","start","passive"],[t,"click","start","passive"],[t,"keydown","keystart","passive"],[t,"keyup","keystart","passive"]])},updated(t,e){if(e.oldValue!==e.value){const n=t.__qripple;n!==void 0&&(n.enabled=e.value!==!1,n.enabled===!0&&Object(e.value)===e.value&&ZD(n,e))}},beforeUnmount(t){const e=t.__qripple;e!==void 0&&(e.abort.forEach(n=>{n()}),tu(e,"main"),delete t._qripple)}}),wB={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},gae=Object.keys(wB),xB={align:{type:String,validator:t=>gae.includes(t)}};function SB(t){return xe(()=>{const e=t.align===void 0?t.vertical===!0?"stretch":"left":t.align;return`${t.vertical===!0?"items":"justify"}-${wB[e]}`})}function JD(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}function QD(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function vae(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(Array.isArray(s)===!1||s.length!==i.length||i.some((l,f)=>l!==s[f]))return!1}return!0}function eT(t,e){return Array.isArray(e)===!0?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function mae(t,e){return Array.isArray(t)===!0?eT(t,e):Array.isArray(e)===!0?eT(e,t):t===e}function yae(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(mae(t[n],e[n])===!1)return!1;return!0}const CB={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},BS={...CB,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function EB({fallbackTag:t,useDisableForRouterLinkProps:e=!0}={}){const n=tn(),{props:i,proxy:s,emit:l}=n,f=eB(n),h=xe(()=>i.disable!==!0&&i.href!==void 0),p=e===!0?xe(()=>f===!0&&i.disable!==!0&&h.value!==!0&&i.to!==void 0&&i.to!==null&&i.to!==""):xe(()=>f===!0&&h.value!==!0&&i.to!==void 0&&i.to!==null&&i.to!==""),m=xe(()=>p.value===!0?R(i.to):null),g=xe(()=>m.value!==null),b=xe(()=>h.value===!0||g.value===!0),S=xe(()=>i.type==="a"||b.value===!0?"a":i.tag||t||"div"),w=xe(()=>h.value===!0?{href:i.href,target:i.target}:g.value===!0?{href:m.value.href,target:i.target}:{}),C=xe(()=>{if(g.value===!1)return-1;const{matched:K}=m.value,{length:ce}=K,te=K[ce-1];if(te===void 0)return-1;const ee=s.$route.matched;if(ee.length===0)return-1;const he=ee.findIndex(QD.bind(null,te));if(he!==-1)return he;const be=JD(K[ce-2]);return ce>1&&JD(te)===be&&ee[ee.length-1].path!==be?ee.findIndex(QD.bind(null,K[ce-2])):he}),M=xe(()=>g.value===!0&&C.value!==-1&&vae(s.$route.params,m.value.params)),T=xe(()=>M.value===!0&&C.value===s.$route.matched.length-1&&yae(s.$route.params,m.value.params)),D=xe(()=>g.value===!0?T.value===!0?` ${i.exactActiveClass} ${i.activeClass}`:i.exact===!0?"":M.value===!0?` ${i.activeClass}`:"":"");function R(K){try{return s.$router.resolve(K)}catch{}return null}function q(K,{returnRouterError:ce,to:te=i.to,replace:ee=i.replace}={}){if(i.disable===!0)return K.preventDefault(),Promise.resolve(!1);if(K.metaKey||K.altKey||K.ctrlKey||K.shiftKey||K.button!==void 0&&K.button!==0||i.target==="_blank")return Promise.resolve(!1);K.preventDefault();const he=s.$router[ee===!0?"replace":"push"](te);return ce===!0?he:he.then(()=>{}).catch(()=>{})}function Y(K){if(g.value===!0){const ce=te=>q(K,te);l("click",K,ce),K.defaultPrevented!==!0&&ce()}else l("click",K)}return{hasRouterLink:g,hasHrefLink:h,hasLink:b,linkTag:S,resolvedLink:m,linkIsActive:M,linkIsExactActive:T,linkClass:D,linkAttrs:w,getLink:R,navigateToRouterLink:q,navigateOnClick:Y}}const tT={none:0,xs:4,sm:8,md:16,lg:24,xl:32},_ae={xs:8,sm:10,md:14,lg:20,xl:24},bae=["button","submit","reset"],wae=/[^\s]\/[^\s]/,xae=["flat","outline","push","unelevated"];function AB(t,e){return t.flat===!0?"flat":t.outline===!0?"outline":t.push===!0?"push":t.unelevated===!0?"unelevated":e}function Sae(t){const e=AB(t);return e!==void 0?{[e]:!0}:{}}const OS={...Yf,...CB,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...xae.reduce((t,e)=>(t[e]=Boolean)&&t,{}),square:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...xB.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean},Cae={...OS,round:Boolean};function Eae(t){const e=Xf(t,_ae),n=SB(t),{hasRouterLink:i,hasLink:s,linkTag:l,linkAttrs:f,navigateOnClick:h}=EB({fallbackTag:"button"}),p=xe(()=>{const T=t.fab===!1&&t.fabMini===!1?e.value:{};return t.padding!==void 0?Object.assign({},T,{padding:t.padding.split(/\s+/).map(D=>D in tT?tT[D]+"px":D).join(" "),minWidth:"0",minHeight:"0"}):T}),m=xe(()=>t.rounded===!0||t.fab===!0||t.fabMini===!0),g=xe(()=>t.disable!==!0&&t.loading!==!0),b=xe(()=>g.value===!0?t.tabindex||0:-1),S=xe(()=>AB(t,"standard")),w=xe(()=>{const T={tabindex:b.value};return s.value===!0?Object.assign(T,f.value):bae.includes(t.type)===!0&&(T.type=t.type),l.value==="a"?(t.disable===!0?T["aria-disabled"]="true":T.href===void 0&&(T.role="button"),i.value!==!0&&wae.test(t.type)===!0&&(T.type=t.type)):t.disable===!0&&(T.disabled="",T["aria-disabled"]="true"),t.loading===!0&&t.percentage!==void 0&&Object.assign(T,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":t.percentage}),T}),C=xe(()=>{let T;t.color!==void 0?t.flat===!0||t.outline===!0?T=`text-${t.textColor||t.color}`:T=`bg-${t.color} text-${t.textColor||"white"}`:t.textColor&&(T=`text-${t.textColor}`);const D=t.round===!0?"round":`rectangle${m.value===!0?" q-btn--rounded":t.square===!0?" q-btn--square":""}`;return`q-btn--${S.value} q-btn--${D}`+(T!==void 0?" "+T:"")+(g.value===!0?" q-btn--actionable q-focusable q-hoverable":t.disable===!0?" disabled":"")+(t.fab===!0?" q-btn--fab":t.fabMini===!0?" q-btn--fab-mini":"")+(t.noCaps===!0?" q-btn--no-uppercase":"")+(t.dense===!0?" q-btn--dense":"")+(t.stretch===!0?" no-border-radius self-stretch":"")+(t.glossy===!0?" glossy":"")+(t.square?" q-btn--square":"")}),M=xe(()=>n.value+(t.stack===!0?" column":" row")+(t.noWrap===!0?" no-wrap text-no-wrap":"")+(t.loading===!0?" q-btn__content--hidden":""));return{classes:C,style:p,innerClasses:M,attributes:w,hasLink:s,linkTag:l,navigateOnClick:h,isActionable:g}}const{passiveCapture:vo}=wr;let Vc=null,Wc=null,Yc=null;const nu=Zt({name:"QBtn",props:{...Cae,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(t,{slots:e,emit:n}){const{proxy:i}=tn(),{classes:s,style:l,innerClasses:f,attributes:h,hasLink:p,linkTag:m,navigateOnClick:g,isActionable:b}=Eae(t),S=pt(null),w=pt(null);let C=null,M,T=null;const D=xe(()=>t.label!==void 0&&t.label!==null&&t.label!==""),R=xe(()=>t.disable===!0||t.ripple===!1?!1:{keyCodes:p.value===!0?[13,32]:[13],...t.ripple===!0?{}:t.ripple}),q=xe(()=>({center:t.round})),Y=xe(()=>{const fe=Math.max(0,Math.min(100,t.percentage));return fe>0?{transition:"transform 0.6s",transform:`translateX(${fe-100}%)`}:{}}),K=xe(()=>{if(t.loading===!0)return{onMousedown:Se,onTouchstart:Se,onClick:Se,onKeydown:Se,onKeyup:Se};if(b.value===!0){const fe={onClick:te,onKeydown:ee,onMousedown:be};if(i.$q.platform.has.touch===!0){const Te=t.onTouchstart!==void 0?"":"Passive";fe[`onTouchstart${Te}`]=he}return fe}return{onClick:Wn}}),ce=xe(()=>({ref:S,class:"q-btn q-btn-item non-selectable no-outline "+s.value,style:l.value,...h.value,...K.value}));function te(fe){if(S.value!==null){if(fe!==void 0){if(fe.defaultPrevented===!0)return;const Te=document.activeElement;if(t.type==="submit"&&Te!==document.body&&S.value.contains(Te)===!1&&Te.contains(S.value)===!1){S.value.focus();const Le=()=>{document.removeEventListener("keydown",Wn,!0),document.removeEventListener("keyup",Le,vo),S.value!==null&&S.value.removeEventListener("blur",Le,vo)};document.addEventListener("keydown",Wn,!0),document.addEventListener("keyup",Le,vo),S.value.addEventListener("blur",Le,vo)}}g(fe)}}function ee(fe){S.value!==null&&(n("keydown",fe),Ua(fe,[13,32])===!0&&Wc!==S.value&&(Wc!==null&&oe(),fe.defaultPrevented!==!0&&(S.value.focus(),Wc=S.value,S.value.classList.add("q-btn--active"),document.addEventListener("keyup",Fe,!0),S.value.addEventListener("blur",Fe,vo)),Wn(fe)))}function he(fe){S.value!==null&&(n("touchstart",fe),fe.defaultPrevented!==!0&&(Vc!==S.value&&(Vc!==null&&oe(),Vc=S.value,C=fe.target,C.addEventListener("touchcancel",Fe,vo),C.addEventListener("touchend",Fe,vo)),M=!0,T!==null&&clearTimeout(T),T=setTimeout(()=>{T=null,M=!1},200)))}function be(fe){S.value!==null&&(fe.qSkipRipple=M===!0,n("mousedown",fe),fe.defaultPrevented!==!0&&Yc!==S.value&&(Yc!==null&&oe(),Yc=S.value,S.value.classList.add("q-btn--active"),document.addEventListener("mouseup",Fe,vo)))}function Fe(fe){if(S.value!==null&&!(fe!==void 0&&fe.type==="blur"&&document.activeElement===S.value)){if(fe!==void 0&&fe.type==="keyup"){if(Wc===S.value&&Ua(fe,[13,32])===!0){const Te=new MouseEvent("click",fe);Te.qKeyEvent=!0,fe.defaultPrevented===!0&&yo(Te),fe.cancelBubble===!0&&va(Te),S.value.dispatchEvent(Te),Wn(fe),fe.qKeyEvent=!0}n("keyup",fe)}oe()}}function oe(fe){const Te=w.value;fe!==!0&&(Vc===S.value||Yc===S.value)&&Te!==null&&Te!==document.activeElement&&(Te.setAttribute("tabindex",-1),Te.focus()),Vc===S.value&&(C!==null&&(C.removeEventListener("touchcancel",Fe,vo),C.removeEventListener("touchend",Fe,vo)),Vc=C=null),Yc===S.value&&(document.removeEventListener("mouseup",Fe,vo),Yc=null),Wc===S.value&&(document.removeEventListener("keyup",Fe,!0),S.value!==null&&S.value.removeEventListener("blur",Fe,vo),Wc=null),S.value!==null&&S.value.classList.remove("q-btn--active")}function Se(fe){Wn(fe),fe.qSkipRipple=!0}return or(()=>{oe(!0)}),Object.assign(i,{click:fe=>{b.value===!0&&te(fe)}}),()=>{let fe=[];t.icon!==void 0&&fe.push(Be(Xr,{name:t.icon,left:t.stack!==!0&&D.value===!0,role:"img"})),D.value===!0&&fe.push(Be("span",{class:"block"},[t.label])),fe=fa(e.default,fe),t.iconRight!==void 0&&t.round===!1&&fe.push(Be(Xr,{name:t.iconRight,right:t.stack!==!0&&D.value===!0,role:"img"}));const Te=[Be("span",{class:"q-focus-helper",ref:w})];return t.loading===!0&&t.percentage!==void 0&&Te.push(Be("span",{class:"q-btn__progress absolute-full overflow-hidden"+(t.darkPercentage===!0?" q-btn__progress--dark":"")},[Be("span",{class:"q-btn__progress-indicator fit block",style:Y.value})])),Te.push(Be("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+f.value},fe)),t.loading!==null&&Te.push(Be(Ca,{name:"q-transition--fade"},()=>t.loading===!0?[Be("span",{key:"loading",class:"absolute-full flex flex-center"},e.loading!==void 0?e.loading():[Be(Ga)])]:null)),bl(Be(m.value,ce.value,Te),[[bB,R.value,void 0,q.value]])}}}),hi={dark:{type:Boolean,default:null}};function di(t,e){return xe(()=>t.dark===null?e.dark.isActive:t.dark)}const Aae=Zt({name:"QCard",props:{...hi,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=tn(),i=di(t,n),s=xe(()=>"q-card"+(i.value===!0?" q-card--dark q-dark":"")+(t.bordered===!0?" q-card--bordered":"")+(t.square===!0?" q-card--square no-border-radius":"")+(t.flat===!0?" q-card--flat no-shadow":""));return()=>Be(t.tag,{class:s.value},Dn(e.default))}}),id=Zt({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(t,{slots:e}){const n=xe(()=>`q-card__section q-card__section--${t.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>Be(t.tag,{class:n.value},Dn(e.default))}}),kae=Zt({name:"QCardActions",props:{...xB,vertical:Boolean},setup(t,{slots:e}){const n=SB(t),i=xe(()=>`q-card__actions ${n.value} q-card__actions--${t.vertical===!0?"vert column":"horiz row"}`);return()=>Be("div",{class:i.value},Dn(e.default))}}),Fae={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},vw={xs:2,sm:4,md:8,lg:16,xl:24},uv=Zt({name:"QSeparator",props:{...hi,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(t){const e=tn(),n=di(t,e.proxy.$q),i=xe(()=>t.vertical===!0?"vertical":"horizontal"),s=xe(()=>` q-separator--${i.value}`),l=xe(()=>t.inset!==!1?`${s.value}-${Fae[t.inset]}`:""),f=xe(()=>`q-separator${s.value}${l.value}`+(t.color!==void 0?` bg-${t.color}`:"")+(n.value===!0?" q-separator--dark":"")),h=xe(()=>{const p={};if(t.size!==void 0&&(p[t.vertical===!0?"width":"height"]=t.size),t.spaced!==!1){const m=t.spaced===!0?`${vw.md}px`:t.spaced in vw?`${vw[t.spaced]}px`:t.spaced,g=t.vertical===!0?["Left","Right"]:["Top","Bottom"];p[`margin${g[0]}`]=p[`margin${g[1]}`]=m}return p});return()=>Be("hr",{class:f.value,style:h.value,"aria-orientation":i.value})}});let mw,n1=0;const Hr=new Array(256);for(let t=0;t<256;t++)Hr[t]=(t+256).toString(16).substring(1);const Iae=(()=>{const t=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(t!==void 0){if(t.randomBytes!==void 0)return t.randomBytes;if(t.getRandomValues!==void 0)return e=>{const n=new Uint8Array(e);return t.getRandomValues(n),n}}return e=>{const n=[];for(let i=e;i>0;i--)n.push(Math.floor(Math.random()*256));return n}})(),nT=4096;function lv(){(mw===void 0||n1+16>nT)&&(n1=0,mw=Iae(nT));const t=Array.prototype.slice.call(mw,n1,n1+=16);return t[6]=t[6]&15|64,t[8]=t[8]&63|128,Hr[t[0]]+Hr[t[1]]+Hr[t[2]]+Hr[t[3]]+"-"+Hr[t[4]]+Hr[t[5]]+"-"+Hr[t[6]]+Hr[t[7]]+"-"+Hr[t[8]]+Hr[t[9]]+"-"+Hr[t[10]]+Hr[t[11]]+Hr[t[12]]+Hr[t[13]]+Hr[t[14]]+Hr[t[15]]}function Mae(t){return t??null}function rT(t,e){return t??(e===!0?`f_${lv()}`:null)}function LS({getValue:t,required:e=!0}={}){if(ro.value===!0){const n=t!==void 0?pt(Mae(t())):pt(null);return e===!0&&n.value===null&&ci(()=>{n.value=`f_${lv()}`}),t!==void 0&&qt(t,i=>{n.value=rT(i,e)}),n}return t!==void 0?xe(()=>rT(t(),e)):pt(`f_${lv()}`)}const iT=/^on[A-Z]/;function Dae(){const{attrs:t,vnode:e}=tn(),n={listeners:pt({}),attributes:pt({})};function i(){const s={},l={};for(const f in t)f!=="class"&&f!=="style"&&iT.test(f)===!1&&(s[f]=t[f]);for(const f in e.props)iT.test(f)===!0&&(l[f]=e.props[f]);n.attributes.value=s,n.listeners.value=l}return wre(i),i(),n}function Tae({validate:t,resetValidation:e,requiresQForm:n}){const i=$a(yR,!1);if(i!==!1){const{props:s,proxy:l}=tn();Object.assign(l,{validate:t,resetValidation:e}),qt(()=>s.disable,f=>{f===!0?(typeof e=="function"&&e(),i.unbindComponent(l)):i.bindComponent(l)}),ci(()=>{s.disable!==!0&&i.bindComponent(l)}),or(()=>{s.disable!==!0&&i.unbindComponent(l)})}}const oT=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,aT=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,sT=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,r1=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,i1=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,yw={date:t=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t),time:t=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(t),fulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(t),timeOrFulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(t),email:t=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),hexColor:t=>oT.test(t),hexaColor:t=>aT.test(t),hexOrHexaColor:t=>sT.test(t),rgbColor:t=>r1.test(t),rgbaColor:t=>i1.test(t),rgbOrRgbaColor:t=>r1.test(t)||i1.test(t),hexOrRgbColor:t=>oT.test(t)||r1.test(t),hexaOrRgbaColor:t=>aT.test(t)||i1.test(t),anyColor:t=>sT.test(t)||r1.test(t)||i1.test(t)},Pae=[!0,!1,"ondemand"],Rae={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:t=>Pae.includes(t)}};function Bae(t,e){const{props:n,proxy:i}=tn(),s=pt(!1),l=pt(null),f=pt(!1);Tae({validate:M,resetValidation:C});let h=0,p;const m=xe(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),g=xe(()=>n.disable!==!0&&m.value===!0&&e.value===!1),b=xe(()=>n.error===!0||s.value===!0),S=xe(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:l.value);qt(()=>n.modelValue,()=>{f.value=!0,g.value===!0&&n.lazyRules===!1&&T()});function w(){n.lazyRules!=="ondemand"&&g.value===!0&&f.value===!0&&T()}qt(()=>n.reactiveRules,D=>{D===!0?p===void 0&&(p=qt(()=>n.rules,w,{immediate:!0,deep:!0})):p!==void 0&&(p(),p=void 0)},{immediate:!0}),qt(()=>n.lazyRules,w),qt(t,D=>{D===!0?f.value=!0:g.value===!0&&n.lazyRules!=="ondemand"&&T()});function C(){h++,e.value=!1,f.value=!1,s.value=!1,l.value=null,T.cancel()}function M(D=n.modelValue){if(n.disable===!0||m.value===!1)return!0;const R=++h,q=e.value!==!0?()=>{f.value=!0}:()=>{},Y=(ce,te)=>{ce===!0&&q(),s.value=ce,l.value=te||null,e.value=!1},K=[];for(let ce=0;ce<n.rules.length;ce++){const te=n.rules[ce];let ee;if(typeof te=="function"?ee=te(D,yw):typeof te=="string"&&yw[te]!==void 0&&(ee=yw[te](D)),ee===!1||typeof ee=="string")return Y(!0,ee),!1;ee!==!0&&ee!==void 0&&K.push(ee)}return K.length===0?(Y(!1),!0):(e.value=!0,Promise.all(K).then(ce=>{if(ce===void 0||Array.isArray(ce)===!1||ce.length===0)return R===h&&Y(!1),!0;const te=ce.find(ee=>ee===!1||typeof ee=="string");return R===h&&Y(te!==void 0,te),te===void 0},ce=>(R===h&&Y(!0),!1)))}const T=dS(M,0);return or(()=>{p!==void 0&&p(),T.cancel()}),Object.assign(i,{resetValidation:C,validate:M}),Wa(i,"hasError",()=>b.value),{isDirtyModel:f,hasRules:m,hasError:b,errorMessage:S,validate:M,resetValidation:C}}function Bx(t){return t!=null&&(""+t).length!==0}const Oae={...hi,...Rae,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},Lae={...Oae,maxlength:[Number,String]},zae=["update:modelValue","clear","focus","blur"];function Nae({requiredForAttr:t=!0,tagProp:e,changeEvent:n=!1}={}){const{props:i,proxy:s}=tn(),l=di(i,s.$q),f=LS({required:t,getValue:()=>i.for});return{requiredForAttr:t,changeEvent:n,tag:e===!0?xe(()=>i.tag):{value:"label"},isDark:l,editable:xe(()=>i.disable!==!0&&i.readonly!==!0),innerLoading:pt(!1),focused:pt(!1),hasPopupOpen:!1,splitAttrs:Dae(),targetUid:f,rootRef:pt(null),targetRef:pt(null),controlRef:pt(null)}}function jae(t){const{props:e,emit:n,slots:i,attrs:s,proxy:l}=tn(),{$q:f}=l;let h=null;t.hasValue===void 0&&(t.hasValue=xe(()=>Bx(e.modelValue))),t.emitValue===void 0&&(t.emitValue=ze=>{n("update:modelValue",ze)}),t.controlEvents===void 0&&(t.controlEvents={onFocusin:he,onFocusout:be}),Object.assign(t,{clearValue:Fe,onControlFocusin:he,onControlFocusout:be,focus:te}),t.computedCounter===void 0&&(t.computedCounter=xe(()=>{if(e.counter!==!1){const ze=typeof e.modelValue=="string"||typeof e.modelValue=="number"?(""+e.modelValue).length:Array.isArray(e.modelValue)===!0?e.modelValue.length:0,Je=e.maxlength!==void 0?e.maxlength:e.maxValues;return ze+(Je!==void 0?" / "+Je:"")}}));const{isDirtyModel:p,hasRules:m,hasError:g,errorMessage:b,resetValidation:S}=Bae(t.focused,t.innerLoading),w=t.floatingLabel!==void 0?xe(()=>e.stackLabel===!0||t.focused.value===!0||t.floatingLabel.value===!0):xe(()=>e.stackLabel===!0||t.focused.value===!0||t.hasValue.value===!0),C=xe(()=>e.bottomSlots===!0||e.hint!==void 0||m.value===!0||e.counter===!0||e.error!==null),M=xe(()=>e.filled===!0?"filled":e.outlined===!0?"outlined":e.borderless===!0?"borderless":e.standout?"standout":"standard"),T=xe(()=>`q-field row no-wrap items-start q-field--${M.value}`+(t.fieldClass!==void 0?` ${t.fieldClass.value}`:"")+(e.rounded===!0?" q-field--rounded":"")+(e.square===!0?" q-field--square":"")+(w.value===!0?" q-field--float":"")+(R.value===!0?" q-field--labeled":"")+(e.dense===!0?" q-field--dense":"")+(e.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(t.isDark.value===!0?" q-field--dark":"")+(t.getControl===void 0?" q-field--auto-height":"")+(t.focused.value===!0?" q-field--focused":"")+(g.value===!0?" q-field--error":"")+(g.value===!0||t.focused.value===!0?" q-field--highlighted":"")+(e.hideBottomSpace!==!0&&C.value===!0?" q-field--with-bottom":"")+(e.disable===!0?" q-field--disabled":e.readonly===!0?" q-field--readonly":"")),D=xe(()=>"q-field__control relative-position row no-wrap"+(e.bgColor!==void 0?` bg-${e.bgColor}`:"")+(g.value===!0?" text-negative":typeof e.standout=="string"&&e.standout.length!==0&&t.focused.value===!0?` ${e.standout}`:e.color!==void 0?` text-${e.color}`:"")),R=xe(()=>e.labelSlot===!0||e.label!==void 0),q=xe(()=>"q-field__label no-pointer-events absolute ellipsis"+(e.labelColor!==void 0&&g.value!==!0?` text-${e.labelColor}`:"")),Y=xe(()=>({id:t.targetUid.value,editable:t.editable.value,focused:t.focused.value,floatingLabel:w.value,modelValue:e.modelValue,emitValue:t.emitValue})),K=xe(()=>{const ze={};return t.targetUid.value&&(ze.for=t.targetUid.value),e.disable===!0&&(ze["aria-disabled"]="true"),ze});function ce(){const ze=document.activeElement;let Je=t.targetRef!==void 0&&t.targetRef.value;Je&&(ze===null||ze.id!==t.targetUid.value)&&(Je.hasAttribute("tabindex")===!0||(Je=Je.querySelector("[tabindex]")),Je&&Je!==ze&&Je.focus({preventScroll:!0}))}function te(){E0(ce)}function ee(){$oe(ce);const ze=document.activeElement;ze!==null&&t.rootRef.value.contains(ze)&&ze.blur()}function he(ze){h!==null&&(clearTimeout(h),h=null),t.editable.value===!0&&t.focused.value===!1&&(t.focused.value=!0,n("focus",ze))}function be(ze,Je){h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,!(document.hasFocus()===!0&&(t.hasPopupOpen===!0||t.controlRef===void 0||t.controlRef.value===null||t.controlRef.value.contains(document.activeElement)!==!1))&&(t.focused.value===!0&&(t.focused.value=!1,n("blur",ze)),Je!==void 0&&Je())})}function Fe(ze){Wn(ze),f.platform.is.mobile!==!0?(t.targetRef!==void 0&&t.targetRef.value||t.rootRef.value).focus():t.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),e.type==="file"&&(t.inputRef.value.value=null),n("update:modelValue",null),t.changeEvent===!0&&n("change",null),n("clear",e.modelValue),Mr(()=>{const Je=p.value;S(),p.value=Je})}function oe(ze){[13,32].includes(ze.keyCode)&&Fe(ze)}function Se(){const ze=[];return i.prepend!==void 0&&ze.push(Be("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:yo},i.prepend())),ze.push(Be("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},fe())),g.value===!0&&e.noErrorIcon===!1&&ze.push(Le("error",[Be(Xr,{name:f.iconSet.field.error,color:"negative"})])),e.loading===!0||t.innerLoading.value===!0?ze.push(Le("inner-loading-append",i.loading!==void 0?i.loading():[Be(Ga,{color:e.color})])):e.clearable===!0&&t.hasValue.value===!0&&t.editable.value===!0&&ze.push(Le("inner-clearable-append",[Be(Xr,{class:"q-field__focusable-action",name:e.clearIcon||f.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":f.lang.label.clear,onKeyup:oe,onClick:Fe})])),i.append!==void 0&&ze.push(Be("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:yo},i.append())),t.getInnerAppend!==void 0&&ze.push(Le("inner-append",t.getInnerAppend())),t.getControlChild!==void 0&&ze.push(t.getControlChild()),ze}function fe(){const ze=[];return e.prefix!==void 0&&e.prefix!==null&&ze.push(Be("div",{class:"q-field__prefix no-pointer-events row items-center"},e.prefix)),t.getShadowControl!==void 0&&t.hasShadow.value===!0&&ze.push(t.getShadowControl()),t.getControl!==void 0?ze.push(t.getControl()):i.rawControl!==void 0?ze.push(i.rawControl()):i.control!==void 0&&ze.push(Be("div",{ref:t.targetRef,class:"q-field__native row",tabindex:-1,...t.splitAttrs.attributes.value,"data-autofocus":e.autofocus===!0||void 0},i.control(Y.value))),R.value===!0&&ze.push(Be("div",{class:q.value},Dn(i.label,e.label))),e.suffix!==void 0&&e.suffix!==null&&ze.push(Be("div",{class:"q-field__suffix no-pointer-events row items-center"},e.suffix)),ze.concat(Dn(i.default))}function Te(){let ze,Je;g.value===!0?b.value!==null?(ze=[Be("div",{role:"alert"},b.value)],Je=`q--slot-error-${b.value}`):(ze=Dn(i.error),Je="q--slot-error"):(e.hideHint!==!0||t.focused.value===!0)&&(e.hint!==void 0?(ze=[Be("div",e.hint)],Je=`q--slot-hint-${e.hint}`):(ze=Dn(i.hint),Je="q--slot-hint"));const tt=e.counter===!0||i.counter!==void 0;if(e.hideBottomSpace===!0&&tt===!1&&ze===void 0)return;const lt=Be("div",{key:Je,class:"q-field__messages col"},ze);return Be("div",{class:"q-field__bottom row items-start q-field__bottom--"+(e.hideBottomSpace!==!0?"animated":"stale"),onClick:yo},[e.hideBottomSpace===!0?lt:Be(Ca,{name:"q-transition--field-message"},()=>lt),tt===!0?Be("div",{class:"q-field__counter"},i.counter!==void 0?i.counter():t.computedCounter.value):null])}function Le(ze,Je){return Je===null?null:Be("div",{key:ze,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},Je)}let Pe=!1;return Hf(()=>{Pe=!0}),Xv(()=>{Pe===!0&&e.autofocus===!0&&l.focus()}),e.autofocus===!0&&ci(()=>{l.focus()}),or(()=>{h!==null&&clearTimeout(h)}),Object.assign(l,{focus:te,blur:ee}),function(){const Je=t.getControl===void 0&&i.control===void 0?{...t.splitAttrs.attributes.value,"data-autofocus":e.autofocus===!0||void 0,...K.value}:K.value;return Be(t.tag.value,{ref:t.rootRef,class:[T.value,s.class],style:s.style,...Je},[i.before!==void 0?Be("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:yo},i.before()):null,Be("div",{class:"q-field__inner relative-position col self-stretch"},[Be("div",{ref:t.controlRef,class:D.value,tabindex:-1,...t.controlEvents},Se()),C.value===!0?Te():null]),i.after!==void 0?Be("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:yo},i.after()):null])}}const uT={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},cv={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleLowerCase()}},kB=Object.keys(cv);kB.forEach(t=>{cv[t].regex=new RegExp(cv[t].pattern)});const qae=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+kB.join("")+"])|(.)","g"),lT=/[.*+?^${}()|[\]\\]/g,_r="",$ae={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Uae(t,e,n,i){let s,l,f,h,p,m;const g=pt(null),b=pt(w());function S(){return t.autogrow===!0||["textarea","text","search","url","tel","password"].includes(t.type)}qt(()=>t.type+t.autogrow,M),qt(()=>t.mask,he=>{if(he!==void 0)T(b.value,!0);else{const be=te(b.value);M(),t.modelValue!==be&&e("update:modelValue",be)}}),qt(()=>t.fillMask+t.reverseFillMask,()=>{g.value===!0&&T(b.value,!0)}),qt(()=>t.unmaskedValue,()=>{g.value===!0&&T(b.value)});function w(){if(M(),g.value===!0){const he=K(te(t.modelValue));return t.fillMask!==!1?ee(he):he}return t.modelValue}function C(he){if(he<s.length)return s.slice(-he);let be="",Fe=s;const oe=Fe.indexOf(_r);if(oe!==-1){for(let Se=he-Fe.length;Se>0;Se--)be+=_r;Fe=Fe.slice(0,oe)+be+Fe.slice(oe)}return Fe}function M(){if(g.value=t.mask!==void 0&&t.mask.length!==0&&S(),g.value===!1){h=void 0,s="",l="";return}const he=uT[t.mask]===void 0?t.mask:uT[t.mask],be=typeof t.fillMask=="string"&&t.fillMask.length!==0?t.fillMask.slice(0,1):"_",Fe=be.replace(lT,"\\$&"),oe=[],Se=[],fe=[];let Te=t.reverseFillMask===!0,Le="",Pe="";he.replace(qae,(lt,Qe,mt,Ct,Ft)=>{if(Ct!==void 0){const Ze=cv[Ct];fe.push(Ze),Pe=Ze.negate,Te===!0&&(Se.push("(?:"+Pe+"+)?("+Ze.pattern+"+)?(?:"+Pe+"+)?("+Ze.pattern+"+)?"),Te=!1),Se.push("(?:"+Pe+"+)?("+Ze.pattern+")?")}else if(mt!==void 0)Le="\\"+(mt==="\\"?"":mt),fe.push(mt),oe.push("([^"+Le+"]+)?"+Le+"?");else{const Ze=Qe!==void 0?Qe:Ft;Le=Ze==="\\"?"\\\\\\\\":Ze.replace(lT,"\\\\$&"),fe.push(Ze),oe.push("([^"+Le+"]+)?"+Le+"?")}});const ze=new RegExp("^"+oe.join("")+"("+(Le===""?".":"[^"+Le+"]")+"+)?"+(Le===""?"":"["+Le+"]*")+"$"),Je=Se.length-1,tt=Se.map((lt,Qe)=>Qe===0&&t.reverseFillMask===!0?new RegExp("^"+Fe+"*"+lt):Qe===Je?new RegExp("^"+lt+"("+(Pe===""?".":Pe)+"+)?"+(t.reverseFillMask===!0?"$":Fe+"*")):new RegExp("^"+lt));f=fe,h=lt=>{const Qe=ze.exec(t.reverseFillMask===!0?lt:lt.slice(0,fe.length+1));Qe!==null&&(lt=Qe.slice(1).join(""));const mt=[],Ct=tt.length;for(let Ft=0,Ze=lt;Ft<Ct;Ft++){const Pt=tt[Ft].exec(Ze);if(Pt===null)break;Ze=Ze.slice(Pt.shift().length),mt.push(...Pt)}return mt.length!==0?mt.join(""):lt},s=fe.map(lt=>typeof lt=="string"?lt:_r).join(""),l=s.split(_r).join(be)}function T(he,be,Fe){const oe=i.value,Se=oe.selectionEnd,fe=oe.value.length-Se,Te=te(he);be===!0&&M();const Le=K(Te),Pe=t.fillMask!==!1?ee(Le):Le,ze=b.value!==Pe;oe.value!==Pe&&(oe.value=Pe),ze===!0&&(b.value=Pe),document.activeElement===oe&&Mr(()=>{if(Pe===l){const tt=t.reverseFillMask===!0?l.length:0;oe.setSelectionRange(tt,tt,"forward");return}if(Fe==="insertFromPaste"&&t.reverseFillMask!==!0){const tt=oe.selectionEnd;let lt=Se-1;for(let Qe=p;Qe<=lt&&Qe<tt;Qe++)s[Qe]!==_r&&lt++;R.right(oe,lt);return}if(["deleteContentBackward","deleteContentForward"].indexOf(Fe)!==-1){const tt=t.reverseFillMask===!0?Se===0?Pe.length>Le.length?1:0:Math.max(0,Pe.length-(Pe===l?0:Math.min(Le.length,fe)+1))+1:Se;oe.setSelectionRange(tt,tt,"forward");return}if(t.reverseFillMask===!0)if(ze===!0){const tt=Math.max(0,Pe.length-(Pe===l?0:Math.min(Le.length,fe+1)));tt===1&&Se===1?oe.setSelectionRange(tt,tt,"forward"):R.rightReverse(oe,tt)}else{const tt=Pe.length-fe;oe.setSelectionRange(tt,tt,"backward")}else if(ze===!0){const tt=Math.max(0,s.indexOf(_r),Math.min(Le.length,Se)-1);R.right(oe,tt)}else{const tt=Se-1;R.right(oe,tt)}});const Je=t.unmaskedValue===!0?te(Pe):Pe;String(t.modelValue)!==Je&&(t.modelValue!==null||Je!=="")&&n(Je,!0)}function D(he,be,Fe){const oe=K(te(he.value));be=Math.max(0,s.indexOf(_r),Math.min(oe.length,be)),p=be,he.setSelectionRange(be,Fe,"forward")}const R={left(he,be){const Fe=s.slice(be-1).indexOf(_r)===-1;let oe=Math.max(0,be-1);for(;oe>=0;oe--)if(s[oe]===_r){be=oe,Fe===!0&&be++;break}if(oe<0&&s[be]!==void 0&&s[be]!==_r)return R.right(he,0);be>=0&&he.setSelectionRange(be,be,"backward")},right(he,be){const Fe=he.value.length;let oe=Math.min(Fe,be+1);for(;oe<=Fe;oe++)if(s[oe]===_r){be=oe;break}else s[oe-1]===_r&&(be=oe);if(oe>Fe&&s[be-1]!==void 0&&s[be-1]!==_r)return R.left(he,Fe);he.setSelectionRange(be,be,"forward")},leftReverse(he,be){const Fe=C(he.value.length);let oe=Math.max(0,be-1);for(;oe>=0;oe--)if(Fe[oe-1]===_r){be=oe;break}else if(Fe[oe]===_r&&(be=oe,oe===0))break;if(oe<0&&Fe[be]!==void 0&&Fe[be]!==_r)return R.rightReverse(he,0);be>=0&&he.setSelectionRange(be,be,"backward")},rightReverse(he,be){const Fe=he.value.length,oe=C(Fe),Se=oe.slice(0,be+1).indexOf(_r)===-1;let fe=Math.min(Fe,be+1);for(;fe<=Fe;fe++)if(oe[fe-1]===_r){be=fe,be>0&&Se===!0&&be--;break}if(fe>Fe&&oe[be-1]!==void 0&&oe[be-1]!==_r)return R.leftReverse(he,Fe);he.setSelectionRange(be,be,"forward")}};function q(he){e("click",he),m=void 0}function Y(he){if(e("keydown",he),pS(he)===!0||he.altKey===!0)return;const be=i.value,Fe=be.selectionStart,oe=be.selectionEnd;if(he.shiftKey||(m=void 0),he.keyCode===37||he.keyCode===39){he.shiftKey&&m===void 0&&(m=be.selectionDirection==="forward"?Fe:oe);const Se=R[(he.keyCode===39?"right":"left")+(t.reverseFillMask===!0?"Reverse":"")];if(he.preventDefault(),Se(be,m===Fe?oe:Fe),he.shiftKey){const fe=be.selectionStart;be.setSelectionRange(Math.min(m,fe),Math.max(m,fe),"forward")}}else he.keyCode===8&&t.reverseFillMask!==!0&&Fe===oe?(R.left(be,Fe),be.setSelectionRange(be.selectionStart,oe,"backward")):he.keyCode===46&&t.reverseFillMask===!0&&Fe===oe&&(R.rightReverse(be,oe),be.setSelectionRange(Fe,be.selectionEnd,"forward"))}function K(he){if(he==null||he==="")return"";if(t.reverseFillMask===!0)return ce(he);const be=f;let Fe=0,oe="";for(let Se=0;Se<be.length;Se++){const fe=he[Fe],Te=be[Se];if(typeof Te=="string")oe+=Te,fe===Te&&Fe++;else if(fe!==void 0&&Te.regex.test(fe))oe+=Te.transform!==void 0?Te.transform(fe):fe,Fe++;else return oe}return oe}function ce(he){const be=f,Fe=s.indexOf(_r);let oe=he.length-1,Se="";for(let fe=be.length-1;fe>=0&&oe!==-1;fe--){const Te=be[fe];let Le=he[oe];if(typeof Te=="string")Se=Te+Se,Le===Te&&oe--;else if(Le!==void 0&&Te.regex.test(Le))do Se=(Te.transform!==void 0?Te.transform(Le):Le)+Se,oe--,Le=he[oe];while(Fe===fe&&Le!==void 0&&Te.regex.test(Le));else return Se}return Se}function te(he){return typeof he!="string"||h===void 0?typeof he=="number"?h(""+he):he:h(he)}function ee(he){return l.length-he.length<=0?he:t.reverseFillMask===!0&&he.length!==0?l.slice(0,-he.length)+he:he+l.slice(he.length)}return{innerValue:b,hasMask:g,moveCursorForPaste:D,updateMaskValue:T,onMaskedKeydown:Y,onMaskedClick:q}}const am={name:String};function Gae(t){return xe(()=>({type:"hidden",name:t.name,value:t.modelValue}))}function zS(t={}){return(e,n,i)=>{e[n](Be("input",{class:"hidden"+(i||""),...t.value}))}}function Hae(t){return xe(()=>t.name||t.for)}function Vae(t,e){function n(){const i=t.modelValue;try{const s="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(i)===i&&("length"in i?Array.from(i):[i]).forEach(l=>{s.items.add(l)}),{files:s.files}}catch{return{files:void 0}}}return xe(()=>{if(t.type==="file")return n()})}const Wae=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Yae=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Xae=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Kae=/[a-z0-9_ -]$/i;function Zae(t){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,t(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Sn.is.firefox===!0?Kae.test(n.data)===!1:Wae.test(n.data)===!0||Yae.test(n.data)===!0||Xae.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const Jae=Zt({name:"QInput",inheritAttrs:!1,props:{...Lae,...$ae,...am,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...zae,"paste","change","keydown","click","animationend"],setup(t,{emit:e,attrs:n}){const{proxy:i}=tn(),{$q:s}=i,l={};let f=NaN,h,p,m=null,g;const b=pt(null),S=Hae(t),{innerValue:w,hasMask:C,moveCursorForPaste:M,updateMaskValue:T,onMaskedKeydown:D,onMaskedClick:R}=Uae(t,e,Le,b),q=Vae(t),Y=xe(()=>Bx(w.value)),K=Zae(fe),ce=Nae({changeEvent:!0}),te=xe(()=>t.type==="textarea"||t.autogrow===!0),ee=xe(()=>te.value===!0||["text","search","url","tel","password"].includes(t.type)),he=xe(()=>{const Qe={...ce.splitAttrs.listeners.value,onInput:fe,onPaste:Se,onChange:ze,onBlur:Je,onFocus:va};return Qe.onCompositionstart=Qe.onCompositionupdate=Qe.onCompositionend=K,C.value===!0&&(Qe.onKeydown=D,Qe.onClick=R),t.autogrow===!0&&(Qe.onAnimationend=Te),Qe}),be=xe(()=>{const Qe={tabindex:0,"data-autofocus":t.autofocus===!0||void 0,rows:t.type==="textarea"?6:void 0,"aria-label":t.label,name:S.value,...ce.splitAttrs.attributes.value,id:ce.targetUid.value,maxlength:t.maxlength,disabled:t.disable===!0,readonly:t.readonly===!0};return te.value===!1&&(Qe.type=t.type),t.autogrow===!0&&(Qe.rows=1),Qe});qt(()=>t.type,()=>{b.value&&(b.value.value=t.modelValue)}),qt(()=>t.modelValue,Qe=>{if(C.value===!0){if(p===!0&&(p=!1,String(Qe)===f))return;T(Qe)}else w.value!==Qe&&(w.value=Qe,t.type==="number"&&l.hasOwnProperty("value")===!0&&(h===!0?h=!1:delete l.value));t.autogrow===!0&&Mr(Pe)}),qt(()=>t.autogrow,Qe=>{Qe===!0?Mr(Pe):b.value!==null&&n.rows>0&&(b.value.style.height="auto")}),qt(()=>t.dense,()=>{t.autogrow===!0&&Mr(Pe)});function Fe(){E0(()=>{const Qe=document.activeElement;b.value!==null&&b.value!==Qe&&(Qe===null||Qe.id!==ce.targetUid.value)&&b.value.focus({preventScroll:!0})})}function oe(){b.value!==null&&b.value.select()}function Se(Qe){if(C.value===!0&&t.reverseFillMask!==!0){const mt=Qe.target;M(mt,mt.selectionStart,mt.selectionEnd)}e("paste",Qe)}function fe(Qe){if(!Qe||!Qe.target)return;if(t.type==="file"){e("update:modelValue",Qe.target.files);return}const mt=Qe.target.value;if(Qe.target.qComposing===!0){l.value=mt;return}if(C.value===!0)T(mt,!1,Qe.inputType);else if(Le(mt),ee.value===!0&&Qe.target===document.activeElement){const{selectionStart:Ct,selectionEnd:Ft}=Qe.target;Ct!==void 0&&Ft!==void 0&&Mr(()=>{Qe.target===document.activeElement&&mt.indexOf(Qe.target.value)===0&&Qe.target.setSelectionRange(Ct,Ft)})}t.autogrow===!0&&Pe()}function Te(Qe){e("animationend",Qe),Pe()}function Le(Qe,mt){g=()=>{m=null,t.type!=="number"&&l.hasOwnProperty("value")===!0&&delete l.value,t.modelValue!==Qe&&f!==Qe&&(f=Qe,mt===!0&&(p=!0),e("update:modelValue",Qe),Mr(()=>{f===Qe&&(f=NaN)})),g=void 0},t.type==="number"&&(h=!0,l.value=Qe),t.debounce!==void 0?(m!==null&&clearTimeout(m),l.value=Qe,m=setTimeout(g,t.debounce)):g()}function Pe(){requestAnimationFrame(()=>{const Qe=b.value;if(Qe!==null){const mt=Qe.parentNode.style,{scrollTop:Ct}=Qe,{overflowY:Ft,maxHeight:Ze}=s.platform.is.firefox===!0?{}:window.getComputedStyle(Qe),Pt=Ft!==void 0&&Ft!=="scroll";Pt===!0&&(Qe.style.overflowY="hidden"),mt.marginBottom=Qe.scrollHeight-1+"px",Qe.style.height="1px",Qe.style.height=Qe.scrollHeight+"px",Pt===!0&&(Qe.style.overflowY=parseInt(Ze,10)<Qe.scrollHeight?"auto":"hidden"),mt.marginBottom="",Qe.scrollTop=Ct}})}function ze(Qe){K(Qe),m!==null&&(clearTimeout(m),m=null),g!==void 0&&g(),e("change",Qe.target.value)}function Je(Qe){Qe!==void 0&&va(Qe),m!==null&&(clearTimeout(m),m=null),g!==void 0&&g(),h=!1,p=!1,delete l.value,t.type!=="file"&&setTimeout(()=>{b.value!==null&&(b.value.value=w.value!==void 0?w.value:"")})}function tt(){return l.hasOwnProperty("value")===!0?l.value:w.value!==void 0?w.value:""}or(()=>{Je()}),ci(()=>{t.autogrow===!0&&Pe()}),Object.assign(ce,{innerValue:w,fieldClass:xe(()=>`q-${te.value===!0?"textarea":"input"}`+(t.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:xe(()=>t.type!=="file"&&typeof t.shadowText=="string"&&t.shadowText.length!==0),inputRef:b,emitValue:Le,hasValue:Y,floatingLabel:xe(()=>Y.value===!0&&(t.type!=="number"||isNaN(w.value)===!1)||Bx(t.displayValue)),getControl:()=>Be(te.value===!0?"textarea":"input",{ref:b,class:["q-field__native q-placeholder",t.inputClass],style:t.inputStyle,...be.value,...he.value,...t.type!=="file"?{value:tt()}:q.value}),getShadowControl:()=>Be("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(te.value===!0?"":" text-no-wrap")},[Be("span",{class:"invisible"},tt()),Be("span",t.shadowText)])});const lt=jae(ce);return Object.assign(i,{focus:Fe,select:oe,getNativeElement:()=>b.value}),Wa(i,"nativeEl",()=>b.value),lt}});function FB(t,e){const n=pt(null),i=xe(()=>t.disable===!0?null:Be("span",{ref:n,class:"no-outline",tabindex:-1}));function s(l){const f=e.value;l!==void 0&&l.type.indexOf("key")===0?f!==null&&document.activeElement!==f&&f.contains(document.activeElement)===!0&&f.focus():n.value!==null&&(l===void 0||f!==null&&f.contains(l.target)===!0)&&n.value.focus()}return{refocusTargetEl:i,refocusTarget:s}}const IB={xs:30,sm:35,md:40,lg:50,xl:60},Qae=()=>Be("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[Be("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),Be("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),ese=Zt({name:"QRadio",props:{...hi,...Yf,...am,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(t,{slots:e,emit:n}){const{proxy:i}=tn(),s=di(t,i.$q),l=Xf(t,IB),f=pt(null),{refocusTargetEl:h,refocusTarget:p}=FB(t,f),m=xe(()=>Bo(t.modelValue)===Bo(t.val)),g=xe(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(t.disable===!0?" disabled":"")+(s.value===!0?" q-radio--dark":"")+(t.dense===!0?" q-radio--dense":"")+(t.leftLabel===!0?" reverse":"")),b=xe(()=>{const Y=t.color!==void 0&&(t.keepColor===!0||m.value===!0)?` text-${t.color}`:"";return`q-radio__inner relative-position q-radio__inner--${m.value===!0?"truthy":"falsy"}${Y}`}),S=xe(()=>(m.value===!0?t.checkedIcon:t.uncheckedIcon)||null),w=xe(()=>t.disable===!0?-1:t.tabindex||0),C=xe(()=>{const Y={type:"radio"};return t.name!==void 0&&Object.assign(Y,{".checked":m.value===!0,"^checked":m.value===!0?"checked":void 0,name:t.name,value:t.val}),Y}),M=zS(C);function T(Y){Y!==void 0&&(Wn(Y),p(Y)),t.disable!==!0&&m.value!==!0&&n("update:modelValue",t.val,Y)}function D(Y){(Y.keyCode===13||Y.keyCode===32)&&Wn(Y)}function R(Y){(Y.keyCode===13||Y.keyCode===32)&&T(Y)}Object.assign(i,{set:T});const q=Qae();return()=>{const Y=S.value!==null?[Be("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[Be(Xr,{class:"q-radio__icon",name:S.value})])]:[q];t.disable!==!0&&M(Y,"unshift"," q-radio__native q-ma-none q-pa-none");const K=[Be("div",{class:b.value,style:l.value,"aria-hidden":"true"},Y)];h.value!==null&&K.push(h.value);const ce=t.label!==void 0?fa(e.default,[t.label]):Dn(e.default);return ce!==void 0&&K.push(Be("div",{class:"q-radio__label q-anchor--skip"},ce)),Be("div",{ref:f,class:g.value,tabindex:w.value,role:"radio","aria-label":t.label,"aria-checked":m.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:T,onKeydown:D,onKeyup:R},K)}}}),MB={...hi,...Yf,...am,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},DB=["update:modelValue"];function TB(t,e){const{props:n,slots:i,emit:s,proxy:l}=tn(),{$q:f}=l,h=di(n,f),p=pt(null),{refocusTargetEl:m,refocusTarget:g}=FB(n,p),b=Xf(n,IB),S=xe(()=>n.val!==void 0&&Array.isArray(n.modelValue)),w=xe(()=>{const oe=Bo(n.val);return S.value===!0?n.modelValue.findIndex(Se=>Bo(Se)===oe):-1}),C=xe(()=>S.value===!0?w.value!==-1:Bo(n.modelValue)===Bo(n.trueValue)),M=xe(()=>S.value===!0?w.value===-1:Bo(n.modelValue)===Bo(n.falseValue)),T=xe(()=>C.value===!1&&M.value===!1),D=xe(()=>n.disable===!0?-1:n.tabindex||0),R=xe(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(h.value===!0?` q-${t}--dark`:"")+(n.dense===!0?` q-${t}--dense`:"")+(n.leftLabel===!0?" reverse":"")),q=xe(()=>{const oe=C.value===!0?"truthy":M.value===!0?"falsy":"indet",Se=n.color!==void 0&&(n.keepColor===!0||(t==="toggle"?C.value===!0:M.value!==!0))?` text-${n.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${oe}${Se}`}),Y=xe(()=>{const oe={type:"checkbox"};return n.name!==void 0&&Object.assign(oe,{".checked":C.value,"^checked":C.value===!0?"checked":void 0,name:n.name,value:S.value===!0?n.val:n.trueValue}),oe}),K=zS(Y),ce=xe(()=>{const oe={tabindex:D.value,role:t==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":T.value===!0?"mixed":C.value===!0?"true":"false"};return n.disable===!0&&(oe["aria-disabled"]="true"),oe});function te(oe){oe!==void 0&&(Wn(oe),g(oe)),n.disable!==!0&&s("update:modelValue",ee(),oe)}function ee(){if(S.value===!0){if(C.value===!0){const oe=n.modelValue.slice();return oe.splice(w.value,1),oe}return n.modelValue.concat([n.val])}if(C.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(M.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function he(oe){(oe.keyCode===13||oe.keyCode===32)&&Wn(oe)}function be(oe){(oe.keyCode===13||oe.keyCode===32)&&te(oe)}const Fe=e(C,T);return Object.assign(l,{toggle:te}),()=>{const oe=Fe();n.disable!==!0&&K(oe,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const Se=[Be("div",{class:q.value,style:b.value,"aria-hidden":"true"},oe)];m.value!==null&&Se.push(m.value);const fe=n.label!==void 0?fa(i.default,[n.label]):Dn(i.default);return fe!==void 0&&Se.push(Be("div",{class:`q-${t}__label q-anchor--skip`},fe)),Be("div",{ref:p,class:R.value,...ce.value,onClick:te,onKeydown:he,onKeyup:be},Se)}}const tse=()=>Be("div",{key:"svg",class:"q-checkbox__bg absolute"},[Be("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[Be("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),Be("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),nse=Zt({name:"QCheckbox",props:MB,emits:DB,setup(t){const e=tse();function n(i,s){const l=xe(()=>(i.value===!0?t.checkedIcon:s.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>l.value!==null?[Be("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[Be(Xr,{class:"q-checkbox__icon",name:l.value})])]:[e]}return TB("checkbox",n)}}),rse=Zt({name:"QToggle",props:{...MB,icon:String,iconColor:String},emits:DB,setup(t){function e(n,i){const s=xe(()=>(n.value===!0?t.checkedIcon:i.value===!0?t.indeterminateIcon:t.uncheckedIcon)||t.icon),l=xe(()=>n.value===!0?t.iconColor:null);return()=>[Be("div",{class:"q-toggle__track"}),Be("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},s.value!==void 0?[Be(Xr,{name:s.value,color:l.value})]:void 0)]}return TB("toggle",e)}}),PB={radio:ese,checkbox:nse,toggle:rse},ise=Object.keys(PB);function _w(t,e){if(typeof t=="function")return t;const n=t!==void 0?t:e;return i=>i[n]}const ose=Zt({name:"QOptionGroup",props:{...hi,modelValue:{required:!0},options:{type:Array,validator:t=>t.every(Wr),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:t=>ise.includes(t)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(t,{emit:e,slots:n}){const{proxy:{$q:i}}=tn(),s=Array.isArray(t.modelValue);t.type;const l=di(t,i),f=xe(()=>PB[t.type]),h=xe(()=>_w(t.optionValue,"value")),p=xe(()=>_w(t.optionLabel,"label")),m=xe(()=>_w(t.optionDisable,"disable")),g=xe(()=>t.options.map(C=>({val:h.value(C),name:C.name===void 0?t.name:C.name,disable:t.disable||m.value(C),leftLabel:C.leftLabel===void 0?t.leftLabel:C.leftLabel,color:C.color===void 0?t.color:C.color,checkedIcon:C.checkedIcon,uncheckedIcon:C.uncheckedIcon,dark:C.dark===void 0?l.value:C.dark,size:C.size===void 0?t.size:C.size,dense:t.dense,keepColor:C.keepColor===void 0?t.keepColor:C.keepColor}))),b=xe(()=>"q-option-group q-gutter-x-sm"+(t.inline===!0?" q-option-group--inline":"")),S=xe(()=>{const C={role:"group"};return t.type==="radio"&&(C.role="radiogroup",t.disable===!0&&(C["aria-disabled"]="true")),C});function w(C){e("update:modelValue",C)}return()=>Be("div",{class:b.value,...S.value},t.options.map((C,M)=>{const T=n["label-"+M]!==void 0?()=>n["label-"+M](C):n.label!==void 0?()=>n.label(C):void 0;return Be("div",[Be(f.value,{label:T===void 0?p.value(C):null,modelValue:t.modelValue,"onUpdate:modelValue":w,...g.value[M]},T)])}))}}),ase=Zt({name:"DialogPluginComponent",props:{...hi,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:t=>["ok","cancel","none"].includes(t)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(t,{emit:e}){const{proxy:n}=tn(),{$q:i}=n,s=di(t,i),l=pt(null),f=pt(t.prompt!==void 0?t.prompt.model:t.options!==void 0?t.options.model:void 0),h=xe(()=>"q-dialog-plugin"+(s.value===!0?" q-dialog-plugin--dark q-dark":"")+(t.progress!==!1?" q-dialog-plugin--progress":"")),p=xe(()=>t.color||(s.value===!0?"amber":"primary")),m=xe(()=>t.progress===!1?null:Wr(t.progress)===!0?{component:t.progress.spinner||Ga,props:{color:t.progress.color||p.value}}:{component:Ga,props:{color:p.value}}),g=xe(()=>t.prompt!==void 0||t.options!==void 0),b=xe(()=>{if(g.value!==!0)return{};const{model:fe,isValid:Te,items:Le,...Pe}=t.prompt!==void 0?t.prompt:t.options;return Pe}),S=xe(()=>Wr(t.ok)===!0||t.ok===!0?i.lang.label.ok:t.ok),w=xe(()=>Wr(t.cancel)===!0||t.cancel===!0?i.lang.label.cancel:t.cancel),C=xe(()=>t.prompt!==void 0?t.prompt.isValid!==void 0&&t.prompt.isValid(f.value)!==!0:t.options!==void 0?t.options.isValid!==void 0&&t.options.isValid(f.value)!==!0:!1),M=xe(()=>({color:p.value,label:S.value,ripple:!1,disable:C.value,...Wr(t.ok)===!0?t.ok:{flat:!0},"data-autofocus":t.focus==="ok"&&g.value!==!0||void 0,onClick:q})),T=xe(()=>({color:p.value,label:w.value,ripple:!1,...Wr(t.cancel)===!0?t.cancel:{flat:!0},"data-autofocus":t.focus==="cancel"&&g.value!==!0||void 0,onClick:Y}));qt(()=>t.prompt&&t.prompt.model,ce),qt(()=>t.options&&t.options.model,ce);function D(){l.value.show()}function R(){l.value.hide()}function q(){e("ok",Bo(f.value)),R()}function Y(){R()}function K(){e("hide")}function ce(fe){f.value=fe}function te(fe){C.value!==!0&&t.prompt.type!=="textarea"&&Ua(fe,13)===!0&&q()}function ee(fe,Te){return t.html===!0?Be(id,{class:fe,innerHTML:Te}):Be(id,{class:fe},()=>Te)}function he(){return[Be(Jae,{color:p.value,dense:!0,autofocus:!0,dark:s.value,...b.value,modelValue:f.value,"onUpdate:modelValue":ce,onKeyup:te})]}function be(){return[Be(ose,{color:p.value,options:t.options.items,dark:s.value,...b.value,modelValue:f.value,"onUpdate:modelValue":ce})]}function Fe(){const fe=[];return t.cancel&&fe.push(Be(nu,T.value)),t.ok&&fe.push(Be(nu,M.value)),Be(kae,{class:t.stackButtons===!0?"items-end":"",vertical:t.stackButtons,align:"right"},()=>fe)}function oe(){const fe=[];return t.title&&fe.push(ee("q-dialog__title",t.title)),t.progress!==!1&&fe.push(Be(id,{class:"q-dialog__progress"},()=>Be(m.value.component,m.value.props))),t.message&&fe.push(ee("q-dialog__message",t.message)),t.prompt!==void 0?fe.push(Be(id,{class:"scroll q-dialog-plugin__form"},he)):t.options!==void 0&&fe.push(Be(uv,{dark:s.value}),Be(id,{class:"scroll q-dialog-plugin__form"},be),Be(uv,{dark:s.value})),(t.ok||t.cancel)&&fe.push(Fe()),fe}function Se(){return[Be(Aae,{class:[h.value,t.cardClass],style:t.cardStyle,dark:s.value},oe)]}return Object.assign(n,{show:D,hide:R}),()=>Be(vB,{ref:l,onHide:K},Se)}});function RB(t,e){for(const n in e)n!=="spinner"&&Object(e[n])===e[n]?(t[n]=Object(t[n])!==t[n]?{}:{...t[n]},RB(t[n],e[n])):t[n]=e[n]}function sse(t,e,n){return i=>{let s,l;const f=i.component!==void 0;if(f===!0){const{component:R,componentProps:q}=i;s=typeof R=="string"?n.component(R):R,l=q||{}}else{const{class:R,style:q,...Y}=i;s=t,l=Y,R!==void 0&&(Y.cardClass=R),q!==void 0&&(Y.cardStyle=q)}let h,p=!1;const m=pt(null),g=om(!1,"dialog"),b=R=>{if(m.value!==null&&m.value[R]!==void 0){m.value[R]();return}const q=h.$.subTree;if(q&&q.component){if(q.component.proxy&&q.component.proxy[R]){q.component.proxy[R]();return}if(q.component.subTree&&q.component.subTree.component&&q.component.subTree.component.proxy&&q.component.subTree.component.proxy[R]){q.component.subTree.component.proxy[R]();return}}},S=[],w=[],C={onOk(R){return S.push(R),C},onCancel(R){return w.push(R),C},onDismiss(R){return S.push(R),w.push(R),C},hide(){return b("hide"),C},update(R){if(h!==null){if(f===!0)Object.assign(l,R);else{const{class:q,style:Y,...K}=R;q!==void 0&&(K.cardClass=q),Y!==void 0&&(K.cardStyle=Y),RB(l,K)}h.$forceUpdate()}return C}},M=R=>{p=!0,S.forEach(q=>{q(R)})},T=()=>{D.unmount(g),TS(g),D=null,h=null,p!==!0&&w.forEach(R=>{R()})};let D=vS({name:"QGlobalDialog",setup:()=>()=>Be(s,{...l,ref:m,onOk:M,onHide:T,onVnodeMounted(...R){typeof l.onVnodeMounted=="function"&&l.onVnodeMounted(...R),Mr(()=>b("show"))}})},n);return h=D.mount(g),C}}const F1e={install({$q:t,parentApp:e}){t.dialog=this.create=sse(ase,!0,e)}},od={};function use(t){Object.assign(oi,{request:t,exit:t,toggle:t})}function BB(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||null}function OB(){const t=oi.activeEl=oi.isActive===!1?null:BB();Goe(t===null||t===document.documentElement?document.body:t)}function lse(){oi.isActive=oi.isActive===!1,OB()}function cT(t,e){try{const n=t[e]();return n===void 0?Promise.resolve():n}catch(n){return Promise.reject(n)}}const oi=Vf({isActive:!1,activeEl:null},{isCapable:!1,install({$q:t}){t.fullscreen=this}});od.request=["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen"].find(t=>document.documentElement[t]!==void 0),oi.isCapable=od.request!==void 0,oi.isCapable===!1?use(()=>Promise.reject("Not capable")):(Object.assign(oi,{request(t){const e=t||document.documentElement,{activeEl:n}=oi;return e===n?Promise.resolve():(n!==null&&e.contains(n)===!0?oi.exit():Promise.resolve()).finally(()=>cT(e,od.request))},exit(){return oi.isActive===!0?cT(document,od.exit):Promise.resolve()},toggle(t){return oi.isActive===!0?oi.exit():oi.request(t)}}),od.exit=["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"].find(t=>document[t]),oi.isActive=!!BB(),oi.isActive===!0&&OB(),["onfullscreenchange","onmsfullscreenchange","onwebkitfullscreenchange"].forEach(t=>{document[t]=lse}));let Xc,bw,fT=0,Hu=null,Lr={},al={};const LB={group:"__default_quasar_group__",delay:0,message:!1,html:!1,spinnerSize:80,spinnerColor:"",messageColor:"",backgroundColor:"",boxClass:"",spinner:Ga,customClass:""},zB={...LB};function cse(t){if(t&&t.group!==void 0&&al[t.group]!==void 0)return Object.assign(al[t.group],t);const e=Wr(t)===!0&&t.ignoreDefaults===!0?{...LB,...t}:{...zB,...t};return al[e.group]=e,e}const aa=Vf({isActive:!1},{show(t){Lr=cse(t);const{group:e}=Lr;return aa.isActive=!0,Xc!==void 0?(Lr.uid=fT,bw.$forceUpdate()):(Lr.uid=++fT,Hu!==null&&clearTimeout(Hu),Hu=setTimeout(()=>{Hu=null;const n=om("q-loading");Xc=vS({name:"QLoading",setup(){ci(()=>{Tx(!0)});function i(){aa.isActive!==!0&&Xc!==void 0&&(Tx(!1),Xc.unmount(n),TS(n),Xc=void 0,bw=void 0)}function s(){if(aa.isActive!==!0)return null;const l=[Be(Lr.spinner,{class:"q-loading__spinner",color:Lr.spinnerColor,size:Lr.spinnerSize})];return Lr.message&&l.push(Be("div",{class:"q-loading__message"+(Lr.messageColor?` text-${Lr.messageColor}`:""),[Lr.html===!0?"innerHTML":"textContent"]:Lr.message})),Be("div",{class:"q-loading fullscreen flex flex-center z-max "+Lr.customClass.trim(),key:Lr.uid},[Be("div",{class:"q-loading__backdrop"+(Lr.backgroundColor?` bg-${Lr.backgroundColor}`:"")}),Be("div",{class:"q-loading__box column items-center "+Lr.boxClass},l)])}return()=>Be(Ca,{name:"q-transition--fade",appear:!0,onAfterLeave:i},s)}},aa.__parentApp),bw=Xc.mount(n)},Lr.delay)),n=>{if(n===void 0||Object(n)!==n){aa.hide(e);return}aa.show({...n,group:e})}},hide(t){if(aa.isActive===!0){if(t===void 0)al={};else{if(al[t]===void 0)return;{delete al[t];const e=Object.keys(al);if(e.length!==0){const n=e[e.length-1];aa.show({group:n});return}}}Hu!==null&&(clearTimeout(Hu),Hu=null),aa.isActive=!1}},setDefaults(t){Wr(t)===!0&&Object.assign(zB,t)},install({$q:t,parentApp:e}){t.loading=this,aa.__parentApp=e,t.config.loading!==void 0&&this.setDefaults(t.config.loading)}}),fse=Zt({name:"QAvatar",props:{...Yf,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(t,{slots:e}){const n=Xf(t),i=xe(()=>"q-avatar"+(t.color?` bg-${t.color}`:"")+(t.textColor?` text-${t.textColor} q-chip--colored`:"")+(t.square===!0?" q-avatar--square":t.rounded===!0?" rounded-borders":"")),s=xe(()=>t.fontSize?{fontSize:t.fontSize}:null);return()=>{const l=t.icon!==void 0?[Be(Xr,{name:t.icon})]:void 0;return Be("div",{class:i.value,style:n.value},[Be("div",{class:"q-avatar__content row flex-center overflow-hidden",style:s.value},fB(e.default,l))])}}});let hse=0;const V1={},W1={},Ro={},NB={},dse=/^\s*$/,jB=[],pse=[void 0,null,!0,!1,""],NS=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],gse=["top-left","top-right","bottom-left","bottom-right"],cf={positive:{icon:t=>t.iconSet.type.positive,color:"positive"},negative:{icon:t=>t.iconSet.type.negative,color:"negative"},warning:{icon:t=>t.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:t=>t.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function qB(t,e,n){if(!t)return ad("parameter required");let i;const s={textColor:"white"};if(t.ignoreDefaults!==!0&&Object.assign(s,V1),Wr(t)===!1&&(s.type&&Object.assign(s,cf[s.type]),t={message:t}),Object.assign(s,cf[t.type||s.type],t),typeof s.icon=="function"&&(s.icon=s.icon(e)),s.spinner?(s.spinner===!0&&(s.spinner=Ga),s.spinner=y0(s.spinner)):s.spinner=!1,s.meta={hasMedia:!!(s.spinner!==!1||s.icon||s.avatar),hasText:hT(s.message)||hT(s.caption)},s.position){if(NS.includes(s.position)===!1)return ad("wrong position",t)}else s.position="bottom";if(pse.includes(s.timeout)===!0)s.timeout=5e3;else{const p=Number(s.timeout);if(isNaN(p)||p<0)return ad("wrong timeout",t);s.timeout=Number.isFinite(p)?p:0}s.timeout===0?s.progress=!1:s.progress===!0&&(s.meta.progressClass="q-notification__progress"+(s.progressClass?` ${s.progressClass}`:""),s.meta.progressStyle={animationDuration:`${s.timeout+1e3}ms`});const l=(Array.isArray(t.actions)===!0?t.actions:[]).concat(t.ignoreDefaults!==!0&&Array.isArray(V1.actions)===!0?V1.actions:[]).concat(cf[t.type]!==void 0&&Array.isArray(cf[t.type].actions)===!0?cf[t.type].actions:[]),{closeBtn:f}=s;if(f&&l.push({label:typeof f=="string"?f:e.lang.label.close}),s.actions=l.map(({handler:p,noDismiss:m,...g})=>({flat:!0,...g,onClick:typeof p=="function"?()=>{p(),m!==!0&&h()}:()=>{h()}})),s.multiLine===void 0&&(s.multiLine=s.actions.length>1),Object.assign(s.meta,{class:`q-notification row items-stretch q-notification--${s.multiLine===!0?"multi-line":"standard"}`+(s.color!==void 0?` bg-${s.color}`:"")+(s.textColor!==void 0?` text-${s.textColor}`:"")+(s.classes!==void 0?` ${s.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(s.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(s.multiLine===!0?"":" col"),leftClass:s.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...s.attrs}}),s.group===!1?(s.group=void 0,s.meta.group=void 0):((s.group===void 0||s.group===!0)&&(s.group=[s.message,s.caption,s.multiline].concat(s.actions.map(p=>`${p.label}*${p.icon}`)).join("|")),s.meta.group=s.group+"|"+s.position),s.actions.length===0?s.actions=void 0:s.meta.actionsClass="q-notification__actions row items-center "+(s.multiLine===!0?"justify-end":"col-auto")+(s.meta.hasMedia===!0?" q-notification__actions--with-media":""),n!==void 0){n.notif.meta.timer&&(clearTimeout(n.notif.meta.timer),n.notif.meta.timer=void 0),s.meta.uid=n.notif.meta.uid;const p=Ro[s.position].value.indexOf(n.notif);Ro[s.position].value[p]=s}else{const p=W1[s.meta.group];if(p===void 0){if(s.meta.uid=hse++,s.meta.badge=1,["left","right","center"].indexOf(s.position)!==-1)Ro[s.position].value.splice(Math.floor(Ro[s.position].value.length/2),0,s);else{const m=s.position.indexOf("top")!==-1?"unshift":"push";Ro[s.position].value[m](s)}s.group!==void 0&&(W1[s.meta.group]=s)}else{if(p.meta.timer&&(clearTimeout(p.meta.timer),p.meta.timer=void 0),s.badgePosition!==void 0){if(gse.includes(s.badgePosition)===!1)return ad("wrong badgePosition",t)}else s.badgePosition=`top-${s.position.indexOf("left")!==-1?"right":"left"}`;s.meta.uid=p.meta.uid,s.meta.badge=p.meta.badge+1,s.meta.badgeClass=`q-notification__badge q-notification__badge--${s.badgePosition}`+(s.badgeColor!==void 0?` bg-${s.badgeColor}`:"")+(s.badgeTextColor!==void 0?` text-${s.badgeTextColor}`:"")+(s.badgeClass?` ${s.badgeClass}`:"");const m=Ro[s.position].value.indexOf(p);Ro[s.position].value[m]=W1[s.meta.group]=s}}const h=()=>{vse(s),i=void 0};if(s.timeout>0&&(s.meta.timer=setTimeout(()=>{s.meta.timer=void 0,h()},s.timeout+1e3)),s.group!==void 0)return p=>{p!==void 0?ad("trying to update a grouped one which is forbidden",t):h()};if(i={dismiss:h,config:t,notif:s},n!==void 0){Object.assign(n,i);return}return p=>{if(i!==void 0)if(p===void 0)i.dismiss();else{const m=Object.assign({},i.config,p,{group:!1,position:s.position});qB(m,e,i)}}}function vse(t){t.meta.timer&&(clearTimeout(t.meta.timer),t.meta.timer=void 0);const e=Ro[t.position].value.indexOf(t);if(e!==-1){t.group!==void 0&&delete W1[t.meta.group];const n=jB[""+t.meta.uid];if(n){const{width:i,height:s}=getComputedStyle(n);n.style.left=`${n.offsetLeft}px`,n.style.width=i,n.style.height=s}Ro[t.position].value.splice(e,1),typeof t.onDismiss=="function"&&t.onDismiss()}}function hT(t){return t!=null&&dse.test(t)!==!0}function ad(t,e){return!1}function mse(){return Zt({name:"QNotifications",devtools:{hide:!0},setup(){return()=>Be("div",{class:"q-notifications"},NS.map(t=>Be(xre,{key:t,class:NB[t],tag:"div",name:`q-notification--${t}`},()=>Ro[t].value.map(e=>{const n=e.meta,i=[];if(n.hasMedia===!0&&(e.spinner!==!1?i.push(Be(e.spinner,{class:"q-notification__spinner q-notification__spinner--"+n.leftClass,color:e.spinnerColor,size:e.spinnerSize})):e.icon?i.push(Be(Xr,{class:"q-notification__icon q-notification__icon--"+n.leftClass,name:e.icon,color:e.iconColor,size:e.iconSize,role:"img"})):e.avatar&&i.push(Be(fse,{class:"q-notification__avatar q-notification__avatar--"+n.leftClass},()=>Be("img",{src:e.avatar,"aria-hidden":"true"})))),n.hasText===!0){let l;const f={class:"q-notification__message col"};if(e.html===!0)f.innerHTML=e.caption?`<div>${e.message}</div><div class="q-notification__caption">${e.caption}</div>`:e.message;else{const h=[e.message];l=e.caption?[Be("div",h),Be("div",{class:"q-notification__caption"},[e.caption])]:h}i.push(Be("div",f,l))}const s=[Be("div",{class:n.contentClass},i)];return e.progress===!0&&s.push(Be("div",{key:`${n.uid}|p|${n.badge}`,class:n.progressClass,style:n.progressStyle})),e.actions!==void 0&&s.push(Be("div",{class:n.actionsClass},e.actions.map(l=>Be(nu,l)))),n.badge>1&&s.push(Be("div",{key:`${n.uid}|${n.badge}`,class:e.meta.badgeClass,style:e.badgeStyle},[n.badge])),Be("div",{ref:l=>{jB[""+n.uid]=l},key:n.uid,class:n.class,...n.attrs},[Be("div",{class:n.wrapperClass},s)])}))))}})}const I1e={setDefaults(t){Wr(t)===!0&&Object.assign(V1,t)},registerType(t,e){Wr(e)===!0&&(cf[t]=e)},install({$q:t,parentApp:e}){if(t.notify=this.create=n=>qB(n,t),t.notify.setDefaults=this.setDefaults,t.notify.registerType=this.registerType,t.config.notify!==void 0&&this.setDefaults(t.config.notify),this.__installed!==!0){NS.forEach(i=>{Ro[i]=pt([]);const s=["left","center","right"].includes(i)===!0?"center":i.indexOf("top")!==-1?"top":"bottom",l=i.indexOf("left")!==-1?"start":i.indexOf("right")!==-1?"end":"center",f=["left","right"].includes(i)?`items-${i==="left"?"start":"end"} justify-center`:i==="center"?"flex-center":`items-${l}`;NB[i]=`q-notifications__list q-notifications__list--${s} fixed column no-wrap ${f}`});const n=om("q-notify");vS(mse(),e).mount(n)}}},jS={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},yse=Object.keys(jS);jS.all=!0;function fv(t){const e={};for(const n of yse)t[n]===!0&&(e[n]=!0);return Object.keys(e).length===0?jS:(e.horizontal===!0?e.left=e.right=!0:e.left===!0&&e.right===!0&&(e.horizontal=!0),e.vertical===!0?e.up=e.down=!0:e.up===!0&&e.down===!0&&(e.vertical=!0),e.horizontal===!0&&e.vertical===!0&&(e.all=!0),e)}const _se=["INPUT","TEXTAREA"];function hv(t,e){return e.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof e.handler=="function"&&_se.includes(t.target.nodeName.toUpperCase())===!1&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(e.uid)===-1)}function qS(){if(window.getSelection!==void 0){const t=window.getSelection();t.empty!==void 0?t.empty():t.removeAllRanges!==void 0&&(t.removeAllRanges(),rv.is.mobile!==!0&&t.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function ww(t,e,n){const i=ou(t);let s,l=i.left-e.event.x,f=i.top-e.event.y,h=Math.abs(l),p=Math.abs(f);const m=e.direction;m.horizontal===!0&&m.vertical!==!0?s=l<0?"left":"right":m.horizontal!==!0&&m.vertical===!0?s=f<0?"up":"down":m.up===!0&&f<0?(s="up",h>p&&(m.left===!0&&l<0?s="left":m.right===!0&&l>0&&(s="right"))):m.down===!0&&f>0?(s="down",h>p&&(m.left===!0&&l<0?s="left":m.right===!0&&l>0&&(s="right"))):m.left===!0&&l<0?(s="left",h<p&&(m.up===!0&&f<0?s="up":m.down===!0&&f>0&&(s="down"))):m.right===!0&&l>0&&(s="right",h<p&&(m.up===!0&&f<0?s="up":m.down===!0&&f>0&&(s="down")));let g=!1;if(s===void 0&&n===!1){if(e.event.isFirst===!0||e.event.lastDir===void 0)return{};s=e.event.lastDir,g=!0,s==="left"||s==="right"?(i.left-=l,h=0,l=0):(i.top-=f,p=0,f=0)}return{synthetic:g,payload:{evt:t,touch:e.event.mouse!==!0,mouse:e.event.mouse===!0,position:i,direction:s,isFirst:e.event.isFirst,isFinal:n===!0,duration:Date.now()-e.event.time,distance:{x:h,y:p},offset:{x:l,y:f},delta:{x:i.left-e.event.lastX,y:i.top-e.event.lastY}}}}let bse=0;const Sf=w0({name:"touch-pan",beforeMount(t,{value:e,modifiers:n}){if(n.mouse!==!0&&Sn.has.touch!==!0)return;function i(l,f){n.mouse===!0&&f===!0?Wn(l):(n.stop===!0&&va(l),n.prevent===!0&&yo(l))}const s={uid:"qvtp_"+bse++,handler:e,modifiers:n,direction:fv(n),noop:Bi,mouseStart(l){hv(l,s)&&hR(l)&&(zo(s,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),s.start(l,!0))},touchStart(l){if(hv(l,s)){const f=l.target;zo(s,"temp",[[f,"touchmove","move","notPassiveCapture"],[f,"touchcancel","end","passiveCapture"],[f,"touchend","end","passiveCapture"]]),s.start(l)}},start(l,f){if(Sn.is.firefox===!0&&bf(t,!0),s.lastEvt=l,f===!0||n.stop===!0){if(s.direction.all!==!0&&(f!==!0||s.modifiers.mouseAllDir!==!0&&s.modifiers.mousealldir!==!0)){const m=l.type.indexOf("mouse")!==-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&yo(m),l.cancelBubble===!0&&va(m),Object.assign(m,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[s.uid]:l.qClonedBy.concat(s.uid)}),s.initialEvent={target:l.target,event:m}}va(l)}const{left:h,top:p}=ou(l);s.event={x:h,y:p,time:Date.now(),mouse:f===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:h,lastY:p}},move(l){if(s.event===void 0)return;const f=ou(l),h=f.left-s.event.x,p=f.top-s.event.y;if(h===0&&p===0)return;s.lastEvt=l;const m=s.event.mouse===!0,g=()=>{i(l,m);let w;n.preserveCursor!==!0&&n.preservecursor!==!0&&(w=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),m===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),qS(),s.styleCleanup=C=>{if(s.styleCleanup=void 0,w!==void 0&&(document.documentElement.style.cursor=w),document.body.classList.remove("non-selectable"),m===!0){const M=()=>{document.body.classList.remove("no-pointer-events--children")};C!==void 0?setTimeout(()=>{M(),C()},50):M()}else C!==void 0&&C()}};if(s.event.detected===!0){s.event.isFirst!==!0&&i(l,s.event.mouse);const{payload:w,synthetic:C}=ww(l,s,!1);w!==void 0&&(s.handler(w)===!1?s.end(l):(s.styleCleanup===void 0&&s.event.isFirst===!0&&g(),s.event.lastX=w.position.left,s.event.lastY=w.position.top,s.event.lastDir=C===!0?void 0:w.direction,s.event.isFirst=!1));return}if(s.direction.all===!0||m===!0&&(s.modifiers.mouseAllDir===!0||s.modifiers.mousealldir===!0)){g(),s.event.detected=!0,s.move(l);return}const b=Math.abs(h),S=Math.abs(p);b!==S&&(s.direction.horizontal===!0&&b>S||s.direction.vertical===!0&&b<S||s.direction.up===!0&&b<S&&p<0||s.direction.down===!0&&b<S&&p>0||s.direction.left===!0&&b>S&&h<0||s.direction.right===!0&&b>S&&h>0?(s.event.detected=!0,s.move(l)):s.end(l,!0))},end(l,f){if(s.event!==void 0){if(tu(s,"temp"),Sn.is.firefox===!0&&bf(t,!1),f===!0)s.styleCleanup!==void 0&&s.styleCleanup(),s.event.detected!==!0&&s.initialEvent!==void 0&&s.initialEvent.target.dispatchEvent(s.initialEvent.event);else if(s.event.detected===!0){s.event.isFirst===!0&&s.handler(ww(l===void 0?s.lastEvt:l,s).payload);const{payload:h}=ww(l===void 0?s.lastEvt:l,s,!0),p=()=>{s.handler(h)};s.styleCleanup!==void 0?s.styleCleanup(p):p()}s.event=void 0,s.initialEvent=void 0,s.lastEvt=void 0}}};if(t.__qtouchpan=s,n.mouse===!0){const l=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";zo(s,"main",[[t,"mousedown","mouseStart",`passive${l}`]])}Sn.has.touch===!0&&zo(s,"main",[[t,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchpan;n!==void 0&&(e.oldValue!==e.value&&(typeof value!="function"&&n.end(),n.handler=e.value),n.direction=fv(e.modifiers))},beforeUnmount(t){const e=t.__qtouchpan;e!==void 0&&(e.event!==void 0&&e.end(),tu(e,"main"),tu(e,"temp"),Sn.is.firefox===!0&&bf(t,!1),e.styleCleanup!==void 0&&e.styleCleanup(),delete t.__qtouchpan)}}),dT=150,M1e=Zt({name:"QDrawer",inheritAttrs:!1,props:{...nm,...hi,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...rm,"onLayout","miniState"],setup(t,{slots:e,emit:n,attrs:i}){const s=tn(),{proxy:{$q:l}}=s,f=di(t,l),{preventBodyScroll:h}=cB(),{registerTimeout:p,removeTimeout:m}=au(),g=$a(x0,Nr);if(g===Nr)return Nr;let b,S=null,w;const C=pt(t.behavior==="mobile"||t.behavior!=="desktop"&&g.totalWidth.value<=t.breakpoint),M=xe(()=>t.mini===!0&&C.value!==!0),T=xe(()=>M.value===!0?t.miniWidth:t.width),D=pt(t.showIfAbove===!0&&C.value===!1?!0:t.modelValue===!0),R=xe(()=>t.persistent!==!0&&(C.value===!0||tt.value===!0));function q(ot,Ne){if(te(),ot!==!1&&g.animate(),Nt(0),C.value===!0){const nt=g.instances[Le.value];nt!==void 0&&nt.belowBreakpoint===!0&&nt.hide(!1),Jt(1),g.isContainer.value!==!0&&h(!0)}else Jt(0),ot!==!1&&pn(!1);p(()=>{ot!==!1&&pn(!0),Ne!==!0&&n("show",ot)},dT)}function Y(ot,Ne){ee(),ot!==!1&&g.animate(),Jt(0),Nt(Fe.value*T.value),dr(),Ne!==!0?p(()=>{n("hide",ot)},dT):m()}const{show:K,hide:ce}=im({showing:D,hideOnRouteChange:R,handleShow:q,handleHide:Y}),{addToHistory:te,removeFromHistory:ee}=JR(D,ce,R),he={belowBreakpoint:C,hide:ce},be=xe(()=>t.side==="right"),Fe=xe(()=>(l.lang.rtl===!0?-1:1)*(be.value===!0?1:-1)),oe=pt(0),Se=pt(!1),fe=pt(!1),Te=pt(T.value*Fe.value),Le=xe(()=>be.value===!0?"left":"right"),Pe=xe(()=>D.value===!0&&C.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:T.value:0),ze=xe(()=>t.overlay===!0||t.miniToOverlay===!0||g.view.value.indexOf(be.value?"R":"L")!==-1||l.platform.is.ios===!0&&g.isContainer.value===!0),Je=xe(()=>t.overlay===!1&&D.value===!0&&C.value===!1),tt=xe(()=>t.overlay===!0&&D.value===!0&&C.value===!1),lt=xe(()=>"fullscreen q-drawer__backdrop"+(D.value===!1&&Se.value===!1?" hidden":"")),Qe=xe(()=>({backgroundColor:`rgba(0,0,0,${oe.value*.4})`})),mt=xe(()=>be.value===!0?g.rows.value.top[2]==="r":g.rows.value.top[0]==="l"),Ct=xe(()=>be.value===!0?g.rows.value.bottom[2]==="r":g.rows.value.bottom[0]==="l"),Ft=xe(()=>{const ot={};return g.header.space===!0&&mt.value===!1&&(ze.value===!0?ot.top=`${g.header.offset}px`:g.header.space===!0&&(ot.top=`${g.header.size}px`)),g.footer.space===!0&&Ct.value===!1&&(ze.value===!0?ot.bottom=`${g.footer.offset}px`:g.footer.space===!0&&(ot.bottom=`${g.footer.size}px`)),ot}),Ze=xe(()=>{const ot={width:`${T.value}px`,transform:`translateX(${Te.value}px)`};return C.value===!0?ot:Object.assign(ot,Ft.value)}),Pt=xe(()=>"q-drawer__content fit "+(g.isContainer.value!==!0?"scroll":"overflow-auto")),Lt=xe(()=>`q-drawer q-drawer--${t.side}`+(fe.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(f.value===!0?" q-drawer--dark q-dark":"")+(Se.value===!0?" no-transition":D.value===!0?"":" q-layout--prevent-focus")+(C.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${M.value===!0?"mini":"standard"}`+(ze.value===!0||Je.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(mt.value===!0?" q-drawer--top-padding":""))),at=xe(()=>{const ot=l.lang.rtl===!0?t.side:Le.value;return[[Sf,bn,void 0,{[ot]:!0,mouse:!0}]]}),Et=xe(()=>{const ot=l.lang.rtl===!0?Le.value:t.side;return[[Sf,lr,void 0,{[ot]:!0,mouse:!0}]]}),Gt=xe(()=>{const ot=l.lang.rtl===!0?Le.value:t.side;return[[Sf,lr,void 0,{[ot]:!0,mouse:!0,mouseAllDir:!0}]]});function Ht(){tr(C,t.behavior==="mobile"||t.behavior!=="desktop"&&g.totalWidth.value<=t.breakpoint)}qt(C,ot=>{ot===!0?(b=D.value,D.value===!0&&ce(!1)):t.overlay===!1&&t.behavior!=="mobile"&&b!==!1&&(D.value===!0?(Nt(0),Jt(0),dr()):K(!1))}),qt(()=>t.side,(ot,Ne)=>{g.instances[Ne]===he&&(g.instances[Ne]=void 0,g[Ne].space=!1,g[Ne].offset=0),g.instances[ot]=he,g[ot].size=T.value,g[ot].space=Je.value,g[ot].offset=Pe.value}),qt(g.totalWidth,()=>{(g.isContainer.value===!0||document.qScrollPrevented!==!0)&&Ht()}),qt(()=>t.behavior+t.breakpoint,Ht),qt(g.isContainer,ot=>{D.value===!0&&h(ot!==!0),ot===!0&&Ht()}),qt(g.scrollbarWidth,()=>{Nt(D.value===!0?0:void 0)}),qt(Pe,ot=>{jn("offset",ot)}),qt(Je,ot=>{n("onLayout",ot),jn("space",ot)}),qt(be,()=>{Nt()}),qt(T,ot=>{Nt(),bt(t.miniToOverlay,ot)}),qt(()=>t.miniToOverlay,ot=>{bt(ot,T.value)}),qt(()=>l.lang.rtl,()=>{Nt()}),qt(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(En(),g.animate())}),qt(M,ot=>{n("miniState",ot)});function Nt(ot){ot===void 0?Mr(()=>{ot=D.value===!0?0:T.value,Nt(Fe.value*ot)}):(g.isContainer.value===!0&&be.value===!0&&(C.value===!0||Math.abs(ot)===T.value)&&(ot+=Fe.value*g.scrollbarWidth.value),Te.value=ot)}function Jt(ot){oe.value=ot}function pn(ot){const Ne=ot===!0?"remove":g.isContainer.value!==!0?"add":"";Ne!==""&&document.body.classList[Ne]("q-body--drawer-toggle")}function En(){S!==null&&clearTimeout(S),s.proxy&&s.proxy.$el&&s.proxy.$el.classList.add("q-drawer--mini-animate"),fe.value=!0,S=setTimeout(()=>{S=null,fe.value=!1,s&&s.proxy&&s.proxy.$el&&s.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function bn(ot){if(D.value!==!1)return;const Ne=T.value,nt=ui(ot.distance.x,0,Ne);if(ot.isFinal===!0){nt>=Math.min(75,Ne)===!0?K():(g.animate(),Jt(0),Nt(Fe.value*Ne)),Se.value=!1;return}Nt((l.lang.rtl===!0?be.value!==!0:be.value)?Math.max(Ne-nt,0):Math.min(0,nt-Ne)),Jt(ui(nt/Ne,0,1)),ot.isFirst===!0&&(Se.value=!0)}function lr(ot){if(D.value!==!0)return;const Ne=T.value,nt=ot.direction===t.side,vt=(l.lang.rtl===!0?nt!==!0:nt)?ui(ot.distance.x,0,Ne):0;if(ot.isFinal===!0){Math.abs(vt)<Math.min(75,Ne)===!0?(g.animate(),Jt(1),Nt(0)):ce(),Se.value=!1;return}Nt(Fe.value*vt),Jt(ui(1-vt/Ne,0,1)),ot.isFirst===!0&&(Se.value=!0)}function dr(){h(!1),pn(!0)}function jn(ot,Ne){g.update(t.side,ot,Ne)}function tr(ot,Ne){ot.value!==Ne&&(ot.value=Ne)}function bt(ot,Ne){jn("size",ot===!0?t.miniWidth:Ne)}return g.instances[t.side]=he,bt(t.miniToOverlay,T.value),jn("space",Je.value),jn("offset",Pe.value),t.showIfAbove===!0&&t.modelValue!==!0&&D.value===!0&&t["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),ci(()=>{n("onLayout",Je.value),n("miniState",M.value),b=t.showIfAbove===!0;const ot=()=>{(D.value===!0?q:Y)(!1,!0)};if(g.totalWidth.value!==0){Mr(ot);return}w=qt(g.totalWidth,()=>{w(),w=void 0,D.value===!1&&t.showIfAbove===!0&&C.value===!1?K(!1):ot()})}),or(()=>{w!==void 0&&w(),S!==null&&(clearTimeout(S),S=null),D.value===!0&&dr(),g.instances[t.side]===he&&(g.instances[t.side]=void 0,jn("size",0),jn("offset",0),jn("space",!1))}),()=>{const ot=[];C.value===!0&&(t.noSwipeOpen===!1&&ot.push(bl(Be("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),at.value)),ot.push(Yd("div",{ref:"backdrop",class:lt.value,style:Qe.value,"aria-hidden":"true",onClick:ce},void 0,"backdrop",t.noSwipeBackdrop!==!0&&D.value===!0,()=>Gt.value)));const Ne=M.value===!0&&e.mini!==void 0,nt=[Be("div",{...i,key:""+Ne,class:[Pt.value,i.class]},Ne===!0?e.mini():Dn(e.default))];return t.elevated===!0&&D.value===!0&&nt.push(Be("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),ot.push(Yd("aside",{ref:"content",class:Lt.value,style:Ze.value},nt,"contentclose",t.noSwipeClose!==!0&&C.value===!0,()=>Et.value)),Be("div",{class:"q-drawer-container"},ot)}}}),D1e=Zt({name:"QPageContainer",setup(t,{slots:e}){const{proxy:{$q:n}}=tn(),i=$a(x0,Nr);if(i===Nr)return Nr;b0(mR,!0);const s=xe(()=>{const l={};return i.header.space===!0&&(l.paddingTop=`${i.header.size}px`),i.right.space===!0&&(l[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${i.right.size}px`),i.footer.space===!0&&(l.paddingBottom=`${i.footer.size}px`),i.left.space===!0&&(l[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${i.left.size}px`),l});return()=>Be("div",{class:"q-page-container",style:s.value},Dn(e.default))}}),{passive:pT}=wr,wse=["both","horizontal","vertical"],$B=Zt({name:"QScrollObserver",props:{axis:{type:String,validator:t=>wse.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:aB},emits:["scroll"],setup(t,{emit:e}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i=null,s,l;qt(()=>t.scrollTarget,()=>{p(),h()});function f(){i!==null&&i();const b=Math.max(0,PS(s)),S=RS(s),w={top:b-n.position.top,left:S-n.position.left};if(t.axis==="vertical"&&w.top===0||t.axis==="horizontal"&&w.left===0)return;const C=Math.abs(w.top)>=Math.abs(w.left)?w.top<0?"up":"down":w.left<0?"left":"right";n.position={top:b,left:S},n.directionChanged=n.direction!==C,n.delta=w,n.directionChanged===!0&&(n.direction=C,n.inflectionPoint=n.position),e("scroll",{...n})}function h(){s=sB(l,t.scrollTarget),s.addEventListener("scroll",m,pT),m(!0)}function p(){s!==void 0&&(s.removeEventListener("scroll",m,pT),s=void 0)}function m(b){if(b===!0||t.debounce===0||t.debounce==="0")f();else if(i===null){const[S,w]=t.debounce?[setTimeout(f,t.debounce),clearTimeout]:[requestAnimationFrame(f),cancelAnimationFrame];i=()=>{w(S),i=null}}}const{proxy:g}=tn();return qt(()=>g.$q.lang.rtl,f),ci(()=>{l=g.$el.parentNode,h()}),or(()=>{i!==null&&i(),p()}),Object.assign(g,{trigger:m,getPosition:()=>n}),Bi}});function xse(){const t=pt(!ro.value);return t.value===!1&&ci(()=>{t.value=!0}),{isHydrated:t}}const UB=typeof ResizeObserver<"u",gT=UB===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Xd=Zt({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:e}){let n=null,i,s={width:-1,height:-1};function l(p){p===!0||t.debounce===0||t.debounce==="0"?f():n===null&&(n=setTimeout(f,t.debounce))}function f(){if(n!==null&&(clearTimeout(n),n=null),i){const{offsetWidth:p,offsetHeight:m}=i;(p!==s.width||m!==s.height)&&(s={width:p,height:m},e("resize",s))}}const{proxy:h}=tn();if(h.trigger=l,UB===!0){let p;const m=g=>{i=h.$el.parentNode,i?(p=new ResizeObserver(l),p.observe(i),f()):g!==!0&&Mr(()=>{m(!0)})};return ci(()=>{m()}),or(()=>{n!==null&&clearTimeout(n),p!==void 0&&(p.disconnect!==void 0?p.disconnect():i&&p.unobserve(i))}),Bi}else{let p=function(){n!==null&&(clearTimeout(n),n=null),b!==void 0&&(b.removeEventListener!==void 0&&b.removeEventListener("resize",l,wr.passive),b=void 0)},m=function(){p(),i&&i.contentDocument&&(b=i.contentDocument.defaultView,b.addEventListener("resize",l,wr.passive),f())};const{isHydrated:g}=xse();let b;return ci(()=>{Mr(()=>{i=h.$el,i&&m()})}),or(p),()=>{if(g.value===!0)return Be("object",{class:"q--avoid-card-border",style:gT.style,tabindex:-1,type:"text/html",data:gT.url,"aria-hidden":"true",onLoad:m})}}}}),T1e=Zt({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=tn(),s=pt(null),l=pt(i.screen.height),f=pt(t.container===!0?0:i.screen.width),h=pt({position:0,direction:"down",inflectionPoint:0}),p=pt(0),m=pt(ro.value===!0?0:H1()),g=xe(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),b=xe(()=>t.container===!1?{minHeight:i.screen.height+"px"}:null),S=xe(()=>m.value!==0?{[i.lang.rtl===!0?"left":"right"]:`${m.value}px`}:null),w=xe(()=>m.value!==0?{[i.lang.rtl===!0?"right":"left"]:0,[i.lang.rtl===!0?"left":"right"]:`-${m.value}px`,width:`calc(100% + ${m.value}px)`}:null);function C(Y){if(t.container===!0||document.qScrollPrevented!==!0){const K={position:Y.position.top,direction:Y.direction,directionChanged:Y.directionChanged,inflectionPoint:Y.inflectionPoint.top,delta:Y.delta.top};h.value=K,t.onScroll!==void 0&&n("scroll",K)}}function M(Y){const{height:K,width:ce}=Y;let te=!1;l.value!==K&&(te=!0,l.value=K,t.onScrollHeight!==void 0&&n("scrollHeight",K),D()),f.value!==ce&&(te=!0,f.value=ce),te===!0&&t.onResize!==void 0&&n("resize",Y)}function T({height:Y}){p.value!==Y&&(p.value=Y,D())}function D(){if(t.container===!0){const Y=l.value>p.value?H1():0;m.value!==Y&&(m.value=Y)}}let R=null;const q={instances:{},view:xe(()=>t.view),isContainer:xe(()=>t.container),rootRef:s,height:l,containerHeight:p,scrollbarWidth:m,totalWidth:xe(()=>f.value+m.value),rows:xe(()=>{const Y=t.view.toLowerCase().split(" ");return{top:Y[0].split(""),middle:Y[1].split(""),bottom:Y[2].split("")}}),header:il({size:0,offset:0,space:!1}),right:il({size:300,offset:0,space:!1}),footer:il({size:0,offset:0,space:!1}),left:il({size:300,offset:0,space:!1}),scroll:h,animate(){R!==null?clearTimeout(R):document.body.classList.add("q-body--layout-animate"),R=setTimeout(()=>{R=null,document.body.classList.remove("q-body--layout-animate")},155)},update(Y,K,ce){q[Y][K]=ce}};if(b0(x0,q),H1()>0){let Y=function(){te=null,ee.classList.remove("hide-scrollbar")},K=function(){if(te===null){if(ee.scrollHeight>i.screen.height)return;ee.classList.add("hide-scrollbar")}else clearTimeout(te);te=setTimeout(Y,300)},ce=function(he){te!==null&&he==="remove"&&(clearTimeout(te),Y()),window[`${he}EventListener`]("resize",K)},te=null;const ee=document.body;qt(()=>t.container!==!0?"add":"remove",ce),t.container!==!0&&ce("add"),uR(()=>{ce("remove")})}return()=>{const Y=fa(e.default,[Be($B,{onScroll:C}),Be(Xd,{onResize:M})]),K=Be("div",{class:g.value,style:b.value,ref:t.container===!0?void 0:s,tabindex:-1},Y);return t.container===!0?Be("div",{class:"q-layout-container overflow-hidden",ref:s},[Be(Xd,{onResize:T}),Be("div",{class:"absolute-full",style:S.value},[Be("div",{class:"scroll",style:w.value},[K])])]):K}}}),Sse=["ul","ol"],P1e=Zt({name:"QList",props:{...hi,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(t,{slots:e}){const n=tn(),i=di(t,n.proxy.$q),s=xe(()=>Sse.includes(t.tag)?null:"list"),l=xe(()=>"q-list"+(t.bordered===!0?" q-list--bordered":"")+(t.dense===!0?" q-list--dense":"")+(t.separator===!0?" q-list--separator":"")+(i.value===!0?" q-list--dark":"")+(t.padding===!0?" q-list--padding":""));return()=>Be(t.tag,{class:l.value,role:s.value},Dn(e.default))}}),Cse=Zt({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(t){return()=>[Be("div",{class:t.store.scroll.vertical.barClass.value,style:[t.barStyle,t.verticalBarStyle],"aria-hidden":"true",onMousedown:t.store.onVerticalMousedown}),Be("div",{class:t.store.scroll.horizontal.barClass.value,style:[t.barStyle,t.horizontalBarStyle],"aria-hidden":"true",onMousedown:t.store.onHorizontalMousedown}),bl(Be("div",{ref:t.store.scroll.vertical.ref,class:t.store.scroll.vertical.thumbClass.value,style:t.store.scroll.vertical.style.value,"aria-hidden":"true"}),t.store.thumbVertDir),bl(Be("div",{ref:t.store.scroll.horizontal.ref,class:t.store.scroll.horizontal.thumbClass.value,style:t.store.scroll.horizontal.style.value,"aria-hidden":"true"}),t.store.thumbHorizDir)]}}),vT=["vertical","horizontal"],xw={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},mT={prevent:!0,mouse:!0,mouseAllDir:!0},yT=t=>t>=250?50:Math.ceil(t/5),R1e=Zt({name:"QScrollArea",props:{...hi,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(t,{slots:e,emit:n}){const i=pt(!1),s=pt(!1),l=pt(!1),f={vertical:pt(0),horizontal:pt(0)},h={vertical:{ref:pt(null),position:pt(0),size:pt(0)},horizontal:{ref:pt(null),position:pt(0),size:pt(0)}},{proxy:p}=tn(),m=di(t,p.$q);let g=null,b;const S=pt(null),w=xe(()=>"q-scrollarea"+(m.value===!0?" q-scrollarea--dark":""));Object.assign(f,{verticalInner:xe(()=>f.vertical.value-t.verticalOffset[0]-t.verticalOffset[1]),horizontalInner:xe(()=>f.horizontal.value-t.horizontalOffset[0]-t.horizontalOffset[1])}),h.vertical.percentage=xe(()=>{const fe=h.vertical.size.value-f.vertical.value;if(fe<=0)return 0;const Te=ui(h.vertical.position.value/fe,0,1);return Math.round(Te*1e4)/1e4}),h.vertical.thumbHidden=xe(()=>(t.visible===null?l.value:t.visible)!==!0&&i.value===!1&&s.value===!1||h.vertical.size.value<=f.vertical.value+1),h.vertical.thumbStart=xe(()=>t.verticalOffset[0]+h.vertical.percentage.value*(f.verticalInner.value-h.vertical.thumbSize.value)),h.vertical.thumbSize=xe(()=>Math.round(ui(f.verticalInner.value*f.verticalInner.value/h.vertical.size.value,yT(f.verticalInner.value),f.verticalInner.value))),h.vertical.style=xe(()=>({...t.thumbStyle,...t.verticalThumbStyle,top:`${h.vertical.thumbStart.value}px`,height:`${h.vertical.thumbSize.value}px`,right:`${t.horizontalOffset[1]}px`})),h.vertical.thumbClass=xe(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(h.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),h.vertical.barClass=xe(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(h.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),h.horizontal.percentage=xe(()=>{const fe=h.horizontal.size.value-f.horizontal.value;if(fe<=0)return 0;const Te=ui(Math.abs(h.horizontal.position.value)/fe,0,1);return Math.round(Te*1e4)/1e4}),h.horizontal.thumbHidden=xe(()=>(t.visible===null?l.value:t.visible)!==!0&&i.value===!1&&s.value===!1||h.horizontal.size.value<=f.horizontal.value+1),h.horizontal.thumbStart=xe(()=>t.horizontalOffset[0]+h.horizontal.percentage.value*(f.horizontalInner.value-h.horizontal.thumbSize.value)),h.horizontal.thumbSize=xe(()=>Math.round(ui(f.horizontalInner.value*f.horizontalInner.value/h.horizontal.size.value,yT(f.horizontalInner.value),f.horizontalInner.value))),h.horizontal.style=xe(()=>({...t.thumbStyle,...t.horizontalThumbStyle,[p.$q.lang.rtl===!0?"right":"left"]:`${h.horizontal.thumbStart.value}px`,width:`${h.horizontal.thumbSize.value}px`,bottom:`${t.verticalOffset[1]}px`})),h.horizontal.thumbClass=xe(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(h.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),h.horizontal.barClass=xe(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(h.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const C=xe(()=>h.vertical.thumbHidden.value===!0&&h.horizontal.thumbHidden.value===!0?t.contentStyle:t.contentActiveStyle);function M(){const fe={};return vT.forEach(Te=>{const Le=h[Te];Object.assign(fe,{[Te+"Position"]:Le.position.value,[Te+"Percentage"]:Le.percentage.value,[Te+"Size"]:Le.size.value,[Te+"ContainerSize"]:f[Te].value,[Te+"ContainerInnerSize"]:f[Te+"Inner"].value})}),fe}const T=dS(()=>{const fe=M();fe.ref=p,n("scroll",fe)},0);function D(fe,Te,Le){if(vT.includes(fe)===!1)return;(fe==="vertical"?jD:fw)(S.value,Te,Le)}function R({height:fe,width:Te}){let Le=!1;f.vertical.value!==fe&&(f.vertical.value=fe,Le=!0),f.horizontal.value!==Te&&(f.horizontal.value=Te,Le=!0),Le===!0&&te()}function q({position:fe}){let Te=!1;h.vertical.position.value!==fe.top&&(h.vertical.position.value=fe.top,Te=!0),h.horizontal.position.value!==fe.left&&(h.horizontal.position.value=fe.left,Te=!0),Te===!0&&te()}function Y({height:fe,width:Te}){h.horizontal.size.value!==Te&&(h.horizontal.size.value=Te,te()),h.vertical.size.value!==fe&&(h.vertical.size.value=fe,te())}function K(fe,Te){const Le=h[Te];if(fe.isFirst===!0){if(Le.thumbHidden.value===!0)return;b=Le.position.value,s.value=!0}else if(s.value!==!0)return;fe.isFinal===!0&&(s.value=!1);const Pe=xw[Te],ze=(Le.size.value-f[Te].value)/(f[Te+"Inner"].value-Le.thumbSize.value),Je=fe.distance[Pe.dist],tt=b+(fe.direction===Pe.dir?1:-1)*Je*ze;ee(tt,Te)}function ce(fe,Te){const Le=h[Te];if(Le.thumbHidden.value!==!0){const Pe=Te==="vertical"?t.verticalOffset[0]:t.horizontalOffset[0],ze=fe[xw[Te].offset]-Pe,Je=Le.thumbStart.value-Pe;if(ze<Je||ze>Je+Le.thumbSize.value){const tt=ze-Le.thumbSize.value/2,lt=ui(tt/(f[Te+"Inner"].value-Le.thumbSize.value),0,1);ee(lt*Math.max(0,Le.size.value-f[Te].value),Te)}Le.ref.value!==null&&Le.ref.value.dispatchEvent(new MouseEvent(fe.type,fe))}}function te(){i.value=!0,g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,i.value=!1},t.delay),t.onScroll!==void 0&&T()}function ee(fe,Te){S.value[xw[Te].scroll]=fe}let he=null;function be(){he!==null&&clearTimeout(he),he=setTimeout(()=>{he=null,l.value=!0},p.$q.platform.is.ios?50:0)}function Fe(){he!==null&&(clearTimeout(he),he=null),l.value=!1}let oe=null;qt(()=>p.$q.lang.rtl,fe=>{S.value!==null&&fw(S.value,Math.abs(h.horizontal.position.value)*(fe===!0?-1:1))}),Hf(()=>{oe={top:h.vertical.position.value,left:h.horizontal.position.value}}),Xv(()=>{if(oe===null)return;const fe=S.value;fe!==null&&(fw(fe,oe.left),jD(fe,oe.top))}),or(T.cancel),Object.assign(p,{getScrollTarget:()=>S.value,getScroll:M,getScrollPosition:()=>({top:h.vertical.position.value,left:h.horizontal.position.value}),getScrollPercentage:()=>({top:h.vertical.percentage.value,left:h.horizontal.percentage.value}),setScrollPosition:D,setScrollPercentage(fe,Te,Le){D(fe,Te*(h[fe].size.value-f[fe].value)*(fe==="horizontal"&&p.$q.lang.rtl===!0?-1:1),Le)}});const Se={scroll:h,thumbVertDir:[[Sf,fe=>{K(fe,"vertical")},void 0,{vertical:!0,...mT}]],thumbHorizDir:[[Sf,fe=>{K(fe,"horizontal")},void 0,{horizontal:!0,...mT}]],onVerticalMousedown(fe){ce(fe,"vertical")},onHorizontalMousedown(fe){ce(fe,"horizontal")}};return()=>Be("div",{class:w.value,onMouseenter:be,onMouseleave:Fe},[Be("div",{ref:S,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:t.tabindex!==void 0?t.tabindex:void 0},[Be("div",{class:"q-scrollarea__content absolute",style:C.value},fa(e.default,[Be(Xd,{debounce:0,onResize:Y})])),Be($B,{axis:"both",onScroll:q})]),Be(Xd,{debounce:0,onResize:R}),Be(Cse,{store:Se,barStyle:t.barStyle,verticalBarStyle:t.verticalBarStyle,horizontalBarStyle:t.horizontalBarStyle})])}}),Sw=Zt({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(t,{slots:e}){const n=xe(()=>`q-item__section column q-item__section--${t.avatar===!0||t.side===!0||t.thumbnail===!0?"side":"main"}`+(t.top===!0?" q-item__section--top justify-start":" justify-center")+(t.avatar===!0?" q-item__section--avatar":"")+(t.thumbnail===!0?" q-item__section--thumbnail":"")+(t.noWrap===!0?" q-item__section--nowrap":""));return()=>Be("div",{class:n.value},Dn(e.default))}}),Ese=Zt({name:"QItem",props:{...hi,...BS,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=tn(),s=di(t,i),{hasLink:l,linkAttrs:f,linkClass:h,linkTag:p,navigateOnClick:m}=EB(),g=pt(null),b=pt(null),S=xe(()=>t.clickable===!0||l.value===!0||t.tag==="label"),w=xe(()=>t.disable!==!0&&S.value===!0),C=xe(()=>"q-item q-item-type row no-wrap"+(t.dense===!0?" q-item--dense":"")+(s.value===!0?" q-item--dark":"")+(l.value===!0&&t.active===null?h.value:t.active===!0?` q-item--active${t.activeClass!==void 0?` ${t.activeClass}`:""}`:"")+(t.disable===!0?" disabled":"")+(w.value===!0?" q-item--clickable q-link cursor-pointer "+(t.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(t.focused===!0?" q-manual-focusable--focused":""):"")),M=xe(()=>t.insetLevel===void 0?null:{["padding"+(i.lang.rtl===!0?"Right":"Left")]:16+t.insetLevel*56+"px"});function T(q){w.value===!0&&(b.value!==null&&(q.qKeyEvent!==!0&&document.activeElement===g.value?b.value.focus():document.activeElement===b.value&&g.value.focus()),m(q))}function D(q){if(w.value===!0&&Ua(q,[13,32])===!0){Wn(q),q.qKeyEvent=!0;const Y=new MouseEvent("click",q);Y.qKeyEvent=!0,g.value.dispatchEvent(Y)}n("keyup",q)}function R(){const q=eae(e.default,[]);return w.value===!0&&q.unshift(Be("div",{class:"q-focus-helper",tabindex:-1,ref:b})),q}return()=>{const q={ref:g,class:C.value,style:M.value,role:"listitem",onClick:T,onKeyup:D};return w.value===!0?(q.tabindex=t.tabindex||"0",Object.assign(q,f.value)):S.value===!0&&(q["aria-disabled"]="true"),Be(p.value,q,R())}}}),_T=Zt({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(t,{slots:e}){const n=xe(()=>parseInt(t.lines,10)),i=xe(()=>"q-item__label"+(t.overline===!0?" q-item__label--overline text-overline":"")+(t.caption===!0?" q-item__label--caption text-caption":"")+(t.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),s=xe(()=>t.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>Be("div",{style:s.value,class:i.value},Dn(e.default))}}),Ase=Zt({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(t,{slots:e,emit:n}){let i=!1,s,l,f=null,h=null,p,m;function g(){s&&s(),s=null,i=!1,f!==null&&(clearTimeout(f),f=null),h!==null&&(clearTimeout(h),h=null),l!==void 0&&l.removeEventListener("transitionend",p),p=null}function b(M,T,D){T!==void 0&&(M.style.height=`${T}px`),M.style.transition=`height ${t.duration}ms cubic-bezier(.25, .8, .50, 1)`,i=!0,s=D}function S(M,T){M.style.overflowY=null,M.style.height=null,M.style.transition=null,g(),T!==m&&n(T)}function w(M,T){let D=0;l=M,i===!0?(g(),D=M.offsetHeight===M.scrollHeight?0:void 0):(m="hide",M.style.overflowY="hidden"),b(M,D,T),f=setTimeout(()=>{f=null,M.style.height=`${M.scrollHeight}px`,p=R=>{h=null,(Object(R)!==R||R.target===M)&&S(M,"show")},M.addEventListener("transitionend",p),h=setTimeout(p,t.duration*1.1)},100)}function C(M,T){let D;l=M,i===!0?g():(m="show",M.style.overflowY="hidden",D=M.scrollHeight),b(M,D,T),f=setTimeout(()=>{f=null,M.style.height=0,p=R=>{h=null,(Object(R)!==R||R.target===M)&&S(M,"hide")},M.addEventListener("transitionend",p),h=setTimeout(p,t.duration*1.1)},100)}return or(()=>{i===!0&&g()}),()=>Be(Ca,{css:!1,appear:t.appear,onEnter:w,onLeave:C},e.default)}}),Vu=Sre({}),kse=Object.keys(BS),B1e=Zt({name:"QExpansionItem",props:{...BS,...nm,...hi,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...rm,"click","afterShow","afterHide"],setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=tn(),s=di(t,i),l=pt(t.modelValue!==null?t.modelValue:t.defaultOpened),f=pt(null),h=LS(),{show:p,hide:m,toggle:g}=im({showing:l});let b,S;const w=xe(()=>`q-expansion-item q-item-type q-expansion-item--${l.value===!0?"expanded":"collapsed"} q-expansion-item--${t.popup===!0?"popup":"standard"}`),C=xe(()=>t.contentInsetLevel===void 0?null:{["padding"+(i.lang.rtl===!0?"Right":"Left")]:t.contentInsetLevel*56+"px"}),M=xe(()=>t.disable!==!0&&(t.href!==void 0||t.to!==void 0&&t.to!==null&&t.to!=="")),T=xe(()=>{const Pe={};return kse.forEach(ze=>{Pe[ze]=t[ze]}),Pe}),D=xe(()=>M.value===!0||t.expandIconToggle!==!0),R=xe(()=>t.expandedIcon!==void 0&&l.value===!0?t.expandedIcon:t.expandIcon||i.iconSet.expansionItem[t.denseToggle===!0?"denseIcon":"icon"]),q=xe(()=>t.disable!==!0&&(M.value===!0||t.expandIconToggle===!0)),Y=xe(()=>({expanded:l.value===!0,detailsId:h.value,toggle:g,show:p,hide:m})),K=xe(()=>{const Pe=t.toggleAriaLabel!==void 0?t.toggleAriaLabel:i.lang.label[l.value===!0?"collapse":"expand"](t.label);return{role:"button","aria-expanded":l.value===!0?"true":"false","aria-controls":h.value,"aria-label":Pe}});qt(()=>t.group,Pe=>{S!==void 0&&S(),Pe!==void 0&&Fe()});function ce(Pe){M.value!==!0&&g(Pe),n("click",Pe)}function te(Pe){Pe.keyCode===13&&ee(Pe,!0)}function ee(Pe,ze){ze!==!0&&f.value!==null&&f.value.focus(),g(Pe),Wn(Pe)}function he(){n("afterShow")}function be(){n("afterHide")}function Fe(){b===void 0&&(b=lv()),l.value===!0&&(Vu[t.group]=b);const Pe=qt(l,Je=>{Je===!0?Vu[t.group]=b:Vu[t.group]===b&&delete Vu[t.group]}),ze=qt(()=>Vu[t.group],(Je,tt)=>{tt===b&&Je!==void 0&&Je!==b&&m()});S=()=>{Pe(),ze(),Vu[t.group]===b&&delete Vu[t.group],S=void 0}}function oe(){const Pe={class:[`q-focusable relative-position cursor-pointer${t.denseToggle===!0&&t.switchToggleSide===!0?" items-end":""}`,t.expandIconClass],side:t.switchToggleSide!==!0,avatar:t.switchToggleSide},ze=[Be(Xr,{class:"q-expansion-item__toggle-icon"+(t.expandedIcon===void 0&&l.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:R.value})];return q.value===!0&&(Object.assign(Pe,{tabindex:0,...K.value,onClick:ee,onKeyup:te}),ze.unshift(Be("div",{ref:f,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),Be(Sw,Pe,()=>ze)}function Se(){let Pe;return e.header!==void 0?Pe=[].concat(e.header(Y.value)):(Pe=[Be(Sw,()=>[Be(_T,{lines:t.labelLines},()=>t.label||""),t.caption?Be(_T,{lines:t.captionLines,caption:!0},()=>t.caption):null])],t.icon&&Pe[t.switchToggleSide===!0?"push":"unshift"](Be(Sw,{side:t.switchToggleSide===!0,avatar:t.switchToggleSide!==!0},()=>Be(Xr,{name:t.icon})))),t.disable!==!0&&t.hideExpandIcon!==!0&&Pe[t.switchToggleSide===!0?"unshift":"push"](oe()),Pe}function fe(){const Pe={ref:"item",style:t.headerStyle,class:t.headerClass,dark:s.value,disable:t.disable,dense:t.dense,insetLevel:t.headerInsetLevel};return D.value===!0&&(Pe.clickable=!0,Pe.onClick=ce,Object.assign(Pe,M.value===!0?T.value:K.value)),Be(Ese,Pe,Se)}function Te(){return bl(Be("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:C.value,id:h.value},Dn(e.default)),[[Cre,l.value]])}function Le(){const Pe=[fe(),Be(Ase,{duration:t.duration,onShow:he,onHide:be},Te)];return t.expandSeparator===!0&&Pe.push(Be(uv,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:s.value}),Be(uv,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:s.value})),Pe}return t.group!==void 0&&Fe(),or(()=>{S!==void 0&&S()}),()=>Be("div",{class:w.value},[Be("div",{class:"q-expansion-item__container relative-position"},Le())])}}),Fse={position:{type:String,default:"bottom-right",validator:t=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(t)},offset:{type:Array,validator:t=>t.length===2},expand:Boolean};function Ise(){const{props:t,proxy:{$q:e}}=tn(),n=$a(x0,Nr);if(n===Nr)return Nr;const i=xe(()=>{const b=t.position;return{top:b.indexOf("top")!==-1,right:b.indexOf("right")!==-1,bottom:b.indexOf("bottom")!==-1,left:b.indexOf("left")!==-1,vertical:b==="top"||b==="bottom",horizontal:b==="left"||b==="right"}}),s=xe(()=>n.header.offset),l=xe(()=>n.right.offset),f=xe(()=>n.footer.offset),h=xe(()=>n.left.offset),p=xe(()=>{let b=0,S=0;const w=i.value,C=e.lang.rtl===!0?-1:1;w.top===!0&&s.value!==0?S=`${s.value}px`:w.bottom===!0&&f.value!==0&&(S=`${-f.value}px`),w.left===!0&&h.value!==0?b=`${C*h.value}px`:w.right===!0&&l.value!==0&&(b=`${-C*l.value}px`);const M={transform:`translate(${b}, ${S})`};return t.offset&&(M.margin=`${t.offset[1]}px ${t.offset[0]}px`),w.vertical===!0?(h.value!==0&&(M[e.lang.rtl===!0?"right":"left"]=`${h.value}px`),l.value!==0&&(M[e.lang.rtl===!0?"left":"right"]=`${l.value}px`)):w.horizontal===!0&&(s.value!==0&&(M.top=`${s.value}px`),f.value!==0&&(M.bottom=`${f.value}px`)),M}),m=xe(()=>`q-page-sticky row flex-center fixed-${t.position} q-page-sticky--${t.expand===!0?"expand":"shrink"}`);function g(b){const S=Dn(b.default);return Be("div",{class:m.value,style:p.value},t.expand===!0?S:[Be("div",S)])}return{$layout:n,getStickyContent:g}}const O1e=Zt({name:"QPageSticky",props:Fse,setup(t,{slots:e}){const{getStickyContent:n}=Ise();return()=>n(e)}}),L1e=Zt({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:e}){const{proxy:{$q:n}}=tn(),i=$a(x0,Nr);if(i===Nr||$a(mR,Nr)===Nr)return Nr;const l=xe(()=>{const h=(i.header.space===!0?i.header.size:0)+(i.footer.space===!0?i.footer.size:0);if(typeof t.styleFn=="function"){const p=i.isContainer.value===!0?i.containerHeight.value:n.screen.height;return t.styleFn(h,p)}return{minHeight:i.isContainer.value===!0?i.containerHeight.value-h+"px":n.screen.height===0?h!==0?`calc(100vh - ${h}px)`:"100vh":n.screen.height-h+"px"}}),f=xe(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>Be("main",{class:f.value,style:l.value},Dn(e.default))}});function Mse(t){return gS(t)===!0?"__q_date|"+t.getTime():eie(t)===!0?"__q_expr|"+t.source:typeof t=="number"?"__q_numb|"+t:typeof t=="boolean"?"__q_bool|"+(t?"1":"0"):typeof t=="string"?"__q_strn|"+t:typeof t=="function"?"__q_strn|"+t.toString():t===Object(t)?"__q_objt|"+JSON.stringify(t):t}function Dse(t){if(t.length<9)return t;const n=t.substring(0,8),i=t.substring(9);switch(n){case"__q_date":const s=Number(i);return new Date(Number.isNaN(s)===!0?i:s);case"__q_expr":return new RegExp(i);case"__q_numb":return Number(i);case"__q_bool":return i==="1";case"__q_strn":return""+i;case"__q_objt":return JSON.parse(i);default:return t}}function Tse(){const t=()=>null;return{has:()=>!1,hasItem:()=>!1,getLength:()=>0,getItem:t,getIndex:t,getKey:t,getAll:()=>{},getAllKeys:()=>[],set:Bi,setItem:Bi,remove:Bi,removeItem:Bi,clear:Bi,isEmpty:()=>!0}}function Pse(t){const e=window[t+"Storage"],n=f=>{const h=e.getItem(f);return h?Dse(h):null},i=f=>e.getItem(f)!==null,s=(f,h)=>{e.setItem(f,Mse(h))},l=f=>{e.removeItem(f)};return{has:i,hasItem:i,getLength:()=>e.length,getItem:n,getIndex:f=>f<e.length?n(e.key(f)):null,getKey:f=>f<e.length?e.key(f):null,getAll:()=>{let f;const h={},p=e.length;for(let m=0;m<p;m++)f=e.key(m),h[f]=n(f);return h},getAllKeys:()=>{const f=[],h=e.length;for(let p=0;p<h;p++)f.push(e.key(p));return f},set:s,setItem:s,remove:l,removeItem:l,clear:()=>{e.clear()},isEmpty:()=>e.length===0}}const GB=Sn.has.webStorage===!1?Tse():Pse("session"),Rse={install({$q:t}){t.sessionStorage=GB}};Object.assign(Rse,GB);const Bse=t=>{const e=typeof t;return e!=="function"&&e!=="object"||t===null},Ose=t=>{const e=t.flags===""?void 0:t.flags;return new RegExp(t.source,e)},o1=(t,e=new WeakMap)=>{if(t===null||Bse(t))return t;if(e.has(t))return e.get(t);if(t instanceof RegExp)return Ose(t);if(t instanceof Date)return new Date(t.getTime());if(t instanceof Function)return t;if(t instanceof Map){const i=new Map;return e.set(t,i),t.forEach((s,l)=>{i.set(l,o1(s,e))}),i}if(t instanceof Set){const i=new Set;e.set(t,i);for(const s of t)i.add(o1(s,e));return i}if(Array.isArray(t)){const i=[];return e.set(t,i),t.forEach(s=>{i.push(o1(s,e))}),i}const n={};e.set(t,n);for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=o1(t[i],e));return n},z1e=(t,e=200)=>{let n=0;return(...i)=>new Promise(s=>{n&&(clearTimeout(n),s("cancel")),n=window.setTimeout(()=>{t.apply(void 0,i),n=0,s("done")},e)})},N1e=()=>`${Date.now().toString(36)}${Math.random().toString(36).substring(2)}`,bT=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),Lse=(t,e,n={})=>{const{excludeKeys:i}=n;for(const s in e)i&&i(s)?t[s]=e[s]:bT(e[s])&&bT(t[s])?t[s]=Lse(t[s],e[s],n):t[s]=e[s];return t};/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var Xu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a1=function(e){return e.tagName==="IMG"},zse=function(e){return NodeList.prototype.isPrototypeOf(e)},Y1=function(e){return e&&e.nodeType===1},wT=function(e){var n=e.currentSrc||e.src;return n.substr(-4).toLowerCase()===".svg"},xT=function(e){try{return Array.isArray(e)?e.filter(a1):zse(e)?[].slice.call(e).filter(a1):Y1(e)?[e].filter(a1):typeof e=="string"?[].slice.call(document.querySelectorAll(e)).filter(a1):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},Nse=function(e){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=e,n},jse=function(e){var n=e.getBoundingClientRect(),i=n.top,s=n.left,l=n.width,f=n.height,h=e.cloneNode(),p=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,m=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return h.removeAttribute("id"),h.style.position="absolute",h.style.top=i+p+"px",h.style.left=s+m+"px",h.style.width=l+"px",h.style.height=f+"px",h.style.transform="",h},Kc=function(e,n){var i=Xu({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(e,i);var s=document.createEvent("CustomEvent");return s.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),s},j1e=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=window.Promise||function(oe){function Se(){}oe(Se,Se)},s=function(oe){var Se=oe.target;if(Se===he){C();return}q.indexOf(Se)!==-1&&M({target:Se})},l=function(){if(!(K||!ee.original)){var oe=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(ce-oe)>te.scrollOffset&&setTimeout(C,150)}},f=function(oe){var Se=oe.key||oe.keyCode;(Se==="Escape"||Se==="Esc"||Se===27)&&C()},h=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Se=oe;if(oe.background&&(he.style.background=oe.background),oe.container&&oe.container instanceof Object&&(Se.container=Xu({},te.container,oe.container)),oe.template){var fe=Y1(oe.template)?oe.template:document.querySelector(oe.template);Se.template=fe}return te=Xu({},te,Se),q.forEach(function(Te){Te.dispatchEvent(Kc("medium-zoom:update",{detail:{zoom:be}}))}),be},p=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t(Xu({},te,oe))},m=function(){for(var oe=arguments.length,Se=Array(oe),fe=0;fe<oe;fe++)Se[fe]=arguments[fe];var Te=Se.reduce(function(Le,Pe){return[].concat(Le,xT(Pe))},[]);return Te.filter(function(Le){return q.indexOf(Le)===-1}).forEach(function(Le){q.push(Le),Le.classList.add("medium-zoom-image")}),Y.forEach(function(Le){var Pe=Le.type,ze=Le.listener,Je=Le.options;Te.forEach(function(tt){tt.addEventListener(Pe,ze,Je)})}),be},g=function(){for(var oe=arguments.length,Se=Array(oe),fe=0;fe<oe;fe++)Se[fe]=arguments[fe];ee.zoomed&&C();var Te=Se.length>0?Se.reduce(function(Le,Pe){return[].concat(Le,xT(Pe))},[]):q;return Te.forEach(function(Le){Le.classList.remove("medium-zoom-image"),Le.dispatchEvent(Kc("medium-zoom:detach",{detail:{zoom:be}}))}),q=q.filter(function(Le){return Te.indexOf(Le)===-1}),be},b=function(oe,Se){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q.forEach(function(Te){Te.addEventListener("medium-zoom:"+oe,Se,fe)}),Y.push({type:"medium-zoom:"+oe,listener:Se,options:fe}),be},S=function(oe,Se){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q.forEach(function(Te){Te.removeEventListener("medium-zoom:"+oe,Se,fe)}),Y=Y.filter(function(Te){return!(Te.type==="medium-zoom:"+oe&&Te.listener.toString()===Se.toString())}),be},w=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Se=oe.target,fe=function(){var Le={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},Pe=void 0,ze=void 0;if(te.container)if(te.container instanceof Object)Le=Xu({},Le,te.container),Pe=Le.width-Le.left-Le.right-te.margin*2,ze=Le.height-Le.top-Le.bottom-te.margin*2;else{var Je=Y1(te.container)?te.container:document.querySelector(te.container),tt=Je.getBoundingClientRect(),lt=tt.width,Qe=tt.height,mt=tt.left,Ct=tt.top;Le=Xu({},Le,{width:lt,height:Qe,left:mt,top:Ct})}Pe=Pe||Le.width-te.margin*2,ze=ze||Le.height-te.margin*2;var Ft=ee.zoomedHd||ee.original,Ze=wT(Ft)?Pe:Ft.naturalWidth||Pe,Pt=wT(Ft)?ze:Ft.naturalHeight||ze,Lt=Ft.getBoundingClientRect(),at=Lt.top,Et=Lt.left,Gt=Lt.width,Ht=Lt.height,Nt=Math.min(Math.max(Gt,Ze),Pe)/Gt,Jt=Math.min(Math.max(Ht,Pt),ze)/Ht,pn=Math.min(Nt,Jt),En=(-Et+(Pe-Gt)/2+te.margin+Le.left)/pn,bn=(-at+(ze-Ht)/2+te.margin+Le.top)/pn,lr="scale("+pn+") translate3d("+En+"px, "+bn+"px, 0)";ee.zoomed.style.transform=lr,ee.zoomedHd&&(ee.zoomedHd.style.transform=lr)};return new i(function(Te){if(Se&&q.indexOf(Se)===-1){Te(be);return}var Le=function lt(){K=!1,ee.zoomed.removeEventListener("transitionend",lt),ee.original.dispatchEvent(Kc("medium-zoom:opened",{detail:{zoom:be}})),Te(be)};if(ee.zoomed){Te(be);return}if(Se)ee.original=Se;else if(q.length>0){var Pe=q;ee.original=Pe[0]}else{Te(be);return}if(ee.original.dispatchEvent(Kc("medium-zoom:open",{detail:{zoom:be}})),ce=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,K=!0,ee.zoomed=jse(ee.original),document.body.appendChild(he),te.template){var ze=Y1(te.template)?te.template:document.querySelector(te.template);ee.template=document.createElement("div"),ee.template.appendChild(ze.content.cloneNode(!0)),document.body.appendChild(ee.template)}if(ee.original.parentElement&&ee.original.parentElement.tagName==="PICTURE"&&ee.original.currentSrc&&(ee.zoomed.src=ee.original.currentSrc),document.body.appendChild(ee.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),ee.original.classList.add("medium-zoom-image--hidden"),ee.zoomed.classList.add("medium-zoom-image--opened"),ee.zoomed.addEventListener("click",C),ee.zoomed.addEventListener("transitionend",Le),ee.original.getAttribute("data-zoom-src")){ee.zoomedHd=ee.zoomed.cloneNode(),ee.zoomedHd.removeAttribute("srcset"),ee.zoomedHd.removeAttribute("sizes"),ee.zoomedHd.removeAttribute("loading"),ee.zoomedHd.src=ee.zoomed.getAttribute("data-zoom-src"),ee.zoomedHd.onerror=function(){clearInterval(Je),ee.zoomedHd=null,fe()};var Je=setInterval(function(){ee.zoomedHd.complete&&(clearInterval(Je),ee.zoomedHd.classList.add("medium-zoom-image--opened"),ee.zoomedHd.addEventListener("click",C),document.body.appendChild(ee.zoomedHd),fe())},10)}else if(ee.original.hasAttribute("srcset")){ee.zoomedHd=ee.zoomed.cloneNode(),ee.zoomedHd.removeAttribute("sizes"),ee.zoomedHd.removeAttribute("loading");var tt=ee.zoomedHd.addEventListener("load",function(){ee.zoomedHd.removeEventListener("load",tt),ee.zoomedHd.classList.add("medium-zoom-image--opened"),ee.zoomedHd.addEventListener("click",C),document.body.appendChild(ee.zoomedHd),fe()})}else fe()})},C=function(){return new i(function(oe){if(K||!ee.original){oe(be);return}var Se=function fe(){ee.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(ee.zoomed),ee.zoomedHd&&document.body.removeChild(ee.zoomedHd),document.body.removeChild(he),ee.zoomed.classList.remove("medium-zoom-image--opened"),ee.template&&document.body.removeChild(ee.template),K=!1,ee.zoomed.removeEventListener("transitionend",fe),ee.original.dispatchEvent(Kc("medium-zoom:closed",{detail:{zoom:be}})),ee.original=null,ee.zoomed=null,ee.zoomedHd=null,ee.template=null,oe(be)};K=!0,document.body.classList.remove("medium-zoom--opened"),ee.zoomed.style.transform="",ee.zoomedHd&&(ee.zoomedHd.style.transform=""),ee.template&&(ee.template.style.transition="opacity 150ms",ee.template.style.opacity=0),ee.original.dispatchEvent(Kc("medium-zoom:close",{detail:{zoom:be}})),ee.zoomed.addEventListener("transitionend",Se)})},M=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Se=oe.target;return ee.original?C():w({target:Se})},T=function(){return te},D=function(){return q},R=function(){return ee.original},q=[],Y=[],K=!1,ce=0,te=n,ee={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(e)==="[object Object]"?te=e:(e||typeof e=="string")&&m(e),te=Xu({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},te);var he=Nse(te.background);document.addEventListener("click",s),document.addEventListener("keyup",f),document.addEventListener("scroll",l),window.addEventListener("resize",C);var be={open:w,close:C,toggle:M,update:h,clone:p,attach:m,detach:g,on:b,off:S,getOptions:T,getImages:D,getZoomedImage:R};return be};function qse(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}}var $se=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";qse($se);var Cw,ST;function Use(){return ST||(ST=1,Cw=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],i=0;i<t.rangeCount;i++)n.push(t.getRangeAt(i));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(s){t.addRange(s)}),e&&e.focus()}}),Cw}var Ew,CT;function Gse(){if(CT)return Ew;CT=1;var t=Use(),e={"text/plain":"Text","text/html":"Url",default:"Text"},n="Copy to clipboard: #{key}, Enter";function i(l){var f=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return l.replace(/#{\s*key\s*}/g,f)}function s(l,f){var h,p,m,g,b,S,w=!1;f||(f={}),h=f.debug||!1;try{m=t(),g=document.createRange(),b=document.getSelection(),S=document.createElement("span"),S.textContent=l,S.ariaHidden="true",S.style.all="unset",S.style.position="fixed",S.style.top=0,S.style.clip="rect(0, 0, 0, 0)",S.style.whiteSpace="pre",S.style.webkitUserSelect="text",S.style.MozUserSelect="text",S.style.msUserSelect="text",S.style.userSelect="text",S.addEventListener("copy",function(M){if(M.stopPropagation(),f.format)if(M.preventDefault(),typeof M.clipboardData>"u"){window.clipboardData.clearData();var T=e[f.format]||e.default;window.clipboardData.setData(T,l)}else M.clipboardData.clearData(),M.clipboardData.setData(f.format,l);f.onCopy&&(M.preventDefault(),f.onCopy(M.clipboardData))}),document.body.appendChild(S),g.selectNodeContents(S),b.addRange(g);var C=document.execCommand("copy");if(!C)throw new Error("copy command was unsuccessful");w=!0}catch{try{window.clipboardData.setData(f.format||"text",l),f.onCopy&&f.onCopy(window.clipboardData),w=!0}catch{p=i("message"in f?f.message:n),window.prompt(p,l)}}finally{b&&(typeof b.removeRange=="function"?b.removeRange(g):b.removeAllRanges()),S&&document.body.removeChild(S),m()}return w}return Ew=s,Ew}var Hse=Gse();const q1e=wR(Hse),ET={};function Vse(t){let e=ET[t];if(e)return e;e=ET[t]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);e.push(i)}for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);e[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return e}function Df(t,e){typeof e!="string"&&(e=Df.defaultChars);const n=Vse(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(i){let s="";for(let l=0,f=i.length;l<f;l+=3){const h=parseInt(i.slice(l+1,l+3),16);if(h<128){s+=n[h];continue}if((h&224)===192&&l+3<f){const p=parseInt(i.slice(l+4,l+6),16);if((p&192)===128){const m=h<<6&1984|p&63;m<128?s+="":s+=String.fromCharCode(m),l+=3;continue}}if((h&240)===224&&l+6<f){const p=parseInt(i.slice(l+4,l+6),16),m=parseInt(i.slice(l+7,l+9),16);if((p&192)===128&&(m&192)===128){const g=h<<12&61440|p<<6&4032|m&63;g<2048||g>=55296&&g<=57343?s+="":s+=String.fromCharCode(g),l+=6;continue}}if((h&248)===240&&l+9<f){const p=parseInt(i.slice(l+4,l+6),16),m=parseInt(i.slice(l+7,l+9),16),g=parseInt(i.slice(l+10,l+12),16);if((p&192)===128&&(m&192)===128&&(g&192)===128){let b=h<<18&1835008|p<<12&258048|m<<6&4032|g&63;b<65536||b>1114111?s+="":(b-=65536,s+=String.fromCharCode(55296+(b>>10),56320+(b&1023))),l+=9;continue}}s+=""}return s})}Df.defaultChars=";/?:@&=+$,#";Df.componentChars="";const AT={};function Wse(t){let e=AT[t];if(e)return e;e=AT[t]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);/^[0-9a-z]$/i.test(i)?e.push(i):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function A0(t,e,n){typeof e!="string"&&(n=e,e=A0.defaultChars),typeof n>"u"&&(n=!0);const i=Wse(e);let s="";for(let l=0,f=t.length;l<f;l++){const h=t.charCodeAt(l);if(n&&h===37&&l+2<f&&/^[0-9a-f]{2}$/i.test(t.slice(l+1,l+3))){s+=t.slice(l,l+3),l+=2;continue}if(h<128){s+=i[h];continue}if(h>=55296&&h<=57343){if(h>=55296&&h<=56319&&l+1<f){const p=t.charCodeAt(l+1);if(p>=56320&&p<=57343){s+=encodeURIComponent(t[l]+t[l+1]),l++;continue}}s+="%EF%BF%BD";continue}s+=encodeURIComponent(t[l])}return s}A0.defaultChars=";/?:@&=+$,-_.!~*'()#";A0.componentChars="-_.!~*'()";function $S(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function dv(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const Yse=/^([a-z0-9.+-]+:)/i,Xse=/:[0-9]*$/,Kse=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Zse=["<",">",'"',"`"," ","\r",`
`,"	"],Jse=["{","}","|","\\","^","`"].concat(Zse),Qse=["'"].concat(Jse),kT=["%","/","?",";","#"].concat(Qse),FT=["/","?","#"],eue=255,IT=/^[+a-z0-9A-Z_-]{0,63}$/,tue=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,MT={javascript:!0,"javascript:":!0},DT={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function US(t,e){if(t&&t instanceof dv)return t;const n=new dv;return n.parse(t,e),n}dv.prototype.parse=function(t,e){let n,i,s,l=t;if(l=l.trim(),!e&&t.split("#").length===1){const m=Kse.exec(l);if(m)return this.pathname=m[1],m[2]&&(this.search=m[2]),this}let f=Yse.exec(l);if(f&&(f=f[0],n=f.toLowerCase(),this.protocol=f,l=l.substr(f.length)),(e||f||l.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s=l.substr(0,2)==="//",s&&!(f&&MT[f])&&(l=l.substr(2),this.slashes=!0)),!MT[f]&&(s||f&&!DT[f])){let m=-1;for(let C=0;C<FT.length;C++)i=l.indexOf(FT[C]),i!==-1&&(m===-1||i<m)&&(m=i);let g,b;m===-1?b=l.lastIndexOf("@"):b=l.lastIndexOf("@",m),b!==-1&&(g=l.slice(0,b),l=l.slice(b+1),this.auth=g),m=-1;for(let C=0;C<kT.length;C++)i=l.indexOf(kT[C]),i!==-1&&(m===-1||i<m)&&(m=i);m===-1&&(m=l.length),l[m-1]===":"&&m--;const S=l.slice(0,m);l=l.slice(m),this.parseHost(S),this.hostname=this.hostname||"";const w=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!w){const C=this.hostname.split(/\./);for(let M=0,T=C.length;M<T;M++){const D=C[M];if(D&&!D.match(IT)){let R="";for(let q=0,Y=D.length;q<Y;q++)D.charCodeAt(q)>127?R+="x":R+=D[q];if(!R.match(IT)){const q=C.slice(0,M),Y=C.slice(M+1),K=D.match(tue);K&&(q.push(K[1]),Y.unshift(K[2])),Y.length&&(l=Y.join(".")+l),this.hostname=q.join(".");break}}}}this.hostname.length>eue&&(this.hostname=""),w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const h=l.indexOf("#");h!==-1&&(this.hash=l.substr(h),l=l.slice(0,h));const p=l.indexOf("?");return p!==-1&&(this.search=l.substr(p),l=l.slice(0,p)),l&&(this.pathname=l),DT[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};dv.prototype.parseHost=function(t){let e=Xse.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const nue=Object.freeze(Object.defineProperty({__proto__:null,decode:Df,encode:A0,format:$S,parse:US},Symbol.toStringTag,{value:"Module"})),HB=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,VB=/[\0-\x1F\x7F-\x9F]/,rue=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,GS=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,WB=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,YB=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,iue=Object.freeze(Object.defineProperty({__proto__:null,Any:HB,Cc:VB,Cf:rue,P:GS,S:WB,Z:YB},Symbol.toStringTag,{value:"Module"})),oue=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),aue=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var Aw;const sue=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),uue=(Aw=String.fromCodePoint)!==null&&Aw!==void 0?Aw:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function lue(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=sue.get(t))!==null&&e!==void 0?e:t}var jr;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(jr||(jr={}));const cue=32;var Zs;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Zs||(Zs={}));function Ox(t){return t>=jr.ZERO&&t<=jr.NINE}function fue(t){return t>=jr.UPPER_A&&t<=jr.UPPER_F||t>=jr.LOWER_A&&t<=jr.LOWER_F}function hue(t){return t>=jr.UPPER_A&&t<=jr.UPPER_Z||t>=jr.LOWER_A&&t<=jr.LOWER_Z||Ox(t)}function due(t){return t===jr.EQUALS||hue(t)}var zr;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(zr||(zr={}));var Ks;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Ks||(Ks={}));class pue{constructor(e,n,i){this.decodeTree=e,this.emitCodePoint=n,this.errors=i,this.state=zr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ks.Strict}startEntity(e){this.decodeMode=e,this.state=zr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case zr.EntityStart:return e.charCodeAt(n)===jr.NUM?(this.state=zr.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=zr.NamedEntity,this.stateNamedEntity(e,n));case zr.NumericStart:return this.stateNumericStart(e,n);case zr.NumericDecimal:return this.stateNumericDecimal(e,n);case zr.NumericHex:return this.stateNumericHex(e,n);case zr.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|cue)===jr.LOWER_X?(this.state=zr.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=zr.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,i,s){if(n!==i){const l=i-n;this.result=this.result*Math.pow(s,l)+parseInt(e.substr(n,l),s),this.consumed+=l}}stateNumericHex(e,n){const i=n;for(;n<e.length;){const s=e.charCodeAt(n);if(Ox(s)||fue(s))n+=1;else return this.addToNumericResult(e,i,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(e,i,n,16),-1}stateNumericDecimal(e,n){const i=n;for(;n<e.length;){const s=e.charCodeAt(n);if(Ox(s))n+=1;else return this.addToNumericResult(e,i,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(e,i,n,10),-1}emitNumericEntity(e,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===jr.SEMI)this.consumed+=1;else if(this.decodeMode===Ks.Strict)return 0;return this.emitCodePoint(lue(this.result),this.consumed),this.errors&&(e!==jr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:i}=this;let s=i[this.treeIndex],l=(s&Zs.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const f=e.charCodeAt(n);if(this.treeIndex=gue(i,s,this.treeIndex+Math.max(1,l),f),this.treeIndex<0)return this.result===0||this.decodeMode===Ks.Attribute&&(l===0||due(f))?0:this.emitNotTerminatedNamedEntity();if(s=i[this.treeIndex],l=(s&Zs.VALUE_LENGTH)>>14,l!==0){if(f===jr.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==Ks.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:i}=this,s=(i[n]&Zs.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,i){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[e]&~Zs.VALUE_LENGTH:s[e+1],i),n===3&&this.emitCodePoint(s[e+2],i),i}end(){var e;switch(this.state){case zr.NamedEntity:return this.result!==0&&(this.decodeMode!==Ks.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case zr.NumericDecimal:return this.emitNumericEntity(0,2);case zr.NumericHex:return this.emitNumericEntity(0,3);case zr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case zr.EntityStart:return 0}}}function XB(t){let e="";const n=new pue(t,i=>e+=uue(i));return function(s,l){let f=0,h=0;for(;(h=s.indexOf("&",h))>=0;){e+=s.slice(f,h),n.startEntity(l);const m=n.write(s,h+1);if(m<0){f=h+n.end();break}f=h+m,h=m===0?f+1:f}const p=e+s.slice(f);return e="",p}}function gue(t,e,n,i){const s=(e&Zs.BRANCH_LENGTH)>>7,l=e&Zs.JUMP_TABLE;if(s===0)return l!==0&&i===l?n:-1;if(l){const p=i-l;return p<0||p>=s?-1:t[n+p]-1}let f=n,h=f+s-1;for(;f<=h;){const p=f+h>>>1,m=t[p];if(m<i)f=p+1;else if(m>i)h=p-1;else return t[p+s]}return-1}const vue=XB(oue);XB(aue);function KB(t,e=Ks.Legacy){return vue(t,e)}function mue(t){return Object.prototype.toString.call(t)}function HS(t){return mue(t)==="[object String]"}const yue=Object.prototype.hasOwnProperty;function _ue(t,e){return yue.call(t,e)}function sm(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(i){t[i]=n[i]})}}),t}function ZB(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function VS(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function pv(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const JB=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,bue=/&([a-z#][a-z0-9]{1,31});/gi,wue=new RegExp(JB.source+"|"+bue.source,"gi"),xue=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Sue(t,e){if(e.charCodeAt(0)===35&&xue.test(e)){const i=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return VS(i)?pv(i):t}const n=KB(t);return n!==t?n:t}function Cue(t){return t.indexOf("\\")<0?t:t.replace(JB,"$1")}function Tf(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(wue,function(e,n,i){return n||Sue(e,i)})}const Eue=/[&<>"]/,Aue=/[&<>"]/g,kue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Fue(t){return kue[t]}function su(t){return Eue.test(t)?t.replace(Aue,Fue):t}const Iue=/[.?*+^$[\]\\(){}|-]/g;function Mue(t){return t.replace(Iue,"\\$&")}function $n(t){switch(t){case 9:case 32:return!0}return!1}function Kd(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Zd(t){return GS.test(t)||WB.test(t)}function Jd(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function um(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const Due={mdurl:nue,ucmicro:iue},Tue=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:ZB,assign:sm,escapeHtml:su,escapeRE:Mue,fromCodePoint:pv,has:_ue,isMdAsciiPunct:Jd,isPunctChar:Zd,isSpace:$n,isString:HS,isValidEntityCode:VS,isWhiteSpace:Kd,lib:Due,normalizeReference:um,unescapeAll:Tf,unescapeMd:Cue},Symbol.toStringTag,{value:"Module"}));function Pue(t,e,n){let i,s,l,f;const h=t.posMax,p=t.pos;for(t.pos=e+1,i=1;t.pos<h;){if(l=t.src.charCodeAt(t.pos),l===93&&(i--,i===0)){s=!0;break}if(f=t.pos,t.md.inline.skipToken(t),l===91){if(f===t.pos-1)i++;else if(n)return t.pos=p,-1}}let m=-1;return s&&(m=t.pos),t.pos=p,m}function Rue(t,e,n){let i,s=e;const l={ok:!1,pos:0,str:""};if(t.charCodeAt(s)===60){for(s++;s<n;){if(i=t.charCodeAt(s),i===10||i===60)return l;if(i===62)return l.pos=s+1,l.str=Tf(t.slice(e+1,s)),l.ok=!0,l;if(i===92&&s+1<n){s+=2;continue}s++}return l}let f=0;for(;s<n&&(i=t.charCodeAt(s),!(i===32||i<32||i===127));){if(i===92&&s+1<n){if(t.charCodeAt(s+1)===32)break;s+=2;continue}if(i===40&&(f++,f>32))return l;if(i===41){if(f===0)break;f--}s++}return e===s||f!==0||(l.str=Tf(t.slice(e,s)),l.pos=s,l.ok=!0),l}function Bue(t,e,n,i){let s,l=e;const f={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(i)f.str=i.str,f.marker=i.marker;else{if(l>=n)return f;let h=t.charCodeAt(l);if(h!==34&&h!==39&&h!==40)return f;e++,l++,h===40&&(h=41),f.marker=h}for(;l<n;){if(s=t.charCodeAt(l),s===f.marker)return f.pos=l+1,f.str+=Tf(t.slice(e,l)),f.ok=!0,f;if(s===40&&f.marker===41)return f;s===92&&l+1<n&&l++,l++}return f.can_continue=!0,f.str+=Tf(t.slice(e,l)),f}const Oue=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:Rue,parseLinkLabel:Pue,parseLinkTitle:Bue},Symbol.toStringTag,{value:"Module"})),Aa={};Aa.code_inline=function(t,e,n,i,s){const l=t[e];return"<code"+s.renderAttrs(l)+">"+su(l.content)+"</code>"};Aa.code_block=function(t,e,n,i,s){const l=t[e];return"<pre"+s.renderAttrs(l)+"><code>"+su(t[e].content)+`</code></pre>
`};Aa.fence=function(t,e,n,i,s){const l=t[e],f=l.info?Tf(l.info).trim():"";let h="",p="";if(f){const g=f.split(/(\s+)/g);h=g[0],p=g.slice(2).join("")}let m;if(n.highlight?m=n.highlight(l.content,h,p)||su(l.content):m=su(l.content),m.indexOf("<pre")===0)return m+`
`;if(f){const g=l.attrIndex("class"),b=l.attrs?l.attrs.slice():[];g<0?b.push(["class",n.langPrefix+h]):(b[g]=b[g].slice(),b[g][1]+=" "+n.langPrefix+h);const S={attrs:b};return`<pre><code${s.renderAttrs(S)}>${m}</code></pre>
`}return`<pre><code${s.renderAttrs(l)}>${m}</code></pre>
`};Aa.image=function(t,e,n,i,s){const l=t[e];return l.attrs[l.attrIndex("alt")][1]=s.renderInlineAsText(l.children,n,i),s.renderToken(t,e,n)};Aa.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};Aa.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Aa.text=function(t,e){return su(t[e].content)};Aa.html_block=function(t,e){return t[e].content};Aa.html_inline=function(t,e){return t[e].content};function Kf(){this.rules=sm({},Aa)}Kf.prototype.renderAttrs=function(e){let n,i,s;if(!e.attrs)return"";for(s="",n=0,i=e.attrs.length;n<i;n++)s+=" "+su(e.attrs[n][0])+'="'+su(e.attrs[n][1])+'"';return s};Kf.prototype.renderToken=function(e,n,i){const s=e[n];let l="";if(s.hidden)return"";s.block&&s.nesting!==-1&&n&&e[n-1].hidden&&(l+=`
`),l+=(s.nesting===-1?"</":"<")+s.tag,l+=this.renderAttrs(s),s.nesting===0&&i.xhtmlOut&&(l+=" /");let f=!1;if(s.block&&(f=!0,s.nesting===1&&n+1<e.length)){const h=e[n+1];(h.type==="inline"||h.hidden||h.nesting===-1&&h.tag===s.tag)&&(f=!1)}return l+=f?`>
`:">",l};Kf.prototype.renderInline=function(t,e,n){let i="";const s=this.rules;for(let l=0,f=t.length;l<f;l++){const h=t[l].type;typeof s[h]<"u"?i+=s[h](t,l,e,n,this):i+=this.renderToken(t,l,e)}return i};Kf.prototype.renderInlineAsText=function(t,e,n){let i="";for(let s=0,l=t.length;s<l;s++)switch(t[s].type){case"text":i+=t[s].content;break;case"image":i+=this.renderInlineAsText(t[s].children,e,n);break;case"html_inline":case"html_block":i+=t[s].content;break;case"softbreak":case"hardbreak":i+=`
`;break}return i};Kf.prototype.render=function(t,e,n){let i="";const s=this.rules;for(let l=0,f=t.length;l<f;l++){const h=t[l].type;h==="inline"?i+=this.renderInline(t[l].children,e,n):typeof s[h]<"u"?i+=s[h](t,l,e,n,this):i+=this.renderToken(t,l,e,n)}return i};function Ni(){this.__rules__=[],this.__cache__=null}Ni.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Ni.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(i){e.indexOf(i)<0&&e.push(i)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(i){i.enabled&&(n&&i.alt.indexOf(n)<0||t.__cache__[n].push(i.fn))})})};Ni.prototype.at=function(t,e,n){const i=this.__find__(t),s=n||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__[i].fn=e,this.__rules__[i].alt=s.alt||[],this.__cache__=null};Ni.prototype.before=function(t,e,n,i){const s=this.__find__(t),l=i||{};if(s===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s,0,{name:e,enabled:!0,fn:n,alt:l.alt||[]}),this.__cache__=null};Ni.prototype.after=function(t,e,n,i){const s=this.__find__(t),l=i||{};if(s===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s+1,0,{name:e,enabled:!0,fn:n,alt:l.alt||[]}),this.__cache__=null};Ni.prototype.push=function(t,e,n){const i=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:i.alt||[]}),this.__cache__=null};Ni.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(i){const s=this.__find__(i);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[s].enabled=!0,n.push(i)},this),this.__cache__=null,n};Ni.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};Ni.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(i){const s=this.__find__(i);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[s].enabled=!1,n.push(i)},this),this.__cache__=null,n};Ni.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Ho(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Ho.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let i=0,s=n.length;i<s;i++)if(n[i][0]===e)return i;return-1};Ho.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Ho.prototype.attrSet=function(e,n){const i=this.attrIndex(e),s=[e,n];i<0?this.attrPush(s):this.attrs[i]=s};Ho.prototype.attrGet=function(e){const n=this.attrIndex(e);let i=null;return n>=0&&(i=this.attrs[n][1]),i};Ho.prototype.attrJoin=function(e,n){const i=this.attrIndex(e);i<0?this.attrPush([e,n]):this.attrs[i][1]=this.attrs[i][1]+" "+n};function QB(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}QB.prototype.Token=Ho;const Lue=/\r\n?|\n/g,zue=/\0/g;function Nue(t){let e;e=t.src.replace(Lue,`
`),e=e.replace(zue,""),t.src=e}function jue(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function que(t){const e=t.tokens;for(let n=0,i=e.length;n<i;n++){const s=e[n];s.type==="inline"&&t.md.inline.parse(s.content,t.md,t.env,s.children)}}function $ue(t){return/^<a[>\s]/i.test(t)}function Uue(t){return/^<\/a\s*>/i.test(t)}function Gue(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,i=e.length;n<i;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let s=e[n].children,l=0;for(let f=s.length-1;f>=0;f--){const h=s[f];if(h.type==="link_close"){for(f--;s[f].level!==h.level&&s[f].type!=="link_open";)f--;continue}if(h.type==="html_inline"&&($ue(h.content)&&l>0&&l--,Uue(h.content)&&l++),!(l>0)&&h.type==="text"&&t.md.linkify.test(h.content)){const p=h.content;let m=t.md.linkify.match(p);const g=[];let b=h.level,S=0;m.length>0&&m[0].index===0&&f>0&&s[f-1].type==="text_special"&&(m=m.slice(1));for(let w=0;w<m.length;w++){const C=m[w].url,M=t.md.normalizeLink(C);if(!t.md.validateLink(M))continue;let T=m[w].text;m[w].schema?m[w].schema==="mailto:"&&!/^mailto:/i.test(T)?T=t.md.normalizeLinkText("mailto:"+T).replace(/^mailto:/,""):T=t.md.normalizeLinkText(T):T=t.md.normalizeLinkText("http://"+T).replace(/^http:\/\//,"");const D=m[w].index;if(D>S){const K=new t.Token("text","",0);K.content=p.slice(S,D),K.level=b,g.push(K)}const R=new t.Token("link_open","a",1);R.attrs=[["href",M]],R.level=b++,R.markup="linkify",R.info="auto",g.push(R);const q=new t.Token("text","",0);q.content=T,q.level=b,g.push(q);const Y=new t.Token("link_close","a",-1);Y.level=--b,Y.markup="linkify",Y.info="auto",g.push(Y),S=m[w].lastIndex}if(S<p.length){const w=new t.Token("text","",0);w.content=p.slice(S),w.level=b,g.push(w)}e[n].children=s=ZB(s,f,g)}}}}const eO=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Hue=/\((c|tm|r)\)/i,Vue=/\((c|tm|r)\)/ig,Wue={c:"",r:"",tm:""};function Yue(t,e){return Wue[e.toLowerCase()]}function Xue(t){let e=0;for(let n=t.length-1;n>=0;n--){const i=t[n];i.type==="text"&&!e&&(i.content=i.content.replace(Vue,Yue)),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function Kue(t){let e=0;for(let n=t.length-1;n>=0;n--){const i=t[n];i.type==="text"&&!e&&eO.test(i.content)&&(i.content=i.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function Zue(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(Hue.test(t.tokens[e].content)&&Xue(t.tokens[e].children),eO.test(t.tokens[e].content)&&Kue(t.tokens[e].children))}const Jue=/['"]/,TT=/['"]/g,PT="";function s1(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function Que(t,e){let n;const i=[];for(let s=0;s<t.length;s++){const l=t[s],f=t[s].level;for(n=i.length-1;n>=0&&!(i[n].level<=f);n--);if(i.length=n+1,l.type!=="text")continue;let h=l.content,p=0,m=h.length;e:for(;p<m;){TT.lastIndex=p;const g=TT.exec(h);if(!g)break;let b=!0,S=!0;p=g.index+1;const w=g[0]==="'";let C=32;if(g.index-1>=0)C=h.charCodeAt(g.index-1);else for(n=s-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){C=t[n].content.charCodeAt(t[n].content.length-1);break}let M=32;if(p<m)M=h.charCodeAt(p);else for(n=s+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){M=t[n].content.charCodeAt(0);break}const T=Jd(C)||Zd(String.fromCharCode(C)),D=Jd(M)||Zd(String.fromCharCode(M)),R=Kd(C),q=Kd(M);if(q?b=!1:D&&(R||T||(b=!1)),R?S=!1:T&&(q||D||(S=!1)),M===34&&g[0]==='"'&&C>=48&&C<=57&&(S=b=!1),b&&S&&(b=T,S=D),!b&&!S){w&&(l.content=s1(l.content,g.index,PT));continue}if(S)for(n=i.length-1;n>=0;n--){let Y=i[n];if(i[n].level<f)break;if(Y.single===w&&i[n].level===f){Y=i[n];let K,ce;w?(K=e.md.options.quotes[2],ce=e.md.options.quotes[3]):(K=e.md.options.quotes[0],ce=e.md.options.quotes[1]),l.content=s1(l.content,g.index,ce),t[Y.token].content=s1(t[Y.token].content,Y.pos,K),p+=ce.length-1,Y.token===s&&(p+=K.length-1),h=l.content,m=h.length,i.length=n;continue e}}b?i.push({token:s,pos:g.index,single:w,level:f}):S&&w&&(l.content=s1(l.content,g.index,PT))}}}function ele(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!Jue.test(t.tokens[e].content)||Que(t.tokens[e].children,t)}function tle(t){let e,n;const i=t.tokens,s=i.length;for(let l=0;l<s;l++){if(i[l].type!=="inline")continue;const f=i[l].children,h=f.length;for(e=0;e<h;e++)f[e].type==="text_special"&&(f[e].type="text");for(e=n=0;e<h;e++)f[e].type==="text"&&e+1<h&&f[e+1].type==="text"?f[e+1].content=f[e].content+f[e+1].content:(e!==n&&(f[n]=f[e]),n++);e!==n&&(f.length=n)}}const kw=[["normalize",Nue],["block",jue],["inline",que],["linkify",Gue],["replacements",Zue],["smartquotes",ele],["text_join",tle]];function WS(){this.ruler=new Ni;for(let t=0;t<kw.length;t++)this.ruler.push(kw[t][0],kw[t][1])}WS.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,i=e.length;n<i;n++)e[n](t)};WS.prototype.State=QB;function ka(t,e,n,i){this.src=t,this.md=e,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const s=this.src;for(let l=0,f=0,h=0,p=0,m=s.length,g=!1;f<m;f++){const b=s.charCodeAt(f);if(!g)if($n(b)){h++,b===9?p+=4-p%4:p++;continue}else g=!0;(b===10||f===m-1)&&(b!==10&&f++,this.bMarks.push(l),this.eMarks.push(f),this.tShift.push(h),this.sCount.push(p),this.bsCount.push(0),g=!1,h=0,p=0,l=f+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}ka.prototype.push=function(t,e,n){const i=new Ho(t,e,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i};ka.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};ka.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};ka.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const i=this.src.charCodeAt(e);if(!$n(i))break}return e};ka.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!$n(this.src.charCodeAt(--e)))return e+1;return e};ka.prototype.skipChars=function(e,n){for(let i=this.src.length;e<i&&this.src.charCodeAt(e)===n;e++);return e};ka.prototype.skipCharsBack=function(e,n,i){if(e<=i)return e;for(;e>i;)if(n!==this.src.charCodeAt(--e))return e+1;return e};ka.prototype.getLines=function(e,n,i,s){if(e>=n)return"";const l=new Array(n-e);for(let f=0,h=e;h<n;h++,f++){let p=0;const m=this.bMarks[h];let g=m,b;for(h+1<n||s?b=this.eMarks[h]+1:b=this.eMarks[h];g<b&&p<i;){const S=this.src.charCodeAt(g);if($n(S))S===9?p+=4-(p+this.bsCount[h])%4:p++;else if(g-m<this.tShift[h])p++;else break;g++}p>i?l[f]=new Array(p-i+1).join(" ")+this.src.slice(g,b):l[f]=this.src.slice(g,b)}return l.join("")};ka.prototype.Token=Ho;const nle=65536;function Fw(t,e){const n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];return t.src.slice(n,i)}function RT(t){const e=[],n=t.length;let i=0,s=t.charCodeAt(i),l=!1,f=0,h="";for(;i<n;)s===124&&(l?(h+=t.substring(f,i-1),f=i):(e.push(h+t.substring(f,i)),h="",f=i+1)),l=s===92,i++,s=t.charCodeAt(i);return e.push(h+t.substring(f)),e}function rle(t,e,n,i){if(e+2>n)return!1;let s=e+1;if(t.sCount[s]<t.blkIndent||t.sCount[s]-t.blkIndent>=4)return!1;let l=t.bMarks[s]+t.tShift[s];if(l>=t.eMarks[s])return!1;const f=t.src.charCodeAt(l++);if(f!==124&&f!==45&&f!==58||l>=t.eMarks[s])return!1;const h=t.src.charCodeAt(l++);if(h!==124&&h!==45&&h!==58&&!$n(h)||f===45&&$n(h))return!1;for(;l<t.eMarks[s];){const Y=t.src.charCodeAt(l);if(Y!==124&&Y!==45&&Y!==58&&!$n(Y))return!1;l++}let p=Fw(t,e+1),m=p.split("|");const g=[];for(let Y=0;Y<m.length;Y++){const K=m[Y].trim();if(!K){if(Y===0||Y===m.length-1)continue;return!1}if(!/^:?-+:?$/.test(K))return!1;K.charCodeAt(K.length-1)===58?g.push(K.charCodeAt(0)===58?"center":"right"):K.charCodeAt(0)===58?g.push("left"):g.push("")}if(p=Fw(t,e).trim(),p.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;m=RT(p),m.length&&m[0]===""&&m.shift(),m.length&&m[m.length-1]===""&&m.pop();const b=m.length;if(b===0||b!==g.length)return!1;if(i)return!0;const S=t.parentType;t.parentType="table";const w=t.md.block.ruler.getRules("blockquote"),C=t.push("table_open","table",1),M=[e,0];C.map=M;const T=t.push("thead_open","thead",1);T.map=[e,e+1];const D=t.push("tr_open","tr",1);D.map=[e,e+1];for(let Y=0;Y<m.length;Y++){const K=t.push("th_open","th",1);g[Y]&&(K.attrs=[["style","text-align:"+g[Y]]]);const ce=t.push("inline","",0);ce.content=m[Y].trim(),ce.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let R,q=0;for(s=e+2;s<n&&!(t.sCount[s]<t.blkIndent);s++){let Y=!1;for(let ce=0,te=w.length;ce<te;ce++)if(w[ce](t,s,n,!0)){Y=!0;break}if(Y||(p=Fw(t,s).trim(),!p)||t.sCount[s]-t.blkIndent>=4||(m=RT(p),m.length&&m[0]===""&&m.shift(),m.length&&m[m.length-1]===""&&m.pop(),q+=b-m.length,q>nle))break;if(s===e+2){const ce=t.push("tbody_open","tbody",1);ce.map=R=[e+2,0]}const K=t.push("tr_open","tr",1);K.map=[s,s+1];for(let ce=0;ce<b;ce++){const te=t.push("td_open","td",1);g[ce]&&(te.attrs=[["style","text-align:"+g[ce]]]);const ee=t.push("inline","",0);ee.content=m[ce]?m[ce].trim():"",ee.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return R&&(t.push("tbody_close","tbody",-1),R[1]=s),t.push("table_close","table",-1),M[1]=s,t.parentType=S,t.line=s,!0}function ile(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let i=e+1,s=i;for(;i<n;){if(t.isEmpty(i)){i++;continue}if(t.sCount[i]-t.blkIndent>=4){i++,s=i;continue}break}t.line=s;const l=t.push("code_block","code",0);return l.content=t.getLines(e,s,4+t.blkIndent,!1)+`
`,l.map=[e,t.line],!0}function ole(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||s+3>l)return!1;const f=t.src.charCodeAt(s);if(f!==126&&f!==96)return!1;let h=s;s=t.skipChars(s,f);let p=s-h;if(p<3)return!1;const m=t.src.slice(h,s),g=t.src.slice(s,l);if(f===96&&g.indexOf(String.fromCharCode(f))>=0)return!1;if(i)return!0;let b=e,S=!1;for(;b++,!(b>=n||(s=h=t.bMarks[b]+t.tShift[b],l=t.eMarks[b],s<l&&t.sCount[b]<t.blkIndent));)if(t.src.charCodeAt(s)===f&&!(t.sCount[b]-t.blkIndent>=4)&&(s=t.skipChars(s,f),!(s-h<p)&&(s=t.skipSpaces(s),!(s<l)))){S=!0;break}p=t.sCount[e],t.line=b+(S?1:0);const w=t.push("fence","code",0);return w.info=g,w.content=t.getLines(e+1,b,p,!0),w.markup=m,w.map=[e,t.line],!0}function ale(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];const f=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(s)!==62)return!1;if(i)return!0;const h=[],p=[],m=[],g=[],b=t.md.block.ruler.getRules("blockquote"),S=t.parentType;t.parentType="blockquote";let w=!1,C;for(C=e;C<n;C++){const q=t.sCount[C]<t.blkIndent;if(s=t.bMarks[C]+t.tShift[C],l=t.eMarks[C],s>=l)break;if(t.src.charCodeAt(s++)===62&&!q){let K=t.sCount[C]+1,ce,te;t.src.charCodeAt(s)===32?(s++,K++,te=!1,ce=!0):t.src.charCodeAt(s)===9?(ce=!0,(t.bsCount[C]+K)%4===3?(s++,K++,te=!1):te=!0):ce=!1;let ee=K;for(h.push(t.bMarks[C]),t.bMarks[C]=s;s<l;){const he=t.src.charCodeAt(s);if($n(he))he===9?ee+=4-(ee+t.bsCount[C]+(te?1:0))%4:ee++;else break;s++}w=s>=l,p.push(t.bsCount[C]),t.bsCount[C]=t.sCount[C]+1+(ce?1:0),m.push(t.sCount[C]),t.sCount[C]=ee-K,g.push(t.tShift[C]),t.tShift[C]=s-t.bMarks[C];continue}if(w)break;let Y=!1;for(let K=0,ce=b.length;K<ce;K++)if(b[K](t,C,n,!0)){Y=!0;break}if(Y){t.lineMax=C,t.blkIndent!==0&&(h.push(t.bMarks[C]),p.push(t.bsCount[C]),g.push(t.tShift[C]),m.push(t.sCount[C]),t.sCount[C]-=t.blkIndent);break}h.push(t.bMarks[C]),p.push(t.bsCount[C]),g.push(t.tShift[C]),m.push(t.sCount[C]),t.sCount[C]=-1}const M=t.blkIndent;t.blkIndent=0;const T=t.push("blockquote_open","blockquote",1);T.markup=">";const D=[e,0];T.map=D,t.md.block.tokenize(t,e,C);const R=t.push("blockquote_close","blockquote",-1);R.markup=">",t.lineMax=f,t.parentType=S,D[1]=t.line;for(let q=0;q<g.length;q++)t.bMarks[q+e]=h[q],t.tShift[q+e]=g[q],t.sCount[q+e]=m[q],t.bsCount[q+e]=p[q];return t.blkIndent=M,!0}function sle(t,e,n,i){const s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let l=t.bMarks[e]+t.tShift[e];const f=t.src.charCodeAt(l++);if(f!==42&&f!==45&&f!==95)return!1;let h=1;for(;l<s;){const m=t.src.charCodeAt(l++);if(m!==f&&!$n(m))return!1;m===f&&h++}if(h<3)return!1;if(i)return!0;t.line=e+1;const p=t.push("hr","hr",0);return p.map=[e,t.line],p.markup=Array(h+1).join(String.fromCharCode(f)),!0}function BT(t,e){const n=t.eMarks[e];let i=t.bMarks[e]+t.tShift[e];const s=t.src.charCodeAt(i++);if(s!==42&&s!==45&&s!==43)return-1;if(i<n){const l=t.src.charCodeAt(i);if(!$n(l))return-1}return i}function OT(t,e){const n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];let s=n;if(s+1>=i)return-1;let l=t.src.charCodeAt(s++);if(l<48||l>57)return-1;for(;;){if(s>=i)return-1;if(l=t.src.charCodeAt(s++),l>=48&&l<=57){if(s-n>=10)return-1;continue}if(l===41||l===46)break;return-1}return s<i&&(l=t.src.charCodeAt(s),!$n(l))?-1:s}function ule(t,e){const n=t.level+2;for(let i=e+2,s=t.tokens.length-2;i<s;i++)t.tokens[i].level===n&&t.tokens[i].type==="paragraph_open"&&(t.tokens[i+2].hidden=!0,t.tokens[i].hidden=!0,i+=2)}function lle(t,e,n,i){let s,l,f,h,p=e,m=!0;if(t.sCount[p]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[p]-t.listIndent>=4&&t.sCount[p]<t.blkIndent)return!1;let g=!1;i&&t.parentType==="paragraph"&&t.sCount[p]>=t.blkIndent&&(g=!0);let b,S,w;if((w=OT(t,p))>=0){if(b=!0,f=t.bMarks[p]+t.tShift[p],S=Number(t.src.slice(f,w-1)),g&&S!==1)return!1}else if((w=BT(t,p))>=0)b=!1;else return!1;if(g&&t.skipSpaces(w)>=t.eMarks[p])return!1;if(i)return!0;const C=t.src.charCodeAt(w-1),M=t.tokens.length;b?(h=t.push("ordered_list_open","ol",1),S!==1&&(h.attrs=[["start",S]])):h=t.push("bullet_list_open","ul",1);const T=[p,0];h.map=T,h.markup=String.fromCharCode(C);let D=!1;const R=t.md.block.ruler.getRules("list"),q=t.parentType;for(t.parentType="list";p<n;){l=w,s=t.eMarks[p];const Y=t.sCount[p]+w-(t.bMarks[p]+t.tShift[p]);let K=Y;for(;l<s;){const Te=t.src.charCodeAt(l);if(Te===9)K+=4-(K+t.bsCount[p])%4;else if(Te===32)K++;else break;l++}const ce=l;let te;ce>=s?te=1:te=K-Y,te>4&&(te=1);const ee=Y+te;h=t.push("list_item_open","li",1),h.markup=String.fromCharCode(C);const he=[p,0];h.map=he,b&&(h.info=t.src.slice(f,w-1));const be=t.tight,Fe=t.tShift[p],oe=t.sCount[p],Se=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=ee,t.tight=!0,t.tShift[p]=ce-t.bMarks[p],t.sCount[p]=K,ce>=s&&t.isEmpty(p+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,p,n,!0),(!t.tight||D)&&(m=!1),D=t.line-p>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=Se,t.tShift[p]=Fe,t.sCount[p]=oe,t.tight=be,h=t.push("list_item_close","li",-1),h.markup=String.fromCharCode(C),p=t.line,he[1]=p,p>=n||t.sCount[p]<t.blkIndent||t.sCount[p]-t.blkIndent>=4)break;let fe=!1;for(let Te=0,Le=R.length;Te<Le;Te++)if(R[Te](t,p,n,!0)){fe=!0;break}if(fe)break;if(b){if(w=OT(t,p),w<0)break;f=t.bMarks[p]+t.tShift[p]}else if(w=BT(t,p),w<0)break;if(C!==t.src.charCodeAt(w-1))break}return b?h=t.push("ordered_list_close","ol",-1):h=t.push("bullet_list_close","ul",-1),h.markup=String.fromCharCode(C),T[1]=p,t.line=p,t.parentType=q,m&&ule(t,M),!0}function cle(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],l=t.eMarks[e],f=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(s)!==91)return!1;function h(R){const q=t.lineMax;if(R>=q||t.isEmpty(R))return null;let Y=!1;if(t.sCount[R]-t.blkIndent>3&&(Y=!0),t.sCount[R]<0&&(Y=!0),!Y){const te=t.md.block.ruler.getRules("reference"),ee=t.parentType;t.parentType="reference";let he=!1;for(let be=0,Fe=te.length;be<Fe;be++)if(te[be](t,R,q,!0)){he=!0;break}if(t.parentType=ee,he)return null}const K=t.bMarks[R]+t.tShift[R],ce=t.eMarks[R];return t.src.slice(K,ce+1)}let p=t.src.slice(s,l+1);l=p.length;let m=-1;for(s=1;s<l;s++){const R=p.charCodeAt(s);if(R===91)return!1;if(R===93){m=s;break}else if(R===10){const q=h(f);q!==null&&(p+=q,l=p.length,f++)}else if(R===92&&(s++,s<l&&p.charCodeAt(s)===10)){const q=h(f);q!==null&&(p+=q,l=p.length,f++)}}if(m<0||p.charCodeAt(m+1)!==58)return!1;for(s=m+2;s<l;s++){const R=p.charCodeAt(s);if(R===10){const q=h(f);q!==null&&(p+=q,l=p.length,f++)}else if(!$n(R))break}const g=t.md.helpers.parseLinkDestination(p,s,l);if(!g.ok)return!1;const b=t.md.normalizeLink(g.str);if(!t.md.validateLink(b))return!1;s=g.pos;const S=s,w=f,C=s;for(;s<l;s++){const R=p.charCodeAt(s);if(R===10){const q=h(f);q!==null&&(p+=q,l=p.length,f++)}else if(!$n(R))break}let M=t.md.helpers.parseLinkTitle(p,s,l);for(;M.can_continue;){const R=h(f);if(R===null)break;p+=R,s=l,l=p.length,f++,M=t.md.helpers.parseLinkTitle(p,s,l,M)}let T;for(s<l&&C!==s&&M.ok?(T=M.str,s=M.pos):(T="",s=S,f=w);s<l;){const R=p.charCodeAt(s);if(!$n(R))break;s++}if(s<l&&p.charCodeAt(s)!==10&&T)for(T="",s=S,f=w;s<l;){const R=p.charCodeAt(s);if(!$n(R))break;s++}if(s<l&&p.charCodeAt(s)!==10)return!1;const D=um(p.slice(1,m));return D?(i||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[D]>"u"&&(t.env.references[D]={title:T,href:b}),t.line=f),!0):!1}const fle=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hle="[a-zA-Z_:][a-zA-Z0-9:._-]*",dle="[^\"'=<>`\\x00-\\x20]+",ple="'[^']*'",gle='"[^"]*"',vle="(?:"+dle+"|"+ple+"|"+gle+")",mle="(?:\\s+"+hle+"(?:\\s*=\\s*"+vle+")?)",tO="<[A-Za-z][A-Za-z0-9\\-]*"+mle+"*\\s*\\/?>",nO="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",yle="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",_le="<[?][\\s\\S]*?[?]>",ble="<![A-Za-z][^>]*>",wle="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",xle=new RegExp("^(?:"+tO+"|"+nO+"|"+yle+"|"+_le+"|"+ble+"|"+wle+")"),Sle=new RegExp("^(?:"+tO+"|"+nO+")"),Zc=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+fle.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Sle.source+"\\s*$"),/^$/,!1]];function Cle(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(s)!==60)return!1;let f=t.src.slice(s,l),h=0;for(;h<Zc.length&&!Zc[h][0].test(f);h++);if(h===Zc.length)return!1;if(i)return Zc[h][2];let p=e+1;if(!Zc[h][1].test(f)){for(;p<n&&!(t.sCount[p]<t.blkIndent);p++)if(s=t.bMarks[p]+t.tShift[p],l=t.eMarks[p],f=t.src.slice(s,l),Zc[h][1].test(f)){f.length!==0&&p++;break}}t.line=p;const m=t.push("html_block","",0);return m.map=[e,p],m.content=t.getLines(e,p,t.blkIndent,!0),!0}function Ele(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let f=t.src.charCodeAt(s);if(f!==35||s>=l)return!1;let h=1;for(f=t.src.charCodeAt(++s);f===35&&s<l&&h<=6;)h++,f=t.src.charCodeAt(++s);if(h>6||s<l&&!$n(f))return!1;if(i)return!0;l=t.skipSpacesBack(l,s);const p=t.skipCharsBack(l,35,s);p>s&&$n(t.src.charCodeAt(p-1))&&(l=p),t.line=e+1;const m=t.push("heading_open","h"+String(h),1);m.markup="########".slice(0,h),m.map=[e,t.line];const g=t.push("inline","",0);g.content=t.src.slice(s,l).trim(),g.map=[e,t.line],g.children=[];const b=t.push("heading_close","h"+String(h),-1);return b.markup="########".slice(0,h),!0}function Ale(t,e,n){const i=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const s=t.parentType;t.parentType="paragraph";let l=0,f,h=e+1;for(;h<n&&!t.isEmpty(h);h++){if(t.sCount[h]-t.blkIndent>3)continue;if(t.sCount[h]>=t.blkIndent){let w=t.bMarks[h]+t.tShift[h];const C=t.eMarks[h];if(w<C&&(f=t.src.charCodeAt(w),(f===45||f===61)&&(w=t.skipChars(w,f),w=t.skipSpaces(w),w>=C))){l=f===61?1:2;break}}if(t.sCount[h]<0)continue;let S=!1;for(let w=0,C=i.length;w<C;w++)if(i[w](t,h,n,!0)){S=!0;break}if(S)break}if(!l)return!1;const p=t.getLines(e,h,t.blkIndent,!1).trim();t.line=h+1;const m=t.push("heading_open","h"+String(l),1);m.markup=String.fromCharCode(f),m.map=[e,t.line];const g=t.push("inline","",0);g.content=p,g.map=[e,t.line-1],g.children=[];const b=t.push("heading_close","h"+String(l),-1);return b.markup=String.fromCharCode(f),t.parentType=s,!0}function kle(t,e,n){const i=t.md.block.ruler.getRules("paragraph"),s=t.parentType;let l=e+1;for(t.parentType="paragraph";l<n&&!t.isEmpty(l);l++){if(t.sCount[l]-t.blkIndent>3||t.sCount[l]<0)continue;let m=!1;for(let g=0,b=i.length;g<b;g++)if(i[g](t,l,n,!0)){m=!0;break}if(m)break}const f=t.getLines(e,l,t.blkIndent,!1).trim();t.line=l;const h=t.push("paragraph_open","p",1);h.map=[e,t.line];const p=t.push("inline","",0);return p.content=f,p.map=[e,t.line],p.children=[],t.push("paragraph_close","p",-1),t.parentType=s,!0}const u1=[["table",rle,["paragraph","reference"]],["code",ile],["fence",ole,["paragraph","reference","blockquote","list"]],["blockquote",ale,["paragraph","reference","blockquote","list"]],["hr",sle,["paragraph","reference","blockquote","list"]],["list",lle,["paragraph","reference","blockquote"]],["reference",cle],["html_block",Cle,["paragraph","reference","blockquote"]],["heading",Ele,["paragraph","reference","blockquote"]],["lheading",Ale],["paragraph",kle]];function lm(){this.ruler=new Ni;for(let t=0;t<u1.length;t++)this.ruler.push(u1[t][0],u1[t][1],{alt:(u1[t][2]||[]).slice()})}lm.prototype.tokenize=function(t,e,n){const i=this.ruler.getRules(""),s=i.length,l=t.md.options.maxNesting;let f=e,h=!1;for(;f<n&&(t.line=f=t.skipEmptyLines(f),!(f>=n||t.sCount[f]<t.blkIndent));){if(t.level>=l){t.line=n;break}const p=t.line;let m=!1;for(let g=0;g<s;g++)if(m=i[g](t,f,n,!1),m){if(p>=t.line)throw new Error("block rule didn't increment state.line");break}if(!m)throw new Error("none of the block rules matched");t.tight=!h,t.isEmpty(t.line-1)&&(h=!0),f=t.line,f<n&&t.isEmpty(f)&&(h=!0,f++,t.line=f)}};lm.prototype.parse=function(t,e,n,i){if(!t)return;const s=new this.State(t,e,n,i);this.tokenize(s,s.line,s.lineMax)};lm.prototype.State=ka;function k0(t,e,n,i){this.src=t,this.env=n,this.md=e,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}k0.prototype.pushPending=function(){const t=new Ho("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};k0.prototype.push=function(t,e,n){this.pending&&this.pushPending();const i=new Ho(t,e,n);let s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(s),i};k0.prototype.scanDelims=function(t,e){const n=this.posMax,i=this.src.charCodeAt(t),s=t>0?this.src.charCodeAt(t-1):32;let l=t;for(;l<n&&this.src.charCodeAt(l)===i;)l++;const f=l-t,h=l<n?this.src.charCodeAt(l):32,p=Jd(s)||Zd(String.fromCharCode(s)),m=Jd(h)||Zd(String.fromCharCode(h)),g=Kd(s),b=Kd(h),S=!b&&(!m||g||p),w=!g&&(!p||b||m);return{can_open:S&&(e||!w||p),can_close:w&&(e||!S||m),length:f}};k0.prototype.Token=Ho;function Fle(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function Ile(t,e){let n=t.pos;for(;n<t.posMax&&!Fle(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const Mle=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Dle(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,i=t.posMax;if(n+3>i||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const s=t.pending.match(Mle);if(!s)return!1;const l=s[1],f=t.md.linkify.matchAtStart(t.src.slice(n-l.length));if(!f)return!1;let h=f.url;if(h.length<=l.length)return!1;h=h.replace(/\*+$/,"");const p=t.md.normalizeLink(h);if(!t.md.validateLink(p))return!1;if(!e){t.pending=t.pending.slice(0,-l.length);const m=t.push("link_open","a",1);m.attrs=[["href",p]],m.markup="linkify",m.info="auto";const g=t.push("text","",0);g.content=t.md.normalizeLinkText(h);const b=t.push("link_close","a",-1);b.markup="linkify",b.info="auto"}return t.pos+=h.length-l.length,!0}function Tle(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const i=t.pending.length-1,s=t.posMax;if(!e)if(i>=0&&t.pending.charCodeAt(i)===32)if(i>=1&&t.pending.charCodeAt(i-1)===32){let l=i-1;for(;l>=1&&t.pending.charCodeAt(l-1)===32;)l--;t.pending=t.pending.slice(0,l),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<s&&$n(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const YS=[];for(let t=0;t<256;t++)YS.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){YS[t.charCodeAt(0)]=1});function Ple(t,e){let n=t.pos;const i=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=i))return!1;let s=t.src.charCodeAt(n);if(s===10){for(e||t.push("hardbreak","br",0),n++;n<i&&(s=t.src.charCodeAt(n),!!$n(s));)n++;return t.pos=n,!0}let l=t.src[n];if(s>=55296&&s<=56319&&n+1<i){const h=t.src.charCodeAt(n+1);h>=56320&&h<=57343&&(l+=t.src[n+1],n++)}const f="\\"+l;if(!e){const h=t.push("text_special","",0);s<256&&YS[s]!==0?h.content=l:h.content=f,h.markup=f,h.info="escape"}return t.pos=n+1,!0}function Rle(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const s=n;n++;const l=t.posMax;for(;n<l&&t.src.charCodeAt(n)===96;)n++;const f=t.src.slice(s,n),h=f.length;if(t.backticksScanned&&(t.backticks[h]||0)<=s)return e||(t.pending+=f),t.pos+=h,!0;let p=n,m;for(;(m=t.src.indexOf("`",p))!==-1;){for(p=m+1;p<l&&t.src.charCodeAt(p)===96;)p++;const g=p-m;if(g===h){if(!e){const b=t.push("code_inline","code",0);b.markup=f,b.content=t.src.slice(n,m).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=p,!0}t.backticks[g]=m}return t.backticksScanned=!0,e||(t.pending+=f),t.pos+=h,!0}function Ble(t,e){const n=t.pos,i=t.src.charCodeAt(n);if(e||i!==126)return!1;const s=t.scanDelims(t.pos,!0);let l=s.length;const f=String.fromCharCode(i);if(l<2)return!1;let h;l%2&&(h=t.push("text","",0),h.content=f,l--);for(let p=0;p<l;p+=2)h=t.push("text","",0),h.content=f+f,t.delimiters.push({marker:i,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0}function LT(t,e){let n;const i=[],s=e.length;for(let l=0;l<s;l++){const f=e[l];if(f.marker!==126||f.end===-1)continue;const h=e[f.end];n=t.tokens[f.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[h.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[h.token-1].type==="text"&&t.tokens[h.token-1].content==="~"&&i.push(h.token-1)}for(;i.length;){const l=i.pop();let f=l+1;for(;f<t.tokens.length&&t.tokens[f].type==="s_close";)f++;f--,l!==f&&(n=t.tokens[f],t.tokens[f]=t.tokens[l],t.tokens[l]=n)}}function Ole(t){const e=t.tokens_meta,n=t.tokens_meta.length;LT(t,t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&LT(t,e[i].delimiters)}const rO={tokenize:Ble,postProcess:Ole};function Lle(t,e){const n=t.pos,i=t.src.charCodeAt(n);if(e||i!==95&&i!==42)return!1;const s=t.scanDelims(t.pos,i===42);for(let l=0;l<s.length;l++){const f=t.push("text","",0);f.content=String.fromCharCode(i),t.delimiters.push({marker:i,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close})}return t.pos+=s.length,!0}function zT(t,e){const n=e.length;for(let i=n-1;i>=0;i--){const s=e[i];if(s.marker!==95&&s.marker!==42||s.end===-1)continue;const l=e[s.end],f=i>0&&e[i-1].end===s.end+1&&e[i-1].marker===s.marker&&e[i-1].token===s.token-1&&e[s.end+1].token===l.token+1,h=String.fromCharCode(s.marker),p=t.tokens[s.token];p.type=f?"strong_open":"em_open",p.tag=f?"strong":"em",p.nesting=1,p.markup=f?h+h:h,p.content="";const m=t.tokens[l.token];m.type=f?"strong_close":"em_close",m.tag=f?"strong":"em",m.nesting=-1,m.markup=f?h+h:h,m.content="",f&&(t.tokens[e[i-1].token].content="",t.tokens[e[s.end+1].token].content="",i--)}}function zle(t){const e=t.tokens_meta,n=t.tokens_meta.length;zT(t,t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&zT(t,e[i].delimiters)}const iO={tokenize:Lle,postProcess:zle};function Nle(t,e){let n,i,s,l,f="",h="",p=t.pos,m=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const g=t.pos,b=t.posMax,S=t.pos+1,w=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(w<0)return!1;let C=w+1;if(C<b&&t.src.charCodeAt(C)===40){for(m=!1,C++;C<b&&(n=t.src.charCodeAt(C),!(!$n(n)&&n!==10));C++);if(C>=b)return!1;if(p=C,s=t.md.helpers.parseLinkDestination(t.src,C,t.posMax),s.ok){for(f=t.md.normalizeLink(s.str),t.md.validateLink(f)?C=s.pos:f="",p=C;C<b&&(n=t.src.charCodeAt(C),!(!$n(n)&&n!==10));C++);if(s=t.md.helpers.parseLinkTitle(t.src,C,t.posMax),C<b&&p!==C&&s.ok)for(h=s.str,C=s.pos;C<b&&(n=t.src.charCodeAt(C),!(!$n(n)&&n!==10));C++);}(C>=b||t.src.charCodeAt(C)!==41)&&(m=!0),C++}if(m){if(typeof t.env.references>"u")return!1;if(C<b&&t.src.charCodeAt(C)===91?(p=C+1,C=t.md.helpers.parseLinkLabel(t,C),C>=0?i=t.src.slice(p,C++):C=w+1):C=w+1,i||(i=t.src.slice(S,w)),l=t.env.references[um(i)],!l)return t.pos=g,!1;f=l.href,h=l.title}if(!e){t.pos=S,t.posMax=w;const M=t.push("link_open","a",1),T=[["href",f]];M.attrs=T,h&&T.push(["title",h]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=C,t.posMax=b,!0}function jle(t,e){let n,i,s,l,f,h,p,m,g="";const b=t.pos,S=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const w=t.pos+2,C=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(C<0)return!1;if(l=C+1,l<S&&t.src.charCodeAt(l)===40){for(l++;l<S&&(n=t.src.charCodeAt(l),!(!$n(n)&&n!==10));l++);if(l>=S)return!1;for(m=l,h=t.md.helpers.parseLinkDestination(t.src,l,t.posMax),h.ok&&(g=t.md.normalizeLink(h.str),t.md.validateLink(g)?l=h.pos:g=""),m=l;l<S&&(n=t.src.charCodeAt(l),!(!$n(n)&&n!==10));l++);if(h=t.md.helpers.parseLinkTitle(t.src,l,t.posMax),l<S&&m!==l&&h.ok)for(p=h.str,l=h.pos;l<S&&(n=t.src.charCodeAt(l),!(!$n(n)&&n!==10));l++);else p="";if(l>=S||t.src.charCodeAt(l)!==41)return t.pos=b,!1;l++}else{if(typeof t.env.references>"u")return!1;if(l<S&&t.src.charCodeAt(l)===91?(m=l+1,l=t.md.helpers.parseLinkLabel(t,l),l>=0?s=t.src.slice(m,l++):l=C+1):l=C+1,s||(s=t.src.slice(w,C)),f=t.env.references[um(s)],!f)return t.pos=b,!1;g=f.href,p=f.title}if(!e){i=t.src.slice(w,C);const M=[];t.md.inline.parse(i,t.md,t.env,M);const T=t.push("image","img",0),D=[["src",g],["alt",""]];T.attrs=D,T.children=M,T.content=i,p&&D.push(["title",p])}return t.pos=l,t.posMax=S,!0}const qle=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,$le=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function Ule(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const i=t.pos,s=t.posMax;for(;;){if(++n>=s)return!1;const f=t.src.charCodeAt(n);if(f===60)return!1;if(f===62)break}const l=t.src.slice(i+1,n);if($le.test(l)){const f=t.md.normalizeLink(l);if(!t.md.validateLink(f))return!1;if(!e){const h=t.push("link_open","a",1);h.attrs=[["href",f]],h.markup="autolink",h.info="auto";const p=t.push("text","",0);p.content=t.md.normalizeLinkText(l);const m=t.push("link_close","a",-1);m.markup="autolink",m.info="auto"}return t.pos+=l.length+2,!0}if(qle.test(l)){const f=t.md.normalizeLink("mailto:"+l);if(!t.md.validateLink(f))return!1;if(!e){const h=t.push("link_open","a",1);h.attrs=[["href",f]],h.markup="autolink",h.info="auto";const p=t.push("text","",0);p.content=t.md.normalizeLinkText(l);const m=t.push("link_close","a",-1);m.markup="autolink",m.info="auto"}return t.pos+=l.length+2,!0}return!1}function Gle(t){return/^<a[>\s]/i.test(t)}function Hle(t){return/^<\/a\s*>/i.test(t)}function Vle(t){const e=t|32;return e>=97&&e<=122}function Wle(t,e){if(!t.md.options.html)return!1;const n=t.posMax,i=t.pos;if(t.src.charCodeAt(i)!==60||i+2>=n)return!1;const s=t.src.charCodeAt(i+1);if(s!==33&&s!==63&&s!==47&&!Vle(s))return!1;const l=t.src.slice(i).match(xle);if(!l)return!1;if(!e){const f=t.push("html_inline","",0);f.content=l[0],Gle(f.content)&&t.linkLevel++,Hle(f.content)&&t.linkLevel--}return t.pos+=l[0].length,!0}const Yle=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Xle=/^&([a-z][a-z0-9]{1,31});/i;function Kle(t,e){const n=t.pos,i=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=i)return!1;if(t.src.charCodeAt(n+1)===35){const l=t.src.slice(n).match(Yle);if(l){if(!e){const f=l[1][0].toLowerCase()==="x"?parseInt(l[1].slice(1),16):parseInt(l[1],10),h=t.push("text_special","",0);h.content=VS(f)?pv(f):pv(65533),h.markup=l[0],h.info="entity"}return t.pos+=l[0].length,!0}}else{const l=t.src.slice(n).match(Xle);if(l){const f=KB(l[0]);if(f!==l[0]){if(!e){const h=t.push("text_special","",0);h.content=f,h.markup=l[0],h.info="entity"}return t.pos+=l[0].length,!0}}}return!1}function NT(t){const e={},n=t.length;if(!n)return;let i=0,s=-2;const l=[];for(let f=0;f<n;f++){const h=t[f];if(l.push(0),(t[i].marker!==h.marker||s!==h.token-1)&&(i=f),s=h.token,h.length=h.length||0,!h.close)continue;e.hasOwnProperty(h.marker)||(e[h.marker]=[-1,-1,-1,-1,-1,-1]);const p=e[h.marker][(h.open?3:0)+h.length%3];let m=i-l[i]-1,g=m;for(;m>p;m-=l[m]+1){const b=t[m];if(b.marker===h.marker&&b.open&&b.end<0){let S=!1;if((b.close||h.open)&&(b.length+h.length)%3===0&&(b.length%3!==0||h.length%3!==0)&&(S=!0),!S){const w=m>0&&!t[m-1].open?l[m-1]+1:0;l[f]=f-m+w,l[m]=w,h.open=!1,b.end=f,b.close=!1,g=-1,s=-2;break}}}g!==-1&&(e[h.marker][(h.open?3:0)+(h.length||0)%3]=g)}}function Zle(t){const e=t.tokens_meta,n=t.tokens_meta.length;NT(t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&NT(e[i].delimiters)}function Jle(t){let e,n,i=0;const s=t.tokens,l=t.tokens.length;for(e=n=0;e<l;e++)s[e].nesting<0&&i--,s[e].level=i,s[e].nesting>0&&i++,s[e].type==="text"&&e+1<l&&s[e+1].type==="text"?s[e+1].content=s[e].content+s[e+1].content:(e!==n&&(s[n]=s[e]),n++);e!==n&&(s.length=n)}const Iw=[["text",Ile],["linkify",Dle],["newline",Tle],["escape",Ple],["backticks",Rle],["strikethrough",rO.tokenize],["emphasis",iO.tokenize],["link",Nle],["image",jle],["autolink",Ule],["html_inline",Wle],["entity",Kle]],Mw=[["balance_pairs",Zle],["strikethrough",rO.postProcess],["emphasis",iO.postProcess],["fragments_join",Jle]];function F0(){this.ruler=new Ni;for(let t=0;t<Iw.length;t++)this.ruler.push(Iw[t][0],Iw[t][1]);this.ruler2=new Ni;for(let t=0;t<Mw.length;t++)this.ruler2.push(Mw[t][0],Mw[t][1])}F0.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),i=n.length,s=t.md.options.maxNesting,l=t.cache;if(typeof l[e]<"u"){t.pos=l[e];return}let f=!1;if(t.level<s){for(let h=0;h<i;h++)if(t.level++,f=n[h](t,!0),t.level--,f){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;f||t.pos++,l[e]=t.pos};F0.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,i=t.posMax,s=t.md.options.maxNesting;for(;t.pos<i;){const l=t.pos;let f=!1;if(t.level<s){for(let h=0;h<n;h++)if(f=e[h](t,!1),f){if(l>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(f){if(t.pos>=i)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};F0.prototype.parse=function(t,e,n,i){const s=new this.State(t,e,n,i);this.tokenize(s);const l=this.ruler2.getRules(""),f=l.length;for(let h=0;h<f;h++)l[h](s)};F0.prototype.State=k0;function Qle(t){const e={};t=t||{},e.src_Any=HB.source,e.src_Cc=VB.source,e.src_Z=YB.source,e.src_P=GS.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function Lx(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(i){t[i]=n[i]})}),t}function cm(t){return Object.prototype.toString.call(t)}function ece(t){return cm(t)==="[object String]"}function tce(t){return cm(t)==="[object Object]"}function nce(t){return cm(t)==="[object RegExp]"}function jT(t){return cm(t)==="[object Function]"}function rce(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const oO={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function ice(t){return Object.keys(t||{}).reduce(function(e,n){return e||oO.hasOwnProperty(n)},!1)}const oce={"http:":{validate:function(t,e,n){const i=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const i=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const i=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},ace="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",sce="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function uce(t){t.__index__=-1,t.__text_cache__=""}function lce(t){return function(e,n){const i=e.slice(n);return t.test(i)?i.match(t)[0].length:0}}function qT(){return function(t,e){e.normalize(t)}}function gv(t){const e=t.re=Qle(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(ace),n.push(e.src_xn),e.src_tlds=n.join("|");function i(h){return h.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(i(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(i(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(i(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(i(e.tpl_host_fuzzy_test),"i");const s=[];t.__compiled__={};function l(h,p){throw new Error('(LinkifyIt) Invalid schema "'+h+'": '+p)}Object.keys(t.__schemas__).forEach(function(h){const p=t.__schemas__[h];if(p===null)return;const m={validate:null,link:null};if(t.__compiled__[h]=m,tce(p)){nce(p.validate)?m.validate=lce(p.validate):jT(p.validate)?m.validate=p.validate:l(h,p),jT(p.normalize)?m.normalize=p.normalize:p.normalize?l(h,p):m.normalize=qT();return}if(ece(p)){s.push(h);return}l(h,p)}),s.forEach(function(h){t.__compiled__[t.__schemas__[h]]&&(t.__compiled__[h].validate=t.__compiled__[t.__schemas__[h]].validate,t.__compiled__[h].normalize=t.__compiled__[t.__schemas__[h]].normalize)}),t.__compiled__[""]={validate:null,normalize:qT()};const f=Object.keys(t.__compiled__).filter(function(h){return h.length>0&&t.__compiled__[h]}).map(rce).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+f+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+f+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),uce(t)}function cce(t,e){const n=t.__index__,i=t.__last_index__,s=t.__text_cache__.slice(n,i);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=i+e,this.raw=s,this.text=s,this.url=s}function zx(t,e){const n=new cce(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function io(t,e){if(!(this instanceof io))return new io(t,e);e||ice(t)&&(e=t,t={}),this.__opts__=Lx({},oO,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Lx({},oce,t),this.__compiled__={},this.__tlds__=sce,this.__tlds_replaced__=!1,this.re={},gv(this)}io.prototype.add=function(e,n){return this.__schemas__[e]=n,gv(this),this};io.prototype.set=function(e){return this.__opts__=Lx(this.__opts__,e),this};io.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,i,s,l,f,h,p,m,g;if(this.re.schema_test.test(e)){for(p=this.re.schema_search,p.lastIndex=0;(n=p.exec(e))!==null;)if(l=this.testSchemaAt(e,n[2],p.lastIndex),l){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+l;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(m=e.search(this.re.host_fuzzy_test),m>=0&&(this.__index__<0||m<this.__index__)&&(i=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(f=i.index+i[1].length,(this.__index__<0||f<this.__index__)&&(this.__schema__="",this.__index__=f,this.__last_index__=i.index+i[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(g=e.indexOf("@"),g>=0&&(s=e.match(this.re.email_fuzzy))!==null&&(f=s.index+s[1].length,h=s.index+s[0].length,(this.__index__<0||f<this.__index__||f===this.__index__&&h>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=f,this.__last_index__=h))),this.__index__>=0};io.prototype.pretest=function(e){return this.re.pretest.test(e)};io.prototype.testSchemaAt=function(e,n,i){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,i,this):0};io.prototype.match=function(e){const n=[];let i=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(zx(this,i)),i=this.__last_index__);let s=i?e.slice(i):e;for(;this.test(s);)n.push(zx(this,i)),s=s.slice(this.__last_index__),i+=this.__last_index__;return n.length?n:null};io.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const i=this.testSchemaAt(e,n[2],n[0].length);return i?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i,zx(this,0)):null};io.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(i,s,l){return i!==l[s-1]}).reverse(),gv(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,gv(this),this)};io.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};io.prototype.onCompile=function(){};const Cf=2147483647,ha=36,XS=1,Qd=26,fce=38,hce=700,aO=72,sO=128,uO="-",dce=/^xn--/,pce=/[^\0-\x7F]/,gce=/[\x2E\u3002\uFF0E\uFF61]/g,vce={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Dw=ha-XS,da=Math.floor,Tw=String.fromCharCode;function Xs(t){throw new RangeError(vce[t])}function mce(t,e){const n=[];let i=t.length;for(;i--;)n[i]=e(t[i]);return n}function lO(t,e){const n=t.split("@");let i="";n.length>1&&(i=n[0]+"@",t=n[1]),t=t.replace(gce,".");const s=t.split("."),l=mce(s,e).join(".");return i+l}function cO(t){const e=[];let n=0;const i=t.length;for(;n<i;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<i){const l=t.charCodeAt(n++);(l&64512)==56320?e.push(((s&1023)<<10)+(l&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}const yce=t=>String.fromCodePoint(...t),_ce=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:ha},$T=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},fO=function(t,e,n){let i=0;for(t=n?da(t/hce):t>>1,t+=da(t/e);t>Dw*Qd>>1;i+=ha)t=da(t/Dw);return da(i+(Dw+1)*t/(t+fce))},hO=function(t){const e=[],n=t.length;let i=0,s=sO,l=aO,f=t.lastIndexOf(uO);f<0&&(f=0);for(let h=0;h<f;++h)t.charCodeAt(h)>=128&&Xs("not-basic"),e.push(t.charCodeAt(h));for(let h=f>0?f+1:0;h<n;){const p=i;for(let g=1,b=ha;;b+=ha){h>=n&&Xs("invalid-input");const S=_ce(t.charCodeAt(h++));S>=ha&&Xs("invalid-input"),S>da((Cf-i)/g)&&Xs("overflow"),i+=S*g;const w=b<=l?XS:b>=l+Qd?Qd:b-l;if(S<w)break;const C=ha-w;g>da(Cf/C)&&Xs("overflow"),g*=C}const m=e.length+1;l=fO(i-p,m,p==0),da(i/m)>Cf-s&&Xs("overflow"),s+=da(i/m),i%=m,e.splice(i++,0,s)}return String.fromCodePoint(...e)},dO=function(t){const e=[];t=cO(t);const n=t.length;let i=sO,s=0,l=aO;for(const p of t)p<128&&e.push(Tw(p));const f=e.length;let h=f;for(f&&e.push(uO);h<n;){let p=Cf;for(const g of t)g>=i&&g<p&&(p=g);const m=h+1;p-i>da((Cf-s)/m)&&Xs("overflow"),s+=(p-i)*m,i=p;for(const g of t)if(g<i&&++s>Cf&&Xs("overflow"),g===i){let b=s;for(let S=ha;;S+=ha){const w=S<=l?XS:S>=l+Qd?Qd:S-l;if(b<w)break;const C=b-w,M=ha-w;e.push(Tw($T(w+C%M,0))),b=da(C/M)}e.push(Tw($T(b,0))),l=fO(s,m,h===f),s=0,++h}++s,++i}return e.join("")},bce=function(t){return lO(t,function(e){return dce.test(e)?hO(e.slice(4).toLowerCase()):e})},wce=function(t){return lO(t,function(e){return pce.test(e)?"xn--"+dO(e):e})},pO={version:"2.3.1",ucs2:{decode:cO,encode:yce},decode:hO,encode:dO,toASCII:wce,toUnicode:bce},xce={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Sce={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Cce={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Ece={default:xce,zero:Sce,commonmark:Cce},Ace=/^(vbscript|javascript|file|data):/,kce=/^data:image\/(gif|png|jpeg|webp);/;function Fce(t){const e=t.trim().toLowerCase();return Ace.test(e)?kce.test(e):!0}const gO=["http:","https:","mailto:"];function Ice(t){const e=US(t,!0);if(e.hostname&&(!e.protocol||gO.indexOf(e.protocol)>=0))try{e.hostname=pO.toASCII(e.hostname)}catch{}return A0($S(e))}function Mce(t){const e=US(t,!0);if(e.hostname&&(!e.protocol||gO.indexOf(e.protocol)>=0))try{e.hostname=pO.toUnicode(e.hostname)}catch{}return Df($S(e),Df.defaultChars+"%")}function $o(t,e){if(!(this instanceof $o))return new $o(t,e);e||HS(t)||(e=t||{},t="default"),this.inline=new F0,this.block=new lm,this.core=new WS,this.renderer=new Kf,this.linkify=new io,this.validateLink=Fce,this.normalizeLink=Ice,this.normalizeLinkText=Mce,this.utils=Tue,this.helpers=sm({},Oue),this.options={},this.configure(t),e&&this.set(e)}$o.prototype.set=function(t){return sm(this.options,t),this};$o.prototype.configure=function(t){const e=this;if(HS(t)){const n=t;if(t=Ece[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};$o.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const i=t.filter(function(s){return n.indexOf(s)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this};$o.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const i=t.filter(function(s){return n.indexOf(s)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this};$o.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};$o.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};$o.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};$o.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};$o.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const UT=new Set([!0,!1,"alt","title"]);function vO(t,e){return(Array.isArray(t)?t:[]).filter(([n])=>n!==e)}function mO(t,e){t&&t.attrs&&(t.attrs=vO(t.attrs,e))}function Dce(t,e){if(!UT.has(t))throw new TypeError(`figcaption must be one of: ${[...UT]}.`);if(t==="alt")return e.content;const n=e.attrs.find(([i])=>i==="title");return Array.isArray(n)&&n[1]?(mO(e,"title"),n[1]):void 0}function $1e(t,e){e=e||{},t.core.ruler.before("linkify","image_figures",function(n){let i=1;for(let s=1,l=n.tokens.length;s<l-1;++s){const f=n.tokens[s];if(f.type!=="inline"||!f.children||f.children.length!==1&&f.children.length!==3||f.children.length===1&&f.children[0].type!=="image")continue;if(f.children.length===3){const[m,g,b]=f.children;if(m.type!=="link_open"||g.type!=="image"||b.type!=="link_close")continue}if(s!==0&&n.tokens[s-1].type!=="paragraph_open"||s!==l-1&&n.tokens[s+1].type!=="paragraph_close")continue;const h=n.tokens[s-1];let p;if(h.type="figure_open",h.tag="figure",n.tokens[s+1].type="figure_close",n.tokens[s+1].tag="figure",e.dataType&&n.tokens[s-1].attrPush(["data-type","image"]),e.link&&f.children.length===1){[p]=f.children;const m=new n.Token("link_open","a",1);m.attrPush(["href",p.attrGet("src")]),f.children.unshift(m),f.children.push(new n.Token("link_close","a",-1))}if(p=f.children.length===1?f.children[0]:f.children[1],e.figcaption){const m=Dce(e.figcaption,p);if(m){const[g]=t.parseInline(m,n.env);f.children.push(new n.Token("figcaption_open","figcaption",1)),f.children.push(...g.children),f.children.push(new n.Token("figcaption_close","figcaption",-1)),p.attrs&&(p.attrs=vO(p.attrs,"title"))}}if(e.copyAttrs&&p.attrs){const m=e.copyAttrs===!0?"":e.copyAttrs;h.attrs=p.attrs.filter(([g])=>g.match(m)).map(g=>Array.from(g))}if(e.tabindex&&(n.tokens[s-1].attrPush(["tabindex",i]),i++),e.lazy&&(p.attrs.some(([m])=>m==="loading")||p.attrs.push(["loading","lazy"])),e.async&&(p.attrs.some(([m])=>m==="decoding")||p.attrs.push(["decoding","async"])),e.classes&&typeof e.classes=="string"){let m=!1;for(let g=0,b=p.attrs.length;g<b&&!m;g++){const S=p.attrs[g];S[0]==="class"&&(S[1]=`${S[1]} ${e.classes}`,m=!0)}m||p.attrs.push(["class",e.classes])}if(e.removeSrc){const m=p.attrs.find(([g])=>g==="src");p.attrs.push(["data-src",m[1]]),mO(p,"src")}}})}const Tce=/\\([ \\!"#$%&'()*+,./:;<=>?@[\]^_`{|}~-])/g;function Pce(t,e){const n=t.posMax,i=t.pos;if(t.src.charCodeAt(i)!==126||e||i+2>=n)return!1;t.pos=i+1;let s=!1;for(;t.pos<n;){if(t.src.charCodeAt(t.pos)===126){s=!0;break}t.md.inline.skipToken(t)}if(!s||i+1===t.pos)return t.pos=i,!1;const l=t.src.slice(i+1,t.pos);if(l.match(/(^|[^\\])(\\\\)*\s/))return t.pos=i,!1;t.posMax=t.pos,t.pos=i+1;const f=t.push("sub_open","sub",1);f.markup="~";const h=t.push("text","",0);h.content=l.replace(Tce,"$1");const p=t.push("sub_close","sub",-1);return p.markup="~",t.pos=t.posMax+1,t.posMax=n,!0}function U1e(t){t.inline.ruler.after("emphasis","sub",Pce)}const Rce=/\\([ \\!"#$%&'()*+,./:;<=>?@[\]^_`{|}~-])/g;function Bce(t,e){const n=t.posMax,i=t.pos;if(t.src.charCodeAt(i)!==94||e||i+2>=n)return!1;t.pos=i+1;let s=!1;for(;t.pos<n;){if(t.src.charCodeAt(t.pos)===94){s=!0;break}t.md.inline.skipToken(t)}if(!s||i+1===t.pos)return t.pos=i,!1;const l=t.src.slice(i+1,t.pos);if(l.match(/(^|[^\\])(\\\\)*\s/))return t.pos=i,!1;t.posMax=t.pos,t.pos=i+1;const f=t.push("sup_open","sup",1);f.markup="^";const h=t.push("text","",0);h.content=l.replace(Rce,"$1");const p=t.push("sup_close","sup",-1);return p.markup="^",t.pos=t.posMax+1,t.posMax=n,!0}function G1e(t){t.inline.ruler.after("emphasis","sup",Bce)}const Jc=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,yO=new Set,Nx=typeof process=="object"&&process?process:{},_O=(t,e,n,i)=>{typeof Nx.emitWarning=="function"&&Nx.emitWarning(t,e,n,i)};let vv=globalThis.AbortController,GT=globalThis.AbortSignal;if(typeof vv>"u"){GT=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,s){this._onabort.push(s)}},vv=class{constructor(){e()}signal=new GT;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const s of this.signal._onabort)s(i);this.signal.onabort?.(i)}}};let t=Nx.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const e=()=>{t&&(t=!1,_O("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const Oce=t=>!yO.has(t),Vs=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),bO=t=>Vs(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?X1:null:null;class X1 extends Array{constructor(e){super(e),this.fill(0)}}class pf{heap;length;static#u=!1;static create(e){const n=bO(e);if(!n)return[];pf.#u=!0;const i=new pf(e,n);return pf.#u=!1,i}constructor(e,n){if(!pf.#u)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class wO{#u;#f;#g;#v;#M;#D;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#m;#r;#n;#e;#l;#h;#s;#o;#y;#a;#_;#b;#d;#w;#A;#c;static unsafeExposeInternals(e){return{starts:e.#b,ttls:e.#d,sizes:e.#_,keyMap:e.#r,keyList:e.#n,valList:e.#e,next:e.#l,prev:e.#h,get head(){return e.#s},get tail(){return e.#o},free:e.#y,isBackgroundFetch:n=>e.#t(n),backgroundFetch:(n,i,s,l)=>e.#R(n,i,s,l),moveToTail:n=>e.#I(n),indexes:n=>e.#x(n),rindexes:n=>e.#S(n),isStale:n=>e.#p(n)}}get max(){return this.#u}get maxSize(){return this.#f}get calculatedSize(){return this.#m}get size(){return this.#i}get fetchMethod(){return this.#M}get memoMethod(){return this.#D}get dispose(){return this.#g}get disposeAfter(){return this.#v}constructor(e){const{max:n=0,ttl:i,ttlResolution:s=1,ttlAutopurge:l,updateAgeOnGet:f,updateAgeOnHas:h,allowStale:p,dispose:m,disposeAfter:g,noDisposeOnSet:b,noUpdateTTL:S,maxSize:w=0,maxEntrySize:C=0,sizeCalculation:M,fetchMethod:T,memoMethod:D,noDeleteOnFetchRejection:R,noDeleteOnStaleGet:q,allowStaleOnFetchRejection:Y,allowStaleOnFetchAbort:K,ignoreFetchAbort:ce}=e;if(n!==0&&!Vs(n))throw new TypeError("max option must be a nonnegative integer");const te=n?bO(n):Array;if(!te)throw new Error("invalid max value: "+n);if(this.#u=n,this.#f=w,this.maxEntrySize=C||this.#f,this.sizeCalculation=M,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(D!==void 0&&typeof D!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#D=D,T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#M=T,this.#A=!!T,this.#r=new Map,this.#n=new Array(n).fill(void 0),this.#e=new Array(n).fill(void 0),this.#l=new te(n),this.#h=new te(n),this.#s=0,this.#o=0,this.#y=pf.create(n),this.#i=0,this.#m=0,typeof m=="function"&&(this.#g=m),typeof g=="function"?(this.#v=g,this.#a=[]):(this.#v=void 0,this.#a=void 0),this.#w=!!this.#g,this.#c=!!this.#v,this.noDisposeOnSet=!!b,this.noUpdateTTL=!!S,this.noDeleteOnFetchRejection=!!R,this.allowStaleOnFetchRejection=!!Y,this.allowStaleOnFetchAbort=!!K,this.ignoreFetchAbort=!!ce,this.maxEntrySize!==0){if(this.#f!==0&&!Vs(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!Vs(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#q()}if(this.allowStale=!!p,this.noDeleteOnStaleGet=!!q,this.updateAgeOnGet=!!f,this.updateAgeOnHas=!!h,this.ttlResolution=Vs(s)||s===0?s:1,this.ttlAutopurge=!!l,this.ttl=i||0,this.ttl){if(!Vs(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#B()}if(this.#u===0&&this.ttl===0&&this.#f===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#u&&!this.#f){const ee="LRU_CACHE_UNBOUNDED";Oce(ee)&&(yO.add(ee),_O("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",ee,wO))}}getRemainingTTL(e){return this.#r.has(e)?1/0:0}#B(){const e=new X1(this.#u),n=new X1(this.#u);this.#d=e,this.#b=n,this.#O=(l,f,h=Jc.now())=>{if(n[l]=f!==0?h:0,e[l]=f,f!==0&&this.ttlAutopurge){const p=setTimeout(()=>{this.#p(l)&&this.#C(this.#n[l],"expire")},f+1);p.unref&&p.unref()}},this.#k=l=>{n[l]=e[l]!==0?Jc.now():0},this.#E=(l,f)=>{if(e[f]){const h=e[f],p=n[f];if(!h||!p)return;l.ttl=h,l.start=p,l.now=i||s();const m=l.now-p;l.remainingTTL=h-m}};let i=0;const s=()=>{const l=Jc.now();if(this.ttlResolution>0){i=l;const f=setTimeout(()=>i=0,this.ttlResolution);f.unref&&f.unref()}return l};this.getRemainingTTL=l=>{const f=this.#r.get(l);if(f===void 0)return 0;const h=e[f],p=n[f];if(!h||!p)return 1/0;const m=(i||s())-p;return h-m},this.#p=l=>{const f=n[l],h=e[l];return!!h&&!!f&&(i||s())-f>h}}#k=()=>{};#E=()=>{};#O=()=>{};#p=()=>!1;#q(){const e=new X1(this.#u);this.#m=0,this.#_=e,this.#F=n=>{this.#m-=e[n],e[n]=0},this.#L=(n,i,s,l)=>{if(this.#t(i))return 0;if(!Vs(s))if(l){if(typeof l!="function")throw new TypeError("sizeCalculation must be a function");if(s=l(i,n),!Vs(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return s},this.#T=(n,i,s)=>{if(e[n]=i,this.#f){const l=this.#f-e[n];for(;this.#m>l;)this.#P(!0)}this.#m+=e[n],s&&(s.entrySize=i,s.totalCalculatedSize=this.#m)}}#F=e=>{};#T=(e,n,i)=>{};#L=(e,n,i,s)=>{if(i||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#x({allowStale:e=this.allowStale}={}){if(this.#i)for(let n=this.#o;!(!this.#z(n)||((e||!this.#p(n))&&(yield n),n===this.#s));)n=this.#h[n]}*#S({allowStale:e=this.allowStale}={}){if(this.#i)for(let n=this.#s;!(!this.#z(n)||((e||!this.#p(n))&&(yield n),n===this.#o));)n=this.#l[n]}#z(e){return e!==void 0&&this.#r.get(this.#n[e])===e}*entries(){for(const e of this.#x())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*rentries(){for(const e of this.#S())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*keys(){for(const e of this.#x()){const n=this.#n[e];n!==void 0&&!this.#t(this.#e[e])&&(yield n)}}*rkeys(){for(const e of this.#S()){const n=this.#n[e];n!==void 0&&!this.#t(this.#e[e])&&(yield n)}}*values(){for(const e of this.#x())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(const e of this.#S())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,n={}){for(const i of this.#x()){const s=this.#e[i],l=this.#t(s)?s.__staleWhileFetching:s;if(l!==void 0&&e(l,this.#n[i],this))return this.get(this.#n[i],n)}}forEach(e,n=this){for(const i of this.#x()){const s=this.#e[i],l=this.#t(s)?s.__staleWhileFetching:s;l!==void 0&&e.call(n,l,this.#n[i],this)}}rforEach(e,n=this){for(const i of this.#S()){const s=this.#e[i],l=this.#t(s)?s.__staleWhileFetching:s;l!==void 0&&e.call(n,l,this.#n[i],this)}}purgeStale(){let e=!1;for(const n of this.#S({allowStale:!0}))this.#p(n)&&(this.#C(this.#n[n],"expire"),e=!0);return e}info(e){const n=this.#r.get(e);if(n===void 0)return;const i=this.#e[n],s=this.#t(i)?i.__staleWhileFetching:i;if(s===void 0)return;const l={value:s};if(this.#d&&this.#b){const f=this.#d[n],h=this.#b[n];if(f&&h){const p=f-(Jc.now()-h);l.ttl=p,l.start=Date.now()}}return this.#_&&(l.size=this.#_[n]),l}dump(){const e=[];for(const n of this.#x({allowStale:!0})){const i=this.#n[n],s=this.#e[n],l=this.#t(s)?s.__staleWhileFetching:s;if(l===void 0||i===void 0)continue;const f={value:l};if(this.#d&&this.#b){f.ttl=this.#d[n];const h=Jc.now()-this.#b[n];f.start=Math.floor(Date.now()-h)}this.#_&&(f.size=this.#_[n]),e.unshift([i,f])}return e}load(e){this.clear();for(const[n,i]of e){if(i.start){const s=Date.now()-i.start;i.start=Jc.now()-s}this.set(n,i.value,i)}}set(e,n,i={}){if(n===void 0)return this.delete(e),this;const{ttl:s=this.ttl,start:l,noDisposeOnSet:f=this.noDisposeOnSet,sizeCalculation:h=this.sizeCalculation,status:p}=i;let{noUpdateTTL:m=this.noUpdateTTL}=i;const g=this.#L(e,n,i.size||0,h);if(this.maxEntrySize&&g>this.maxEntrySize)return p&&(p.set="miss",p.maxEntrySizeExceeded=!0),this.#C(e,"set"),this;let b=this.#i===0?void 0:this.#r.get(e);if(b===void 0)b=this.#i===0?this.#o:this.#y.length!==0?this.#y.pop():this.#i===this.#u?this.#P(!1):this.#i,this.#n[b]=e,this.#e[b]=n,this.#r.set(e,b),this.#l[this.#o]=b,this.#h[b]=this.#o,this.#o=b,this.#i++,this.#T(b,g,p),p&&(p.set="add"),m=!1;else{this.#I(b);const S=this.#e[b];if(n!==S){if(this.#A&&this.#t(S)){S.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:w}=S;w!==void 0&&!f&&(this.#w&&this.#g?.(w,e,"set"),this.#c&&this.#a?.push([w,e,"set"]))}else f||(this.#w&&this.#g?.(S,e,"set"),this.#c&&this.#a?.push([S,e,"set"]));if(this.#F(b),this.#T(b,g,p),this.#e[b]=n,p){p.set="replace";const w=S&&this.#t(S)?S.__staleWhileFetching:S;w!==void 0&&(p.oldValue=w)}}else p&&(p.set="update")}if(s!==0&&!this.#d&&this.#B(),this.#d&&(m||this.#O(b,s,l),p&&this.#E(p,b)),!f&&this.#c&&this.#a){const S=this.#a;let w;for(;w=S?.shift();)this.#v?.(...w)}return this}pop(){try{for(;this.#i;){const e=this.#e[this.#s];if(this.#P(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#c&&this.#a){const e=this.#a;let n;for(;n=e?.shift();)this.#v?.(...n)}}}#P(e){const n=this.#s,i=this.#n[n],s=this.#e[n];return this.#A&&this.#t(s)?s.__abortController.abort(new Error("evicted")):(this.#w||this.#c)&&(this.#w&&this.#g?.(s,i,"evict"),this.#c&&this.#a?.push([s,i,"evict"])),this.#F(n),e&&(this.#n[n]=void 0,this.#e[n]=void 0,this.#y.push(n)),this.#i===1?(this.#s=this.#o=0,this.#y.length=0):this.#s=this.#l[n],this.#r.delete(i),this.#i--,n}has(e,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:s}=n,l=this.#r.get(e);if(l!==void 0){const f=this.#e[l];if(this.#t(f)&&f.__staleWhileFetching===void 0)return!1;if(this.#p(l))s&&(s.has="stale",this.#E(s,l));else return i&&this.#k(l),s&&(s.has="hit",this.#E(s,l)),!0}else s&&(s.has="miss");return!1}peek(e,n={}){const{allowStale:i=this.allowStale}=n,s=this.#r.get(e);if(s===void 0||!i&&this.#p(s))return;const l=this.#e[s];return this.#t(l)?l.__staleWhileFetching:l}#R(e,n,i,s){const l=n===void 0?void 0:this.#e[n];if(this.#t(l))return l;const f=new vv,{signal:h}=i;h?.addEventListener("abort",()=>f.abort(h.reason),{signal:f.signal});const p={signal:f.signal,options:i,context:s},m=(M,T=!1)=>{const{aborted:D}=f.signal,R=i.ignoreFetchAbort&&M!==void 0;if(i.status&&(D&&!T?(i.status.fetchAborted=!0,i.status.fetchError=f.signal.reason,R&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),D&&!R&&!T)return b(f.signal.reason);const q=w;return this.#e[n]===w&&(M===void 0?q.__staleWhileFetching?this.#e[n]=q.__staleWhileFetching:this.#C(e,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(e,M,p.options))),M},g=M=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=M),b(M)),b=M=>{const{aborted:T}=f.signal,D=T&&i.allowStaleOnFetchAbort,R=D||i.allowStaleOnFetchRejection,q=R||i.noDeleteOnFetchRejection,Y=w;if(this.#e[n]===w&&(!q||Y.__staleWhileFetching===void 0?this.#C(e,"fetch"):D||(this.#e[n]=Y.__staleWhileFetching)),R)return i.status&&Y.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),Y.__staleWhileFetching;if(Y.__returned===Y)throw M},S=(M,T)=>{const D=this.#M?.(e,l,p);D&&D instanceof Promise&&D.then(R=>M(R===void 0?void 0:R),T),f.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(M(void 0),i.allowStaleOnFetchAbort&&(M=R=>m(R,!0)))})};i.status&&(i.status.fetchDispatched=!0);const w=new Promise(S).then(m,g),C=Object.assign(w,{__abortController:f,__staleWhileFetching:l,__returned:void 0});return n===void 0?(this.set(e,C,{...p.options,status:void 0}),n=this.#r.get(e)):this.#e[n]=C,C}#t(e){if(!this.#A)return!1;const n=e;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof vv}async fetch(e,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:l=this.noDeleteOnStaleGet,ttl:f=this.ttl,noDisposeOnSet:h=this.noDisposeOnSet,size:p=0,sizeCalculation:m=this.sizeCalculation,noUpdateTTL:g=this.noUpdateTTL,noDeleteOnFetchRejection:b=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:S=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:C=this.allowStaleOnFetchAbort,context:M,forceRefresh:T=!1,status:D,signal:R}=n;if(!this.#A)return D&&(D.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:s,noDeleteOnStaleGet:l,status:D});const q={allowStale:i,updateAgeOnGet:s,noDeleteOnStaleGet:l,ttl:f,noDisposeOnSet:h,size:p,sizeCalculation:m,noUpdateTTL:g,noDeleteOnFetchRejection:b,allowStaleOnFetchRejection:S,allowStaleOnFetchAbort:C,ignoreFetchAbort:w,status:D,signal:R};let Y=this.#r.get(e);if(Y===void 0){D&&(D.fetch="miss");const K=this.#R(e,Y,q,M);return K.__returned=K}else{const K=this.#e[Y];if(this.#t(K)){const be=i&&K.__staleWhileFetching!==void 0;return D&&(D.fetch="inflight",be&&(D.returnedStale=!0)),be?K.__staleWhileFetching:K.__returned=K}const ce=this.#p(Y);if(!T&&!ce)return D&&(D.fetch="hit"),this.#I(Y),s&&this.#k(Y),D&&this.#E(D,Y),K;const te=this.#R(e,Y,q,M),he=te.__staleWhileFetching!==void 0&&i;return D&&(D.fetch=ce?"stale":"refresh",he&&ce&&(D.returnedStale=!0)),he?te.__staleWhileFetching:te.__returned=te}}async forceFetch(e,n={}){const i=await this.fetch(e,n);if(i===void 0)throw new Error("fetch() returned undefined");return i}memo(e,n={}){const i=this.#D;if(!i)throw new Error("no memoMethod provided to constructor");const{context:s,forceRefresh:l,...f}=n,h=this.get(e,f);if(!l&&h!==void 0)return h;const p=i(e,h,{options:f,context:s});return this.set(e,p,f),p}get(e,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:l=this.noDeleteOnStaleGet,status:f}=n,h=this.#r.get(e);if(h!==void 0){const p=this.#e[h],m=this.#t(p);return f&&this.#E(f,h),this.#p(h)?(f&&(f.get="stale"),m?(f&&i&&p.__staleWhileFetching!==void 0&&(f.returnedStale=!0),i?p.__staleWhileFetching:void 0):(l||this.#C(e,"expire"),f&&i&&(f.returnedStale=!0),i?p:void 0)):(f&&(f.get="hit"),m?p.__staleWhileFetching:(this.#I(h),s&&this.#k(h),p))}else f&&(f.get="miss")}#N(e,n){this.#h[n]=e,this.#l[e]=n}#I(e){e!==this.#o&&(e===this.#s?this.#s=this.#l[e]:this.#N(this.#h[e],this.#l[e]),this.#N(this.#o,e),this.#o=e)}delete(e){return this.#C(e,"delete")}#C(e,n){let i=!1;if(this.#i!==0){const s=this.#r.get(e);if(s!==void 0)if(i=!0,this.#i===1)this.#j(n);else{this.#F(s);const l=this.#e[s];if(this.#t(l)?l.__abortController.abort(new Error("deleted")):(this.#w||this.#c)&&(this.#w&&this.#g?.(l,e,n),this.#c&&this.#a?.push([l,e,n])),this.#r.delete(e),this.#n[s]=void 0,this.#e[s]=void 0,s===this.#o)this.#o=this.#h[s];else if(s===this.#s)this.#s=this.#l[s];else{const f=this.#h[s];this.#l[f]=this.#l[s];const h=this.#l[s];this.#h[h]=this.#h[s]}this.#i--,this.#y.push(s)}}if(this.#c&&this.#a?.length){const s=this.#a;let l;for(;l=s?.shift();)this.#v?.(...l)}return i}clear(){return this.#j("delete")}#j(e){for(const n of this.#S({allowStale:!0})){const i=this.#e[n];if(this.#t(i))i.__abortController.abort(new Error("deleted"));else{const s=this.#n[n];this.#w&&this.#g?.(i,s,e),this.#c&&this.#a?.push([i,s,e])}}if(this.#r.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#d&&this.#b&&(this.#d.fill(0),this.#b.fill(0)),this.#_&&this.#_.fill(0),this.#s=0,this.#o=0,this.#y.length=0,this.#m=0,this.#i=0,this.#c&&this.#a){const n=this.#a;let i;for(;i=n?.shift();)this.#v?.(...i)}}}const W1e=Zt({name:"QSpace",setup(){const t=Be("div",{class:"q-space"});return()=>t}});function Y1e(){return $a(vR)}class pl extends Error{constructor(e,n){const i=new.target.prototype;super(`${e}: Status code '${n}'`),this.statusCode=n,this.__proto__=i}}class KS extends Error{constructor(e="A timeout occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class No extends Error{constructor(e="An abort occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class Lce extends Error{constructor(e,n){const i=new.target.prototype;super(e),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=i}}class zce extends Error{constructor(e,n){const i=new.target.prototype;super(e),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=i}}class Nce extends Error{constructor(e,n){const i=new.target.prototype;super(e),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=i}}class HT extends Error{constructor(e){const n=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class jce extends Error{constructor(e,n){const i=new.target.prototype;super(e),this.innerErrors=n,this.__proto__=i}}class xO{constructor(e,n,i){this.statusCode=e,this.statusText=n,this.content=i}}class fm{get(e,n){return this.send({...n,method:"GET",url:e})}post(e,n){return this.send({...n,method:"POST",url:e})}delete(e,n){return this.send({...n,method:"DELETE",url:e})}getCookieString(e){return""}}var ht;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"})(ht||(ht={}));class e0{constructor(){}log(e,n){}}e0.instance=new e0;const qce="8.0.7";class xr{static isRequired(e,n){if(e==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(e,n){if(!e||e.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(e,n,i){if(!(e in n))throw new Error(`Unknown ${i} value: ${e}.`)}}class ir{static get isBrowser(){return!ir.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!ir.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!ir.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function t0(t,e){let n="";return wl(t)?(n=`Binary data of length ${t.byteLength}`,e&&(n+=`. Content: '${$ce(t)}'`)):typeof t=="string"&&(n=`String data of length ${t.length}`,e&&(n+=`. Content: '${t}'`)),n}function $ce(t){const e=new Uint8Array(t);let n="";return e.forEach(i=>{const s=i<16?"0":"";n+=`0x${s}${i.toString(16)} `}),n.substr(0,n.length-1)}function wl(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}async function SO(t,e,n,i,s,l){const f={},[h,p]=Pf();f[h]=p,t.log(ht.Trace,`(${e} transport) sending data. ${t0(s,l.logMessageContent)}.`);const m=wl(s)?"arraybuffer":"text",g=await n.post(i,{content:s,headers:{...f,...l.headers},responseType:m,timeout:l.timeout,withCredentials:l.withCredentials});t.log(ht.Trace,`(${e} transport) request complete. Response status: ${g.statusCode}.`)}function Uce(t){return t===void 0?new mv(ht.Information):t===null?e0.instance:t.log!==void 0?t:new mv(t)}class Gce{constructor(e,n){this._subject=e,this._observer=n}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class mv{constructor(e){this._minLevel=e,this.out=console}log(e,n){if(e>=this._minLevel){const i=`[${new Date().toISOString()}] ${ht[e]}: ${n}`;switch(e){case ht.Critical:case ht.Error:this.out.error(i);break;case ht.Warning:this.out.warn(i);break;case ht.Information:this.out.info(i);break;default:this.out.log(i);break}}}}function Pf(){let t="X-SignalR-User-Agent";return ir.isNode&&(t="User-Agent"),[t,Hce(qce,Vce(),Yce(),Wce())]}function Hce(t,e,n,i){let s="Microsoft SignalR/";const l=t.split(".");return s+=`${l[0]}.${l[1]}`,s+=` (${t}; `,e&&e!==""?s+=`${e}; `:s+="Unknown OS; ",s+=`${n}`,i?s+=`; ${i}`:s+="; Unknown Runtime Version",s+=")",s}function Vce(){if(ir.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function Wce(){if(ir.isNode)return process.versions.node}function Yce(){return ir.isNode?"NodeJS":"Browser"}function Pw(t){return t.stack?t.stack:t.message?t.message:`${t}`}function Xce(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class Kce extends fm{constructor(e){if(super(),this._logger=e,typeof fetch>"u"||ir.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(Xce());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new No;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const n=new this._abortControllerType;let i;e.abortSignal&&(e.abortSignal.onabort=()=>{n.abort(),i=new No});let s=null;if(e.timeout){const p=e.timeout;s=setTimeout(()=>{n.abort(),this._logger.log(ht.Warning,"Timeout from HTTP request."),i=new KS},p)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},wl(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let l;try{l=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(p){throw i||(this._logger.log(ht.Warning,`Error from HTTP request. ${p}.`),p)}finally{s&&clearTimeout(s),e.abortSignal&&(e.abortSignal.onabort=null)}if(!l.ok){const p=await VT(l,"text");throw new pl(p||l.statusText,l.status)}const h=await VT(l,e.responseType);return new xO(l.status,l.statusText,h)}getCookieString(e){let n="";return ir.isNode&&this._jar&&this._jar.getCookies(e,(i,s)=>n=s.join("; ")),n}}function VT(t,e){let n;switch(e){case"arraybuffer":n=t.arrayBuffer();break;case"text":n=t.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:n=t.text();break}return n}class Zce extends fm{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new No):e.method?e.url?new Promise((n,i)=>{const s=new XMLHttpRequest;s.open(e.method,e.url,!0),s.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(wl(e.content)?s.setRequestHeader("Content-Type","application/octet-stream"):s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const l=e.headers;l&&Object.keys(l).forEach(f=>{s.setRequestHeader(f,l[f])}),e.responseType&&(s.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{s.abort(),i(new No)}),e.timeout&&(s.timeout=e.timeout),s.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),s.status>=200&&s.status<300?n(new xO(s.status,s.statusText,s.response||s.responseText)):i(new pl(s.response||s.responseText||s.statusText,s.status))},s.onerror=()=>{this._logger.log(ht.Warning,`Error from HTTP request. ${s.status}: ${s.statusText}.`),i(new pl(s.statusText,s.status))},s.ontimeout=()=>{this._logger.log(ht.Warning,"Timeout from HTTP request."),i(new KS)},s.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Jce extends fm{constructor(e){if(super(),typeof fetch<"u"||ir.isNode)this._httpClient=new Kce(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new Zce(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new No):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class Qi{static write(e){return`${e}${Qi.RecordSeparator}`}static parse(e){if(e[e.length-1]!==Qi.RecordSeparator)throw new Error("Message is incomplete.");const n=e.split(Qi.RecordSeparator);return n.pop(),n}}Qi.RecordSeparatorCode=30;Qi.RecordSeparator=String.fromCharCode(Qi.RecordSeparatorCode);class Qce{writeHandshakeRequest(e){return Qi.write(JSON.stringify(e))}parseHandshakeResponse(e){let n,i;if(wl(e)){const h=new Uint8Array(e),p=h.indexOf(Qi.RecordSeparatorCode);if(p===-1)throw new Error("Message is incomplete.");const m=p+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(h.slice(0,m))),i=h.byteLength>m?h.slice(m).buffer:null}else{const h=e,p=h.indexOf(Qi.RecordSeparator);if(p===-1)throw new Error("Message is incomplete.");const m=p+1;n=h.substring(0,m),i=h.length>m?h.substring(m):null}const s=Qi.parse(n),l=JSON.parse(s[0]);if(l.type)throw new Error("Expected a handshake response from the server.");return[i,l]}}var on;(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t[t.Ack=8]="Ack",t[t.Sequence=9]="Sequence"})(on||(on={}));class efe{constructor(){this.observers=[]}next(e){for(const n of this.observers)n.next(e)}error(e){for(const n of this.observers)n.error&&n.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new Gce(this,e)}}class tfe{constructor(e,n,i){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=n,this._bufferSize=i}async _send(e){const n=this._protocol.writeMessage(e);let i=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let s=()=>{},l=()=>{};wl(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(i=new Promise((f,h)=>{s=f,l=h})),this._messages.push(new nfe(n,this._totalMessageCount,s,l))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await i}_ack(e){let n=-1;for(let i=0;i<this._messages.length;i++){const s=this._messages[i];if(s._id<=e.sequenceId)n=i,wl(s._message)?this._bufferedByteCount-=s._message.byteLength:this._bufferedByteCount-=s._message.length,s._resolver();else if(this._bufferedByteCount<this._bufferSize)s._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==on.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:on.Sequence,sequenceId:e}));const n=this._messages;for(const i of n)await this._connection.send(i._message);this._reconnectInProgress=!1}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(e)}_isInvocationMessage(e){switch(e.type){case on.Invocation:case on.StreamItem:case on.Completion:case on.StreamInvocation:case on.CancelInvocation:return!0;case on.Close:case on.Sequence:case on.Ping:case on.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:on.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class nfe{constructor(e,n,i,s){this._message=e,this._id=n,this._resolver=i,this._rejector=s}}const rfe=30*1e3,ife=15*1e3,ofe=1e5;var er;(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"})(er||(er={}));class ZS{static create(e,n,i,s,l,f,h){return new ZS(e,n,i,s,l,f,h)}constructor(e,n,i,s,l,f,h){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(ht.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},xr.isRequired(e,"connection"),xr.isRequired(n,"logger"),xr.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=l??rfe,this.keepAliveIntervalInMilliseconds=f??ife,this._statefulReconnectBufferSize=h??ofe,this._logger=n,this._protocol=i,this.connection=e,this._reconnectPolicy=s,this._handshakeProtocol=new Qce,this.connection.onreceive=p=>this._processIncomingData(p),this.connection.onclose=p=>this._connectionClosed(p),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=er.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:on.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==er.Disconnected&&this._connectionState!==er.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==er.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=er.Connecting,this._logger.log(ht.Debug,"Starting HubConnection.");try{await this._startInternal(),ir.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=er.Connected,this._connectionStarted=!0,this._logger.log(ht.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=er.Disconnected,this._logger.log(ht.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((n,i)=>{this._handshakeResolver=n,this._handshakeRejecter=i});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const i={protocol:this._protocol.name,version:n};if(this._logger.log(ht.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(i)),this._logger.log(ht.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new tfe(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(ht.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch{}}_stopInternal(e){if(this._connectionState===er.Disconnected)return this._logger.log(ht.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===er.Disconnecting)return this._logger.log(ht.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=er.Disconnecting,this._logger.log(ht.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(ht.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===er.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new No("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...n){const[i,s]=this._replaceStreamingParams(n),l=this._createStreamInvocation(e,n,s);let f;const h=new efe;return h.cancelCallback=()=>{const p=this._createCancelInvocation(l.invocationId);return delete this._callbacks[l.invocationId],f.then(()=>this._sendWithProtocol(p))},this._callbacks[l.invocationId]=(p,m)=>{if(m){h.error(m);return}else p&&(p.type===on.Completion?p.error?h.error(new Error(p.error)):h.complete():h.next(p.item))},f=this._sendWithProtocol(l).catch(p=>{h.error(p),delete this._callbacks[l.invocationId]}),this._launchStreams(i,f),h}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...n){const[i,s]=this._replaceStreamingParams(n),l=this._sendWithProtocol(this._createInvocation(e,n,!0,s));return this._launchStreams(i,l),l}invoke(e,...n){const[i,s]=this._replaceStreamingParams(n),l=this._createInvocation(e,n,!1,s);return new Promise((h,p)=>{this._callbacks[l.invocationId]=(g,b)=>{if(b){p(b);return}else g&&(g.type===on.Completion?g.error?p(new Error(g.error)):h(g.result):p(new Error(`Unexpected message type: ${g.type}`)))};const m=this._sendWithProtocol(l).catch(g=>{p(g),delete this._callbacks[l.invocationId]});this._launchStreams(i,m)})}on(e,n){!e||!n||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(n)===-1&&this._methods[e].push(n))}off(e,n){if(!e)return;e=e.toLowerCase();const i=this._methods[e];if(i)if(n){const s=i.indexOf(n);s!==-1&&(i.splice(s,1),i.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const n=this._protocol.parseMessages(e,this._logger);for(const i of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(i)))switch(i.type){case on.Invocation:this._invokeClientMethod(i).catch(s=>{this._logger.log(ht.Error,`Invoke client method threw error: ${Pw(s)}`)});break;case on.StreamItem:case on.Completion:{const s=this._callbacks[i.invocationId];if(s){i.type===on.Completion&&delete this._callbacks[i.invocationId];try{s(i)}catch(l){this._logger.log(ht.Error,`Stream callback threw error: ${Pw(l)}`)}}break}case on.Ping:break;case on.Close:{this._logger.log(ht.Information,"Close message received from server.");const s=i.error?new Error("Server returned an error on close: "+i.error):void 0;i.allowReconnect===!0?this.connection.stop(s):this._stopPromise=this._stopInternal(s);break}case on.Ack:this._messageBuffer&&this._messageBuffer._ack(i);break;case on.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(i);break;default:this._logger.log(ht.Warning,`Invalid message type: ${i.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let n,i;try{[i,n]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(s){const l="Error parsing handshake response: "+s;this._logger.log(ht.Error,l);const f=new Error(l);throw this._handshakeRejecter(f),f}if(n.error){const s="Server returned handshake error: "+n.error;this._logger.log(ht.Error,s);const l=new Error(s);throw this._handshakeRejecter(l),l}else this._logger.log(ht.Debug,"Server handshake complete.");return this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===er.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const n=e.target.toLowerCase(),i=this._methods[n];if(!i){this._logger.log(ht.Warning,`No client method with the name '${n}' found.`),e.invocationId&&(this._logger.log(ht.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}const s=i.slice(),l=!!e.invocationId;let f,h,p;for(const m of s)try{const g=f;f=await m.apply(this,e.arguments),l&&f&&g&&(this._logger.log(ht.Error,`Multiple results provided for '${n}'. Sending error to server.`),p=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),h=void 0}catch(g){h=g,this._logger.log(ht.Error,`A callback for the method '${n}' threw error '${g}'.`)}p?await this._sendWithProtocol(p):l?(h?p=this._createCompletionMessage(e.invocationId,`${h}`,null):f!==void 0?p=this._createCompletionMessage(e.invocationId,null,f):(this._logger.log(ht.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),p=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(p)):f&&this._logger.log(ht.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(ht.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new No("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===er.Disconnecting?this._completeClose(e):this._connectionState===er.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===er.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=er.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),ir.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[e]))}catch(n){this._logger.log(ht.Error,`An onclose callback called with error '${e}' threw error '${n}'.`)}}}async _reconnect(e){const n=Date.now();let i=0,s=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),l=this._getNextRetryDelay(i++,0,s);if(l===null){this._logger.log(ht.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=er.Reconnecting,e?this._logger.log(ht.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(ht.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(f=>f.apply(this,[e]))}catch(f){this._logger.log(ht.Error,`An onreconnecting callback called with error '${e}' threw error '${f}'.`)}if(this._connectionState!==er.Reconnecting){this._logger.log(ht.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;l!==null;){if(this._logger.log(ht.Information,`Reconnect attempt number ${i} will start in ${l} ms.`),await new Promise(f=>{this._reconnectDelayHandle=setTimeout(f,l)}),this._reconnectDelayHandle=void 0,this._connectionState!==er.Reconnecting){this._logger.log(ht.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=er.Connected,this._logger.log(ht.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(f=>f.apply(this,[this.connection.connectionId]))}catch(f){this._logger.log(ht.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${f}'.`)}return}catch(f){if(this._logger.log(ht.Information,`Reconnect attempt failed because of error '${f}'.`),this._connectionState!==er.Reconnecting){this._logger.log(ht.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===er.Disconnecting&&this._completeClose();return}s=f instanceof Error?f:new Error(f.toString()),l=this._getNextRetryDelay(i++,Date.now()-n,s)}}this._logger.log(ht.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${i} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,n,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:e,retryReason:i})}catch(s){return this._logger.log(ht.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${n}) threw error '${s}'.`),null}}_cancelCallbacksWithError(e){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(i=>{const s=n[i];try{s(null,e)}catch(l){this._logger.log(ht.Error,`Stream 'error' callback called with '${e}' threw error: ${Pw(l)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,n,i,s){if(i)return s.length!==0?{arguments:n,streamIds:s,target:e,type:on.Invocation}:{arguments:n,target:e,type:on.Invocation};{const l=this._invocationId;return this._invocationId++,s.length!==0?{arguments:n,invocationId:l.toString(),streamIds:s,target:e,type:on.Invocation}:{arguments:n,invocationId:l.toString(),target:e,type:on.Invocation}}}_launchStreams(e,n){if(e.length!==0){n||(n=Promise.resolve());for(const i in e)e[i].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:s=>{let l;s instanceof Error?l=s.message:s&&s.toString?l=s.toString():l="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,l)))},next:s=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,s)))}})}}_replaceStreamingParams(e){const n=[],i=[];for(let s=0;s<e.length;s++){const l=e[s];if(this._isObservable(l)){const f=this._invocationId;this._invocationId++,n[f]=l,i.push(f.toString()),e.splice(s,1)}}return[n,i]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,n,i){const s=this._invocationId;return this._invocationId++,i.length!==0?{arguments:n,invocationId:s.toString(),streamIds:i,target:e,type:on.StreamInvocation}:{arguments:n,invocationId:s.toString(),target:e,type:on.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:on.CancelInvocation}}_createStreamItemMessage(e,n){return{invocationId:e,item:n,type:on.StreamItem}}_createCompletionMessage(e,n,i){return n?{error:n,invocationId:e,type:on.Completion}:{invocationId:e,result:i,type:on.Completion}}_createCloseMessage(){return{type:on.Close}}}const afe=[0,2e3,1e4,3e4,null];class WT{constructor(e){this._retryDelays=e!==void 0?[...e,null]:afe}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class gl{}gl.Authorization="Authorization";gl.Cookie="Cookie";class sfe extends fm{constructor(e,n){super(),this._innerClient=e,this._accessTokenFactory=n}async send(e){let n=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const i=await this._innerClient.send(e);return n&&i.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):i}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[gl.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[gl.Authorization]&&delete e.headers[gl.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var Fr;(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"})(Fr||(Fr={}));var ai;(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"})(ai||(ai={}));let ufe=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class YT{get pollAborted(){return this._pollAbort.aborted}constructor(e,n,i){this._httpClient=e,this._logger=n,this._pollAbort=new ufe,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,n){if(xr.isRequired(e,"url"),xr.isRequired(n,"transferFormat"),xr.isIn(n,ai,"transferFormat"),this._url=e,this._logger.log(ht.Trace,"(LongPolling transport) Connecting."),n===ai.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[i,s]=Pf(),l={[i]:s,...this._options.headers},f={abortSignal:this._pollAbort.signal,headers:l,timeout:1e5,withCredentials:this._options.withCredentials};n===ai.Binary&&(f.responseType="arraybuffer");const h=`${e}&_=${Date.now()}`;this._logger.log(ht.Trace,`(LongPolling transport) polling: ${h}.`);const p=await this._httpClient.get(h,f);p.statusCode!==200?(this._logger.log(ht.Error,`(LongPolling transport) Unexpected response code: ${p.statusCode}.`),this._closeError=new pl(p.statusText||"",p.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,f)}async _poll(e,n){try{for(;this._running;)try{const i=`${e}&_=${Date.now()}`;this._logger.log(ht.Trace,`(LongPolling transport) polling: ${i}.`);const s=await this._httpClient.get(i,n);s.statusCode===204?(this._logger.log(ht.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):s.statusCode!==200?(this._logger.log(ht.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new pl(s.statusText||"",s.statusCode),this._running=!1):s.content?(this._logger.log(ht.Trace,`(LongPolling transport) data received. ${t0(s.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(s.content)):this._logger.log(ht.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(i){this._running?i instanceof KS?this._logger.log(ht.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=i,this._running=!1):this._logger.log(ht.Trace,`(LongPolling transport) Poll errored after shutdown: ${i.message}`)}}finally{this._logger.log(ht.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?SO(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(ht.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(ht.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[n,i]=Pf();e[n]=i;const s={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let l;try{await this._httpClient.delete(this._url,s)}catch(f){l=f}l?l instanceof pl&&(l.statusCode===404?this._logger.log(ht.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(ht.Trace,`(LongPolling transport) Error sending a DELETE request: ${l}`)):this._logger.log(ht.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(ht.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(ht.Trace,e),this.onclose(this._closeError)}}}class lfe{constructor(e,n,i,s){this._httpClient=e,this._accessToken=n,this._logger=i,this._options=s,this.onreceive=null,this.onclose=null}async connect(e,n){return xr.isRequired(e,"url"),xr.isRequired(n,"transferFormat"),xr.isIn(n,ai,"transferFormat"),this._logger.log(ht.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((i,s)=>{let l=!1;if(n!==ai.Text){s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let f;if(ir.isBrowser||ir.isWebWorker)f=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const h=this._httpClient.getCookieString(e),p={};p.Cookie=h;const[m,g]=Pf();p[m]=g,f=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...p,...this._options.headers}})}try{f.onmessage=h=>{if(this.onreceive)try{this._logger.log(ht.Trace,`(SSE transport) data received. ${t0(h.data,this._options.logMessageContent)}.`),this.onreceive(h.data)}catch(p){this._close(p);return}},f.onerror=h=>{l?this._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},f.onopen=()=>{this._logger.log(ht.Information,`SSE connected to ${this._url}`),this._eventSource=f,l=!0,i()}}catch(h){s(h);return}})}async send(e){return this._eventSource?SO(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class cfe{constructor(e,n,i,s,l,f){this._logger=i,this._accessTokenFactory=n,this._logMessageContent=s,this._webSocketConstructor=l,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=f}async connect(e,n){xr.isRequired(e,"url"),xr.isRequired(n,"transferFormat"),xr.isIn(n,ai,"transferFormat"),this._logger.log(ht.Trace,"(WebSockets transport) Connecting.");let i;return this._accessTokenFactory&&(i=await this._accessTokenFactory()),new Promise((s,l)=>{e=e.replace(/^http/,"ws");let f;const h=this._httpClient.getCookieString(e);let p=!1;if(ir.isNode||ir.isReactNative){const m={},[g,b]=Pf();m[g]=b,i&&(m[gl.Authorization]=`Bearer ${i}`),h&&(m[gl.Cookie]=h),f=new this._webSocketConstructor(e,void 0,{headers:{...m,...this._headers}})}else i&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i)}`);f||(f=new this._webSocketConstructor(e)),n===ai.Binary&&(f.binaryType="arraybuffer"),f.onopen=m=>{this._logger.log(ht.Information,`WebSocket connected to ${e}.`),this._webSocket=f,p=!0,s()},f.onerror=m=>{let g=null;typeof ErrorEvent<"u"&&m instanceof ErrorEvent?g=m.error:g="There was an error with the transport",this._logger.log(ht.Information,`(WebSockets transport) ${g}.`)},f.onmessage=m=>{if(this._logger.log(ht.Trace,`(WebSockets transport) data received. ${t0(m.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(m.data)}catch(g){this._close(g);return}},f.onclose=m=>{if(p)this._close(m);else{let g=null;typeof ErrorEvent<"u"&&m instanceof ErrorEvent?g=m.error:g="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",l(new Error(g))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(ht.Trace,`(WebSockets transport) sending data. ${t0(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(ht.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}}const XT=100;class ffe{constructor(e,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,xr.isRequired(e,"url"),this._logger=Uce(n.logger),this.baseUrl=this._resolveUrl(e),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let i=null,s=null;if(ir.isNode&&typeof require<"u"){const l=typeof __webpack_require__=="function"?__non_webpack_require__:require;i=l("ws"),s=l("eventsource")}!ir.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:ir.isNode&&!n.WebSocket&&i&&(n.WebSocket=i),!ir.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:ir.isNode&&!n.EventSource&&typeof s<"u"&&(n.EventSource=s),this._httpClient=new sfe(n.httpClient||new Jce(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(e){if(e=e||ai.Binary,xr.isIn(e,ai,"transferFormat"),this._logger.log(ht.Debug,`Starting connection with transfer format '${ai[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(ht.Error,n),await this._stopPromise,Promise.reject(new No(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(ht.Error,n),Promise.reject(new No(n))}this._connectionStarted=!0}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new JS(this.transport)),this._sendQueue.send(e))}async stop(e){if(this._connectionState==="Disconnected")return this._logger.log(ht.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(ht.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(e),await this._stopPromise}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(ht.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(ht.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===Fr.WebSockets)this.transport=this._constructTransport(Fr.WebSockets),await this._startTransport(n,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let i=null,s=0;do{if(i=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new No("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(i.url&&(n=i.url),i.accessToken){const l=i.accessToken;this._accessTokenFactory=()=>l,this._httpClient._accessToken=l,this._httpClient._accessTokenFactory=void 0}s++}while(i.url&&s<XT);if(s===XT&&i.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,i,e)}this.transport instanceof YT&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(ht.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(i){return this._logger.log(ht.Error,"Failed to start the connection: "+i),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(i)}}async _getNegotiationResponse(e){const n={},[i,s]=Pf();n[i]=s;const l=this._resolveNegotiateUrl(e);this._logger.log(ht.Debug,`Sending negotiation request: ${l}.`);try{const f=await this._httpClient.post(l,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(f.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${f.statusCode}'`));const h=JSON.parse(f.content);return(!h.negotiateVersion||h.negotiateVersion<1)&&(h.connectionToken=h.connectionId),h.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new HT("Client didn't negotiate Stateful Reconnect but the server did.")):h}catch(f){let h="Failed to complete negotiation with the server: "+f;return f instanceof pl&&f.statusCode===404&&(h=h+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(ht.Error,h),Promise.reject(new HT(h))}}_createConnectUrl(e,n){return n?e+(e.indexOf("?")===-1?"?":"&")+`id=${n}`:e}async _createTransport(e,n,i,s){let l=this._createConnectUrl(e,i.connectionToken);if(this._isITransport(n)){this._logger.log(ht.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(l,s),this.connectionId=i.connectionId;return}const f=[],h=i.availableTransports||[];let p=i;for(const m of h){const g=this._resolveTransportOrError(m,n,s,p?.useStatefulReconnect===!0);if(g instanceof Error)f.push(`${m.transport} failed:`),f.push(g);else if(this._isITransport(g)){if(this.transport=g,!p){try{p=await this._getNegotiationResponse(e)}catch(b){return Promise.reject(b)}l=this._createConnectUrl(e,p.connectionToken)}try{await this._startTransport(l,s),this.connectionId=p.connectionId;return}catch(b){if(this._logger.log(ht.Error,`Failed to start the transport '${m.transport}': ${b}`),p=void 0,f.push(new Nce(`${m.transport} failed: ${b}`,Fr[m.transport])),this._connectionState!=="Connecting"){const S="Failed to select transport before stop() was called.";return this._logger.log(ht.Debug,S),Promise.reject(new No(S))}}}}return f.length>0?Promise.reject(new jce(`Unable to connect to the server with any of the available transports. ${f.join(" ")}`,f)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case Fr.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new cfe(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Fr.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new lfe(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Fr.LongPolling:return new YT(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async i=>{let s=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(e,n),await this.features.resend()}catch{s=!0}else{this._stopConnection(i);return}s&&this._stopConnection(i)}:this.transport.onclose=i=>this._stopConnection(i),this.transport.connect(e,n)}_resolveTransportOrError(e,n,i,s){const l=Fr[e.transport];if(l==null)return this._logger.log(ht.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(hfe(n,l))if(e.transferFormats.map(h=>ai[h]).indexOf(i)>=0){if(l===Fr.WebSockets&&!this._options.WebSocket||l===Fr.ServerSentEvents&&!this._options.EventSource)return this._logger.log(ht.Debug,`Skipping transport '${Fr[l]}' because it is not supported in your environment.'`),new Lce(`'${Fr[l]}' is not supported in your environment.`,l);this._logger.log(ht.Debug,`Selecting transport '${Fr[l]}'.`);try{return this.features.reconnect=l===Fr.WebSockets?s:void 0,this._constructTransport(l)}catch(h){return h}}else return this._logger.log(ht.Debug,`Skipping transport '${Fr[l]}' because it does not support the requested transfer format '${ai[i]}'.`),new Error(`'${Fr[l]}' does not support ${ai[i]}.`);else return this._logger.log(ht.Debug,`Skipping transport '${Fr[l]}' because it was disabled by the client.`),new zce(`'${Fr[l]}' is disabled by the client.`,l)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(ht.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(ht.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(ht.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(ht.Error,`Connection disconnected with error '${e}'.`):this._logger.log(ht.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(ht.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(n){this._logger.log(ht.Error,`HttpConnection.onclose(${e}) threw error '${n}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!ir.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const n=window.document.createElement("a");return n.href=e,this._logger.log(ht.Information,`Normalizing '${e}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(e){const n=new URL(e);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const i=new URLSearchParams(n.searchParams);return i.has("negotiateVersion")||i.append("negotiateVersion",this._negotiateVersion.toString()),i.has("useStatefulReconnect")?i.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&i.append("useStatefulReconnect","true"),n.search=i.toString(),n.toString()}}function hfe(t,e){return!t||(e&t)!==0}class JS{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new l1,this._transportResult=new l1,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new l1),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new l1;const e=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):JS._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),e.resolve()}catch(i){e.reject(i)}}}static _concatBuffers(e){const n=e.map(l=>l.byteLength).reduce((l,f)=>l+f),i=new Uint8Array(n);let s=0;for(const l of e)i.set(new Uint8Array(l),s),s+=l.byteLength;return i.buffer}}class l1{constructor(){this.promise=new Promise((e,n)=>[this._resolver,this._rejecter]=[e,n])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}const dfe="json";class pfe{constructor(){this.name=dfe,this.version=2,this.transferFormat=ai.Text}parseMessages(e,n){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];n===null&&(n=e0.instance);const i=Qi.parse(e),s=[];for(const l of i){const f=JSON.parse(l);if(typeof f.type!="number")throw new Error("Invalid payload.");switch(f.type){case on.Invocation:this._isInvocationMessage(f);break;case on.StreamItem:this._isStreamItemMessage(f);break;case on.Completion:this._isCompletionMessage(f);break;case on.Ping:break;case on.Close:break;case on.Ack:this._isAckMessage(f);break;case on.Sequence:this._isSequenceMessage(f);break;default:n.log(ht.Information,"Unknown message type '"+f.type+"' ignored.");continue}s.push(f)}return s}writeMessage(e){return Qi.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,n){if(typeof e!="string"||e==="")throw new Error(n)}}const gfe={trace:ht.Trace,debug:ht.Debug,info:ht.Information,information:ht.Information,warn:ht.Warning,warning:ht.Warning,error:ht.Error,critical:ht.Critical,none:ht.None};function vfe(t){const e=gfe[t.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${t}`)}class K1e{configureLogging(e){if(xr.isRequired(e,"logging"),mfe(e))this.logger=e;else if(typeof e=="string"){const n=vfe(e);this.logger=new mv(n)}else this.logger=new mv(e);return this}withUrl(e,n){return xr.isRequired(e,"url"),xr.isNotEmpty(e,"url"),this.url=e,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(e){return xr.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new WT(e):this.reconnectPolicy=e:this.reconnectPolicy=new WT,this}withServerTimeout(e){return xr.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return xr.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e?.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new ffe(this.url,e);return ZS.create(n,this.logger||e0.instance,this.protocol||new pfe,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function mfe(t){return t.log!==void 0}function yfe(t){const e=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((n,i)=>{const s=parseFloat(n);s&&(e[i]=s)}),e}const _fe=w0({name:"touch-swipe",beforeMount(t,{value:e,arg:n,modifiers:i}){if(i.mouse!==!0&&Sn.has.touch!==!0)return;const s=i.mouseCapture===!0?"Capture":"",l={handler:e,sensitivity:yfe(n),direction:fv(i),noop:Bi,mouseStart(f){hv(f,l)&&hR(f)&&(zo(l,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),l.start(f,!0))},touchStart(f){if(hv(f,l)){const h=f.target;zo(l,"temp",[[h,"touchmove","move","notPassiveCapture"],[h,"touchcancel","end","notPassiveCapture"],[h,"touchend","end","notPassiveCapture"]]),l.start(f)}},start(f,h){Sn.is.firefox===!0&&bf(t,!0);const p=ou(f);l.event={x:p.left,y:p.top,time:Date.now(),mouse:h===!0,dir:!1}},move(f){if(l.event===void 0)return;if(l.event.dir!==!1){Wn(f);return}const h=Date.now()-l.event.time;if(h===0)return;const p=ou(f),m=p.left-l.event.x,g=Math.abs(m),b=p.top-l.event.y,S=Math.abs(b);if(l.event.mouse!==!0){if(g<l.sensitivity[1]&&S<l.sensitivity[1]){l.end(f);return}}else if(window.getSelection().toString()!==""){l.end(f);return}else if(g<l.sensitivity[2]&&S<l.sensitivity[2])return;const w=g/h,C=S/h;l.direction.vertical===!0&&g<S&&g<100&&C>l.sensitivity[0]&&(l.event.dir=b<0?"up":"down"),l.direction.horizontal===!0&&g>S&&S<100&&w>l.sensitivity[0]&&(l.event.dir=m<0?"left":"right"),l.direction.up===!0&&g<S&&b<0&&g<100&&C>l.sensitivity[0]&&(l.event.dir="up"),l.direction.down===!0&&g<S&&b>0&&g<100&&C>l.sensitivity[0]&&(l.event.dir="down"),l.direction.left===!0&&g>S&&m<0&&S<100&&w>l.sensitivity[0]&&(l.event.dir="left"),l.direction.right===!0&&g>S&&m>0&&S<100&&w>l.sensitivity[0]&&(l.event.dir="right"),l.event.dir!==!1?(Wn(f),l.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),qS(),l.styleCleanup=M=>{l.styleCleanup=void 0,document.body.classList.remove("non-selectable");const T=()=>{document.body.classList.remove("no-pointer-events--children")};M===!0?setTimeout(T,50):T()}),l.handler({evt:f,touch:l.event.mouse!==!0,mouse:l.event.mouse,direction:l.event.dir,duration:h,distance:{x:g,y:S}})):l.end(f)},end(f){l.event!==void 0&&(tu(l,"temp"),Sn.is.firefox===!0&&bf(t,!1),l.styleCleanup!==void 0&&l.styleCleanup(!0),f!==void 0&&l.event.dir!==!1&&Wn(f),l.event=void 0)}};if(t.__qtouchswipe=l,i.mouse===!0){const f=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";zo(l,"main",[[t,"mousedown","mouseStart",`passive${f}`]])}Sn.has.touch===!0&&zo(l,"main",[[t,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchswipe;n!==void 0&&(e.oldValue!==e.value&&(typeof e.value!="function"&&n.end(),n.handler=e.value),n.direction=fv(e.modifiers))},beforeUnmount(t){const e=t.__qtouchswipe;e!==void 0&&(tu(e,"main"),tu(e,"temp"),Sn.is.firefox===!0&&bf(t,!1),e.styleCleanup!==void 0&&e.styleCleanup(),delete t.__qtouchswipe)}});function bfe(){let t=Object.create(null);return{getCache:(e,n)=>t[e]===void 0?t[e]=typeof n=="function"?n():n:t[e],setCache(e,n){t[e]=n},hasCache(e){return Object.hasOwnProperty.call(t,e)},clearCache(e){e!==void 0?delete t[e]:t=Object.create(null)}}}const wfe={name:{required:!0},disable:Boolean},KT={setup(t,{slots:e}){return()=>Be("div",{class:"q-panel scroll",role:"tabpanel"},Dn(e.default))}},xfe={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Sfe=["update:modelValue","beforeTransition","transition"];function Cfe(){const{props:t,emit:e,proxy:n}=tn(),{getCache:i}=bfe(),{registerTimeout:s}=au();let l,f;const h=pt(null),p={value:null};function m(fe){const Te=t.vertical===!0?"up":"left";ee((n.$q.lang.rtl===!0?-1:1)*(fe.direction===Te?1:-1))}const g=xe(()=>[[_fe,m,void 0,{horizontal:t.vertical!==!0,vertical:t.vertical,mouse:!0}]]),b=xe(()=>t.transitionPrev||`slide-${t.vertical===!0?"down":"right"}`),S=xe(()=>t.transitionNext||`slide-${t.vertical===!0?"up":"left"}`),w=xe(()=>`--q-transition-duration: ${t.transitionDuration}ms`),C=xe(()=>typeof t.modelValue=="string"||typeof t.modelValue=="number"?t.modelValue:String(t.modelValue)),M=xe(()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax})),T=xe(()=>t.keepAliveInclude!==void 0||t.keepAliveExclude!==void 0);qt(()=>t.modelValue,(fe,Te)=>{const Le=Y(fe)===!0?K(fe):-1;f!==!0&&te(Le===-1?0:Le<K(Te)?-1:1),p.value!==Le&&(p.value=Le,e("beforeTransition",fe,Te),s(()=>{e("transition",fe,Te)},t.transitionDuration))});function D(){ee(1)}function R(){ee(-1)}function q(fe){e("update:modelValue",fe)}function Y(fe){return fe!=null&&fe!==""}function K(fe){return l.findIndex(Te=>Te.props.name===fe&&Te.props.disable!==""&&Te.props.disable!==!0)}function ce(){return l.filter(fe=>fe.props.disable!==""&&fe.props.disable!==!0)}function te(fe){const Te=fe!==0&&t.animated===!0&&p.value!==-1?"q-transition--"+(fe===-1?b.value:S.value):null;h.value!==Te&&(h.value=Te)}function ee(fe,Te=p.value){let Le=Te+fe;for(;Le!==-1&&Le<l.length;){const Pe=l[Le];if(Pe!==void 0&&Pe.props.disable!==""&&Pe.props.disable!==!0){te(fe),f=!0,e("update:modelValue",Pe.props.name),setTimeout(()=>{f=!1});return}Le+=fe}t.infinite===!0&&l.length!==0&&Te!==-1&&Te!==l.length&&ee(fe,fe===-1?l.length:-1)}function he(){const fe=K(t.modelValue);return p.value!==fe&&(p.value=fe),!0}function be(){const fe=Y(t.modelValue)===!0&&he()&&l[p.value];return t.keepAlive===!0?[Be(Ere,M.value,[Be(T.value===!0?i(C.value,()=>({...KT,name:C.value})):KT,{key:C.value,style:w.value},()=>fe)])]:[Be("div",{class:"q-panel scroll",style:w.value,key:C.value,role:"tabpanel"},[fe])]}function Fe(){if(l.length!==0)return t.animated===!0?[Be(Ca,{name:h.value},be)]:be()}function oe(fe){return l=joe(Dn(fe.default,[])).filter(Te=>Te.props!==null&&Te.props.slot===void 0&&Y(Te.props.name)===!0),l.length}function Se(){return l}return Object.assign(n,{next:D,previous:R,goTo:q}),{panelIndex:p,panelDirectives:g,updatePanelsList:oe,updatePanelIndex:he,getPanelContent:Fe,getEnabledPanels:ce,getPanels:Se,isValidPanelName:Y,keepAliveProps:M,needsUniqueKeepAliveWrapper:T,goToPanelByOffset:ee,goToPanel:q,nextPanel:D,previousPanel:R}}const Z1e=Zt({name:"QTabPanel",props:wfe,setup(t,{slots:e}){return()=>Be("div",{class:"q-tab-panel",role:"tabpanel"},Dn(e.default))}}),J1e=Zt({name:"QTabPanels",props:{...xfe,...hi},emits:Sfe,setup(t,{slots:e}){const n=tn(),i=di(t,n.proxy.$q),{updatePanelsList:s,getPanelContent:l,panelDirectives:f}=Cfe(),h=xe(()=>"q-tab-panels q-panel-parent"+(i.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(e),Yd("div",{class:h.value},l(),"pan",t.swipeable,()=>f.value))}}),yv={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var xi={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};xi.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};xi.max=xi.whitepoint[2].D65;xi.rgb=function(t,e){e=e||xi.whitepoint[2].E;var n=t[0]/e[0],i=t[1]/e[1],s=t[2]/e[2],l,f,h;return l=n*3.240969941904521+i*-1.537383177570093+s*-.498610760293,f=n*-.96924363628087+i*1.87596750150772+s*.041555057407175,h=n*.055630079696993+i*-.20397695888897+s*1.056971514242878,l=l>.0031308?1.055*Math.pow(l,1/2.4)-.055:l=l*12.92,f=f>.0031308?1.055*Math.pow(f,1/2.4)-.055:f=f*12.92,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:h=h*12.92,l=Math.min(Math.max(0,l),1),f=Math.min(Math.max(0,f),1),h=Math.min(Math.max(0,h),1),[l*255,f*255,h*255]};yv.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,s=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92;var l=n*.41239079926595+i*.35758433938387+s*.18048078840183,f=n*.21263900587151+i*.71516867876775+s*.072192315360733,h=n*.019330818715591+i*.11919477979462+s*.95053215224966;return e=e||xi.whitepoint[2].E,[l*e[0],f*e[1],h*e[2]]};const QS={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,s,l,f,h,p,m,g,b,S,w,C,M;if(l=t[0],f=t[1],h=t[2],l===0)return[0,0,0];var T=.0011070564598794539;return e=e||"D65",n=n||2,b=xi.whitepoint[n][e][0],S=xi.whitepoint[n][e][1],w=xi.whitepoint[n][e][2],C=4*b/(b+15*S+3*w),M=9*S/(b+15*S+3*w),i=f/(13*l)+C||0,s=h/(13*l)+M||0,m=l>8?S*Math.pow((l+16)/116,3):S*l*T,p=m*9*i/(4*s)||0,g=m*(12-3*i-20*s)/(4*s)||0,[p,m,g]}};xi.luv=function(t,e,n){var i,s,l,f,h,p,m,g,b,S,w,C,M,T=.008856451679035631,D=903.2962962962961;e=e||"D65",n=n||2,b=xi.whitepoint[n][e][0],S=xi.whitepoint[n][e][1],w=xi.whitepoint[n][e][2],C=4*b/(b+15*S+3*w),M=9*S/(b+15*S+3*w),p=t[0],m=t[1],g=t[2],i=4*p/(p+15*m+3*g)||0,s=9*m/(p+15*m+3*g)||0;var R=m/S;return l=R<=T?D*R:116*Math.pow(R,1/3)-16,f=13*l*(i-C),h=13*l*(s-M),[l,f,h]};var Efe={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e=t[0],n=t[1],i=t[2],s,l,f;return f=i/360*2*Math.PI,s=n*Math.cos(f),l=n*Math.sin(f),[e,s,l]},xyz:function(t){return QS.xyz(Efe.luv(t))}};QS.lchuv=function(t){var e=t[0],n=t[1],i=t[2],s=Math.sqrt(n*n+i*i),l=Math.atan2(i,n),f=l*360/2/Math.PI;return f<0&&(f+=360),[e,s,f]};xi.lchuv=function(t){return QS.lchuv(xi.luv(t))};const ZT={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var JT={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Afe(t){var e,n=[],i=1,s;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),ZT[t])n=ZT[t].slice(),s="rgb";else if(t==="transparent")i=0,s="rgb",n=[0,0,0];else if(t[0]==="#"){var l=t.slice(1),f=l.length,h=f<=4;i=1,h?(n=[parseInt(l[0]+l[0],16),parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16)],f===4&&(i=parseInt(l[3]+l[3],16)/255)):(n=[parseInt(l[0]+l[1],16),parseInt(l[2]+l[3],16),parseInt(l[4]+l[5],16)],f===8&&(i=parseInt(l[6]+l[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),s="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var p=e[1];s=p.replace(/a$/,"");var m=s==="cmyk"?4:s==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),s==="color"&&(s=n.shift()),n=n.map(function(g,b){if(g[g.length-1]==="%")return g=parseFloat(g)/100,b===3?g:s==="rgb"?g*255:s[0]==="h"||s[0]==="l"&&!b?g*100:s==="lab"?g*125:s==="lch"?b<2?g*150:g*360:s[0]==="o"&&!b?g:s==="oklab"?g*.4:s==="oklch"?b<2?g*.4:g*360:g;if(s[b]==="h"||b===2&&s[s.length-1]==="h"){if(JT[g]!==void 0)return JT[g];if(g.endsWith("deg"))return parseFloat(g);if(g.endsWith("turn"))return parseFloat(g)*360;if(g.endsWith("grad"))return parseFloat(g)*360/400;if(g.endsWith("rad"))return parseFloat(g)*180/Math.PI}return g==="none"?0:parseFloat(g)}),i=n.length>m?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(g){return parseFloat(g)}),s=t.match(/([a-z])/ig)?.join("")?.toLowerCase()||"rgb");return{space:s,values:n,alpha:i}}const Rw={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100,s,l,f,h,p,m=0;if(n===0)return p=i*255,[p,p,p];for(l=i<.5?i*(1+n):i+n-i*n,s=2*i-l,h=[0,0,0];m<3;)f=e+1/3*-(m-1),f<0?f++:f>1&&f--,p=6*f<1?s+(l-s)*6*f:2*f<1?l:3*f<2?s+(l-s)*(2/3-f)*6:s,h[m++]=p*255;return h}};yv.hsl=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,s=Math.min(e,n,i),l=Math.max(e,n,i),f=l-s,h,p,m;return l===s?h=0:e===l?h=(n-i)/f:n===l?h=2+(i-e)/f:i===l&&(h=4+(e-n)/f),h=Math.min(h*60,360),h<0&&(h+=360),m=(s+l)/2,l===s?p=0:m<=.5?p=f/(l+s):p=f/(2-l-s),[h,p*100,m*100]};function Q1e(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=Afe(t);if(!n.space)return[];const i=n.space[0]==="h"?Rw.min:yv.min,s=n.space[0]==="h"?Rw.max:yv.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],i[0]),s[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),s[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),s[2]),n.space[0]==="h"&&(e=Rw.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}function CO(t,e,n=0,i=t.length-1,s=kfe){for(;i>n;){if(i-n>600){const p=i-n+1,m=e-n+1,g=Math.log(p),b=.5*Math.exp(2*g/3),S=.5*Math.sqrt(g*b*(p-b)/p)*(m-p/2<0?-1:1),w=Math.max(n,Math.floor(e-m*b/p+S)),C=Math.min(i,Math.floor(e+(p-m)*b/p+S));CO(t,e,w,C,s)}const l=t[e];let f=n,h=i;for(sd(t,n,e),s(t[i],l)>0&&sd(t,n,i);f<h;){for(sd(t,f,h),f++,h--;s(t[f],l)<0;)f++;for(;s(t[h],l)>0;)h--}s(t[n],l)===0?sd(t,n,h):(h++,sd(t,h,i)),h<=e&&(n=h+1),e<=h&&(i=h-1)}}function sd(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function kfe(t,e){return t<e?-1:t>e?1:0}let eve=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const i=[];if(!f1(e,n))return i;const s=this.toBBox,l=[];for(;n;){for(let f=0;f<n.children.length;f++){const h=n.children[f],p=n.leaf?s(h):h;f1(e,p)&&(n.leaf?i.push(h):Ow(e,p)?this._all(h,i):l.push(h))}n=l.pop()}return i}collides(e){let n=this.data;if(!f1(e,n))return!1;const i=[];for(;n;){for(let s=0;s<n.children.length;s++){const l=n.children[s],f=n.leaf?this.toBBox(l):l;if(f1(e,f)){if(n.leaf||Ow(e,f))return!0;i.push(l)}}n=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=ff([]),this}remove(e,n){if(!e)return this;let i=this.data;const s=this.toBBox(e),l=[],f=[];let h,p,m;for(;i||l.length;){if(i||(i=l.pop(),p=l[l.length-1],h=f.pop(),m=!0),i.leaf){const g=Ffe(e,i.children,n);if(g!==-1)return i.children.splice(g,1),l.push(i),this._condense(l),this}!m&&!i.leaf&&Ow(i,s)?(l.push(i),f.push(h),h=0,p=i,i=i.children[0]):p?(h++,i=p.children[h],m=!1):i=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,s){const l=i-n+1;let f=this._maxEntries,h;if(l<=f)return h=ff(e.slice(n,i+1)),Qc(h,this.toBBox),h;s||(s=Math.ceil(Math.log(l)/Math.log(f)),f=Math.ceil(l/Math.pow(f,s-1))),h=ff([]),h.leaf=!1,h.height=s;const p=Math.ceil(l/f),m=p*Math.ceil(Math.sqrt(f));QT(e,n,i,m,this.compareMinX);for(let g=n;g<=i;g+=m){const b=Math.min(g+m-1,i);QT(e,g,b,p,this.compareMinY);for(let S=g;S<=b;S+=p){const w=Math.min(S+p-1,b);h.children.push(this._build(e,S,w,s-1))}}return Qc(h,this.toBBox),h}_chooseSubtree(e,n,i,s){for(;s.push(n),!(n.leaf||s.length-1===i);){let l=1/0,f=1/0,h;for(let p=0;p<n.children.length;p++){const m=n.children[p],g=Bw(m),b=Dfe(e,m)-g;b<f?(f=b,l=g<l?g:l,h=m):b===f&&g<l&&(l=g,h=m)}n=h||n.children[0]}return n}_insert(e,n,i){const s=i?e:this.toBBox(e),l=[],f=this._chooseSubtree(s,this.data,n,l);for(f.children.push(e),_d(f,s);n>=0&&l[n].children.length>this._maxEntries;)this._split(l,n),n--;this._adjustParentBBoxes(s,l,n)}_split(e,n){const i=e[n],s=i.children.length,l=this._minEntries;this._chooseSplitAxis(i,l,s);const f=this._chooseSplitIndex(i,l,s),h=ff(i.children.splice(f,i.children.length-f));h.height=i.height,h.leaf=i.leaf,Qc(i,this.toBBox),Qc(h,this.toBBox),n?e[n-1].children.push(h):this._splitRoot(i,h)}_splitRoot(e,n){this.data=ff([e,n]),this.data.height=e.height+1,this.data.leaf=!1,Qc(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let s,l=1/0,f=1/0;for(let h=n;h<=i-n;h++){const p=yd(e,0,h,this.toBBox),m=yd(e,h,i,this.toBBox),g=Tfe(p,m),b=Bw(p)+Bw(m);g<l?(l=g,s=h,f=b<f?b:f):g===l&&b<f&&(f=b,s=h)}return s||i-n}_chooseSplitAxis(e,n,i){const s=e.leaf?this.compareMinX:Ife,l=e.leaf?this.compareMinY:Mfe,f=this._allDistMargin(e,n,i,s),h=this._allDistMargin(e,n,i,l);f<h&&e.children.sort(s)}_allDistMargin(e,n,i,s){e.children.sort(s);const l=this.toBBox,f=yd(e,0,n,l),h=yd(e,i-n,i,l);let p=c1(f)+c1(h);for(let m=n;m<i-n;m++){const g=e.children[m];_d(f,e.leaf?l(g):g),p+=c1(f)}for(let m=i-n-1;m>=n;m--){const g=e.children[m];_d(h,e.leaf?l(g):g),p+=c1(h)}return p}_adjustParentBBoxes(e,n,i){for(let s=i;s>=0;s--)_d(n[s],e)}_condense(e){for(let n=e.length-1,i;n>=0;n--)e[n].children.length===0?n>0?(i=e[n-1].children,i.splice(i.indexOf(e[n]),1)):this.clear():Qc(e[n],this.toBBox)}};function Ffe(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function Qc(t,e){yd(t,0,t.children.length,e,t)}function yd(t,e,n,i,s){s||(s=ff(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let l=e;l<n;l++){const f=t.children[l];_d(s,t.leaf?i(f):f)}return s}function _d(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Ife(t,e){return t.minX-e.minX}function Mfe(t,e){return t.minY-e.minY}function Bw(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c1(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Dfe(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Tfe(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),l=Math.min(t.maxY,e.maxY);return Math.max(0,s-n)*Math.max(0,l-i)}function Ow(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f1(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function ff(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function QT(t,e,n,i,s){const l=[e,n];for(;l.length;){if(n=l.pop(),e=l.pop(),n-e<=i)continue;const f=e+Math.ceil((n-e)/i/2)*i;CO(t,f,e,n,s),l.push(e,f,f,n)}}const Pfe={ratio:[String,Number]};function Rfe(t,e){return xe(()=>{const n=Number(t.ratio||(e!==void 0?e.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const Bfe=1.7778,nve=Zt({name:"QImg",props:{...Pfe,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Bfe},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(t,{slots:e,emit:n}){const i=pt(t.initialRatio),s=Rfe(t,i),l=tn(),{registerTimeout:f,removeTimeout:h}=au(),{registerTimeout:p,removeTimeout:m}=au(),g=xe(()=>t.placeholderSrc!==void 0?{src:t.placeholderSrc}:null),b=xe(()=>t.errorSrc!==void 0?{src:t.errorSrc,__qerror:!0}:null),S=[pt(null),pt(g.value)],w=pt(0),C=pt(!1),M=pt(!1),T=xe(()=>`q-img q-img--${t.noNativeMenu===!0?"no-":""}menu`),D=xe(()=>({width:t.width,height:t.height})),R=xe(()=>`q-img__image ${t.imgClass!==void 0?t.imgClass+" ":""}q-img__image--with${t.noTransition===!0?"out":""}-transition q-img__image--`),q=xe(()=>({...t.imgStyle,objectFit:t.fit,objectPosition:t.position}));function Y(){if(m(),t.loadingShowDelay===0){C.value=!0;return}p(()=>{C.value=!0},t.loadingShowDelay)}function K(){m(),C.value=!1}function ce({target:oe}){fl(l)===!1&&(h(),i.value=oe.naturalHeight===0?.5:oe.naturalWidth/oe.naturalHeight,te(oe,1))}function te(oe,Se){Se===1e3||fl(l)===!0||(oe.complete===!0?ee(oe):f(()=>{te(oe,Se+1)},50))}function ee(oe){fl(l)!==!0&&(w.value=w.value^1,S[w.value].value=null,K(),oe.getAttribute("__qerror")!=="true"&&(M.value=!1),n("load",oe.currentSrc||oe.src))}function he(oe){h(),K(),M.value=!0,S[w.value].value=b.value,S[w.value^1].value=g.value,n("error",oe)}function be(oe){const Se=S[oe].value,fe={key:"img_"+oe,class:R.value,style:q.value,alt:t.alt,crossorigin:t.crossorigin,decoding:t.decoding,referrerpolicy:t.referrerpolicy,height:t.height,width:t.width,loading:t.loading,fetchpriority:t.fetchpriority,"aria-hidden":"true",draggable:t.draggable,...Se};return w.value===oe?Object.assign(fe,{class:fe.class+"current",onLoad:ce,onError:he}):fe.class+="loaded",Be("div",{class:"q-img__container absolute-full",key:"img"+oe},Be("img",fe))}function Fe(){return C.value===!1?Be("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Dn(e[M.value===!0?"error":"default"])):Be("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},e.loading!==void 0?e.loading():t.noSpinner===!0?void 0:[Be(Ga,{color:t.spinnerColor,size:t.spinnerSize})])}{let oe=function(){qt(()=>t.src||t.srcset||t.sizes?{src:t.src,srcset:t.srcset,sizes:t.sizes}:null,Se=>{h(),M.value=!1,Se===null?(K(),S[w.value^1].value=g.value):Y(),S[w.value].value=Se},{immediate:!0})};ro.value===!0?ci(oe):oe()}return()=>{const oe=[];return s.value!==null&&oe.push(Be("div",{key:"filler",style:s.value})),S[0].value!==null&&oe.push(be(0)),S[1].value!==null&&oe.push(be(1)),oe.push(Be(Ca,{name:"q-transition--fade"},Fe)),Be("div",{key:"main",class:T.value,style:D.value,role:"img","aria-label":t.alt},oe)}}});let Ofe=0;const Lfe=["click","keydown"],zfe={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Ofe++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Nfe(t,e,n,i){const s=$a(_R,Nr);if(s===Nr)return Nr;const{proxy:l}=tn(),f=pt(null),h=pt(null),p=pt(null),m=xe(()=>t.disable===!0||t.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},t.ripple===!0?{}:t.ripple)),g=xe(()=>s.currentModel.value===t.name),b=xe(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(g.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(t.icon&&t.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(t.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(t.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),S=xe(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(t.contentClass!==void 0?` ${t.contentClass}`:"")),w=xe(()=>t.disable===!0||s.hasFocus.value===!0||g.value===!1&&s.hasActiveTab.value===!0?-1:t.tabindex||0);function C(q,Y){if(Y!==!0&&f.value!==null&&f.value.focus(),t.disable!==!0){s.updateModel({name:t.name}),n("click",q);return}}function M(q){Ua(q,[13,32])?C(q,!0):pS(q)!==!0&&q.keyCode>=35&&q.keyCode<=40&&q.altKey!==!0&&q.metaKey!==!0&&s.onKbdNavigate(q.keyCode,l.$el)===!0&&Wn(q),n("keydown",q)}function T(){const q=s.tabProps.value.narrowIndicator,Y=[],K=Be("div",{ref:p,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});t.icon!==void 0&&Y.push(Be(Xr,{class:"q-tab__icon",name:t.icon})),t.label!==void 0&&Y.push(Be("div",{class:"q-tab__label"},t.label)),t.alert!==!1&&Y.push(t.alertIcon!==void 0?Be(Xr,{class:"q-tab__alert-icon",color:t.alert!==!0?t.alert:void 0,name:t.alertIcon}):Be("div",{class:"q-tab__alert"+(t.alert!==!0?` text-${t.alert}`:"")})),q===!0&&Y.push(K);const ce=[Be("div",{class:"q-focus-helper",tabindex:-1,ref:f}),Be("div",{class:S.value},fa(e.default,Y))];return q===!1&&ce.push(K),ce}const D={name:xe(()=>t.name),rootRef:h,tabIndicatorRef:p,routeData:i};or(()=>{s.unregisterTab(D)}),ci(()=>{s.registerTab(D)});function R(q,Y){const K={ref:h,class:b.value,tabindex:w.value,role:"tab","aria-selected":g.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:C,onKeydown:M,...Y};return bl(Be(q,K,T()),[[bB,m.value]])}return{renderTab:R,$tabs:s}}const rve=Zt({name:"QTab",props:zfe,emits:Lfe,setup(t,{slots:e,emit:n}){const{renderTab:i}=Nfe(t,e,n);return()=>i("div")}});let EO=!1;{const t=document.createElement("div");t.setAttribute("dir","rtl"),Object.assign(t.style,{width:"1px",height:"1px",overflow:"auto"});const e=document.createElement("div");Object.assign(e.style,{width:"1000px",height:"1px"}),document.body.appendChild(t),t.appendChild(e),t.scrollLeft=-1e3,EO=t.scrollLeft>=0,t.remove()}function jfe(t,e,n){const i=n===!0?["left","right"]:["top","bottom"];return`absolute-${e===!0?i[0]:i[1]}${t?` text-${t}`:""}`}const qfe=["left","center","right","justify"],ive=Zt({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:t=>qfe.includes(t)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(t,{slots:e,emit:n}){const{proxy:i}=tn(),{$q:s}=i,{registerTick:l}=Md(),{registerTick:f}=Md(),{registerTick:h}=Md(),{registerTimeout:p,removeTimeout:m}=au(),{registerTimeout:g,removeTimeout:b}=au(),S=pt(null),w=pt(null),C=pt(t.modelValue),M=pt(!1),T=pt(!0),D=pt(!1),R=pt(!1),q=[],Y=pt(0),K=pt(!1);let ce=null,te=null,ee;const he=xe(()=>({activeClass:t.activeClass,activeColor:t.activeColor,activeBgColor:t.activeBgColor,indicatorClass:jfe(t.indicatorColor,t.switchIndicator,t.vertical),narrowIndicator:t.narrowIndicator,inlineLabel:t.inlineLabel,noCaps:t.noCaps})),be=xe(()=>{const bt=Y.value,ot=C.value;for(let Ne=0;Ne<bt;Ne++)if(q[Ne].name.value===ot)return!0;return!1}),Fe=xe(()=>`q-tabs__content--align-${M.value===!0?"left":R.value===!0?"justify":t.align}`),oe=xe(()=>`q-tabs row no-wrap items-center q-tabs--${M.value===!0?"":"not-"}scrollable q-tabs--${t.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${t.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${t.mobileArrows===!0?"":"out"}-arrows`+(t.dense===!0?" q-tabs--dense":"")+(t.shrink===!0?" col-shrink":"")+(t.stretch===!0?" self-stretch":"")),Se=xe(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Fe.value+(t.contentClass!==void 0?` ${t.contentClass}`:"")),fe=xe(()=>t.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),Te=xe(()=>t.vertical!==!0&&s.lang.rtl===!0),Le=xe(()=>EO===!1&&Te.value===!0);qt(Te,Qe),qt(()=>t.modelValue,bt=>{Pe({name:bt,setCurrent:!0,skipEmit:!0})}),qt(()=>t.outsideArrows,ze);function Pe({name:bt,setCurrent:ot,skipEmit:Ne}){C.value!==bt&&(Ne!==!0&&t["onUpdate:modelValue"]!==void 0&&n("update:modelValue",bt),(ot===!0||t["onUpdate:modelValue"]===void 0)&&(tt(C.value,bt),C.value=bt))}function ze(){l(()=>{S.value&&Je({width:S.value.offsetWidth,height:S.value.offsetHeight})})}function Je(bt){if(fe.value===void 0||w.value===null)return;const ot=bt[fe.value.container],Ne=Math.min(w.value[fe.value.scroll],Array.prototype.reduce.call(w.value.children,(vt,ae)=>vt+(ae[fe.value.content]||0),0)),nt=ot>0&&Ne>ot;M.value=nt,nt===!0&&f(Qe),R.value=ot<parseInt(t.breakpoint,10)}function tt(bt,ot){const Ne=bt!=null&&bt!==""?q.find(vt=>vt.name.value===bt):null,nt=ot!=null&&ot!==""?q.find(vt=>vt.name.value===ot):null;if(tr===!0)tr=!1;else if(Ne&&nt){const vt=Ne.tabIndicatorRef.value,ae=nt.tabIndicatorRef.value;ce!==null&&(clearTimeout(ce),ce=null),vt.style.transition="none",vt.style.transform="none",ae.style.transition="none",ae.style.transform="none";const z=vt.getBoundingClientRect(),X=ae.getBoundingClientRect();ae.style.transform=t.vertical===!0?`translate3d(0,${z.top-X.top}px,0) scale3d(1,${X.height?z.height/X.height:1},1)`:`translate3d(${z.left-X.left}px,0,0) scale3d(${X.width?z.width/X.width:1},1,1)`,h(()=>{ce=setTimeout(()=>{ce=null,ae.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",ae.style.transform="none"},70)})}nt&&M.value===!0&&lt(nt.rootRef.value)}function lt(bt){const{left:ot,width:Ne,top:nt,height:vt}=w.value.getBoundingClientRect(),ae=bt.getBoundingClientRect();let z=t.vertical===!0?ae.top-nt:ae.left-ot;if(z<0){w.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(z),Qe();return}z+=t.vertical===!0?ae.height-vt:ae.width-Ne,z>0&&(w.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(z),Qe())}function Qe(){const bt=w.value;if(bt===null)return;const ot=bt.getBoundingClientRect(),Ne=t.vertical===!0?bt.scrollTop:Math.abs(bt.scrollLeft);Te.value===!0?(T.value=Math.ceil(Ne+ot.width)<bt.scrollWidth-1,D.value=Ne>0):(T.value=Ne>0,D.value=t.vertical===!0?Math.ceil(Ne+ot.height)<bt.scrollHeight:Math.ceil(Ne+ot.width)<bt.scrollWidth)}function mt(bt){te!==null&&clearInterval(te),te=setInterval(()=>{at(bt)===!0&&Ze()},5)}function Ct(){mt(Le.value===!0?Number.MAX_SAFE_INTEGER:0)}function Ft(){mt(Le.value===!0?0:Number.MAX_SAFE_INTEGER)}function Ze(){te!==null&&(clearInterval(te),te=null)}function Pt(bt,ot){const Ne=Array.prototype.filter.call(w.value.children,X=>X===ot||X.matches&&X.matches(".q-tab.q-focusable")===!0),nt=Ne.length;if(nt===0)return;if(bt===36)return lt(Ne[0]),Ne[0].focus(),!0;if(bt===35)return lt(Ne[nt-1]),Ne[nt-1].focus(),!0;const vt=bt===(t.vertical===!0?38:37),ae=bt===(t.vertical===!0?40:39),z=vt===!0?-1:ae===!0?1:void 0;if(z!==void 0){const X=Te.value===!0?-1:1,Ce=Ne.indexOf(ot)+z*X;return Ce>=0&&Ce<nt&&(lt(Ne[Ce]),Ne[Ce].focus({preventScroll:!0})),!0}}const Lt=xe(()=>Le.value===!0?{get:bt=>Math.abs(bt.scrollLeft),set:(bt,ot)=>{bt.scrollLeft=-ot}}:t.vertical===!0?{get:bt=>bt.scrollTop,set:(bt,ot)=>{bt.scrollTop=ot}}:{get:bt=>bt.scrollLeft,set:(bt,ot)=>{bt.scrollLeft=ot}});function at(bt){const ot=w.value,{get:Ne,set:nt}=Lt.value;let vt=!1,ae=Ne(ot);const z=bt<ae?-1:1;return ae+=z*5,ae<0?(vt=!0,ae=0):(z===-1&&ae<=bt||z===1&&ae>=bt)&&(vt=!0,ae=bt),nt(ot,ae),Qe(),vt}function Et(bt,ot){for(const Ne in bt)if(bt[Ne]!==ot[Ne])return!1;return!0}function Gt(){let bt=null,ot={matchedLen:0,queryDiff:9999,hrefLen:0};const Ne=q.filter(z=>z.routeData!==void 0&&z.routeData.hasRouterLink.value===!0),{hash:nt,query:vt}=i.$route,ae=Object.keys(vt).length;for(const z of Ne){const X=z.routeData.exact.value===!0;if(z.routeData[X===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Ce,query:He,matched:rt,href:Ue}=z.routeData.resolvedLink.value,St=Object.keys(He).length;if(X===!0){if(Ce!==nt||St!==ae||Et(vt,He)===!1)continue;bt=z.name.value;break}if(Ce!==""&&Ce!==nt||St!==0&&Et(He,vt)===!1)continue;const $e={matchedLen:rt.length,queryDiff:ae-St,hrefLen:Ue.length-Ce.length};if($e.matchedLen>ot.matchedLen){bt=z.name.value,ot=$e;continue}else if($e.matchedLen!==ot.matchedLen)continue;if($e.queryDiff<ot.queryDiff)bt=z.name.value,ot=$e;else if($e.queryDiff!==ot.queryDiff)continue;$e.hrefLen>ot.hrefLen&&(bt=z.name.value,ot=$e)}if(bt===null&&q.some(z=>z.routeData===void 0&&z.name.value===C.value)===!0){tr=!1;return}Pe({name:bt,setCurrent:!0})}function Ht(bt){if(m(),K.value!==!0&&S.value!==null&&bt.target&&typeof bt.target.closest=="function"){const ot=bt.target.closest(".q-tab");ot&&S.value.contains(ot)===!0&&(K.value=!0,M.value===!0&&lt(ot))}}function Nt(){p(()=>{K.value=!1},30)}function Jt(){lr.avoidRouteWatcher===!1?g(Gt):b()}function pn(){if(ee===void 0){const bt=qt(()=>i.$route.fullPath,Jt);ee=()=>{bt(),ee=void 0}}}function En(bt){q.push(bt),Y.value++,ze(),bt.routeData===void 0||i.$route===void 0?g(()=>{if(M.value===!0){const ot=C.value,Ne=ot!=null&&ot!==""?q.find(nt=>nt.name.value===ot):null;Ne&&lt(Ne.rootRef.value)}}):(pn(),bt.routeData.hasRouterLink.value===!0&&Jt())}function bn(bt){q.splice(q.indexOf(bt),1),Y.value--,ze(),ee!==void 0&&bt.routeData!==void 0&&(q.every(ot=>ot.routeData===void 0)===!0&&ee(),Jt())}const lr={currentModel:C,tabProps:he,hasFocus:K,hasActiveTab:be,registerTab:En,unregisterTab:bn,verifyRouteModel:Jt,updateModel:Pe,onKbdNavigate:Pt,avoidRouteWatcher:!1};b0(_R,lr);function dr(){ce!==null&&clearTimeout(ce),Ze(),ee!==void 0&&ee()}let jn,tr;return or(dr),Hf(()=>{jn=ee!==void 0,dr()}),Xv(()=>{jn===!0&&(pn(),tr=!0,Jt()),ze()}),()=>Be("div",{ref:S,class:oe.value,role:"tablist",onFocusin:Ht,onFocusout:Nt},[Be(Xd,{onResize:Je}),Be("div",{ref:w,class:Se.value,onScroll:Qe},Dn(e.default)),Be(Xr,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(T.value===!0?"":" q-tabs__arrow--faded"),name:t.leftIcon||s.iconSet.tabs[t.vertical===!0?"up":"left"],onMousedownPassive:Ct,onTouchstartPassive:Ct,onMouseupPassive:Ze,onMouseleavePassive:Ze,onTouchendPassive:Ze}),Be(Xr,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(D.value===!0?"":" q-tabs__arrow--faded"),name:t.rightIcon||s.iconSet.tabs[t.vertical===!0?"down":"right"],onMousedownPassive:Ft,onTouchstartPassive:Ft,onMouseupPassive:Ze,onMouseleavePassive:Ze,onTouchendPassive:Ze})])}}),jx=65536*65536,e7=1/jx,$fe=12,t7=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),Lw=0,h1=1,ud=2,d1=5;class ove{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,n,i=this.length){for(;this.pos<i;){const s=this.readVarint(),l=s>>3,f=this.pos;this.type=s&7,e(l,n,this),this.pos===f&&this.skip(s)}return n}readMessage(e,n){return this.readFields(e,n,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*jx;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*jx;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const n=this.buf;let i,s;return s=n[this.pos++],i=s&127,s<128||(s=n[this.pos++],i|=(s&127)<<7,s<128)||(s=n[this.pos++],i|=(s&127)<<14,s<128)||(s=n[this.pos++],i|=(s&127)<<21,s<128)?i:(s=n[this.pos],i|=(s&15)<<28,Ufe(i,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,n=this.pos;return this.pos=e,e-n>=$fe&&t7?t7.decode(this.buf.subarray(n,e)):nhe(this.buf,n,e)}readBytes(){const e=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,e);return this.pos=e,n}readPackedVarint(e=[],n){const i=this.readPackedEnd();for(;this.pos<i;)e.push(this.readVarint(n));return e}readPackedSVarint(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===ud?this.readVarint()+this.pos:this.pos+1}skip(e){const n=e&7;if(n===Lw)for(;this.buf[this.pos++]>127;);else if(n===ud)this.pos=this.readVarint()+this.pos;else if(n===d1)this.pos+=4;else if(n===h1)this.pos+=8;else throw new Error(`Unimplemented type: ${n}`)}writeTag(e,n){this.writeVarint(e<<3|n)}realloc(e){let n=this.length||16;for(;n<this.pos+e;)n*=2;if(n!==this.length){const i=new Uint8Array(n);i.set(this.buf),this.buf=i,this.dataView=new DataView(i.buffer),this.length=n}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*e7),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*e7),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){Gfe(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const n=this.pos;this.pos=rhe(this.buf,e,this.pos);const i=this.pos-n;i>=128&&n7(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const n=e.length;this.writeVarint(n),this.realloc(n);for(let i=0;i<n;i++)this.buf[this.pos++]=e[i]}writeRawMessage(e,n){this.pos++;const i=this.pos;e(n,this);const s=this.pos-i;s>=128&&n7(i,s,this),this.pos=i-1,this.writeVarint(s),this.pos+=s}writeMessage(e,n,i){this.writeTag(e,ud),this.writeRawMessage(n,i)}writePackedVarint(e,n){n.length&&this.writeMessage(e,Wfe,n)}writePackedSVarint(e,n){n.length&&this.writeMessage(e,Yfe,n)}writePackedBoolean(e,n){n.length&&this.writeMessage(e,Zfe,n)}writePackedFloat(e,n){n.length&&this.writeMessage(e,Xfe,n)}writePackedDouble(e,n){n.length&&this.writeMessage(e,Kfe,n)}writePackedFixed32(e,n){n.length&&this.writeMessage(e,Jfe,n)}writePackedSFixed32(e,n){n.length&&this.writeMessage(e,Qfe,n)}writePackedFixed64(e,n){n.length&&this.writeMessage(e,ehe,n)}writePackedSFixed64(e,n){n.length&&this.writeMessage(e,the,n)}writeBytesField(e,n){this.writeTag(e,ud),this.writeBytes(n)}writeFixed32Field(e,n){this.writeTag(e,d1),this.writeFixed32(n)}writeSFixed32Field(e,n){this.writeTag(e,d1),this.writeSFixed32(n)}writeFixed64Field(e,n){this.writeTag(e,h1),this.writeFixed64(n)}writeSFixed64Field(e,n){this.writeTag(e,h1),this.writeSFixed64(n)}writeVarintField(e,n){this.writeTag(e,Lw),this.writeVarint(n)}writeSVarintField(e,n){this.writeTag(e,Lw),this.writeSVarint(n)}writeStringField(e,n){this.writeTag(e,ud),this.writeString(n)}writeFloatField(e,n){this.writeTag(e,d1),this.writeFloat(n)}writeDoubleField(e,n){this.writeTag(e,h1),this.writeDouble(n)}writeBooleanField(e,n){this.writeVarintField(e,+n)}}function Ufe(t,e,n){const i=n.buf;let s,l;if(l=i[n.pos++],s=(l&112)>>4,l<128||(l=i[n.pos++],s|=(l&127)<<3,l<128)||(l=i[n.pos++],s|=(l&127)<<10,l<128)||(l=i[n.pos++],s|=(l&127)<<17,l<128)||(l=i[n.pos++],s|=(l&127)<<24,l<128)||(l=i[n.pos++],s|=(l&1)<<31,l<128))return ef(t,s,e);throw new Error("Expected varint not more than 10 bytes")}function ef(t,e,n){return n?e*4294967296+(t>>>0):(e>>>0)*4294967296+(t>>>0)}function Gfe(t,e){let n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(n=~(-t%4294967296),i=~(-t/4294967296),n^4294967295?n=n+1|0:(n=0,i=i+1|0)),t>=18446744073709552e3||t<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),Hfe(n,i,e),Vfe(i,e)}function Hfe(t,e,n){n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos]=t&127}function Vfe(t,e){const n=(t&7)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127)))))}function n7(t,e,n){const i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));n.realloc(i);for(let s=n.pos-1;s>=t;s--)n.buf[s+i]=n.buf[s]}function Wfe(t,e){for(let n=0;n<t.length;n++)e.writeVarint(t[n])}function Yfe(t,e){for(let n=0;n<t.length;n++)e.writeSVarint(t[n])}function Xfe(t,e){for(let n=0;n<t.length;n++)e.writeFloat(t[n])}function Kfe(t,e){for(let n=0;n<t.length;n++)e.writeDouble(t[n])}function Zfe(t,e){for(let n=0;n<t.length;n++)e.writeBoolean(t[n])}function Jfe(t,e){for(let n=0;n<t.length;n++)e.writeFixed32(t[n])}function Qfe(t,e){for(let n=0;n<t.length;n++)e.writeSFixed32(t[n])}function ehe(t,e){for(let n=0;n<t.length;n++)e.writeFixed64(t[n])}function the(t,e){for(let n=0;n<t.length;n++)e.writeSFixed64(t[n])}function nhe(t,e,n){let i="",s=e;for(;s<n;){const l=t[s];let f=null,h=l>239?4:l>223?3:l>191?2:1;if(s+h>n)break;let p,m,g;h===1?l<128&&(f=l):h===2?(p=t[s+1],(p&192)===128&&(f=(l&31)<<6|p&63,f<=127&&(f=null))):h===3?(p=t[s+1],m=t[s+2],(p&192)===128&&(m&192)===128&&(f=(l&15)<<12|(p&63)<<6|m&63,(f<=2047||f>=55296&&f<=57343)&&(f=null))):h===4&&(p=t[s+1],m=t[s+2],g=t[s+3],(p&192)===128&&(m&192)===128&&(g&192)===128&&(f=(l&15)<<18|(p&63)<<12|(m&63)<<6|g&63,(f<=65535||f>=1114112)&&(f=null))),f===null?(f=65533,h=1):f>65535&&(f-=65536,i+=String.fromCharCode(f>>>10&1023|55296),f=56320|f&1023),i+=String.fromCharCode(f),s+=h}return i}function rhe(t,e,n){for(let i=0,s,l;i<e.length;i++){if(s=e.charCodeAt(i),s>55295&&s<57344)if(l)if(s<56320){t[n++]=239,t[n++]=191,t[n++]=189,l=s;continue}else s=l-55296<<10|s-56320|65536,l=null;else{s>56319||i+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):l=s;continue}else l&&(t[n++]=239,t[n++]=191,t[n++]=189,l=null);s<128?t[n++]=s:(s<2048?t[n++]=s>>6|192:(s<65536?t[n++]=s>>12|224:(t[n++]=s>>18|240,t[n++]=s>>12&63|128),t[n++]=s>>6&63|128),t[n++]=s&63|128)}return n}function p1(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zw={exports:{}},Nw={},ld={},r7;function ihe(){if(r7)return ld;r7=1,ld.byteLength=h,ld.toByteArray=m,ld.fromByteArray=S;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=i.length;s<l;++s)t[s]=i[s],e[i.charCodeAt(s)]=s;e[45]=62,e[95]=63;function f(w){var C=w.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=w.indexOf("=");M===-1&&(M=C);var T=M===C?0:4-M%4;return[M,T]}function h(w){var C=f(w),M=C[0],T=C[1];return(M+T)*3/4-T}function p(w,C,M){return(C+M)*3/4-M}function m(w){var C,M=f(w),T=M[0],D=M[1],R=new n(p(w,T,D)),q=0,Y=D>0?T-4:T,K;for(K=0;K<Y;K+=4)C=e[w.charCodeAt(K)]<<18|e[w.charCodeAt(K+1)]<<12|e[w.charCodeAt(K+2)]<<6|e[w.charCodeAt(K+3)],R[q++]=C>>16&255,R[q++]=C>>8&255,R[q++]=C&255;return D===2&&(C=e[w.charCodeAt(K)]<<2|e[w.charCodeAt(K+1)]>>4,R[q++]=C&255),D===1&&(C=e[w.charCodeAt(K)]<<10|e[w.charCodeAt(K+1)]<<4|e[w.charCodeAt(K+2)]>>2,R[q++]=C>>8&255,R[q++]=C&255),R}function g(w){return t[w>>18&63]+t[w>>12&63]+t[w>>6&63]+t[w&63]}function b(w,C,M){for(var T,D=[],R=C;R<M;R+=3)T=(w[R]<<16&16711680)+(w[R+1]<<8&65280)+(w[R+2]&255),D.push(g(T));return D.join("")}function S(w){for(var C,M=w.length,T=M%3,D=[],R=16383,q=0,Y=M-T;q<Y;q+=R)D.push(b(w,q,q+R>Y?Y:q+R));return T===1?(C=w[M-1],D.push(t[C>>2]+t[C<<4&63]+"==")):T===2&&(C=(w[M-2]<<8)+w[M-1],D.push(t[C>>10]+t[C>>4&63]+t[C<<2&63]+"=")),D.join("")}return ld}var g1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var i7;function ohe(){return i7||(i7=1,g1.read=function(t,e,n,i,s){var l,f,h=s*8-i-1,p=(1<<h)-1,m=p>>1,g=-7,b=n?s-1:0,S=n?-1:1,w=t[e+b];for(b+=S,l=w&(1<<-g)-1,w>>=-g,g+=h;g>0;l=l*256+t[e+b],b+=S,g-=8);for(f=l&(1<<-g)-1,l>>=-g,g+=i;g>0;f=f*256+t[e+b],b+=S,g-=8);if(l===0)l=1-m;else{if(l===p)return f?NaN:(w?-1:1)*(1/0);f=f+Math.pow(2,i),l=l-m}return(w?-1:1)*f*Math.pow(2,l-i)},g1.write=function(t,e,n,i,s,l){var f,h,p,m=l*8-s-1,g=(1<<m)-1,b=g>>1,S=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=i?0:l-1,C=i?1:-1,M=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,f=g):(f=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-f))<1&&(f--,p*=2),f+b>=1?e+=S/p:e+=S*Math.pow(2,1-b),e*p>=2&&(f++,p/=2),f+b>=g?(h=0,f=g):f+b>=1?(h=(e*p-1)*Math.pow(2,s),f=f+b):(h=e*Math.pow(2,b-1)*Math.pow(2,s),f=0));s>=8;t[n+w]=h&255,w+=C,h/=256,s-=8);for(f=f<<s|h,m+=s;m>0;t[n+w]=f&255,w+=C,f/=256,m-=8);t[n+w-C]|=M*128}),g1}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var o7;function qx(){return o7||(o7=1,function(t){const e=ihe(),n=ohe(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=R,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,h.TYPED_ARRAY_SUPPORT=l(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u";function l(){try{const ae=new Uint8Array(1),z={foo:function(){return 42}};return Object.setPrototypeOf(z,Uint8Array.prototype),Object.setPrototypeOf(ae,z),ae.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function f(ae){if(ae>s)throw new RangeError('The value "'+ae+'" is invalid for option "size"');const z=new Uint8Array(ae);return Object.setPrototypeOf(z,h.prototype),z}function h(ae,z,X){if(typeof ae=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(ae)}return p(ae,z,X)}h.poolSize=8192;function p(ae,z,X){if(typeof ae=="string")return S(ae,z);if(ArrayBuffer.isView(ae))return C(ae);if(ae==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae);if(bt(ae,ArrayBuffer)||ae&&bt(ae.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(bt(ae,SharedArrayBuffer)||ae&&bt(ae.buffer,SharedArrayBuffer)))return M(ae,z,X);if(typeof ae=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ce=ae.valueOf&&ae.valueOf();if(Ce!=null&&Ce!==ae)return h.from(Ce,z,X);const He=T(ae);if(He)return He;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ae[Symbol.toPrimitive]=="function")return h.from(ae[Symbol.toPrimitive]("string"),z,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae)}h.from=function(ae,z,X){return p(ae,z,X)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function m(ae){if(typeof ae!="number")throw new TypeError('"size" argument must be of type number');if(ae<0)throw new RangeError('The value "'+ae+'" is invalid for option "size"')}function g(ae,z,X){return m(ae),ae<=0?f(ae):z!==void 0?typeof X=="string"?f(ae).fill(z,X):f(ae).fill(z):f(ae)}h.alloc=function(ae,z,X){return g(ae,z,X)};function b(ae){return m(ae),f(ae<0?0:D(ae)|0)}h.allocUnsafe=function(ae){return b(ae)},h.allocUnsafeSlow=function(ae){return b(ae)};function S(ae,z){if((typeof z!="string"||z==="")&&(z="utf8"),!h.isEncoding(z))throw new TypeError("Unknown encoding: "+z);const X=q(ae,z)|0;let Ce=f(X);const He=Ce.write(ae,z);return He!==X&&(Ce=Ce.slice(0,He)),Ce}function w(ae){const z=ae.length<0?0:D(ae.length)|0,X=f(z);for(let Ce=0;Ce<z;Ce+=1)X[Ce]=ae[Ce]&255;return X}function C(ae){if(bt(ae,Uint8Array)){const z=new Uint8Array(ae);return M(z.buffer,z.byteOffset,z.byteLength)}return w(ae)}function M(ae,z,X){if(z<0||ae.byteLength<z)throw new RangeError('"offset" is outside of buffer bounds');if(ae.byteLength<z+(X||0))throw new RangeError('"length" is outside of buffer bounds');let Ce;return z===void 0&&X===void 0?Ce=new Uint8Array(ae):X===void 0?Ce=new Uint8Array(ae,z):Ce=new Uint8Array(ae,z,X),Object.setPrototypeOf(Ce,h.prototype),Ce}function T(ae){if(h.isBuffer(ae)){const z=D(ae.length)|0,X=f(z);return X.length===0||ae.copy(X,0,0,z),X}if(ae.length!==void 0)return typeof ae.length!="number"||ot(ae.length)?f(0):w(ae);if(ae.type==="Buffer"&&Array.isArray(ae.data))return w(ae.data)}function D(ae){if(ae>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return ae|0}function R(ae){return+ae!=ae&&(ae=0),h.alloc(+ae)}h.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==h.prototype},h.compare=function(z,X){if(bt(z,Uint8Array)&&(z=h.from(z,z.offset,z.byteLength)),bt(X,Uint8Array)&&(X=h.from(X,X.offset,X.byteLength)),!h.isBuffer(z)||!h.isBuffer(X))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===X)return 0;let Ce=z.length,He=X.length;for(let rt=0,Ue=Math.min(Ce,He);rt<Ue;++rt)if(z[rt]!==X[rt]){Ce=z[rt],He=X[rt];break}return Ce<He?-1:He<Ce?1:0},h.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(z,X){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return h.alloc(0);let Ce;if(X===void 0)for(X=0,Ce=0;Ce<z.length;++Ce)X+=z[Ce].length;const He=h.allocUnsafe(X);let rt=0;for(Ce=0;Ce<z.length;++Ce){let Ue=z[Ce];if(bt(Ue,Uint8Array))rt+Ue.length>He.length?(h.isBuffer(Ue)||(Ue=h.from(Ue)),Ue.copy(He,rt)):Uint8Array.prototype.set.call(He,Ue,rt);else if(h.isBuffer(Ue))Ue.copy(He,rt);else throw new TypeError('"list" argument must be an Array of Buffers');rt+=Ue.length}return He};function q(ae,z){if(h.isBuffer(ae))return ae.length;if(ArrayBuffer.isView(ae)||bt(ae,ArrayBuffer))return ae.byteLength;if(typeof ae!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ae);const X=ae.length,Ce=arguments.length>2&&arguments[2]===!0;if(!Ce&&X===0)return 0;let He=!1;for(;;)switch(z){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return bn(ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X*2;case"hex":return X>>>1;case"base64":return jn(ae).length;default:if(He)return Ce?-1:bn(ae).length;z=(""+z).toLowerCase(),He=!0}}h.byteLength=q;function Y(ae,z,X){let Ce=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((X===void 0||X>this.length)&&(X=this.length),X<=0)||(X>>>=0,z>>>=0,X<=z))return"";for(ae||(ae="utf8");;)switch(ae){case"hex":return Je(this,z,X);case"utf8":case"utf-8":return fe(this,z,X);case"ascii":return Pe(this,z,X);case"latin1":case"binary":return ze(this,z,X);case"base64":return Se(this,z,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt(this,z,X);default:if(Ce)throw new TypeError("Unknown encoding: "+ae);ae=(ae+"").toLowerCase(),Ce=!0}}h.prototype._isBuffer=!0;function K(ae,z,X){const Ce=ae[z];ae[z]=ae[X],ae[X]=Ce}h.prototype.swap16=function(){const z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let X=0;X<z;X+=2)K(this,X,X+1);return this},h.prototype.swap32=function(){const z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let X=0;X<z;X+=4)K(this,X,X+3),K(this,X+1,X+2);return this},h.prototype.swap64=function(){const z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let X=0;X<z;X+=8)K(this,X,X+7),K(this,X+1,X+6),K(this,X+2,X+5),K(this,X+3,X+4);return this},h.prototype.toString=function(){const z=this.length;return z===0?"":arguments.length===0?fe(this,0,z):Y.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(z){if(!h.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:h.compare(this,z)===0},h.prototype.inspect=function(){let z="";const X=t.INSPECT_MAX_BYTES;return z=this.toString("hex",0,X).replace(/(.{2})/g,"$1 ").trim(),this.length>X&&(z+=" ... "),"<Buffer "+z+">"},i&&(h.prototype[i]=h.prototype.inspect),h.prototype.compare=function(z,X,Ce,He,rt){if(bt(z,Uint8Array)&&(z=h.from(z,z.offset,z.byteLength)),!h.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(X===void 0&&(X=0),Ce===void 0&&(Ce=z?z.length:0),He===void 0&&(He=0),rt===void 0&&(rt=this.length),X<0||Ce>z.length||He<0||rt>this.length)throw new RangeError("out of range index");if(He>=rt&&X>=Ce)return 0;if(He>=rt)return-1;if(X>=Ce)return 1;if(X>>>=0,Ce>>>=0,He>>>=0,rt>>>=0,this===z)return 0;let Ue=rt-He,St=Ce-X;const $e=Math.min(Ue,St),Ve=this.slice(He,rt),Dt=z.slice(X,Ce);for(let Rt=0;Rt<$e;++Rt)if(Ve[Rt]!==Dt[Rt]){Ue=Ve[Rt],St=Dt[Rt];break}return Ue<St?-1:St<Ue?1:0};function ce(ae,z,X,Ce,He){if(ae.length===0)return-1;if(typeof X=="string"?(Ce=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),X=+X,ot(X)&&(X=He?0:ae.length-1),X<0&&(X=ae.length+X),X>=ae.length){if(He)return-1;X=ae.length-1}else if(X<0)if(He)X=0;else return-1;if(typeof z=="string"&&(z=h.from(z,Ce)),h.isBuffer(z))return z.length===0?-1:te(ae,z,X,Ce,He);if(typeof z=="number")return z=z&255,typeof Uint8Array.prototype.indexOf=="function"?He?Uint8Array.prototype.indexOf.call(ae,z,X):Uint8Array.prototype.lastIndexOf.call(ae,z,X):te(ae,[z],X,Ce,He);throw new TypeError("val must be string, number or Buffer")}function te(ae,z,X,Ce,He){let rt=1,Ue=ae.length,St=z.length;if(Ce!==void 0&&(Ce=String(Ce).toLowerCase(),Ce==="ucs2"||Ce==="ucs-2"||Ce==="utf16le"||Ce==="utf-16le")){if(ae.length<2||z.length<2)return-1;rt=2,Ue/=2,St/=2,X/=2}function $e(Dt,Rt){return rt===1?Dt[Rt]:Dt.readUInt16BE(Rt*rt)}let Ve;if(He){let Dt=-1;for(Ve=X;Ve<Ue;Ve++)if($e(ae,Ve)===$e(z,Dt===-1?0:Ve-Dt)){if(Dt===-1&&(Dt=Ve),Ve-Dt+1===St)return Dt*rt}else Dt!==-1&&(Ve-=Ve-Dt),Dt=-1}else for(X+St>Ue&&(X=Ue-St),Ve=X;Ve>=0;Ve--){let Dt=!0;for(let Rt=0;Rt<St;Rt++)if($e(ae,Ve+Rt)!==$e(z,Rt)){Dt=!1;break}if(Dt)return Ve}return-1}h.prototype.includes=function(z,X,Ce){return this.indexOf(z,X,Ce)!==-1},h.prototype.indexOf=function(z,X,Ce){return ce(this,z,X,Ce,!0)},h.prototype.lastIndexOf=function(z,X,Ce){return ce(this,z,X,Ce,!1)};function ee(ae,z,X,Ce){X=Number(X)||0;const He=ae.length-X;Ce?(Ce=Number(Ce),Ce>He&&(Ce=He)):Ce=He;const rt=z.length;Ce>rt/2&&(Ce=rt/2);let Ue;for(Ue=0;Ue<Ce;++Ue){const St=parseInt(z.substr(Ue*2,2),16);if(ot(St))return Ue;ae[X+Ue]=St}return Ue}function he(ae,z,X,Ce){return tr(bn(z,ae.length-X),ae,X,Ce)}function be(ae,z,X,Ce){return tr(lr(z),ae,X,Ce)}function Fe(ae,z,X,Ce){return tr(jn(z),ae,X,Ce)}function oe(ae,z,X,Ce){return tr(dr(z,ae.length-X),ae,X,Ce)}h.prototype.write=function(z,X,Ce,He){if(X===void 0)He="utf8",Ce=this.length,X=0;else if(Ce===void 0&&typeof X=="string")He=X,Ce=this.length,X=0;else if(isFinite(X))X=X>>>0,isFinite(Ce)?(Ce=Ce>>>0,He===void 0&&(He="utf8")):(He=Ce,Ce=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const rt=this.length-X;if((Ce===void 0||Ce>rt)&&(Ce=rt),z.length>0&&(Ce<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");He||(He="utf8");let Ue=!1;for(;;)switch(He){case"hex":return ee(this,z,X,Ce);case"utf8":case"utf-8":return he(this,z,X,Ce);case"ascii":case"latin1":case"binary":return be(this,z,X,Ce);case"base64":return Fe(this,z,X,Ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,z,X,Ce);default:if(Ue)throw new TypeError("Unknown encoding: "+He);He=(""+He).toLowerCase(),Ue=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Se(ae,z,X){return z===0&&X===ae.length?e.fromByteArray(ae):e.fromByteArray(ae.slice(z,X))}function fe(ae,z,X){X=Math.min(ae.length,X);const Ce=[];let He=z;for(;He<X;){const rt=ae[He];let Ue=null,St=rt>239?4:rt>223?3:rt>191?2:1;if(He+St<=X){let $e,Ve,Dt,Rt;switch(St){case 1:rt<128&&(Ue=rt);break;case 2:$e=ae[He+1],($e&192)===128&&(Rt=(rt&31)<<6|$e&63,Rt>127&&(Ue=Rt));break;case 3:$e=ae[He+1],Ve=ae[He+2],($e&192)===128&&(Ve&192)===128&&(Rt=(rt&15)<<12|($e&63)<<6|Ve&63,Rt>2047&&(Rt<55296||Rt>57343)&&(Ue=Rt));break;case 4:$e=ae[He+1],Ve=ae[He+2],Dt=ae[He+3],($e&192)===128&&(Ve&192)===128&&(Dt&192)===128&&(Rt=(rt&15)<<18|($e&63)<<12|(Ve&63)<<6|Dt&63,Rt>65535&&Rt<1114112&&(Ue=Rt))}}Ue===null?(Ue=65533,St=1):Ue>65535&&(Ue-=65536,Ce.push(Ue>>>10&1023|55296),Ue=56320|Ue&1023),Ce.push(Ue),He+=St}return Le(Ce)}const Te=4096;function Le(ae){const z=ae.length;if(z<=Te)return String.fromCharCode.apply(String,ae);let X="",Ce=0;for(;Ce<z;)X+=String.fromCharCode.apply(String,ae.slice(Ce,Ce+=Te));return X}function Pe(ae,z,X){let Ce="";X=Math.min(ae.length,X);for(let He=z;He<X;++He)Ce+=String.fromCharCode(ae[He]&127);return Ce}function ze(ae,z,X){let Ce="";X=Math.min(ae.length,X);for(let He=z;He<X;++He)Ce+=String.fromCharCode(ae[He]);return Ce}function Je(ae,z,X){const Ce=ae.length;(!z||z<0)&&(z=0),(!X||X<0||X>Ce)&&(X=Ce);let He="";for(let rt=z;rt<X;++rt)He+=Ne[ae[rt]];return He}function tt(ae,z,X){const Ce=ae.slice(z,X);let He="";for(let rt=0;rt<Ce.length-1;rt+=2)He+=String.fromCharCode(Ce[rt]+Ce[rt+1]*256);return He}h.prototype.slice=function(z,X){const Ce=this.length;z=~~z,X=X===void 0?Ce:~~X,z<0?(z+=Ce,z<0&&(z=0)):z>Ce&&(z=Ce),X<0?(X+=Ce,X<0&&(X=0)):X>Ce&&(X=Ce),X<z&&(X=z);const He=this.subarray(z,X);return Object.setPrototypeOf(He,h.prototype),He};function lt(ae,z,X){if(ae%1!==0||ae<0)throw new RangeError("offset is not uint");if(ae+z>X)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(z,X,Ce){z=z>>>0,X=X>>>0,Ce||lt(z,X,this.length);let He=this[z],rt=1,Ue=0;for(;++Ue<X&&(rt*=256);)He+=this[z+Ue]*rt;return He},h.prototype.readUintBE=h.prototype.readUIntBE=function(z,X,Ce){z=z>>>0,X=X>>>0,Ce||lt(z,X,this.length);let He=this[z+--X],rt=1;for(;X>0&&(rt*=256);)He+=this[z+--X]*rt;return He},h.prototype.readUint8=h.prototype.readUInt8=function(z,X){return z=z>>>0,X||lt(z,1,this.length),this[z]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(z,X){return z=z>>>0,X||lt(z,2,this.length),this[z]|this[z+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(z,X){return z=z>>>0,X||lt(z,2,this.length),this[z]<<8|this[z+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(z,X){return z=z>>>0,X||lt(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(z,X){return z=z>>>0,X||lt(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},h.prototype.readBigUInt64LE=nt(function(z){z=z>>>0,Nt(z,"offset");const X=this[z],Ce=this[z+7];(X===void 0||Ce===void 0)&&Jt(z,this.length-8);const He=X+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24,rt=this[++z]+this[++z]*2**8+this[++z]*2**16+Ce*2**24;return BigInt(He)+(BigInt(rt)<<BigInt(32))}),h.prototype.readBigUInt64BE=nt(function(z){z=z>>>0,Nt(z,"offset");const X=this[z],Ce=this[z+7];(X===void 0||Ce===void 0)&&Jt(z,this.length-8);const He=X*2**24+this[++z]*2**16+this[++z]*2**8+this[++z],rt=this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+Ce;return(BigInt(He)<<BigInt(32))+BigInt(rt)}),h.prototype.readIntLE=function(z,X,Ce){z=z>>>0,X=X>>>0,Ce||lt(z,X,this.length);let He=this[z],rt=1,Ue=0;for(;++Ue<X&&(rt*=256);)He+=this[z+Ue]*rt;return rt*=128,He>=rt&&(He-=Math.pow(2,8*X)),He},h.prototype.readIntBE=function(z,X,Ce){z=z>>>0,X=X>>>0,Ce||lt(z,X,this.length);let He=X,rt=1,Ue=this[z+--He];for(;He>0&&(rt*=256);)Ue+=this[z+--He]*rt;return rt*=128,Ue>=rt&&(Ue-=Math.pow(2,8*X)),Ue},h.prototype.readInt8=function(z,X){return z=z>>>0,X||lt(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},h.prototype.readInt16LE=function(z,X){z=z>>>0,X||lt(z,2,this.length);const Ce=this[z]|this[z+1]<<8;return Ce&32768?Ce|4294901760:Ce},h.prototype.readInt16BE=function(z,X){z=z>>>0,X||lt(z,2,this.length);const Ce=this[z+1]|this[z]<<8;return Ce&32768?Ce|4294901760:Ce},h.prototype.readInt32LE=function(z,X){return z=z>>>0,X||lt(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},h.prototype.readInt32BE=function(z,X){return z=z>>>0,X||lt(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},h.prototype.readBigInt64LE=nt(function(z){z=z>>>0,Nt(z,"offset");const X=this[z],Ce=this[z+7];(X===void 0||Ce===void 0)&&Jt(z,this.length-8);const He=this[z+4]+this[z+5]*2**8+this[z+6]*2**16+(Ce<<24);return(BigInt(He)<<BigInt(32))+BigInt(X+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24)}),h.prototype.readBigInt64BE=nt(function(z){z=z>>>0,Nt(z,"offset");const X=this[z],Ce=this[z+7];(X===void 0||Ce===void 0)&&Jt(z,this.length-8);const He=(X<<24)+this[++z]*2**16+this[++z]*2**8+this[++z];return(BigInt(He)<<BigInt(32))+BigInt(this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+Ce)}),h.prototype.readFloatLE=function(z,X){return z=z>>>0,X||lt(z,4,this.length),n.read(this,z,!0,23,4)},h.prototype.readFloatBE=function(z,X){return z=z>>>0,X||lt(z,4,this.length),n.read(this,z,!1,23,4)},h.prototype.readDoubleLE=function(z,X){return z=z>>>0,X||lt(z,8,this.length),n.read(this,z,!0,52,8)},h.prototype.readDoubleBE=function(z,X){return z=z>>>0,X||lt(z,8,this.length),n.read(this,z,!1,52,8)};function Qe(ae,z,X,Ce,He,rt){if(!h.isBuffer(ae))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>He||z<rt)throw new RangeError('"value" argument is out of bounds');if(X+Ce>ae.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(z,X,Ce,He){if(z=+z,X=X>>>0,Ce=Ce>>>0,!He){const St=Math.pow(2,8*Ce)-1;Qe(this,z,X,Ce,St,0)}let rt=1,Ue=0;for(this[X]=z&255;++Ue<Ce&&(rt*=256);)this[X+Ue]=z/rt&255;return X+Ce},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(z,X,Ce,He){if(z=+z,X=X>>>0,Ce=Ce>>>0,!He){const St=Math.pow(2,8*Ce)-1;Qe(this,z,X,Ce,St,0)}let rt=Ce-1,Ue=1;for(this[X+rt]=z&255;--rt>=0&&(Ue*=256);)this[X+rt]=z/Ue&255;return X+Ce},h.prototype.writeUint8=h.prototype.writeUInt8=function(z,X,Ce){return z=+z,X=X>>>0,Ce||Qe(this,z,X,1,255,0),this[X]=z&255,X+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(z,X,Ce){return z=+z,X=X>>>0,Ce||Qe(this,z,X,2,65535,0),this[X]=z&255,this[X+1]=z>>>8,X+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(z,X,Ce){return z=+z,X=X>>>0,Ce||Qe(this,z,X,2,65535,0),this[X]=z>>>8,this[X+1]=z&255,X+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(z,X,Ce){return z=+z,X=X>>>0,Ce||Qe(this,z,X,4,4294967295,0),this[X+3]=z>>>24,this[X+2]=z>>>16,this[X+1]=z>>>8,this[X]=z&255,X+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(z,X,Ce){return z=+z,X=X>>>0,Ce||Qe(this,z,X,4,4294967295,0),this[X]=z>>>24,this[X+1]=z>>>16,this[X+2]=z>>>8,this[X+3]=z&255,X+4};function mt(ae,z,X,Ce,He){Ht(z,Ce,He,ae,X,7);let rt=Number(z&BigInt(4294967295));ae[X++]=rt,rt=rt>>8,ae[X++]=rt,rt=rt>>8,ae[X++]=rt,rt=rt>>8,ae[X++]=rt;let Ue=Number(z>>BigInt(32)&BigInt(4294967295));return ae[X++]=Ue,Ue=Ue>>8,ae[X++]=Ue,Ue=Ue>>8,ae[X++]=Ue,Ue=Ue>>8,ae[X++]=Ue,X}function Ct(ae,z,X,Ce,He){Ht(z,Ce,He,ae,X,7);let rt=Number(z&BigInt(4294967295));ae[X+7]=rt,rt=rt>>8,ae[X+6]=rt,rt=rt>>8,ae[X+5]=rt,rt=rt>>8,ae[X+4]=rt;let Ue=Number(z>>BigInt(32)&BigInt(4294967295));return ae[X+3]=Ue,Ue=Ue>>8,ae[X+2]=Ue,Ue=Ue>>8,ae[X+1]=Ue,Ue=Ue>>8,ae[X]=Ue,X+8}h.prototype.writeBigUInt64LE=nt(function(z,X=0){return mt(this,z,X,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=nt(function(z,X=0){return Ct(this,z,X,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(z,X,Ce,He){if(z=+z,X=X>>>0,!He){const $e=Math.pow(2,8*Ce-1);Qe(this,z,X,Ce,$e-1,-$e)}let rt=0,Ue=1,St=0;for(this[X]=z&255;++rt<Ce&&(Ue*=256);)z<0&&St===0&&this[X+rt-1]!==0&&(St=1),this[X+rt]=(z/Ue>>0)-St&255;return X+Ce},h.prototype.writeIntBE=function(z,X,Ce,He){if(z=+z,X=X>>>0,!He){const $e=Math.pow(2,8*Ce-1);Qe(this,z,X,Ce,$e-1,-$e)}let rt=Ce-1,Ue=1,St=0;for(this[X+rt]=z&255;--rt>=0&&(Ue*=256);)z<0&&St===0&&this[X+rt+1]!==0&&(St=1),this[X+rt]=(z/Ue>>0)-St&255;return X+Ce},h.prototype.writeInt8=function(z,X,Ce){return z=+z,X=X>>>0,Ce||Qe(this,z,X,1,127,-128),z<0&&(z=255+z+1),this[X]=z&255,X+1},h.prototype.writeInt16LE=function(z,X,Ce){return z=+z,X=X>>>0,Ce||Qe(this,z,X,2,32767,-32768),this[X]=z&255,this[X+1]=z>>>8,X+2},h.prototype.writeInt16BE=function(z,X,Ce){return z=+z,X=X>>>0,Ce||Qe(this,z,X,2,32767,-32768),this[X]=z>>>8,this[X+1]=z&255,X+2},h.prototype.writeInt32LE=function(z,X,Ce){return z=+z,X=X>>>0,Ce||Qe(this,z,X,4,2147483647,-2147483648),this[X]=z&255,this[X+1]=z>>>8,this[X+2]=z>>>16,this[X+3]=z>>>24,X+4},h.prototype.writeInt32BE=function(z,X,Ce){return z=+z,X=X>>>0,Ce||Qe(this,z,X,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[X]=z>>>24,this[X+1]=z>>>16,this[X+2]=z>>>8,this[X+3]=z&255,X+4},h.prototype.writeBigInt64LE=nt(function(z,X=0){return mt(this,z,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=nt(function(z,X=0){return Ct(this,z,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ft(ae,z,X,Ce,He,rt){if(X+Ce>ae.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function Ze(ae,z,X,Ce,He){return z=+z,X=X>>>0,He||Ft(ae,z,X,4),n.write(ae,z,X,Ce,23,4),X+4}h.prototype.writeFloatLE=function(z,X,Ce){return Ze(this,z,X,!0,Ce)},h.prototype.writeFloatBE=function(z,X,Ce){return Ze(this,z,X,!1,Ce)};function Pt(ae,z,X,Ce,He){return z=+z,X=X>>>0,He||Ft(ae,z,X,8),n.write(ae,z,X,Ce,52,8),X+8}h.prototype.writeDoubleLE=function(z,X,Ce){return Pt(this,z,X,!0,Ce)},h.prototype.writeDoubleBE=function(z,X,Ce){return Pt(this,z,X,!1,Ce)},h.prototype.copy=function(z,X,Ce,He){if(!h.isBuffer(z))throw new TypeError("argument should be a Buffer");if(Ce||(Ce=0),!He&&He!==0&&(He=this.length),X>=z.length&&(X=z.length),X||(X=0),He>0&&He<Ce&&(He=Ce),He===Ce||z.length===0||this.length===0)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(Ce<0||Ce>=this.length)throw new RangeError("Index out of range");if(He<0)throw new RangeError("sourceEnd out of bounds");He>this.length&&(He=this.length),z.length-X<He-Ce&&(He=z.length-X+Ce);const rt=He-Ce;return this===z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(X,Ce,He):Uint8Array.prototype.set.call(z,this.subarray(Ce,He),X),rt},h.prototype.fill=function(z,X,Ce,He){if(typeof z=="string"){if(typeof X=="string"?(He=X,X=0,Ce=this.length):typeof Ce=="string"&&(He=Ce,Ce=this.length),He!==void 0&&typeof He!="string")throw new TypeError("encoding must be a string");if(typeof He=="string"&&!h.isEncoding(He))throw new TypeError("Unknown encoding: "+He);if(z.length===1){const Ue=z.charCodeAt(0);(He==="utf8"&&Ue<128||He==="latin1")&&(z=Ue)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(X<0||this.length<X||this.length<Ce)throw new RangeError("Out of range index");if(Ce<=X)return this;X=X>>>0,Ce=Ce===void 0?this.length:Ce>>>0,z||(z=0);let rt;if(typeof z=="number")for(rt=X;rt<Ce;++rt)this[rt]=z;else{const Ue=h.isBuffer(z)?z:h.from(z,He),St=Ue.length;if(St===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(rt=0;rt<Ce-X;++rt)this[rt+X]=Ue[rt%St]}return this};const Lt={};function at(ae,z,X){Lt[ae]=class extends X{constructor(){super(),Object.defineProperty(this,"message",{value:z.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ae}]`,this.stack,delete this.name}get code(){return ae}set code(He){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:He,writable:!0})}toString(){return`${this.name} [${ae}]: ${this.message}`}}}at("ERR_BUFFER_OUT_OF_BOUNDS",function(ae){return ae?`${ae} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),at("ERR_INVALID_ARG_TYPE",function(ae,z){return`The "${ae}" argument must be of type number. Received type ${typeof z}`},TypeError),at("ERR_OUT_OF_RANGE",function(ae,z,X){let Ce=`The value of "${ae}" is out of range.`,He=X;return Number.isInteger(X)&&Math.abs(X)>2**32?He=Et(String(X)):typeof X=="bigint"&&(He=String(X),(X>BigInt(2)**BigInt(32)||X<-(BigInt(2)**BigInt(32)))&&(He=Et(He)),He+="n"),Ce+=` It must be ${z}. Received ${He}`,Ce},RangeError);function Et(ae){let z="",X=ae.length;const Ce=ae[0]==="-"?1:0;for(;X>=Ce+4;X-=3)z=`_${ae.slice(X-3,X)}${z}`;return`${ae.slice(0,X)}${z}`}function Gt(ae,z,X){Nt(z,"offset"),(ae[z]===void 0||ae[z+X]===void 0)&&Jt(z,ae.length-(X+1))}function Ht(ae,z,X,Ce,He,rt){if(ae>X||ae<z){const Ue=typeof z=="bigint"?"n":"";let St;throw z===0||z===BigInt(0)?St=`>= 0${Ue} and < 2${Ue} ** ${(rt+1)*8}${Ue}`:St=`>= -(2${Ue} ** ${(rt+1)*8-1}${Ue}) and < 2 ** ${(rt+1)*8-1}${Ue}`,new Lt.ERR_OUT_OF_RANGE("value",St,ae)}Gt(Ce,He,rt)}function Nt(ae,z){if(typeof ae!="number")throw new Lt.ERR_INVALID_ARG_TYPE(z,"number",ae)}function Jt(ae,z,X){throw Math.floor(ae)!==ae?(Nt(ae,X),new Lt.ERR_OUT_OF_RANGE("offset","an integer",ae)):z<0?new Lt.ERR_BUFFER_OUT_OF_BOUNDS:new Lt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${z}`,ae)}const pn=/[^+/0-9A-Za-z-_]/g;function En(ae){if(ae=ae.split("=")[0],ae=ae.trim().replace(pn,""),ae.length<2)return"";for(;ae.length%4!==0;)ae=ae+"=";return ae}function bn(ae,z){z=z||1/0;let X;const Ce=ae.length;let He=null;const rt=[];for(let Ue=0;Ue<Ce;++Ue){if(X=ae.charCodeAt(Ue),X>55295&&X<57344){if(!He){if(X>56319){(z-=3)>-1&&rt.push(239,191,189);continue}else if(Ue+1===Ce){(z-=3)>-1&&rt.push(239,191,189);continue}He=X;continue}if(X<56320){(z-=3)>-1&&rt.push(239,191,189),He=X;continue}X=(He-55296<<10|X-56320)+65536}else He&&(z-=3)>-1&&rt.push(239,191,189);if(He=null,X<128){if((z-=1)<0)break;rt.push(X)}else if(X<2048){if((z-=2)<0)break;rt.push(X>>6|192,X&63|128)}else if(X<65536){if((z-=3)<0)break;rt.push(X>>12|224,X>>6&63|128,X&63|128)}else if(X<1114112){if((z-=4)<0)break;rt.push(X>>18|240,X>>12&63|128,X>>6&63|128,X&63|128)}else throw new Error("Invalid code point")}return rt}function lr(ae){const z=[];for(let X=0;X<ae.length;++X)z.push(ae.charCodeAt(X)&255);return z}function dr(ae,z){let X,Ce,He;const rt=[];for(let Ue=0;Ue<ae.length&&!((z-=2)<0);++Ue)X=ae.charCodeAt(Ue),Ce=X>>8,He=X%256,rt.push(He),rt.push(Ce);return rt}function jn(ae){return e.toByteArray(En(ae))}function tr(ae,z,X,Ce){let He;for(He=0;He<Ce&&!(He+X>=z.length||He>=ae.length);++He)z[He+X]=ae[He];return He}function bt(ae,z){return ae instanceof z||ae!=null&&ae.constructor!=null&&ae.constructor.name!=null&&ae.constructor.name===z.name}function ot(ae){return ae!==ae}const Ne=function(){const ae="0123456789abcdef",z=new Array(256);for(let X=0;X<16;++X){const Ce=X*16;for(let He=0;He<16;++He)z[Ce+He]=ae[X]+ae[He]}return z}();function nt(ae){return typeof BigInt>"u"?vt:ae}function vt(){throw new Error("BigInt not supported")}}(Nw)),Nw}var jw={},v1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a7;function ahe(){return a7||(a7=1,function(t,e){var n=qx(),i=n.Buffer;function s(f,h){for(var p in f)h[p]=f[p]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=l);function l(f,h,p){return i(f,h,p)}l.prototype=Object.create(i.prototype),s(i,l),l.from=function(f,h,p){if(typeof f=="number")throw new TypeError("Argument must not be a number");return i(f,h,p)},l.alloc=function(f,h,p){if(typeof f!="number")throw new TypeError("Argument must be a number");var m=i(f);return h!==void 0?typeof p=="string"?m.fill(h,p):m.fill(h):m.fill(0),m},l.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return i(f)},l.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(f)}}(v1,v1.exports)),v1.exports}var s7;function she(){if(s7)return jw;s7=1;var t=ahe().Buffer,e=t.isEncoding||function(D){switch(D=""+D,D&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(D){if(!D)return"utf8";for(var R;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(R)return;D=(""+D).toLowerCase(),R=!0}}function i(D){var R=n(D);if(typeof R!="string"&&(t.isEncoding===e||!e(D)))throw new Error("Unknown encoding: "+D);return R||D}jw.StringDecoder=s;function s(D){this.encoding=i(D);var R;switch(this.encoding){case"utf16le":this.text=b,this.end=S,R=4;break;case"utf8":this.fillLast=p,R=4;break;case"base64":this.text=w,this.end=C,R=3;break;default:this.write=M,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(R)}s.prototype.write=function(D){if(D.length===0)return"";var R,q;if(this.lastNeed){if(R=this.fillLast(D),R===void 0)return"";q=this.lastNeed,this.lastNeed=0}else q=0;return q<D.length?R?R+this.text(D,q):this.text(D,q):R||""},s.prototype.end=g,s.prototype.text=m,s.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length};function l(D){return D<=127?0:D>>5===6?2:D>>4===14?3:D>>3===30?4:D>>6===2?-1:-2}function f(D,R,q){var Y=R.length-1;if(Y<q)return 0;var K=l(R[Y]);return K>=0?(K>0&&(D.lastNeed=K-1),K):--Y<q||K===-2?0:(K=l(R[Y]),K>=0?(K>0&&(D.lastNeed=K-2),K):--Y<q||K===-2?0:(K=l(R[Y]),K>=0?(K>0&&(K===2?K=0:D.lastNeed=K-3),K):0))}function h(D,R,q){if((R[0]&192)!==128)return D.lastNeed=0,"";if(D.lastNeed>1&&R.length>1){if((R[1]&192)!==128)return D.lastNeed=1,"";if(D.lastNeed>2&&R.length>2&&(R[2]&192)!==128)return D.lastNeed=2,""}}function p(D){var R=this.lastTotal-this.lastNeed,q=h(this,D);if(q!==void 0)return q;if(this.lastNeed<=D.length)return D.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,R,0,D.length),this.lastNeed-=D.length}function m(D,R){var q=f(this,D,R);if(!this.lastNeed)return D.toString("utf8",R);this.lastTotal=q;var Y=D.length-(q-this.lastNeed);return D.copy(this.lastChar,0,Y),D.toString("utf8",R,Y)}function g(D){var R=D&&D.length?this.write(D):"";return this.lastNeed?R+"":R}function b(D,R){if((D.length-R)%2===0){var q=D.toString("utf16le",R);if(q){var Y=q.charCodeAt(q.length-1);if(Y>=55296&&Y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],q.slice(0,-1)}return q}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",R,D.length-1)}function S(D){var R=D&&D.length?this.write(D):"";if(this.lastNeed){var q=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,q)}return R}function w(D,R){var q=(D.length-R)%3;return q===0?D.toString("base64",R):(this.lastNeed=3-q,this.lastTotal=3,q===1?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",R,D.length-q))}function C(D){var R=D&&D.length?this.write(D):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function M(D){return D.toString(this.encoding)}function T(D){return D&&D.length?this.write(D):""}return jw}var m1={},u7;function uhe(){if(u7)return m1;u7=1;const t=function(Ne,nt,vt){const ae={type:String(Ne)};return vt==null&&(typeof nt=="string"||Array.isArray(nt))?vt=nt:Object.assign(ae,nt),Array.isArray(vt)?ae.children=vt:vt!=null&&(ae.value=String(vt)),ae},e=/["&'<>`]/g,n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,s=/[|\\{}()[\]^$+*?.]/g,l=new WeakMap;function f(Ne,nt){if(Ne=Ne.replace(nt.subset?h(nt.subset):e,ae),nt.subset||nt.escapeOnly)return Ne;return Ne.replace(n,vt).replace(i,ae);function vt(z,X,Ce){return nt.format((z.charCodeAt(0)-55296)*1024+z.charCodeAt(1)-56320+65536,Ce.charCodeAt(X+2),nt)}function ae(z,X,Ce){return nt.format(z.charCodeAt(0),Ce.charCodeAt(X+1),nt)}}function h(Ne){let nt=l.get(Ne);return nt||(nt=p(Ne),l.set(Ne,nt)),nt}function p(Ne){const nt=[];let vt=-1;for(;++vt<Ne.length;)nt.push(Ne[vt].replace(s,"\\$&"));return new RegExp("(?:"+nt.join("|")+")","g")}function m(Ne){return"&#x"+Ne.toString(16).toUpperCase()+";"}function g(Ne,nt){return f(Ne,Object.assign({format:m},nt))}const b=/[\u0000-\u0008\u000B\u000C\u000E-\u001F]/g;function S(Ne,nt,vt){const ae=w(Ne);return vt?ae.replace(vt,z):z(ae);function z(X){return g(X,{subset:nt})}}function w(Ne){return String(Ne||"").replace(b,"")}const C=["	",`
`," ",'"',"&","'","/","<","=",">"];function M(Ne){return S(Ne,C)}function T(Ne,nt){const vt=String(Ne);if(typeof nt!="string")throw new TypeError("Expected character");let ae=0,z=vt.indexOf(nt);for(;z!==-1;)ae++,z=vt.indexOf(nt,z+nt.length);return ae}function D(Ne,nt){const vt=String(Ne);let ae=nt.options.quote||'"';if(nt.options.quoteSmart){const z=ae==='"'?"'":'"';T(vt,ae)>T(vt,z)&&(ae=z)}return ae+S(vt,["<","&",ae])+ae}const R={}.hasOwnProperty;function q(Ne,nt){const vt=M(Ne.name),ae=ze(Ne,nt),z=Ne.attributes||{},X=ae?!1:nt.options.closeEmptyElements,Ce=[];let He;for(He in z)if(R.call(z,He)){const rt=z[He];rt!=null&&Ce.push(M(He)+"="+D(rt,nt))}return"<"+vt+(Ce.length===0?"":" "+Ce.join(" "))+(X?(nt.options.tightClose?"":" ")+"/":"")+">"+ae+(X?"":"</"+vt+">")}const Y=["&","<"];function K(Ne){return S(Ne.value,Y)}function ce(Ne){return"<!--"+S(Ne.value,["-"])+"-->"}function te(Ne,nt){const vt=M(Ne.name),ae=Ne.public,z=Ne.system;let X="<!DOCTYPE";return vt!==""&&(X+=" "+vt),ae?X+=" PUBLIC "+D(ae,nt):z&&(X+=" SYSTEM"),z&&(X+=" "+D(z,nt)),X+">"}const ee=/\?>/g,he=[">"];function be(Ne){const nt=M(Ne.name)||"x",vt=S(Ne.value,he,ee);return"<?"+nt+(vt?" "+vt:"")+"?>"}const Fe=/]]>/g,oe=[">"];function Se(Ne){return"<![CDATA["+S(Ne.value,oe,Fe)+"]]>"}function fe(Ne,nt){return nt.options.allowDangerousXml?Ne.value:K(Ne)}const Te={}.hasOwnProperty,Le={root:ze,element:q,text:K,comment:ce,doctype:te,instruction:be,cdata:Se,raw:fe};function Pe(Ne,nt){const vt=Ne&&Ne.type;if(!vt)throw new Error("Expected node, not `"+Ne+"`");if(!Te.call(Le,vt))throw new Error("Cannot compile unknown node `"+vt+"`");const ae=Le[vt];return ae(Ne,nt)}function ze(Ne,nt){const vt=Ne&&Ne.children||[];let ae=-1;const z=[];for(;++ae<vt.length;)z[ae]=Pe(vt[ae],nt);return z.join("")}function Je(Ne,nt){const vt={options:{}};if(typeof vt.options.quote=="string"&&vt.options.quote!=='"'&&vt.options.quote!=="'")throw new Error("Invalid quote `"+vt.options.quote+"`, expected `'` or `\"`");const ae=Array.isArray(Ne)?{type:"root",children:Ne}:Ne;return Pe(ae,vt)}const tt=function(Ne,nt,...vt){let ae=-1,z;if(Ne==null)z={type:"root",children:[]},vt.unshift(nt);else if(typeof Ne=="string")if(z={type:"element",name:Ne,attributes:{},children:[]},Qe(nt)){let X;for(X in nt)nt[X]!==void 0&&nt[X]!==null&&(typeof nt[X]!="number"||!Number.isNaN(nt[X]))&&(z.attributes[X]=String(nt[X]))}else vt.unshift(nt);else throw new TypeError("Expected element name, got `"+Ne+"`");for(;++ae<vt.length;)lt(z.children,vt[ae]);return z};function lt(Ne,nt){let vt=-1;if(nt!=null)if(typeof nt=="string"||typeof nt=="number")Ne.push({type:"text",value:String(nt)});else if(Array.isArray(nt))for(;++vt<nt.length;)lt(Ne,nt[vt]);else if(typeof nt=="object"&&"type"in nt)nt.type==="root"?lt(Ne,nt.children):Ne.push(nt);else throw new TypeError("Expected node, nodes, string, got `"+nt+"`")}function Qe(Ne){return!(Ne==null||typeof Ne!="object"||Array.isArray(Ne))}const mt=t("text",`
`),Ct=t("text","  ");function Ft(Ne){return Je(t("root",[tt("kml",{xmlns:"http://www.opengis.net/kml/2.2"},tt("Document",Ne.children.flatMap(nt=>Pt(nt))))]))}function Ze(Ne){return Je(t("root",[tt("kml",{xmlns:"http://www.opengis.net/kml/2.2"},tt("Document",Ne.features.flatMap(nt=>Gt(nt))))]))}function Pt(Ne){switch(Ne.type){case"Feature":return Gt(Ne);case"folder":return Lt(Ne)}}function Lt(Ne){const nt=["string","number"].includes(typeof Ne.meta.id)?{id:String(Ne.meta.id)}:{};return[mt,tt("Folder",nt,[mt,...Et(Ne.meta),mt,Ct,...Ne.children.flatMap(vt=>Pt(vt))])]}const at=["address","description","name","open","visibility","phoneNumber"];function Et(Ne){return at.filter(nt=>Ne[nt]!==void 0).map(nt=>tt(nt,[t("text",String(Ne[nt]))]))}function Gt(Ne){const{id:nt}=Ne,vt=["string","number"].includes(typeof nt)?{id:nt}:{};return[mt,tt("Placemark",vt,[mt,...bn(Ne.properties),mt,Ct,...Ne.geometry?[ot(Ne.geometry)]:[]])]}function Ht(Ne){return`${Ne[0]},${Ne[1]}`}function Nt(Ne){return tt("coordinates",[t("text",Ht(Ne))])}function Jt(Ne){return tt("coordinates",[t("text",Ne.map(Ht).join(`
`))])}function pn(Ne){switch(typeof Ne){case"string":return Ne;case"boolean":case"number":return String(Ne);case"object":try{return JSON.stringify(Ne)}catch{return""}}return""}function En(Ne){return Ne&&typeof Ne=="object"&&"@type"in Ne&&Ne["@type"]==="html"&&"value"in Ne&&typeof Ne.value=="string"?t("cdata",Ne.value):pn(Ne)}function bn(Ne){if(!Ne)return[];const{name:nt,description:vt,visibility:ae,...z}=Ne;return[nt&&tt("name",[t("text",pn(nt))]),vt&&tt("description",[t("text",En(vt))]),ae!==void 0&&tt("visibility",[t("text",ae?"1":"0")]),tt("ExtendedData",Object.entries(z).flatMap(([X,Ce])=>[mt,Ct,tt("Data",{name:X},[tt("value",[t("text",typeof Ce=="string"?Ce:JSON.stringify(Ce))])])]))].filter(Boolean)}const lr=Ne=>tt("LinearRing",[Jt(Ne)]);function dr(Ne){return tt("MultiGeometry",Ne.coordinates.flatMap(nt=>[mt,ot({type:"Point",coordinates:nt})]))}function jn(Ne){return tt("MultiGeometry",Ne.coordinates.flatMap(nt=>[mt,ot({type:"LineString",coordinates:nt})]))}function tr(Ne){return tt("MultiGeometry",Ne.coordinates.flatMap(nt=>[mt,ot({type:"Polygon",coordinates:nt})]))}function bt(Ne){const[nt,...vt]=Ne.coordinates;return tt("Polygon",[mt,tt("outerBoundaryIs",[mt,Ct,lr(nt)]),...vt.flatMap(ae=>[mt,tt("innerBoundaryIs",[mt,Ct,lr(ae)])])])}function ot(Ne){switch(Ne.type){case"Point":return tt("Point",[Nt(Ne.coordinates)]);case"MultiPoint":return dr(Ne);case"LineString":return tt("LineString",[Jt(Ne.coordinates)]);case"MultiLineString":return jn(Ne);case"Polygon":return bt(Ne);case"MultiPolygon":return tr(Ne);case"GeometryCollection":return tt("MultiGeometry",Ne.geometries.flatMap(nt=>[mt,ot(nt)]))}}return m1.foldersToKML=Ft,m1.toKML=Ze,m1}var l7;function lhe(){return l7||(l7=1,function(t){var e=Us,n=Us,i=qx(),s=she();function l(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var f=l(e),h=l(n),p=l(i),m=l(s),g=Object.freeze({__proto__:null,get default(){return g},get getUniqueName(){return Je},get isFunction(){return tt},get isPromise(){return lt},get isObject(){return Qe},get clamp(){return mt},get isArray(){return Ct},get isNumber(){return Ft},get isValidNumber(){return Ze},get isFiniteNumber(){return Pt},get isNonNegNumber(){return Lt},get isInteger(){return at},get isEven(){return Et},get isOdd(){return Gt},get isString(){return Ht},get isDate(){return Nt},get isBoolean(){return Jt},get formatDateISO(){return pn},get toArray(){return En},get isArrayLike(){return bn},get addslashes(){return lr},get regexEscape(){return dr},get htmlEscape(){return tr},get defaults(){return bt},get extend(){return ot},get inherit(){return Ne},get promisify(){return nt},get reduceAsync(){return vt},get merge(){return ae},get difference(){return z},get intersection(){return X},get indexOf(){return Ce},get contains(){return He},get some(){return rt},get every(){return Ue},get find(){return St},get range(){return $e},get repeat(){return Ve},get sum(){return Dt},get getArrayBounds(){return Rt},get uniq(){return yn},get pluck(){return Yt},get countValues(){return qr},get indexOn(){return pi},get groupBy(){return cr},get arrayToIndex(){return Ai},get forEach(){return Za},get forEachProperty(){return Un},get initializeArray(){return Gn},get replaceArray(){return fr},get repeatString(){return $r},get splitLines(){return qi},get pluralSuffix(){return Pn},get endsWith(){return nr},get lpad(){return Xn},get rpad(){return Vo},get trim(){return nh},get ltrim(){return rh},get rtrim(){return oh},get addThousandsSep(){return pu},get numToStr(){return Pl},get formatNumber(){return B0},get formatIntlNumber(){return ah},get formatNumberForDisplay(){return Ja},get shuffle(){return Rl},get sortOn(){return km},get genericSort(){return O0},get getSortedIds(){return yN},get sortArrayIndex(){return p8},get reorderArray(){return _N},get getKeyComparator(){return g8},get getGenericComparator(){return L0},get quicksort(){return bN},get quicksortPartition(){return Fm},get findRankByValue(){return wN},get findValueByPct(){return xN},get findValueByRank(){return z0},get findMedian(){return SN},get findQuantile(){return v8},get mean(){return CN},get format(){return m8},get formatter(){return y8},get wildcardToRegExp(){return AN},get createBuffer(){return _8},get toBuffer(){return kN},get expandoBuffer(){return FN},get copyElements(){return b8},get extendBuffer(){return IN},get mergeNames(){return MN},get findStringPrefix(){return w8},get parsePercent(){return DN},get formatVersionedName(){return x8},get uniqifyNames(){return TN},get parseString(){return PN},get parseNumber(){return RN},get parseIntlNumber(){return BN},get cleanNumericString(){return C8},get trimQuotes(){return LN}}),b={};function S(){this.a=1,this.c=0,this.tx=0,this.b=0,this.d=1,this.ty=0}S.prototype.transformXY=function(r,o,a){return a=a||{},a.x=r*this.a+o*this.c+this.tx,a.y=r*this.b+o*this.d+this.ty,a},S.prototype.translate=function(r,o){this.tx+=r,this.ty+=o},S.prototype.rotate=function(r,o,a){var u=Math.cos(r),c=Math.sin(r);o=o||0,a=a||0,this.a=u,this.c=-c,this.b=c,this.d=u,this.tx+=o-o*u+a*c,this.ty+=a-o*c-a*u},S.prototype.scale=function(r,o,a,u){a=a||0,u=u||0,this.a*=r,this.c*=r,this.b*=o,this.d*=o,this.tx-=a*(r-1),this.ty-=u*(o-1)};var w=typeof Buffer<"u"?Buffer:qx().Buffer,C={};function M(r,o){r in C&&te("Tried to replace a stashed variable:",r),C[r]=o}function T(r){if(r in C)return C[r]}function D(){C={}}var R=Object.freeze({__proto__:null,stashVar:M,getStashedVar:T,clearStash:D}),q,Y,K;ce();function ce(){function r(){throw new fe(Le(arguments))}function o(){var u=g.toArray(arguments).join(" ");throw new Error(u)}function a(){}be(a,o,r)}function te(){q.apply(null,g.toArray(arguments))}function ee(){Y.apply(null,Pe(arguments))}function he(){K.apply(null,Pe(arguments))}function be(r,o,a,u){K=r,q=o,Y=a}function Fe(){K(g.toArray(arguments))}function oe(){T("VERBOSE")&&he.apply(null,arguments)}function Se(){T("DEBUG")}function fe(r){var o=new Error(r);return o.name="UserError",o}function Te(r,o){var a=r.reduce(function(d,v){return Math.max(d,v.length)},0),u=a+2,c=Math.floor((o||80)/u)||1;return r.reduce(function(d,v,_){var x=_%c;return _>0&&x===0&&(d+=`
`),x<c-1&&(v=g.rpad(v,u-2," ")),d+"  "+v},"")}function Le(r){return g.toArray(r).join(" ")}function Pe(r){var o=g.toArray(r),a=T("current_command");return a&&a!="help"&&o.unshift("["+a+"]"),o}var ze=0;function Je(r){return(r||"__id_")+ ++ze}function tt(r){return typeof r=="function"}function lt(r){return r?tt(r.then):!1}function Qe(r){return r===Object(r)}function mt(r,o,a){return r<o?o:r>a?a:r}function Ct(r){return Array.isArray(r)}function Ft(r){return r!=null&&r.constructor==Number}function Ze(r){return Ft(r)&&!isNaN(r)}function Pt(r){return Ze(r)&&r!==1/0&&r!==-1/0}function Lt(r){return Ft(r)&&r>=0}function at(r){return Ft(r)&&(r|0)===r}function Et(r){return r%2===0}function Gt(r){return r%2===1}function Ht(r){return r!=null&&r.toString===String.prototype.toString}function Nt(r){return!!r&&r.getTime===Date.prototype.getTime}function Jt(r){return r===!0||r===!1}function pn(r){return Nt(r)?r.toISOString().replace(":00.000Z","Z"):""}function En(r){var o;bn(r)||te("toArray() requires an array-like object");try{o=Array.prototype.slice.call(r,0)}catch{o=[];for(var a=0,u=r.length;a<u;a++)o[a]=r[a]}return o}function bn(r){return r?Ct(r)?!0:Ht(r)?!1:r.length===0||r.length>0:!1}function lr(r){return(r+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")}function dr(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var jn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function tr(r){return String(r).replace(/[&<>"'/]/g,function(o){return jn[o]})}function bt(r){for(var o=1,a=arguments.length;o<a;o++){var u=arguments[o]||{};for(var c in u)!(c in r)&&u.hasOwnProperty(c)&&(r[c]=u[c])}return r}function ot(r){var o=r||{},a=arguments.length,u,c,d;for(c=1;c<a;c++){d=arguments[c]||{};for(u in d)d.hasOwnProperty(u)&&(o[u]=d[u])}return o}function Ne(r,o){var a=function(){this.__super__==a&&(this.__super__=o.prototype.__super__,o.apply(this,arguments),delete this.__super__)};a.prototype=o.prototype||o,r.prototype=ot(new a,r.prototype),r.prototype.constructor=r,r.prototype.__super__=a}function nt(r){return function(){var o=En(arguments);return new Promise((a,u)=>{var c=function(d,v){d?u(d):a(v)};o.push(c),r.apply(this,o)})}}function vt(r,o,a,u){var c=typeof setImmediate>"u"?setTimeout:setImmediate,d=0;v(null,o);function v(_,x){if(_)return u(_,null);c(function(){d<r.length?a(x,r[d++],v):u(null,x)},0)}}function ae(r,o){(!Ct(r)||!Ct(o))&&te("Usage: merge(destArray, srcArray);");for(var a=0,u=o.length;a<u;a++)r.push(o[a]);return r}function z(r,o){var a=Ai(o);return r.filter(function(u){return!Object.prototype.hasOwnProperty.call(a,u)})}function X(r,o){return r.filter(function(a){return o.includes(a)})}function Ce(r,o){for(var a=o!==o,u=0,c=r.length||0;u<c;u++)if(r[u]===o||a&&r[u]!==r[u])return u;return-1}function He(r,o){if(Ht(r))return r.indexOf(o)!=-1;if(bn(r))return Ce(r,o)!=-1;te("Expected Array or String argument")}function rt(r,o){return r.reduce(function(a,u){return a||o(u)},!1)}function Ue(r,o){return r.reduce(function(a,u){return a&&o(u)},!0)}function St(r,o,a){var u=r.filter(o,a);return u.length===0?null:u[0]}function $e(r,o,a){for(var u=[],c=o===void 0?0:o,d=a===void 0?1:a;r--;)u.push(c),c+=d;return u}function Ve(r,o){for(var a=[],u,c=0;c<r;c++)u=o(c),u!==void 0&&(a[c]=u);return a.length>0?a:void 0}function Dt(r,o){bn(r)||te("sum() expects an array, received:",r);for(var a=0,u=0,c,d=0,v=r.length;d<v;d++)c=r[d],c?a+=c:isNaN(c)&&u++;return o&&(o.nan=u),a}function Rt(r){for(var o=1/0,a=-1/0,u=0,c,d=0,v=r.length;d<v;d++)c=r[d],c!==c&&u++,c<o&&(o=c),c>a&&(a=c);return{min:o,max:a,nan:u}}function yn(r){for(var o=new Set,a=[],u,c=0,d=r.length;c<d;c++)u=r[c],o.has(u)||(a.push(u),o.add(u));return a}function Yt(r,o){return r.map(function(a){return a[o]})}function qr(r){return r.reduce(function(o,a){return o[a]=a in o?o[a]+1:1,o},{})}function pi(r,o){return r.reduce(function(a,u){return a[u[o]]=u,a},{})}function cr(r,o){return r.reduce(function(a,u){var c=u[o];return c in a?a[c].push(u):a[c]=[u],a},{})}function Ai(r,o){var a=arguments.length>1;return r.reduce(function(u,c){return u[c]=a?o:!0,u},{})}function Za(r,o,a){if(!bn(r))throw new Error("#forEach() takes an array-like argument. "+r);for(var u=0,c=r.length;u<c;u++)o.call(a,r[u],u)}function Un(r,o,a){Object.keys(r).forEach(function(u){o.call(a,r[u],u)})}function Gn(r,o){for(var a=0,u=r.length;a<u;a++)r[a]=o;return r}function fr(r,o){r.splice(0,r.length);for(var a=0,u=o.length;a<u;a++)r.push(o[a])}function $r(r,o){for(var a="",u=0;u<o;u++)a+=r;return a}function qi(r){return r.split(/\r?\n/)}function Pn(r){return r!=1?"s":""}function nr(r,o){return r.indexOf(o,r.length-o.length)!==-1}function Xn(r,o,a){return a=a||" ",r=String(r),$r(a,o-r.length)+r}function Vo(r,o,a){return a=a||" ",r=String(r),r+$r(a,o-r.length)}function nh(r){return rh(oh(r))}var R0=/^\s+/;function rh(r){return r.replace(R0,"")}var ih=/\s+$/;function oh(r){return r.replace(ih,"")}function pu(r){for(var o="",a=r[0]=="-"?1:0,u=r.indexOf("."),c=r.length,d=(u==-1?c:u)-3;d>a;)o=","+r.substring(d,c)+o,c=d,d-=3;return r.substring(0,c)+o}function Pl(r,o){return o>=0?r.toFixed(o):String(r)}function B0(r){return r+""}function ah(r){var o=B0(r);return'"'+o.replace(".",",")+'"'}function Ja(r,o,a,u){var c;return isNaN(r)?c=a||"-":(c=Pl(r,o),c=pu(c),u&&parseFloat(c)>0&&(c="+"+c)),c}function Rl(r){var o,a,u;for(a=r.length-1;a>0;a--)u=Math.floor(Math.random()*(a+1)),o=r[a],r[a]=r[u],r[u]=o}function km(r){for(var o=[],a=1;a<arguments.length;a+=2)o.push(g8(arguments[a],arguments[a+1]));return r.sort(function(u,c){for(var d=0,v=0,_=o.length;v<_&&d===0;)d=o[v](u,c),v++;return d}),r}function O0(r,o){var a=L0(o);return Array.prototype.sort.call(r,a),r}function yN(r,o){var a=$e(r.length);return p8(a,r,o),a}function p8(r,o,a){var u=L0(a);r.sort(function(c,d){var v=u(o[c],o[d]);return v>0||v===0&&c>d?1:-1})}function _N(r,o){for(var a=o.length,u=[],c=0;c<a;c++){var d=o[c];(d<0||d>=a)&&te("Out-of-bounds array idx"),u[c]=r[d]}fr(r,u)}function g8(r,o){var a=L0(o);return function(u,c){return a(u[r],c[r])}}function L0(r){return r=r!==!1&&r!="descending",function(o,a){var u=0;return a==null?u=o==null?0:-1:o==null?u=1:o<a?u=r?-1:1:o>a?u=r?1:-1:o!==o?u=1:a!==a&&(u=-1),u}}function bN(r,o){return Fm(r,0,r.length-1),o===!1&&Array.prototype.reverse.call(r),r}function Fm(r,o,a){for(var u=o,c=a,d,v;u<a;){for(d=r[o+a>>1];u<=c;){for(;r[u]<d;)u++;for(;r[c]>d;)c--;u<=c&&(v=r[u],r[u]=r[c],r[c]=v,u++,c--)}o<c&&Fm(r,o,c),o=u,c=a}}function wN(r,o){if(isNaN(o))return r.length;for(var a=1,u=0,c=r.length;u<c;u++)o>r[u]&&a++;return a}function xN(r,o){var a=Math.ceil((1-o)*r.length);return z0(r,a)}function z0(r,o){(!r.length||o<1||o>r.length)&&te("[findValueByRank()] invalid input"),o=mt(o|0,1,r.length);for(var a=o-1,u=r.length,c=0,d=u-1,v,_,x,E;c<d;){x=r[a],v=c,_=d;do{for(;r[v]<x;)v++;for(;x<r[_];)_--;v<=_&&(E=r[v],r[v]=r[_],r[_]=E,v++,_--)}while(v<=_);_<a&&(c=v),a<v&&(d=_)}return r[a]}function SN(r){return v8(r,.5)}function v8(r,o){var a=r.length,u=Math.floor((a-1)*o),c=Math.ceil((a-1)*o);if(u<0||c>=a)return NaN;var d=z0(r,u+1);if(u==c)return d;var v=z0(r,c+1),_=c/(a-1)-o,x=o-u/(a-1),E=(d*_+v*x)*(a-1);return E}function CN(r){for(var o=0,a=NaN,u,c=0,d=r.length;c<d;c++)u=r[c],!isNaN(u)&&(a=++o==1?u:u/o+(o-1)/o*a);return a}function m8(r){var o=y8(r),a=o.apply(null,Array.prototype.slice.call(arguments,1));return a}function EN(r,o){var a=o[1],u=o[2],c=o[3]?parseInt(o[3].substr(1)):void 0,d=o[4],v=d=="s",_=d=="x"||d=="X",x=!v,E="",k=0,F=!1,B=!1,V,G,H;if(v?V=String(r):_?(V=r.toString(16),d=="X"&&(V=V.toUpperCase())):x&&(V=Pl(r,c),V[0]=="-"&&(B=!0,V=V.substr(1)),F=parseFloat(V)==0,(a.indexOf("'")!=-1||a.indexOf(",")!=-1)&&(V=pu(V)),F||(B?E="":a.indexOf("+")!=-1&&(E="+"))),u){var J=V.length+E.length,ue=parseInt(u,10);J<ue&&(k=ue-J,G=a.indexOf("0")==-1?" ":"0",H=$r(G,k))}return k==0?V=E+V:G=="0"?V=E+H+V:V=H+E+V,V}function y8(r){for(var o=/%([',+0]*)([1-9]?)((?:\.[1-9])?)([sdifxX%])/g,a=[],u=[],c=0,d="",v=o.exec(r),_;v;)_=r.substring(c,o.lastIndex-v[0].length),v[0]=="%%"?d+=_+"%":(a.push(d+_),d="",u.push(v)),c=o.lastIndex,v=o.exec(r);return a.push(d+r.substr(c)),function(){var x=a[0],E=arguments.length;E!=u.length&&te("[format()] Data does not match format string; format:",r,"data:",arguments);for(var k=0;k<E;k++)x+=EN(arguments[k],u[k])+a[k+1];return x}}function AN(r){var o=r.split("*").map(function(a){return dr(a)}).join(".*");return new RegExp("^"+o+"$")}function _8(r,o){return at(r)?w.allocUnsafe?w.allocUnsafe(r):new w(r):w.from&&w.allocUnsafe?w.from(r,o):new w(r,o)}function kN(r){if(r instanceof w)return r;if(r instanceof ArrayBuffer)return w.from(r);if(r instanceof Uint8Array)return w.from(r.buffer,r.byteOffset,r.byteLength);te("Unexpected argument type")}function FN(r,o){var a=0,u=o>=1?o:1.2,c;return function(d){return d>a&&(a=Math.ceil(d*u),c=r?new r(a):_8(a)),c}}function b8(r,o,a,u,c,d){var v=r==a||r.buffer&&r.buffer==a.buffer,_=1,x=0,E;if(d&&(v&&te("copy error"),_=-1,x=c-1),v&&u>o)for(E=c-1;E>=0;E--)a[u+E]=r[o+E];else for(E=0;E<c;E++,x+=_)a[E+u]=r[o+x]}function IN(r,o,a){var u=Math.max(r.length,o),c=a||r.length,d=new r.constructor(u);return b8(r,0,d,0,c),d}function MN(r,o){var a;return r&&o&&(a=w8(r,o).replace(/[-_]$/,"")),a||""}function w8(r,o){for(var a=0,u=r.length;a<u&&r[a]===o[a];a++);return r.substr(0,a)}function DN(r){var o=String(r),a=o.indexOf("%")>0,u;return a?u=Number(o.replace("%",""))/100:u=Number(o),u>=0&&u<=1||ee(m8("Invalid percentage: %s",o)),u}function x8(r,o){var a=String(o);return/[0-9]$/.test(r)&&(a="-"+a),r+a}function TN(r,o){var a=qr(r),u=o||x8,c=[];return r.forEach(function(d){for(var v=0,_=d,x;c.indexOf(_)>-1||_==d&&a[_]>1||_!=d&&a[_]>0;){if(v++,x=u(d,v),!x||x==_)throw new Error("Naming error");_=x}c.push(_)}),c}function PN(r){return r||""}function RN(r){return S8(r,C8)}function BN(r){return S8(r,ON)}function S8(r,o){var a=String(r).trim(),u=a?Number(o(a)):NaN;return isNaN(u)?null:u}function C8(r){return r.indexOf(",")>0?r.replace(/,([0-9]{3})/g,"$1"):r}function ON(r){return r=r.replace(/[ .]([0-9]{3})/g,"$1"),r.replace(",",".")}function LN(r){var o=r.length,a,u;return o>=2&&(a=r.charAt(0),u=r.charAt(o-1),(a=='"'&&u=='"'&&!r.includes('","')||a=="'"&&u=="'"&&!r.includes("','"))&&(r=r.substr(1,o-2),r=r.replace(a=='"'?/\\(?=")/g:/\\(?=')/g,""))),r}function gu(){this.mx=this.my=1,this.bx=this.by=0}gu.prototype.isNull=function(){return!this.mx||!this.my||isNaN(this.bx)||isNaN(this.by)},gu.prototype.invert=function(){var r=new gu;return r.mx=1/this.mx,r.my=1/this.my,r.bx=-this.bx/this.mx,r.by=-this.by/this.my,r},gu.prototype.transform=function(r,o,a){return a=a||[],a[0]=r*this.mx+this.bx,a[1]=o*this.my+this.by,a},gu.prototype.toString=function(){return JSON.stringify(Object.assign({},this))};function Bt(){arguments.length>0&&this.setBounds.apply(this,arguments)}Bt.from=function(){var r=new Bt;return r.setBounds.apply(r,arguments)},Bt.prototype.toString=function(){return JSON.stringify({xmin:this.xmin,xmax:this.xmax,ymin:this.ymin,ymax:this.ymax})},Bt.prototype.toArray=function(){return this.hasBounds()?[this.xmin,this.ymin,this.xmax,this.ymax]:[]},Bt.prototype.hasBounds=function(){return this.xmin<=this.xmax&&this.ymin<=this.ymax},Bt.prototype.sameBounds=Bt.prototype.equals=function(r){return r&&this.xmin===r.xmin&&this.xmax===r.xmax&&this.ymin===r.ymin&&this.ymax===r.ymax},Bt.prototype.width=function(){return this.xmax-this.xmin||0},Bt.prototype.height=function(){return this.ymax-this.ymin||0},Bt.prototype.area=function(){return this.width()*this.height()||0},Bt.prototype.empty=function(){return this.xmin=this.ymin=this.xmax=this.ymax=void 0,this},Bt.prototype.setBounds=function(r,o,a,u){return arguments.length==1&&(g.isArrayLike(r)?(o=r[1],a=r[2],u=r[3],r=r[0]):(o=r.ymin,a=r.xmax,u=r.ymax,r=r.xmin)),this.xmin=r,this.ymin=o,this.xmax=a,this.ymax=u,(r>a||o>u)&&this.update(),this},Bt.prototype.centerX=function(){var r=(this.xmin+this.xmax)*.5;return r},Bt.prototype.centerY=function(){var r=(this.ymax+this.ymin)*.5;return r},Bt.prototype.containsPoint=function(r,o){return r>=this.xmin&&r<=this.xmax&&o<=this.ymax&&o>=this.ymin},Bt.prototype.containsBufferedPoint=Bt.prototype.containsCircle=function(r,o,a){return r+a>this.xmin&&r-a<this.xmax&&o-a<this.ymax&&o+a>this.ymin},Bt.prototype.intersects=function(r){return r.xmin<=this.xmax&&r.xmax>=this.xmin&&r.ymax>=this.ymin&&r.ymin<=this.ymax},Bt.prototype.contains=function(r){return r.xmin>=this.xmin&&r.ymax<=this.ymax&&r.xmax<=this.xmax&&r.ymin>=this.ymin},Bt.prototype.shift=function(r,o){this.setBounds(this.xmin+r,this.ymin+o,this.xmax+r,this.ymax+o)},Bt.prototype.padBounds=function(r,o,a,u){this.xmin-=r,this.ymin-=o,this.xmax+=a,this.ymax+=u},Bt.prototype.scale=function(r,o){var a=(this.xmax-this.xmin)*.5,u=(this.ymax-this.ymin)*.5,c=r-1,d=o===void 0?c:o-1;return this.xmin-=a*c,this.ymin-=u*d,this.xmax+=a*c,this.ymax+=u*d,this},Bt.prototype.cloneBounds=Bt.prototype.clone=function(){return new Bt(this.xmin,this.ymin,this.xmax,this.ymax)},Bt.prototype.clearBounds=function(){this.setBounds(new Bt)},Bt.prototype.mergePoint=function(r,o){this.xmin===void 0?this.setBounds(r,o,r,o):(r<this.xmin?this.xmin=r:r>this.xmax&&(this.xmax=r),o<this.ymin?this.ymin=o:o>this.ymax&&(this.ymax=o))},Bt.prototype.fillOut=function(r,o,a){arguments.length<3&&(o=.5,a=.5);var u=this.width(),c=this.height(),d=u/c,v;return isNaN(r)||r<=0||(d<r?(v=c*r-u,this.xmin-=(1-o)*v,this.xmax+=o*v):(v=u/r-c,this.ymin-=(1-a)*v,this.ymax+=a*v)),this},Bt.prototype.update=function(){var r;this.xmin>this.xmax&&(r=this.xmin,this.xmin=this.xmax,this.xmax=r),this.ymin>this.ymax&&(r=this.ymin,this.ymin=this.ymax,this.ymax=r)},Bt.prototype.transform=function(r){return this.xmin=this.xmin*r.mx+r.bx,this.xmax=this.xmax*r.mx+r.bx,this.ymin=this.ymin*r.my+r.by,this.ymax=this.ymax*r.my+r.by,this.update(),this},Bt.prototype.getTransform=function(r,o){var a=new gu;return a.mx=r.width()/this.width()||1,a.bx=r.xmin-a.mx*this.xmin,o?(a.my=-r.height()/this.height()||1,a.by=r.ymax-a.my*this.ymin):(a.my=r.height()/this.height()||1,a.by=r.ymin-a.my*this.ymin),a},Bt.prototype.mergeCircle=function(r,o,a){a<0&&(a=-a),this.mergeBounds([r-a,o-a,r+a,o+a])},Bt.prototype.mergeBounds=function(r){var o,a,u,c;return r instanceof Bt?(o=r.xmin,a=r.ymin,u=r.xmax,c=r.ymax):arguments.length==4?(o=arguments[0],a=arguments[1],u=arguments[2],c=arguments[3]):r.length==4?(o=r[0],a=r[1],u=r[2],c=r[3]):te("Bounds#mergeBounds() invalid argument:",r),this.xmin===void 0?this.setBounds(o,a,u,c):(o<this.xmin&&(this.xmin=o),a<this.ymin&&(this.ymin=a),u>this.xmax&&(this.xmax=u),c>this.ymax&&(this.ymax=c)),this};var Im;typeof p1=="function"?Im=p1:Im=function(){};var gi=Im;function E8(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Mm={exports:{}},A8;function zN(){return A8||(A8=1,function(r,o){(function(){var a=Math.abs,u=Math.floor,c=Math.sin,d=Math.cos,v=Math.tan,_=Math.asin,x=Math.acos,E=Math.atan,k=Math.atan2,F=Math.sqrt,B=Math.pow,V=Math.exp,G=Math.log,H=Math.hypot,J=Math.sinh,ue=Math.cosh,se=Math.min,me=Math.max,N=1/0,Z=Math.PI,re=57.29577951308232,_e=.017453292519943295,Ie=6378137,qe=.0066943799901413165,De=Z/4,ve=Z/2,It=1.5*Z,kt=2*Z,ct=2/Z,Tt=0,$t=1,Vt=2,kn=3,Qr=4,yi=-45,Pr=-47,Ln=1e-10,fo=0,zn={last_errno:0,debug_level:fo,logger:null},Rr=["no arguments in initialization list","no options found in 'init' file","invalid init= string","projection not named","unknown projection id","effective eccentricity = 1","unknown unit conversion id","invalid boolean param argument","unknown elliptical parameter name","reciprocal flattening (1/f) = 0","|radius reference latitude| > 90","squared eccentricity < 0","major axis or radius = 0 or not given","latitude or longitude exceeded limits","invalid x or y","improperly formed DMS value","non-convergent inverse meridional dist","non-convergent inverse phi2","acos/asin: |arg| >1+1e-14","tolerance condition error","conic lat_1 = -lat_2","lat_1 >= 90","lat_1 = 0","lat_ts >= 90","no distance between control points","projection not selected to be rotated","W <= 0 or M <= 0","lsat not in 1-5 range","path not in range","h <= 0","k <= 0","lat_0 = 0 or 90 or alpha = 90","lat_1=lat_2 or lat_1=0 or lat_2=90","elliptical usage required","invalid UTM zone number","arg(s) out of range for Tcheby eval","failed to find projection to be rotated","failed to load datum shift file","both n & m must be spec'd and > 0","n <= 0, n > 1 or not specified","lat_1 or lat_2 not specified","|lat_1| == |lat_2|","lat_0 is pi/2 from mean lat","unparseable coordinate system definition","geocentric transformation missing z or ellps","unknown prime meridian conversion id","illegal axis orientation combination","point not within available datum shift grids","invalid sweep axis, choose x or y","invalid value for h","point outside of projection domain"];function Pu(){var y=zn.last_errno;y&&(y>0||!Ru(y))&&rn(y)}function Ru(y){return ps.indexOf(y)>-1}var ps=[-14,-15,-17,-18,-19,-20,-27,-48];function Ar(y){zn.last_errno=y}function Fn(){Ar(-20)}function In(){Ar(-20)}function yg(y){return Rr[~y]||"unknown error"}function Nn(y){rn(y)}function rn(y){Ar(y),ho()}function ho(y,A){throw A||(A={}),A.code||(A.code=zn.last_errno||0),y||(y=yg(A.code)),zn.last_errno=0,new RQ(y,A)}function RQ(y,A){var I=new Error(y);return I.name="ProjError",Object.keys(A).forEach(function(P){I[P]=A[P]}),I}function Q2(y){return eb(y)*_e}function eb(y){var A=/(-?[0-9.]+)d?([0-9.]*)'?([0-9.]*)"?([nsew]?)$/i.exec(y),I=NaN,P,O,$;return A&&(P=A[1]||"0",O=A[2]||"0",$=A[3]||"0",I=+P+ +O/60+ +$/3600,/[ws]/i.test(A[4])&&(I=-I)),isNaN(I)&&rn(-16),I}function vF(y){return tb(y)}function tb(y){return parseFloat(y)}function Xe(y,A){var I=A[0],P=A.substr(1),O=y[P],$=O!==void 0,U,j;return I=="t"?U=$:$?(j=O.param,O.used=!0,I=="i"?U=parseInt(j):I=="d"?U=vF(j):I=="r"?U=Q2(j):I=="s"?U=String(j):I=="b"&&(j=="T"||j=="t"||j===!0?U=!0:(j=="F"||j=="f"||Ar(-8),U=!1))):U={i:0,b:!1,d:0,r:0,s:""}[I],U===void 0&&ho("invalid request to pj_param, fatal"),U}function nb(y){for(var A=/\+([a-z][a-z0-9_]*(?:=[^\s]*)?)/gi,I={},P;P=A.exec(y);)Nh(I,P[1]);return I}function Nh(y,A){var I=A.split("="),P,O;I.length==1?(P=A,O=!0):(P=I[0],O=A.substr(I[0].length+1)),y[P]={used:!1,param:O}}var sc={};function ft(y,A,I,P){sc[A]={init:y,name:I,description:P}}function mF(y){return!y||y.is_latlong}function yF(y){var A=!1,I="";return"datum"in y.params?(A=!0,I+=ei(y,"datum")):"R"in y.params?I+=ei(y,"R"):"ellps"in y.params?I+=ei(y,"ellps"):"a"in y.params?(I+=ei(y,"a"),"b"in y.params?I+=ei(y,"b"):"es"in y.params?I+=ei(y,"es"):"f"in y.params?I+=ei(y,"f"):I+=" +es="+y.es):Nn(-13),A||(I+=ei(y,"towgs84"),I+=ei(y,"nadgrids")),I+=ei(y,"R_A"),I+=ei(y,"R_V"),I+=ei(y,"R_a"),I+=ei(y,"R_lat_a"),I+=ei(y,"R_lat_g"),I+=ei(y,"pm"),I}function _F(y){var A="datum,ellps,a,b,es,rf,f,towgs84,nadgrids,R,R_A,R_V,R_a,R_lat_a,R_lat_g,pm,init,no_defs".split(","),I="";return Object.keys(y.params).forEach(function(P){A.indexOf(P)==-1&&(I+=ei(y,P))}),I+=yF(y),I.trim()}function ei(y,A){var I="";return A in y.params&&(I=" +"+A,y.params[A].param!==!0&&(I+="="+Xe(y.params,"s"+A))),I}var _g=[["WGS84","towgs84=0,0,0","WGS84","WGS_1984"],["GGRS87","towgs84=-199.87,74.79,246.62","GRS80","Greek_Geodetic_Reference_System_1987"],["NAD83","towgs84=0,0,0","GRS80","North_American_Datum_1983"],["NAD27","nadgrids=@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat","clrk66","North_American_Datum_1927"],["potsdam","towgs84=598.1,73.7,418.2,0.202,0.045,-2.455,6.7","bessel","Potsdam Rauenberg 1950 DHDN"],["carthage","towgs84=-263.0,6.0,431.0","clrk80ign","Carthage 1934 Tunisia"],["hermannskogel","towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232","bessel","Hermannskogel"],["ire65","towgs84=482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15","mod_airy","Ireland 1965"],["nzgd49","towgs84=59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993","intl","New Zealand Geodetic Datum 1949"],["OSGB36","towgs84=446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894","airy","OSGB 1936"],[null,null,null,null]],BQ=[["greenwich","0dE"],["lisbon",`9d07'54.862"W`],["paris",`2d20'14.025"E`],["bogota",`74d04'51.3"W`],["madrid",`3d41'16.58"W`],["rome",`12d27'8.4"E`],["bern",`7d26'22.5"E`],["jakarta",`106d48'27.79"E`],["ferro","17d40'W"],["brussels",`4d22'4.71"E`],["stockholm",`18d3'29.8"E`],["athens",`23d42'58.815"E`],["oslo",`10d43'22.5"E`],[null,null]];function OQ(y){var A=BQ.reduce(function(I,P){return P[0]===y?P:I},null);return A?{id:A[0],definition:A[1]}:null}function bg(y){var A=_g.reduce(function(I,P){return P[0]===y?P:I},null);return A?{id:A[0],defn:A[1],ellipse_id:A[2],name:A[3]}:null}function LQ(y){var A=484813681109536e-20,I=y.datum_params=[0,0,0,0,0,0,0],P,O,$,U;y.datum_type=Tt,(P=Xe(y.params,"sdatum"))&&(O=bg(P),O||Nn(-9),O.ellipse_id&&Nh(y.params,"ellps="+O.ellipse_id),O.defn&&Nh(y.params,O.defn)),$=Xe(y.params,"snadgrids"),$&&$!="@null"&&ho("+nadgrids is not implemented"),Xe(y.params,"scatalog")&&ho("+catalog is not implemented"),(U=Xe(y.params,"stowgs84"))&&(U.split(",").forEach(function(j,L){I[L]=vF(j)||0}),I[3]!=0||I[4]!=0||I[5]!=0||I[6]!=0?(y.datum_type=Vt,I[3]*=A,I[4]*=A,I[5]*=A,I[6]=I[6]/1e6+1):y.datum_type=$t)}var wg=[["MERIT","a=6378137.0","rf=298.257","MERIT 1983"],["SGS85","a=6378136.0","rf=298.257","Soviet Geodetic System 85"],["GRS80","a=6378137.0","rf=298.257222101","GRS 1980(IUGG, 1980)"],["IAU76","a=6378140.0","rf=298.257","IAU 1976"],["airy","a=6377563.396","b=6356256.910","Airy 1830"],["APL4.9","a=6378137.0","rf=298.25","Appl. Physics. 1965"],["NWL9D","a=6378145.0","rf=298.25","Naval Weapons Lab., 1965"],["mod_airy","a=6377340.189","b=6356034.446","Modified Airy"],["andrae","a=6377104.43","rf=300.0","Andrae 1876 (Den., Iclnd.)"],["aust_SA","a=6378160.0","rf=298.25","Australian Natl & S. Amer. 1969"],["GRS67","a=6378160.0","rf=298.2471674270","GRS 67(IUGG 1967)"],["bessel","a=6377397.155","rf=299.1528128","Bessel 1841"],["bess_nam","a=6377483.865","rf=299.1528128","Bessel 1841 (Namibia)"],["clrk66","a=6378206.4","b=6356583.8","Clarke 1866"],["clrk80","a=6378249.145","rf=293.4663","Clarke 1880 mod."],["clrk80ign","a=6378249.2","rf=293.4660212936269","Clarke 1880 (IGN)."],["CPM","a=6375738.7","rf=334.29","Comm. des Poids et Mesures 1799"],["delmbr","a=6376428","rf=311.5","Delambre 1810 (Belgium)"],["engelis","a=6378136.05","rf=298.2566","Engelis 1985"],["evrst30","a=6377276.345","rf=300.8017","Everest 1830"],["evrst48","a=6377304.063","rf=300.8017","Everest 1948"],["evrst56","a=6377301.243","rf=300.8017","Everest 1956"],["evrst69","a=6377295.664","rf=300.8017","Everest 1969"],["evrstSS","a=6377298.556","rf=300.8017","Everest (Sabah & Sarawak)"],["fschr60","a=6378166","rf=298.3","Fischer (Mercury Datum) 1960"],["fschr60m","a=6378155","rf=298.3","Modified Fischer 1960"],["fschr68","a=6378150","rf=298.3","Fischer 1968"],["helmert","a=6378200","rf=298.3","Helmert 1906"],["hough","a=6378270.0","rf=297","Hough"],["intl","a=6378388.0","rf=297","International 1909 (Hayford)"],["krass","a=6378245.0","rf=298.3","Krasovsky 1940"],["kaula","a=6378163","rf=298.24","Kaula 1961"],["lerch","a=6378139","rf=298.257","Lerch 1979"],["mprts","a=6397300","rf=191","Maupertius 1738"],["new_intl","a=6378157.5","b=6356772.2","New International 1967"],["plessis","a=6376523","b=6355863","Plessis 1817 (France)"],["SEasia","a=6378155.0","b=6356773.3205","Southeast Asia"],["walbeck","a=6376896.0","b=6355834.8467","Walbeck"],["WGS60","a=6378165.0","rf=298.3","WGS 60"],["WGS66","a=6378145.0","rf=298.25","WGS 66"],["WGS72","a=6378135.0","rf=298.26","WGS 72"],["WGS84","a=6378137.0","rf=298.257223563","WGS 84"],["sphere","a=6370997.0","b=6370997.0","Normal Sphere (r=6370997)"],[null,null,null,null]];function bF(y){var A=wg.reduce(function(I,P){return P[0]===y?P:I},null);return A?{id:A[0],major:A[1],ell:A[2],name:A[3]}:null}function zQ(y){var A=.16666666666666666,I=.04722222222222222,P=.022156084656084655,O=.06944444444444445,$=.04243827160493827,U=y.params,j=0,L=0,W,ne,ie,Q,le;Xe(U,"tR")?j=Xe(U,"dR"):((W=Xe(U,"sellps"))&&(ne=bF(W),ne||Nn(-9),Nh(U,ne.major),Nh(U,ne.ell)),j=Xe(U,"da"),Xe(U,"tes")?L=Xe(U,"des"):Xe(U,"te")?(ie=Xe(U,"de"),L=ie*ie):Xe(U,"trf")?(ie=Xe(U,"drf"),ie||Nn(-10),ie=1/ie,L=ie*(2-ie)):Xe(U,"tf")?(ie=Xe(U,"df"),L=ie*(2-ie)):Xe(U,"tb")&&(Q=Xe(U,"db"),L=1-Q*Q/(j*j)),Q||(Q=j*F(1-L)),Xe(U,"bR_A")?(j*=1-L*(A+L*(I+L*P)),L=0):Xe(U,"bR_V")?j*=1-L*(A+L*(O+L*$)):Xe(U,"bR_a")?(j=.5*(j+Q),L=0):Xe(U,"bR_g")?(j=F(j*Q),L=0):Xe(U,"bR_h")?(j+Q===0&&Nn(-20),j=2*j*Q/(j+Q),L=0):(le=Xe(U,"tR_lat_a")||Xe(U,"tR_lat_g"))&&(ie=c(Xe(U,le?"rR_lat_a":"rR_lat_g")),a(ie)>ve&&Nn(-11),ie=1-L*ie*ie,j*=le?.5*(1-L+ie)/(ie*F(ie)):F(1-L)/ie,L=0)),L<0&&Nn(-12),j<=0&&Nn(-13),y.es=L,y.a=j}var wF=[["km","1000","Kilometer"],["m","1","Meter"],["dm","1/10","Decimeter"],["cm","1/100","Centimeter"],["mm","1/1000","Millimeter"],["kmi","1852.0","International Nautical Mile"],["in","0.0254","International Inch"],["ft","0.3048","International Foot"],["yd","0.9144","International Yard"],["mi","1609.344","International Statute Mile"],["fath","1.8288","International Fathom"],["ch","20.1168","International Chain"],["link","0.201168","International Link"],["us-in","1/39.37","U.S. Surveyor's Inch"],["us-ft","0.304800609601219","U.S. Surveyor's Foot"],["us-yd","0.914401828803658","U.S. Surveyor's Yard"],["us-ch","20.11684023368047","U.S. Surveyor's Chain"],["us-mi","1609.347218694437","U.S. Surveyor's Statute Mile"],["ind-yd","0.91439523","Indian Yard"],["ind-ft","0.30479841","Indian Foot"],["ind-ch","20.11669506","Indian Chain"],[null,null,null]];function xF(y){var A=wF.reduce(function(I,P){return y===P[0]?P:I},null);return A?{id:A[0],to_meter:A[1],name:A[2]}:null}var SF={};function NQ(y){return SF[y.toLowerCase()]||null}function jQ(y,A){SF[y.toLowerCase()]=A}var rb={};function qQ(y,A){rb[y]=A}function CF(y){return rb[y]||null}function $Q(y){var A=f.default,I=h.default,P=I.join(I.dirname(__filename),"../nad"),O=I.join(P,y.toUpperCase()),$=I.join(P,y.toLowerCase()),U;return A.existsSync(O)?U=A.readFileSync(O,"utf8"):A.existsSync($)?U=A.readFileSync($,"utf8"):ho("unable to read from 'init' file named "+y),U}function ib(y){var A=y.split(":"),I=A[0],P=A[1],O;return(!P||!I)&&Nn(-3),I=I.toLowerCase(),O=CF(I),O||(O=$Q(I),rb[I]=O),O?UQ(O,P):null}function UQ(y,A){var I="",P="",O,$;return O=y.indexOf("<"+A+">"),O>-1&&($=y.lastIndexOf("#",O),$>-1&&(P=y.substring($+1,O).trim(),/\n/.test(P)&&(P="")),I=y.substr(O+A.length+2),I=I.substr(0,I.indexOf("<")),I=I.replace(/#.*/g,""),I=I.replace(/[\s]+/g," "),I=I.replace(/\+title=[^+]*[^ +]/g,function(U){return U.replace(/ /g,"	")}),I=" "+I,I=I.replace(/ (?=[a-z])/ig," +"),I=I.replace(/\t/g," ").trim()),I?{opts:I,comment:P}:null}function uc(y){var A=nb(y),I={params:A,is_latlong:!1,is_geocent:!1,is_long_wrap_set:!1,long_wrap_center:0,axis:"enu",gridlist:null,gridlist_count:0,vgridlist_geoid:null,vgridlist_geoid_count:0},P,O;return Object.keys(A).length||Nn(-1),Xe(A,"tinit")&&HQ(A,Xe(A,"sinit")),P=Xe(A,"sproj"),P||Nn(-4),O=sc[P],O||Nn(-5),Xe(A,"bno_defs")||GQ(I.params),LQ(I),zQ(I),I.a_orig=I.a,I.es_orig=I.es,I.e=F(I.es),I.ra=1/I.a,I.one_es=1-I.es,I.one_es||Nn(-6),I.rone_es=1/I.one_es,XQ(I)&&(I.datum_type=Qr),I.geoc=!!I.es&&Xe(A,"bgeoc"),I.over=Xe(A,"bover"),I.has_geoid_vgrids=Xe(A,"tgeoidgrids"),I.has_geoid_vgrids&&Xe(A,"sgeoidgrids"),I.is_long_wrap_set=Xe(A,"tlon_wrap"),I.is_long_wrap_set&&(I.long_wrap_center=Xe(A,"rlon_wrap"),a(I.long_wrap_center)<10*kt||Nn(-14)),Xe(A,"saxis")&&YQ(I),I.lam0=Xe(A,"rlon_0"),I.phi0=Xe(A,"rlat_0"),I.x0=Xe(A,"dx_0"),I.y0=Xe(A,"dy_0"),Xe(A,"tk_0")?I.k0=Xe(A,"dk_0"):Xe(A,"tk")?I.k0=Xe(A,"dk"):I.k0=1,I.k0<=0&&Nn(-31),WQ(I),VQ(I),O.init(I),I}function GQ(y,A){EF(y,"+ellps=WGS84")}function HQ(y,A){var I=NQ(A);I||(I=ib(A),jQ(A,I)),I||Nn(-2),EF(y,I.opts)}function EF(y,A){var I=nb(A),P=["datum","ellps","a","b","rf","f"].reduce(function(O,$){return O||$ in y},!1);Object.keys(I).forEach(function(O){O in y||O=="ellps"&&P||(y[O]=I[O])})}function VQ(y){var A=y.params,I,P,O;I=Xe(A,"spm"),I?(P=OQ(I),O=Q2(P?P.definition:I),isNaN(O)&&Nn(-46),y.from_greenwich=O):y.from_greenwich=0}function WQ(y){var A=y.params,I,P,O;(I=Xe(A,"sunits"))&&(O=xF(I),O||Nn(-7),P=O.to_meter),P||(P=Xe(A,"sto_meter"))?(y.to_meter=AF(P),y.fr_meter=1/y.to_meter):y.to_meter=y.fr_meter=1,P=null,(I=Xe(A,"svunits"))&&(O=xF(I),O||Nn(-7),P=O.to_meter),P||Xe(A,"svto_meter")?(y.vto_meter=AF(P),y.vfr_meter=1/y.vto_meter):(y.vto_meter=y.to_meter,y.vfr_meter=y.fr_meter)}function AF(y){var A=y.split("/"),I=tb(A[0]);return A.length>1&&(I/=tb(A[1])),I}function YQ(y){var A="ewnsud",I=Xe(y.params,"saxis");I.length!=3&&Nn(Pr),(A.indexOf(I[0])==-1||A.indexOf(I[1])==-1||A.indexOf(I[2])==-1)&&Nn(Pr),y.axis=I}function XQ(y){return y.datum_type==$t&&y.datum_params[0]==y.datum_params[1]==y.datum_params[2]===0&&y.a==6378137&&Math.abs(y.es-.00669437999)<5e-11}var kF=0,KQ=1,ZQ=4,JQ=8,QQ=16;function FF(y,A){var I=kF,P=y*y,O=A*A;return y<=0&&(I|=ZQ),A<=0&&(I|=JQ),y<A&&(I|=QQ),I?null:{a:y,b:A,a2:P,b2:O,e2:(P-O)/P,ep2:(P-O)/O}}function eee(y,A,I,P,O){var $=kF,U=I[A],j=P[A],L=O[A],W,ne,ie,Q;return j<-ve&&j>-1.001*ve?j=-ve:j>ve&&j<1.001*ve?j=ve:(j<-ve||j>ve)&&($|=KQ),$||(U>Z&&(U-=2*Z),ne=c(j),Q=d(j),ie=ne*ne,W=y.a/F(1-y.e2*ie),I[A]=(W+L)*Q*d(U),P[A]=(W+L)*Q*c(U),O[A]=(W*(1-y.e2)+L)*ne),$}function tee(y,A,I,P,O){var $=1e-12,U=$*$,j=30,L=I[A],W=P[A],ne=O[A],ie,Q,le,ge,we,de,ke,Me,Re,Oe,pe,Ae,ye,Ee,je,Ye;if(ge=F(L*L+W*W),we=F(L*L+W*W+ne*ne),ge/y.a<$){if(Q=0,we/y.a<$)return I[A]=0,P[A]=ve,O[A]=-y.b,0}else Q=k(W,L);de=ne/we,ke=ge/we,Me=1/F(1-y.e2*(2-y.e2)*ke*ke),pe=ke*(1-y.e2)*Me,Ae=de*Me,Ye=0;do Ye++,Re=y.a/F(1-y.e2*Ae*Ae),le=ge*pe+ne*Ae-Re*(1-y.e2*Ae*Ae),Oe=y.e2*Re/(Re+le),Me=1/F(1-Oe*(2-Oe)*ke*ke),ye=ke*(1-Oe)*Me,Ee=de*Me,je=Ee*pe-ye*Ae,pe=ye,Ae=Ee;while(je*je>U&&Ye<j);ie=E(Ee/a(ye)),I[A]=Q,P[A]=ie,O[A]=le}function IF(y,A,I){var P=I.length>2,O=[I[0]],$=[I[1]],U=[P?I[2]:0];y.is_latlong&&(O[0]*=_e,$[0]*=_e),zn.last_errno=0,MF(y,A,O,$,U),(zn.last_errno||O[0]==N)&&ho(null,{point:I}),A.is_latlong&&(O[0]*=re,$[0]*=re),I[0]=O[0],I[1]=$[0],P&&(I[2]=U[0])}function MF(y,A,I,P,O){var $=I.length,U={},j={},L,W;if(y.axis!="enu"&&DF(y.axis,!1,I,P,O),y.vto_meter!=1&&O)for(L=0;L<$;L++)O[L]*=y.vto_meter;if(y.is_geocent){if(O||Nn(yi),y.to_meter!=1)for(L=0;L<$;L++)I[L]!=N&&(I[L]*=y.to_meter,P[L]*=y.to_meter);TF(y.a_orig,y.es_orig,I,P,O)}else if(!y.is_latlong)if(!y.inv3d&&!y.inv&&ho("source projection not invertible"),y.inv3d)ho("inverse 3d transformations not supported");else for(L=0;L<$;L++)j.x=I[L],j.y=P[L],W=ab(j,y),I[L]=W.lam,P[L]=W.phi,Pu();if(y.from_greenwich!==0)for(L=0;L<$;L++)I[L]!=N&&(I[L]+=y.from_greenwich);if(y.has_geoid_vgrids&&O&&ho("vgrid transformation not supported"),nee(y,A,I,P,O),A.has_geoid_vgrids&&O&&ho("vgrid transformation not supported"),A.from_greenwich!==0)for(L=0;L<$;L++)I[L]!=N&&(I[L]-=A.from_greenwich);if(A.is_geocent){if(O||Nn(yi),PF(A.a_orig,A.es_orig,I,P,O),A.fr_meter!=1)for(L=0;L<$;L++)I[L]!=N&&(I[L]*=A.fr_meter,P[L]*=A.fr_meter)}else if(A.is_latlong){if(A.is_latlong&&A.is_long_wrap_set){for(L=0;L<$;L++)if(I[L]!=N){for(;I[L]<A.long_wrap_center-Z;)I[L]+=kt;for(;I[L]>A.long_wrap_center+Z;)I[L]-=kt}}}else if(A.fwd3d)ho("3d transformation not supported");else for(L=0;L<$;L++)U.lam=I[L],U.phi=P[L],W=ob(U,A),I[L]=W.x,P[L]=W.y,Pu();if(A.vto_meter!=1&&O)for(L=0;L<$;L++)O[L]*=A.vfr_meter;return A.axis!="enu"&&DF(A.axis,!0,I,P,O),$==1?zn.last_errno:0}function DF(y,A,I,P,O){var $=I.length,U,j,L=0,W,ne,ie,Q;if(A){for(W=0;W<$;W++)if(U=I[W],j=P[W],U!=N){for(O&&(L=O[W]),ne=0;ne<3;ne++)if(!(ne==2&&!O))switch(ne==0?Q=I:ne==1?Q=P:Q=O,y[ne]){case"e":Q[W]=U;break;case"w":Q[W]=-U;break;case"n":Q[W]=j;break;case"s":Q[W]=-j;break;case"u":Q[W]=L;break;case"d":Q[W]=-L;break;default:Nn(Pr)}}}else for(W=0;W<$;W++)if(U=I[W],j=P[W],U!=N)for(O&&(L=O[W]),ne=0;ne<3;ne++)switch(ne==0?ie=U:ne==1?ie=j:ie=L,y[ne]){case"e":I[W]=ie;break;case"w":I[W]=-ie;break;case"n":P[W]=ie;break;case"s":P[W]=-ie;break;case"u":O&&(O[W]=ie);break;case"d":O&&(O[W]=-ie);break;default:Nn(Pr)}}function nee(y,A,I,P,O){var $=I.length,U,j,L,W;y.datum_type==Tt||A.datum_type==Tt||ree(y,A)||(U=y.a_orig,j=y.es_orig,L=A.a_orig,W=A.es_orig,O||(O=new Float64Array($)),y.datum_type==kn&&(ho("gridshift not implemented"),U=Ie,j=qe),A.datum_type==kn&&(L=Ie,W=qe),(j!=W||U!=L||y.datum_type==$t||y.datum_type==Vt||A.datum_type==$t||A.datum_type==Vt)&&(PF(U,j,I,P,O),(y.datum_type==$t||y.datum_type==Vt)&&iee(y,I,P,O),(A.datum_type==$t||A.datum_type==Vt)&&oee(A,I,P,O),TF(L,W,I,P,O),A.datum_type==kn&&pj_apply_gridshift_2(A,1,I,P,O)))}function ree(y,A){return y.datum_type!=A.datum_type||y.a_orig!=A.a_orig||Math.abs(y.es_orig-A.es_orig)>5e-11?!1:y.datum_type==$t?y.datum_params[0]==A.datum_params[0]&&y.datum_params[1]==A.datum_params[1]&&y.datum_params[2]==A.datum_params[2]:y.datum_type==Vt?y.datum_params[0]==A.datum_params[0]&&y.datum_params[1]==A.datum_params[1]&&y.datum_params[2]==A.datum_params[2]&&y.datum_params[3]==A.datum_params[3]&&y.datum_params[4]==A.datum_params[4]&&y.datum_params[5]==A.datum_params[5]&&y.datum_params[6]==A.datum_params[6]:y.datum_type==kn?Xe(y.params,"snadgrids")==Xe(A.params,"snadgrids"):!0}function iee(y,A,I,P){var O=A.length,$=y.datum_params,U=$[0],j=$[1],L=$[2],W,ne,ie,Q,le,ge,we,de;if(y.datum_type==$t)for(de=0;de<O;de++)A[de]!=N&&(A[de]+=U,I[de]+=j,P[de]+=L);else if(y.datum_type==Vt)for(Q=$[3],le=$[4],ge=$[5],we=$[6],de=0;de<O;de++)A[de]!=N&&(W=we*(A[de]-ge*I[de]+le*P[de])+U,ne=we*(ge*A[de]+I[de]-Q*P[de])+j,ie=we*(-le*A[de]+Q*I[de]+P[de])+L,A[de]=W,I[de]=ne,P[de]=ie)}function oee(y,A,I,P){var O=A.length,$=y.datum_params,U=$[0],j=$[1],L=$[2],W,ne,ie,Q,le,ge,we,de;if(y.datum_type==$t)for(de=0;de<O;de++)A[de]!=N&&(A[de]-=U,I[de]-=j,P[de]-=L);else if(y.datum_type==Vt)for(Q=$[3],le=$[4],ge=$[5],we=$[6],de=0;de<O;de++)A[de]!=N&&(W=(A[de]-U)/we,ne=(I[de]-j)/we,ie=(P[de]-L)/we,A[de]=W+ge*ne-le*ie,I[de]=-ge*W+ne+Q*ie,P[de]=le*W-Q*ne+ie)}function TF(y,A,I,P,O){var $=I.length,U,j,L;for(A==0?U=y:U=y*F(1-A),L=FF(y,U),L||Nn(yi),j=0;j<$;j++)I[j]!=N&&tee(L,j,I,P,O)}function PF(y,A,I,P,O){var $=I.length,U,j,L;for(A===0?U=y:U=y*F(1-A),L=FF(y,U),L||Nn(yi),j=0;j<$;j++)I[j]!=N&&eee(L,j,I,P,O)&&(I[j]=P[j]=N)}function Hi(y){var A=3.14159265359,I=6.283185307179586,P=3.141592653589793;return a(y)>A&&(y+=P,y-=I*u(y/I),y-=P),y}function aee(y,A){var I={lam:y.lam*_e,phi:y.phi*_e};return ob(I,A)}function ob(y,A){var I={x:0,y:0},P=1e-12,O=a(y.phi)-ve;return O<=P&&a(y.lam)<=10?(zn.last_errno=0,a(O)<=P?y.phi=y.phi<0?-ve:ve:A.geoc&&(y.phi=E(A.rone_es*v(y.phi))),y.lam-=A.lam0,A.over||(y.lam=Hi(y.lam)),A.fwd?(A.fwd(y,I),I.x=A.fr_meter*(A.a*I.x+A.x0),I.y=A.fr_meter*(A.a*I.y+A.y0)):I.x=I.y=N):Ar(-14),(zn.last_errno||!isFinite(I.x)||!isFinite(I.y))&&(I.x=I.y=N),I}function see(y,A){var I=ab(y,A);return{lam:I.lam*re,phi:I.phi*re}}function ab(y,A){var I=1e-12,P={lam:0,phi:0};return y.x<N&&y.y<N?(zn.last_errno=0,A.inv?(y.x=(y.x*A.to_meter-A.x0)*A.ra,y.y=(y.y*A.to_meter-A.y0)*A.ra,A.inv(y,P),P.lam+=A.lam0,A.over||(P.lam=Hi(P.lam)),A.geoc&&a(a(P.phi)-ve)>I&&(P.phi=E(A.one_es*v(P.phi)))):P.lam=P.phi=N):Ar(-15),(zn.last_errno||!isFinite(P.lam)||!isFinite(P.phi))&&(P.lam=P.phi=N),P}function uee(y,A,I,P){var O=RF(y,A,I,P);return function($){return O($*re)}}function RF(y,A,I,P){var O,$,U;for((y<0||y>=9)&&(y=3),O=1,U=0;U<y;U++)O*=10;return $=3600*O,function(j){var L="",W="",ne="",ie,Q,le,ge;return j===N||isNaN(j)?"":(j<0?(j=-j,le=P||"",le||(L="-")):le=I||"",j=u(j*$+.5),Q=j/O%60,j=u(j/(O*60)),ie=j%60,ge=u(j/60)+"d",ne=Q.toFixed(y),Q=parseFloat(ne),Q?ne=(A?ne:String(Q))+'"':ne="",(Q||ie)&&(W=String(ie)+"'",W.length==2&&A&&(W="0"+W)),L+ge+W+ne+le)}}function sb(y,A,I){var P,O,$,U,j,L;return typeof y!="string"?Mo:(typeof A!="string"?(O="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs",$=y,P=A):(O=y,$=A,P=I),U=uc(O),j=uc($),L=BF(U,j),P?L(P):{forward:L,inverse:BF(j,U)})}sb.WGS84="+proj=longlat +datum=WGS84",sb.toPoint=function(y){var A={x:y[0],y:y[1]};return y.length>2&&(A.z=y[2]),y.length>3&&(A.m=y[3]),A};function BF(y,A){return function(I){var P=Array.isArray(I);return I=P?I.concat():[I.x,I.y],IF(y,A,I),P||(I={x:I[0],y:I[1]}),I}}function lee(y){return cee}function cee(y){var A=y.proj in sc?sc[y.proj].name:"",I=_F(y),P=Sg(y),O=A?P.NAME+" / "+A:"unnamed";return{PROJCS:{NAME:O,GEOGCS:P,PROJECTION:"custom_proj4",PARAMETER:[],UNIT:$F(y),EXTENSION:["PROJ4",I+" +wktext"]}}}function fee(y){var A=OF(y);return A?OF:null}function OF(y){var A=y.EXTENSION;return A&&A[0]=="PROJ4"?(A[1]||"").replace(" +wktext",""):null}var LF=[],zF=[];function hee(y){return!!y&&typeof y=="object"&&!Array.isArray(y)}function ub(y){return typeof y=="string"}function dee(y){var A=NF(y,zF);return A||(A=fee(y)),A||Vi("unsupported WKT definition: "+vee(y)),A}function pee(y){var A=NF(y,LF);return A||(A=lee()),A||Vi("unsupported projection: "+gee(y)),A}function NF(y,A){for(var I,P=0;P<A.length;P++)if(I=A[P][0],I(y))return A[P][1];return null}function gee(y){return xg(y)||"[unknown]"}function vee(y){return y.NAME||"[unknown]"}function xg(y){return Xe(y.params,"sproj")}function Bu(y){return y.replace(/[-_ \/]+/g,"_").toLowerCase()}function jF(y){var A;return Array.isArray(y)?A=y:y&&y.length>0&&(A=y.split(",")),A}function Vi(y){throw new Error(y)}function h1e(y){}function qF(y){return{to_meter:y.UNIT[1]}}function mee(y){var A=qF(y),I="";return A.to_meter!=1&&(I="+to_meter="+A.to_meter),I}function $F(y){return["Meter",y.to_meter||1]}function lb(y,A){var I=y.DATUM,P=I.SPHEROID,O=_ee(I),$=yee(P),U=A&&A.aux_sphere,j=P[1],L=P[2],W,ne;return bee(y.UNIT,"degree"),U?W="+a="+P[1]:O?W="+datum="+O:$?W="+ellps="+$:(W="+a="+j,L>0&&(W+=" +rf="+L)),I.TOWGS84&&!U&&!O&&(W+=" +towgs84="+I.TOWGS84.join(",")),ne=y.PRIMEM?y.PRIMEM[1]:0,(ne>0||ne<0)&&(W+=" +pm="+ne),W}function yee(y){var A={international1924:"intl"},I=lc(y[0]),P;if(I in A)return A[I];if(/^grs1980/.test(I))return"GRS80";if(I=="sphere")return null;for(var O=0;O<wg.length&&(P=wg[O],!(lc(P[3])==I||lc(P[0])==I));O++);return P?P[0]:null}function _ee(y){var A={northamerican1983:"NAD83",newzealand1949:"nzgd49"},I=lc(y.NAME),P;if(I in A)return A[I];for(var O=0;O<_g.length&&(P=_g[O],!(lc(P[3])==I||lc(P[0])==I));O++);return P?P[0]:null}function lc(y){return(y||"").replace(/^(GCS|D)_/i,"").replace(/[ _]/g,"").toLowerCase()}function bee(y,A){y&&y[0].toLowerCase()!=A&&Vi("unexpected geographic units: "+geogcs.UNIT[0])}function wee(y){return dee(y)(y)}function xee(y,A){return vs({PROJECTION:gs(y),PARAMETER:dc(A)})}function gs(y){return function(){return"+proj="+y}}function vs(y){return function(A){var I=y.PROJECTION(A),P=y.PARAMETER(A),O=y.GEOGCS?y.GEOGCS(A):lb(A.GEOGCS),$=mee(A);return[I,P,O,$,"+no_defs"].filter(function(U){return!!U}).join(" ")}}function Sg(y){var A={NAME:UF(y),DATUM:See(y),PRIMEM:["Greenwich",0],UNIT:["degree",.017453292519943295]};return A}function See(y){var A={NAME:Aee(y),SPHEROID:Cee(y)},I=Xe(y.params,"stowgs84");return/[1-9]/.test(I)&&(A.TOWGS84=I),A}function Cee(y){var A;return Xe(y.params,"trf")?A=Xe(y.params,"drf"):y.es?A=1/(1-Math.sqrt(1-y.es)):A=0,[Eee(y),y.a,A]}function UF(y){var A;return mF(y)&&(A=HF(y)),A||(A=cb(y),/^[a-z]+$/.test(A)?A=A[0].toUpperCase()+A.substr(1):A=A.toUpperCase()),A||"UNK"}function Eee(y){var A=bF(kee(y));return A?A.name:"Unknown ellipsoid"}function Aee(y){var A=bg(cb(y));return A&&A.name||"Unknown datum"}function cb(y){return Xe(y.params,"sdatum")}function kee(y){var A=cb(y),I=A?bg(A):null,P;return I?P=I.ellipse_id:P=Xe(y.params,"sellps"),P||""}function GF(y){return pee(y)(y)}function Cg(y,A){return cc({PROJECTION:y,PARAMETER:jh(A)})}function cc(y){return function(A){var I={GEOGCS:y.GEOGCS&&y.GEOGCS(A)||Sg(A),PROJECTION:ub(y.PROJECTION)?y.PROJECTION:y.PROJECTION(A),PARAMETER:y.PARAMETER(A),UNIT:$F(A)};return I.NAME=y.NAME&&y.NAME(A,I)||Fee(A,I),{PROJCS:I}}}function HF(y){var A;return Xe(y.params,"tinit")&&(A=ib(Xe(y.params,"sinit"))),A?A.comment:""}function Fee(y,A){var I=HF(y);return I||A.GEOGCS.NAME+" / "+A.PROJECTION}function fb(y,A,I){var P=fc(A),O=xee(y,I);ms(P,O)}function VF(y,A,I){var P=hc(y),O=Cg(A,I);Pa(P,O)}function fc(y){var A=jF(y).map(Bu);return function(I){var P=I.PROJECTION[0];return A.indexOf(Bu(P))>-1}}function hc(y){return function(A){var I=xg(A);return I&&I==y}}function ms(y,A){typeof y!="function"&&Vi("Missing WKT parser test"),typeof A!="function"&&Vi("Missing WKT parse function"),zF.push([y,A])}function Pa(y,A){typeof y!="function"&&Vi("Missing WKT maker test"),typeof A!="function"&&Vi("Missing WKT maker function"),LF.push([y,A])}ms(Iee,Dee),ms(Mee,Tee),Pa(hc("utm"),Pee),Pa(hc("ups"),Ree);var WF=/UTM_zone_([0-9]{1,2})(N|S)/i,YF=/UPS_(North|South)/i;function Iee(y){return WF.test(Bu(y.NAME))}function Mee(y){return YF.test(Bu(y.NAME))}function Dee(y){return vs({PROJECTION:gs("utm"),PARAMETER:A})(y);function A(I){var P=WF.exec(Bu(I.NAME)),O="+zone="+P[1];return P[2].toLowerCase()=="s"&&(O+=" +south"),O}}function Tee(y){return vs({PROJECTION:gs("ups"),PARAMETER:A})(y);function A(I){var P=YF.exec(Bu(I.NAME));return P[1].toLowerCase()=="south"?"+south":""}}function Pee(y){return cc({NAME:Bee,PROJECTION:function(){return"Transverse_Mercator"},PARAMETER:Lee})(y)}function Ree(y){return cc({NAME:Oee,PROJECTION:function(){return"Polar_Stereographic"},PARAMETER:zee})(y)}function Bee(y,A){return A.GEOGCS.NAME+" / UTM zone "+Xe(y.params,"szone")+(Xe(y.params,"tsouth")?"S":"N")}function Oee(y,A){return A.GEOGCS.NAME+" / UPS "+(Xe(y.params,"tsouth")?"South":"North")}function Lee(y){var A=y.lam0*180/Z;return[["latitude_of_origin",0],["central_meridian",A],["scale_factor",y.k0],["false_easting",y.x0],["false_northing",y.y0]]}function zee(y){return[["latitude_of_origin",-90],["central_meridian",0],["scale_factor",.994],["false_easting",2e6],["false_northing",2e6]]}ms(fc("Mercator_2SP,Mercator_1SP,Mercator,Mercator_Auxiliary_Sphere"),vs({GEOGCS:qee,PROJECTION:gs("merc"),PARAMETER:Uee})),Pa(hc("merc"),cc({GEOGCS:jee,PROJECTION:$ee,PARAMETER:Gee,NAME:Nee}));function Nee(y){return KF(y)?"WGS 84 / Pseudo-Mercator":null}function jee(y){return KF(y)?Sg(uc("+proj=longlat +datum=WGS84")):null}function qee(y){var A=Vee(y)?{aux_sphere:!0}:null;return lb(y.GEOGCS,A)}function $ee(y){return XF(y)?"Mercator_2SP":"Mercator_1SP"}function Uee(y){var A=Hee(y)?"lat_ts,lat_0b":"lat_tsb,lat_ts";return dc(A)(y)}function Gee(y){var A=XF(y)?"lat_ts,lat_0b":"lat_tsb";return jh(A)(y)}function Hee(y){var A=QF(y,"standard_parallel_1");return A&&A[1]!=0}function XF(y){return Xe(y.params,"tlat_ts")&&Xe(y.params,"dlat_ts")!=0}function Vee(y){return/(Web_Mercator|Pseudo_Mercator)/i.test(Bu(y.NAME))}function KF(y){return y.es===0&&y.a==6378137}var Wee=[["x_0","false_easting","m"],["y_0","false_northing","m"],["k_0","scale_factor","f"],["lat_0","latitude_of_center"],["lon_0","central_meridian"]],Yee={lat_0b:["lat_0","latitude_of_origin"],lat_0c:["lat_0",null],lat_0d:["lat_0","standard_parallel_1"],lat_1:["lat_1","standard_parallel_1"],lat_1b:["lat_1","latitude_of_point_1"],lat_1c:["lat_1","latitude_of_origin"],lat_2:["lat_2","standard_parallel_2"],lat_2b:["lat_2","latitude_of_point_2"],lat_ts:["lat_ts","standard_parallel_1"],lat_tsb:["lat_ts","latitude_of_origin"],lonc:["lonc","central_meridian"],lon_1:["lon_1","longitude_of_point_1"],lon_2:["lon_2","longitude_of_point_2"],alpha:["alpha","azimuth"],gamma:["gamma","rectified_grid_angle"],h:["h","height","f"]},hb={longitude_of_center:"central_meridian",latitude_of_origin:"latitude_of_center",latitude_of_center:"latitude_of_origin",longitude_of_1st_point:"longitude_of_point_1",longitude_of_2nd_point:"longitude_of_point_2",latitude_of_1st_point:"latitude_of_point_1",latitude_of_2nd_point:"latitude_of_point_2",k:"k_0"};function ZF(y,A,I){for(var P=0;P<I.length;P++)if(I[P][A]===y)return I[P];return null}function JF(y,A,I){var P=null;return y=y.toLowerCase(),P=ZF(y,A,I),!P&&y in hb&&(P=ZF(hb[y],A,I)),P}function Xee(y,A,I){var P=y[0],O=y[2];if(O=="m"&&(A*=I.to_meter),!("x_0,y_0,lat_0,lon_0".indexOf(P)>-1&&A===0||P=="k_0"&&A==1))return"+"+P+"="+A}function Kee(y,A,I){var P=y[2],O;return P=="m"?O=parseFloat(A)/I:P=="f"?O=parseFloat(A):O=eb(A),[y[1],O]}function QF(y,A){for(var I=y.PARAMETER||[],P,O=0;O<I.length;O++)if(P=I[O][0].toLowerCase(),A===P||A===hb[P])return I[O];return null}function eI(y){var A=null;return y&&(A=jF(y).reduce(function(I,P){var O=Yee[P];return O||Vi("missing parameter rule: "+P),I.push(O),I},[])),(A||[]).concat(Wee)}function dc(y){return function(A){var I=[],P=eI(y),O=qF(A);return(A.PARAMETER||[]).forEach(function($){var U=JF($[0],1,P),j;U?(j=Xee(U,$[1],O),j&&I.push(j)):(""+$[0],void 0)}),I.join(" ")}}function jh(y){return function(A){var I=[],P=eI(y);return Object.keys(A.params).forEach(function(O){var $=JF(O,0,P),U;$&&$[1]&&(U=Xe(A.params,"s"+O),I.push(Kee($,U,A.to_meter)))}),I}}ms(fc("Lambert_Conformal_Conic,Lambert_Conformal_Conic_1SP,Lambert_Conformal_Conic_2SP"),vs({PROJECTION:gs("lcc"),PARAMETER:Jee})),Pa(hc("lcc"),cc({PROJECTION:Qee,PARAMETER:Zee}));function Zee(y){var A=tI(y)?"lat_1c,lat_0c":"lat_0b,lat_1,lat_2";return jh(A)(y)}function Jee(y){var A=ete(y)?"lat_1c":"lat_0b,lat_1,lat_2";return dc(A)(y)}function Qee(y){return tI(y)?"Lambert_Conformal_Conic_1SP":"Lambert_Conformal_Conic_2SP"}function ete(y){return!QF(y,"standard_parallel_2")}function tI(y){return!("lat_1"in y.params&&"lat_2"in y.params)}ms(fc("Hotine_Oblique_Mercator,Hotine_Oblique_Mercator_Azimuth_Natural_Origin"),vs({PROJECTION:gs("omerc"),PARAMETER:function(y){return dc("alpha,gamma,lonc")(y)+" +no_uoff"}})),Pa(rI,Cg("Hotine_Oblique_Mercator","alpha,gamma,lonc")),fb("omerc","Oblique_Mercator,Hotine_Oblique_Mercator_Azimuth_Center","alpha,gamma,lonc"),Pa(nte,Cg("Oblique_Mercator","alpha,gamma,lonc")),fb("omerc","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","lat_1b,lat_2b,lon_1,lon_2"),Pa(tte,Cg("Hotine_Oblique_Mercator_Two_Point_Natural_Origin","lat_1b,lat_2b,lon_1,lon_2"));function tte(y){return xg(y)=="omerc"&&"lat_2"in y.params&&"lon_2"in y.params}function nI(y){return xg(y)=="omerc"&&("alpha"in y.params||"gamma"in y.params)}function rI(y){return nI(y)&&("no_uoff"in y.params||"no_off"in y.params)}function nte(y){return nI(y)&&!rI(y)}ms(fc("Stereographic,Polar_Stereographic,Stereographic_North_Pole,Stereographic_South_Pole"),vs({PROJECTION:gs("stere"),PARAMETER:rte})),Pa(hc("stere"),cc({PROJECTION:ite,PARAMETER:ote}));function rte(y){var A=dc("lat_ts,lat_tsb")(y),I=/lat_ts=([^ ]+)/.exec(A);return I&&A.indexOf("lat_0=")==-1&&(A="+lat_0="+(parseFloat(I[1])<0?-90:90)+" "+A),A}function ite(y){return iI(y)?"Polar_Stereographic":"Stereographic"}function ote(y){return iI(y)?jh("lat_tsb,lat_0c")(y):jh("lat_0b")(y)}function iI(y){return Xe(y.params,"tlat_ts")}VF("vandg","VanDerGrinten"),ms(fc("VanDerGrinten,Van_der_Grinten_I"),vs({PROJECTION:gs("vandg"),PARAMETER:function(y){var A=dc("")(y);return A&&(A+=" "),A+"+R_A"}})),[["aitoff","Aitoff","lat1"],["aea","Albers_Conic_Equal_Area,Albers","lat_1,lat_2"],["aeqd","Azimuthal_Equidistant"],["bonne","Bonne","lat_1"],["cass","Cassini_Soldner,Cassini"],["cea","Cylindrical_Equal_Area","lat_ts"],["eck1","Eckert_I"],["eck2","Eckert_II"],["eck3","Eckert_III"],["eck4","Eckert_IV"],["eck5","Eckert_V"],["eck6","Eckert_VI"],["eqdc","Equidistant_Conic","lat_1,lat_2"],["eqc","Plate_Carree,Equirectangular,Equidistant_Cylindrical","lat_ts"],["gall","Gall_Stereographic"],["gnom","Gnomonic"],["laea","Lambert_Azimuthal_Equal_Area"],["loxim","Loximuthal","lat_1"],["mill","Miller_Cylindrical"],["moll","Mollweide"],["nsper","Vertical_Near_Side_Perspective","h"],["nzmg","New_Zealand_Map_Grid","lat_0b"],["ortho","Orthographic","lat_0b"],["poly","Polyconic"],["robin","Robinson"],["sinu","Sinusoidal"],["sterea","Oblique_Stereographic,Double_Stereographic"],["tmerc","Transverse_Mercator,Gauss_Kruger","lat_0b"],["tpeqd","Two_Point_Equidistant","lat_1b,lat_2b,lon_1,lon_2"],["wag1","Wagner_I"],["wag2","Wagner_II"],["wag3","Wagner_III","lat_ts"],["wag4","Wagner_IV"],["wag5","Wagner_V"],["wag6","Wagner_VI"],["wag7","Wagner_VII"],["wink1","Winkel_I","lat_ts"],["wink2","Winkel_II"],["wintri","Winkel_Tripel","lat_1"]].forEach(function(y){var A=y[2]||null;fb(y[0],y[1],A),VF(y[0],y[1].split(",")[0],A)});function oI(y){var A=JSON.stringify(sI(y));return A=A.replace(/\["([A-Z0-9]+)",/g,"$1["),A=A.replace(/"(EAST|NORTH|SOUTH|WEST)"/g,"$1"),A}function aI(y){var A="NAME,PROJCS,GEOGCS,GEOCCS,DATUM,SPHEROID,PRIMEM,PROJECTION,PARAMETER,UNIT,AXIS";return A.indexOf(y)+1||999}function ate(y){var A=Object.keys(y);return A.sort(function(I,P){return aI(I)-aI(P)})}function sI(y,A){var I=[],P;return A=A||0,ate(y).forEach(function(O){var $=y[O];hee($)?I.push([O].concat(sI($,A+1))):O=="NAME"?I.push(ub($)?$:$[0]):O=="PARAMETER"||O=="AXIS"?$.forEach(function(U){I.push([O].concat(U))}):ub($)?I.push([O,$]):Array.isArray($)?I.push([O].concat($)):(P={},P[O]=$,Vi("Incorrectly formatted WKT element: "+JSON.stringify(P)))}),A===0&&I.length==1&&(I=I[0]),I}function uI(y){var A={};return lI(y).forEach(function(I){fI(I,A)}),A}function lI(y){var A;y=cI(y),y=y.replace(/([A-Z0-9]+)\[(?![^"]*[^\[,"]")/g,'["$1",'),y=y.replace(/, *([a-zA-Z]+) *(?=[,\]])/g,',"$1"'),y="["+y+"]";try{A=JSON.parse(y)}catch{Vi("unparsable WKT format")}return A}function cI(y){var A=0;return y.replace(/"+/g,function(I){var P=A%2==0;return A+=I.length,I=='"'||I=='""'&&P?I:P?'"'+I.substring(1).replace(/""/g,'\\"'):I.replace(/""/g,'\\"')})}function fI(y,A){var I=y[0],P;if(I=="GEOGCS"||I=="GEOCCS"||I=="PROJCS"||I=="DATUM"||I=="VERTCS")for(A[I]={NAME:y[1]},P=2;P<y.length;P++)if(Array.isArray(y[P]))fI(y[P],A[I]);else throw Vi("WKT parse error");else I=="AXIS"||I=="PARAMETER"?(I in A||(A[I]=[]),A[I].push(y.slice(1))):A[I]=y.slice(1);return A}function ste(y){var A;return y.length&&(y=uc(y)),mF(y)?A={GEOGCS:Sg(y)}:A=GF(y),oI(A)}function ute(y){var A=uI(y),I;return A.PROJCS?I=wee(A.PROJCS):A.GEOGCS?I="+proj=longlat "+lb(A.GEOGCS):A.GEOCCS?Vi("geocentric coordinates are not supported"):Vi("missing a supported WKT CS type"),I}var Zn={};Zn.Constants={},Zn.Math={},Zn.Accumulator={},function(y){y.WGS84={a:6378137,f:1/298.257223563},y.version={major:1,minor:48,patch:0},y.version_string="1.48"}(Zn.Constants),function(y){y.digits=53,y.epsilon=Math.pow(.5,y.digits-1),y.degree=Math.PI/180,y.sq=function(A){return A*A},y.hypot=function(A,I){var P,O;return A=Math.abs(A),I=Math.abs(I),P=Math.max(A,I),O=Math.min(A,I)/(P||1),P*Math.sqrt(1+O*O)},y.cbrt=function(A){var I=Math.pow(Math.abs(A),.3333333333333333);return A<0?-I:I},y.log1p=function(A){var I=1+A,P=I-1;return P===0?A:A*Math.log(I)/P},y.atanh=function(A){var I=Math.abs(A);return I=y.log1p(2*I/(1-I))/2,A<0?-I:I},y.copysign=function(A,I){return Math.abs(A)*(I<0||I===0&&1/I<0?-1:1)},y.sum=function(A,I){var P=A+I,O=P-I,$=P-O,U;return O-=A,$-=I,U=-(O+$),{s:P,t:U}},y.polyval=function(A,I,P,O){for(var $=A<0?0:I[P++];--A>=0;)$=$*O+I[P++];return $},y.AngRound=function(A){if(A===0)return A;var I=1/16,P=Math.abs(A);return P=P<I?I-(I-P):P,A<0?-P:P},y.AngNormalize=function(A){return A=A%360,A<=-180?A+360:A<=180?A:A-360},y.LatFix=function(A){return Math.abs(A)>90?Number.NaN:A},y.AngDiff=function(A,I){var P=y.sum(y.AngNormalize(-A),y.AngNormalize(I)),O=y.AngNormalize(P.s),$=P.t;return y.sum(O===180&&$>0?-180:O,$)},y.sincosd=function(A){var I,P,O,$,U,j;switch(I=A%360,P=Math.floor(I/90+.5),I-=90*P,I*=this.degree,O=Math.sin(I),$=Math.cos(I),P&3){case 0:U=O,j=$;break;case 1:U=$,j=-O;break;case 2:U=-O,j=-$;break;default:U=-$,j=O;break}return A&&(U+=0,j+=0),{s:U,c:j}},y.atan2d=function(A,I){var P=0,O,$;switch(Math.abs(A)>Math.abs(I)&&(O=I,I=A,A=O,P=2),I<0&&(I=-I,++P),$=Math.atan2(A,I)/this.degree,P){case 1:$=(A>=0?180:-180)-$;break;case 2:$=90-$;break;case 3:$=-90+$;break}return $}}(Zn.Math),function(y,A){y.Accumulator=function(I){this.Set(I)},y.Accumulator.prototype.Set=function(I){I||(I=0),I.constructor===y.Accumulator?(this._s=I._s,this._t=I._t):(this._s=I,this._t=0)},y.Accumulator.prototype.Add=function(I){var P=A.sum(I,this._t),O=A.sum(P.s,this._s);P=P.t,this._s=O.s,this._t=O.t,this._s===0?this._s=P:this._t+=P},y.Accumulator.prototype.Sum=function(I){var P;return I?(P=new y.Accumulator(this),P.Add(I),P._s):this._s},y.Accumulator.prototype.Negate=function(){this._s*=-1,this._t*=-1}}(Zn.Accumulator,Zn.Math),Zn.Geodesic={},Zn.GeodesicLine={},Zn.PolygonArea={},function(y,A,I,P,O){var $=6,U=$,j=$,L=$,W=L,ne,ie,Q=20,le=Q+P.digits+10,ge=P.epsilon,we=200*ge,de=Math.sqrt(ge),ke=ge*we,Me=1e3*de,Re=0,Oe=31,pe=32640,Ae,ye,Ee,je,Ye,st,gt,wt,At;y.tiny_=Math.sqrt(Number.MIN_VALUE),y.nC1_=$,y.nC1p_=$,y.nC2_=$,y.nC3_=$,y.nC4_=$,ne=y.nC3_*(y.nC3_-1)/2,ie=y.nC4_*(y.nC4_+1)/2,y.CAP_C1=1,y.CAP_C1p=2,y.CAP_C2=4,y.CAP_C3=8,y.CAP_C4=16,y.NONE=0,y.ARC=64,y.LATITUDE=128|Re,y.LONGITUDE=256|y.CAP_C3,y.AZIMUTH=512|Re,y.DISTANCE=1024|y.CAP_C1,y.STANDARD=y.LATITUDE|y.LONGITUDE|y.AZIMUTH|y.DISTANCE,y.DISTANCE_IN=2048|y.CAP_C1|y.CAP_C1p,y.REDUCEDLENGTH=4096|y.CAP_C1|y.CAP_C2,y.GEODESICSCALE=8192|y.CAP_C1|y.CAP_C2,y.AREA=16384|y.CAP_C4,y.ALL=pe|Oe,y.LONG_UNROLL=32768,y.OUT_MASK=pe|y.LONG_UNROLL,y.SinCosSeries=function(Ke,ut,Ge,We){var et=We.length,it=et-(Ke?1:0),_t=2*(Ge-ut)*(Ge+ut),xt=it&1?We[--et]:0,Ot=0;for(it=Math.floor(it/2);it--;)Ot=_t*xt-Ot+We[--et],xt=_t*Ot-xt+We[--et];return Ke?2*ut*Ge*xt:Ge*(xt-Ot)},Ae=function(Ke,ut){var Ge,We=P.sq(Ke),et=P.sq(ut),it=(We+et-1)/6,_t,xt,Ot,Mt,Kt,zt,jt,Xt,yt,Qt,nn;return et===0&&it<=0?Ge=0:(_t=We*et/4,xt=P.sq(it),Ot=it*xt,Mt=_t*(_t+2*Ot),Kt=it,Mt>=0?(zt=_t+Ot,zt+=zt<0?-Math.sqrt(Mt):Math.sqrt(Mt),jt=P.cbrt(zt),Kt+=jt+(jt!==0?xt/jt:0)):(Xt=Math.atan2(Math.sqrt(-Mt),-(_t+Ot)),Kt+=2*it*Math.cos(Xt/3)),yt=Math.sqrt(P.sq(Kt)+et),Qt=Kt<0?et/(yt-Kt):Kt+yt,nn=(Qt-et)/(2*yt),Ge=Qt/(Math.sqrt(Qt+P.sq(nn))+nn)),Ge},ye=[1,4,64,0,256],y.A1m1f=function(Ke){var ut=Math.floor(U/2),Ge=P.polyval(ut,ye,0,P.sq(Ke))/ye[ut+1];return(Ge+Ke)/(1-Ke)},Ee=[-1,6,-16,32,-9,64,-128,2048,9,-16,768,3,-5,512,-7,1280,-7,2048],y.C1f=function(Ke,ut){var Ge=P.sq(Ke),We=Ke,et=0,it,_t;for(it=1;it<=y.nC1_;++it)_t=Math.floor((y.nC1_-it)/2),ut[it]=We*P.polyval(_t,Ee,et,Ge)/Ee[et+_t+1],et+=_t+2,We*=Ke},je=[205,-432,768,1536,4005,-4736,3840,12288,-225,116,384,-7173,2695,7680,3467,7680,38081,61440],y.C1pf=function(Ke,ut){var Ge=P.sq(Ke),We=Ke,et=0,it,_t;for(it=1;it<=y.nC1p_;++it)_t=Math.floor((y.nC1p_-it)/2),ut[it]=We*P.polyval(_t,je,et,Ge)/je[et+_t+1],et+=_t+2,We*=Ke},Ye=[-11,-28,-192,0,256],y.A2m1f=function(Ke){var ut=Math.floor(j/2),Ge=P.polyval(ut,Ye,0,P.sq(Ke))/Ye[ut+1];return(Ge-Ke)/(1+Ke)},st=[1,2,16,32,35,64,384,2048,15,80,768,7,35,512,63,1280,77,2048],y.C2f=function(Ke,ut){var Ge=P.sq(Ke),We=Ke,et=0,it,_t;for(it=1;it<=y.nC2_;++it)_t=Math.floor((y.nC2_-it)/2),ut[it]=We*P.polyval(_t,st,et,Ge)/st[et+_t+1],et+=_t+2,We*=Ke},y.Geodesic=function(Ke,ut){if(this.a=Ke,this.f=ut,this._f1=1-this.f,this._e2=this.f*(2-this.f),this._ep2=this._e2/P.sq(this._f1),this._n=this.f/(2-this.f),this._b=this.a*this._f1,this._c2=(P.sq(this.a)+P.sq(this._b)*(this._e2===0?1:(this._e2>0?P.atanh(Math.sqrt(this._e2)):Math.atan(Math.sqrt(-this._e2)))/Math.sqrt(Math.abs(this._e2))))/2,this._etol2=.1*de/Math.sqrt(Math.max(.001,Math.abs(this.f))*Math.min(1,1-this.f/2)/2),!(isFinite(this.a)&&this.a>0))throw new Error("Equatorial radius is not positive");if(!(isFinite(this._b)&&this._b>0))throw new Error("Polar semi-axis is not positive");this._A3x=new Array(W),this._C3x=new Array(ne),this._C4x=new Array(ie),this.A3coeff(),this.C3coeff(),this.C4coeff()},gt=[-3,128,-2,-3,64,-1,-3,-1,16,3,-1,-2,8,1,-1,2,1,1],y.Geodesic.prototype.A3coeff=function(){var Ke=0,ut=0,Ge,We;for(Ge=L-1;Ge>=0;--Ge)We=Math.min(L-Ge-1,Ge),this._A3x[ut++]=P.polyval(We,gt,Ke,this._n)/gt[Ke+We+1],Ke+=We+2},wt=[3,128,2,5,128,-1,3,3,64,-1,0,1,8,-1,1,4,5,256,1,3,128,-3,-2,3,64,1,-3,2,32,7,512,-10,9,384,5,-9,5,192,7,512,-14,7,512,21,2560],y.Geodesic.prototype.C3coeff=function(){var Ke=0,ut=0,Ge,We,et;for(Ge=1;Ge<y.nC3_;++Ge)for(We=y.nC3_-1;We>=Ge;--We)et=Math.min(y.nC3_-We-1,We),this._C3x[ut++]=P.polyval(et,wt,Ke,this._n)/wt[Ke+et+1],Ke+=et+2},At=[97,15015,1088,156,45045,-224,-4784,1573,45045,-10656,14144,-4576,-858,45045,64,624,-4576,6864,-3003,15015,100,208,572,3432,-12012,30030,45045,1,9009,-2944,468,135135,5792,1040,-1287,135135,5952,-11648,9152,-2574,135135,-64,-624,4576,-6864,3003,135135,8,10725,1856,-936,225225,-8448,4992,-1144,225225,-1440,4160,-4576,1716,225225,-136,63063,1024,-208,105105,3584,-3328,1144,315315,-128,135135,-2560,832,405405,128,99099],y.Geodesic.prototype.C4coeff=function(){var Ke=0,ut=0,Ge,We,et;for(Ge=0;Ge<y.nC4_;++Ge)for(We=y.nC4_-1;We>=Ge;--We)et=y.nC4_-We-1,this._C4x[ut++]=P.polyval(et,At,Ke,this._n)/At[Ke+et+1],Ke+=et+2},y.Geodesic.prototype.A3f=function(Ke){return P.polyval(W-1,this._A3x,0,Ke)},y.Geodesic.prototype.C3f=function(Ke,ut){var Ge=1,We=0,et,it;for(et=1;et<y.nC3_;++et)it=y.nC3_-et-1,Ge*=Ke,ut[et]=Ge*P.polyval(it,this._C3x,We,Ke),We+=it+1},y.Geodesic.prototype.C4f=function(Ke,ut){var Ge=1,We=0,et,it;for(et=0;et<y.nC4_;++et)it=y.nC4_-et-1,ut[et]=Ge*P.polyval(it,this._C4x,We,Ke),We+=it+1,Ge*=Ke},y.Geodesic.prototype.Lengths=function(Ke,ut,Ge,We,et,it,_t,xt,Ot,Mt,Kt,zt,jt){Kt&=y.OUT_MASK;var Xt={},yt=0,Qt=0,nn=0,Mn=0,Jn,Qn,rr,yr,Br;if(Kt&(y.DISTANCE|y.REDUCEDLENGTH|y.GEODESICSCALE)&&(nn=y.A1m1f(Ke),y.C1f(Ke,zt),Kt&(y.REDUCEDLENGTH|y.GEODESICSCALE)&&(Mn=y.A2m1f(Ke),y.C2f(Ke,jt),yt=nn-Mn,Mn=1+Mn),nn=1+nn),Kt&y.DISTANCE)Jn=y.SinCosSeries(!0,it,_t,zt)-y.SinCosSeries(!0,Ge,We,zt),Xt.s12b=nn*(ut+Jn),Kt&(y.REDUCEDLENGTH|y.GEODESICSCALE)&&(Qn=y.SinCosSeries(!0,it,_t,jt)-y.SinCosSeries(!0,Ge,We,jt),Qt=yt*ut+(nn*Jn-Mn*Qn));else if(Kt&(y.REDUCEDLENGTH|y.GEODESICSCALE)){for(rr=1;rr<=y.nC2_;++rr)jt[rr]=nn*zt[rr]-Mn*jt[rr];Qt=yt*ut+(y.SinCosSeries(!0,it,_t,jt)-y.SinCosSeries(!0,Ge,We,jt))}return Kt&y.REDUCEDLENGTH&&(Xt.m0=yt,Xt.m12b=xt*(We*it)-et*(Ge*_t)-We*_t*Qt),Kt&y.GEODESICSCALE&&(yr=We*_t+Ge*it,Br=this._ep2*(Ot-Mt)*(Ot+Mt)/(et+xt),Xt.M12=yr+(Br*it-_t*Qt)*Ge/et,Xt.M21=yr-(Br*Ge-We*Qt)*it/xt),Xt},y.Geodesic.prototype.InverseStart=function(Ke,ut,Ge,We,et,it,_t,xt,Ot,Mt,Kt){var zt={},jt=We*ut-et*Ke,Xt=et*ut+We*Ke,yt,Qt,nn,Mn,Jn,Qn,rr,yr,Br,_n,hn,dn,sr,Or,bs,ws,$h,ia,xn,Fi,ti,Ii,Wi;return zt.sig12=-1,yt=We*ut,yt+=et*Ke,Qt=Xt>=0&&jt<.5&&et*_t<.5,Qt?(Mn=P.sq(Ke+We),Mn/=Mn+P.sq(ut+et),zt.dnm=Math.sqrt(1+this._ep2*Mn),nn=_t/(this._f1*zt.dnm),Jn=Math.sin(nn),Qn=Math.cos(nn)):(Jn=xt,Qn=Ot),zt.salp1=et*Jn,zt.calp1=Qn>=0?jt+et*Ke*P.sq(Jn)/(1+Qn):yt-et*Ke*P.sq(Jn)/(1-Qn),yr=P.hypot(zt.salp1,zt.calp1),Br=Ke*We+ut*et*Qn,Qt&&yr<this._etol2?(zt.salp2=ut*Jn,zt.calp2=jt-ut*We*(Qn>=0?P.sq(Jn)/(1+Qn):1-Qn),rr=P.hypot(zt.salp2,zt.calp2),zt.salp2/=rr,zt.calp2/=rr,zt.sig12=Math.atan2(yr,Br)):Math.abs(this._n)>.1||Br>=0||yr>=6*Math.abs(this._n)*Math.PI*P.sq(ut)||(Wi=Math.atan2(-xt,-Ot),this.f>=0?(Or=P.sq(Ke)*this._ep2,bs=Or/(2*(1+Math.sqrt(1+Or))+Or),dn=this.f*ut*this.A3f(bs)*Math.PI,sr=dn*ut,_n=Wi/dn,hn=yt/sr):(ws=et*ut-We*Ke,$h=Math.atan2(yt,ws),Fi=this.Lengths(this._n,Math.PI+$h,Ke,-ut,Ge,We,et,it,ut,et,y.REDUCEDLENGTH,Mt,Kt),ia=Fi.m12b,xn=Fi.m0,_n=-1+ia/(ut*et*xn*Math.PI),sr=_n<-.01?yt/_n:-this.f*P.sq(ut)*Math.PI,dn=sr/ut,hn=_t/dn),hn>-we&&_n>-1-Me?this.f>=0?(zt.salp1=Math.min(1,-_n),zt.calp1=-Math.sqrt(1-P.sq(zt.salp1))):(zt.calp1=Math.max(_n>-we?0:-1,_n),zt.salp1=Math.sqrt(1-P.sq(zt.calp1))):(ti=Ae(_n,hn),Ii=dn*(this.f>=0?-_n*ti/(1+ti):-hn*(1+ti)/ti),Jn=Math.sin(Ii),Qn=-Math.cos(Ii),zt.salp1=et*Jn,zt.calp1=yt-et*Ke*P.sq(Jn)/(1-Qn))),zt.salp1<=0?(zt.salp1=1,zt.calp1=0):(rr=P.hypot(zt.salp1,zt.calp1),zt.salp1/=rr,zt.calp1/=rr),zt},y.Geodesic.prototype.Lambda12=function(Ke,ut,Ge,We,et,it,_t,xt,Ot,Mt,Kt,zt,jt,Xt){var yt={},Qt,nn,Mn,Jn,Qn,rr,yr,Br,_n,hn,dn,sr,Or;return Ke===0&&xt===0&&(xt=-y.tiny_),nn=_t*ut,Mn=P.hypot(xt,_t*Ke),yt.ssig1=Ke,Jn=nn*Ke,yt.csig1=Qn=xt*ut,Qt=P.hypot(yt.ssig1,yt.csig1),yt.ssig1/=Qt,yt.csig1/=Qt,yt.salp2=et!==ut?nn/et:_t,yt.calp2=et!==ut||Math.abs(We)!==-Ke?Math.sqrt(P.sq(xt*ut)+(ut<-Ke?(et-ut)*(ut+et):(Ke-We)*(Ke+We)))/et:Math.abs(xt),yt.ssig2=We,rr=nn*We,yt.csig2=yr=yt.calp2*et,Qt=P.hypot(yt.ssig2,yt.csig2),yt.ssig2/=Qt,yt.csig2/=Qt,yt.sig12=Math.atan2(Math.max(0,yt.csig1*yt.ssig2-yt.ssig1*yt.csig2),yt.csig1*yt.csig2+yt.ssig1*yt.ssig2),Br=Math.max(0,Qn*rr-Jn*yr),_n=Qn*yr+Jn*rr,dn=Math.atan2(Br*Mt-_n*Ot,_n*Mt+Br*Ot),sr=P.sq(Mn)*this._ep2,yt.eps=sr/(2*(1+Math.sqrt(1+sr))+sr),this.C3f(yt.eps,Xt),hn=y.SinCosSeries(!0,yt.ssig2,yt.csig2,Xt)-y.SinCosSeries(!0,yt.ssig1,yt.csig1,Xt),yt.domg12=-this.f*this.A3f(yt.eps)*nn*(yt.sig12+hn),yt.lam12=dn+yt.domg12,Kt&&(yt.calp2===0?yt.dlam12=-2*this._f1*Ge/Ke:(Or=this.Lengths(yt.eps,yt.sig12,yt.ssig1,yt.csig1,Ge,yt.ssig2,yt.csig2,it,ut,et,y.REDUCEDLENGTH,zt,jt),yt.dlam12=Or.m12b,yt.dlam12*=this._f1/(yt.calp2*et))),yt},y.Geodesic.prototype.Inverse=function(Ke,ut,Ge,We,et){var it,_t;return et||(et=y.STANDARD),et===y.LONG_UNROLL&&(et|=y.STANDARD),et&=y.OUT_MASK,it=this.InverseInt(Ke,ut,Ge,We,et),_t=it.vals,et&y.AZIMUTH&&(_t.azi1=P.atan2d(it.salp1,it.calp1),_t.azi2=P.atan2d(it.salp2,it.calp2)),_t},y.Geodesic.prototype.InverseInt=function(Ke,ut,Ge,We,et){var it={},_t,xt,Ot,Mt,Kt,zt,jt,Xt,yt,Qt,nn,Mn,Jn,Qn,rr,yr,Br,_n,hn,dn,sr,Or,bs,ws,$h,ia,xn,Fi,ti,Ii,Wi,Mg,Dg,vc,zu,Uh,Gh,Hh,Vh,Tg,wb,mc,xb,Pg,Sb,Cb,Eb,FI,Ab,Rg,kb,Bg,II,Og,MI,DI,Wh,Lg,Yh,Fb,Ib,zg,Ng,Mb,Db;if(it.lat1=Ke=P.LatFix(Ke),it.lat2=Ge=P.LatFix(Ge),Ke=P.AngRound(Ke),Ge=P.AngRound(Ge),_t=P.AngDiff(ut,We),xt=_t.t,_t=_t.s,et&y.LONG_UNROLL?(it.lon1=ut,it.lon2=ut+_t+xt):(it.lon1=P.AngNormalize(ut),it.lon2=P.AngNormalize(We)),Ot=_t>=0?1:-1,_t=Ot*P.AngRound(_t),xt=P.AngRound(180-_t-Ot*xt),rr=_t*P.degree,Mt=P.sincosd(_t>90?xt:_t),yr=Mt.s,Br=(_t>90?-1:1)*Mt.c,Kt=Math.abs(Ke)<Math.abs(Ge)?-1:1,Kt<0&&(Ot*=-1,Mt=Ke,Ke=Ge,Ge=Mt),zt=Ke<0?1:-1,Ke*=zt,Ge*=zt,Mt=P.sincosd(Ke),jt=this._f1*Mt.s,Xt=Mt.c,Mt=P.hypot(jt,Xt),jt/=Mt,Xt/=Mt,Xt=Math.max(y.tiny_,Xt),Mt=P.sincosd(Ge),yt=this._f1*Mt.s,Qt=Mt.c,Mt=P.hypot(yt,Qt),yt/=Mt,Qt/=Mt,Qt=Math.max(y.tiny_,Qt),Xt<-jt?Qt===Xt&&(yt=yt<0?jt:-jt):Math.abs(yt)===-jt&&(Qt=Xt),Jn=Math.sqrt(1+this._ep2*P.sq(jt)),Qn=Math.sqrt(1+this._ep2*P.sq(yt)),bs=new Array(y.nC1_+1),ws=new Array(y.nC2_+1),$h=new Array(y.nC3_),ia=Ke===-90||yr===0,ia&&(hn=Br,dn=yr,sr=1,Or=0,Fi=jt,ti=hn*Xt,Ii=yt,Wi=sr*Qt,_n=Math.atan2(Math.max(0,ti*Ii-Fi*Wi),ti*Wi+Fi*Ii),xn=this.Lengths(this._n,_n,Fi,ti,Jn,Ii,Wi,Qn,Xt,Qt,et|y.DISTANCE|y.REDUCEDLENGTH,bs,ws),nn=xn.s12b,Mn=xn.m12b,et&y.GEODESICSCALE&&(it.M12=xn.M12,it.M21=xn.M21),_n<1||Mn>=0?(_n<3*y.tiny_&&(_n=Mn=nn=0),Mn*=this._b,nn*=this._b,it.a12=_n/P.degree):ia=!1),Wh=2,!ia&&jt===0&&(this.f<=0||xt>=this.f*180))hn=sr=0,dn=Or=1,nn=this.a*rr,_n=Dg=rr/this._f1,Mn=this._b*Math.sin(_n),et&y.GEODESICSCALE&&(it.M12=it.M21=Math.cos(_n)),it.a12=_t/this._f1;else if(!ia)if(xn=this.InverseStart(jt,Xt,Jn,yt,Qt,Qn,rr,yr,Br,bs,ws),_n=xn.sig12,dn=xn.salp1,hn=xn.calp1,_n>=0)Or=xn.salp2,sr=xn.calp2,vc=xn.dnm,nn=_n*this._b*vc,Mn=P.sq(vc)*this._b*Math.sin(_n/vc),et&y.GEODESICSCALE&&(it.M12=it.M21=Math.cos(_n/vc)),it.a12=_n/P.degree,Dg=rr/(this._f1*vc);else{for(zu=0,Uh=y.tiny_,Gh=1,Hh=y.tiny_,Vh=-1,Tg=!1,wb=!1;zu<le&&(xn=this.Lambda12(jt,Xt,Jn,yt,Qt,Qn,dn,hn,yr,Br,zu<Q,bs,ws,$h),mc=xn.lam12,Or=xn.salp2,sr=xn.calp2,_n=xn.sig12,Fi=xn.ssig1,ti=xn.csig1,Ii=xn.ssig2,Wi=xn.csig2,Mg=xn.eps,Yh=xn.domg12,xb=xn.dlam12,!(wb||!(Math.abs(mc)>=(Tg?8:1)*ge)));++zu){if(mc>0&&(zu<Q||hn/dn>Vh/Hh)?(Hh=dn,Vh=hn):mc<0&&(zu<Q||hn/dn<Gh/Uh)&&(Uh=dn,Gh=hn),zu<Q&&xb>0&&(Pg=-mc/xb,Sb=Math.sin(Pg),Cb=Math.cos(Pg),Eb=dn*Cb+hn*Sb,Eb>0&&Math.abs(Pg)<Math.PI)){hn=hn*Cb-dn*Sb,dn=Eb,Mt=P.hypot(dn,hn),dn/=Mt,hn/=Mt,Tg=Math.abs(mc)<=16*ge;continue}dn=(Uh+Hh)/2,hn=(Gh+Vh)/2,Mt=P.hypot(dn,hn),dn/=Mt,hn/=Mt,Tg=!1,wb=Math.abs(Uh-dn)+(Gh-hn)<ke||Math.abs(dn-Hh)+(hn-Vh)<ke}FI=et|(et&(y.REDUCEDLENGTH|y.GEODESICSCALE)?y.DISTANCE:y.NONE),xn=this.Lengths(Mg,_n,Fi,ti,Jn,Ii,Wi,Qn,Xt,Qt,FI,bs,ws),nn=xn.s12b,Mn=xn.m12b,et&y.GEODESICSCALE&&(it.M12=xn.M12,it.M21=xn.M21),Mn*=this._b,nn*=this._b,it.a12=_n/P.degree,et&y.AREA&&(Mb=Math.sin(Yh),Db=Math.cos(Yh),Wh=yr*Db-Br*Mb,Lg=Br*Db+yr*Mb)}return et&y.DISTANCE&&(it.s12=0+nn),et&y.REDUCEDLENGTH&&(it.m12=0+Mn),et&y.AREA&&(Ab=dn*Xt,Rg=P.hypot(hn,dn*jt),Rg!==0&&Ab!==0?(Fi=jt,ti=hn*Xt,Ii=yt,Wi=sr*Qt,Bg=P.sq(Rg)*this._ep2,Mg=Bg/(2*(1+Math.sqrt(1+Bg))+Bg),II=P.sq(this.a)*Rg*Ab*this._e2,Mt=P.hypot(Fi,ti),Fi/=Mt,ti/=Mt,Mt=P.hypot(Ii,Wi),Ii/=Mt,Wi/=Mt,Og=new Array(y.nC4_),this.C4f(Mg,Og),MI=y.SinCosSeries(!1,Fi,ti,Og),DI=y.SinCosSeries(!1,Ii,Wi,Og),it.S12=II*(DI-MI)):it.S12=0,!ia&&Wh>1&&(Wh=Math.sin(Dg),Lg=Math.cos(Dg)),!ia&&Lg>-.7071&&yt-jt<1.75?(Yh=1+Lg,Fb=1+Xt,Ib=1+Qt,kb=2*Math.atan2(Wh*(jt*Ib+yt*Fb),Yh*(jt*yt+Fb*Ib))):(zg=Or*hn-sr*dn,Ng=sr*hn+Or*dn,zg===0&&Ng<0&&(zg=y.tiny_*hn,Ng=-1),kb=Math.atan2(zg,Ng)),it.S12+=this._c2*kb,it.S12*=Kt*Ot*zt,it.S12+=0),Kt<0&&(Mt=dn,dn=Or,Or=Mt,Mt=hn,hn=sr,sr=Mt,et&y.GEODESICSCALE&&(Mt=it.M12,it.M12=it.M21,it.M21=Mt)),dn*=Kt*Ot,hn*=Kt*zt,Or*=Kt*Ot,sr*=Kt*zt,{vals:it,salp1:dn,calp1:hn,salp2:Or,calp2:sr}},y.Geodesic.prototype.GenDirect=function(Ke,ut,Ge,We,et,it){var _t;return it?it===y.LONG_UNROLL&&(it|=y.STANDARD):it=y.STANDARD,We||(it|=y.DISTANCE_IN),_t=new A.GeodesicLine(this,Ke,ut,Ge,it),_t.GenPosition(We,et,it)},y.Geodesic.prototype.Direct=function(Ke,ut,Ge,We,et){return this.GenDirect(Ke,ut,Ge,!1,We,et)},y.Geodesic.prototype.ArcDirect=function(Ke,ut,Ge,We,et){return this.GenDirect(Ke,ut,Ge,!0,We,et)},y.Geodesic.prototype.Line=function(Ke,ut,Ge,We){return new A.GeodesicLine(this,Ke,ut,Ge,We)},y.Geodesic.prototype.DirectLine=function(Ke,ut,Ge,We,et){return this.GenDirectLine(Ke,ut,Ge,!1,We,et)},y.Geodesic.prototype.ArcDirectLine=function(Ke,ut,Ge,We,et){return this.GenDirectLine(Ke,ut,Ge,!0,We,et)},y.Geodesic.prototype.GenDirectLine=function(Ke,ut,Ge,We,et,it){var _t;return it||(it=y.STANDARD|y.DISTANCE_IN),We||(it|=y.DISTANCE_IN),_t=new A.GeodesicLine(this,Ke,ut,Ge,it),_t.GenSetDistance(We,et),_t},y.Geodesic.prototype.InverseLine=function(Ke,ut,Ge,We,et){var it,_t,xt;return et||(et=y.STANDARD|y.DISTANCE_IN),it=this.InverseInt(Ke,ut,Ge,We,y.ARC),xt=P.atan2d(it.salp1,it.calp1),et&(y.OUT_MASK&y.DISTANCE_IN)&&(et|=y.DISTANCE),_t=new A.GeodesicLine(this,Ke,ut,xt,et,it.salp1,it.calp1),_t.SetArc(it.vals.a12),_t},y.Geodesic.prototype.Polygon=function(Ke){return new I.PolygonArea(this,Ke)},y.WGS84=new y.Geodesic(O.WGS84.a,O.WGS84.f)}(Zn.Geodesic,Zn.GeodesicLine,Zn.PolygonArea,Zn.Math,Zn.Constants),function(y,A,I){A.GeodesicLine=function(P,O,$,U,j,L,W){var ne,ie,Q,le,ge,we;j||(j=y.STANDARD|y.DISTANCE_IN),this.a=P.a,this.f=P.f,this._b=P._b,this._c2=P._c2,this._f1=P._f1,this.caps=j|y.LATITUDE|y.AZIMUTH|y.LONG_UNROLL,this.lat1=I.LatFix(O),this.lon1=$,typeof L>"u"||typeof W>"u"?(this.azi1=I.AngNormalize(U),ne=I.sincosd(I.AngRound(this.azi1)),this.salp1=ne.s,this.calp1=ne.c):(this.azi1=U,this.salp1=L,this.calp1=W),ne=I.sincosd(I.AngRound(this.lat1)),Q=this._f1*ne.s,ie=ne.c,ne=I.hypot(Q,ie),Q/=ne,ie/=ne,ie=Math.max(y.tiny_,ie),this._dn1=Math.sqrt(1+P._ep2*I.sq(Q)),this._salp0=this.salp1*ie,this._calp0=I.hypot(this.calp1,this.salp1*Q),this._ssig1=Q,this._somg1=this._salp0*Q,this._csig1=this._comg1=Q!==0||this.calp1!==0?ie*this.calp1:1,ne=I.hypot(this._ssig1,this._csig1),this._ssig1/=ne,this._csig1/=ne,this._k2=I.sq(this._calp0)*P._ep2,le=this._k2/(2*(1+Math.sqrt(1+this._k2))+this._k2),this.caps&y.CAP_C1&&(this._A1m1=y.A1m1f(le),this._C1a=new Array(y.nC1_+1),y.C1f(le,this._C1a),this._B11=y.SinCosSeries(!0,this._ssig1,this._csig1,this._C1a),ge=Math.sin(this._B11),we=Math.cos(this._B11),this._stau1=this._ssig1*we+this._csig1*ge,this._ctau1=this._csig1*we-this._ssig1*ge),this.caps&y.CAP_C1p&&(this._C1pa=new Array(y.nC1p_+1),y.C1pf(le,this._C1pa)),this.caps&y.CAP_C2&&(this._A2m1=y.A2m1f(le),this._C2a=new Array(y.nC2_+1),y.C2f(le,this._C2a),this._B21=y.SinCosSeries(!0,this._ssig1,this._csig1,this._C2a)),this.caps&y.CAP_C3&&(this._C3a=new Array(y.nC3_),P.C3f(le,this._C3a),this._A3c=-this.f*this._salp0*P.A3f(le),this._B31=y.SinCosSeries(!0,this._ssig1,this._csig1,this._C3a)),this.caps&y.CAP_C4&&(this._C4a=new Array(y.nC4_),P.C4f(le,this._C4a),this._A4=I.sq(this.a)*this._calp0*this._salp0*P._e2,this._B41=y.SinCosSeries(!1,this._ssig1,this._csig1,this._C4a)),this.a13=this.s13=Number.NaN},A.GeodesicLine.prototype.GenPosition=function(P,O,$){var U={},j,L,W,ne,ie,Q,le,ge,we,de,ke,Me,Re,Oe,pe,Ae,ye,Ee,je,Ye,st,gt,wt,At,Ke,ut,Ge,We,et;return $?$===y.LONG_UNROLL&&($|=y.STANDARD):$=y.STANDARD,$&=this.caps&y.OUT_MASK,U.lat1=this.lat1,U.azi1=this.azi1,U.lon1=$&y.LONG_UNROLL?this.lon1:I.AngNormalize(this.lon1),P?U.a12=O:U.s12=O,P||this.caps&y.DISTANCE_IN&y.OUT_MASK?(ne=0,ie=0,P?(j=O*I.degree,ut=I.sincosd(O),L=ut.s,W=ut.c):(ge=O/(this._b*(1+this._A1m1)),we=Math.sin(ge),de=Math.cos(ge),ne=-y.SinCosSeries(!0,this._stau1*de+this._ctau1*we,this._ctau1*de-this._stau1*we,this._C1pa),j=ge-(ne-this._B11),L=Math.sin(j),W=Math.cos(j),Math.abs(this.f)>.01&&(Q=this._ssig1*W+this._csig1*L,le=this._csig1*W-this._ssig1*L,ne=y.SinCosSeries(!0,Q,le,this._C1a),ke=(1+this._A1m1)*(j+(ne-this._B11))-O/this._b,j=j-ke/Math.sqrt(1+this._k2*I.sq(Q)),L=Math.sin(j),W=Math.cos(j))),Q=this._ssig1*W+this._csig1*L,le=this._csig1*W-this._ssig1*L,gt=Math.sqrt(1+this._k2*I.sq(Q)),$&(y.DISTANCE|y.REDUCEDLENGTH|y.GEODESICSCALE)&&((P||Math.abs(this.f)>.01)&&(ne=y.SinCosSeries(!0,Q,le,this._C1a)),ie=(1+this._A1m1)*(ne-this._B11)),Ae=this._calp0*Q,ye=I.hypot(this._salp0,this._calp0*le),ye===0&&(ye=le=y.tiny_),Ye=this._salp0,st=this._calp0*le,P&&$&y.DISTANCE&&(U.s12=this._b*((1+this._A1m1)*j+ie)),$&y.LONGITUDE&&(Ee=this._salp0*Q,je=le,pe=I.copysign(1,this._salp0),Me=$&y.LONG_UNROLL?pe*(j-(Math.atan2(Q,le)-Math.atan2(this._ssig1,this._csig1))+(Math.atan2(pe*Ee,je)-Math.atan2(pe*this._somg1,this._comg1))):Math.atan2(Ee*this._comg1-je*this._somg1,je*this._comg1+Ee*this._somg1),Re=Me+this._A3c*(j+(y.SinCosSeries(!0,Q,le,this._C3a)-this._B31)),Oe=Re/I.degree,U.lon2=$&y.LONG_UNROLL?this.lon1+Oe:I.AngNormalize(I.AngNormalize(this.lon1)+I.AngNormalize(Oe))),$&y.LATITUDE&&(U.lat2=I.atan2d(Ae,this._f1*ye)),$&y.AZIMUTH&&(U.azi2=I.atan2d(Ye,st)),$&(y.REDUCEDLENGTH|y.GEODESICSCALE)&&(wt=y.SinCosSeries(!0,Q,le,this._C2a),At=(1+this._A2m1)*(wt-this._B21),Ke=(this._A1m1-this._A2m1)*j+(ie-At),$&y.REDUCEDLENGTH&&(U.m12=this._b*(gt*(this._csig1*Q)-this._dn1*(this._ssig1*le)-this._csig1*le*Ke)),$&y.GEODESICSCALE&&(ut=this._k2*(Q-this._ssig1)*(Q+this._ssig1)/(this._dn1+gt),U.M12=W+(ut*Q-le*Ke)*this._ssig1/this._dn1,U.M21=W-(ut*this._ssig1-this._csig1*Ke)*Q/gt)),$&y.AREA&&(Ge=y.SinCosSeries(!1,Q,le,this._C4a),this._calp0===0||this._salp0===0?(We=Ye*this.calp1-st*this.salp1,et=st*this.calp1+Ye*this.salp1):(We=this._calp0*this._salp0*(W<=0?this._csig1*(1-W)+L*this._ssig1:L*(this._csig1*L/(1+W)+this._ssig1)),et=I.sq(this._salp0)+I.sq(this._calp0)*this._csig1*le),U.S12=this._c2*Math.atan2(We,et)+this._A4*(Ge-this._B41)),P||(U.a12=j/I.degree),U):(U.a12=Number.NaN,U)},A.GeodesicLine.prototype.Position=function(P,O){return this.GenPosition(!1,P,O)},A.GeodesicLine.prototype.ArcPosition=function(P,O){return this.GenPosition(!0,P,O)},A.GeodesicLine.prototype.GenSetDistance=function(P,O){P?this.SetArc(O):this.SetDistance(O)},A.GeodesicLine.prototype.SetDistance=function(P){var O;this.s13=P,O=this.GenPosition(!1,this.s13,y.ARC),this.a13=0+O.a12},A.GeodesicLine.prototype.SetArc=function(P){var O;this.a13=P,O=this.GenPosition(!0,this.a13,y.DISTANCE),this.s13=0+O.s12}}(Zn.Geodesic,Zn.GeodesicLine,Zn.Math),function(y,A,I,P){var O,$;O=function(U,j){var L,W;return U=I.AngNormalize(U),j=I.AngNormalize(j),L=I.AngDiff(U,j).s,W=U<=0&&j>0&&L>0?1:j<=0&&U>0&&L<0?-1:0,W},$=function(U,j){return U=U%720,j=j%720,(j>=0&&j<360||j<-360?0:1)-(U>=0&&U<360||U<-360?0:1)},y.PolygonArea=function(U,j){this._geod=U,this.a=this._geod.a,this.f=this._geod.f,this._area0=4*Math.PI*U._c2,this.polyline=j||!1,this._mask=A.LATITUDE|A.LONGITUDE|A.DISTANCE|(this.polyline?A.NONE:A.AREA|A.LONG_UNROLL),this.polyline||(this._areasum=new P.Accumulator(0)),this._perimetersum=new P.Accumulator(0),this.Clear()},y.PolygonArea.prototype.Clear=function(){this.num=0,this._crossings=0,this.polyline||this._areasum.Set(0),this._perimetersum.Set(0),this._lat0=this._lon0=this.lat=this.lon=Number.NaN},y.PolygonArea.prototype.AddPoint=function(U,j){var L;this.num===0?(this._lat0=this.lat=U,this._lon0=this.lon=j):(L=this._geod.Inverse(this.lat,this.lon,U,j,this._mask),this._perimetersum.Add(L.s12),this.polyline||(this._areasum.Add(L.S12),this._crossings+=O(this.lon,j)),this.lat=U,this.lon=j),++this.num},y.PolygonArea.prototype.AddEdge=function(U,j){var L;this.num&&(L=this._geod.Direct(this.lat,this.lon,U,j,this._mask),this._perimetersum.Add(j),this.polyline||(this._areasum.Add(L.S12),this._crossings+=$(this.lon,L.lon2)),this.lat=L.lat2,this.lon=L.lon2),++this.num},y.PolygonArea.prototype.Compute=function(U,j){var L={number:this.num},W,ne,ie;return this.num<2?(L.perimeter=0,this.polyline||(L.area=0),L):this.polyline?(L.perimeter=this._perimetersum.Sum(),L):(W=this._geod.Inverse(this.lat,this.lon,this._lat0,this._lon0,this._mask),L.perimeter=this._perimetersum.Sum(W.s12),ne=new P.Accumulator(this._areasum),ne.Add(W.S12),ie=this._crossings+O(this.lon,this._lon0),ie&1&&ne.Add((ne.Sum()<0?1:-1)*this._area0/2),U||ne.Negate(),j?ne.Sum()>this._area0/2?ne.Add(-this._area0):ne.Sum()<=-this._area0/2&&ne.Add(+this._area0):ne.Sum()>=this._area0?ne.Add(-this._area0):ne<0&&ne.Add(-this._area0),L.area=ne.Sum(),L)},y.PolygonArea.prototype.TestPoint=function(U,j,L,W){var ne={number:this.num+1},ie,Q,le,ge;if(this.num===0)return ne.perimeter=0,this.polyline||(ne.area=0),ne;for(ne.perimeter=this._perimetersum.Sum(),Q=this.polyline?0:this._areasum.Sum(),le=this._crossings,ge=0;ge<(this.polyline?1:2);++ge)ie=this._geod.Inverse(ge===0?this.lat:U,ge===0?this.lon:j,ge!==0?this._lat0:U,ge!==0?this._lon0:j,this._mask),ne.perimeter+=ie.s12,this.polyline||(Q+=ie.S12,le+=O(ge===0?this.lon:j,ge!==0?this._lon0:j));return this.polyline||(le&1&&(Q+=(Q<0?1:-1)*this._area0/2),L||(Q*=-1),W?Q>this._area0/2?Q-=this._area0:Q<=-this._area0/2&&(Q+=this._area0):Q>=this._area0?Q-=this._area0:Q<0&&(Q+=this._area0),ne.area=Q),ne},y.PolygonArea.prototype.TestEdge=function(U,j,L,W){var ne={number:this.num?this.num+1:0},ie,Q,le;return this.num===0||(ne.perimeter=this._perimetersum.Sum()+j,this.polyline)||(Q=this._areasum.Sum(),le=this._crossings,ie=this._geod.Direct(this.lat,this.lon,U,j,this._mask),Q+=ie.S12,le+=$(this.lon,ie.lon2),ie=this._geod.Inverse(ie.lat2,ie.lon2,this._lat0,this._lon0,this._mask),ne.perimeter+=ie.s12,Q+=ie.S12,le+=O(ie.lon2,this._lon0),le&1&&(Q+=(Q<0?1:-1)*this._area0/2),L||(Q*=-1),W?Q>this._area0/2?Q-=this._area0:Q<=-this._area0/2&&(Q+=this._area0):Q>=this._area0?Q-=this._area0:Q<0&&(Q+=this._area0),ne.area=Q),ne}}(Zn.PolygonArea,Zn.Geodesic,Zn.Math,Zn.Accumulator);function po(y,A,I){var P=1e-7,O;return A>=P?(O=A*y,I*(y/(1-O*O)-.5/A*G((1-O)/(1+O)))):y+y}function ys(y,A,I){return A/F(1-I*y*y)}ft(lte,"aea","Albers Equal Area",`Conic Sph&Ell
lat_1= lat_2=`),ft(cte,"leac","Lambert Equal Area Conic",`Conic, Sph&Ell
lat_1= south`);function lte(y){var A=Xe(y.params,"rlat_1"),I=Xe(y.params,"rlat_2");hI(y,A,I)}function cte(y){var A=Xe(y.params,"rlat_1"),I=Xe(y.params,"bsouth")?-ve:ve;hI(y,A,I)}function hI(y,A,I){var P,O,$,U,j,L,W,ne,ie,Q,le,ge,we,de;y.fwd=ke,y.inv=Me,a(A+I)<Ln&&rn(-21),O=ie=c(A),ne=d(A),Q=a(A-I)>=Ln,(W=y.es>0)?(_s(y.es),de=ys(ie,ne,y.es),we=po(ie,y.e,y.one_es),Q&&(ie=c(I),ne=d(I),ge=ys(ie,ne,y.es),le=po(ie,y.e,y.one_es),O=(de*de-ge*ge)/(le-we)),P=1-.5*y.one_es*G((1-y.e)/(1+y.e))/y.e,$=de*de+O*we,U=1/O,L=U*F($-O*po(c(y.phi0),y.e,y.one_es))):(Q&&(O=.5*(O+c(I))),j=O+O,$=ne*ne+j*ie,U=1/O,L=U*F($-j*c(y.phi0)));function ke(Oe,pe){var Ae=Oe.lam,ye;(ye=$-(W?O*po(c(Oe.phi),y.e,y.one_es):j*c(Oe.phi)))<0&&Fn(),ye=U*F(ye),pe.x=ye*c(Ae*=O),pe.y=L-ye*d(Ae)}function Me(Oe,pe){var Ae=1e-7,ye=Oe.x,Ee=L-Oe.y,je=H(ye,Ee);je!=0?(O<0&&(je=-je,ye=-ye,Ee=-Ee),pe.phi=je/U,W?(pe.phi=($-pe.phi*pe.phi)/O,a(P-a(pe.phi))>Ae?(pe.phi=Re(pe.phi,y.e,y.one_es))==N&&In():pe.phi=pe.phi<0?-ve:ve):a(pe.phi=($-pe.phi*pe.phi)/j)<=1?pe.phi=_(pe.phi):pe.phi=pe.phi<0?-ve:ve,pe.lam=k(ye,Ee)/O):(pe.lam=0,pe.phi=O>0?ve:-ve)}function Re(Oe,pe,Ae){var ye=15,Ee=1e-7,je=1e-10,Ye,st,gt,wt,At,Ke,ut;if(Ye=_(.5*Oe),pe<Ee)return Ye;ut=ye;do st=c(Ye),gt=d(Ye),wt=pe*st,At=1-wt*wt,Ke=.5*At*At/gt*(Oe/Ae-st/At+.5/pe*G((1-wt)/(1+wt))),Ye+=Ke;while(a(Ke)>je&&--ut);return ut?Ye:N}}function _s(y){var A=1,I=.25,P=.046875,O=.01953125,$=.01068115234375,U=.75,j=.46875,L=.013020833333333334,W=.007120768229166667,ne=.3645833333333333,ie=.005696614583333333,Q=.3076171875,le=[],ge;return le[0]=A-y*(I+y*(P+y*(O+y*$))),le[1]=y*(U-y*(P+y*(O+y*$))),le[2]=(ge=y*y)*(j-y*(L+y*W)),le[3]=(ge*=y)*(ne-y*ie),le[4]=ge*y*Q,le}function mr(y,A,I,P){return I*=A,A*=A,P[0]*y-I*(P[1]+A*(P[2]+A*(P[3]+A*P[4])))}function Ou(y,A,I){var P=1e-11,O=10,$=1/(1-A),U,j,L;L=y;for(var W=O;W>0;--W)if(U=c(L),j=1-A*U*U,L-=j=(mr(L,U,d(L),I)-y)*(j*F(j))*$,a(j)<P)return L;return Ar(zn),L}function ln(y){var A=1.00000000000001,I=a(y);return I>=1?(I>A&&Ar(-19),y<0?-ve:ve):_(y)}function pc(y){var A=1.00000000000001,I=a(y);return I>=1?(I>A&&Ar(-19),y<0?Z:0):x(y)}function db(y){return y<=0?0:F(y)}function gc(y,A){var I=1e-50;return a(y)<I&&a(A)<I?0:k(y,A)}ft(fte,"aeqd","Azimuthal Equidistant",`Azi, Sph&Ell
lat_0 guam`);function fte(y){var A=1e-10,I=1e-14,P=0,O=1,$=2,U=3,j,L,W,ne,ie,Q,le;if(y.phi0=Xe(y.params,"rlat_0"),a(a(y.phi0)-ve)<A?(ie=y.phi0<0?O:P,j=y.phi0<0?-1:1,L=0):a(y.phi0)<A?(ie=$,j=0,L=1):(ie=U,j=c(y.phi0),L=d(y.phi0)),!y.es)y.inv=ke,y.fwd=de;else if(le=new Zn.Geodesic.Geodesic(y.a,y.es/(1+F(y.one_es))),Q=_s(y.es),Xe(y.params,"bguam"))W=mr(y.phi0,j,L,Q),y.inv=Re,y.fwd=Me;else{switch(ie){case P:ne=mr(ve,1,0,Q);break;case O:ne=mr(-ve,-1,0,Q);break;case $:case U:y.inv=we,y.fwd=ge,1/F(1-y.es*j*j),j*(y.e/F(y.one_es));break}y.inv=we,y.fwd=ge}function ge(Oe,pe){var Ae,ye,Ee,je,Ye,st,gt,wt,At,Ke,ut;switch(Ae=d(Oe.lam),ye=d(Oe.phi),Ee=c(Oe.phi),ie){case P:Ae=-Ae;case O:pe.x=(je=a(ne-mr(Oe.phi,Ee,ye,Q)))*c(Oe.lam),pe.y=je*Ae;break;case $:case U:if(a(Oe.lam)<A&&a(Oe.phi-y.phi0)<A){pe.x=pe.y=0;break}wt=y.phi0/_e,gt=y.lam0/_e,Ke=Oe.phi/_e,At=(Oe.lam+y.lam0)/_e,ut=le.Inverse(wt,gt,Ke,At,le.AZIMUTH),Ye=ut.azi1*_e,st=ut.s12,pe.x=st*c(Ye)/y.a,pe.y=st*d(Ye)/y.a;break}}function we(Oe,pe){var Ae,ye,Ee,je,Ye,st,gt,wt;if((Ae=H(Oe.x,Oe.y))<A)return pe.phi=y.phi0,pe.lam=0,pe;ie==U||ie==$?(je=Oe.x*y.a,Ye=Oe.y*y.a,st=y.phi0/_e,gt=y.lam0/_e,ye=k(je,Ye)/_e,Ee=F(je*je+Ye*Ye),wt=le.Direct(st,gt,ye,Ee,le.STANDARD),pe.phi=wt.lat2*_e,pe.lam=wt.lon2*_e,pe.lam-=y.lam0):(pe.phi=Ou(ie==P?ne-Ae:ne+Ae,y.es,Q),pe.lam=k(Oe.x,ie==P?-Oe.y:Oe.y))}function de(Oe,pe){var Ae,ye,Ee;switch(Ee=c(Oe.phi),ye=d(Oe.phi),Ae=d(Oe.lam),ie){case $:case U:ie==$?pe.y=ye*Ae:pe.y=j*Ee+L*ye*Ae,a(a(pe.y)-1)<I?pe.y<0?Fn():pe.x=pe.y=0:(pe.y=x(pe.y),pe.y/=c(pe.y),pe.x=pe.y*ye*c(Oe.lam),pe.y*=ie==$?Ee:L*Ee-j*ye*Ae);break;case P:Oe.phi=-Oe.phi,Ae=-Ae;case O:a(Oe.phi-ve)<A&&Fn(),pe.x=(pe.y=ve+Oe.phi)*c(Oe.lam),pe.y*=Ae;break}}function ke(Oe,pe){var Ae=Oe.x,ye=Oe.y,Ee,je,Ye;if((je=H(Ae,ye))>Z)je-A>Z&&In(),je=Z;else if(je<A){pe.phi=y.phi0,pe.lam=0;return}ie==U||ie==$?(Ye=c(je),Ee=d(je),ie==$?(pe.phi=ln(ye*Ye/je),Ae*=Ye,ye=Ee*je):(pe.phi=ln(Ee*j+ye*Ye*L/je),ye=(Ee-j*c(pe.phi))*je,Ae*=Ye*L),pe.lam=ye==0?0:k(Ae,ye)):ie==P?(pe.phi=ve-je,pe.lam=k(Ae,-ye)):(pe.phi=je-ve,pe.lam=k(Ae,ye))}function Me(Oe,pe){var Ae,ye,Ee;Ae=d(Oe.phi),ye=c(Oe.phi),Ee=1/F(1-y.es*ye*ye),pe.x=Oe.lam*Ae*Ee,pe.y=mr(Oe.phi,ye,Ae,Q)-W+.5*Oe.lam*Oe.lam*Ae*ye*Ee}function Re(Oe,pe){var Ae,ye,Ee;for(Ae=.5*Oe.x*Oe.x,pe.phi=y.phi0,Ee=0;Ee<3;++Ee)ye=y.e*c(pe.phi),pe.phi=Ou(W+Oe.y-Ae*v(pe.phi)*(ye=F(1-ye*ye)),y.es,Q);pe.lam=Oe.x*ye/d(pe.phi)}}ft(hte,"airy","Airy",`Misc Sph, no inv.
no_cut lat_b=`);function hte(y){var A=1e-10,I=0,P=1,O=2,$=3,U,j,L,W,ne,ie;y.es=0,y.fwd=Q,ne=Xe(y.params,"bno_cut"),ie=.5*(ve-Xe(y.params,"rlat_b")),a(ie)<A?L=-.5:(L=1/v(ie),L*=L*G(d(ie))),a(a(y.phi0)-ve)<A?y.phi0<0?(p_halfpi=-ve,W=P):(p_halfpi=ve,W=I):a(y.phi0)<A?W=O:(W=$,U=c(y.phi0),j=d(y.phi0));function Q(le,ge){var we,de,ke,Me,Re,Oe,pe,Ae;switch(we=c(le.lam),de=d(le.lam),W){case O:case $:Me=c(le.phi),ke=d(le.phi),Ae=ke*de,W==$&&(Ae=U*Me+j*Ae),!ne&&Ae<-A&&Fn(),a(Oe=1-Ae)>A?(Re=.5*(1+Ae),pe=-G(Re)/Oe-L/Re):pe=.5-L,ge.x=pe*ke*we,W==$?ge.y=pe*(j*Me-U*ke*de):ge.y=pe*Me;break;case P:case I:le.phi=a(p_halfpi-le.phi),!ne&&le.phi-A>ve&&Fn(),(le.phi*=.5)>A?(Re=v(le.phi),pe=-2*(G(d(le.phi))/Re+Re*L),ge.x=pe*we,ge.y=pe*de,W==I&&(ge.y=-ge.y)):ge.x=ge.y=0}}}ft(dte,"wintri","Winkel Tripel",`Misc Sph
lat_1`),ft(dI,"aitoff","Aitoff","Misc Sph");function dte(y){var A=y.opaque={mode:1};Xe(y.params,"tlat_1")?(A.cosphi1=d(Xe(y.params,"rlat_1")))===0&&rn(-22):A.cosphi1=.6366197723675814,dI(y)}function dI(y){var A=y.opaque||{mode:0};y.inv=P,y.fwd=I,y.es=0;function I(O,$){var U,j;(j=x(d(O.phi)*d(U=.5*O.lam)))?($.x=2*j*d(O.phi)*c(U)*($.y=1/c(j)),$.y*=j*c(O.phi)):$.x=$.y=0,A.mode&&($.x=($.x+O.lam*A.cosphi1)*.5,$.y=($.y+O.phi)*.5)}function P(O,$){var U=10,j=20,L=1e-12,W=0,ne,ie,Q,le,ge,we,de,ke,Me,Re,Oe,pe,Ae,ye,Ee,je,Ye;if(a(O.x)<L&&a(O.y)<L){$.phi=0,$.lam=0;return}$.phi=O.y,$.lam=O.x;do{ne=0;do{for(pe=c($.lam*.5),Ee=d($.lam*.5),Ae=c($.phi),ye=d($.phi),ie=ye*Ee,Q=1-ie*ie,ie=x(ie)/B(Q,1.5),le=2*ie*Q*ye*pe,ge=ie*Q*Ae,we=2*(pe*Ee*Ae*ye/Q-ie*Ae*pe),de=ye*ye*pe*pe/Q+ie*ye*Ee*Ae*Ae,ke=Ae*Ae*Ee/Q+ie*pe*pe*ye,Me=.5*(Ae*ye*pe/Q-ie*Ae*ye*ye*pe*Ee),A.mode&&(le=.5*(le+$.lam*A.cosphi1),ge=.5*(ge+$.phi),we*=.5,de=.5*(de+A.cosphi1),ke=.5*(ke+1),Me*=.5),le-=O.x,ge-=O.y,Oe=(ge*we-le*ke)/(Re=we*Me-ke*de),Re=(le*Me-ge*de)/Re;Oe>Z;)Oe-=Z;for(;Oe<-Z;)Oe+=Z;$.phi-=Re,$.lam-=Oe}while((a(Re)>L||a(Oe)>L)&&ne++<U);$.phi>ve&&($.phi-=2*($.phi-ve)),$.phi<-ve&&($.phi-=2*($.phi+ve)),a(a($.phi)-ve)<L&&!A.mode&&($.lam=0),(ie=x(d($.phi)*d(Q=.5*$.lam)))?(je=2*ie*d($.phi)*c(Q)*(Ye=1/c(ie)),Ye*=ie*c($.phi)):je=Ye=0,A.mode&&(je=(je+$.lam*A.cosphi1)*.5,Ye=(Ye+$.phi)*.5)}while((a(O.x-je)>L||a(O.y-Ye)>L)&&W++<j)}}ft(pte,"august","August Epicycloidal","Misc Sph, no inv.");function pte(y){y.fwd=A,y.es=0;function A(I,P){var O=1.3333333333333333,$=I.lam,U,j,L,W,ne,ie,Q;U=v(.5*I.phi),j=F(1-U*U),L=1+j*d($*=.5),W=c($)*j/L,ie=U/L,P.x=O*W*(3+(ne=W*W)-3*(Q=ie*ie)),P.y=O*ie*(3+3*ne-Q)}}ft(vte,"apian","Apian Globular I","Misc Sph, no inv."),ft(mte,"ortel","Ortelius Oval","Misc Sph, no inv."),ft(gte,"bacon","Bacon Globular","Misc Sph, no inv.");function gte(y){pb(y,!0,!1)}function vte(y){pb(y,!1,!1)}function mte(y){pb(y,!1,!0)}function pb(y,A,I){y.es=0,y.fwd=P;function P(O,$){var U=2.4674011002723395,j=1e-10,L,W;$.y=A?ve*c(O.phi):O.phi,(L=a(O.lam))>=j?(I&&L>=ve?$.x=F(U-O.phi*O.phi+j)+L-ve:(W=.5*(U/L+L),$.x=L-W+F(W*W-$.y*$.y)),O.lam<0&&($.x=-$.x)):$.x=0}}ft(yte,"bertin1953","Bertin 1953","Misc., Sph., NoInv.");function yte(y){var A,I,P,O;y.es=0,y.fwd=$,y.lam0=0,y.phi0=_e*-42,A=d(y.phi0),I=c(y.phi0),P=1,O=0;function $(U,j){var L=1.4,W=12,ne=1.68,ie,Q,le,ge,we,de;return U.lam+=_e*-16.5,Q=d(U.phi),le=d(U.lam)*Q,ge=c(U.lam)*Q,we=c(U.phi),de=we*A+le*I,U.lam=k(ge*P-de*O,le*A-we*I),de=de*P+ge*O,U.phi=_(de),U.lam=Hi(U.lam),U.lam+U.phi<-L&&(ie=(U.lam-U.phi+1.6)*(U.lam+U.phi+L)/8,U.lam+=ie,U.phi-=.8*ie*c(U.phi+Z/2)),Q=d(U.phi),ie=F(2/(1+Q*d(U.lam/2))),j.x=ne*ie*Q*c(U.lam/2),j.y=ie*c(U.phi),ie=(1-d(U.lam*U.phi))/W,j.y<0&&(j.x*=1+ie),j.y>0&&(j.y*=1+ie/1.5*j.x*j.x),j}}ft(_te,"boggs","Boggs Eumorphic","PCyl., no inv., Sph.");function _te(y){var A=20,I=1e-7,P=F(2),O=2.00276,$=1.11072,U=.49931;y.fwd=j,y.es=0;function j(L,W){var ne,ie,Q,le;if(ne=L.phi,a(a(L.phi)-ve)<I)W.x=0;else{for(Q=c(ne)*Z,le=A;le&&(ne-=ie=(ne+c(ne)-Q)/(1+d(ne)),!(a(ie)<I));--le);ne*=.5,W.x=O*L.lam/(1/d(L.phi)+$/d(ne))}W.y=U*(L.phi+P*c(ne))}}ft(bte,"bonne","Bonne (Werner lat_1=90)",`Conic Sph&Ell
lat_1=`);function bte(y){var A=1e-10,I,P,O,$,U,j;I=Xe(y.params,"rlat_1"),a(I)<A&&rn(-23),y.es?(U=_s(y.es),$=mr(I,O=c(I),j=d(I),U),O=j/(F(1-y.es*O*O)*O),y.inv=W,y.fwd=L):(a(I)+A>=ve?P=0:P=1/v(I),y.inv=ie,y.fwd=ne);function L(Q,le){var ge,we,de;ge=O+$-mr(Q.phi,we=c(Q.phi),de=d(Q.phi),U),we=de*Q.lam/(ge*F(1-y.es*we*we)),le.x=ge*c(we),le.y=O-ge*d(we)}function W(Q,le){var ge,we;we=H(Q.x,Q.y=O-Q.y),le.phi=Ou(O+$-we,y.es,U),(ge=a(le.phi))<ve?(ge=c(le.phi),le.lam=we*k(Q.x,Q.y)*F(1-y.es*ge*ge)/d(le.phi)):a(ge-ve)<=A?le.lam=0:In()}function ne(Q,le){var ge,we;we=P+I-Q.phi,a(we)>A?(le.x=we*c(ge=Q.lam*d(Q.phi)/we),le.y=P-we*d(ge)):le.x=le.y=0}function ie(Q,le){var ge=H(Q.x,Q.y=P-Q.y);le.phi=P+I-ge,a(le.phi)>ve&&In(),a(a(le.phi)-ve)<=A?le.lam=0:le.lam=ge*k(Q.x,Q.y)/d(le.phi)}}ft(wte,"cass","Cassini","Cyl, Sph&Ell");function wte(y){var A=.16666666666666666,I=.008333333333333333,P=.041666666666666664,O=.3333333333333333,$=.06666666666666667,U,j;y.es?(j=_s(y.es),U=mr(y.phi0,c(y.phi0),d(y.phi0),j),y.fwd=L,y.inv=W):(y.fwd=ne,y.inv=ie);function L(Q,le){var ge,we,de,ke,Me,Re;le.y=mr(Q.phi,ge=c(Q.phi),ke=d(Q.phi),j),ge=1/F(1-y.es*ge*ge),Re=v(Q.phi),we=Re*Re,de=Q.lam*ke,ke*=y.es*ke/(1-y.es),Me=de*de,le.x=ge*de*(1-Me*we*(A-(8-we+8*ke)*Me*I)),le.y-=U-ge*Re*Me*(.5+(5-we+6*ke)*Me*P)}function W(Q,le){var ge,we,de,ke,Me,Re,Oe;Oe=Ou(U+Q.y,y.es,j),Re=v(Oe),we=Re*Re,ge=c(Oe),de=1/(1-y.es*ge*ge),ge=F(de),de*=(1-y.es)*ge,ke=Q.x/ge,Me=ke*ke,le.phi=Oe-ge*Re/de*Me*(.5-(1+3*we)*Me*P),le.lam=ke*(1+we*Me*(-O+(1+3*we)*Me*$))/d(Oe)}function ne(Q,le){le.x=_(d(Q.phi)*c(Q.lam)),le.y=k(v(Q.phi),d(Q.lam))-y.phi0}function ie(Q,le){var ge=Q.y+y.phi0;le.phi=_(c(ge)*d(Q.x)),le.lam=k(v(Q.x),d(ge))}}function Eg(y){var A=.3333333333333333,I=.17222222222222222,P=.10257936507936508,O=.06388888888888888,$=.0664021164021164,U=.01677689594356261,j=[],L;return j[0]=y*A,L=y*y,j[0]+=L*I,j[1]=L*O,L*=y,j[0]+=L*P,j[1]+=L*$,j[2]=L*U,j}function gb(y,A){var I=y+y;return y+A[0]*c(I)+A[1]*c(I+I)+A[2]*c(I+I+I)}ft(xte,"cea","Equal Area Cylindrical",`Cyl, Sph&Ell
lat_ts=`);function xte(y){var A=0,I,P;Xe(y.params,"tlat_ts")&&(y.k0=d(A=Xe(y.params,"rlat_ts")),y.k0<0&&rn(-24)),y.es?(A=c(A),y.k0/=F(1-y.es*A*A),y.e=F(y.es),(P=Eg(y.es))||e_error_0(),I=po(1,y.e,y.one_es),y.fwd=O,y.inv=$):(y.fwd=U,y.inv=j);function O(L,W){W.x=y.k0*L.lam,W.y=.5*po(c(L.phi),y.e,y.one_es)/y.k0}function $(L,W){W.phi=gb(_(2*L.y*y.k0/I),P),W.lam=L.x/y.k0}function U(L,W){W.x=y.k0*L.lam,W.y=c(L.phi)/y.k0}function j(L,W){var ne=L.x,ie=L.y,Q;(Q=a(ie*=y.k0))-Ln<=1?(Q>=1?W.phi=ie<0?-ve:ve:W.phi=_(ie),W.lam=ne/y.k0):In()}}ft(Ste,"chamb","Chamberlin Trimetric",`Misc Sph, no inv.
lat_1= lon_1= lat_2= lon_2= lat_3= lon_3=`);function Ste(y){var A=.3333333333333333,I=1e-9,P=[],O,$,U,j,L,W,ne;for(W=0;W<3;++W)P[W]={p:{}},P[W].phi=Xe(y.params,"rlat_"+(W+1)),P[W].lam=Xe(y.params,"rlon_"+(W+1)),P[W].lam=Hi(P[W].lam-y.lam0),P[W].cosphi=d(P[W].phi),P[W].sinphi=c(P[W].phi);for(W=0;W<3;++W)ne=W==2?0:W+1,P[W].v=Q(P[ne].phi-P[W].phi,P[W].cosphi,P[W].sinphi,P[ne].cosphi,P[ne].sinphi,P[ne].lam-P[W].lam),P[W].v.r||rn(-25);U=le(P[0].v.r,P[2].v.r,P[1].v.r),j=le(P[0].v.r,P[1].v.r,P[2].v.r),L=Z-U,$=2*(P[0].p.y=P[1].p.y=P[2].v.r*c(U)),P[2].p.y=0,P[0].p.x=-(P[1].p.x=.5*P[0].v.r),O=P[2].p.x=P[0].p.x+P[2].v.r*d(U),y.es=0,y.fwd=ie;function ie(ge,we){var de,ke,Me,Re,Oe,pe,Ae,ye=[];for(de=c(ge.phi),ke=d(ge.phi),Re=0;Re<3&&(ye[Re]=Q(ge.phi-P[Re].phi,P[Re].cosphi,P[Re].sinphi,ke,de,ge.lam-P[Re].lam),!!ye[Re].r);++Re)ye[Re].Az=Hi(ye[Re].Az-P[Re].v.Az);if(Re<3)pe=P[Re].p.x,Ae=P[Re].p.y;else{for(pe=O,Ae=$,Re=0;Re<3;++Re)Oe=Re==2?0:Re+1,Me=le(P[Re].v.r,ye[Re].r,ye[Oe].r),ye[Re].Az<0&&(Me=-Me),Re?Re==1?(Me=j-Me,pe-=ye[Re].r*d(Me),Ae-=ye[Re].r*c(Me)):(Me=L-Me,pe+=ye[Re].r*d(Me),Ae+=ye[Re].r*c(Me)):(pe+=ye[Re].r*d(Me),Ae-=ye[Re].r*c(Me));pe*=A,Ae*=A}we.x=pe,we.y=Ae}function Q(ge,we,de,ke,Me,Re){var Oe={},pe,Ae,ye;return pe=d(Re),a(ge)>1||a(Re)>1?Oe.r=pc(cs1*Me+we*ke*pe):(Ae=c(.5*ge),ye=c(.5*Re),Oe.r=2*ln(F(Ae*Ae+we*ke*ye*ye))),a(Oe.r)>I?Oe.Az=k(ke*c(Re),we*Me-de*ke*pe):Oe.r=Oe.Az=0,Oe}function le(ge,we,de){return pc(.5*(ge*ge+we*we-de*de)/(ge*we))}}ft(Cte,"crast","Craster Parabolic (Putnins P4)","PCyl., Sph.");function Cte(y){var A=.9772050238058398,I=1.0233267079464885,P=3.0699801238394655,O=.32573500793527993,$=1/3;y.inv=j,y.fwd=U,y.es=0;function U(L,W){L.phi*=$,W.x=A*L.lam*(2*d(L.phi+L.phi)-1),W.y=P*c(L.phi)}function j(L,W){W.phi=3*_(L.y*O),W.lam=L.x*I/(2*d((W.phi+W.phi)*$)-1)}}ft(Ete,"cupola","Cupola","PCyl., Sph., NoInv.");function Ete(y){var A=.5253,I=.7264,P=1/Math.sqrt(A*I),O=.4188,$=.9701,U=22*_e,j=ie(U),L=Q(0),W=c(j),ne=d(j);Xe(y.params,"tlon_0")||(y.lam0=11.023*_e),y.es=0,y.fwd=le;function ie(ge){return _(I*c(ge)+O*F(A*I))}function Q(ge){return A*ge}function le(ge,we){var de=ie(ge.phi),ke=Q(ge.lam),Me=c(de),Re=d(de),Oe=c(ke-L),pe=d(ke-L),Ae=F(2/(1+c(j)*Me+ne*Re*pe));we.x=P*Ae*Re*Oe*$,we.y=P*Ae*(ne*Me-W*Re*pe)/$}}ft(Ate,"denoy","Denoyer Semi-Elliptical","PCyl, Sph., no inv.");function Ate(y){y.fwd=A,y.es=0;function A(I,P){var O=.95,$=-.08333333333333333,U=.0016666666666666666,j=.9,L=.03,W=a(I.lam);P.y=I.phi,P.x=I.lam,P.x*=d((O+W*($+W*W*U))*(I.phi*(j+L*I.phi*I.phi*I.phi*I.phi)))}}ft(kte,"eck1","Eckert I","PCyl Sph"),ft(Fte,"eck2","Eckert II","PCyl Sph"),ft(Ite,"eck3","Eckert III","PCyl Sph"),ft(Dte,"wag6","Wagner VI","PCyl Sph"),ft(Mte,"kav7","Kavraisky VII","PCyl Sph"),ft(Tte,"putp1","Putnins P1","PCyl Sph"),ft(Pte,"eck4","Eckert IV","PCyl Sph"),ft(Rte,"eck5","Eckert V","PCyl Sph");function kte(y){var A=.9213177319235613,I=.3183098861837907;y.es=0,y.fwd=P,y.inv=O;function P($,U){U.x=A*$.lam*(1-I*a($.phi)),U.y=A*$.phi}function O($,U){U.phi=$.y/A,U.lam=$.x/(A*(1-I*a(U.phi)))}}function Fte(y){var A=.46065886596178063,I=1.4472025091165353,P=.3333333333333333,O=1.0000001;y.es=0,y.fwd=$,y.inv=U;function $(j,L){L.x=A*j.lam*(L.y=F(4-3*c(a(j.phi)))),L.y=I*(2-L.y),j.phi<0&&(L.y=-L.y)}function U(j,L){L.lam=j.x/(A*(L.phi=2-a(j.y)/I)),L.phi=(4-L.phi*L.phi)*P,a(L.phi)>=1?a(L.phi)>O?In():L.phi=L.phi<0?-ve:ve:L.phi=_(L.phi),j.y<0&&(L.phi=-L.phi)}}function Ite(y){var A={C_x:.4222382003157712,C_y:.8444764006315424,A:1,B:.4052847345693511};Ag(y,A)}function Mte(y){var A={C_x:.8660254037844,C_y:1,A:0,B:.3039635509270133};Ag(y,A)}function Dte(y){var A={C_x:.94745,C_y:.94745,A:0,B:.3039635509270133};Ag(y,A)}function Tte(y){var A={C_x:1.8949,C_y:.94745,A:-.5,B:.3039635509270133};Ag(y,A)}function Ag(y,A){y.es=0,y.fwd=I,y.inv=P;function I(O,$){$.y=A.C_y*O.phi,$.x=A.C_x*O.lam*(A.A+db(1-A.B*O.phi*O.phi))}function P(O,$){$.phi=O.y/A.C_y,$.lam=O.x/(A.C_x*(A.A+db(1-A.B*$.phi*$.phi)))}}function Pte(y){var A=.4222382003157712,I=1.3265004281770023,P=3.5707963267948966,O=1e-7,$=6;y.es=0,y.fwd=U,y.inv=j;function U(L,W){var ne,ie,Q,le,ge;for(ne=P*c(L.phi),ie=L.phi*L.phi,L.phi*=.895168+ie*(.0218849+ie*.00826809),ge=$;ge&&(le=d(L.phi),Q=c(L.phi),L.phi-=ie=(L.phi+Q*(le+2)-ne)/(1+le*(le+2)-Q*Q),!(a(ie)<O));--ge);ge?(W.x=A*L.lam*(1+d(L.phi)),W.y=I*c(L.phi)):(W.x=A*L.lam,W.y=L.phi<0?-I:I)}function j(L,W){var ne;W.phi=ln(L.y/I),W.lam=L.x/(A*(1+(ne=d(W.phi)))),W.phi=ln((W.phi+c(W.phi)*(ne+2))/P)}}function Rte(y){var A=.4410127717245515,I=2.267508027238226,P=.882025543449103,O=1.133754013619113;y.es=0,y.fwd=$,y.inv=U;function $(j,L){L.x=A*(1+d(j.phi))*j.lam,L.y=P*j.phi}function U(j,L){L.lam=I*j.x/(1+d(L.phi=O*j.y))}}ft(Bte,"eqc","Equidistant Cylindrical (Plate Caree)",`Cyl, Sph
lat_ts=[, lat_0=0]`);function Bte(y){var A=d(Xe(y.params,"rlat_ts"));A<=0&&rn(-24),y.es=0,y.fwd=I,y.inv=P;function I(O,$){$.x=A*O.lam,$.y=O.phi-y.phi0}function P(O,$){$.lam=O.x/A,$.phi=O.y+y.phi0}}ft(Ote,"eqdc","Equidistant Conic",`Conic, Sph&Ell
lat_1= lat_2=`);function Ote(y){var A,I,P,O,$,U,j,L,W,ne,ie,Q,le;A=Xe(y.params,"rlat_1"),I=Xe(y.params,"rlat_2"),a(A+I)<Ln&&rn(-21),(j=_s(y.es))||e_error_0(),P=ne=c(A),W=d(A),ie=a(A-I)>=Ln,(L=y.es>0)?(le=ys(ne,W,y.es),Q=mr(A,ne,W,j),ie&&(ne=c(I),W=d(I),P=(le-ys(ne,W,y.es))/(mr(I,ne,W,j)-Q)),U=Q+le/P,$=U-mr(y.phi0,c(y.phi0),d(y.phi0),j)):(ie&&(P=(W-d(I))/(I-A)),U=A+d(A)/P,$=U-y.phi0),y.fwd=ge,y.inv=we;function ge(de,ke){O=U-(L?mr(de.phi,c(de.phi),d(de.phi),j):de.phi),ke.x=O*c(de.lam*=P),ke.y=$-O*d(de.lam)}function we(de,ke){(O=H(de.x,de.y=$-de.y))!=0?(P<0&&(O=-O,de.x=-de.x,de.y=-de.y),ke.phi=U-O,L&&(ke.phi=Ou(ke.phi,y.es,j)),ke.lam=k(de.x,de.y)/P):(ke.lam=0,ke.phi=P>0?ve:-ve)}}ft(Lte,"eqearth","Equal Earth","PCyl., Sph.");function Lte(y){var A=1.340264,I=-.081106,P=893e-6,O=.003796,$=Math.sqrt(3)/2;y.es=0,y.fwd=U,y.inv=j;function U(L,W){var ne=Math.asin($*Math.sin(L.phi)),ie=ne*ne,Q=ie*ie*ie;W.x=L.lam*Math.cos(ne)/($*(A+3*I*ie+Q*(7*P+9*O*ie))),W.y=ne*(A+I*ie+Q*(P+O*ie))}function j(L,W){var ne=1e-9,ie=12,Q=L.y,le,ge,we,de,ke,Me;for(Me=0;Me<ie&&(le=Q*Q,ge=le*le*le,we=Q*(A+I*le+ge*(P+O*le))-L.y,de=A+3*I*le+ge*(7*P+9*O*le),Q-=ke=we/de,!(Math.abs(ke)<ne));++Me);le=Q*Q,ge=le*le*le,W.lam=$*L.x*(A+3*I*le+ge*(7*P+9*O*le))/Math.cos(Q),W.phi=Math.asin(Math.sin(Q)/$)}}ft(vb,"etmerc","Extended Transverse Mercator",`Cyl, Sph
lat_ts=(0)
lat_0=(0)`);function vb(y){var A=[],I=[],P=[],O=[],$,U,j,L,W,ne;y.es<=0&&rn(-34),j=y.es/(1+F(1-y.es)),W=L=j/(2-j),A[0]=L*(2+L*(-2/3+L*(-2+L*(116/45+L*(26/45+L*(-2854/675)))))),I[0]=L*(-2+L*(2/3+L*(4/3+L*(-82/45+L*(32/45+L*(4642/4725)))))),W*=L,A[1]=W*(7/3+L*(-8/5+L*(-227/45+L*(2704/315+L*(2323/945))))),I[1]=W*(5/3+L*(-16/15+L*(-13/9+L*(904/315+L*(-1522/945))))),W*=L,A[2]=W*(56/15+L*(-136/35+L*(-1262/105+L*(73814/2835)))),I[2]=W*(-26/15+L*(34/21+L*(8/5+L*(-12686/2835)))),W*=L,A[3]=W*(4279/630+L*(-332/35+L*(-399572/14175))),I[3]=W*(1237/630+L*(-12/5+L*(-24832/14175))),W*=L,A[4]=W*(4174/315+L*(-144838/6237)),I[4]=W*(-734/315+L*(109598/31185)),W*=L,A[5]=W*(601676/22275),I[5]=W*(444337/155925),W=L*L,$=y.k0/(1+L)*(1+W*(1/4+W*(1/64+W/256))),P[0]=L*(-.5+L*(2/3+L*(-37/96+L*(1/360+L*(81/512+L*(-96199/604800)))))),O[0]=L*(.5+L*(-2/3+L*(5/16+L*(41/180+L*(-127/288+L*(7891/37800)))))),P[1]=W*(-1/48+L*(-1/15+L*(437/1440+L*(-46/105+L*(1118711/3870720))))),O[1]=W*(13/48+L*(-3/5+L*(557/1440+L*(281/630+L*(-1983433/1935360))))),W*=L,P[2]=W*(-17/480+L*(37/840+L*(209/4480+L*(-5569/90720)))),O[2]=W*(61/240+L*(-103/140+L*(15061/26880+L*(167603/181440)))),W*=L,P[3]=W*(-4397/161280+L*(11/504+L*(830251/7257600))),O[3]=W*(49561/161280+L*(-179/168+L*(6601661/7257600))),W*=L,P[4]=W*(-4583/161280+L*(108847/3991680)),O[4]=W*(34729/80640+L*(-3418889/1995840)),W*=L,P[5]=W*(-20648693/638668800),O[5]=W*(212378941/319334400),ne=we(I,y.phi0),U=-$*(ne+de(O,2*ne)),y.fwd=ie,y.inv=Q;function ie(Me,Re){var Oe,pe,Ae,ye,Ee,je=Me.phi,Ye=Me.lam;je=we(I,je),Oe=c(je),pe=d(je),ye=c(Ye),Ae=d(Ye),je=k(Oe,Ae*pe),Ye=k(ye*pe,H(Oe,pe*Ae)),Ye=ge(v(Ye)),Ee=ke(O,2*je,2*Ye),je+=Ee[0],Ye+=Ee[1],a(Ye)<=2.623395162778?(Re.y=$*je+U,Re.x=$*Ye):Re.x=Re.y=N}function Q(Me,Re){var Oe,pe,Ae,ye,Ee,je=Me.y,Ye=Me.x;je=(je-U)/$,Ye=Ye/$,a(Ye)<=2.623395162778?(Ee=ke(P,2*je,2*Ye),je+=Ee[0],Ye+=Ee[1],Ye=E(J(Ye)),Oe=c(je),pe=d(je),ye=c(Ye),Ae=d(Ye),Ye=k(ye,Ae*pe),je=k(Oe*Ae,H(ye,Ae*pe)),Re.phi=we(A,je),Re.lam=Ye):Re.phi=Re.lam=N}function le(Me){var Re=1+Me,Oe=Re-1;return Oe===0?Me:Me*G(Re)/Oe}function ge(Me){var Re=a(Me);return Re=le(Re*(1+Re/(H(1,Re)+1))),Me<0?-Re:Re}function we(Me,Re){for(var Oe=2*d(2*Re),pe=Me.length-1,Ae=Me[pe],ye=0,Ee;--pe>=0;)Ee=-ye+Oe*Ae+Me[pe],ye=Ae,Ae=Ee;return Re+Ee*c(2*Re)}function de(Me,Re){for(var Oe=2*d(Re),pe=Me.length-1,Ae=Me[pe],ye=0,Ee;--pe>=0;)Ee=-ye+Oe*Ae+Me[pe],ye=Ae,Ae=Ee;return c(Re)*Ee}function ke(Me,Re,Oe){for(var pe=c(Re),Ae=d(Re),ye=J(Oe),Ee=ue(Oe),je=2*Ae*Ee,Ye=-2*pe*ye,st=Me.length-1,gt=Me[st],wt=0,At=0,Ke=0,ut,Ge;--st>=0;)ut=At,Ge=wt,At=gt,wt=Ke,gt=-ut+je*At-Ye*wt+Me[st],Ke=-Ge+Ye*At+je*wt;return je=pe*Ee,Ye=Ae*ye,[je*gt-Ye*Ke,je*Ke+Ye*gt]}}ft(zte,"gall","Gall (Gall Stereographic)","Cyl, Sph");function zte(y){var A=1.7071067811865475,I=.7071067811865476,P=.585786437626905,O=1.4142135623730951;y.fwd=$,y.inv=U,y.es=0;function $(j,L){L.x=I*j.lam,L.y=A*v(.5*j.phi)}function U(j,L){L.lam=O*j.x,L.phi=2*E(j.y*P)}}ft(Nte,"geocent","Geocentric","");function Nte(y){y.is_geocent=!0,y.x0=0,y.y0=0,y.fwd=function(A,I){I.x=A.lam,I.y=A.phi},y.inv=function(A,I){I.phi=A.y,I.lam=A.x}}ft(jte,"geos","Geostationary Satellite View","Azi, Sph&Ell");function jte(y){var A,I,P,O,$,U,j,L=Xe(y.params,"dh"),W=Xe(y.params,"ssweep");W?W=="x"?j=1:W=="y"?j=0:rn(-49):j=0,$=L/y.a,($<=0||$>1e10)&&rn(-50),O=1+$,U=O*O-1,y.es!=0?(A=F(y.one_es),I=y.one_es,P=y.rone_es,y.inv=le,y.fwd=Q):(A=I=P=1,y.inv=ie,y.fwd=ne);function ne(ge,we){var de=d(ge.phi),ke=d(ge.lam)*de,Me=c(ge.lam)*de,Re=c(ge.phi);de=O-ke,j?(we.x=$*E(Me/H(Re,de)),we.y=$*E(Re/de)):(we.x=$*E(Me/de),we.y=$*E(Re/H(Me,de)))}function ie(ge,we){var de,ke,Me,Re,Oe,pe;de=-1,j?(Me=v(ge.y/$),ke=v(ge.x/$)*F(1+Me*Me)):(ke=v(ge.x/$),Me=v(ge.y/$)*F(1+ke*ke)),Re=ke*ke+Me*Me+de*de,Oe=2*O*de;var Ae=Oe*Oe-4*Re*U;Ae<0&&rn(-51),pe=(-Oe-F(Ae))/(2*Re),de=O+pe*de,ke*=pe,Me*=pe,we.lam=k(ke,de),we.phi=E(Me*d(we.lam)/de)}function Q(ge,we){var de,ke,Me,Re,Oe;ge.phi=E(I*v(ge.phi)),de=A/H(A*d(ge.phi),c(ge.phi)),ke=de*d(ge.lam)*d(ge.phi),Me=de*c(ge.lam)*d(ge.phi),Re=de*c(ge.phi),(O-ke)*ke-Me*Me-Re*Re*P<0&&rn(-51),Oe=O-ke,j?(we.x=$*E(Me/H(Re,Oe)),we.y=$*E(Re/Oe)):(we.x=$*E(Me/Oe),we.y=$*E(Re/H(Me,Oe)))}function le(ge,we){var de,ke,Me,Re,Oe,pe;de=-1,j?(Me=v(ge.y/$),ke=v(ge.x/$)*H(1,Me)):(ke=v(ge.x/$),Me=v(ge.y/$)*H(1,ke)),Re=Me/A,Re=ke*ke+Re*Re+de*de,Oe=2*O*de;var Ae=Oe*Oe-4*Re*U;Ae<0&&rn(-51),pe=(-Oe-F(Ae))/(2*Re),de=O+pe*de,ke*=pe,Me*=pe,we.lam=k(ke,de),we.phi=E(Me*d(we.lam)/de),we.phi=E(P*v(we.phi))}}ft(qte,"gilbert","Gilbert Two World Perspective",`PCyl., Sph., NoInv.
lat_1=`);function qte(y){var A=Xe(y.params,"tlat_1")?Xe(y.params,"rlat_1"):0,I=U(A),P=c(I),O=d(I);y.fwd=$,y.es=0;function $(j,L){var W=j.lam*.5,ne=U(j.phi),ie=c(ne),Q=d(ne),le=d(W);P*ie+O*Q*le>=0?(L.x=Q*c(W),L.y=O*ie-P*Q*le):Fn()}function U(j){return ln(v(.5*j))}}ft($te,"gins8","Ginsburg VIII (TsNIIGAiK)","PCyl, Sph., no inv.");function $te(y){y.fwd=A,y.es=0;function A(I,P){var O=952426e-9,$=.162388,U=.08333333333333333,j=I.phi*I.phi;P.y=I.phi*(1+j*U),P.x=I.lam*(1-$*j),j=I.lam*I.lam,P.x*=.87-O*j*j}}ft(Ute,"gn_sinu","General Sinusoidal Series",`PCyl, Sph.
m= n=`),ft(pI,"sinu","Sinusoidal (Sanson-Flamsteed)","PCyl, Sph&Ell"),ft(Gte,"eck6","Eckert VI",`PCyl, Sph.
m= n=`),ft(Hte,"mbtfps","McBryde-Thomas Flat-Polar Sinusoidal","PCyl, Sph.");function Ute(y){Xe(y.params,"tn"),Xe(y.params,"tm")?kg(y,Xe(y.params,"dm"),Xe(y.params,"dn")):rn(-99)}function pI(y){var A;y.es?(A=_s(y.es),y.fwd=I,y.inv=P):kg(y,0,1);function I(O,$){var U,j;$.y=mr(O.phi,U=c(O.phi),j=d(O.phi),A),$.x=O.lam*j/F(1-y.es*U*U)}function P(O,$){var U=a($.phi=Ou(O.y,y.es,A));U<ve?(U=c($.phi),$.lam=O.x*F(1-y.es*U*U)/d($.phi)):U-Ln<ve?$.lam=0:In()}}function Gte(y){kg(y,1,2.5707963267948966)}function Hte(y){kg(y,.5,1.7853981633974483)}function kg(y,A,I){var P=8,O=1e-7,$,U;$=(U=F((A+1)/I))/(A+1),y.es=0,y.fwd=j,y.inv=L;function j(W,ne){var ie,Q,le;if(!A)W.phi=I!=1?ln(I*c(W.phi)):W.phi;else{for(ie=I*c(W.phi),le=P;le&&(W.phi-=Q=(A*W.phi+c(W.phi)-ie)/(A+d(W.phi)),!(a(Q)<O));--le);le||Fn()}ne.x=$*W.lam*(A+d(W.phi)),ne.y=U*W.phi}function L(W,ne){W.y/=U,ne.phi=A?ln((A*W.y+c(W.y))/I):I!=1?ln(c(W.y)/I):W.y,ne.lam=W.x/($*(A+d(W.y)))}}ft(Vte,"gnom","Gnomonic","Azi, Sph.");function Vte(y){var A=1e-10,I=0,P=1,O=2,$=3,U,j;a(a(y.phi0)-ve)<A?j=y.phi0<0?P:I:a(y.phi0)<A?j=O:(j=$,sinph0=c(y.phi0),U=d(y.phi0)),y.inv=W,y.fwd=L,y.es=0;function L(ne,ie){var Q,le,ge;switch(ge=c(ne.phi),le=d(ne.phi),Q=d(ne.lam),j){case O:ie.y=le*Q;break;case $:ie.y=sinph0*ge+U*le*Q;break;case P:ie.y=-ge;break;case I:ie.y=ge;break}switch(ie.y<=A&&Fn(),ie.x=(ie.y=1/ie.y)*le*c(ne.lam),j){case O:ie.y*=ge;break;case $:ie.y*=U*ge-sinph0*le*Q;break;case I:Q=-Q;case P:ie.y*=le*Q;break}}function W(ne,ie){var Q=ne.x,le=ne.y,ge,we,de;if(ge=H(Q,le),de=c(ie.phi=E(ge)),we=F(1-de*de),a(ge)<=A)ie.phi=y.phi0,ie.lam=0;else{switch(j){case $:ie.phi=we*sinph0+le*de*U/ge,a(ie.phi)>=1?ie.phi=ie.phi>0?ve:-ve:ie.phi=_(ie.phi),le=(we-sinph0*c(ie.phi))*ge,Q*=de*U;break;case O:ie.phi=le*de/ge,a(ie.phi)>=1?ie.phi=ie.phi>0?ve:-ve:ie.phi=_(ie.phi),le=we*ge,Q*=de;break;case P:ie.phi-=ve;break;case I:ie.phi=ve-ie.phi,le=-le;break}ie.lam=k(Q,le)}}}ft(gI,"moll","Mollweide","PCyl Sph"),ft(Wte,"wag4","Wagner IV","PCyl Sph"),ft(Yte,"wag5","Wagner V","PCyl Sph");function gI(y){mb(y,vI(y,ve))}function Wte(y){mb(y,vI(y,Z/3))}function Yte(y){var A={C_x:.90977,C_y:1.65014,C_p:3.00896};mb(y,A)}function vI(y,A){var I=c(A),P=A+A,O=F(kt*I/(P+c(P)));return{C_x:2*O/Z,C_y:O/I,C_p:P+c(P)}}function mb(y,A){var I=10,P=1e-7;y.fwd=O,y.inv=$,y.es=0;function O(U,j){var L,W,ne;for(L=A.C_p*c(U.phi),ne=I;ne&&(U.phi-=W=(U.phi+c(U.phi)-L)/(1+d(U.phi)),!(a(W)<P));--ne);ne?U.phi*=.5:U.phi=U.phi<0?-ve:ve,j.x=A.C_x*U.lam*d(U.phi),j.y=A.C_y*c(U.phi)}function $(U,j){j.phi=ln(U.y/A.C_y),j.lam=U.x/(A.C_x*d(j.phi)),a(j.lam)-Z<Ln?(j.phi+=j.phi,j.phi=ln((j.phi+c(j.phi))/A.C_p)):j.lam=j.phi=N}}ft(Xte,"goode","Goode Homolosine","PCyl, Sph.");function Xte(y){var A=.0528,I=.7109307819790236,P,O,$,U;y.es=0,pI(y),P=y.fwd,O=y.inv,gI(y),$=y.fwd,U=y.inv,y.fwd=function(j,L){a(j.phi)<I?P(j,L):($(j,L),L.y-=j.phi>0?A:-A)},y.inv=function(j,L){a(j.y)<=I?O(j,L):(j.y+=j.y>0?A:-A,U(j,L))}}ft(Kte,"hammer","Hammer & Eckert-Greifendorff",`Misc Sph,
W= M=`);function Kte(y){var A,I,P,O=1e-10;y.inv=U,y.fwd=$,y.es=0,Xe(y.params,"tW")?(A=a(Xe(y.params,"dW")))<=0&&rn(-27):A=.5,Xe(y.params,"tM")?(I=a(Xe(y.params,"dM")))<=0&&rn(-27):I=1,P=1/I,I/=A;function $(j,L){var W,ne;ne=F(2/(1+(W=d(j.phi))*d(j.lam*=A))),L.x=I*ne*W*c(j.lam),L.y=P*ne*c(j.phi)}function U(j,L){var W=F(1-.25*A*A*j.x*j.x-.25*j.y*j.y);a(2*W*W-1)<O?(L.lam=N,L.phi=N,pj_errno=-14):(L.lam=gc(A*j.x*W,2*W*W-1)/A,L.phi=ln(W*j.y))}}ft(Zte,"hatano","Hatano Asymmetrical Equal Area","PCyl., Sph.");function Zte(y){var A=20,I=1e-7,P=1.000001,O=2.67595,$=2.43763,U=.3736990601468637,j=.4102345310814193,L=1.75859,W=1.93052,ne=.5686373742600607,ie=.5179951515653813,Q=.85,le=1.1764705882352942;y.inv=we,y.fwd=ge,y.es=0;function ge(de,ke){var Me,Re,Oe;for(Re=c(de.phi)*(de.phi<0?$:O),Oe=A;Oe&&(de.phi-=Me=(de.phi+c(de.phi)-Re)/(1+d(de.phi)),!(a(Me)<I));--Oe);ke.x=Q*de.lam*d(de.phi*=.5),ke.y=c(de.phi)*(de.phi<0?W:L)}function we(de,ke){var Me=de.y*(de.y<0?ie:ne);a(Me)>1?a(Me)>P?In():Me=Me>0?ve:-ve:Me=_(Me),ke.lam=le*de.x/d(Me),Me+=Me,ke.phi=(Me+c(Me))*(de.y<0?j:U),a(ke.phi)>1?a(ke.phi)>P?In():ke.phi=ke.phi>0?ve:-ve:ke.phi=_(ke.phi)}}ft(mI,"healpix","HEALPix","Sph., Ellps."),ft(Jte,"rhealpix","rHEALPix",`Sph., Ellps.
north_square= south_square=`);function Jte(y){mI(y,!0)}function mI(y,A){var I=[[0,-1],[1,0]],P=[[-1,0],[0,-1]],O=[[0,1],[-1,0]],$=[[1,0],[0,1]],U=[$,I,P,O,O,P,I],j=1e-15,L,W,ne,ie,Q;A?(L=Xe(y.params,"inorth_square"),W=Xe(y.params,"isouth_square"),(L<0||L>3)&&rn(-47),(W<0||W>3)&&rn(-47),Q=[[-Z-j,De+j],[-Z+L*ve-j,De+j],[-Z+L*ve-j,3*De+j],[-Z+(L+1)*ve+j,3*De+j],[-Z+(L+1)*ve+j,De+j],[Z+j,De+j],[Z+j,-De-j],[-Z+(W+1)*ve+j,-De-j],[-Z+(W+1)*ve+j,-3*De-j],[-Z+W*ve-j,-3*De-j],[-Z+W*ve-j,-De-j],[-Z-j,-De-j]],y.es!=0?(ie=Eg(y.es),ne=po(1,y.e,y.one_es),y.a=y.a*F(.5*ne),y.ra=1/y.a,y.fwd=Me,y.inv=Oe):(y.fwd=ke,y.inv=Re)):(Q=[[-Z-j,De],[-3*De,ve+j],[-ve,De+j],[-De,ve+j],[0,De+j],[De,ve+j],[ve,De+j],[3*De,ve+j],[Z+j,De],[Z+j,-De],[3*De,-ve-j],[ve,-De-j],[De,-ve-j],[0,-De-j],[-De,-ve-j],[-ve,-De-j],[-3*De,-ve-j],[-Z-j,-De]],y.es!=0?(ie=Eg(y.es),ne=po(1,y.e,y.one_es),y.a=y.a*F(.5*ne),y.ra=1/y.a,y.fwd=ge,y.inv=de):(y.fwd=le,y.inv=we));function le(Ge,We){pe(Ge,We)}function ge(Ge,We){Ge.phi=st(y,Ge.phi,0),pe(Ge,We)}function we(Ge,We){if(!Ye(Ge.x,Ge.y)){We.lam=N,We.phi=N,Ar(-15);return}Ae(Ge,We)}function de(Ge,We){if(!Ye(Ge.x,Ge.y)){We.lam=N,We.phi=N,Ar(-15);return}Ae(Ge,We),We.phi=st(y,We.phi,1)}function ke(Ge,We){pe(Ge,We),ut(We,L,W,0)}function Me(Ge,We){return Ge.phi=st(y,Ge.phi,0),pe(Ge,We),ut(We,L,W,0)}function Re(Ge,We){if(!Ye(Ge.x,Ge.y)){We.lam=N,We.phi=N,Ar(-15);return}ut(Ge,L,W,1),Ae(Ge,We)}function Oe(Ge,We){if(!Ye(Ge.x,Ge.y)){We.lam=N,We.phi=N,Ar(-15);return}ut(Ge,L,W,1),Ae(Ge,We),We.phi=st(y,We.phi,1)}function pe(Ge,We){var et=Ge.lam,it=Ge.phi,_t=_(2/3);if(a(it)<=_t)We.x=et,We.y=3*Z/8*c(it);else{var xt,Ot=F(3*(1-a(c(it)))),Mt=u(2*et/Z+2);Mt>=4&&(Mt=3),xt=-3*De+ve*Mt,We.x=xt+(et-xt)*Ot,We.y=ye(it)*De*(2-Ot)}}function Ae(Ge,We){var et=Ge.x,it=Ge.y,_t=De;if(a(it)<=_t)We.lam=et,We.phi=_(8*it/(3*Z));else if(a(it)<ve){var xt=u(2*et/Z+2),Ot,Mt;xt>=4&&(xt=3),Ot=-3*De+ve*xt,Mt=2-4*a(it)/Z,We.lam=Ot+(et-Ot)/Mt,We.phi=ye(it)*_(1-B(Mt,2)/3)}else We.lam=-Z,We.phi=ye(it)*ve}function ye(Ge){return Ge>0?1:Ge<0?-1:0}function Ee(Ge){switch(Ge){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case-1:return 4;case-2:return 5;case-3:return 6}return 0}function je(Ge,We,et){var it=0,_t=Ge.length,xt,Ot,Mt,Kt,zt,jt;for(jt=0;jt<_t;jt++)if(We==Ge[jt][0]&&et==Ge[jt][1])return!0;for(xt=Ge[0][0],Ot=Ge[0][1],jt=1;jt<_t;jt++)Mt=Ge[jt%_t][0],Kt=Ge[jt%_t][1],et>se(Ot,Kt)&&et<=me(Ot,Kt)&&We<=me(xt,Mt)&&Ot!=Kt&&(zt=(et-Ot)*(Mt-xt)/(Kt-Ot)+xt,(xt==Mt||We<=zt)&&it++),xt=Mt,Ot=Kt;return it%2!=0}function Ye(Ge,We){return je(Q,Ge,We)}function st(Ge,We,et){if(et)return gb(We,ie);var it=po(c(We),Ge.e,1-Ge.es),_t=it/ne;return a(_t)>1&&(_t=ye(_t)),_(_t)}function gt(Ge,We){return[Ge[0]+We[0],Ge[1]+We[1]]}function wt(Ge,We){return[Ge[0]-We[0],Ge[1]-We[1]]}function At(Ge,We){var et,it,_t=[0,0];for(et=0;et<2;et++)for(it=0;it<2;it++)_t[et]+=Ge[et][it]*We[it];return _t}function Ke(Ge,We,et,it,_t){var xt={},Ot;if(xt.x=Ge,xt.y=We,_t){if(We>De)xt.region="north",xt.x=-3*De+et*ve,xt.y=ve,Ge=Ge-et*ve;else if(We<-De)xt.region="south",xt.x=-3*De+it*ve,xt.y=-ve,Ge=Ge-it*ve;else return xt.region="equatorial",xt.cn=0,xt;xt.region=="north"?We>=-Ge-De-j&&We<Ge+5*De-j?xt.cn=(et+1)%4:We>-Ge-De+j&&We>=Ge+5*De-j?xt.cn=(et+2)%4:We<=-Ge-De+j&&We>Ge+5*De+j?xt.cn=(et+3)%4:xt.cn=et:xt.region=="south"&&(We<=Ge+De+j&&We>-Ge-5*De+j?xt.cn=(it+1)%4:We<Ge+De-j&&We<=-Ge-5*De+j?xt.cn=(it+2)%4:We>=Ge+De-j&&We<-Ge-5*De-j?xt.cn=(it+3)%4:xt.cn=it)}else{if(We>De)xt.region="north",Ot=ve;else if(We<-De)xt.region="south",Ot=-ve;else return xt.region="equatorial",xt.cn=0,xt;Ge<-ve?(xt.cn=0,xt.x=-3*De,xt.y=Ot):Ge>=-ve&&Ge<0?(xt.cn=1,xt.x=-De,xt.y=Ot):Ge>=0&&Ge<ve?(xt.cn=2,xt.x=De,xt.y=Ot):(xt.cn=3,xt.x=3*De,xt.y=Ot)}return xt}function ut(Ge,We,et,it){var _t,xt,Ot,Mt,Kt,zt,jt,Xt=0,yt=Ke(Ge.x,Ge.y,We,et,it);if(yt.region=="equatorial"){Ge.x=yt.x,Ge.y=yt.y;return}_t=[Ge.x,Ge.y],xt=[yt.x,yt.y],it?yt.region=="north"?(Xt=We,zt=U[Ee(-1*(yt.cn-Xt))]):(Xt=et,zt=U[Ee(yt.cn-Xt)]):yt.region=="north"?(Xt=We,zt=U[Ee(yt.cn-Xt)]):(Xt=et,zt=U[Ee(-1*(yt.cn-Xt))]),Mt=wt(_t,xt),Kt=At(zt,Mt),jt=[-3*De+(it?yt.cn:0)*ve,ve],Ot=gt(Kt,jt),Ge.x=Ot[0],Ge.y=Ot[1]}}ft(Qte,"hill","Hill Eucyclic","PCyl., Sph.");function Qte(y){var A=1,I=1+A,P=c(1/I),O=_(P),$=2*F(Z/(U=Z+4*O*I)),U,j=.5*$*(I+F(A*(2+A))),L=A*A,W=I*I,ne=1e-12;y.es=0,y.fwd=ie,y.inv=Q;function ie(le,ge){var we=1-c(le.phi),de,ke;if(we&&we<2){var Me=ve-le.phi,Re=25,Oe,pe,Ae,ye,Ee;do pe=c(Me),Ae=d(Me),Ee=O+k(pe,I-Ae),ye=1+W-2*I*Ae,Me-=Oe=(Me-L*O-I*pe+ye*Ee-.5*we*U)/(2*I*pe*Ee);while(a(Oe)>ne&&--Re>0);de=$*F(ye),ke=le.lam*Ee/Z}else de=$*(A+we),ke=le.lam*O/Z;ge.x=de*c(ke),ge.y=j-de*d(ke)}function Q(le,ge){var we=le.x,de=le.y,ke=we*we+(de-=j)*de,Me=(1+W-ke/($*$))/(2*I),Re=x(Me),Oe=c(Re),pe=O+k(Oe,I-Me);ge.lam=_(we/F(ke))*Z/pe,ge.phi=_(1-2*(Re-L*O-I*Oe+(1+W-2*I*Me)*pe)/U)}}ft(ene,"krovak","Krovak","PCyl., Ellps.");function ene(y){var A,I,P,O,$,U,j,L,W,ne=1e-15,ie=.785398163397448,Q=1.570796326794896,le=1.04216856380474,ge=1.37008346281555;y.a=6377397155e-3,y.e=F(y.es=.006674372230614),Xe(y.params,"tlat_0")||(y.phi0=.863937979737193),Xe(y.params,"tlon_0")||(y.lam0=.7417649320975901-.308341501185665),Xe(y.params,"tk")||(y.k0=.9999),W=1,Xe(y.params,"tczech")||(W=-1),O=F(1+y.es*B(d(y.phi0),4)/(1-y.es)),A=_(c(y.phi0)/O),P=B((1+y.e*c(y.phi0))/(1-y.e*c(y.phi0)),O*y.e/2),$=v(A/2+ie)/B(v(y.phi0/2+ie),O)*P,I=F(1-y.es)/(1-y.es*B(c(y.phi0),2)),U=c(ge),j=y.k0*I/v(ge),L=Q-le,y.inv=de,y.fwd=we;function we(ke,Me){var Re,Oe,pe,Ae,ye,Ee,je;Re=B((1+y.e*c(ke.phi))/(1-y.e*c(ke.phi)),O*y.e/2),Oe=2*(E($*B(v(ke.phi/2+ie),O)/Re)-ie),pe=-ke.lam*O,Ae=_(d(L)*c(Oe)+c(L)*d(Oe)*d(pe)),ye=_(d(Oe)*c(pe)/d(Ae)),Ee=U*ye,je=j*B(v(ge/2+ie),U)/B(v(Ae/2+ie),U),Me.y=je*d(Ee),Me.x=je*c(Ee),Me.y*=W,Me.x*=W}function de(ke,Me){var Re,Oe,pe,Ae,ye,Ee,je,Ye,st;Ye=ke.x,ke.x=ke.y,ke.y=Ye,ke.x*=W,ke.y*=W,Ee=F(ke.x*ke.x+ke.y*ke.y),ye=k(ke.y,ke.x),Ae=ye/c(ge),pe=2*(E(B(j/Ee,1/U)*v(ge/2+ie))-ie),Re=_(d(L)*c(pe)-c(L)*d(pe)*d(Ae)),Oe=_(d(pe)*c(Ae)/d(Re)),Me.lam=y.lam0-Oe/O,je=Re,st=0;do Me.phi=2*(E(B($,-1/O)*B(v(Re/2+ie),1/O)*B((1+y.e*c(je))/(1-y.e*c(je)),y.e/2))-ie),a(je-Me.phi)<ne&&(st=1),je=Me.phi;while(st===0);Me.lam-=y.lam0}}ft(tne,"laea","Lambert Azimuthal Equal Area","Azi, Sph&Ell");function tne(y){var A=1e-10,I=0,P=1,O=2,$=3,U,j,L,W,ne,ie,Q,le,ge,we,de;if(we=a(y.phi0),a(we-ve)<A?ge=y.phi0<0?P:I:a(we)<A?ge=O:ge=$,y.es){switch(y.e=F(y.es),ne=po(1,y.e,y.one_es),.5/(1-y.es),le=Eg(y.es),ge){case I:case P:ie=1;break;case O:ie=1/(Q=F(.5*ne)),L=1,W=.5*ne;break;case $:Q=F(.5*ne),de=c(y.phi0),U=po(de,y.e,y.one_es)/ne,j=F(1-U*U),ie=d(y.phi0)/(F(1-y.es*de*de)*Q*j),W=(L=Q)/ie,L*=ie;break}y.inv=Me,y.fwd=ke}else ge==$&&(U=c(y.phi0),j=d(y.phi0)),y.inv=Oe,y.fwd=Re;function ke(pe,Ae){var ye,Ee,je,Ye,st=0,gt=0,wt=0;switch(ye=d(pe.lam),Ee=c(pe.lam),je=c(pe.phi),Ye=po(je,y.e,y.one_es),(ge==$||ge==O)&&(st=Ye/ne,gt=F(1-st*st)),ge){case $:wt=1+U*st+j*gt*ye;break;case O:wt=1+gt*ye;break;case I:wt=ve+pe.phi,Ye=ne-Ye;break;case P:wt=pe.phi-ve,Ye=ne+Ye;break}switch(a(wt)<A&&Fn(),ge){case $:case O:ge==$?(wt=F(2/wt),Ae.y=W*wt*(j*st-U*gt*ye)):(wt=F(2/(1+gt*ye)),Ae.y=wt*st*W),Ae.x=L*wt*gt*Ee;break;case I:case P:Ye>=0?(wt=F(Ye),Ae.x=wt*Ee,Ae.y=ye*(ge==P?wt:-wt)):Ae.x=Ae.y=0;break}}function Me(pe,Ae){var ye,Ee,je,Ye,st=0;switch(ge){case O:case $:if(pe.x/=ie,pe.y*=ie,Ye=H(pe.x,pe.y),Ye<A)return Ae.lam=0,Ae.phi=y.phi0,Ae;Ee=2*_(.5*Ye/Q),ye=d(Ee),Ee=c(Ee),pe.x*=Ee,ge==$?(st=ye*U+pe.y*Ee*j/Ye,pe.y=Ye*j*ye-pe.y*U*Ee):(st=pe.y*Ee/Ye,pe.y=Ye*ye);break;case I:pe.y=-pe.y;case P:if(je=pe.x*pe.x+pe.y*pe.y,!je)return Ae.lam=0,Ae.phi=y.phi0,Ae;st=1-je/ne,ge==P&&(st=-st);break}return Ae.lam=k(pe.x,pe.y),Ae.phi=gb(_(st),le),Ae}function Re(pe,Ae){var ye,Ee,je;switch(je=c(pe.phi),Ee=d(pe.phi),ye=d(pe.lam),ge){case O:case $:ge==O?Ae.y=1+Ee*ye:Ae.y=1+U*je+j*Ee*ye,Ae.y<=A&&Fn(),Ae.y=F(2/Ae.y),Ae.x=Ae.y*Ee*c(pe.lam),Ae.y*=ge==O?je:j*je-U*Ee*ye;break;case I:ye=-ye;case P:a(pe.phi+y.phi0)<A&&Fn(),Ae.y=De-pe.phi*.5,Ae.y=2*(ge==P?d(Ae.y):c(Ae.y)),Ae.x=Ae.y*c(pe.lam),Ae.y*=ye;break}}function Oe(pe,Ae){var ye=0,Ee,je=0;switch(Ee=H(pe.x,pe.y),(Ae.phi=Ee*.5)>1&&In(),Ae.phi=2*_(Ae.phi),(ge==$||ge==O)&&(je=c(Ae.phi),ye=d(Ae.phi)),ge){case O:Ae.phi=a(Ee)<=A?0:_(pe.y*je/Ee),pe.x*=je,pe.y=ye*Ee;break;case $:Ae.phi=a(Ee)<=A?y.phi0:_(ye*U+pe.y*je*j/Ee),pe.x*=je*j,pe.y=(ye-c(Ae.phi)*U)*Ee;break;case I:pe.y=-pe.y,Ae.phi=ve-Ae.phi;break;case P:Ae.phi-=ve;break}Ae.lam=pe.y==0&&(ge==O||ge==$)?0:k(pe.x,pe.y)}}ft(Fg,"lonlat","Lat/long (Geodetic)",""),ft(Fg,"longlat","Lat/long (Geodetic alias)",""),ft(Fg,"latlon","Lat/long (Geodetic alias)",""),ft(Fg,"latlong","Lat/long (Geodetic alias)","");function Fg(y){y.x0=0,y.y0=0,y.is_latlong=!0,y.fwd=function(A,I){I.x=A.lam/y.a,I.y=A.phi/y.a},y.inv=function(A,I){I.lam=A.x*y.a,I.phi=A.y*y.a}}function Io(y,A,I){return A*=I,v(.5*(ve-y))/B((1-A)/(1+A),.5*I)}ft(nne,"lcc","Lambert Conformal Conic",`Conic, Sph&Ell
lat_1= and lat_2= or lat_0=`);function nne(y){var A=1e-10,I,P,O,$,U,j,L,W,ne,ie,Q;y.inv=ge,y.fwd=le,$=Xe(y.params,"rlat_1"),Xe(y.params,"tlat_2")?U=Xe(y.params,"rlat_2"):(U=$,Xe(y.params,"tlat_0")||(y.phi0=$)),a($+U)<A&&rn(-21),j=P=c($),I=d($),O=a($-U)>=A,(ne=y.es!=0)?(y.e=F(y.es),Q=ys(P,I,y.es),ie=Io($,P,y.e),O&&(P=c(U),j=G(Q/ys(P,d(U),y.es)),j/=G(ie/Io(U,P,y.e))),W=L=Q*B(ie,-j)/j,L*=a(a(y.phi0)-ve)<A?0:B(Io(y.phi0,c(y.phi0),y.e),j)):(O&&(j=G(I/d(U))/G(v(De+.5*U)/v(De+.5*$))),W=I*B(v(De+.5*$),j)/j,L=a(a(y.phi0)-ve)<A?0:W*B(v(De+.5*y.phi0),-j));function le(we,de){var ke=we.lam,Me;a(a(we.phi)-ve)<A?(we.phi*j<=0&&Fn(),Me=0):Me=W*(ne?B(Io(we.phi,c(we.phi),y.e),j):B(v(De+.5*we.phi),-j)),ke*=j,de.x=y.k0*(Me*c(ke)),de.y=y.k0*(L-Me*d(ke))}function ge(we,de){var ke=we.x,Me=we.y,Re;ke/=y.k0,Me/=y.k0,Me=L-Me,Re=H(ke,Me),Re!=0?(j<0&&(Re=-Re,ke=-ke,Me=-Me),ne?(de.phi=yb(B(Re/W,1/j),y.e),de.phi==N&&In()):de.phi=2*E(B(W/Re,1/j))-ve,de.lam=k(ke,Me)/j):(de.lam=0,de.phi=j>0?ve:-ve)}}ft(rne,"loxim","Loximuthal","PCyl Sph");function rne(y){var A=1e-8,I,P,O;I=Xe(y.params,"rlat_1"),P=d(I),O=v(De+.5*I),P<A&&rn(-22),y.fwd=$,y.inv=U,y.es=0;function $(j,L){L.y=j.phi-I,a(L.y)<A?L.x=j.lam*P:(L.x=De+.5*j.phi,a(L.x)<A||a(a(L.x)-ve)<A?L.x=0:L.x=j.lam*L.y/G(v(L.x)/O))}function U(j,L){L.phi=j.y+I,a(j.y)<A?L.lam=j.x/P:(L.lam=De+.5*L.phi,a(L.lam)<A||a(a(L.lam)-ve)<A?L.lam=0:L.lam=j.x*G(v(L.lam)/O)/j.y)}}ft(ine,"mbt_fpp","McBride-Thomas Flat-Polar Parabolic","Cyl., Sph.");function ine(y){var A=.9525793444156804,I=.9258200997725514,P=3.401680257083045,O=2/3,$=1/3,U=1.0000001;y.fwd=j,y.inv=L,y.es=0;function j(W,ne){W.phi=_(A*c(W.phi)),ne.x=I*W.lam*(2*d(O*W.phi)-1),ne.y=P*c($*W.phi)}function L(W,ne){ne.phi=W.y/P,a(ne.phi)>=1?a(ne.phi)>U?In():ne.phi=ne.phi<0?-ve:ve:ne.phi=_(ne.phi),ne.lam=W.x/(I*(2*d(O*(ne.phi*=3))-1)),a(ne.phi=c(ne.phi)/A)>=1?a(ne.phi)>U?In():ne.phi=ne.phi<0?-ve:ve:ne.phi=_(ne.phi)}}ft(one,"mbt_fpq","McBryde-Thomas Flat-Polar Quartic","Cyl., Sph.");function one(y){var A=20,I=1e-7,P=1.000001,O=1.7071067811865475,$=.585786437626905,U=1.874758284622695,j=.533402096794177,L=.3124597141037825,W=3.2004125807650623;y.fwd=ne,y.inv=ie,y.es=0;function ne(Q,le){var ge,we,de;for(we=O*c(Q.phi),de=A;de&&(Q.phi-=ge=(c(.5*Q.phi)+c(Q.phi)-we)/(.5*d(.5*Q.phi)+d(Q.phi)),!(a(ge)<I));--de);le.x=L*Q.lam*(1+2*d(Q.phi)/d(.5*Q.phi)),le.y=U*c(.5*Q.phi)}function ie(Q,le){var ge;le.phi=j*Q.y,a(le.phi)>1?a(le.phi)>P?In():le.phi<0?(ge=-1,le.phi=-Z):(ge=1,le.phi=Z):le.phi=2*_(ge=le.phi),le.lam=W*Q.x/(1+2*d(le.phi)/d(.5*le.phi)),le.phi=$*(ge+c(le.phi)),a(le.phi)>1?a(le.phi)>P?In():le.phi=le.phi<0?-ve:ve:le.phi=_(le.phi)}}ft(ane,"mbt_fps","McBryde-Thomas Flat-Pole Sine (No. 2)","Cyl., Sph.");function ane(y){var A=10,I=1e-7,P=.45503,O=1.36509,$=1.41546,U=.22248,j=1.44492,L=1/3;y.fwd=W,y.inv=ne,y.es=0;function W(ie,Q){var le,ge,we,de;for(le=$*c(ie.phi),de=A;de&&(we=ie.phi/O,ie.phi-=ge=(P*c(we)+c(ie.phi)-le)/(L*d(we)+d(ie.phi)),!(a(ge)<I));--de);we=ie.phi/O,Q.x=U*ie.lam*(1+3*d(ie.phi)/d(we)),Q.y=j*c(we)}function ne(ie,Q){var le;Q.phi=O*(le=ln(ie.y/j)),Q.lam=ie.x/(U*(1+3*d(Q.phi)/d(le))),Q.phi=ln((P*c(le)+c(Q.phi))/$)}}function yb(y,A){var I=15,P=1e-10,O=.5*A,$=ve-2*E(y),U=I,j,L;do j=A*c($),L=ve-2*E(y*B((1-j)/(1+j),O))-$,$+=L;while(a(L)>P&&--U);return U<=0&&Ar(-18),$}ft(sne,"merc","Mercator",`Cyl, Sph&Ell
lat_ts=`),ft(une,"webmerc","Web Mercator / Pseudo Mercator","Cyl, Ell");function sne(y){var A=1e-10,I=0,P=Xe(y.params,"tlat_ts");P&&(I=Xe(y.params,"rlat_ts"),I>=ve&&rn(-24)),y.es?(P&&(y.k0=ys(c(I),d(I),y.es)),y.inv=$,y.fwd=O):(y.inv=j,y.fwd=U);function O(L,W){a(a(L.phi)-ve)<=A&&Fn(),W.x=y.k0*L.lam,W.y=-y.k0*G(Io(L.phi,c(L.phi),y.e))}function $(L,W){W.phi=yb(V(-L.y/y.k0),y.e),W.phi===N&&In(),W.lam=L.x/y.k0}function U(L,W){a(a(L.phi)-ve)<=A&&Fn(),W.x=y.k0*L.lam,W.y=y.k0*G(v(De+.5*L.phi))}function j(L,W){W.phi=ve-2*E(V(-L.y/y.k0)),W.lam=L.x/y.k0}}function une(y){y.k0=1,y.inv=I,y.fwd=A;function A(P,O){a(a(P.phi)-ve)<=Ln&&Fn(),O.x=y.k0*P.lam,O.y=y.k0*G(v(De+.5*P.phi))}function I(P,O){O.phi=ve-2*E(V(-P.y/y.k0)),O.lam=P.x/y.k0}}ft(lne,"mill","Miller Cylindrical","Cyl, Sph");function lne(y){y.fwd=A,y.inv=I,y.es=0;function A(P,O){O.x=P.lam,O.y=G(v(De+P.phi*.4))*1.25}function I(P,O){O.lam=P.x,O.phi=2.5*(E(V(.8*P.y))-De)}}function yI(y,A){var I,P,O,$=A.length-1;for(P=A[$][0],O=A[$][1];--$>=0;)I=P,P=A[$][0]+y.r*I-y.i*O,O=A[$][1]+y.r*O+y.i*I;return{r:y.r*P-y.i*O,i:y.r*O+y.i*P}}function _I(y,A,I){var P,O,$,U,j,L=!0,W=A.length-1;for(O=U=A[W][0],P=$=A[W][1];--W>=0;)L?L=!1:(U=O+y.r*(j=U)-y.i*$,$=P+y.r*$+y.i*j),O=A[W][0]+y.r*(j=O)-y.i*P,P=A[W][1]+y.r*P+y.i*j;return I.r=O+y.r*U-y.i*$,I.i=P+y.r*$+y.i*U,{r:y.r*O-y.i*P,i:y.r*P+y.i*O}}ft(cne,"mil_os","Miller Oblated Stereographic","Azi(mod)"),ft(fne,"lee_os","Lee Oblated Stereographic","Azi(mod)"),ft(hne,"gs48","Mod Stereographic of 48 U.S.","Azi(mod)"),ft(dne,"alsk","Mod Stereographic of Alaska","Azi(mod)"),ft(pne,"gs50","Mod Stereographic of 50 U.S.","Azi(mod)");function cne(y){var A=[[.9245,0],[0,0],[.01943,0]];y.lam0=_e*20,y.phi0=_e*18,y.es=0,qh(y,A)}function fne(y){var A=[[.721316,0],[0,0],[-.0088162,-.00617325]];y.lam0=_e*-165,y.phi0=_e*-10,y.es=0,qh(y,A)}function hne(y){var A=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]];y.lam0=_e*-96,y.phi0=_e*39,y.es=0,y.a=6370997,qh(y,A)}function dne(y){var A=[[.9945303,0],[.0052083,-.0027404],[.0072721,.0048181],[-.0151089,-.1932526],[.0642675,-.1381226],[.3582802,-.2884586]],I=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],P;y.lam0=_e*-152,y.phi0=_e*64,y.es!=0?(P=A,y.a=63782064e-1,y.e=F(y.es=.00676866)):(P=I,y.a=6370997),qh(y,P)}function pne(y){var A=[[.9827497,0],[.0210669,.0053804],[-.1031415,-.0571664],[-.0323337,-.0322847],[.0502303,.1211983],[.0251805,.0895678],[-.0012315,-.1416121],[.0072202,-.1317091],[-.0194029,.0759677],[-.0210072,.0834037]],I=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],P;y.lam0=_e*-120,y.phi0=_e*45,y.es!=0?(P=A,y.a=63782064e-1,y.e=F(y.es=.00676866)):(P=I,y.a=6370997),qh(y,P)}function qh(y,A){var I=1e-12,P,O,$,U;y.es!=0?(P=y.e*c(y.phi0),O=2*E(v((ve+y.phi0)*.5)*B((1-P)/(1+P),y.e*.5))-ve):O=y.phi0,U=c(O),$=d(O),y.inv=L,y.fwd=j;function j(W,ne){var ie,Q,le,ge,we,de,ke,Me={};ie=c(W.lam),Q=d(W.lam),le=y.e*c(W.phi),ge=2*E(v((ve+W.phi)*.5)*B((1-le)/(1+le),y.e*.5))-ve,we=c(ge),de=d(ge),ke=2/(1+U*we+$*de*Q),Me.r=ke*de*ie,Me.i=ke*($*we-U*de*Q),Me=yI(Me,A),ne.x=Me.r,ne.y=Me.i}function L(W,ne){var ie,Q={},le,ge={},we={},de,ke=0,Me,Re=0,Oe=0,pe,Ae=0,ye,Ee;for(Q.r=W.x,Q.i=W.y,ie=20;ie&&(le=_I(Q,A,ge),le.r-=W.x,le.i-=W.y,de=ge.r*ge.r+ge.i*ge.i,we.r=-(le.r*ge.r+le.i*ge.i)/de,we.i=-(le.i*ge.r-le.r*ge.i)/de,Q.r+=we.r,Q.i+=we.i,!(a(we.r)+a(we.i)<=I));--ie);if(ie){if(ke=H(Q.r,Q.i),Me=2*E(.5*ke),Re=c(Me),Oe=d(Me),ne.lam=y.lam0,a(ke)<=I){ne.lam=0,ne.phi=y.phi0;return}for(pe=ln(Oe*U+Q.i*Re*$/ke),Ae=pe,ie=20;ie&&(ye=y.e*c(Ae),Ee=2*E(v((ve+pe)*.5)*B((1+ye)/(1-ye),y.e*.5))-ve-Ae,Ae+=Ee,!(a(Ee)<=I));--ie);}ie?(ne.phi=Ae,ne.lam=k(Q.r*Re,ke*$*Oe-Q.i*U*Re)):ne.lam=ne.phi=N}}ft(gne,"natearth","Natural Earth","PCyl., Sph."),ft(vne,"natearth2","Natural Earth 2","PCyl., Sph.");function gne(y){var A=.8707,I=-.131979,P=-.013791,O=.003971,$=-.001529,U=1.007226,j=.015085,L=-.044475,W=.028874,ne=-.005916,ie=U,Q=3*j,le=7*L,ge=9*W,we=11*ne,de=1e-11,ke=.8707*.52*Z;y.es=0,y.fwd=Me,y.inv=Re;function Me(Oe,pe){var Ae,ye;Ae=Oe.phi*Oe.phi,ye=Ae*Ae,pe.x=Oe.lam*(A+Ae*(I+Ae*(P+ye*Ae*(O+Ae*$)))),pe.y=Oe.phi*(U+Ae*(j+ye*(L+W*Ae+ne*ye)))}function Re(Oe,pe){var Ae=Oe.x,ye=Oe.y,Ee,je,Ye,st,gt,wt;for(ye>ke?ye=ke:ye<-ke&&(ye=-ke),Ee=ye;Ye=Ee*Ee,st=Ye*Ye,gt=Ee*(U+Ye*(j+st*(L+W*Ye+ne*st)))-ye,wt=ie+Ye*(Q+st*(le+ge*Ye+we*st)),Ee-=je=gt/wt,!(a(je)<de););pe.phi=Ee,Ye=Ee*Ee,pe.lam=Ae/(A+Ye*(I+Ye*(P+Ye*Ye*Ye*(O+Ye*$))))}}function vne(y){var A=.84719,I=-.13063,P=-.04515,O=.05494,$=-.02326,U=.00331,j=1.01183,L=-.02625,W=.01926,ne=-.00396,ie=j,Q=9*L,le=11*W,ge=13*ne,we=1e-11,de=.84719*.535117535153096*Z;y.es=0,y.fwd=ke,y.inv=Me;function ke(Re,Oe){var pe,Ae,ye;pe=Re.phi*Re.phi,Ae=pe*pe,ye=pe*Ae,Oe.x=Re.lam*(A+I*pe+ye*ye*(P+O*pe+$*Ae+U*ye)),Oe.y=Re.phi*(j+Ae*Ae*(L+W*pe+ne*Ae))}function Me(Re,Oe){var pe=Re.x,Ae=Re.y,ye,Ee,je,Ye,st,gt,wt;for(Ae>de?Ae=de:Ae<-de&&(Ae=-de),ye=Ae;je=ye*ye,Ye=je*je,gt=ye*(j+Ye*Ye*(L+W*je+ne*Ye))-Ae,wt=ie+Ye*Ye*(Q+le*je+ge*Ye),ye-=Ee=gt/wt,!(a(Ee)<we););Oe.phi=ye,je=ye*ye,Ye=je*je,st=je*Ye,Oe.lam=pe/(A+I*je+st*st*(P+O*je+$*Ye+U*st))}}ft(mne,"nell","Nell","PCyl., Sph.");function mne(y){var A=10,I=1e-7;y.inv=O,y.fwd=P,y.es=0;function P($,U){var j,L,W;for(j=2*c($.phi),L=$.phi*$.phi,$.phi*=1.00371+L*(-.0935382+L*-.011412),W=A;W&&($.phi-=L=($.phi+c($.phi)-j)/(1+d($.phi)),!(a(L)<I));--W);U.x=.5*$.lam*(1+d($.phi)),U.y=$.phi}function O($,U){U.lam=2*$.x/(1+d($.y)),U.phi=ln(.5*($.y+c($.y)))}}ft(yne,"nell_h","Nell-Hammer","PCyl., Sph.");function yne(y){var A=9,I=1e-7;y.es=0,y.fwd=P,y.inv=O;function P($,U){U.x=.5*$.lam*(1+d($.phi)),U.y=2*($.phi-v(.5*$.phi))}function O($,U){var j,L,W,ne;for(W=.5*$.y,ne=A;ne>0&&(L=d(.5*U.phi),U.phi-=j=(U.phi-v(U.phi/2)-W)/(1-.5/(L*L)),!(a(j)<I));--ne);ne?U.lam=2*$.x/(1+d(U.phi)):(U.phi=W<0?-ve:ve,U.lam=2*$.x)}}ft(_ne,"nicol","Nicolosi Globular","Misc Sph, no inv");function _ne(y){y.es=0,y.fwd=A;function A(I,P){var O=1e-10;if(a(I.lam)<O)P.x=0,P.y=I.phi;else if(a(I.phi)<O)P.x=I.lam,P.y=0;else if(a(a(I.lam)-ve)<O)P.x=I.lam*d(I.phi),P.y=ve*c(I.phi);else if(a(a(I.phi)-ve)<O)P.x=0,P.y=I.phi;else{var $=ve/I.lam-I.lam/ve,U=I.phi/ve,j=c(I.phi),L=(1-U*U)/(j-U),W=$/L;W*=W;var ne=($*j/L-.5*$)/(1+W),ie=(j/W+.5*L)/(1+1/W);P.x=d(I.phi),P.x=F(ne*ne+P.x*P.x/(1+W)),P.x=ve*(ne+(I.lam<0?-P.x:P.x)),P.y=F(ie*ie-(j*j/W+L*j-1)/(1+1/W)),P.y=ve*(ie+(I.phi<0?P.y:-P.y))}}}ft(bne,"nsper","Near-sided perspective",`Azi, Sph
h=`),ft(wne,"tpers","Tilted perspective",`Azi, Sph
tilt= azi= h=`);function bne(y){bI(y,Xe(y.params,"dh"))}function wne(y){var A=Xe(y.params,"dtilt")*_e,I=Xe(y.params,"dazi")*_e,P=Xe(y.params,"dh");bI(y,P,A,I)}function bI(y,A,I,P){var O=0,$=1,U=2,j=3,L=!isNaN(I)&&!isNaN(P),W,ne,ie,Q,le,ge,we,de,ke,Me,Re,Oe;A<=0&&rn(-30),L&&(ke=d(P),Me=c(P),Oe=d(I),Re=c(I)),a(a(y.phi0)-ve)<Ln?W=y.phi0<0?$:O:a(y.phi0)<Ln?W=U:(W=j,ne=c(y.phi0),ie=d(y.phi0)),ge=A/y.a,Q=1+ge,le=1/Q,de=1/ge,we=(Q+1)*de,y.fwd=pe,y.inv=Ae,y.es=0;function pe(ye,Ee){var je,Ye,st,gt,wt;switch(st=c(ye.phi),Ye=d(ye.phi),je=d(ye.lam),W){case j:Ee.y=ne*st+ie*Ye*je;break;case U:Ee.y=Ye*je;break;case $:Ee.y=-st;break;case O:Ee.y=st;break}switch(Ee.y<le&&Fn(),Ee.y=ge/(Q-Ee.y),Ee.x=Ee.y*Ye*c(ye.lam),W){case j:Ee.y*=ie*st-ne*Ye*je;break;case U:Ee.y*=st;break;case O:je=-je;case $:Ee.y*=Ye*je;break}L&&(gt=Ee.y*ke+Ee.x*Me,wt=1/(gt*Re*de+Oe),Ee.x=(Ee.x*ke-Ee.y*Me)*Oe*wt,Ee.y=gt*wt)}function Ae(ye,Ee){var je,Ye,st,gt,wt,At;if(L&&(At=1/(ge-ye.y*Re),gt=ge*ye.x*At,wt=ge*ye.y*Oe*At,ye.x=gt*ke+wt*Me,ye.y=wt*ke-gt*Me),je=H(ye.x,ye.y),(st=1-je*je*we)<0&&In(),st=(Q-F(st))/(ge/je+je/ge),Ye=F(1-st*st),a(je)<=Ln)Ee.lam=0,Ee.phi=y.phi0;else{switch(W){case j:Ee.phi=_(Ye*ne+ye.y*st*ie/je),ye.y=(Ye-ne*c(Ee.phi))*je,ye.x*=st*ie;break;case U:Ee.phi=_(ye.y*st/je),ye.y=Ye*je,ye.x*=st;break;case O:Ee.phi=_(Ye),ye.y=-ye.y;break;case $:Ee.phi=-_(Ye);break}Ee.lam=k(ye.x,ye.y)}}}ft(xne,"nzmg","New Zealand Map Grid","fixed Earth");function xne(y){var A=1e-10,I=.484813681109536,P=2.0626480624709638,O=[[.7557853228,0],[.249204646,.003371507],[-.001541739,.04105856],[-.10162907,.01727609],[-.26623489,-.36249218],[-.6870983,-1.1651967]],$=[1.5627014243,.5185406398,-.03333098,-.1052906,-.0368594,.007317,.0122,.00394,-.0013],U=[.6399175073,-.1358797613,.063294409,-.02526853,.0117879,-.0055161,.0026906,-.001333,67e-5,-34e-5];y.ra=1/(y.a=6378388),y.lam0=_e*173,y.phi0=_e*-41,y.x0=251e4,y.y0=6023150,y.inv=L,y.fwd=j;function j(W,ne){var ie=U.length-1,Q={r:U[ie]},le=(W.phi-y.phi0)*P;for(--ie;ie>=0;--ie)Q.r=U[ie]+le*Q.r;Q.r*=le,Q.i=W.lam,Q=yI(Q,O),ne.x=Q.i,ne.y=Q.r}function L(W,ne){var ie,Q,le,ge,we,de,ke={r:W.y,i:W.x},Me={};for(ie=20;ie>0&&(we=_I(ke,O,Me),we.r-=W.y,we.i-=W.x,de=Me.r*Me.r+Me.i*Me.i,ke.r+=le=-(we.r*Me.r+we.i*Me.i)/de,ke.i+=ge=-(we.i*Me.r-we.r*Me.i)/de,!(a(le)+a(ge)<=A));--ie);if(ie>0){for(ne.lam=ke.i,Q=$.length-1,ne.phi=$[Q],--Q;Q>=0;--Q)ne.phi=$[Q]+ke.r*ne.phi;ne.phi=y.phi0+ke.r*ne.phi*I}else ne.lam=ne.phi=N}}ft(Sne,"ob_tran","General Oblique Transformation",`Misc Sph
o_proj= plus parameters for projection
o_lat_p= o_lon_p= (new pole) or
o_alpha= o_lon_c= o_lat_c= or
o_lon_1= o_lat_1= o_lon_2= o_lat_2=`);function Sne(y){var A,I,P,O,$,U,j,L,W,ne,ie,Q,le,ge,we,de=1e-10;A=Xe(y.params,"so_proj"),I=sc[A],A||rn(-26),(!I||A=="ob_tran")&&rn(-37),y.es=0,P={},Object.keys(y).forEach(function(pe){P[pe]=y[pe]}),I.init(P),P.is_latlong&&y.to_meter==1&&(y.to_meter=_e,y.fr_meter=re),Xe(y.params,"to_alpha")?(L=Xe(y.params,"ro_lon_c"),W=Xe(y.params,"ro_lat_c"),ne=Xe(y.params,"ro_alpha"),a(a(W)-ve)<=de&&rn(-32),O=L+gc(-d(ne),-c(ne)*c(W)),j=ln(d(W)*c(ne))):Xe(y.params,"to_lat_p")?(O=Xe(y.params,"ro_lon_p"),j=Xe(y.params,"ro_lat_p")):(ie=Xe(y.params,"ro_lon_1"),le=Xe(y.params,"ro_lat_1"),Q=Xe(y.params,"ro_lon_2"),ge=Xe(y.params,"ro_lat_2"),(a(le-ge)<=de||(we=a(le))<=de||a(we-ve)<=de||a(a(ge)-ve)<=de)&&rn(-33),O=k(d(le)*c(ge)*d(ie)-c(le)*d(ge)*d(Q),c(le)*d(ge)*c(Q)-d(le)*c(ge)*c(ie)),j=E(-d(O-ie)/v(le))),a(j)>de?($=d(j),U=c(j),y.fwd=ke,y.inv=P.inv?Re:null):(y.fwd=Me,y.inv=P.inv?Oe:null);function ke(pe,Ae){var ye,Ee,je;ye=d(pe.lam),Ee=c(pe.phi),je=d(pe.phi),pe.lam=Hi(gc(je*c(pe.lam),U*je*ye+$*Ee)+O),pe.phi=ln(U*Ee-$*je*ye),P.fwd(pe,Ae)}function Me(pe,Ae){var ye,Ee;ye=d(pe.phi),Ee=d(pe.lam),pe.lam=Hi(gc(ye*c(pe.lam),c(pe.phi))+O),pe.phi=ln(-ye*Ee),P.fwd(pe,Ae)}function Re(pe,Ae){var ye,Ee,je;P.inv(pe,Ae),Ae.lam!=N&&(ye=d(Ae.lam-=O),Ee=c(Ae.phi),je=d(Ae.phi),Ae.phi=ln(U*Ee+$*je*ye),Ae.lam=gc(je*c(Ae.lam),U*je*ye-$*Ee))}function Oe(pe,Ae){var ye,Ee;P.inv(pe,Ae),Ae.lam!=N&&(ye=d(Ae.phi),Ee=Ae.lam-O,Ae.lam=gc(ye*c(Ee),-c(Ae.phi)),Ae.phi=ln(ye*d(Ee)))}}ft(Cne,"ocea","Oblique Cylindrical Equal Area",`Cyl, Sph lonc= alpha= or
lat_1= lat_2= lon_1= lon_2=`);function Cne(y){var A=0,I,P,O,$,U,j,L,W,ne,ie,Q;L=1/y.k0,W=y.k0,Xe(y.params,"talpha")?(j=Xe(y.params,"ralpha"),U=Xe(y.params,"rlonc"),Q=E(-d(j)/(-c(A)*c(j)))+U,ne=_(d(A)*c(j))):(I=Xe(y.params,"rlat_1"),P=Xe(y.params,"rlat_2"),O=Xe(y.params,"rlon_1"),$=Xe(y.params,"rlon_2"),Q=k(d(I)*c(P)*d(O)-c(I)*d(P)*d($),c(I)*d(P)*c($)-d(I)*c(P)*c(O)),O==-ve&&(Q=-Q),ne=E(-d(Q-O)/v(I))),y.lam0=Q+ve,ie=d(ne),ne=c(ne),Q=c(Q),y.es=0,y.fwd=le,y.inv=ge;function le(we,de){var ke;de.y=c(we.lam),ke=d(we.lam),de.x=E((v(we.phi)*ie+ne*de.y)/ke),ke<0&&(de.x+=Z),de.x*=W,de.y=L*(ne*c(we.phi)-ie*d(we.phi)*de.y)}function ge(we,de){var ke,Me;we.y/=L,we.x/=W,ke=F(1-we.y*we.y),de.phi=_(we.y*ne+ke*ie*(Me=c(we.x))),de.lam=k(ke*ne*Me-we.y*ie,ke*d(we.x))}}ft(Ene,"omerc","Oblique Mercator",`Cyl, Sph&Ell no_rot
alpha= [gamma=] [no_off] lonc= or
lon_1= lat_1= lon_2= lat_2=`);function Ene(y){var A=1e-7,I,P,O,$,U,j,L,W,ne,ie,Q=0,le,ge=0,we=0,de=0,ke=0,Me=0,Re=0,Oe,pe,Ae=0,ye,Ee,je,Ye,st,gt,wt,At,Ke,ut,Ge,We,et,it;it=Xe(y.params,"tno_rot"),(Oe=Xe(y.params,"talpha"))!=0&&(Re=Xe(y.params,"ralpha")),(pe=Xe(y.params,"tgamma"))!=0&&(Q=Xe(y.params,"rgamma")),Oe||pe?(ge=Xe(y.params,"rlonc"),Ae=Xe(y.params,"tno_off")||Xe(y.params,"tno_uoff"),Ae&&(Xe(y.params,"sno_uoff"),Xe(y.params,"sno_off"))):(we=Xe(y.params,"rlon_1"),ke=Xe(y.params,"rlat_1"),de=Xe(y.params,"rlon_2"),Me=Xe(y.params,"rlat_2"),(a(ke-Me)<=A||(I=a(ke))<=A||a(I-ve)<=A||a(a(y.phi0)-ve)<=A||a(a(Me)-ve)<=A)&&rn(-33)),P=F(y.one_es),a(y.phi0)>Ln?(W=c(y.phi0),O=d(y.phi0),I=1-y.es*W*W,Ee=O*O,Ee=F(1+y.es*Ee*Ee/y.one_es),ye=Ee*y.k0*P/I,$=Ee*P/(O*F(I)),(U=$*$-1)<=0?U=0:(U=F(U),y.phi0<0&&(U=-U)),je=U+=$,je*=B(Io(y.phi0,W,y.e),Ee)):(Ee=1/P,ye=y.k0,je=$=U=1),Oe||pe?(Oe?(le=_(c(Re)/$),pe||(Q=Re)):Re=_($*c(le=Q)),y.lam0=ge-_(.5*(U-1/U)*v(le))/Ee):(j=B(Io(ke,c(ke),y.e),Ee),L=B(Io(Me,c(Me),y.e),Ee),U=je/j,ne=(L-j)/(L+j),ie=je*je,ie=(ie-L*j)/(ie+L*j),(I=we-de)<-Z?de-=kt:I>Z&&(de+=kt),y.lam0=Hi(.5*(we+de)-E(ie*v(.5*Ee*(we-de))/ne)/Ee),le=E(2*c(Ee*Hi(we-y.lam0))/(U-1/U)),Q=Re=_($*c(le))),wt=c(le),At=d(le),Ke=c(Q),ut=d(Q),st=1/(Ye=ye*(gt=1/Ee)),Ae?et=0:(et=a(Ye*E(F($*$-1)/d(Re))),y.phi0<0&&(et=-et)),U=.5*le,Ge=Ye*G(v(De-U)),We=Ye*G(v(De+U)),y.fwd=_t,y.inv=xt;function _t(Ot,Mt){var Kt,zt,jt,Xt,yt,Qt,nn,Mn;a(a(Ot.phi)-ve)>Ln?(yt=je/B(Io(Ot.phi,c(Ot.phi),y.e),Ee),Qt=1/yt,Kt=.5*(yt-Qt),zt=.5*(yt+Qt),Xt=c(Ee*Ot.lam),jt=(Kt*wt-Xt*At)/zt,a(a(jt)-1)<Ln&&Fn(),Mn=.5*Ye*G((1-jt)/(1+jt)),Qt=d(Ee*Ot.lam),a(Qt)<A?nn=ye*Ot.lam:nn=Ye*k(Kt*At+Xt*wt,Qt)):(Mn=Ot.phi>0?Ge:We,nn=Ye*Ot.phi),it?(Mt.x=nn,Mt.y=Mn):(nn-=et,Mt.x=Mn*ut+nn*Ke,Mt.y=nn*ut-Mn*Ke)}function xt(Ot,Mt){var Kt,zt,jt,Xt,yt,Qt,nn;it?(zt=Ot.y,Kt=Ot.x):(zt=Ot.x*ut-Ot.y*Ke,Kt=Ot.y*ut+Ot.x*Ke+et),jt=V(-st*zt),Xt=.5*(jt-1/jt),yt=.5*(jt+1/jt),Qt=c(st*Kt),nn=(Qt*At+Xt*wt)/yt,a(a(nn)-1)<Ln?(Mt.lam=0,Mt.phi=nn<0?-ve:ve):(Mt.phi=je/F((1+nn)/(1-nn)),(Mt.phi=yb(B(Mt.phi,1/Ee),y.e))==N&&In(),Mt.lam=-gt*k(Xt*At-Qt*wt,d(st*Kt)))}}ft(Ane,"ortho","Orthographic","Azi, Sph.");function Ane(y){var A=1e-10,I=0,P=1,O=2,$=3,U={};a(a(y.phi0)-ve)<=A?U.mode=y.phi0<0?P:I:a(y.phi0)>A?(U.mode=$,U.sinph0=c(y.phi0),U.cosph0=d(y.phi0)):U.mode=O,y.fwd=j,y.inv=L,y.es=0;function j(W,ne){var ie,Q,le;switch(Q=d(W.phi),ie=d(W.lam),U.mode){case O:Q*ie<-A&&Fn(),ne.y=c(W.phi);break;case $:U.sinph0*(le=c(W.phi))+U.cosph0*Q*ie<-A&&Fn(),ne.y=U.cosph0*le-U.sinph0*Q*ie;break;case I:ie=-ie;case P:a(W.phi-y.phi0)-A>ve&&Fn(),ne.y=Q*ie;break}ne.x=Q*c(W.lam)}function L(W,ne){var ie,Q,le;if((le=ie=H(W.x,W.y))>1&&(le-1>A&&In(),le=1),Q=F(1-le*le),a(ie)<=A)ne.phi=y.phi0,ne.lam=0;else{switch(U.mode){case I:W.y=-W.y,ne.phi=x(le);break;case P:ne.phi=-x(le);break;case O:case $:U.mode==O?(ne.phi=W.y*le/ie,W.x*=le,W.y=Q*ie):(ne.phi=Q*U.sinph0+W.y*le*U.cosph0/ie,W.y=(Q-U.sinph0*ne.phi)*ie,W.x*=le*U.cosph0),a(ne.phi)>=1?ne.phi=ne.phi<0?-ve:ve:ne.phi=_(ne.phi);break}ne.lam=W.y==0&&(U.mode==$||U.mode==O)?W.x==0?0:W.x<0?-ve:ve:k(W.x,W.y)}}}ft(kne,"patterson","Patterson Cylindrical","Cyl., Sph.");function kne(y){var A=1.0148,I=.23185,P=-.14499,O=.02406,$=A,U=5*I,j=7*P,L=9*O,W=1e-11,ne=9085718317e-1;y.es=0,y.fwd=ie,y.inv=Q;function ie(le,ge){var we=le.phi*le.phi;ge.x=le.lam,ge.y=le.phi*(A+we*we*(I+we*(P+O*we)))}function Q(le,ge){var we=100,de,ke,Me,Re,Oe,pe;for(de=le.y,le.y>ne?le.y=ne:le.y<-ne&&(le.y=-ne),pe=we;pe&&(Me=de*de,Re=de*(A+Me*Me*(I+Me*(P+O*Me)))-le.y,Oe=$+Me*Me*(U+Me*(j+L*Me)),de-=ke=Re/Oe,!(a(ke)<W));--pe);ge.phi=de,ge.lam=le.x}}ft(Fne,"poly","Polyconic (American)","Conic, Sph&Ell");function Fne(y){var A=1e-10,I=1e-10,P=10,O=20,$=1e-12,U,j;y.es?(j=_s(y.es),U=mr(y.phi0,c(y.phi0),d(y.phi0),j),y.fwd=L,y.inv=W):(U=-y.phi0,y.fwd=ne,y.inv=ie);function L(Q,le){var ge,we,de;a(Q.phi)<=A?(le.x=Q.lam,le.y=-U):(we=c(Q.phi),ge=a(de=d(Q.phi))>A?ys(we,de,y.es)/we:0,le.x=ge*c(Q.lam*=we),le.y=mr(Q.phi,we,de,j)-U+ge*(1-d(Q.lam)))}function W(Q,le){var ge=Q.x,we=Q.y,de,ke,Me,Re,Oe,pe,Ae,ye,Ee,je;if(we+=U,a(we)<=A)le.lam=ge,le.phi=0;else{for(de=we*we+ge*ge,le.phi=we,je=O;je>0&&(Me=c(le.phi),Oe=Me*(Re=d(le.phi)),a(Re)<$&&In(),ke=Me*(ye=F(1-y.es*Me*Me))/Re,pe=mr(le.phi,Me,Re,j),Ae=pe*pe+de,ye=y.one_es/(ye*ye*ye),le.phi+=Ee=(pe+pe+ke*Ae-2*we*(ke*pe+1))/(y.es*Oe*(Ae-2*we*pe)/ke+2*(we-pe)*(ke*ye-1/Oe)-ye-ye),!(a(Ee)<=$));--je);je||In(),ke=c(le.phi),le.lam=_(ge*v(le.phi)*F(1-y.es*ke*ke))/c(le.phi)}}function ne(Q,le){var ge,we;a(Q.phi)<=A?(le.x=Q.lam,le.y=U):(ge=1/v(Q.phi),le.x=c(we=Q.lam*c(Q.phi))*ge,le.y=Q.phi-y.phi0+ge*(1-d(we)))}function ie(Q,le){var ge,we,de,ke;if(a(Q.y=y.phi0+Q.y)<=A)le.lam=Q.x,le.phi=0;else{le.phi=Q.y,ge=Q.x*Q.x+Q.y*Q.y,ke=P;do de=v(le.phi),le.phi-=we=(Q.y*(le.phi*de+1)-le.phi-.5*(le.phi*le.phi+ge)*de)/((le.phi-Q.y)/de-1);while(a(we)>I&&--ke);ke||In(),le.lam=_(Q.x*v(le.phi))/c(le.phi)}}}ft(Ine,"putp2","Putnins P2","PCyl., Sph.");function Ine(y){var A=1.8949,I=1.71848,P=.6141848493043784,O=1e-10,$=10,U=1.0471975511965976;y.es=0,y.fwd=j,y.inv=L;function j(W,ne){var ie,Q,le,ge,we;for(ie=P*c(W.phi),le=W.phi*W.phi,W.phi*=.615709+le*(.00909953+le*.0046292),we=$;we&&(Q=d(W.phi),le=c(W.phi),W.phi-=ge=(W.phi+le*(Q-1)-ie)/(1+Q*(Q-1)-le*le),!(a(ge)<O));--we);we||(W.phi=W.phi<0?-U:U),ne.x=A*W.lam*(d(W.phi)-.5),ne.y=I*c(W.phi)}function L(W,ne){var ie;ne.phi=ln(W.y/I),ne.lam=W.x/(A*((ie=d(ne.phi))-.5)),ne.phi=ln((ne.phi+c(ne.phi)*(ie-1))/P)}}ft(wI,"putp3","Putnins P3","PCyl., Sph."),ft(Mne,"putp3p","Putnins P3'","PCyl., Sph.");function Mne(y){wI(y,!0)}function wI(y,A){var I=.79788456,P=.1013211836,O=(A?2:4)*P;y.es=0,y.fwd=$,y.inv=U;function $(j,L){L.x=I*j.lam*(1-O*j.phi*j.phi),L.y=I*j.phi}function U(j,L){L.phi=j.y/I,L.lam=j.x/(I*(1-O*L.phi*L.phi))}}ft(Dne,"putp4p","Putnins P4'","PCyl., Sph."),ft(Tne,"weren","Werenskiold I","PCyl., Sph.");function Dne(y){xI(y,.874038744,3.883251825)}function Tne(y){xI(y,1,4.442882938)}function xI(y,A,I){y.es=0,y.fwd=P,y.inv=O;function P($,U){$.phi=ln(.883883476*c($.phi)),U.x=A*$.lam*d($.phi),U.x/=d($.phi*=.333333333333333),U.y=I*c($.phi)}function O($,U){U.phi=ln($.y/I),U.lam=$.x*d(U.phi)/A,U.phi*=3,U.lam/=d(U.phi),U.phi=ln(1.13137085*c(U.phi))}}ft(SI,"putp5","Putnins P5","PCyl., Sph."),ft(Pne,"putp5p","Putnins P5'","PCyl., Sph.");function Pne(y){SI(y,!0)}function SI(y,A){var I=A?1.5:2,P=A?.5:1,O=1.01346,$=1.2158542;y.es=0,y.fwd=U,y.inv=j;function U(L,W){W.x=O*L.lam*(I-P*F(1+$*L.phi*L.phi)),W.y=O*L.phi}function j(L,W){W.phi=L.y/O,W.lam=L.x/(O*(I-P*F(1+$*W.phi*W.phi)))}}ft(CI,"putp6","Putnins P6","PCyl., Sph."),ft(Rne,"putp6p","Putnins P6'","PCyl., Sph.");function Rne(y){CI(y,!0)}function CI(y,A){var I=1e-10,P=10,O=1.732050807568877,$,U,j,L,W;A?(j=.44329,L=.80404,$=6,U=5.61125,W=3):(j=1.01346,L=.9191,$=4,U=2.147143718212938,W=2),y.es=0,y.fwd=ne,y.inv=ie;function ne(Q,le){var ge,we,de,ke;for(ge=U*c(Q.phi),Q.phi*=1.10265779,ke=P;ke&&(we=F(1+Q.phi*Q.phi),Q.phi-=de=(($-we)*Q.phi-G(Q.phi+we)-ge)/($-2*we),!(a(de)<I));--ke);ke||(Q.phi=ge<0?-O:O),le.x=j*Q.lam*(W-F(1+Q.phi*Q.phi)),le.y=L*Q.phi}function ie(Q,le){var ge;le.phi=Q.y/L,ge=F(1+le.phi*le.phi),le.lam=Q.x/(j*(W-ge)),le.phi=ln((($-ge)*le.phi-G(le.phi+ge))/U)}}ft(Bne,"qsc","Quadrilateralized Spherical Cube","Azi, Sph.");function Bne(y){var A=1e-10,I=0,P=1,O=2,$=3,U=4,j=5,L=0,W=1,ne=2,ie=3,Q,le,ge,we;y.phi0>=ve-De/2?Q=U:y.phi0<=-(ve-De/2)?Q=j:a(y.lam0)<=De?Q=I:a(y.lam0)<=ve+De?Q=y.lam0>0?P:$:Q=O,y.es!==0&&(y.a*y.a,le=y.a*F(1-y.es),ge=1-(y.a-le)/y.a,we=ge*ge),y.fwd=de,y.inv=ke;function de(Oe,pe){var Ae,ye,Ee,je,Ye,st,gt,wt,At,Ke,ut,Ge,We,et,it;y.es!==0?Ae=E(we*v(Oe.phi)):Ae=Oe.phi,ye=Oe.lam,Q==U?(je=ve-Ae,ye>=De&&ye<=ve+De?(gt=L,Ee=ye-ve):ye>ve+De||ye<=-(ve+De)?(gt=W,Ee=ye>0?ye-Z:ye+Z):ye>-(ve+De)&&ye<=-De?(gt=ne,Ee=ye+ve):(gt=ie,Ee=ye)):Q==j?(je=ve+Ae,ye>=De&&ye<=ve+De?(gt=L,Ee=-ye+ve):ye<De&&ye>=-De?(gt=W,Ee=-ye):ye<-De&&ye>=-(ve+De)?(gt=ne,Ee=-ye-ve):(gt=ie,Ee=ye>0?-ye+Z:-ye-Z)):(Q==P?ye=Re(ye,+ve):Q==O?ye=Re(ye,+Z):Q==$&&(ye=Re(ye,-ve)),ut=c(Ae),Ge=d(Ae),We=c(ye),et=d(ye),wt=Ge*et,At=Ge*We,Ke=ut,Q==I?(je=x(wt),it=Me(je,Ke,At)):Q==P?(je=x(At),it=Me(je,Ke,-wt)):Q==O?(je=x(-wt),it=Me(je,Ke,-At)):Q==$?(je=x(-At),it=Me(je,Ke,wt)):(je=0,it={area:L,theta:0}),Ee=it.theta,gt=it.area),st=E(12/Z*(Ee+x(c(Ee)*d(De))-ve)),Ye=F((1-d(je))/(d(st)*d(st))/(1-d(E(1/d(Ee))))),gt==W?st+=ve:gt==ne?st+=Z:gt==ie&&(st+=It),pe.x=Ye*d(st),pe.y=Ye*c(st)}function ke(Oe,pe){var Ae,ye,Ee,je,Ye,st,gt,wt,At,Ke;if(ye=E(F(Oe.x*Oe.x+Oe.y*Oe.y)),Ae=k(Oe.y,Oe.x),Oe.x>=0&&Oe.x>=a(Oe.y)?Ke=L:Oe.y>=0&&Oe.y>=a(Oe.x)?(Ke=W,Ae-=ve):Oe.x<0&&-Oe.x>=a(Oe.y)?(Ke=ne,Ae=Ae<0?Ae+Z:Ae-Z):(Ke=ie,Ae+=ve),At=Z/12*v(Ae),Ye=c(At)/(d(At)-1/F(2)),st=E(Ye),Ee=d(Ae),je=v(ye),gt=1-Ee*Ee*je*je*(1-d(E(1/d(st)))),gt<-1?gt=-1:gt>1&&(gt=1),Q==U)wt=x(gt),pe.phi=ve-wt,Ke==L?pe.lam=st+ve:Ke==W?pe.lam=st<0?st+Z:st-Z:Ke==ne?pe.lam=st-ve:pe.lam=st;else if(Q==j)wt=x(gt),pe.phi=wt-ve,Ke==L?pe.lam=-st+ve:Ke==W?pe.lam=-st:Ke==ne?pe.lam=-st-ve:pe.lam=st<0?-st-Z:-st+Z;else{var ut,Ge,We;ut=gt,At=ut*ut,At>=1?We=0:We=F(1-At)*c(st),At+=We*We,At>=1?Ge=0:Ge=F(1-At),Ke==W?(At=Ge,Ge=-We,We=At):Ke==ne?(Ge=-Ge,We=-We):Ke==ie&&(At=Ge,Ge=We,We=-At),Q==P?(At=ut,ut=-Ge,Ge=At):Q==O?(ut=-ut,Ge=-Ge):Q==$&&(At=ut,ut=Ge,Ge=-At),pe.phi=x(-We)-ve,pe.lam=k(Ge,ut),Q==P?pe.lam=Re(pe.lam,-ve):Q==O?pe.lam=Re(pe.lam,-Z):Q==$&&(pe.lam=Re(pe.lam,+ve))}if(y.es!==0){var et,it,_t;et=pe.phi<0?1:0,it=v(pe.phi),_t=le/F(it*it+we),pe.phi=E(F(y.a*y.a-_t*_t)/(ge*_t)),et&&(pe.phi=-pe.phi)}}function Me(Oe,pe,Ae){var ye,Ee;return Oe<A?(ye=L,Ee=0):(Ee=k(pe,Ae),a(Ee)<=De?ye=L:Ee>De&&Ee<=ve+De?(ye=W,Ee-=ve):Ee>ve+De||Ee<=-(ve+De)?(ye=ne,Ee=Ee>=0?Ee-Z:Ee+Z):(ye=ie,Ee+=ve)),{area:ye,theta:Ee}}function Re(Oe,pe){var Ae=Oe+pe;return Ae<-Z?Ae+=kt:Ae>+Z&&(Ae-=kt),Ae}}ft(One,"robin","Robinson","PCyl., Sph.");function One(y){var A=ge([[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]]),I=ge([[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]]),P=.8487,O=1.3523,$=11.459155902616464,U=.08726646259971647,j=18,L=1.000001,W=1e-8;y.es=0,y.fwd=ne,y.inv=ie;function ne(we,de){var ke,Me;ke=u((Me=a(we.phi))*$),ke<0&&Fn(),ke>=j&&(ke=j-1),Me=re*(Me-U*ke),de.x=Q(A[ke],Me)*P*we.lam,de.y=Q(I[ke],Me)*O,we.phi<0&&(de.y=-de.y)}function ie(we,de){var ke,Me,Re,Oe;if(de.lam=we.x/P,de.phi=a(we.y/O),de.phi>=1)de.phi>L?In():(de.phi=we.y<0?-ve:ve,de.lam/=A[j][0]);else{if(Oe=u(de.phi*j),Oe<0||Oe>=j)return In();for(;;)if(I[Oe][0]>de.phi)--Oe;else if(I[Oe+1][0]<=de.phi)++Oe;else break;for(Re=new Float32Array(I[Oe]),ke=5*(de.phi-Re[0])/(I[Oe+1][0]-Re[0]),Re[0]-=de.phi;ke-=Me=Q(Re,ke)/le(Re,ke),!(a(Me)<W););de.phi=(5*Oe+ke)*_e,we.y<0&&(de.phi=-de.phi),de.lam/=Q(A[Oe],ke)}}function Q(we,de){return we[0]+de*(we[1]+de*(we[2]+de*we[3]))}function le(we,de){return we[1]+de*(we[2]+we[2]+de*3*we[3])}function ge(we){return we.map(function(de){return new Float32Array(de)})}}ft(Lu("EULER"),"euler","Euler",`Conic, Sph
lat_1= and lat_2=`),ft(Lu("MURD1"),"murd1","Murdoch I",`Conic, Sph
lat_1= and lat_2=`),ft(Lu("MURD2"),"murd2","Murdoch II",`Conic, Sph
lat_1= and lat_2=`),ft(Lu("MURD3"),"murd3","Murdoch III",`Conic, Sph
lat_1= and lat_2=`),ft(Lu("PCONIC"),"pconic","Perspective Conic",`Conic, Sph
lat_1= and lat_2=`),ft(Lu("TISSOT"),"tissot","Tissot",`Conic, Sph
lat_1= and lat_2=`),ft(Lu("VITK1"),"vitk1","Vitkovsky I",`Conic, Sph
lat_1= and lat_2=`);function Lu(y){return function(A){Lne(A,y)}}function Lne(y,A){var I,P,O,$,U,j,L,W,ne,ie,Q=1e-10;switch(!Xe(y.params,"tlat_1")||!Xe(y.params,"tlat_2")?rn(-41):(O=Xe(y.params,"rlat_1"),$=Xe(y.params,"rlat_2"),I=.5*($-O),W=.5*($+O),(a(I)<Q||a(W)<Q)&&rn(-42)),A){case"TISSOT":U=c(W),P=d(I),j=U/P+P/U,L=F((j-2*c(y.phi0))/U);break;case"MURD1":j=c(I)/(I*v(W))+W,L=j-y.phi0,U=c(W);break;case"MURD2":j=(P=F(d(I)))/v(W),L=j+v(W-y.phi0),U=c(W)*P;break;case"MURD3":j=I/(v(W)*v(I))+W,L=j-y.phi0,U=c(W)*c(I)*v(I)/(I*I);break;case"EULER":U=c(W)*c(I)/I,I*=.5,j=I/(v(I)*v(W))+W,L=j-y.phi0;break;case"PCONIC":U=c(W),ie=d(I),ne=1/v(W),a(I=y.phi0-W)-Q>=ve&&rn(-43),L=ie*(ne-v(I));break;case"VITK1":U=(P=v(I))*c(W)/I,j=I/(P*v(W))+W,L=j-y.phi0;break}y.inv=ge,y.fwd=le,y.es=0;function le(we,de){var ke;switch(A){case"MURD2":ke=j+v(W-we.phi);break;case"PCONIC":ke=ie*(ne-v(we.phi-W));break;default:ke=j-we.phi;break}de.x=ke*c(we.lam*=U),de.y=L-ke*d(we.lam)}function ge(we,de){var ke;switch(ke=H(we.x,we.y=L-we.y),U<0&&(ke=-ke,we.x=-we.x,we.y=-we.y),de.lam=k(we.x,we.y)/U,A){case"PCONIC":de.phi=E(ne-ke/ie)+W;break;case"MURD2":de.phi=W-E(ke-j);break;default:de.phi=j-ke}}}ft(zne,"somerc","Swiss. Obl. Mercator",`Cyl, Ell
For CH1903`);function zne(y){var A,I,P,O,$,U,j=1e-10,L=6,W,ne,ie;P=.5*y.e,W=d(y.phi0),W*=W,I=F(1+y.es*W*W*y.rone_es),ie=c(y.phi0),$=d(ne=ln(U=ie/I)),ie*=y.e,A=G(v(De+.5*ne))-I*(G(v(De+.5*y.phi0))-P*G((1+ie)/(1-ie))),O=y.k0*F(y.one_es)/(1-ie*ie),y.inv=le,y.fwd=Q;function Q(ge,we){var de,ke,Me,Re,Oe,pe;Oe=y.e*c(ge.phi),de=2*E(V(I*(G(v(De+.5*ge.phi))-P*G((1+Oe)/(1-Oe)))+A))-ve,ke=I*ge.lam,pe=d(de),Me=ln($*c(de)-U*pe*d(ke)),Re=ln(pe*c(ke)/d(Me)),we.x=O*Re,we.y=O*G(v(De+.5*Me))}function le(ge,we){var de,ke,Me,Re,Oe,pe,Ae,ye,Ee;for(Me=2*(E(V(ge.y/O))-De),Re=ge.x/O,Oe=d(Me),de=ln($*c(Me)+U*Oe*d(Re)),ke=ln(Oe*c(Re)/d(de)),Ae=(A-G(v(De+.5*de)))/I,Ee=L;Ee&&(pe=y.e*c(de),ye=(Ae+G(v(De+.5*de))-P*G((1+pe)/(1-pe)))*(1-pe*pe)*d(de)*y.rone_es,de-=ye,!(a(ye)<j));--Ee);Ee?(we.phi=de,we.lam=ke/I):In()}}ft(jne,"stere","Stereographic",`Azi, Sph&Ell
lat_ts=`),ft(Nne,"ups","Universal Polar Stereographic",`Azi, Sph&Ell
south`);function Nne(y){y.phi0=Xe(y.params,"bsouth")?-ve:ve,y.k0=.994,y.x0=2e6,y.y0=2e6,y.lam0=0,y.es||rn(-34),EI(y,ve)}function jne(y){var A=Xe(y.params,"tlat_ts")?Xe(y.params,"rlat_ts"):ve;EI(y,A)}function EI(y,A){var I=1e-10,P=1e-8,O=8,$=1e-10,U=0,j=1,L=2,W=3,ne,ie,Q,le,ge,we,de,ke;if(a((ie=a(y.phi0))-ve)<I?ke=y.phi0<0?U:j:ke=ie>I?L:W,A=a(A),y.es){switch(ke){case j:case U:a(A-ve)<I?de=2*y.k0/F(B(1+y.e,1+y.e)*B(1-y.e,1-y.e)):(de=d(A)/Io(A,ie=c(A),y.e),ie*=y.e,de/=F(1-ie*ie));break;case W:case L:ie=c(y.phi0),ne=2*E(Ae(y.phi0,ie,y.e))-ve,ie*=y.e,de=2*y.k0*d(y.phi0)/F(1-ie*ie),ge=c(ne),we=d(ne);break}y.fwd=Me,y.inv=Oe}else{switch(ke){case L:Q=c(y.phi0),le=d(y.phi0);case W:de=2*y.k0;break;case U:case j:de=a(A-ve)>=I?d(A)/v(De-.5*A):2*y.k0;break}y.fwd=Re,y.inv=pe}function Me(ye,Ee){var je,Ye,st=0,gt=0,wt,At,Ke;switch(je=d(ye.lam),Ye=c(ye.lam),Ke=c(ye.phi),(ke==L||ke==W)&&(st=c(wt=2*E(Ae(ye.phi,Ke,y.e))-ve),gt=d(wt)),ke){case L:At=de/(we*(1+ge*st+we*gt*je)),Ee.y=At*(we*st-ge*gt*je),Ee.x=At*gt;break;case W:At=de/(1+gt*je),Ee.y=At*st,Ee.x=At*gt;break;case U:ye.phi=-ye.phi,je=-je,Ke=-Ke;case j:Ee.x=de*Io(ye.phi,Ke,y.e),Ee.y=-Ee.x*je;break}Ee.x=Ee.x*Ye}function Re(ye,Ee){var je=ye.phi,Ye=c(je),st=d(je),gt=d(ye.lam),wt=c(ye.lam);switch(ke){case W:case L:ke==W?Ee.y=1+st*gt:Ee.y=1+Q*Ye+le*st*gt,Ee.y<=I&&Fn(),Ee.x=(Ee.y=de/Ee.y)*st*wt,Ee.y*=ke==W?Ye:le*Ye-Q*st*gt;break;case j:gt=-gt,je=-je;case U:a(je-ve)<P&&Fn(),Ee.x=wt*(Ee.y=de*v(De+.5*je)),Ee.y*=gt;break}}function Oe(ye,Ee){Ee.phi;var je=0,Ye=0,st=0,gt=0,wt,At,Ke,ut;switch(Ke=H(ye.x,ye.y),ke){case L:case W:wt=d(je=2*k(Ke*we,de)),At=c(je),Ke==0?Ye=_(wt*ge):Ye=_(wt*ge+ye.y*At*we/Ke),je=v(.5*(ve+Ye)),ye.x*=At,ye.y=Ke*we*wt-ye.y*ge*At,gt=ve,st=.5*y.e;break;case j:ye.y=-ye.y;case U:Ye=ve-2*E(je=-Ke/de),gt=-ve,st=-.5*y.e;break}for(ut=0;ut<O;ut++,Ye=Ee.phi)if(At=y.e*c(Ye),Ee.phi=2*E(je*B((1+At)/(1-At),st))-gt,a(Ye-Ee.phi)<$){ke==U&&(Ee.phi=-Ee.phi),Ee.lam=ye.x==0&&ye.y==0?0:k(ye.x,ye.y);return}In()}function pe(ye,Ee){var je,Ye,st,gt;switch(st=c(je=2*E((Ye=H(ye.x,ye.y))/de)),gt=d(je),Ee.lam=0,ke){case W:a(Ye)<=I?Ee.phi=0:Ee.phi=_(ye.y*st/Ye),(gt!=0||ye.x!=0)&&(Ee.lam=k(ye.x*st,gt*Ye));break;case L:a(Ye)<=I?Ee.phi=y.phi0:Ee.phi=_(gt*Q+ye.y*st*le/Ye),((je=gt-Q*c(Ee.phi))!=0||ye.x!=0)&&(Ee.lam=k(ye.x*st*le,je*Ye));break;case j:ye.y=-ye.y;case U:a(Ye)<=I?Ee.phi=y.phi0:Ee.phi=_(ke==U?-gt:gt),Ee.lam=ye.x==0&&ye.y==0?0:k(ye.x,ye.y);break}}function Ae(ye,Ee,je){return Ee*=je,v(.5*(ve+ye))*B((1-Ee)/(1+Ee),.5*je)}}function _b(y,A){return B((1-y)/(1+y),A)}function qne(y,A){var I=y*y,P=c(A),O=d(A),$=F(1-I)/(1-I*P*P),U=F(1+I*O*O*O*O/(1-I)),j=_(P/U),L=.5*U*y,W=v(.5*j+De)/(B(v(.5*A+De),U)*_b(y*P,L));return{e:y,K:W,C:U,chi:j,ratexp:L,rc:$}}function $ne(y,A){return{phi:2*E(A.K*B(v(.5*y.phi+De),A.C)*_b(A.e*c(y.phi),A.ratexp))-ve,lam:A.C*y.lam}}function Une(y,A){var I=20,P=1e-14;y.phi;var O=B(v(.5*y.phi+De)/A.K,1/A.C),$,U;for(y.lam/=A.C,$=I;$>0&&(U=2*E(O*_b(A.e*c(y.phi),-.5*A.e))-ve,!(a(U-y.phi)<P));--$)y.phi=U;$||Ar(-17)}ft(Gne,"sterea","Oblique Stereographic Alternative","Azimuthal, Sph&Ell");function Gne(y){var A=qne(y.e,y.phi0),I=A.chi,P=A.rc,O=2*P,$=c(I),U=d(I);y.fwd=j,y.inv=L;function j(W,ne){var ie,Q,le,ge;W=$ne(W,A),Q=c(W.phi),ie=d(W.phi),le=d(W.lam),ge=y.k0*O/(1+$*Q+U*ie*le),ne.x=ge*ie*c(W.lam),ne.y=ge*(U*Q-$*ie*le)}function L(W,ne){var ie=W.x/y.k0,Q=W.y/y.k0,le,ge,we,de;(le=H(ie,Q))?(ge=2*k(le,O),we=c(ge),de=d(ge),ne.phi=_(de*$+Q*we*U/le),ne.lam=k(ie*we,le*U*de-Q*$*we)):(ne.phi=I,ne.lam=0),Une(ne,A)}}ft(Hne,"kav5","Kavraisky V","PCyl., Sph."),ft(Vne,"qua_aut","Quartic Authalic","PCyl., Sph."),ft(Wne,"fouc","Foucaut","PCyl., Sph."),ft(Yne,"mbt_s","McBryde-Thomas Flat-Polar Sine (No. 1)","PCyl., Sph.");function Hne(y){Ig(y,1.50488,1.35439,!1)}function Vne(y){Ig(y,2,2,!1)}function Wne(y){Ig(y,2,2,!0)}function Yne(y){Ig(y,1.48875,1.36509,!1)}function Ig(y,A,I,P){var O=I/A,$=A,U=1/I;y.inv=L,y.fwd=j,y.es=0;function j(W,ne){var ie;ne.x=O*W.lam*d(W.phi),ne.y=$,W.phi*=U,ie=d(W.phi),P?(ne.x*=ie*ie,ne.y*=v(W.phi)):(ne.x/=ie,ne.y*=c(W.phi))}function L(W,ne){var ie;W.y/=$,ie=d(ne.phi=P?E(W.y):ln(W.y)),ne.phi/=U,ne.lam=W.x/(O*d(ne.phi)),P?ne.lam/=ie*ie:ne.lam*=ie}}ft(Xne,"tcea","Transverse Cylindrical Equal Area","Cyl, Sph");function Xne(y){y.es=0,y.fwd=A,y.inv=I;function A(P,O){O.x=d(P.phi)*c(P.lam)/y.k0,O.y=y.k0*(k(v(P.phi),d(P.lam))-y.phi0)}function I(P,O){var $;P.y=P.y/y.k0+y.phi0,P.x*=y.k0,$=F(1-P.x*P.x),O.phi=_($*c(P.y)),O.lam=k(P.x,$*d(P.y))}}ft(Kne,"times","Times","Cyl, Sph");function Kne(y){y.es=0,y.fwd=function(A,I){var P=v(A.phi/2),O=c(De*P);I.x=A.lam*(.74482-.34588*O*O),I.y=1.70711*P},y.inv=function(A,I){var P=A.y/1.70711,O=c(De*P);I.lam=A.x/(.74482-.34588*O*O),I.phi=2*E(P)}}ft(Jne,"tmerc","Transverse Mercator","Cyl, Sph&Ell"),ft(Zne,"utm","Universal Transverse Mercator (UTM)",`Cyl, Sph
zone= south`);function Zne(y){var A;y.es||rn(-34),y.y0=Xe(y.params,"bsouth")?1e7:0,y.x0=5e5,Xe(y.params,"tzone")?(A=Xe(y.params,"izone"))>0&&A<=60?--A:rn(-35):(A=u((Hi(y.lam0)+Z)*30/Z),A<0?A=0:A>=60&&(A=59)),y.lam0=(A+.5)*Z/30-Z,y.k0=.9996,y.phi0=0,vb(y)}function Jne(y){Xe(y.params,"bapprox")?bb(y):Qne(y)}function Qne(y){if(y.es===0)return bb(y);vb(y);var A=y.fwd,I=y.inv;bb(y);var P=y.fwd,O=y.inv;y.fwd=function($,U){a($.lam)>3*_e?A($,U):P($,U)},y.inv=function($,U){a($.x)>.053-.022*$.y*$.y?I($,U):O($,U)}}function bb(y){var A=1e-10,I=1,P=.5,O=.16666666666666666,$=.08333333333333333,U=.05,j=.03333333333333333,L=.023809523809523808,W=.017857142857142856,ne,ie,Q;y.es?((Q=_s(y.es))||e_error_0(),ie=mr(y.phi0,c(y.phi0),d(y.phi0),Q),ne=y.es/(1-y.es),y.fwd=le,y.inv=we):(ne=y.k0,ie=.5*ne,y.fwd=ge,y.inv=de);function le(ke,Me){var Re,Oe,pe,Ae,ye,Ee;if(ke.lam<-ve||ke.lam>ve){Ar(-14);return}Re=c(ke.phi),Oe=d(ke.phi),pe=a(Oe)>A?Re/Oe:0,pe*=pe,Ae=Oe*ke.lam,ye=Ae*Ae,Ae/=F(1-y.es*Re*Re),Ee=ne*Oe*Oe,Me.x=y.k0*Ae*(I+O*ye*(1-pe+Ee+U*ye*(5+pe*(pe-18)+Ee*(14-58*pe)+L*ye*(61+pe*(pe*(179-pe)-479))))),Me.y=y.k0*(mr(ke.phi,Re,Oe,Q)-ie+Re*Ae*ke.lam*P*(1+$*ye*(5-pe+Ee*(9+4*Ee)+j*ye*(61+pe*(pe-58)+Ee*(270-330*pe)+W*ye*(1385+pe*(pe*(543-pe)-3111))))))}function ge(ke,Me){var Re,Oe;if(ke.lam<-ve||ke.lam>ve){Ar(-14);return}Oe=d(ke.phi),Re=Oe*c(ke.lam),a(a(Re)-1)<=A&&Fn(),Me.x=ie*G((1+Re)/(1-Re)),Me.y=Oe*d(ke.lam)/F(1-Re*Re),Re=a(Me.y),Re>=1?Re-1>A?Fn():Me.y=0:Me.y=x(Me.y),ke.phi<0&&(Me.y=-Me.y),Me.y=ne*(Me.y-y.phi0)}function we(ke,Me){var Re,Oe,pe,Ae,ye,Ee,je;Me.phi=Ou(ie+ke.y/y.k0,y.es,Q),a(Me.phi)>=ve?(Me.phi=ke.y<0?-ve:ve,Me.lam=0):(Ee=c(Me.phi),pe=d(Me.phi),je=a(pe)>1e-10?Ee/pe:0,Re=ne*pe*pe,Ae=ke.x*F(Oe=1-y.es*Ee*Ee)/y.k0,Oe*=je,je*=je,ye=Ae*Ae,Me.phi-=Oe*ye/(1-y.es)*P*(1-ye*$*(5+je*(3-9*Re)+Re*(1-4*Re)-ye*j*(61+je*(90-252*Re+45*je)+46*Re-ye*W*(1385+je*(3633+je*(4095+1575*je)))))),Me.lam=Ae*(I-ye*O*(1+2*je+Re-ye*U*(5+je*(28+24*je+8*Re)+6*Re-ye*L*(61+je*(662+je*(1320+720*je))))))/pe)}function de(ke,Me){var Re=V(ke.x/ne),Oe=.5*(Re-1/Re);Re=d(y.phi0+ke.y/ne),Me.phi=_(F((1-Re*Re)/(1+Oe*Oe))),ke.y<0&&-Me.phi+y.phi0<0&&(Me.phi=-Me.phi),Me.lam=Oe||Re?k(Oe,Re):0}}ft(ere,"tpeqd","Two Point Equidistant",`Misc Sph
lat_1= lon_1= lat_2= lon_2=`);function ere(y){var A,I,P,O,$,U,j,L,W,ne,ie,Q,le,ge,we,de,ke,Me,Re,Oe,pe,Ae,ye;Oe=Xe(y.params,"rlat_1"),Me=Xe(y.params,"rlon_1"),pe=Xe(y.params,"rlat_2"),Re=Xe(y.params,"rlon_2"),Oe==pe&&Me==Re&&rn(-25),y.lam0=Hi(.5*(Me+Re)),ne=Hi(Re-Me),A=d(Oe),P=d(pe),I=c(Oe),O=c(pe),U=A*O,j=I*P,$=A*P*c(ne),W=pc(I*O+A*P*d(ne)),ie=.5*W,Ae=k(P*c(ne),A*O-I*P*d(ne)),ge=d(ye=ln(A*c(Ae))),we=c(ye),de=Hi(k(A*d(Ae),I)-ie),ne*=.5,ke=ve-k(c(Ae)*I,d(Ae))-ne,Q=v(ie),le=.5/c(ie),L=.5/W,W*=W,y.fwd=Ee,y.inv=je,y.es=0;function Ee(Ye,st){var gt,wt,At,Ke,ut,Ge,We;Ge=c(Ye.phi),We=d(Ye.phi),wt=pc(I*Ge+A*We*d(Ke=Ye.lam+ne)),At=pc(O*Ge+P*We*d(ut=Ye.lam-ne)),wt*=wt,At*=At,st.x=L*(gt=wt-At),gt=W-gt,st.y=L*db(4*W*At-gt*gt),$*Ge-We*(U*c(Ke)-j*c(ut))<0&&(st.y=-st.y)}function je(Ye,st){var gt,wt,At,Ke,ut,Ge;gt=d(H(Ye.y,Ye.x+ie)),wt=d(H(Ye.y,Ye.x-ie)),At=gt+wt,Ke=gt-wt,st.lam=-k(Ke,At*Q),st.phi=pc(H(Q*At,Ke)*le),Ye.y<0&&(st.phi=-st.phi),Ge=c(st.phi),ut=d(st.phi),st.phi=ln(we*Ge+ge*ut*(At=d(st.lam-=de))),st.lam=k(ut*c(st.lam),we*ut*At-ge*Ge)+ke}}ft(tre,"urm5","Urmaev V",`PCyl., Sph., no inv.
n= q= alpha=`);function tre(y){var A,I,P,O,$,U;O=Xe(y.params,"dn"),O>0&&!(O<=1)&&rn(-40),P=Xe(y.params,"dq")/3,$=Xe(y.params,"ralpha"),U=O*c($),A=d($)/F(1-U*U),I=1/(A*O),y.fwd=j,y.es=0;function j(L,W){var ne=L.phi=ln(O*c(L.phi));W.x=A*L.lam*d(L.phi),ne*=ne,W.y=L.phi*(1+ne*P)*I}}ft(rre,"urmfps","Urmaev Flat-Polar Sinusoidal",`PCyl, Sph.
n=`),ft(nre,"wag1","Wagner I (Kavraisky VI)","PCyl, Sph.");function nre(y){AI(y,.8660254037844386)}function rre(y){var A=Xe(y.params,"dn");(A<=0||A>1)&&rn(-40),AI(y,A)}function AI(y,A){var I=.8773826753,P=1.139753528477/A;y.es=0,y.fwd=O,y.inv=$;function O(U,j){var L=ln(A*c(U.phi));j.x=I*U.lam*d(L),j.y=P*L}function $(U,j){U.y/=P,j.phi=ln(c(U.y)/A),j.lam=U.x/(I*d(U.y))}}ft(ire,"vandg","van der Grinten (I)","Misc Sph"),ft(ore,"vandg2","van der Grinten II","Misc Sph, no inv."),ft(are,"vandg3","van der Grinten III","Misc Sph, no inv."),ft(sre,"vandg4","van der Grinten IV","Misc Sph, no inv.");function ire(y){var A=1e-10,I=.3333333333333333,P=.07407407407407407,O=4.188790204786391,$=9.869604401089358,U=19.739208802178716,j=4.934802200544679;y.fwd=L,y.inv=W;function L(ne,ie){var Q,le,ge,we,de;de=a(ne.phi/ve),de-A>1&&Fn(),de>1&&(de=1),a(ne.phi)<=A?(ie.x=ne.lam,ie.y=0):a(ne.lam)<=A||a(de-1)<A?(ie.x=0,ie.y=Z*v(.5*_(de)),ne.phi<0&&(ie.y=-ie.y)):(Q=.5*a(Z/ne.lam-ne.lam/Z),le=Q*Q,ge=F(1-de*de),ge=ge/(de+ge-1),we=ge*ge,de=ge*(2/de-1),de=de*de,ie.x=ge-de,ge=de+le,ie.x=Z*(Q*ie.x+F(le*ie.x*ie.x-ge*(we-de)))/ge,ne.lam<0&&(ie.x=-ie.x),ie.y=a(ie.x/Z),ie.y=1-ie.y*(ie.y+2*Q),ie.y<-A&&Fn(),ie.y<0?ie.y=0:ie.y=F(ie.y)*(ne.phi<0?-Z:Z))}function W(ne,ie){var Q,le,ge,we,de,ke,Me,Re,Oe,pe,Ae,ye,Ee;if(ye=ne.x*ne.x,(Ae=a(ne.y))<A)return ie.phi=0,Q=ye*ye+U*(ye+j),ie.lam=a(ne.x)<=A?0:.5*(ye-$+F(Q))/ne.x,ie;Ee=ne.y*ne.y,Re=ye+Ee,Me=Re*Re,ge=-Z*Ae*(Re+$),de=Me+kt*(Ae*Re+Z*(Ee+Z*(Ae+ve))),we=ge+$*(Re-3*Ee),le=Z*Ae,we/=de,ke=ge/de-I*we*we,Oe=2*F(-I*ke),pe=P*we*we*we+(le*le-I*we*ge)/de,(Q=a(pe=3*pe/(ke*Oe)))-A<=1?(pe=Q>1?pe>0?0:Z:x(pe),ie.phi=Z*(Oe*d(pe*I+O)-I*we),ne.y<0&&(ie.phi=-ie.phi),Q=Me+U*(ye-Ee+j),ie.lam=a(ne.x)<=A?0:.5*(Re-$+(Q<=0?0:F(Q)))/ne.x):In()}}function ore(y){kI(y,!1)}function are(y){kI(y,!0)}function kI(y,A){var I=1e-10;y.fwd=P,y.es=0;function P(O,$){var U,j,L,W;L=a(ct*O.phi),(W=1-L*L)<0?W=0:W=F(W),a(O.lam)<I?($.x=0,$.y=Z*(O.phi<0?-L:L)/(1+W)):(j=.5*a(Z/O.lam-O.lam/Z),A?(U=L/(1+W),$.x=Z*(F(j*j+1-U*U)-j),$.y=Z*U):(U=(W*F(1+j*j)-j*W*W)/(1+j*j*L*L),$.x=Z*U,$.y=Z*F(1-U*(U+2*j)+I)),O.lam<0&&($.x=-$.x),O.phi<0&&($.y=-$.y))}}function sre(y){y.es=0,y.fwd=function(A,I){var P=1e-10,O,$,U,j,L,W,ne,ie,Q;a(A.phi)<P?(I.x=A.lam,I.y=0):a(A.lam)<P||a(a(A.phi)-ve)<P?(I.x=0,I.y=A.phi):(U=a(ct*A.phi),W=U*U,j=.5*(U*(8-U*(2+W))-5)/(W*(U-1)),ne=j*j,ie=ct*A.lam,ie=ie+1/ie,ie=F(ie*ie-4),a(A.lam)-ve<0&&(ie=-ie),Q=ie*ie,O=U+j,O*=O,$=U+3*j,L=O*(W+ne*Q-1)+(1-W)*(W*($*$+4*ne)+ne*(12*U*j+4*ne)),O=(ie*(O+ne-1)+2*F(L))/(4*O+Q),I.x=ve*O,I.y=ve*F(1+ie*a(O)-O*O),A.lam<0&&(I.x=-I.x),A.phi<0&&(I.y=-I.y))}}ft(ure,"wag2","Wagner II","PCyl., Sph."),ft(lre,"wag3","Wagner III",`PCyl., Sph.
lat_ts=`),ft(cre,"wag7","Wagner VII","Misc Sph, no inv.");function ure(y){var A=.92483,I=1.38725,P=.88022,O=.8855;y.fwd=$,y.inv=U;function $(j,L){j.phi=ln(P*c(O*j.phi)),L.x=A*j.lam*d(j.phi),L.y=I*j.phi}function U(j,L){L.phi=j.y/I,L.lam=j.x/(A*d(L.phi)),L.phi=ln(c(L.phi)/P)/O}}function lre(y){var A=.6666666666666666,I=Xe(y.params,"rlat_ts"),P=d(I)/d(2*I/3);y.es=0,y.fwd=O,y.inv=$;function O(U,j){j.x=P*U.lam*d(A*U.phi),j.y=U.phi}function $(U,j){j.phi=U.y,j.lam=U.x/(P*d(A*j.phi))}}function cre(y){y.es=0,y.fwd=function(A,I){var P,O,$;P=_(I.y=.9063077870366499*c(A.phi)),I.x=2.66723*(O=d(P))*c(A.lam/=3),I.y*=1.24104*($=1/F(.5*(1+O*d(A.lam)))),I.x*=$}}ft(fre,"wink1","Winkel I",`PCyl., Sph.
lat_ts=`),ft(hre,"wink2","Winkel II",`PCyl., Sph., no inv.
lat_1=`);function fre(y){var A=d(Xe(y.params,"rlat_ts"));y.fwd=I,y.inv=P,y.es=0;function I(O,$){$.x=.5*O.lam*(A+d(O.phi)),$.y=O.phi}function P(O,$){$.phi=O.y,$.lam=2*O.x/(A+d($.phi))}}function hre(y){var A=d(Xe(y.params,"rlat_1")),I=10,P=1e-7;y.fwd=O,y.inv=null,y.es=0;function O($,U){var j,L,W,ne=$.phi;for(U.y=ne*ct,j=Z*c(ne),ne*=1.8,W=I;W&&(ne-=L=(ne+c(ne)-j)/(1+d(ne)),!(a(L)<P));--W);W?ne*=.5:ne=ne<0?-ve:ve,U.x=.5*$.lam*(d(ne)+A),U.y=De*(c(ne)+U.y)}}var Mo=sb;Mo.pj_init=uc,Mo.pj_fwd=ob,Mo.pj_inv=ab,Mo.pj_transform=MF,Mo.pj_add=ft,Mo.pj_fwd_deg=aee,Mo.pj_inv_deg=see,Mo.pj_transform_point=IF,Mo.internal={dmstod:eb,dmstor:Q2,get_rtodms:uee,get_dtodms:RF,get_proj_defn:_F,pj_latlong_from_proj:dre,pj_get_params:nb,pj_datums:_g,pj_list:sc,pj_ellps:wg,pj_units:wF,pj_read_init_opts:ib,find_datum:bg,DEG_TO_RAD:_e,RAD_TO_DEG:re,wkt_parse:uI,wkt_unpack:lI,convert_wkt_quotes:cI,wkt_to_proj4:ute,wkt_from_proj4:ste,wkt_make_projcs:GF,wkt_get_geogcs_name:UF,wkt_stringify:oI,mproj_insert_libcache:qQ,mproj_search_libcache:CF,GeographicLib:Zn},r.exports=Mo;function dre(y){var A="+proj=latlong"+yF(y);return uc(A)}})()}(Mm)),Mm.exports}var NN=zN(),Tr=E8(NN);function jN(r,o){var a=v(r),u=a.crs,c=[a],d=qN(Tr);u.__mixed_crs=d,u.addFrame=function(E){var k=$N(E,o),F=v(k),B=new S,V=k.origin?x(k.origin,F.crs):[0,0],G=k.placement||[0,0],H=G[0]-V[0]+(+k.dx||0),J=G[1]-V[1]+(+k.dy||0);return k.rotation&&B.rotate(k.rotation*Math.PI/180,V[0],V[1]),k.scale&&B.scale(k.scale,k.scale,V[0],V[1]),B.translate(H,J),F.matrix=B,c.push(F),this};function v(E){return{bounds:new Bt(_(E.bbox)),crs:Tr.pj_init(E.proj)}}function _(E){var k=Math.PI/180;return E.map(function(F){return F*k})}function x(E,k){var F=Tr.pj_fwd_deg({lam:E[0],phi:E[1]},k);return[F.x,F.y]}return d.fwd=function(E,k){for(var F,B,V=0,G=c.length;V<G;V++)if(F=c[V],F.bounds.containsPoint(E.lam,E.phi)){B=Tr.pj_fwd(E,F.crs),F.matrix&&F.matrix.transformXY(B.x,B.y,B);break}k.x=B?B.x:1/0,k.y=B?B.y:1/0},u}function qN(r){return r.internal.pj_list.mixed||r.pj_add(function(o){o.a=1},"mixed","Mapshaper Mixed Projection"),r.pj_init("+proj=mixed")}function $N(r,o){var a=o[r.name];return g.defaults(r,{scale:1,dx:0,dy:0,rotation:0}),a&&Object.keys(a).forEach(function(u){var c=a[u];u in r?r[u]=a[u]:r.proj=UN(r.proj,u,c)}),r}function UN(r,o,a){var u="+"+o+"=";return r.split(" ").map(function(c){return c.indexOf(u)===0&&(c=c.substr(0,u.length)+a),c}).join(" ")}function GN(r){var o=r.trim().split(/ +/),a=[],u=o.filter(function(v){return/^\+/.test(v)?(a.push(v.substr(1)),!1):!0}),c=u[0],d=VN(a);return u.length!=1?null:HN(c,d)}function HN(r,o){return r=="albersusa"?new k8(o):null}function k8(r){var o=r||{},a={proj:"+proj=aea +lon_0=-96 +lat_0=37.5 +lat_1=29.5 +lat_2=45.5",bbox:[-129,23,-62,52]},u={name:"AK",proj:"+proj=aea +lat_1=55 +lat_2=70 +lat_0=65 +lon_0=-148 +x_0=0 +y_0=0",bbox:[-172.26,50.89,-127,73.21],origin:[-152,63],placement:[-1882782,-969242],scale:.37},c={name:"HI",proj:"+proj=aea +lat_1=19 +lat_2=24 +lat_0=20.9 +lon_0=-156.5 +x_0=0 +y_0=0",bbox:[-160.5,18.72,-154.57,22.58],origin:[-157,21],placement:[-1050326,-1055362]},d={name:"PR",proj:"+proj=aea +lat_1=18 +lat_2=18.43 +lat_0=17.83 +lon_0=-66.43 +x_0=0 +y_0=0",bbox:[-68.092,17.824,-65.151,18.787],origin:[-66.431,18.228],placement:[1993101,-1254517]},v={name:"VI",proj:"+proj=aea +lat_1=18 +lat_2=18.43 +lat_0=17.83 +lon_0=-66.43 +x_0=0 +y_0=0",bbox:[-65.104,17.665,-64.454,18.505],origin:[-66.431,18.228],placement:[1993101,-1254517]},_=new jN(a,o).addFrame(u).addFrame(c);return o.PR&&_.addFrame(d),o.VI&&_.addFrame(v),_}function VN(r){var o={};return r.forEach(function(a){WN(a,o)}),o}function WN(r,o){var a=r.split("="),u=a[0].split("."),c=u.pop(),d=u.reduce(function(v,_){if(!(_ in v))v[_]={};else if(!g.isObject(v[_]))return{};return v[_]},o);a.length>1?d[c]=YN(a[1]):!(c in d)&&!u.length&&(d[c]={})}function YN(r){var o;return r.indexOf(",")>0?(o=r.split(",").map(parseFloat),o):(o=g.parseNumber(r),o===null&&(o=r),o)}var F8={SEMIMAJOR_AXIS:6378137,SEMIMINOR_AXIS:63567523142e-4,AUTHALIC_RADIUS:63710072e-1,VOLUMETRIC_RADIUS:63710008e-1},Bl=F8.SEMIMAJOR_AXIS,xo=Math.PI/180,Dm=180/Math.PI;function XN(r){return r*xo*Bl}function Ol(r,o,a,u,c,d){var v=r-u,_=o-c,x=a-d;return Math.sqrt(v*v+_*_+x*x)}function $i(r,o,a,u){var c=r-a,d=o-u;return c*c+d*d}function Qa(r,o,a,u){var c=r-a,d=o-u;return Math.sqrt(c*c+d*d)}function N0(r,o,a,u,c,d){var v=r-u,_=o-c,x=a-d;return v*v+_*_+x*x}function KN(r,o,a,u,c,d){var v=Math.atan2(o-u,r-a),_=Math.atan2(d-u,c-a),x=Math.abs(v-_);return x>Math.PI&&(x=2*Math.PI-x),x}function Tm(r){for(var o=Math.PI*2;r<0;)r+=o;for(;r>=o;)r-=o;return r}function ZN(r,o,a,u,c,d){if(r==a&&o==u||a==c&&u==d)return NaN;var v=r-a,_=o-u,x=c-a,E=d-u,k=v*x+_*E,F=v*E-_*x,B=Math.atan2(F,k);return Tm(B)}function JN(r,o,a,u){var c=Math.PI/2-Math.atan2(u-o,a-r);return c>Math.PI?c-2*Math.PI:c}function Pm(r,o,a,u){var c=Math.PI/180;r*=c,a*=c,o*=c,u*=c;var d=Math.sin(a-r)*Math.cos(u),v=Math.cos(o)*Math.sin(u)-Math.sin(o)*Math.cos(u)*Math.cos(a-r);return Math.atan2(d,v)}function QN(r,o,a,u,c,d){if(r==a&&o==u||a==c&&u==d)return NaN;var v=Pm(a,u,r,o),_=Pm(a,u,c,d),x=Math.PI*2+v-_;return Tm(x)}function ej(r,o,a,u,c){for(var d=[],v=0,_=r.length;v<_;v++)I8(r[v],o[v],d),a[v]=d[0],u[v]=d[1],c[v]=d[2]}function tj(r,o,a,u){var c=Ol(0,0,0,r,o,a),d=Math.asin(a/c)/xo,v=Math.atan2(o/c,r/c)/xo;u[0]=v,u[1]=d}function I8(r,o,a){var u;r*=xo,o*=xo,u=Math.cos(o),a[0]=Math.cos(r)*u*Bl,a[1]=Math.sin(r)*u*Bl,a[2]=Math.sin(o)*Bl}function M8(r,o,a,u){var c=a-r,d=u-o,v=Math.sin(d/2)*Math.sin(d/2)+Math.cos(o)*Math.cos(u)*Math.sin(c/2)*Math.sin(c/2),_=2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v));return _}function D8(r,o,a,u){var c=Math.PI/180,d=M8(r*c,o*c,a*c,u*c);return d*Bl}function nj(r,o,a,u,c,d){var v=Qa(r,o,a,u),_=Qa(a,u,c,d),x,E;return v===0||_===0?x=0:(E=((r-a)*(c-a)+(o-u)*(d-u))/(v*_),E>=1-1e-14?x=0:E<=-1+1e-14?x=Math.PI:x=Math.acos(E)),x}function rj(r,o,a,u,c,d,v,_,x){var E=Ol(r,o,a,u,c,d),k=Ol(u,c,d,v,_,x),F,B;return E===0||k===0?F=0:(B=((r-u)*(v-u)+(o-c)*(_-c)+(a-d)*(x-d))/(E*k),B>=1?F=0:B<=-1?F=Math.PI:F=Math.acos(B)),F}function ij(r,o,a,u,c,d){var v=Math.abs(((o-d)*(a-c)+(u-d)*(c-r))/2);return v}function Rm(r,o,a,u,c,d){var v=r*u-r*d+a*d-a*o+c*o-c*u;return v*v}function oj(r,o,a,u,c,d){var v=Qa(r,o,a,u)*Qa(a,u,c,d),_=0;return v>0&&(_=((r-a)*(c-a)+(o-u)*(d-u))/v,_>1?_=1:_<-1&&(_=-1)),_}function aj(r,o,a,u,c,d,v,_,x){var E=Ol(r,o,a,u,c,d)*Ol(u,c,d,v,_,x),k=0;return E>0&&(k=((r-u)*(v-u)+(o-c)*(_-c)+(a-d)*(x-d))/E,k>1?k=1:k<-1&&(k=-1)),k}function sj(r,o,a,u,c,d,v,_,x){var E=.5*Math.sqrt(Rm(r,o,u,c,v,_)+Rm(r,a,u,d,v,x)+Rm(o,a,c,d,_,x));return E}function T8(r,o,a){var u;if(a===0)u=r;else if(r>=o+a)u=o;else if(o>=r+a)u=r;else{var c=r+a-o;u=r-c*c/a*.25}return u<0&&(u=0),u}function uj(r,o,a,u,c,d){var v=$i(r,o,a,u),_=$i(r,o,c,d),x=$i(a,u,c,d);return T8(v,_,x)}function lj(r,o,a,u,c,d,v,_,x){var E=N0(r,o,a,u,c,d),k=N0(r,o,a,v,_,x),F=N0(u,c,d,v,_,x);return T8(E,k,F)}function Bm(r,o,a,u,c,d){var v=$i(a,u,c,d),_=((r-a)*(c-a)+(o-u)*(d-u))/v;return v===0?$i(r,o,a,u):(_<0&&(_=0),_>1&&(_=1),$i(r,o,a+_*(c-a),u+_*(d-u)))}function cj(r,o){return r[0]<=o[0]&&r[2]>=o[2]&&r[1]<=o[1]&&r[3]>=o[3]}var fj=Object.freeze({__proto__:null,R:Bl,D2R:xo,R2D:Dm,degreesToMeters:XN,distance3D:Ol,distanceSq:$i,distance2D:Qa,distanceSq3D:N0,innerAngle2:KN,standardAngle:Tm,signedAngle:ZN,bearing2D:JN,bearing:Pm,signedAngleSph:QN,convLngLatToSph:ej,xyzToLngLat:tj,lngLatToXYZ:I8,sphericalDistance:M8,greatCircleDistance:D8,innerAngle:nj,innerAngle3D:rj,triangleArea:ij,cosine:oj,cosine3D:aj,triangleArea3D:sj,pointSegDistSq:uj,pointSegDistSq3D:lj,pointSegDistSq2:Bm,containsBounds:cj});function hj(r,o){var a=r[0],u=r[r.length-1],c=o.getVertex(a,0),d=o.getVertex(u,-1),v=c.x===d.x&&c.y===d.y;return v}function dj(r,o,a,u){return Om(r,o,a,u).distance}function Om(r,o,a,u){var c=u.getShapeIter(a),d=1/0,v,_,x,E,k,F,B,V,G,H;for(c.hasNext()&&(_=F=V=c.x,x=B=G=c.y);c.hasNext();)E=c.x,k=c.y,H=Bm(r,o,_,x,E,k),H<d&&(d=H,v=c._ids[c._i],F=_,B=x,V=E,G=k),_=E,x=k;return d==1/0?{distance:1/0}:{segment:[[F,B],[V,G]],distance:Math.sqrt(d),arcId:v}}function pj(r,o,a,u){var c=P8(r,o,a,u);return c?c.distance:1/0}function P8(r,o,a,u){return(a||[]).reduce(function(c,d){var v=Om(r,o,d,u);return!c||v.distance<c.distance?v:c},null)||{distance:1/0,arcId:-1,segment:null}}function R8(r,o){var a=o.getShapeIter(r);if(!a.hasNext())return null;for(var u=a.x,c=a.y,d=0,v=0,_=0;a.hasNext();)d++,v+=a.x,_+=a.y;return(d===0||a.x!==u||a.y!==c)&&(v+=u,_+=c,d++),{x:v/d,y:_/d}}function B8(r,o){var a=0;return(r||[]).reduce(function(u,c){var d=o.getSimpleShapeBounds(c).area();return d>a&&(a=d,u=c),u},null)}function gj(r,o){for(var a=o.getShapeIter(r),u=0;a.hasNext();)u++;return u}function vj(r){for(var o=new Bt,a=0,u=r.length;a<u;a++)o.mergePoint(r[a][0],r[a][1]);return o}var sh;sh=function(){var r,o;function a(u,c,d,v){r+=o(d[u],v[u],d[c],v[c])}return function(u,c,d){d&&c.isPlanar()&&te("Expected lat-long coordinates"),o=d?D8:Qa,r=0;for(var v=0,_=u.length;v<_;v++)c.forEachArcSegment(u[v],a);return r}}();var mj=Object.freeze({__proto__:null,pathIsClosed:hj,getPointToPathDistance:dj,getPointToPathInfo:Om,getPointToShapeDistance:pj,getPointToShapeInfo:P8,getAvgPathXY:R8,getMaxPath:B8,countVerticesInPath:gj,getPathBounds:vj,get calcPathLen(){return sh}});function yj(r,o){var a=B8(r,o);return a?O8(a,o):null}function O8(r,o){var a=o.getShapeIter(r),u=0,c=0,d=0,v,_,x,E,k,F,B,V;if(!a.hasNext())return null;for(x=0,E=0,v=-a.x,_=-a.y;a.hasNext();)k=x,F=E,x=a.x+v,E=a.y+_,B=k*E-F*x,u+=B,c+=B*(k+x),d+=B*(F+E);return V=u/2,V===0?R8(r,o):{x:c/(6*V)-v,y:d/(6*V)-_}}var _j=Object.freeze({__proto__:null,getShapeCentroid:yj,getPathCentroid:O8});function wn(r){return r>=0?r:~r}function bj(r,o,a,u){var c=a|0,d=isNaN(u)?r.length-c:u+c,v,_,x,E,k,F;for(d>0&&(x=k=r[c],E=F=o[c]),c++;c<d;c++)v=r[c],_=o[c],v<x&&(x=v),v>k&&(k=v),_<E&&(E=_),_>F&&(F=_);return[x,E,k,F]}function Lm(r,o){for(var a=0,u=o.length-1,c;a<u;)c=Math.ceil((a+u)/2),r<o[c]?u=c-1:a=c;return a}function L8(r,o){for(var a=0,u=0,c=r.length;u<c;u++)r[u]>=o&&a++;return a}function wj(r,o){r.zz||te("Expected simplification data");for(var a=r.xx,u=r.yy,c=r.zz,d=L8(c,o),v=r.nn.length,_=new Float64Array(d),x=new Float64Array(d),E=new Float64Array(d),k=new Int32Array(v),F=0,B=0,V,G,H=0;H<v;H++){G=0,V=r.nn[H];for(var J=F+V;F<J;F++)c[F]>=o&&(_[B]=a[F],x[B]=u[F],E[B]=c[F],B++,G++);G==1&&te("Collapsed arc"),k[H]=G}return{xx:_,yy:x,zz:E,nn:k}}function z8(r){var o=0,a=r.forEachSegment(function(u,c,d,v){var _=d[u]-d[c],x=v[u]-v[c];o+=Math.sqrt(_*_+x*x)});return o/a||0}function zm(r){var o=0,a=0,u=r.forEachSegment(function(c,d,v,_){o+=Math.abs(v[c]-v[d]),a+=Math.abs(_[c]-_[d])});return[o/u||0,a/u||0]}function xj(r,o){var a=new Uint8Array(o);return vi(r,function(u){var c=wn(u);c<o||te("index error"),a[c]|=u<0?2:1}),function(u){var c=wn(u);return u<0?(a[c]&2)==2:(a[c]&1)==1}}function uh(r,o){var a=new Uint8Array(o.size());return Ll(r,a),function(u){return u<0&&(u=~u),a[u]>0}}function Ll(r,o){mu(r,null,function(a){for(var u=a.arcs,c,d=0;d<u.length;d++)c=u[d],c<0&&(c=~c),o[c]++})}function Nm(r,o){var a=new Bt;return vi(r,function(u){o.mergeArcBounds(u,a)}),a}function Sj(r,o,a){var u=a?new Uint8Array(a):[],c=[];return o.forEach(function(d){u[wn(d)]=1}),r.forEach(function(d,v){var _=!1;vi(d||[],function(x){_=_||u[wn(x)]==1}),_&&c.push(v)}),c}function Kr(r){r.reverse();for(var o=0,a=r.length;o<a;o++)r[o]=~r[o];return r}function N8(r,o){return o<=0?r=1/0:o>=1&&(r=0),r}function j0(r,o,a,u){var c,d=0,v=-1,_;a>u&&(c=a,a=u,u=c);for(var x=a+1;x<u;x++)_=r[x],_<o&&_>d&&(v=x,d=_);return v}function vi(r,o){for(var a,u=0;u<r.length;u++)if(a=r[u],Array.isArray(a))vi(a,o);else if(g.isInteger(a)){var c=o(a);c!==void 0&&(r[u]=c)}else a&&te("Non-integer arc id in:",r)}function jm(r,o,a){for(var u=0,c=r?r.length:0;u<c;u++)vu(r[u],o,a)}function vu(r,o,a){for(var u=0,c=r.length;u<c;u++)o.forEachArcSegment(r[u],a)}function mu(r,o,a,u){var c=0;r.forEach(function(d,v){if(!(!d||d.length===0)){var _,x;u&&u(v);for(var E=0,k=d.length;E<k;E++)if(_=d[E],a&&a({i:E,shapeId:v,shape:d,arcs:_}),o)for(var F=0,B=_.length;F<B;F++,c++)x=_[F],o({i:F,shapeId:v,partId:E,arcId:x,segId:c})}})}function Cj(r,o){var a=o.getArcIter(r),u,c;if(a.hasNext()){for(u=a.x,c=a.y;a.hasNext();)if(a.x!=u||a.y!=c)return!0}return!1}function qm(r,o){if(!r)return null;var a=[];return r.forEach(function(u){for(var c=[],d=0;d<u.length;d++)Cj(u[d],o)&&c.push(u[d]);c.length>0&&a.push(c)}),a.length>0?a:null}function lh(r,o,a){for(var u=[],c,d=0,v=r&&r.length;d<v;d++)c=r[d],u.push({ids:c,area:a=="polygon"?dt.getPlanarPathArea(c,o):0,bounds:o.getSimpleShapeBounds(c)});return u}function Ej(r,o){var a=r.getBounds(),u=new Bt(0,0,o-1,o-1),c=a.getTransform(u),d=c.invert();r.transformPoints(function(v,_){var x=c.transform(v,_);return d.transform(Math.round(x[0]),Math.round(x[1]))})}var Aj=Object.freeze({__proto__:null,getAvgSegment:z8,getAvgSegment2:zm,getDirectedArcPresenceTest:xj,getArcPresenceTest:uh,countArcsInShapes:Ll,getPathBounds:Nm,findShapesByArcId:Sj,reversePath:Kr,clampIntervalByPct:N8,findNextRemovableVertex:j0,forEachArcId:vi,forEachSegmentInShape:jm,forEachSegmentInPath:vu,traversePaths:mu,filterEmptyArcs:qm,getPathMetadata:lh,quantizeArcs:Ej});function kj(r,o,a){return a.containsPoint(r[0],r[1])?!0:!!(dt.segmentIntersection(r[0],r[1],o[0],o[1],a.xmin,a.ymin,a.xmin,a.ymax)||dt.segmentIntersection(r[0],r[1],o[0],o[1],a.xmin,a.ymax,a.xmax,a.ymax)||dt.segmentIntersection(r[0],r[1],o[0],o[1],a.xmax,a.ymax,a.xmax,a.ymin)||dt.segmentIntersection(r[0],r[1],o[0],o[1],a.xmax,a.ymin,a.xmin,a.ymin))}function Fj(r,o){return o<=0?0:Math.abs(r)*Math.PI*4/(o*o)}function Ij(r,o){return o<=0?0:2*Math.PI*Math.sqrt(Math.abs(r)/Math.PI)/o}function Mj(r,o){var a=$m(r,o);return a>0&&1||a<0&&-1||0}function Dj(r,o){return(r||[]).reduce(function(a,u){return a+$m(u,o)},0)}function Tj(r,o){return(r||[]).reduce(function(a,u){return a+Hm(u,o)},0)}function Pj(r,o,a){return o.isPlanar()&&te("[getSphericalShapeArea()] Function requires decimal degree coordinates"),(r||[]).reduce(function(u,c){return u+Um(c,o,a)},0)}function j8(r,o,a){if(!o||!q8(r.xmin,r.ymin,o,a))return!1;var u=!0;return o.forEach(function(c){vu(c,a,function(d,v,_,x){u=u&&!kj([_[d],x[d]],[_[v],x[v]],r)})}),u}function q8(r,o,a,u){var c=!1,d=!1;return a?(a.forEach(function(v){var _=$8(r,o,v,u);_==1?c=!c:_==-1&&(d=!0)}),d||c):!1}function Rj(r,o,a,u,c){return a+(r-o)*(c-a)/(u-o)}function $8(r,o,a,u){var c=!1,d=!1;return vu(a,u,function(v,_,x,E){var k=U8(r,o,x[v],E[v],x[_],E[_]);k==1?c=!c:isNaN(k)&&(d=!0)}),d?-1:c?1:0}function U8(r,o,a,u,c,d){var v=G8(r,o,a,u,c,d);return v!=v?NaN:v==-1/0?0:1}function G8(r,o,a,u,c,d){var v=-1/0,_;return r<a&&r<c||r>a&&r>c||o>u&&o>d||(r===a||r===c?r===a&&r===c?(o==u||o==d||o>u!=o>d)&&(v=NaN):r===a?o===u?v=NaN:c<a&&o<u&&(v=u):o===d?v=NaN:a<c&&o<d&&(v=d):(_=Rj(r,a,u,c,d),_>o?v=_:_==o&&(v=NaN))),v}function $m(r,o){return(o.isPlanar()?Hm:Um)(r,o)}function Um(r,o,a){var u=o.getShapeIter(r);return Gm(u,a)}function Gm(r,o){var a=0,u=!1,c=Math.PI/180,d,v,_,x;for(o=o||F8.SEMIMAJOR_AXIS;r.hasNext();)d=r.x*c,v=Math.sin(r.y*c),u?a+=(d-_)*(2+v+x):u=!0,_=d,x=v;return a/2*o*o}function Bj(r){for(var o=0,a,u,c,d,v,_,x,E=0,k=r.length;E<k;E++)x=r[E],E===0?(a=0,u=0,v=-x[0],_=-x[1]):(a=x[0]+v,u=x[1]+_,o+=a*d-c*u),c=a,d=u;return o/2}function Hm(r,o){var a=o.getShapeIter(r),u=0,c,d,v,_,x,E;if(a.hasNext())for(c=0,d=0,x=-a.x,E=-a.y;a.hasNext();)v=c,_=d,c=a.x+x,d=a.y+E,u+=c*_-v*d;return u/2}function H8(r,o){return(o.isPlanar()?V8:Vm)(r,o)}function Oj(r,o){return(r||[]).reduce(function(a,u){return a+H8(u,o)},0)}function Lj(r,o){return o.isPlanar()&&te("[getSphericalShapePerimeter()] Function requires decimal degree coordinates"),(r||[]).reduce(function(a,u){return a+Vm(u,o)},0)}function V8(r,o){return sh(r,o,!1)}function Vm(r,o){return sh(r,o,!0)}var zj=Object.freeze({__proto__:null,calcPolsbyPopperCompactness:Fj,calcSchwartzbergCompactness:Ij,getPathWinding:Mj,getShapeArea:Dj,getPlanarShapeArea:Tj,getSphericalShapeArea:Pj,testBoundsInPolygon:j8,testPointInPolygon:q8,testPointInRing:$8,testRayIntersection:U8,getRayIntersection:G8,getPathArea:$m,getSphericalPathArea:Um,getSphericalPathArea2:Gm,getPlanarPathArea2:Bj,getPlanarPathArea:Hm,getPathPerimeter:H8,getShapePerimeter:Oj,getSphericalShapePerimeter:Lj,getPlanarPathPerimeter:V8,getSphericalPathPerimeter:Vm});function q0(r){var o=Math.max.apply(null,r.map(Math.abs));return o*1e-14}function W8(r,o){var a=z8(r),u=a*.0025,c=u;o>0&&(c=o,he(g.format("Applying snapping threshold of %s -- %.6f times avg. segment length",o,o/a)));var d=$0(r,c);d>0&&r.dedupCoords(),he(g.format("Snapped %s point%s",d,g.pluralSuffix(d)))}function $0(r,o){if(!(o>0))return 0;var a=X8(r);return Y8(a,r,o)}function Nj(r,o){if(!(o>0))return 0;var a=K8(r);return Y8(a,r,o)}function Y8(r,o,a){var u=0,c=r.length,d=o.getVertexData();Wm(d.xx,r,0,c-1);for(var v=0;v<c;v++)u+=_(v,a,r,d.xx,d.yy);return u;function _(x,E,k,F,B){for(var V=x,G=k.length,H=F[k[x]],J=B[k[x]],ue=0,se,me,N;++V<G&&(se=k[V],me=F[se]-H,!(me>E));)N=B[se]-J,!(me===0&&N===0||me*me+N*N>E*E)&&(F[se]=H,B[se]=J,ue++);return ue}}function X8(r){for(var o=r.getVertexData(),a=o.xx.length,u=new Uint32Array(a),c=0;c<a;c++)u[c]=c;return u}function K8(r){var o=0,a=[],u=r.getVertexData();return u.nn.forEach(function(c){c>0&&(a.push(o,o+c-1),o+=c)}),a}function Wm(r,o,a,u){if(u-a>24){for(var c=r[o[a+u>>1]],d=a,v=u,_;d<=v;){for(;r[o[d]]<c;)d++;for(;r[o[v]]>c;)v--;d<=v&&(_=o[d],o[d]=o[v],o[v]=_,d++,v--)}v>a&&Wm(r,o,a,v),d<u&&Wm(r,o,d,u)}else jj(r,o,a,u)}function jj(r,o,a,u){var c,d,v;for(v=a+1;v<=u;v++){for(c=o[v],d=v-1;d>=a&&r[c]<r[o[d]];d--)o[d+1]=o[d];o[d+1]=c}}var qj=Object.freeze({__proto__:null,getHighPrecisionSnapInterval:q0,snapCoords:W8,snapCoordsByInterval:$0,snapEndpointsByInterval:Nj,getCoordinateIds:X8,getEndpointIds:K8});function $j(r,o,a,u,c,d,v,_,x){var E=x>=0?x:q0([r,o,a,u,c,d,v,_]),k=E*E,F,B;return F=Hj(k,r,o,a,u,c,d,v,_),!F&&Gj(k,r,o,a,u,c,d,v,_)?null:(B=Uj(r,o,a,u,c,d,v,_,E),F||B||null)}function Uj(r,o,a,u,c,d,v,_,x){if(!J8(r,o,a,u,c,d,v,_))return null;var E=Z8(a-r,u-o,v-c,_-d),k=yu(c,d,v,_,r,o)/E,F=[r+k*(a-r),o+k*(u-o)];return Math.abs(E)<1e-18?null:(x>0&&Wj(F,r,o,a,u,c,d,v,_,x),Yj(F,r,o,a,u,c,d,v,_),F)}function Gj(r,o,a,u,c,d,v,_,x){return $i(o,a,d,v)<=r||$i(o,a,_,x)<=r||$i(u,c,d,v)<=r||$i(u,c,_,x)<=r}function Hj(r,o,a,u,c,d,v,_,x){var E=[];return U0(E,r,o,a,d,v,_,x),U0(E,r,u,c,d,v,_,x),U0(E,r,d,v,o,a,u,c),U0(E,r,_,x,o,a,u,c),E.length===0?null:(E.length>4&&Se(),E)}function U0(r,o,a,u,c,d,v,_){var x=Bm(a,u,c,d,v,_);if(!(x>o)){var E=$i(c,d,a,u),k=$i(v,_,a,u);E<=o||k<=o||r.push(a,u)}}function Vj(r,o,a,u,c,d,v){var _=c-a,x=d-u,E=(r-a)*_+(o-u)*x,k=_*_+x*x,F=k===0?-1:E/k,B=v>=0?v:.1,V;return F<=B?V=[a,u]:F>=1-B?V=[c,d]:V=[a+F*_,u+F*x],V}function G0(r,o,a,u,c,d){var v=Qa(a,u,c,d);return v<o&&(o=v,r[0]=c,r[1]=d),o}function Wj(r,o,a,u,c,d,v,_,x,E){var k=r[0],F=r[1],B=E;B=G0(r,B,k,F,o,a),B=G0(r,B,k,F,u,c),B=G0(r,B,k,F,d,v),B=G0(r,B,k,F,_,x)}function Yj(r,o,a,u,c,d,v,_,x){var E=r[0],k=r[1];E=H0(E,o,u),E=H0(E,d,_),k=H0(k,a,c),k=H0(k,v,x),r[0]=E,r[1]=k}function Xj(r,o,a){var u;return o<a?u=r<o||r>a:o>a?u=r>o||r<a:u=r!=o,u}function H0(r,o,a){var u;return Xj(r,o,a)&&(u=Math.abs(r-o)<Math.abs(r-a)?o:a,Math.abs(r-u)>1e-15&&Se(),r=u),r}function Z8(r,o,a,u){return r*u-o*a}function yu(r,o,a,u,c,d){return Z8(r-c,o-d,a-c,u-d)}function J8(r,o,a,u,c,d,v,_){return yu(r,o,a,u,c,d)*yu(r,o,a,u,v,_)<=0&&yu(c,d,v,_,r,o)*yu(c,d,v,_,a,u)<=0}function Kj(r,o,a,u){var c=r[0],d=r[1],v=o[0],_=o[1],x=v-a[0],E=_-a[1],k=u[0]+x,F=u[1]+E,B=yu(c,d,v,_,k,F);return B?B<0?1:-1:0}var Q8=Object.freeze({__proto__:null,segmentIntersection:$j,findClosestPointOnSeg:Vj,orient2D:yu,segmentHit:J8,segmentTurn:Kj}),dt=Object.assign({},fj,zj,mj,Q8,_j);function V0(r){return r=g.isFiniteNumber(r)?r:1e-10,[-180+r,-90+r,180-r,90-r]}function zl(r){var o=V0(-1),a=r instanceof Bt?r.toArray():r;return dt.containsBounds(o,a)}function e4(r){var o=r instanceof Bt?r.toArray():r;return new Bt().setBounds(Math.max(o[0],-180),Math.max(o[1],-90),Math.min(o[2],180),Math.min(o[3],90))}function t4(r){for(var o=r-180;o<=-180;)o+=360;return o}var Zj=Object.freeze({__proto__:null,getWorldBounds:V0,probablyDecimalDegreeBounds:zl,clampToWorldBounds:e4,getAntimeridian:t4});function Jj(r){var o=0;return Ia(r)&&Wo(r.shapes,function(){o++}),o}function n4(r){var o=new Bt;return Wo(r,function(a){o.mergePoint(a[0],a[1])}),o}function Ym(r,o){var a=r?r.length:0,u;o||(o=new Bt);for(var c=0;c<a;c++)u=r[c],o.mergePoint(u[0],u[1]);return o}function r4(r){var o=[];return Wo(r.shapes,function(a){o.push(a)}),o}function Wo(r,o){var a,u,c,d,v;for(a=0,u=r.length;a<u;a++)for(v=r[a],c=0,d=v?v.length:0;c<d;c++)o(v[c],a)}var Qj=Object.freeze({__proto__:null,countPointsInLayer:Jj,getPointBounds:n4,getPointFeatureBounds:Ym,getPointsInLayer:r4,forEachPoint:Wo});function Xm(r){return r?r.map(function(o){return o.concat()}):null}function W0(r){return g.isArray(r)?r.map(Xm):null}function es(r,o){ch(r,o)}function Yo(r,o){for(var a=0,u=r.length;a<u;a++)r[a]=ch(r[a],o)}function ch(r,o){if(!r)return null;g.isArray(r)||te("Expected an array, received:",r);for(var a=0,u=r.length,c,d=0;d<u;d++)c=o(r[d],d,r),c===null?(a++,r[d]=null):g.isArray(c)&&(r[d]=c);return a==u?null:a>0?r.filter(function(v){return!!v}):r}function i4(r){for(var o=0,a,u=0,c=r.length;u<c;u++)a=r[u],a&&a.length>o&&(o=a.length);return o}var eq=Object.freeze({__proto__:null,cloneShape:Xm,cloneShapes:W0,forEachShapePart:es,editShapes:Yo,editShapeParts:ch,findMaxPartCount:i4}),Km={exports:{}},Zm,o4;function ts(){if(o4)return Zm;o4=1;var r=p.default,o=r.Buffer,a={},u;for(u in r)r.hasOwnProperty(u)&&(u==="SlowBuffer"||u==="Buffer"||(a[u]=r[u]));var c=a.Buffer={};for(u in o)o.hasOwnProperty(u)&&(u==="allocUnsafe"||u==="allocUnsafeSlow"||(c[u]=o[u]));if(a.Buffer.prototype=o.prototype,(!c.from||c.from===Uint8Array.from)&&(c.from=function(d,v,_){if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof d);if(d&&typeof d.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);return o(d,v,_)}),c.alloc||(c.alloc=function(d,v,_){if(typeof d!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof d);if(d<0||d>=2*(1<<30))throw new RangeError('The value "'+d+'" is invalid for option "size"');var x=o(d);return!v||v.length===0?x.fill(0):typeof _=="string"?x.fill(v,_):x.fill(v),x}),!a.kStringMaxLength)try{a.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}return a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),Zm=a,Zm}var Y0={},a4;function tq(){if(a4)return Y0;a4=1;var r="\uFEFF";Y0.PrependBOM=o;function o(u,c){this.encoder=u,this.addBOM=!0}o.prototype.write=function(u){return this.addBOM&&(u=r+u,this.addBOM=!1),this.encoder.write(u)},o.prototype.end=function(){return this.encoder.end()},Y0.StripBOM=a;function a(u,c){this.decoder=u,this.pass=!1,this.options=c||{}}return a.prototype.write=function(u){var c=this.decoder.write(u);return this.pass||!c||(c[0]===r&&(c=c.slice(1),typeof this.options.stripBOM=="function"&&this.options.stripBOM()),this.pass=!0),c},a.prototype.end=function(){return this.decoder.end()},Y0}var Jm={},Qm,s4;function nq(){if(s4)return Qm;s4=1;var r=ts().Buffer;Qm={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:o};function o(x,E){this.enc=x.encodingName,this.bomAware=x.bomAware,this.enc==="base64"?this.encoder=d:this.enc==="cesu8"&&(this.enc="utf8",this.encoder=v,r.from("eda0bdedb2a9","hex").toString()!==""&&(this.decoder=_,this.defaultCharUnicode=E.defaultCharUnicode))}o.prototype.encoder=c,o.prototype.decoder=u;var a=m.default.StringDecoder;a.prototype.end||(a.prototype.end=function(){});function u(x,E){this.decoder=new a(E.enc)}u.prototype.write=function(x){return r.isBuffer(x)||(x=r.from(x)),this.decoder.write(x)},u.prototype.end=function(){return this.decoder.end()};function c(x,E){this.enc=E.enc}c.prototype.write=function(x){return r.from(x,this.enc)},c.prototype.end=function(){};function d(x,E){this.prevStr=""}d.prototype.write=function(x){x=this.prevStr+x;var E=x.length-x.length%4;return this.prevStr=x.slice(E),x=x.slice(0,E),r.from(x,"base64")},d.prototype.end=function(){return r.from(this.prevStr,"base64")};function v(x,E){}v.prototype.write=function(x){for(var E=r.alloc(x.length*3),k=0,F=0;F<x.length;F++){var B=x.charCodeAt(F);B<128?E[k++]=B:B<2048?(E[k++]=192+(B>>>6),E[k++]=128+(B&63)):(E[k++]=224+(B>>>12),E[k++]=128+(B>>>6&63),E[k++]=128+(B&63))}return E.slice(0,k)},v.prototype.end=function(){};function _(x,E){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=E.defaultCharUnicode}return _.prototype.write=function(x){for(var E=this.acc,k=this.contBytes,F=this.accBytes,B="",V=0;V<x.length;V++){var G=x[V];(G&192)!==128?(k>0&&(B+=this.defaultCharUnicode,k=0),G<128?B+=String.fromCharCode(G):G<224?(E=G&31,k=1,F=1):G<240?(E=G&15,k=2,F=1):B+=this.defaultCharUnicode):k>0?(E=E<<6|G&63,k--,F++,k===0&&(F===2&&E<128&&E>0?B+=this.defaultCharUnicode:F===3&&E<2048?B+=this.defaultCharUnicode:B+=String.fromCharCode(E))):B+=this.defaultCharUnicode}return this.acc=E,this.contBytes=k,this.accBytes=F,B},_.prototype.end=function(){var x=0;return this.contBytes>0&&(x+=this.defaultCharUnicode),x},Qm}var Fa={},u4;function rq(){if(u4)return Fa;u4=1;var r=ts().Buffer;Fa._utf32=o;function o(E,k){this.iconv=k,this.bomAware=!0,this.isLE=E.isLE}Fa.utf32le={type:"_utf32",isLE:!0},Fa.utf32be={type:"_utf32",isLE:!1},Fa.ucs4le="utf32le",Fa.ucs4be="utf32be",o.prototype.encoder=a,o.prototype.decoder=u;function a(E,k){this.isLE=k.isLE,this.highSurrogate=0}a.prototype.write=function(E){for(var k=r.from(E,"ucs2"),F=r.alloc(k.length*2),B=this.isLE?F.writeUInt32LE:F.writeUInt32BE,V=0,G=0;G<k.length;G+=2){var H=k.readUInt16LE(G),J=55296<=H&&H<56320,ue=56320<=H&&H<57344;if(this.highSurrogate)if(J||!ue)B.call(F,this.highSurrogate,V),V+=4;else{var se=(this.highSurrogate-55296<<10|H-56320)+65536;B.call(F,se,V),V+=4,this.highSurrogate=0;continue}J?this.highSurrogate=H:(B.call(F,H,V),V+=4,this.highSurrogate=0)}return V<F.length&&(F=F.slice(0,V)),F},a.prototype.end=function(){if(this.highSurrogate){var E=r.alloc(4);return this.isLE?E.writeUInt32LE(this.highSurrogate,0):E.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,E}};function u(E,k){this.isLE=k.isLE,this.badChar=k.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}u.prototype.write=function(E){if(E.length===0)return"";var k=0,F=0,B=r.alloc(E.length+4),V=0,G=this.isLE,H=this.overflow,J=this.badChar;if(H.length>0){for(;k<E.length&&H.length<4;k++)H.push(E[k]);H.length===4&&(G?F=H[k]|H[k+1]<<8|H[k+2]<<16|H[k+3]<<24:F=H[k+3]|H[k+2]<<8|H[k+1]<<16|H[k]<<24,H.length=0,V=c(B,V,F,J))}for(;k<E.length-3;k+=4)G?F=E[k]|E[k+1]<<8|E[k+2]<<16|E[k+3]<<24:F=E[k+3]|E[k+2]<<8|E[k+1]<<16|E[k]<<24,V=c(B,V,F,J);for(;k<E.length;k++)H.push(E[k]);return B.slice(0,V).toString("ucs2")};function c(E,k,F,B){if((F<0||F>1114111)&&(F=B),F>=65536){F-=65536;var V=55296|F>>10;E[k++]=V&255,E[k++]=V>>8;var F=56320|F&1023}return E[k++]=F&255,E[k++]=F>>8,k}u.prototype.end=function(){this.overflow.length=0},Fa.utf32=d,Fa.ucs4="utf32";function d(E,k){this.iconv=k}d.prototype.encoder=v,d.prototype.decoder=_;function v(E,k){E=E||{},E.addBOM===void 0&&(E.addBOM=!0),this.encoder=k.iconv.getEncoder(E.defaultEncoding||"utf-32le",E)}v.prototype.write=function(E){return this.encoder.write(E)},v.prototype.end=function(){return this.encoder.end()};function _(E,k){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=E||{},this.iconv=k.iconv}_.prototype.write=function(E){if(!this.decoder){if(this.initialBufs.push(E),this.initialBufsLen+=E.length,this.initialBufsLen<32)return"";var k=x(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(k,this.options);for(var F="",B=0;B<this.initialBufs.length;B++)F+=this.decoder.write(this.initialBufs[B]);return this.initialBufs.length=this.initialBufsLen=0,F}return this.decoder.write(E)},_.prototype.end=function(){if(!this.decoder){var E=x(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(E,this.options);for(var k="",F=0;F<this.initialBufs.length;F++)k+=this.decoder.write(this.initialBufs[F]);var B=this.decoder.end();return B&&(k+=B),this.initialBufs.length=this.initialBufsLen=0,k}return this.decoder.end()};function x(E,k){var F=[],B=0,V=0,G=0,H=0,J=0;e:for(var ue=0;ue<E.length;ue++)for(var se=E[ue],me=0;me<se.length;me++)if(F.push(se[me]),F.length===4){if(B===0){if(F[0]===255&&F[1]===254&&F[2]===0&&F[3]===0)return"utf-32le";if(F[0]===0&&F[1]===0&&F[2]===254&&F[3]===255)return"utf-32be"}if((F[0]!==0||F[1]>16)&&G++,(F[3]!==0||F[2]>16)&&V++,F[0]===0&&F[1]===0&&(F[2]!==0||F[3]!==0)&&J++,(F[0]!==0||F[1]!==0)&&F[2]===0&&F[3]===0&&H++,F.length=0,B++,B>=100)break e}return J-G>H-V?"utf-32be":J-G<H-V?"utf-32le":k||"utf-32le"}return Fa}var X0={},l4;function iq(){if(l4)return X0;l4=1;var r=ts().Buffer;X0.utf16be=o;function o(){}o.prototype.encoder=a,o.prototype.decoder=u,o.prototype.bomAware=!0;function a(){}a.prototype.write=function(x){for(var E=r.from(x,"ucs2"),k=0;k<E.length;k+=2){var F=E[k];E[k]=E[k+1],E[k+1]=F}return E},a.prototype.end=function(){};function u(){this.overflowByte=-1}u.prototype.write=function(x){if(x.length==0)return"";var E=r.alloc(x.length+1),k=0,F=0;for(this.overflowByte!==-1&&(E[0]=x[0],E[1]=this.overflowByte,k=1,F=2);k<x.length-1;k+=2,F+=2)E[F]=x[k+1],E[F+1]=x[k];return this.overflowByte=k==x.length-1?x[x.length-1]:-1,E.slice(0,F).toString("ucs2")},u.prototype.end=function(){this.overflowByte=-1},X0.utf16=c;function c(x,E){this.iconv=E}c.prototype.encoder=d,c.prototype.decoder=v;function d(x,E){x=x||{},x.addBOM===void 0&&(x.addBOM=!0),this.encoder=E.iconv.getEncoder("utf-16le",x)}d.prototype.write=function(x){return this.encoder.write(x)},d.prototype.end=function(){return this.encoder.end()};function v(x,E){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=x||{},this.iconv=E.iconv}v.prototype.write=function(x){if(!this.decoder){if(this.initialBufs.push(x),this.initialBufsLen+=x.length,this.initialBufsLen<16)return"";var E=_(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(E,this.options);for(var k="",F=0;F<this.initialBufs.length;F++)k+=this.decoder.write(this.initialBufs[F]);return this.initialBufs.length=this.initialBufsLen=0,k}return this.decoder.write(x)},v.prototype.end=function(){if(!this.decoder){var x=_(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(x,this.options);for(var E="",k=0;k<this.initialBufs.length;k++)E+=this.decoder.write(this.initialBufs[k]);var F=this.decoder.end();return F&&(E+=F),this.initialBufs.length=this.initialBufsLen=0,E}return this.decoder.end()};function _(x,E){var k=[],F=0,B=0,V=0;e:for(var G=0;G<x.length;G++)for(var H=x[G],J=0;J<H.length;J++)if(k.push(H[J]),k.length===2){if(F===0){if(k[0]===255&&k[1]===254)return"utf-16le";if(k[0]===254&&k[1]===255)return"utf-16be"}if(k[0]===0&&k[1]!==0&&V++,k[0]!==0&&k[1]===0&&B++,k.length=0,F++,F>=100)break e}return V>B?"utf-16be":V<B?"utf-16le":E||"utf-16le"}return X0}var fh={},c4;function oq(){if(c4)return fh;c4=1;var r=ts().Buffer;fh.utf7=o,fh.unicode11utf7="utf7";function o(H,J){this.iconv=J}o.prototype.encoder=u,o.prototype.decoder=c,o.prototype.bomAware=!0;var a=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function u(H,J){this.iconv=J.iconv}u.prototype.write=function(H){return r.from(H.replace(a,function(J){return"+"+(J==="+"?"":this.iconv.encode(J,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},u.prototype.end=function(){};function c(H,J){this.iconv=J.iconv,this.inBase64=!1,this.base64Accum=""}for(var d=/[A-Za-z0-9\/+]/,v=[],_=0;_<256;_++)v[_]=d.test(String.fromCharCode(_));var x=43,E=45,k=38;c.prototype.write=function(H){for(var J="",ue=0,se=this.inBase64,me=this.base64Accum,N=0;N<H.length;N++)if(!se)H[N]==x&&(J+=this.iconv.decode(H.slice(ue,N),"ascii"),ue=N+1,se=!0);else if(!v[H[N]]){if(N==ue&&H[N]==E)J+="+";else{var Z=me+this.iconv.decode(H.slice(ue,N),"ascii");J+=this.iconv.decode(r.from(Z,"base64"),"utf16-be")}H[N]!=E&&N--,ue=N+1,se=!1,me=""}if(!se)J+=this.iconv.decode(H.slice(ue),"ascii");else{var Z=me+this.iconv.decode(H.slice(ue),"ascii"),re=Z.length-Z.length%8;me=Z.slice(re),Z=Z.slice(0,re),J+=this.iconv.decode(r.from(Z,"base64"),"utf16-be")}return this.inBase64=se,this.base64Accum=me,J},c.prototype.end=function(){var H="";return this.inBase64&&this.base64Accum.length>0&&(H=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",H},fh.utf7imap=F;function F(H,J){this.iconv=J}F.prototype.encoder=B,F.prototype.decoder=V,F.prototype.bomAware=!0;function B(H,J){this.iconv=J.iconv,this.inBase64=!1,this.base64Accum=r.alloc(6),this.base64AccumIdx=0}B.prototype.write=function(H){for(var J=this.inBase64,ue=this.base64Accum,se=this.base64AccumIdx,me=r.alloc(H.length*5+10),N=0,Z=0;Z<H.length;Z++){var re=H.charCodeAt(Z);32<=re&&re<=126?(J&&(se>0&&(N+=me.write(ue.slice(0,se).toString("base64").replace(/\//g,",").replace(/=+$/,""),N),se=0),me[N++]=E,J=!1),J||(me[N++]=re,re===k&&(me[N++]=E))):(J||(me[N++]=k,J=!0),J&&(ue[se++]=re>>8,ue[se++]=re&255,se==ue.length&&(N+=me.write(ue.toString("base64").replace(/\//g,","),N),se=0)))}return this.inBase64=J,this.base64AccumIdx=se,me.slice(0,N)},B.prototype.end=function(){var H=r.alloc(10),J=0;return this.inBase64&&(this.base64AccumIdx>0&&(J+=H.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),J),this.base64AccumIdx=0),H[J++]=E,this.inBase64=!1),H.slice(0,J)};function V(H,J){this.iconv=J.iconv,this.inBase64=!1,this.base64Accum=""}var G=v.slice();return G[44]=!0,V.prototype.write=function(H){for(var J="",ue=0,se=this.inBase64,me=this.base64Accum,N=0;N<H.length;N++)if(!se)H[N]==k&&(J+=this.iconv.decode(H.slice(ue,N),"ascii"),ue=N+1,se=!0);else if(!G[H[N]]){if(N==ue&&H[N]==E)J+="&";else{var Z=me+this.iconv.decode(H.slice(ue,N),"ascii").replace(/,/g,"/");J+=this.iconv.decode(r.from(Z,"base64"),"utf16-be")}H[N]!=E&&N--,ue=N+1,se=!1,me=""}if(!se)J+=this.iconv.decode(H.slice(ue),"ascii");else{var Z=me+this.iconv.decode(H.slice(ue),"ascii").replace(/,/g,"/"),re=Z.length-Z.length%8;me=Z.slice(re),Z=Z.slice(0,re),J+=this.iconv.decode(r.from(Z,"base64"),"utf16-be")}return this.inBase64=se,this.base64Accum=me,J},V.prototype.end=function(){var H="";return this.inBase64&&this.base64Accum.length>0&&(H=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",H},fh}var ey={},f4;function aq(){if(f4)return ey;f4=1;var r=ts().Buffer;ey._sbcs=o;function o(c,d){if(!c)throw new Error("SBCS codec is called without the data.");if(!c.chars||c.chars.length!==128&&c.chars.length!==256)throw new Error("Encoding '"+c.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(c.chars.length===128){for(var v="",_=0;_<128;_++)v+=String.fromCharCode(_);c.chars=v+c.chars}this.decodeBuf=r.from(c.chars,"ucs2");for(var x=r.alloc(65536,d.defaultCharSingleByte.charCodeAt(0)),_=0;_<c.chars.length;_++)x[c.chars.charCodeAt(_)]=_;this.encodeBuf=x}o.prototype.encoder=a,o.prototype.decoder=u;function a(c,d){this.encodeBuf=d.encodeBuf}a.prototype.write=function(c){for(var d=r.alloc(c.length),v=0;v<c.length;v++)d[v]=this.encodeBuf[c.charCodeAt(v)];return d},a.prototype.end=function(){};function u(c,d){this.decodeBuf=d.decodeBuf}return u.prototype.write=function(c){for(var d=this.decodeBuf,v=r.alloc(c.length*2),_=0,x=0,E=0;E<c.length;E++)_=c[E]*2,x=E*2,v[x]=d[_],v[x+1]=d[_+1];return v.toString("ucs2")},u.prototype.end=function(){},ey}var ty,h4;function sq(){return h4||(h4=1,ty={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}),ty}var ny,d4;function uq(){return d4||(d4=1,ny={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\uFEFF"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},iso646cn:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}`},iso646jp:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_\`abcdefghijklmnopqrstuvwxyz{|}`},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}),ny}var ry={},p4;function lq(){if(p4)return ry;p4=1;var r=ts().Buffer;ry._dbcs=x;for(var o=-1,a=-2,u=-10,c=-1e3,d=new Array(256),v=-1,_=0;_<256;_++)d[_]=o;function x(B,V){if(this.encodingName=B.encodingName,!B)throw new Error("DBCS codec is called without the data.");if(!B.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var G=B.table();this.decodeTables=[],this.decodeTables[0]=d.slice(0),this.decodeTableSeq=[];for(var H=0;H<G.length;H++)this._addDecodeChunk(G[H]);if(typeof B.gb18030=="function"){this.gb18030=B.gb18030();var J=this.decodeTables.length;this.decodeTables.push(d.slice(0));var ue=this.decodeTables.length;this.decodeTables.push(d.slice(0));for(var se=this.decodeTables[0],H=129;H<=254;H++)for(var me=this.decodeTables[c-se[H]],N=48;N<=57;N++){if(me[N]===o)me[N]=c-J;else if(me[N]>c)throw new Error("gb18030 decode tables conflict at byte 2");for(var Z=this.decodeTables[c-me[N]],re=129;re<=254;re++){if(Z[re]===o)Z[re]=c-ue;else{if(Z[re]===c-ue)continue;if(Z[re]>c)throw new Error("gb18030 decode tables conflict at byte 3")}for(var _e=this.decodeTables[c-Z[re]],Ie=48;Ie<=57;Ie++)_e[Ie]===o&&(_e[Ie]=a)}}}this.defaultCharUnicode=V.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var qe={};if(B.encodeSkipVals)for(var H=0;H<B.encodeSkipVals.length;H++){var De=B.encodeSkipVals[H];if(typeof De=="number")qe[De]=!0;else for(var N=De.from;N<=De.to;N++)qe[N]=!0}if(this._fillEncodeTable(0,0,qe),B.encodeAdd)for(var ve in B.encodeAdd)Object.prototype.hasOwnProperty.call(B.encodeAdd,ve)&&this._setEncodeChar(ve.charCodeAt(0),B.encodeAdd[ve]);this.defCharSB=this.encodeTable[0][V.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===o&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===o&&(this.defCharSB=63)}x.prototype.encoder=E,x.prototype.decoder=k,x.prototype._getDecodeTrieNode=function(B){for(var V=[];B>0;B>>>=8)V.push(B&255);V.length==0&&V.push(0);for(var G=this.decodeTables[0],H=V.length-1;H>0;H--){var J=G[V[H]];if(J==o)G[V[H]]=c-this.decodeTables.length,this.decodeTables.push(G=d.slice(0));else if(J<=c)G=this.decodeTables[c-J];else throw new Error("Overwrite byte in "+this.encodingName+", addr: "+B.toString(16))}return G},x.prototype._addDecodeChunk=function(B){var V=parseInt(B[0],16),G=this._getDecodeTrieNode(V);V=V&255;for(var H=1;H<B.length;H++){var J=B[H];if(typeof J=="string")for(var ue=0;ue<J.length;){var se=J.charCodeAt(ue++);if(55296<=se&&se<56320){var me=J.charCodeAt(ue++);if(56320<=me&&me<57344)G[V++]=65536+(se-55296)*1024+(me-56320);else throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+B[0])}else if(4080<se&&se<=4095){for(var N=4095-se+2,Z=[],re=0;re<N;re++)Z.push(J.charCodeAt(ue++));G[V++]=u-this.decodeTableSeq.length,this.decodeTableSeq.push(Z)}else G[V++]=se}else if(typeof J=="number")for(var _e=G[V-1]+1,ue=0;ue<J;ue++)G[V++]=_e++;else throw new Error("Incorrect type '"+typeof J+"' given in "+this.encodingName+" at chunk "+B[0])}if(V>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+B[0]+": too long"+V)},x.prototype._getEncodeBucket=function(B){var V=B>>8;return this.encodeTable[V]===void 0&&(this.encodeTable[V]=d.slice(0)),this.encodeTable[V]},x.prototype._setEncodeChar=function(B,V){var G=this._getEncodeBucket(B),H=B&255;G[H]<=u?this.encodeTableSeq[u-G[H]][v]=V:G[H]==o&&(G[H]=V)},x.prototype._setEncodeSequence=function(B,V){var G=B[0],H=this._getEncodeBucket(G),J=G&255,ue;H[J]<=u?ue=this.encodeTableSeq[u-H[J]]:(ue={},H[J]!==o&&(ue[v]=H[J]),H[J]=u-this.encodeTableSeq.length,this.encodeTableSeq.push(ue));for(var se=1;se<B.length-1;se++){var me=ue[G];typeof me=="object"?ue=me:(ue=ue[G]={},me!==void 0&&(ue[v]=me))}G=B[B.length-1],ue[G]=V},x.prototype._fillEncodeTable=function(B,V,G){for(var H=this.decodeTables[B],J=!1,ue={},se=0;se<256;se++){var me=H[se],N=V+se;if(!G[N])if(me>=0)this._setEncodeChar(me,N),J=!0;else if(me<=c){var Z=c-me;if(!ue[Z]){var re=N<<8>>>0;this._fillEncodeTable(Z,re,G)?J=!0:ue[Z]=!0}}else me<=u&&(this._setEncodeSequence(this.decodeTableSeq[u-me],N),J=!0)}return J};function E(B,V){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=V.encodeTable,this.encodeTableSeq=V.encodeTableSeq,this.defaultCharSingleByte=V.defCharSB,this.gb18030=V.gb18030}E.prototype.write=function(B){for(var V=r.alloc(B.length*(this.gb18030?4:3)),G=this.leadSurrogate,H=this.seqObj,J=-1,ue=0,se=0;;){if(J===-1){if(ue==B.length)break;var me=B.charCodeAt(ue++)}else{var me=J;J=-1}if(55296<=me&&me<57344)if(me<56320)if(G===-1){G=me;continue}else G=me,me=o;else G!==-1?(me=65536+(G-55296)*1024+(me-56320),G=-1):me=o;else G!==-1&&(J=me,me=o,G=-1);var N=o;if(H!==void 0&&me!=o){var Z=H[me];if(typeof Z=="object"){H=Z;continue}else typeof Z=="number"?N=Z:Z==null&&(Z=H[v],Z!==void 0&&(N=Z,J=me));H=void 0}else if(me>=0){var re=this.encodeTable[me>>8];if(re!==void 0&&(N=re[me&255]),N<=u){H=this.encodeTableSeq[u-N];continue}if(N==o&&this.gb18030){var _e=F(this.gb18030.uChars,me);if(_e!=-1){var N=this.gb18030.gbChars[_e]+(me-this.gb18030.uChars[_e]);V[se++]=129+Math.floor(N/12600),N=N%12600,V[se++]=48+Math.floor(N/1260),N=N%1260,V[se++]=129+Math.floor(N/10),N=N%10,V[se++]=48+N;continue}}}N===o&&(N=this.defaultCharSingleByte),N<256?V[se++]=N:N<65536?(V[se++]=N>>8,V[se++]=N&255):N<16777216?(V[se++]=N>>16,V[se++]=N>>8&255,V[se++]=N&255):(V[se++]=N>>>24,V[se++]=N>>>16&255,V[se++]=N>>>8&255,V[se++]=N&255)}return this.seqObj=H,this.leadSurrogate=G,V.slice(0,se)},E.prototype.end=function(){if(!(this.leadSurrogate===-1&&this.seqObj===void 0)){var B=r.alloc(10),V=0;if(this.seqObj){var G=this.seqObj[v];G!==void 0&&(G<256?B[V++]=G:(B[V++]=G>>8,B[V++]=G&255)),this.seqObj=void 0}return this.leadSurrogate!==-1&&(B[V++]=this.defaultCharSingleByte,this.leadSurrogate=-1),B.slice(0,V)}},E.prototype.findIdx=F;function k(B,V){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=V.decodeTables,this.decodeTableSeq=V.decodeTableSeq,this.defaultCharUnicode=V.defaultCharUnicode,this.gb18030=V.gb18030}k.prototype.write=function(B){for(var V=r.alloc(B.length*2),G=this.nodeIdx,H=this.prevBytes,J=this.prevBytes.length,ue=-this.prevBytes.length,se,me=0,N=0;me<B.length;me++){var Z=me>=0?B[me]:H[me+J],se=this.decodeTables[G][Z];if(!(se>=0))if(se===o)se=this.defaultCharUnicode.charCodeAt(0),me=ue;else if(se===a){if(me>=3)var re=(B[me-3]-129)*12600+(B[me-2]-48)*1260+(B[me-1]-129)*10+(Z-48);else var re=(H[me-3+J]-129)*12600+((me-2>=0?B[me-2]:H[me-2+J])-48)*1260+((me-1>=0?B[me-1]:H[me-1+J])-129)*10+(Z-48);var _e=F(this.gb18030.gbChars,re);se=this.gb18030.uChars[_e]+re-this.gb18030.gbChars[_e]}else if(se<=c){G=c-se;continue}else if(se<=u){for(var Ie=this.decodeTableSeq[u-se],qe=0;qe<Ie.length-1;qe++)se=Ie[qe],V[N++]=se&255,V[N++]=se>>8;se=Ie[Ie.length-1]}else throw new Error("iconv-lite internal error: invalid decoding table value "+se+" at "+G+"/"+Z);if(se>=65536){se-=65536;var De=55296|se>>10;V[N++]=De&255,V[N++]=De>>8,se=56320|se&1023}V[N++]=se&255,V[N++]=se>>8,G=0,ue=me+1}return this.nodeIdx=G,this.prevBytes=ue>=0?Array.prototype.slice.call(B,ue):H.slice(ue+J).concat(Array.prototype.slice.call(B)),V.slice(0,N).toString("ucs2")},k.prototype.end=function(){for(var B="";this.prevBytes.length>0;){B+=this.defaultCharUnicode;var V=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,V.length>0&&(B+=this.write(V))}return this.prevBytes=[],this.nodeIdx=0,B};function F(B,V){if(B[0]>V)return-1;for(var G=0,H=B.length;G<H-1;){var J=G+(H-G+1>>1);B[J]<=V?G=J:H=J}return G}return ry}var cq=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]],fq=[["0","\0",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]],iy=[["0","\0",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]],g4=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]],hq=[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],dq=[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3],pq={uChars:hq,gbChars:dq},gq=[["0","\0",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]],v4=[["0","\0",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]],vq=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]],oy,m4;function mq(){return m4||(m4=1,oy={shiftjis:{type:"_dbcs",table:function(){return cq},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return fq},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return iy}},gbk:{type:"_dbcs",table:function(){return iy.concat(g4)}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return iy.concat(g4)},gb18030:function(){return pq},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return gq}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return v4}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return v4.concat(vq)},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}),oy}var y4;function yq(){return y4||(y4=1,function(r){for(var o=[nq(),rq(),iq(),oq(),aq(),sq(),uq(),lq(),mq()],a=0;a<o.length;a++){var u=o[a];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(r[c]=u[c])}}(Jm)),Jm}var ay,_4;function _q(){if(_4)return ay;_4=1;var r=ts().Buffer;return ay=function(o){var a=o.Transform;function u(d,v){this.conv=d,v=v||{},v.decodeStrings=!1,a.call(this,v)}u.prototype=Object.create(a.prototype,{constructor:{value:u}}),u.prototype._transform=function(d,v,_){if(typeof d!="string")return _(new Error("Iconv encoding stream needs strings as its input."));try{var x=this.conv.write(d);x&&x.length&&this.push(x),_()}catch(E){_(E)}},u.prototype._flush=function(d){try{var v=this.conv.end();v&&v.length&&this.push(v),d()}catch(_){d(_)}},u.prototype.collect=function(d){var v=[];return this.on("error",d),this.on("data",function(_){v.push(_)}),this.on("end",function(){d(null,r.concat(v))}),this};function c(d,v){this.conv=d,v=v||{},v.encoding=this.encoding="utf8",a.call(this,v)}return c.prototype=Object.create(a.prototype,{constructor:{value:c}}),c.prototype._transform=function(d,v,_){if(!r.isBuffer(d)&&!(d instanceof Uint8Array))return _(new Error("Iconv decoding stream needs buffers as its input."));try{var x=this.conv.write(d);x&&x.length&&this.push(x,this.encoding),_()}catch(E){_(E)}},c.prototype._flush=function(d){try{var v=this.conv.end();v&&v.length&&this.push(v,this.encoding),d()}catch(_){d(_)}},c.prototype.collect=function(d){var v="";return this.on("error",d),this.on("data",function(_){v+=_}),this.on("end",function(){d(null,v)}),this},{IconvLiteEncoderStream:u,IconvLiteDecoderStream:c}},ay}var b4;function bq(){return b4||(b4=1,function(r){var o=ts().Buffer,a=tq(),u=r.exports;u.encodings=null,u.defaultCharUnicode="",u.defaultCharSingleByte="?",u.encode=function(v,_,x){v=""+(v||"");var E=u.getEncoder(_,x),k=E.write(v),F=E.end();return F&&F.length>0?o.concat([k,F]):k},u.decode=function(v,_,x){typeof v=="string"&&(u.skipDecodeWarning||(u.skipDecodeWarning=!0),v=o.from(""+(v||""),"binary"));var E=u.getDecoder(_,x),k=E.write(v),F=E.end();return F?k+F:k},u.encodingExists=function(v){try{return u.getCodec(v),!0}catch{return!1}},u.toEncoding=u.encode,u.fromEncoding=u.decode,u._codecDataCache={},u.getCodec=function(v){u.encodings||(u.encodings=yq());for(var _=u._canonicalizeEncoding(v),x={};;){var E=u._codecDataCache[_];if(E)return E;var k=u.encodings[_];switch(typeof k){case"string":_=k;break;case"object":for(var F in k)x[F]=k[F];x.encodingName||(x.encodingName=_),_=k.type;break;case"function":return x.encodingName||(x.encodingName=_),E=new k(x,u),u._codecDataCache[x.encodingName]=E,E;default:throw new Error("Encoding not recognized: '"+v+"' (searched as: '"+_+"')")}}},u._canonicalizeEncoding=function(d){return(""+d).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},u.getEncoder=function(v,_){var x=u.getCodec(v),E=new x.encoder(_,x);return x.bomAware&&_&&_.addBOM&&(E=new a.PrependBOM(E,_)),E},u.getDecoder=function(v,_){var x=u.getCodec(v),E=new x.decoder(_,x);return x.bomAware&&!(_&&_.stripBOM===!1)&&(E=new a.StripBOM(E,_)),E},u.enableStreamingAPI=function(v){if(!u.supportsStreams){var _=_q()(v);u.IconvLiteEncoderStream=_.IconvLiteEncoderStream,u.IconvLiteDecoderStream=_.IconvLiteDecoderStream,u.encodeStream=function(E,k){return new u.IconvLiteEncoderStream(u.getEncoder(E,k),k)},u.decodeStream=function(E,k){return new u.IconvLiteDecoderStream(u.getDecoder(E,k),k)},u.supportsStreams=!0}};var c;try{c=Us}catch{}c&&c.Transform?u.enableStreamingAPI(c):u.encodeStream=u.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}}(Km)),Km.exports}var wq=bq(),K0=E8(wq),xq=Aq("utf8"),Sq=kq("utf8");function sy(){return K0.encodingExists("ascii"),Object.keys(K0.encodings)}function Cq(r){return x4(r)||ee("Unknown encoding:",r,`
Run the -encodings command see a list of supported encodings`),r}function Eq(r){return uy(r.join(""))}function uy(r){for(var o,a=0,u=r.length;a<u;a++)if(o=r.charCodeAt(a),o>=128)return!1;return!0}function Z0(r){return!r||/^utf-?8$/i.test(String(r))}function w4(r){return r=Nl(r),!r||/^(win|latin|utf8|ascii|iso88|gb)/.test(r)}function Nl(r){return(r||"").toLowerCase().replace(/[_-]/g,"")}function hh(r,o,a,u){return a>=0&&(r=r.slice(a,u)),bu(r,o)}function Aq(r){var o=null;return r=Nl(r),r!="utf8"?null:(typeof TextEncoder<"u"&&(o=new TextEncoder(r)),function(a){return o?w.from(o.encode(a).buffer):g.createBuffer(a,r)})}function _u(r,o){var a;return Z0(o)?a=xq(r):a=K0.encode(r,o),a}function kq(r){var o=null;return r=Nl(r),r!="utf8"?null:(typeof TextDecoder<"u"&&(o=new TextDecoder(r)),function(a){return o?o.decode(a):a.toString(r)})}function bu(r,o){var a;return Z0(o)?a=Sq(r):a=K0.decode(r,o),a}function x4(r){var o=Nl(r);return sy().includes(o)}function J0(r){return r.charCodeAt(0)==65279&&(r=r.substr(1)),r}function Fq(){var r=sy().filter(function(o){return!/^(_|cs|internal|ibm|isoir|singlebyte|table|[0-9]|l[0-9]|windows)/.test(o)});r.sort(),Fe(`Supported encodings:
`+Te(r))}var Iq=Object.freeze({__proto__:null,getEncodings:sy,validateEncoding:Cq,stringsAreAscii:Eq,stringIsAscii:uy,encodingIsUtf8:Z0,encodingIsAsciiCompat:w4,standardizeEncodingName:Nl,bufferToString:hh,encodeString:_u,decodeString:bu,encodingIsSupported:x4,trimBOM:J0,printEncodings:Fq});function wu(r){var o={},a,u;if(!r)return null;for(a in r)r.hasOwnProperty(a)&&(u=r[a],u==r&&(u=g.extend({},u),delete u[a]),o[a]=u&&u.constructor===Object?wu(u):u);return o}function S4(r){var o=null;return g.isString(r)?o="string":g.isNumber(r)?o="number":g.isBoolean(r)?o="boolean":g.isDate(r)?o="date":g.isObject(r)&&(o="object"),o}function dh(r){var o=Mq(r);Dq(r,o)}function Mq(r){var o={},a,u,c;for(a=0;a<r.length;a++)for(c=Object.keys(r[a]||{}),u=0;u<c.length;u++)o[c[u]]=(o[c[u]]|0)+1;return Object.keys(o).filter(function(d){return o[d]<r.length})}function Dq(r,o){var a,u,c,d;for(u=0;u<r.length;u++)for(a=r[u]||(r[u]={}),c=0;c<o.length;c++)d=o[c],d in a||(a[d]=void 0)}function Tq(r,o){return r.indexOf("*")>-1||g.difference(o,r).length===0}function ph(r,o){for(var a=null,u,c=0,d=o.length;c<d&&(u=o[c],a=u?S4(u[r]):null,!a);c++);return a}function C4(r,o){r.getFields().forEach(function(a){o(a)&&r.deleteField(a)})}function E4(r){return/^\s*$/.test(r)}function ly(r,o,a){var u={};return r.map(function(c){var d=0,v;do v=a&&a!="ascii"?A4(c,o,d,a):Bq(c,o,d),d++;while(v in u||c!=v&&g.contains(r,v));return u[v]=!0,v})}function Pq(r,o){return r.map(function(a){return a?a[o]:void 0})}function Rq(r,o){var a={},u=[];return r.forEach(function(c){var d=c[o];d in a||(a[d]=!0,u.push(d))}),u}function Bq(r,o,a){var u,c;return o=o||256,a?(c=String(a),c.length==1&&(c="_"+c),u=r.substr(0,o-c.length)+c):u=r.substr(0,o),u}function A4(r,o,a,u){var c=a?String(a):"",d=r+c,v=_u(d,u);return v.length>(o||256)?(r=r.substr(0,r.length-1),A4(r,o,a,u)):d}function cy(r,o){return o=="ascending"&&r.sort(function(a,u){return a.toLowerCase()<u.toLowerCase()?-1:1}),r}function fy(r){for(var o=0,a=r?r.length:0;o<a;o++)if(r[o])return r[o];return null}function Q0(r,o){var a=fy(r),u=a?Object.keys(a):[];return cy(u,o)}function Oq(r){var o=hy("number")(r);return o!==null||(o=hy("object")(r),o!==null)?o:r}function hy(r){return Lq[r||"multiple"]}var Lq={date:function(r){var o=new Date(r);return isNaN(+o)?null:o},string:function(r){return r},number:function(r){var o=Number(r);return r=="NaN"?o=NaN:isNaN(o)&&(o=null),o},object:function(r){var o=null;try{o=JSON.parse(r)}catch{}return o},boolean:function(r){var o=null;return r=="true"?o=!0:r=="false"&&(o=!1),o},multiple:function(r){var o=Number(r);return isNaN(o)?r:o}},zq=Object.freeze({__proto__:null,copyRecord:wu,getValueType:S4,fixInconsistentFields:dh,fieldListContainsAll:Tq,getColumnType:ph,deleteFields:C4,isInvalidFieldName:E4,getUniqFieldNames:ly,getFieldValues:Pq,getUniqFieldValues:Rq,applyFieldOrder:cy,getFirstNonEmptyRecord:fy,findFieldNames:Q0,parseUnknownType:Oq,getInputParser:hy});function An(r){var o;if(g.isArray(r))o=r;else if(o=[],g.isInteger(r))for(var a=0;a<r;a++)o.push({});else r&&te("Invalid DataTable constructor argument:",r);this.getRecords=function(){return o},this.getReadOnlyRecordAt=function(u){return wu(o[u])}}An.prototype={fieldExists:function(r){return g.contains(this.getFields(),r)},toString:function(){return JSON.stringify(this)},toJSON:function(){return this.getRecords()},addField:function(r,o){var a=g.isFunction(o);!g.isNumber(o)&&!g.isString(o)&&!a&&te("DataTable#addField() requires a string, number or function for initialization"),this.fieldExists(r)&&te("DataTable#addField() tried to add a field that already exists:",r),this.getRecords().forEach(function(u,c){u[r]=a?o(u,c):o})},getRecordAt:function(r){return this.getRecords()[r]},addIdField:function(){this.addField("FID",function(r,o){return o})},deleteField:function(r){this.getRecords().forEach(function(o){delete o[r]})},getFields:function(){return Q0(this.getRecords())},isEmpty:function(){return this.getFields().length===0||this.size()===0},update:function(r){for(var o=this.getRecords(),a=0,u=o.length;a<u;a++)o[a]=r(o[a],a)},clone:function(){var r=this.getRecords().map(wu);return new An(r)},size:function(){return this.getRecords().length}};function k4(r,o){for(var a=o.getSimpleShapeBounds(r).toArray(),u=o.getShapeIter(r),c=0;u.hasNext();){if(u.x!=a[0]&&u.x!=a[2]||u.y!=a[1]&&u.y!=a[3])return!1;c++}return!(c<5||!(a[2]>a[0])||!(a[3]>a[1]))}function F4(r){return[[r[0],r[1]],[r[0],r[3]],[r[2],r[3]],[r[2],r[1]],[r[0],r[1]]]}var Nq=Object.freeze({__proto__:null,pathIsRectangle:k4,bboxToCoords:F4});function jq(r,o,a){for(var u=pr(r)||a.length,c=r.data=r.data||new An(u),d=c.getRecords(),v,_,x=0,E=d.length;x<E;x++)v=d[x],_=a[x],v||(v=d[x]={}),v[o]=_===void 0?null:_}function I4(r){var o=r.data;return o||(o=r.data=new An(r.shapes?r.shapes.length:0)),o}function qq(r){return r.data&&r.data.getFields().length>0}function $q(r){return!!(r.data&&fy(r.data.getRecords()))}function xu(r){return ar(r)||Ia(r)}function Uq(r){return!!r.geometry_type}function ar(r){return(r.geometry_type=="polygon"||r.geometry_type=="polyline")&&dy(r)}function Ia(r){return r.geometry_type=="point"&&dy(r)}function ep(r,o){return M4(r,o)&&r.shapes.length==1}function M4(r,o){return!ar(r)||rp(r)>0?!1:r.shapes.every(function(a){return a?k4(a[0],o):!0})}function dy(r){return g.some(r.shapes||[],function(o){return!!o})}function Gq(r,o){r.shapes&&r.shapes.splice(o,1),r.data&&r.data.getRecords().splice(o,1)}function py(r,o){Ia(r)&&Wo(r.shapes,function(a){var u=o(a[0],a[1]);a[0]=u[0],a[1]=u[1]})}function pr(r){var o=0;return r.data?o=r.data.size():r.shapes&&(o=r.shapes.length),o}function D4(r){return pr(r)==0}function gh(r,o,a){var u=r.fieldExists?r:r.data;o||ee("Missing a field parameter"),(!u||!u.fieldExists(o))&&ee(a||"Missing a field named:",o)}function Hq(r,o){if(!(!o||!o.length)){r||ee("Missing attribute data");var a=r.getFields(),u=g.difference(o,a);u.length>0&&ee(`Table is missing one or more fields:
`,u,`
Existing fields:`,`
`+Te(a))}}function vh(r,o,a){var u;return a&&g.isString(a)?u=a:(u=o+", ",!r||!r.geometry_type?u+="received a layer with no geometry":u+="received a "+r.geometry_type+" layer"),u}function gy(r,o){(!r||r.geometry_type!=="point")&&ee(vh(r,"Expected a point layer",o))}function T4(r,o){gy(r),rp(r)>0&&ee(o||"This command requires single points; layer contains multi-point features.")}function P4(r,o){(!r||r.geometry_type!=="polyline")&&ee(vh(r,"Expected a polyline layer",o))}function tp(r,o){(!r||r.geometry_type!=="polygon")&&ee(vh(r,"Expected a polygon layer",o))}function Vq(r,o){(!r||!ar(r))&&ee(vh(r,"Expected a polygon or polyline layer",o))}function R4(r,o){var a=o.info&&o.info.input_files;return a&&a[0]||""}function vy(r,o,a){var u=g.uniq(a),c=u.map(function(d){for(var v=[],_=[],x=0,E,k=0,F=r.length;k<F;k++)a[k]==d&&(d&&_.push(r[k]),E=o[k],v.push(E),E||x++);return{geometry_type:d,shapes:_,data:x<v.length?new An(v):null}});return c}function B4(r,o){return o&&o.no_replace?{geometry_type:r.geometry_type}:r}function jl(r,o,a,u){u=u||{},u.name?r.name=u.name:u.no_replace?r.name=a||void 0:r.name=o&&o.name||a||void 0}function np(r){var o=ql(r);return o.data&&(o.data=o.data.clone()),o}function Wq(r,o){var a=o.reduce(function(d,v){return d[v]=!0,d},{}),u=W0(r.shapes);return Yo(u,c),g.defaults({shapes:u},r);function c(d){for(var v=0;v<d.length;v++)if(wn(d[v])in a)return null;return d}}function ql(r){var o=g.extend({},r);return r.shapes&&(o.shapes=W0(r.shapes)),o}function rp(r){for(var o=0,a=0,u=r.length;a<u;a++)r[a]&&r[a].length>1&&o++;return o}function my(r,o){var a=O4(r,o);return function(u){return a[wn(u)]>0}}function O4(r,o){var a=new Uint32Array(o.size());return r.filter(ar).forEach(function(u){Ll(u.shapes,a)}),a}function Ui(r,o){var a=null;return r.geometry_type=="point"?a=n4(r.shapes):(r.geometry_type=="polygon"||r.geometry_type=="polyline")&&(a=Nm(r.shapes,o)),a}function Yq(r,o){return g.defaults({layers:o.layers.filter(function(a){return a==r})},o)}function ip(r){r.data=new An(pr(r))}var Xq=Object.freeze({__proto__:null,insertFieldValues:jq,getLayerDataTable:I4,layerHasAttributeData:qq,layerHasNonNullData:$q,layerHasGeometry:xu,layerIsGeometric:Uq,layerHasPaths:ar,layerHasPoints:Ia,layerIsRectangle:ep,layerOnlyHasRectangles:M4,layerHasNonNullShapes:dy,deleteFeatureById:Gq,transformPointsInLayer:py,getFeatureCount:pr,layerIsEmpty:D4,requireDataField:gh,requireDataFields:Hq,layerTypeMessage:vh,requirePointLayer:gy,requireSinglePointLayer:T4,requirePolylineLayer:P4,requirePolygonLayer:tp,requirePathLayer:Vq,getLayerSourceFile:R4,divideFeaturesByType:vy,getOutputLayer:B4,setOutputLayerName:jl,copyLayer:np,filterPathLayerByArcIds:Wq,copyLayerShapes:ql,countMultiPartFeatures:rp,getArcPresenceTest2:my,countArcsInLayers:O4,getLayerBounds:Ui,isolateLayer:Yq,initDataTable:ip});function L4(r){var o=new ArrayBuffer(16),a=new Float64Array(o),u=new Uint32Array(o),c=r|0;if(!(c>0))throw new Error("Invalid size param: "+r);return function(d,v){var _=u,x;return a[0]=d,a[1]=v,x=_[0]^_[1],x=x<<5^x>>7^_[2]^_[3],(x&2147483647)%c}}function Kq(r){var o=Math.floor(r*.25+1),a=L4(o),u=new Int32Array(o),c=[],d=[],v=0;g.initializeArray(u,-1),this.addArc=function(x,E){var k=x.length-1,F=a(x[k],E[k]),B=u[F],V=d.length;return u[F]=V,d.push([x,E]),v+=x.length,c.push(B),V},this.findDuplicateArc=function(x,E,k,F,B,V){var G=_(x,E,k,F,B);return G===null?G=_(x,E,F,k,V):G=~G,G};function _(x,E,k,F,B){for(var V=B(k),G=a(x[k],E[k]),H=u[G],J,ue,se;H!=-1;){if(J=d[H][0],ue=d[H][1],se=J.length,J[0]===x[F]&&J[se-1]===x[k]&&J[se-2]===x[V]&&ue[0]===E[F]&&ue[se-1]===E[k]&&ue[se-2]===E[V])return H;H=c[H]}return null}this.getVertexData=function(){for(var x=new Float64Array(v),E=new Float64Array(v),k=new Uint32Array(d.length),F=0,B,V,G=0,H=d.length;G<H;G++)B=d[G],V=B[0].length,g.copyElements(B[0],0,x,F,V),g.copyElements(B[1],0,E,F,V),k[G]=V,F+=V;return{xx:x,yy:E,nn:k}}}function z4(r,o){for(var a=Zq(r,o),u,c,d,v,_=r.length-1;_>=0;_--)if(c=a[_],!(c>=_)){d=_,v=-1;do u=c,c=a[u],o[u]==o[_]&&r[u]==r[_]?(a[u]=d,d=u):(v>-1&&(a[v]=u),v=u);while(c<u);v>-1&&(a[v]=v),a[_]=d}return a}function Zq(r,o){var a=r.length,u=Math.floor(a*1.3)||1,c=L4(u),d=new Int32Array(u),v=new Int32Array(a),_,x,E,k,F;for(E=0;E<a;E++)k=r[E],F=o[E],k!=k||F!=F?x=-1:(_=c(k,F),x=d[_]-1,d[_]=E+1),v[E]=x>=0?x:E;return v}function Xo(r){if(r.arcs){var o=r.arcs.getVertexData(),a=N4(o.nn,o.xx,o.yy);r.arcs.updateVertexData(a.nn,a.xx,a.yy),r.layers.forEach(function(u){(u.geometry_type=="polyline"||u.geometry_type=="polygon")&&(u.shapes=Qq(u.shapes,a.paths))})}}function N4(r,o,a){var u=o.length,c=z4(o,a),d=Jq(u,r),v=new Kq(u),_=k()?o.subarray:Array.prototype.slice,x,E;return x=F(r),E=v.getVertexData(),E.paths=x,E;function k(){return!!(o.subarray&&a.subarray)}function F(re){for(var _e=[],Ie=0,qe,De=0,ve=re.length;De<ve;De++)qe=re[De],_e.push(qe<2?null:H(Ie,Ie+qe-1)),Ie+=qe;return _e}function B(re){var _e=d[re],Ie=re+1;if(Ie<u&&d[Ie]===_e)return re+1;var qe=r[_e];return G(re,re-qe+1)?re-qe+2:-1}function V(re){var _e=d[re],Ie=re-1;if(Ie>=0&&d[Ie]===_e)return re-1;var qe=r[_e];return G(re,re+qe-1)?re+qe-2:-1}function G(re,_e){return o[re]==o[_e]&&a[re]==a[_e]}function H(re,_e){for(var Ie=[],qe=-1,De,ve=re;ve<_e;ve++)J(ve)&&(qe>-1?Ie.push(N(De,ve)):qe=ve,De=ve);return qe==-1?Ie.push(Z(re,_e)):qe==re?(J(_e)||te("Topology error"),Ie.push(N(De,ve))):Ie.push(me(De,_e,re+1,qe)),Ie}function J(re){var _e=c[re],Ie=V(re),qe=B(re),De,ve;if(Ie==-1||qe==-1)return!0;for(;re!=_e;){if(De=V(_e),ve=B(_e),De==-1||ve==-1||ue(Ie,qe,De,ve))return!0;_e=c[_e]}return!1}function ue(re,_e,Ie,qe){var De=o[re],ve=o[_e],It=o[Ie],kt=o[qe],ct=a[re],Tt=a[_e],$t=a[Ie],Vt=a[qe];return!(De==kt&&ve==It&&ct==Vt&&Tt==$t||De==It&&ve==kt&&ct==$t&&Tt==Vt)}function se(re,_e,Ie,qe,De){var ve=Ie-_e+De-qe+2,It=k()?Float64Array:Array,kt=new It(ve),ct=0,Tt;for(Tt=_e;Tt<=Ie;Tt++)kt[ct++]=re[Tt];for(Tt=qe;Tt<=De;Tt++)kt[ct++]=re[Tt];return kt}function me(re,_e,Ie,qe){var De=v.findDuplicateArc(o,a,re,qe,B,V);return De===null&&(De=v.addArc(se(o,re,_e,Ie,qe),se(a,re,_e,Ie,qe))),De}function N(re,_e){var Ie=v.findDuplicateArc(o,a,re,_e,B,V);return Ie===null&&(Ie=v.addArc(_.call(o,re,_e+1),_.call(a,re,_e+1))),Ie}function Z(re,_e){for(var Ie=c[re],qe=d[re],De;Ie!=re&&!(d[Ie]<qe);)Ie=c[Ie];if(Ie==re)return N(re,_e);for(var ve=re;ve<_e;ve++)if(De=v.findDuplicateArc(o,a,ve,ve,B,V),De!==null)return De;te("Unmatched ring; id:",qe,"len:",r[qe])}}function Jq(r,o){for(var a=new Int32Array(r),u=0,c=0,d=o.length;c<d;c++)for(var v=0,_=o[c];v<_;v++,u++)a[u]=c;return a}function Qq(r,o){return r.map(function(c){return a(c,o)});function a(c,d){return c?c.map(function(v){return u(v,d)}):null}function u(c,d){return c.reduce(function(v,_){var x=wn(_),E=d[x];if(E){_<0&&(E=E.concat(),Kr(E));for(var k=0,F=E.length;k<F;k++)v.push(E[k])}return v},[])}}var e$=Object.freeze({__proto__:null,buildTopology:Xo,buildPathTopology:N4});function j4(r,o){var a=new Uint8Array(o.size());r.forEach(function(v){ar(v)&&v.shapes.forEach(u)});function u(v){es(v,c)}function c(v){d(~v[0]),d(v[v.length-1])}function d(v){var _=wn(v),x=_==v;a[_]|=x?1:2}return function(v){var _=wn(v),x=_==v,E=a[_];return x?(E&1)==1:(E&2)==2}}var t$=Object.freeze({__proto__:null,getPathEndpointTest:j4});function q4(r){var o=r.length,a=0,u={x:0,y:0,hasNext:c};function c(){return a>=o?!1:(u.x=r[a][0],u.y=r[a][1],a++,!0)}return u}function op(r,o){this._i=0,this._n=0,this._inc=1,this._xx=r,this._yy=o,this.i=0,this.x=0,this.y=0}op.prototype.init=function(r,o,a){return a?(this._i=r,this._inc=1):(this._i=r+o-1,this._inc=-1),this._n=o,this},op.prototype.hasNext=function(){var r=this._i;return this._n>0?(this._i=r+this._inc,this.x=this._xx[r],this.y=this._yy[r],this.i=r,this._n--,!0):!1};function $4(r,o,a){var u=0,c=0,d=1,v=0;this.init=function(_,x,E,k){return u=k||0,E?(c=_,d=1,v=_+x):(c=_+x-1,d=-1,v=_-1),this},this.hasNext=function(){var _=a,x=c,E=x,k=u,F=v,B=d;if(x==F)return!1;do E+=B;while(E!=F&&_[E]<k);return c=E,this.x=r[x],this.y=o[x],this.i=x,!0}}function n$(r){}function Su(r){this._arcs=r,this._i=0,this._n=0,this.x=0,this.y=0}Su.prototype.hasNext=function(){var r=this._arc;return this._i<this._n?r.hasNext()?(this.x=r.x,this.y=r.y,!0):(this.nextArc(),this.hasNext()):!1},Su.prototype.init=function(r){return this._ids=r,this._n=r.length,this.reset(),this},Su.prototype.nextArc=function(){var r=this._i+1;r<this._n&&(this._arc=this._arcs.getArcIter(this._ids[r]),r>0&&this._arc.hasNext()),this._i=r},Su.prototype.reset=function(){this._i=-1,this.nextArc()};var r$=Object.freeze({__proto__:null,PointIter:q4,ArcIter:op,FilteredArcIter:$4,MultiShapeIter:n$,ShapeIter:Su});function i$(r){var o=r.getPointCount(),a=Math.ceil(o/5e5),u=r.getRemovableThresholds(a);return g.quicksort(u,!0),function(c){var d=u.length,v=U4(c,u.length);return v<1?0:v>d?1/0:u[v-1]}}function U4(r,o){var a;return o===0||r>=1?a=0:r<=0?a=o+1:a=Math.floor((1-r)*(o+2)),a}function G4(r,o,a){var u=o.getRemovableThresholds(a),c=U4(r,u.length);return c<1?0:c>u.length?1/0:g.findValueByRank(u,c)}var o$=Object.freeze({__proto__:null,getThresholdFunction:i$,getThresholdByPct:G4});function ki(){var r,o,a,u,c,d=0,v,_,x,E;arguments.length==1?k(arguments[0]):arguments.length==3?F.apply(this,arguments):arguments.length===0?k([]):te("ArcCollection() Invalid arguments");function k(N){var Z=[],re=[],_e=N.map(function(Ie){for(var qe=Ie?Ie.length:0,De=0;De<qe;De++)Z.push(Ie[De][0]),re.push(Ie[De][1]);return qe});F(_e,Z,re)}function F(N,Z,re){var _e=N.length;N instanceof Array&&(N=new Uint32Array(N)),Z instanceof Array&&(Z=new Float64Array(Z)),re instanceof Array&&(re=new Float64Array(re)),r=Z,o=re,u=N,c=null,d=0,E=null,a=new Uint32Array(_e);for(var Ie=0,qe=0;qe<_e;qe++)a[qe]=Ie,Ie+=N[qe];return(Ie!=r.length||r.length!=o.length)&&te("ArcCollection#initXYData() Counting error"),V(),x=new op(r,o),this}function B(N){N?(N.length!=r.length&&te("ArcCollection#initZData() mismatched arrays"),N instanceof Array&&(N=new Float64Array(N)),c=N,E=new $4(r,o,c)):(c=null,d=0,E=null)}function V(){var N=u.length;v=new Float64Array(N*4),_=new Bt;for(var Z=0;Z<N;Z++)G(Z)}function G(N){var Z=u[N],re=a[N],_e=N*4,Ie=bj(r,o,re,Z);v[_e++]=Ie[0],v[_e++]=Ie[1],v[_e++]=Ie[2],v[_e]=Ie[3],_.mergeBounds(Ie)}this.updateArcBounds=function(N){G(N)},this.updateVertexData=function(N,Z,re,_e){F(N,Z,re),B(_e||null)},this.getCopy=function(){var N=new ki(new Int32Array(u),new Float64Array(r),new Float64Array(o));return c&&(N.setThresholds(new Float64Array(c)),N.setRetainedInterval(d)),N},this.getVertexData=H;function H(){return{xx:r,yy:o,zz:c,bb:v,nn:u,ii:a}}function J(){return!c||!d?this.getPointCount():L8(c,d)}function ue(){return wj(H(),d)}this.getFilteredCopy=function(){if(!c||d===0)return this.getCopy();var N=ue(),Z=new ki(N.nn,N.xx,N.yy);return Z.setThresholds(N.zz),Z},this.toArray=function(){var N=[];return this.forEach(function(Z){for(var re=[];Z.hasNext();)re.push([Z.x,Z.y]);N.push(re)}),N},this.toJSON=function(){return this.toArray()},this.forEachArcSegment=function(N,Z){for(var re=N>=0,_e=re?N:~N,Ie=this.getRetainedInterval(),qe=u[_e],De=re?1:-1,ve=re?a[_e]:a[_e]+qe-1,It=ve,kt=r,ct=o,Tt=c,$t=0,Vt=1;Vt<qe;Vt++)It+=De,(Ie===0||Tt[It]>=Ie)&&(Z(ve,It,kt,ct),ve=It,$t++);return $t},this.forEachSegment=function(N){for(var Z=0,re=0,_e=this.size();re<_e;re++)Z+=this.forEachArcSegment(re,N);return Z},this.transformPoints=function(N){for(var Z=r,re=o,_e=-1,Ie=0,qe,De=0,ve=Z.length;De<ve;De++,Ie--){for(;Ie===0;)Ie=u[++_e];qe=N(Z[De],re[De],_e),qe&&(Z[De]=qe[0],re[De]=qe[1])}V()},this.forEach=function(N){for(var Z=0,re=this.size();Z<re;Z++)N(this.getArcIter(Z),Z)},this.forEach2=function(N){for(var Z=0,re=this.size();Z<re;Z++)N(a[Z],u[Z],r,o,c,Z)},this.forEach3=function(N){for(var Z,re,_e,Ie,qe,De=0,ve=this.size();De<ve;De++)Z=a[De],re=Z+u[De],_e=r.subarray(Z,re),Ie=o.subarray(Z,re),c&&(qe=c.subarray(Z,re)),N(_e,Ie,qe,De)},this.filter=function(N){var Z=function(re){return N(this.getArcIter(re),re)}.bind(this);return this.deleteArcs(Z)},this.deleteArcs=function(N){for(var Z=this.size(),re=new Int32Array(Z),_e=0,Ie=0,qe=0;qe<Z;qe++)N(qe)?(re[qe]=_e++,Ie+=u[qe]):re[qe]=-1;return _e<Z&&se(re),re};function se(N){for(var Z=0,re=0,_e=g.copyElements,Ie,qe,De=0,ve=N.length;De<ve;De++)Ie=N[De],qe=u[De],Ie>-1&&(_e(r,a[De],r,Z,qe),_e(o,a[De],o,Z,qe),c&&_e(c,a[De],c,Z,qe),u[Ie]=qe,Z+=qe,re++);F(u.subarray(0,re),r.subarray(0,Z),o.subarray(0,Z)),c&&B(c.subarray(0,Z))}this.dedupCoords=function(){for(var N=0,Z=0,re=0,_e=this.size(),Ie=c,qe,De;N<_e;)qe=u[N],De=a$(Z,re,qe,r,o,Ie),u[N]=De,Z+=qe,re+=De,N++;return Z>re&&(F(u,r.subarray(0,re),o.subarray(0,re)),Ie&&B(Ie.subarray(0,re))),Z-re},this.getVertex=function(N,Z){var re=this.indexOfVertex(N,Z);return{x:r[re],y:o[re]}},this.getVertex2=function(N){return[r[N],o[N]]},this.indexOfVertex=function(N,Z){var re=N<0?~N:N,_e=u[re];return Z<0&&(Z=_e+Z),re!=N&&(Z=_e-Z-1),(Z<0||Z>=_e)&&te("[ArcCollection] out-of-range vertex id"),a[re]+Z},this.arcIsClosed=function(N){var Z=this.indexOfVertex(N,0),re=this.indexOfVertex(N,-1);return Z!=re&&r[Z]==r[re]&&o[Z]==o[re]},this.arcIsLollipop=function(N){var Z=this.getArcLength(N),re,_e;return Z<=2||!this.arcIsClosed(N)?!1:(re=this.indexOfVertex(N,1),_e=this.indexOfVertex(N,-2),r[re]==r[_e]&&o[re]==o[_e])},this.arcIsDegenerate=function(N){for(var Z=this.getArcIter(N),re=0,_e,Ie;Z.hasNext();){if(re>0&&(_e!=Z.x||Ie!=Z.y))return!1;_e=Z.x,Ie=Z.y,re++}return!0},this.getArcLength=function(N){return u[wn(N)]},this.getArcIter=function(N){var Z=N>=0,re=Z?N:~N,_e=c&&d?E:x;return re>=u.length&&te("#getArcId() out-of-range arc id:",N),_e.init(a[re],u[re],Z,d)},this.getShapeIter=function(N){return new Su(this).init(N)},this.setThresholds=function(N){var Z=this.getPointCount(),re=null;return N&&(N.length==Z?re=N:N.length==this.size()?re=me(N,Z):te("Invalid threshold data")),B(re),this};function me(N,Z){var re=new Float64Array(Z),_e=0;return N.forEach(function(Ie){for(var qe=0,De=Ie.length;qe<De;_e++,qe++)re[_e]=Ie[qe]}),_e!=Z&&te("Mismatched thresholds"),re}this.flatten=function(){if(d>0){var N=ue();this.updateVertexData(N.nn,N.xx,N.yy),d=0}else c=null},this.isFlat=function(){return!c},this.getRetainedInterval=function(){return d},this.setRetainedInterval=function(N){return d=N,this},this.getRetainedPct=function(){return this.getPctByThreshold(d)},this.setRetainedPct=function(N){return N>=1?d=0:(d=this.getThresholdByPct(N),d=N8(d,N)),this},this.getRemovableThresholds=function(N){c||te("[arcs] Missing simplification data.");for(var Z=N|1,re=new Float64Array(Math.ceil(c.length/Z)),_e,Ie=0,qe=0,De=this.getPointCount();Ie<De;Ie+=Z)_e=c[Ie],_e!=1/0&&(re[qe++]=_e);return re.subarray(0,qe)},this.getArcThresholds=function(N){N>=0&&N<this.size()||te("[arcs] Invalid arc id:",N);var Z=a[N],re=Z+u[N];return c.subarray(Z,re)},this.getPctByThreshold=function(N,Z){var re,_e,Ie;return N>0?(re=this.getRemovableThresholds(Z),_e=g.findRankByValue(re,N),Ie=re.length>0?1-(_e-1)/re.length:1):Ie=1,Ie},this.getThresholdByPct=function(N,Z){return G4(N,this,Z)},this.arcIntersectsBBox=function(N,Z){var re=v,_e=N*4;return re[_e]<=Z[2]&&re[_e+2]>=Z[0]&&re[_e+3]>=Z[1]&&re[_e+1]<=Z[3]},this.arcIsContained=function(N,Z){var re=v,_e=N*4;return re[_e]>=Z[0]&&re[_e+2]<=Z[2]&&re[_e+1]>=Z[1]&&re[_e+3]<=Z[3]},this.arcIsSmaller=function(N,Z){var re=v,_e=N*4;return re[_e+2]-re[_e]<Z&&re[_e+3]-re[_e+1]<Z},this.isPlanar=function(){return!zl(this.getBounds())},this.size=function(){return a&&a.length||0},this.getPointCount=function(){return r&&r.length||0},this.getFilteredPointCount=J,this.getBounds=function(){return _.clone()},this.getSimpleShapeBounds=function(N,Z){Z=Z||new Bt;for(var re=0,_e=N.length;re<_e;re++)this.mergeArcBounds(N[re],Z);return Z},this.getSimpleShapeBbox=function(N,Z){var re=Z||[],_e=v,Ie,qe;re[0]=re[1]=1/0,re[2]=re[3]=-1/0;for(var De=0,ve=N.length;De<ve;De++)Ie=wn(N[De]),qe=Ie*4,_e[qe]<re[0]&&(re[0]=_e[qe]),_e[++qe]<re[1]&&(re[1]=_e[qe]),_e[++qe]>re[2]&&(re[2]=_e[qe]),_e[++qe]>re[3]&&(re[3]=_e[qe]);return re[0]==1/0?[]:re},this.getMultiShapeBounds=function(N,Z){if(Z=Z||new Bt,N)for(var re=0,_e=N.length;re<_e;re++)this.getSimpleShapeBounds(N[re],Z);return Z},this.mergeArcBounds=function(N,Z){N<0&&(N=~N);var re=N*4;u[N]>0&&Z.mergeBounds(v[re],v[re+1],v[re+2],v[re+3])}}function a$(r,o,a,u,c,d){for(var v=0,_=0,x,E,k,F,B;v<a;)F=r+v,x=u[F],E=c[F],B=x==x&&E==E&&(_===0||x!=u[F-1]||E!=c[F-1]),B&&(k=o+_,u[k]=x,c[k]=E,_++),d&&_>0&&(B||d[F]>d[k])&&(d[k]=d[F]),v++;return _>1?_:0}function So(r,o){Array.isArray(r)&&(r=new ki(r));var a=r.getVertexData(),u=a.nn,c=a.xx,d=a.yy,v,_;Object.defineProperty(this,"arcs",{value:r}),this.setArcFilter=function(se){_=se},this.toArray=function(){var se=V(),me=new Uint8Array(se.length),N=[];return g.forEach(se,function(Z,re){var _e,Ie;if(me[re]!=1&&(Ie=x(re),!!Ie))for(_e={coordinates:Ie,arcs:[]},N.push(_e);me[re]!=1;)_e.arcs.push(F(re)),me[re]=1,re=se[re]}),N},this.size=function(){return this.toArray().length},this.findDanglingEndpoints=function(){for(var se=V(),me=[],N,Z=0,re=se.length;Z<re;Z++)se[Z]==Z&&(N=x(Z),N&&me.push({point:N,arc:F(Z)}));return me},this.detachAcyclicArcs=function(){for(var se=V(),me=0,N,Z,re=0,_e=se.length;re<_e;re+=2)N=re==se[re],Z=re+1==se[re+1],(N||Z)&&!E(re)&&(this.detachArc(F(re)),me++);return me>0&&(me+=this.detachAcyclicArcs()),me},this.detachArc=function(se){k(se),k(~se)},this.forEachConnectedArc=function(se,me){for(var N=J(se),Z=0;N!=se;)me(N,Z++),N=J(N)},this.getConnectedArcs=function(se,me){var N=[],Z=J(se);if(_&&!_(se))return[];for(;Z!=se;)(!me||me(Z))&&(!_||_(Z))&&N.push(Z),Z=J(Z);return N},this.findDuplicateArc=function(se){for(var me=J(se),N=se;me!=se;)G(se,me)&&wn(me)<wn(N)&&(N=me),me=J(me);return N};function x(se){return E(se)?null:[v.xx[se],v.yy[se]]}function E(se){return isNaN(v.xx[se])}function k(se){var me=B(se),N=V(),Z=N[me],re=ue(me);v.xx[me]=NaN,v.yy[me]=NaN,N[me]=me,N[re]=Z}function F(se){var me=se>>1;return se&!0?me:~me}function B(se){var me=se>=0;return me?se*2+1:~se*2}function V(){return v||(v=s$(r,o),u.length*2!=v.chains.length&&te("[NodeCollection] count error")),v.chains}function G(se,me){var N=se>=0?se:~se,Z=me>=0?me:~me,re=u[N];return re<2||re!=u[Z]?!1:!!(H(se,me,-1)&&H(se,me,1)&&H(se,me,-2))}function H(se,me,N){var Z=r.indexOfVertex(se,N),re=r.indexOfVertex(me,N);return c[Z]==c[re]&&d[Z]==d[re]}function J(se){var me=B(se),N=V(),Z=N[me];return Z>=0&&Z<N.length||te("out-of-range chain id"),F(Z)}function ue(se){for(var me=V(),N=se,Z=me[se];Z!=se;)N=Z,Z=me[Z],Z==N&&te("Node indexing error");return N}this.internal={testArcMatch:G,testVertexMatch:H}}function s$(r,o){var a=r.size()*2,u=new Float64Array(a),c=new Float64Array(a),d=new Int32Array(a);r.forEach2(function(_,x,E,k,F,B){var V=_,G=_+x-1,H=B*2,J=H+1,ue=E[V],se=k[V],me=E[G],N=k[G];o&&!o(B)&&(ue=se=me=N=NaN),u[H]=ue,c[H]=se,d[H]=B,u[J]=me,c[J]=N,d[J]=B});var v=z4(u,c);return{xx:u,yy:c,ids:d,chains:v}}function Ko(r){var o=r.arcs,a=r.layers.filter(ar);if(!o||!a.length){r.arcs=null;return}var u=l$(a,o),c=[],d=0,v=new Int32Array(o.size()),_=new Uint8Array(o.size());a.forEach(function(E){E.shapes=E.shapes.map(function(k){return ch(k&&k.concat(),x)})}),r.arcs=u$(o,c,d);function x(E){for(var k=0,F=[],B,V,G,H,J,ue,se=0,me=E.length;se<me;se++)V=E[se],G=wn(V),J=V===G,o.arcIsDegenerate(V)||(_[G]!==0?B=null:(H=o.getArcLength(V),B&&u(E[se-1],V)?(H>0&&H--,B.push(V),_[G]=1):(B=[V],v[G]=c.length,c.push(B),_[G]=J?2:3),k+=H)),_[G]>1&&(ue=v[G],(J&&_[G]==3||!J&&_[G]==2)&&(ue=~ue),F.push(ue));return d+=k,F}}function u$(r,o,a){var u=new Uint32Array(o.length),c=new Float64Array(a),d=new Float64Array(a),v=r.getVertexData(),_=v.zz?new Float64Array(a):null,x=r.getRetainedInterval(),E=0;return o.forEach(function(F,B){F.forEach(function(V,G){k(V,B)})}),new ki(u,c,d).setThresholds(_).setRetainedInterval(x);function k(F,B){var V=wn(F),G=F<0,H=v.nn[V],J=v.ii[V],ue=u[B];H>0&&(ue>0&&(H--,G||J++),g.copyElements(v.xx,J,c,E,H,G),g.copyElements(v.yy,J,d,E,H,G),_&&g.copyElements(v.zz,J,_,E,H,G),u[B]+=H,E+=H)}}function l$(r,o){var a=new So(o,my(r,o)),u=r.filter(function(x){return x.geometry_type=="polyline"}),c=j4(u,o),d,v;return function(x,E){return x==E||x==~E?(oe("Unexpected arc sequence:",x,E),!1):(d=0,a.forEachConnectedArc(x,_),d==1&&v==~E&&!c(x)&&!c(~E))};function _(x,E){d++,v=x}}function H4(r){return r.layers.map(function(o){var a={arcs:r.arcs,layers:[o],info:g.extend({},r.info)};return Ko(a),a})}function c$(r,o){var a=o.info||{},u=r.info||(r.info={});u.input_files=g.uniq((u.input_files||[]).concat(a.input_files||[])),u.input_formats=g.uniq((u.input_formats||[]).concat(a.input_formats||[])),g.defaults(u,a)}function f$(r){var o=Object.assign({},r);return Array.isArray(r.input_files)&&(o.input_files=r.input_files.concat()),o}function h$(r,o){var a=[];return r.layers=r.layers.filter(function(u){if(!o.includes(u))return!0;var c={arcs:r.arcs,layers:[u],info:g.extend({},r.info)};return Ko(c),a.push(c),!1}),r.layers.length&&(Ko(r),a.push(r)),a}function V4(r){var o=g.extend({},r);return o.layers=o.layers.map(np),o.arcs&&(o.arcs=o.arcs.getFilteredCopy()),o}function yy(r){var o=g.extend({},r);return o.layers=o.layers.map(ql),o.arcs&&(o.arcs=o.arcs.getFilteredCopy()),o}function W4(r){return g.defaults({layers:r.layers.map(function(o){return g.extend({},o)})},r)}function $l(r){var o=new Bt;return r.layers.forEach(function(a){var u=Ui(a,r.arcs);u&&o.mergeBounds(u)}),o}function Y4(r){return r.layers.every(function(o){return D4(o)})}function _y(r){return g.some(r.layers,function(o){return xu(o)})}function by(r){return g.some(r.layers,function(o){return ar(o)})}function X4(r){if(r.arcs&&!g.some(r.layers,ar))return r.arcs=null,!0}function d$(r){X4(r),r.arcs&&Ko(r)}function wy(r,o,a){var u=r.layers.concat();g.repeat(Math.max(o.length,a.length),function(c){var d=o[c],v=a[c],_=d?u.indexOf(d):u.length;d&&u.splice(_,1),v&&u.splice(_,0,v)}),r.layers=u}function p$(r,o,a){var u=K4(r,o,a,{});ar(u)&&Xo(o)}function K4(r,o,a,u){(!a||a.layers.length!=1)&&te("Invalid source dataset"),o.layers.includes(r)===!1&&te("Invalid target layer");var c=Ul(o,[a]),d=c[0],v=!d.data&&r.data&&pr(d)==r.data.size();return v&&(d.data=u.no_replace?r.data.clone():r.data),u.no_replace||(d=Object.assign(r,{data:null,shapes:null},d),ar(r)&&Ko(o)),d.name=u.name||d.name,d}function ap(r,o){r.arcs&&r.arcs.transformPoints(o),r.layers.forEach(function(a){Ia(a)&&py(a,o)})}var g$=Object.freeze({__proto__:null,splitDataset:H4,mergeDatasetInfo:c$,copyDatasetInfo:f$,splitApartLayers:h$,copyDataset:V4,copyDatasetForExport:yy,copyDatasetForRenaming:W4,getDatasetBounds:$l,datasetIsEmpty:Y4,datasetHasGeometry:_y,datasetHasPaths:by,cleanupArcs:X4,pruneArcs:d$,replaceLayers:wy,replaceLayerContents:p$,mergeOutputLayerIntoDataset:K4,transformPoints:ap}),xy=null,Sy={robinson:"+proj=robin +datum=WGS84",webmercator:"+proj=merc +a=6378137 +b=6378137",wgs84:"+proj=longlat +datum=WGS84",albersusa:k8};async function v$(r){xy&&await xy(r)}function m$(r){xy=r}function y$(r){var o=r.match(/\b(esri|epsg|nad83|nad27)(?=:[0-9]+\b)/ig)||[];return g.uniq(o.map(function(a){return a.toLowerCase()}))}function _$(r,o){var a=vr(r);return o=o.__mixed_crs||o,function(u,c){var d;return a&&(u<-180?u=-180:u>180&&(u=180)),d=[u,c],Tr.pj_transform_point(r,o,d),d}}function Cy(r,o){var a=[0],u=[0],c=r.is_latlong?Tr.internal.DEG_TO_RAD:1,d=o.is_latlong?Tr.internal.RAD_TO_DEG:1,v=vr(r);return function(_,x){var E;v&&(_<-180?_=-180:_>180&&(_=180)),a[0]=_*c,u[0]=x*c;try{o=o.__mixed_crs||o,Tr.pj_transform(r,o,a,u),E=a[0]==1/0}catch{E=!0}return E?null:[a[0]*d,u[0]*d]}}function b$(r,o){return Z4(r,o,Zo("wgs84"))}function Z4(r,o,a){if(Ey(o,a))return r.concat();var u=Cy(o,a);return u(r[0],r[1])}function J4(r){var o,a;try{o=gr(r),o&&(a=Cu(o))}catch{}return a||"[unknown]"}function Cu(r){return Tr.internal.get_proj_defn(r)}function Q4(r){var o;try{o=Tr.internal.wkt_from_proj4(r)}catch{}return o}function Ey(r,o){var a=Cu(r);return!!a&&a==Cu(o)}function eC(r){return r in Sy}function tC(r){var o;return r=r.replace(/(^| )([\w]+)($| )/,function(a,u,c,d){return c in Tr.internal.pj_list?u+"+proj="+c+d:a}),nC(r)?o=r:eC(r)?(o=Sy[r],g.isFunction(o)&&(o=o())):w$(r)?o="+init="+r.toLowerCase():r in(T("defs")||{})?o=T("defs")[r]:o=GN(r),o||ee("Unknown projection definition:",r),o}function w$(r){return/^(esri|epsg|nad83|nad27):[0-9]+$/i.test(String(r))}function nC(r){return/^(\+[^ ]+ *)+$/.test(r)}function mh(r){return{crs_string:r,crs:Zo(r)}}function Zo(r){var o=tC(r),a;if(!g.isString(o))a=o;else try{a=Tr.pj_init(o)}catch(u){ee("Unable to use projection",o,"("+u.message+")")}return a||null}function x$(r){vr(gr(r))&&ee("Command requires a target with projected coordinates (not lat-long)")}function Eu(r,o){return o=o||{},r.info=r.info||{},r.info.crs=o.crs,r.info.prj=o.prj,r.info.crs_string=o.crs_string,r}function ns(r){var o=r.info||{},a=o.crs,u=o.crs_string;return!a&&o.prj&&(a=Zo(ky(o.prj))),a||zl($l(r))&&(u="wgs84",a=Zo(u)),{crs:a||null,crs_string:u,prj:o.prj}}function gr(r){return ns(r).crs}function Ay(r,o){r.reduce(function(a,u){var c=gr(u);return a&&c&&vr(a)!=vr(c)&&ee(o||"Unable to combine projected and unprojected datasets"),c||a},null)}function S$(r,o,a){var u=1/a.to_meter,c=Tr.pj_inv_deg({x:r,y:o},a),d=Tr.pj_inv_deg({x:r+u,y:o},a),v=1/dt.greatCircleDistance(c.lam,c.phi,d.lam,d.phi);return v}function rC(r){return!vr(r)}function C$(r){return!(!r||!r.inv)}function vr(r){return r&&r.is_latlong||!1}function E$(r){if(!vr(r))return!1;var o=Cu(r);return o.toLowerCase().includes("84")}function A$(r){if(!r)return!1;var o=Cu(r);return o.includes("+proj=merc")&&o.includes("+a=6378137")&&o.includes("+b=6378137")}function k$(r){return vr(gr(r))}function F$(){var r=Tr.internal.pj_list,o=`Proj4 projections
`;Object.keys(r).sort().forEach(function(a){o+="  "+g.rpad(a,7," ")+"  "+r[a].name+`
`}),o+=`
Aliases`,Object.keys(Sy).sort().forEach(function(a){o+=`
  `+a}),Fe(o)}function ky(r){var o;try{o=Tr.internal.wkt_to_proj4(r)}catch(a){ee("Unusable .prj file ("+a.message+")")}return o}function iC(r){return Zo(ky(r))}var I$=Object.freeze({__proto__:null,initProjLibrary:v$,setProjectionLoader:m$,findProjLibs:y$,getProjTransform:_$,getProjTransform2:Cy,toLngLat:b$,projectPoint:Z4,getProjInfo:J4,crsToProj4:Cu,crsToPrj:Q4,crsAreEqual:Ey,isProjAlias:eC,getProjDefn:tC,looksLikeProj4String:nC,getCrsInfo:mh,parseCrsString:Zo,requireProjectedDataset:x$,setDatasetCrsInfo:Eu,getDatasetCrsInfo:ns,getDatasetCRS:gr,requireDatasetsHaveCompatibleCRS:Ay,getScaleFactorAtXY:S$,isProjectedCRS:rC,isInvertibleCRS:C$,isLatLngCRS:vr,isWGS84:E$,isWebMercator:A$,isLatLngDataset:k$,printProjections:F$,translatePrj:ky,parsePrj:iC});function Ul(r,o){var a=rs([r].concat(o)),u=o.reduce(function(c,d){return c.concat(d.layers)},[]);return r.arcs=a.arcs,u}function oC(r){var o=r.map(function(a){return g.defaults({layers:a.layers.map(ql)},a)});return rs(o)}function M$(r,o){var a=[],u=[],c=0,d;return r.forEach(function(v){a=a.concat(v.layers),u=u.concat(v.dataset),v.dataset.arcs&&v.dataset.arcs.size()>0&&c++}),d=rs(u),c>1&&Xo(d),u.forEach(o.removeDataset),o.addDataset(d),o.setDefaultTarget(a,d),[{layers:a,dataset:d}]}function rs(r){var o=[],a=0,u={info:{},layers:[]};return Ay(r),r.forEach(function(c){var d=c.arcs?c.arcs.size():0;d>0&&o.push(c.arcs),aC(u,c),c.layers.forEach(function(v){(v.geometry_type=="polygon"||v.geometry_type=="polyline")&&vi(v.shapes,function(_){return _<0?_-a:_+a}),u.layers.push(v)}),a+=d}),o.length>0&&(u.arcs=Fy(o),u.arcs.size()!=a&&te("[mergeDatasets()] Arc indexing error")),u}function aC(r,o){var a=o.info||{},u=r.info||(r.info={});u.input_files=g.uniq((u.input_files||[]).concat(a.input_files||[])),u.input_formats=g.uniq((u.input_formats||[]).concat(a.input_formats||[])),g.defaults(u,a)}function Fy(r){var o=r.map(function(d){return d.getRetainedInterval()>0&&(oe("Baking-in simplification setting."),d.flatten()),d.getVertexData()}),a=Iy(g.pluck(o,"xx"),Float64Array),u=Iy(g.pluck(o,"yy"),Float64Array),c=Iy(g.pluck(o,"nn"),Int32Array);return new ki(c,a,u)}function D$(r){return r.reduce(function(o,a){return o+(a.length||0)},0)}function Iy(r,o){var a=D$(r),u=o||Array,c=new u(a),d=0;return r.forEach(function(v){for(var _=v.length,x=0;x<_;x++)c[x+d]=v[x];d+=_}),c}var T$=Object.freeze({__proto__:null,mergeDatasetsIntoDataset:Ul,mergeDatasetsForExport:oC,mergeCommandTargets:M$,mergeDatasets:rs,mergeDatasetInfo:aC,mergeArcs:Fy});function sC(r,o){P$(r,o),lC(r,o,0,o.length-2)}function P$(r,o,a){function u(v,_){var x=o[v];o[v]=o[_],o[_]=x}for(var c=0,d=o.length;c<d;c+=2)r[o[c]]>r[o[c+1]]&&u(c,c+1)}function uC(r,o,a,u){for(var c,d,v=a+2;v<=u;v+=2){c=o[v],d=o[v+1];for(var _=v-2;_>=a&&r[c]<r[o[_]];_-=2)o[_+2]=o[_],o[_+3]=o[_+1];o[_+2]=c,o[_+3]=d}}function lC(r,o,a,u){for(var c=a,d=u,v,_;c<u;){for(v=r[o[a+u>>2<<1]];c<=d;){for(;r[o[c]]<v;)c+=2;for(;r[o[d]]>v;)d-=2;c<=d&&(_=o[c],o[c]=o[d],o[d]=_,_=o[c+1],o[c+1]=o[d+1],o[d+1]=_,c+=2,d-=2)}if(d-a<40?uC(r,o,a,d):lC(r,o,a,d),u-c<40){uC(r,o,c,u);return}a=c,d=u}}function R$(r){var o=new Uint8Array(r);this.setId=function(a){o[a]=1},this.hasId=function(a){return o[a]===1}}function Gl(r){var o=new Uint8Array(r),a=[];this.setId=function(u){this.hasId(u)||a.push(u),u<0?o[~u]|=2:o[u]|=1},this.clear=function(){var u=this;a.forEach(function(c){u.clearId(c)}),a=[]},this.hasId=function(u){return u<0?(o[~u]&2)==2:(o[u]&1)==1},this.clearId=function(u){u<0?o[~u]&=1:o[u]&=2},this.getIds=function(){return a},this.setIds=function(u){for(var c=0;c<u.length;c++)this.setId(u[c])}}function B$(r){return r.map(function(o){return[o.x,o.y]})}function O$(r,o,a){var u=a.getVertexData().ii,c=new R$(a.size());vi(o.shapes,v=>{c.setId(wn(v))});var d=[];return r.forEach(v=>{var _=Lm(v.a[0],u),x=Lm(v.b[0],u);c.hasId(_)&&c.hasId(x)&&d.push([v.x,v.y])}),{geometry_type:"point",shapes:[d]}}var sp;function L$(r){var o=r*4;return(!sp||sp.byteLength<o)&&(sp=new ArrayBuffer(o)),new Uint32Array(sp,0,r)}function is(r,o){var a=g.extend({},o),u=r.getBounds();!r.isPlanar()&&dt.containsBounds(V0(),u.toArray());var c=u.ymin,d=u.ymax-c,v=a.stripes||My(r),_=new Uint32Array(v),x=v>1&&d>0?F:B,E,k;a.tolerance>=0||(a.tolerance=q0(u.toArray()));function F(me){return Math.floor((v-1)*(me-c)/d)}function B(me){return 0}r.forEachSegment(function(me,N,Z,re){for(var _e=x(re[me]),Ie=x(re[N]);_[_e]=_[_e]+2,_e!=Ie;)_e+=Ie>_e?1:-1});var V=L$(g.sum(_)),G=0,H=[];g.forEach(_,function(me){var N=G;G+=me,H.push(V.subarray(N,G))}),g.initializeArray(_,0),r.forEachSegment(function(me,N,Z,re){for(var _e=x(re[me]),Ie=x(re[N]),qe,De;qe=_[_e],_[_e]=qe+2,De=H[_e],De[qe]=me,De[qe+1]=N,_e!=Ie;)_e+=Ie>_e?1:-1});var J=r.getVertexData(),ue=[],se;for(E=0;E<v;E++)for(se=Dy(H[E],J.xx,J.yy,a),k=0;k<se.length;k++)ue.push(se[k]);return cC(ue,a.unique?j$:null)}function z$(r){r.sort(function(o,a){return o.x-a.x||o.y-a.y})}function cC(r,o){var a={},u=o||N$;return r.filter(function(c){var d=u(c);return d in a?!1:(a[d]=!0,!0)})}function N$(r){return r.a.join(",")+";"+r.b.join(",")}function j$(r){return r.x+","+r.y}function fC(r){var o=r.getFilteredPointCount()-r.size(),a=Math.pow(o,.4)*2;return Math.ceil(a)||1}function My(r){var o=r.getFilteredPointCount()-r.size(),a=Math.ceil(Math.pow(o*10,.6)/40);return a>0?a:1}function Dy(r,o,a,u){var c=r.length-2,d=u||{},v=[],_=d.tolerance,x,E,k,F,B,V,G,H,J,ue,se,me,N,Z,re,_e,Ie;for(sC(o,r),_e=0;_e<c;){for(x=r[_e],E=r[_e+1],B=o[x],V=o[E],J=a[x],ue=a[E],Ie=_e;Ie<c&&(Ie+=2,k=r[Ie],G=o[k],!(V<G));){if(se=a[k],F=r[Ie+1],H=o[F],me=a[F],J>=se){if(J>me&&ue>se&&ue>me)continue}else if(J<me&&ue<se&&ue<me)continue;x==k||x==F||E==k||E==F||(N=dt.segmentIntersection(B,J,V,ue,G,se,H,me,_),N&&(Z=[x,E],re=[k,F],v.push(Ty(N,Z,re,o,a)),N.length==4&&v.push(Ty(N.slice(2),Z,re,o,a))))}_e+=2}return v}function Ty(r,o,a,u,c){var d=r[0],v=r[1],_,x;return o=up(d,v,o[0],o[1],u,c),a=up(d,v,a[0],a[1],u,c),_=o[0]<a[0]?o:a,x=_==o?a:o,{x:d,y:v,a:_,b:x}}function up(r,o,a,u,c,d){return c[a]==r&&d[a]==o?[a,a]:c[u]==r&&d[u]==o?[u,u]:a<u?[a,u]:[u,a]}var q$=Object.freeze({__proto__:null,getIntersectionPoints:B$,getIntersectionLayer:O$,findSegmentIntersections:is,sortIntersections:z$,dedupIntersections:cC,calcSegmentIntersectionStripeCount2:fC,calcSegmentIntersectionStripeCount:My,intersectSegments:Dy,formatIntersection:Ty,formatIntersectingSegment:up});function $$(r,o,a){var u=Oy(r[0],r[1],o,a);return hC(u.x,u.y,a)}function U$(r,o,a){var u=a.getVertexData();r.forEach(function(c){pC(o[0],o[1],c,a),a.updateArcBounds(Lm(c,u.ii))})}function G$(r,o,a){var u,c,d;o.forEach(function(v){By(v,a)?u=Py(v+1,a):Ry(v,a)&&(u=Py(v-1,a))}),u&&(c=u[0]-r[0],d=u[1]-r[1],Math.abs(c)>Math.abs(d)?r[1]=u[1]:r[0]=u[0])}function hC(r,o,a){for(var u=a.getVertexData(),c=u.xx,d=u.yy,v=[],_=0,x=c.length;_<x;_++)c[_]==r&&d[_]==o&&v.push(_);return v}function Py(r,o){var a=o.getVertexData();return[a.xx[r],a.yy[r]]}function Ry(r,o){for(var a=o.getVertexData(),u=a.ii,c=a.nn,d=0,v=u.length;d<v;d++)if(r===u[d]+c[d]-1)return!0;return!1}function dC(r,o){return By(r,o)||Ry(r,o)}function By(r,o){for(var a=o.getVertexData().ii,u=0,c=a.length;u<c;u++)if(r===a[u])return!0;return!1}function H$(r,o){var a=lp(r,o);return a[0]}function V$(r,o){var a=lp(r,o);return a[1]}function lp(r,o){if(r<0)return lp(~r,o).reverse();var a=o.getVertexData(),u=a.ii[r],c=a.nn[r],d=[a.xx[u],a.yy[u]],v=[a.xx[u+c-1],a.yy[u+c-1]];return[d,v]}function pC(r,o,a,u){var c=u.getVertexData();c.xx[a]=r,c.yy[a]=o}function Oy(r,o,a,u,c){for(var d=c?dt.greatCircleDistance:dt.distance2D,v=1/0,_,x,E,k,F=0;F<a.length;F++)for(k=u.getShapeIter(a[F]);k.hasNext();)E=d(r,o,k.x,k.y),E<v&&(v=E,_=k.x,x=k.y);return v<1/0?{x:_,y:x}:null}var W$=Object.freeze({__proto__:null,findNearestVertices:$$,snapVerticesToPoint:U$,snapPointToArcEndpoint:G$,findVertexIds:hC,getVertexCoords:Py,vertexIsArcEnd:Ry,vertexIsArcEndpoint:dC,vertexIsArcStart:By,getArcStartCoords:H$,getArcEndCoords:V$,getArcEndpointCoords:lp,setVertexCoords:pC,findNearestVertex:Oy});function gC(r){var o=r.getCopy();return function(a){Y$(a,o)}}function Y$(r,o){var a=is(o);if(a.length>0){he("Original layer contains intersections -- unable to repair.");return}for(var u=is(r),c=10,d=u.length,v=0;v<c&&u.length>0;v++)X$(u,r,o),u=is(r);var _=u.length;_>0?he("Unable to remove",_,`intersection${_>1?"s":""}`):d>0&&he("Fix-geometry removed",d,`intersection${d>1?"s":""}`)}function X$(r,o,a){r.forEach(function(u){cp(u.a[0],o,a),cp(u.a[1],o,a),cp(u.b[0],o,a),cp(u.b[1],o,a)})}function cp(r,o,a){var u=o.getVertexData(),c=a.getVertexData(),d=[r];dC(r,o)&&(d=d.concat(K$(r,u))),d.forEach(function(v){u.xx[v]=c.xx[v],u.yy[v]=c.yy[v]})}function K$(r,o){for(var a=o.ii,u=o.nn,c=o.xx,d=o.yy,v=c[r],_=d[r],x,E,k=[],F=0;F<a.length;F++)x=a[F],E=x+u[F]-1,x!=r&&c[x]==v&&d[x]==_&&k.push(x),E!=r&&c[E]==v&&d[E]==_&&k.push(E);return k}function vC(r,o){return+r.toPrecision(o)}function Z$(r,o){return+r.toFixed(o)}function mC(r,o){var a=1;if(!r&&r!==0)return r;for(o=o|0;o-- >0;)a*=10;return Math.round(r*a)/a}function Ly(r){return Math.round(r*10)/10}function yh(r){(!g.isNumber(r)||r===0)&&te("Rounding increment must be a non-zero number.");var o=1/r;return o>1&&(o=Math.round(o)),function(a){return Math.round(a*o)/o}}function yC(r){for(var o=Math.abs(r[2]-r[0]),a=Math.abs(r[3]-r[1]),u=Math.max(o,a)+1e-8,c=0;u<2e3&&c<1;)u*=10,c++;return c}function _C(r,o){return r.map(function(a){return a.toFixed(o)}).join(",")}function J$(r,o){return _C(r,o).split(",").map(parseFloat)}function Q$(r,o){Wo(r.shapes,function(a){a[0]=o(a[0]),a[1]=o(a[1])})}const bC=function(){var r=new Float32Array(1);return function(o){return r[0]=o,r[0]}}();function eU(r){r>=1&&r<=32||te("Invalid bits argument:",r);var o=Us.endianness()=="LE",a=new Float64Array(1),u=new Uint32Array(a.buffer,o?0:4,1),c=2**32-2**r;return function(d){return a[0]=d,u[0]=u[0]&c,a[0]}}const tU=Math.fround||bC;function fp(r,o,a){var u=yh(o),c=r.arcs&&a?gC(r.arcs):null;return ap(r,function(d,v){return[u(d),u(v)]}),c&&c(r.arcs),r}var nU=Object.freeze({__proto__:null,roundToSignificantDigits:vC,roundToDigits:Z$,roundToDigits2:mC,roundToTenths:Ly,getRoundingFunction:yh,getBoundsPrecisionForDisplay:yC,getRoundedCoordString:_C,getRoundedCoords:J$,roundPoints:Q$,fround2:bC,getBinaryRoundingFunction:eU,fround:tU,setCoordinatePrecision:fp});function zy(r,o){var a=/^(?<prefix>[nsew+-]?)(?<d>[0-9.]+)[d]? ?(?<m>[0-9.]*)[m']? ?(?<s>[0-9.]*)["]? ?(?<suffix>[nsew]?)$/i,u=o?rU(o):a,c=u.exec(r.trim()),d=NaN,v,_,x;return c&&(v=c.groups.d||"0",_=c.groups.m||"0",x=c.groups.s||"0",d=+v+ +_/60+ +x/3600,(/[sw-]/i.test(c.groups.prefix||"")||/[sw]/i.test(c.groups.suffix||""))&&(d=-d)),d}var hp={};function rU(r){if(r in hp)return hp[r];var o=r;o=o.replace("[-]","(?<prefix>-)?"),o=o.replace(/\[[NSEW, +-]{2,}\]/,"(?<prefix>$&)"),o=o.replace(/D+(\.D+)?/,(a,u)=>{var c="[0-9]+";return u&&(c+="\\.[0-9]+"),`(?<d>${c})`}),o=o.replace(/(MM?)(\.M+)?/,(a,u,c)=>{var d=u.length==1?"[0-9]+":"[0-9][0-9]";return c&&(d+="\\.[0-9]+"),`(?<m>${d})`}),o=o.replace(/(SS?)(\.S+)?/,(a,u,c)=>{var d=u.length==1?"[0-9]+":"[0-9][0-9]";return c&&(d+="\\.[0-9]+"),`(?<s>${d})`}),o="^"+o+"$";try{hp[r]=new RegExp(o)}catch{ee("Invalid DMS format string:",r)}return hp[r]}function iU(r,o,a){var u=r.toFixed(a),c=u.split(".");return c.length>0&&(c[0]=c[0].padStart(o,"0"),u=c.join(".")),u}function wC(r,o){o||(o="[-]DM'S.SSS");var a=o,u,c,d,v=/(D+)[^M]*(M+)?[^S[\]]*(S+)?/.exec(o),_=v&&!!v[3],x=v&&!!v[2];(!v||_&&!x)&&ee("Invalid DMS format string:",o);var E=_&&v[3].length||x&&v[2].length||v[1].length,k=_&&/S\.(S+)/||x&&/M\.(M+)/||/D\.(D+)/,F=k.test(o)?k.exec(o)[1].length:0;if(x){var B=Math.pow(10,F),V=_?3600*B:60*B,G=Math.floor(Math.abs(r)*V+.5),H=iU(G/B%60,E,F);_?(G=Math.floor(G/(B*60)),d=H,c=String(G%60).padStart(v[2].length,"0")):(G=Math.floor(G/B),c=H),u=String(Math.floor(G/60)).padStart(v[1].length,"0")}else u=Math.abs(r).toFixed(F);return a=a.replace(/\[-\]/,J=>r<0?"-":""),a=a.replace(/\[[+-]+\]/,J=>r<0?"-":"+"),a=a.replace(/\[[NS, ]+\]/,J=>r<0?"S":"N"),a=a.replace(/\[[EW, ]+\]/,J=>r<0?"W":"E"),a=a.replace(/D+(\.D+)?/,u),x&&(a=a.replace(/M+(\.M+)?/,c)),_&&(a=a.replace(/S+(\.S+)?/,d)),a}function oU(r){Object.assign(r,{round:mC,int_median:aU,sprintf:g.format,format_dms:wC,parse_dms:zy})}function Ny(r,o){r!==!0&&r!==!1&&ee(o||"Filter expression must return true or false")}function aU(r,o){if(!r||!o||r.length!=o.length-1)return null;for(var a=g.sum(r),u=Math.floor(a/2),c=0,d,v,_,x,E=1;E<o.length;E++){if(v=o[E-1],_=o[E],d=c+r[E-1],u<=d)return x=(u-c)/(d-c),v+x*(_-v);c=d}return null}function Hl(r,o){Object.keys(o).forEach(function(a){var u=o[a],c=typeof u=="function"?{get:u}:{value:u,writable:!1};Object.defineProperty(r,a,c)})}function sU(r,o){for(var a=[],u=[],c=[],d,v=0,_=r.size();v<_;v++)d=SC([v],r,o,a,u),d==1&&(d=0,a.pop(),u.pop()),c.push(d);return new ki(c,a,u)}function xC(r,o,a){if(!r||!a)return null;var u=[],c=[],d=[],v=[];return r.forEach(function(_){for(var x=SC(_,o,a,u,c);x<4&&x>0;)u.pop(),c.pop(),x--;x>0&&(v.push([d.length]),d.push(x))}),{shape:v.length>0?v:null,arcs:new ki(d,u,c)}}function SC(r,o,a,u,c){for(var d=o.getShapeIter(r),v=0,_,x,E,k;d.hasNext();)E=d.x,k=d.y,(v===0||dt.distance2D(E,k,_,x)>a)&&(u.push(E),c.push(k),_=E,x=k,v++);return(E!=_||k!=x)&&(u.push(E),c.push(k),v++),v}var uU=Object.freeze({__proto__:null,simplifyArcsFast:sU,simplifyPolygonFast:xC});function CC(r,o){var a=r&&dt.getMaxPath(r,o),u=a&&o.getSimpleShapeBounds(a),c,d;return!u||!u.hasBounds()||u.area()===0||(c=Math.sqrt(u.area())*.01,d=xC(r,o,c),!d.shape)?null:lU(d.shape,d.arcs)}function lU(r,o){var a=dt.getMaxPath(r,o),u=o.getSimpleShapeBounds(a),c=dt.getPathCentroid(a,o),d=cU(c,u),v=dt.getPlanarPathArea(a,o),_,x,E,k,F,B,V,G;return r.length==1&&v*1.2>u.area()?(F=5,k=.2):r.length==1&&v*1.7>u.area()?(F=7,k=.4):(F=11,k=.5),_=u.width()*k,x=c.x-_/2,E=x+_,B=_/F,V=EC(r,o,x,E,F,d),V?(G=EC(r,o,V.x-B/2,V.x+B/2,2,d),G.distance>V.distance&&(V=G)):(oe("[points inner] failed, falling back to centroid"),V=c),V}function cU(r,o){var a=Math.max(o.width(),o.height())/2;return function(u,c){var d=dt.distance2D(r.x,r.y,u,c);return 1-Math.min(.6*d/a,.25)}}function fU(r,o,a){var u=o.getBounds().ymin-1;return a.reduce(function(c,d){var v=dU(d,u,r,o);return c.concat(v)},[])}function EC(r,o,a,u,c,d){var v=vU(a,u,c),_=(u-a)/c,x=fU(r,o,v),E,k,F;x.forEach(function(V){V.interval*=d(V.x,V.y)}),x.sort(function(V,G){return G.interval-V.interval});for(var B=0;B<x.length&&(F=x[B],!(E&&E.distance>F.interval));B++)k=hU(F.x,F.y,r,o,_,d),(!E||k.distance>E.distance)&&(E=k);return E}function hU(r,o,a,u,c,d){var v={x:r,y:o,distance:dt.getPointToShapeDistance(r,o,a,u)*d(r,o)};return AC(v,a,u,c,d),AC(v,a,u,-c,d),v}function AC(r,o,a,u,c){for(var d=r.x,v=r.y,_=r.distance,x;v+=u,x=dt.getPointToShapeDistance(d,v,o,a)*c(d,v),x>_*.9&&dt.testPointInPolygon(d,v,o,a);)x>_&&(r.distance=_=x,r.y=v)}function dU(r,o,a,u){var c=pU(r,o,a,u),d=[],v,_,x;g.genericSort(c);for(var E=0;E<c.length;E+=2)v=c[E],_=c[E+1],x=(_-v)/2,x>0&&d.push({y:(v+_)/2,x:r,interval:x});return d}function pU(r,o,a,u){return a?a.reduce(function(c,d){var v=gU(r,o,d,u);return c.concat(v)},[]):[]}function gU(r,o,a,u){var c=[];return vu(a,u,function(d,v,_,x){var E=dt.getRayIntersection(r,o,_[d],x[d],_[v],x[v]);E>-1/0&&c.push(E)}),c.length%2===1&&(c=[]),c}function vU(r,o,a){for(var u=o-r,c=u/(a+1),d=[],v=1;v<=a;v++)d.push(r+c*v);return d}function mU(r,o){var a=r.isPlanar()?dt.distance2D:dt.greatCircleDistance,u=new yU(r,o),c,d,v;return function(k){return c=0,d=0,k&&k.forEach(_),d>0?d/(d+c):0};function _(k){k.forEach(x)}function x(k){v=0,r.forEachArcSegment(k,E),u.isInnerArc(k)?d+=v:c+=v}function E(k,F,B,V){v+=a(B[k],V[k],B[F],V[F])}}function yU(r,o){var a=new Uint8Array(r.size());vi(o,function(u){u<0?a[~u]|=2:a[u]|=1}),this.isInnerArc=function(u){var c=wn(u);return a[c]==3}}function kC(r){return r.reduce(function(o,a){return a.layers.forEach(function(u){o.push({layer:u,dataset:a.dataset})}),o},[])}function FC(r,o,a){var u=jy(r,o,!0);return a&&(u=u.filter(function(c){return c.layer.geometry_type==a})),r.forEach(function(c){c.layer.target_id=-1}),u.forEach(function(c,d){c.layer.target_id=d}),IC(u)}function IC(r){var o=[],a=[];return r.forEach(function(u){var c=o.indexOf(u.dataset);c==-1?(o.push(u.dataset),a.push({layers:[u.layer],dataset:u.dataset})):a[c].layers.push(u.layer)}),a}function jy(r,o,a){var u=[],c=[],d={};return o.split(",").forEach(function(v,_){var x=MC(v),E=!1;r.forEach(function(k,F){F in d?E=!0:x(k.layer,F+1)&&(u.push(k),d[F]=!0,E=!0)}),E==!1&&c.push(v)}),a&&c.length&&ee(g.format("Missing layer%s: %s",c.length==1?"":"s",c.join(","))),u}function MC(r){var o=g.isInteger(Number(r)),a=o?null:g.wildcardToRegExp(r);return function(u,c){return o?String(c)==r:a.test(u.name||"")}}function _U(r){return r.reduce(function(o,a){return o+a.layers.length},0)}function bU(r,o){var a=0;o.name;var u;return r.getLayers().forEach(function(c,d){o.name&&c.layer.name==o.name&&a++,o==c.layer&&(u=String(d+1))}),u||te("Layer not found"),a==1?o.name:u}var wU=Object.freeze({__proto__:null,expandCommandTargets:kC,findCommandTargets:FC,groupLayersByDataset:IC,findMatchingLayers:jy,getLayerMatch:MC,countTargetLayers:_U,getLayerTargetId:bU});function xU(r,o){var a={},u=r.data?r.data.getRecords():null,c={name:r.name,data:u,type:r.geometry_type,size:pr(r),empty:pr(r)===0,bbox:SU(a,r,o)};return Hl(a,c),a.field_exists=function(d){return!!(r.data&&r.data.fieldExists(d))},a.field_type=function(d){return r.data&&ph(d,r.data.getRecords())||null},a.field_includes=function(d,v){return r.data?r.data.getRecords().some(function(_){return _&&_[d]===v}):!1},a}function DC(r,o,a){var u;return Hl(r,{layer_name:o.name||"",layer:function(){return u||(u=xU(o,a)),u}}),r}function SU(r,o,a){var u;return function(){return u||(u=CU(o,a)),u}}function CU(r,o){var a=Ui(r,o);if(!a)return null;var u=a.toArray();return Object.assign(u,{cx:a.centerX(),cy:a.centerY(),height:a.height(),width:a.width(),left:a.xmin,bottom:a.ymin,top:a.ymax,right:a.xmax}),u}function TC(r,o,a){var u=a||{},c=Ia(r),d=o&&ar(r),v=r.data?r.data.getRecords():null,_=d&&o.isPlanar(),x={},E,k,F,B,V,G,H;Hl(x,{id:function(){return H}}),DC(x,r,o),u.geojson_editor&&(Object.defineProperty(x,"geojson",{set:function(N){u.geojson_editor.set(N,H)},get:function(){return u.geojson_editor.get(H)}}),Object.defineProperty(x,"feature",{set:function(N){u.geojson_editor.set(N,H)},get:function(){return u.geojson_editor.get(H)}}),Object.defineProperty(x,"geometry",{set:function(N){u.geojson_editor.setGeometry(N,H)},get:function(){return u.geojson_editor.getGeometry(H)}})),v&&Object.defineProperty(x,"properties",{set:function(N){g.isObject(N)?v[H]=N:ee("Can't assign non-object to $.properties")},get:function(){var N=v[H];return N||(N=v[H]={}),N}}),(d||c)&&Hl(x,{partCount:function(){var N=r.shapes[H];return N?N.length:0},isNull:function(){return x.partCount===0},bounds:function(){return me().toArray()},bbox:function(){return me().toArray()},height:function(){return me().height()},width:function(){return me().width()}}),d?(x.bboxContainsPoint=function(N,Z){var re=o.getMultiShapeBounds(G);return re.containsPoint(N,Z)},x.bboxIntersectsRectangle=function(N,Z,re,_e){var Ie=o.getMultiShapeBounds(G),qe=Bt.from(N,Z,re,_e);return qe.intersects(Ie)},x.bboxContainsRectangle=function(N,Z,re,_e){var Ie=o.getMultiShapeBounds(G),qe=Bt.from(N,Z,re,_e);return Ie.contains(qe)},x.bboxContainedByRectangle=function(N,Z,re,_e){var Ie=o.getMultiShapeBounds(G),qe=Bt.from(N,Z,re,_e);return qe.contains(Ie)},r.geometry_type=="polyline"&&Hl(x,{length:function(){return dt.getShapePerimeter(G,o)}}),r.geometry_type=="polygon"&&Hl(x,{area:function(){return _?x.planarArea:dt.getSphericalShapeArea(G,o)},perimeter:function(){return dt.getShapePerimeter(G,o)},compactness:function(){return dt.calcPolsbyPopperCompactness(x.area,x.perimeter)},planarArea:function(){return dt.getPlanarShapeArea(G,o)},innerPct:function(){return E||(E=mU(o,r.shapes)),E(G)},originalArea:function(){var N=o.getRetainedInterval(),Z;return o.setRetainedInterval(0),Z=x.area,o.setRetainedInterval(N),Z},centroidX:function(){var N=ue();return N?N.x:null},centroidY:function(){var N=ue();return N?N.y:null},innerX:function(){var N=se();return N?N.x:null},innerY:function(){var N=se();return N?N.y:null}})):c&&(Object.defineProperty(x,"coordinates",{set:function(N){!N||g.isArray(N)?r.shapes[H]=N||null:ee("Can't assign non-array to $.coordinates")},get:function(){return r.shapes[H]||null}}),Object.defineProperty(x,"x",{get:function(){return J(),V?V[0]:null},set:function(N){J(),V&&(V[0]=Number(N))}}),Object.defineProperty(x,"y",{get:function(){return J(),V?V[1]:null},set:function(N){J(),V&&(V[1]=Number(N))}}));function J(){var N=r.shapes[H];V||(V=N&&N[0]||null)}function ue(){return F=F||dt.getShapeCentroid(G,o),F}function se(){return B=B||CC(G,o),B}function me(){return k||(d?k=o.getMultiShapeBounds(G):c?k=Ym(r.shapes[H]):k=new Bt,k)}return function(N){return H=N,k=null,d&&(F=null,B=null,G=r.shapes[N]),c&&(V=null),x}}function dp(r,o,a){var u=a||{},c=o||$y(),d=PC(r,u),v=qy(r),_=!u.no_assign&&v.length>0;return u.no_assign&&pp(v,c),c._=c,function(x){var E=c.$||null,k;_&&pp(v,x);try{k=d.call(E,x,c)}catch(F){ee(F.name,"in expression ["+r+"]:",F.message)}return k}}function PC(r,o){var a;r=EU(r),o.no_return?a=r:a="var $$retn = "+r+"; return $$retn;",a="with($$env){with($$record){ "+a+"}}";try{return new Function("$$record,$$env",a)}catch(u){ee(u.name,"in expression ["+r+"]")}}function qy(r,o){var a=/[a-z_$][.a-z0-9_$]*(?= *=[^>=])/ig,u=r.match(a)||[],c=function(v){var _=v.indexOf(".");return o?_>-1:_==-1},d=g.uniq(u.filter(c));return d}function $y(r){return r=r||{},r.globalThis=void 0,function(){for(var o in this)r[o]=void 0}(),r.console=console,r}function pp(r,o){for(var a=0;a<r.length;a++)r[a]in o||(o[r[a]]=null)}function EU(r){return r.replace(/\\\n/g," ")}var AU=Object.freeze({__proto__:null,getExpressionFunction:dp,compileExpressionToFunction:PC,getAssignedVars:qy,getBaseContext:$y,nullifyUnsetProperties:pp});function Jo(r,o,a,u){var c=u||{},d=qy(r);d.length>0&&!o.data&&ip(o);var v=o.data?o.data.getRecords():[],_=TC(o,a,c),x=DC({},o,a),E=BC(o,c.context||{},c),k=dp(r,E,c);return function(F,B){var V=B||v[F]||(v[F]={});return E.$=F>=0?_(F):x,E.d=V,k(V)}}function RC(r,o,a){var u=Uy(r,o,a);return function(c,d){var v=u(c,d);return Ny(v,'"where" expression must return true or false'),v}}function Uy(r,o,a){var u=BC({}),c=_(o,a),d=_(o,a),v=dp(r,u,{});function _(x,E){var k=x.data?x.data.getRecords():[],F=TC(x,E);function B(){}return function(V){var G;return V==-1?null:(B.prototype=k[V]||{},G=new B,G.$=F(V),G)}}return function(x,E,k){return u.A=c(x),u.B=d(E),v(k||{})}}function BC(r,o,a){var u=T("defs"),c=$y(),d={},v=r.data?r.data.getFields():[];return a=a||{},oU(c),v.length>0&&pp(v,c),o=g.defaults(o||{},u),c.global=u,Object.keys(o).forEach(function(_){var x=Object.getOwnPropertyDescriptor(o,_);x.get?Object.defineProperty(d,_,{get:x.get}):Object.defineProperty(d,_,{value:o[_]})}),Object.keys(c).reduce(function(_,x){return x in _?a.no_warn||(typeof _[x]=="function"&&v.indexOf(x)>-1?he("Warning: "+x+"() function is hiding a data field with the same name"):he('Warning: "'+x+'" has multiple definitions')):Object.defineProperty(_,x,{value:c[x]}),_},d)}var kU=Object.freeze({__proto__:null,compileFeatureExpression:Jo,compileFeaturePairFilterExpression:RC,compileFeaturePairExpression:Uy}),FU={m:"meters",meter:"meters",meters:"meters",mi:"miles",mile:"miles",miles:"miles",km:"kilometers",ft:"feet",feet:"feet"},IU={meters:1,kilometers:1e3,feet:.3048,miles:1609.344};function OC(r){var o=String(r),a=parseFloat(o),u=/px|pix/.test(o)&&"px"||/pt|point/.test(o)&&"pt"||/in/.test(o)&&"in"||/cm/.test(o)&&"cm"||!isNaN(+o)&&"px"||null,c=u=="in"&&a*72||u=="cm"&&Math.round(a*28.3465)||a;return(!(c>=0)||!u)&&ee("Invalid size:",o),c}function gp(r,o){var a=0,u=0,c;return o&&(o.is_latlong?u=1:o.to_meter>0?u=o.to_meter:te("Invalid CRS")),r&&(a=IU[r],a||te("Unknown units:",r)),a&&u?c=a/u:!a&&!u?c=1:a&&!u?ee("Unable to convert",r,"to unknown coordinates"):!a&&u&&(c=1/u),c}function Vl(r){var o=LC(r);return isNaN(o.value)&&ee("Invalid parameter:",r),o}function LC(r){var o=g.isString(r)?r:"",a=/(sq|)([a-z]+)(2|)$/i.exec(o),u={};return g.isNumber(r)?u.value=r:o===""?u.value=NaN:a?(u.units=FU[a[2].toLowerCase()],u.areal=!!(a[1]||a[3]),u.value=Number(o.substring(0,o.length-a[0].length)),!u.units&&!isNaN(u.value)&&ee("Unknown units: "+a[0])):u.value=Number(o),u}function zC(r,o){var a=Vl(r),u=gp(a.units,o);return a.value*u*u}function Gy(r,o){var a=Vl(r),u=gp(a.units,o);return a.areal&&ee("Expected a distance, received an area:",r),a.value*u}function os(r,o){var a=Vl(r),u=gp(a.units,o);return a.units&&o&&o.is_latlong&&ee("Parameter does not support distance units with latlong datasets"),a.areal&&ee("Expected a distance, received an area:",r),a.value*u}function NC(r,o){var a,u;return(!Array.isArray(r)||r.length!=2)&&ee("Expected two distance parameters, received",r),a=Vl(r[0]),u=Vl(r[1]),(a.units&&!u.units||u.units&&!a.units)&&ee("Both parameters should have units:",r),[os(r[0],o),os(r[1],o)]}function jC(r,o,a){var u=r.includes(",")?r.split(","):r.split(" ");return u.length==1?u=[u[0],u[0],u[0],u[0]]:u.length!=4&&ee("Expected a distance parameter or a list of four params"),u.map(function(c,d){var v;return c.indexOf("%")>0?(v=parseFloat(c)/100||0,v*(d==1||d==3?a.height():a.width())):os(c,o)})}function qC(r,o){var a=o&&o.to_meter?r*o.to_meter*o.to_meter:r,u=a/1e6;return u<.01?Math.round(a)+" sqm":u+" sqkm"}var MU=Object.freeze({__proto__:null,parseSizeParam:OC,getIntervalConversionFactor:gp,parseMeasure:Vl,parseMeasure2:LC,convertAreaParam:zC,convertDistanceParam:Gy,convertIntervalParam:os,convertIntervalPair:NC,convertFourSides:jC,getAreaLabel:qC}),$C={};function UC(r){var o=GC(r);return!!o&&o in $C}function GC(r){var o=r.data&&r.data.getReadOnlyRecordAt(0);return o&&o.type||null}function DU(r){return r.data&&r.data.getReadOnlyRecordAt(0)}function TU(r,o){var a=DU(r),u=$C[a.type];return u||ee("Missing renderer for",a.type,"element"),o.crs||ee(`Unable to render ${a.type} (unknown map projection)`),rC(o.crs)||ee(`Unable to render ${a.type} (map is unprojected)`),u(a,o)||[]}function Hy(r,o){var a=OU(r),u;return a?u=PU(a,r.arcs):u=HC(r,o),u.invert_y=!!o.invert_y,u.crs=gr(r),u}function Vy(r,o){var a=new Bt(o.bbox),u=o.bbox2?new Bt(o.bbox2):new Bt(0,0,o.width,o.height);a.fillOut(u.width()/u.height());var c=a.getTransform(u,o.invert_y);ap(r,function(d,v){return c.transform(d,v)})}function PU(r,o){var a=Ui(r,o),u=r.data.getReadOnlyRecordAt(0),c=u.width||800,d=Math.round(c*a.height()/a.width());return{type:"frame",width:c,height:d,bbox:a.toArray()}}function HC(r,o){var a,u;return o.svg_bbox?(a=new Bt(o.svg_bbox),o=Object.assign({margin:0},o)):a=$l(r),u=LU(a,o),{bbox:a.toArray(),bbox2:u.toArray(),width:Math.round(u.width()),height:Math.round(u.height())||1,type:"frame"}}function RU(r,o){var a=r.width()/r.height(),u,c;return o.pixels?c=Math.sqrt(+o.pixels*a):c=+o.width,u=c/a,[Math.round(c),Math.round(u)]}function BU(r,o){return GC(r)=="frame"&&ep(r,o)}function OU(r){return g.find(r.layers,function(o){return BU(o,r.arcs)})}function LU(r,o){var a=0,u=0,c=0,d=0,v=r.width(),_=r.height(),x=zU(o.margin),E=x[0]+x[2],k=x[1]+x[3],F=.5,B=.5,V,G,H,J,ue;return o.fit_bbox?(c=o.fit_bbox[0],d=o.fit_bbox[1],V=o.fit_bbox[2]-c,G=o.fit_bbox[3]-d,E=k=0):o.svg_scale>0?(V=v/o.svg_scale+E,G=0):+o.pixels?(H=RU(r,o),V=H[0],G=H[1]):(G=o.height||0,V=o.width||(G>0?0:800)),G>0&&(ue=(_||v||1)/(G-k)),V>0&&(J=(v||_||1)/(V-E)),V?G||(ue=J,G=_>0?k+_/ue:V,o.max_height>0&&G>o.max_height&&(ue=J*G/o.max_height,G=o.max_height)):(J=ue,V=v>0?E+v/J:G),J>ue?(ue=J,u=ue*(G-k)-_):ue>J&&(J=ue,a=J*(V-E)-v),r.padBounds(x[0]*J+a*F,x[1]*ue+u*B,x[2]*J+a*(1-F),x[3]*ue+u*(1-B)),V>0&&G>0||te("Missing valid height and width parameters"),J===ue&&J>0||te("Missing valid margin parameters"),new Bt(c,d,V+c,G+d)}function zU(r){var o=g.isNumber(r)?String(r):r||"",a=o.trim().split(/[, ] */);return a.length==1&&a.push(a[0]),a.length==2&&a.push(a[0],a[1]),a.length==3&&a.push(a[2]),a.map(function(u){var c=parseFloat(u);return isNaN(c)?0:c})}b.affine=function(r,o,a){var u=a.rotate||0,c=a.scale||1,d=a.shift?NC(a.shift,gr(o)):[0,0],v=o.arcs,_=[],x=[],E=[],k,F,B;o.layers.filter(xu).forEach(function(G){var H=[],J=[],ue;r.indexOf(G)==-1?J=G.shapes:a.where?(ue=Jo(a.where,G,o.arcs),G.shapes.forEach(function(se,me){(ue(me)?H:J).push(se)})):H=G.shapes,G.geometry_type=="point"?E=E.concat(H):(_=_.concat(H),x=x.concat(J))});var V=NU({arcs:o.arcs,layers:[{geometry_type:"point",shapes:E},{geometry_type:"polyline",shapes:_}]},a);B=jU(u,c,d,V),a.fit_bbox&&(B=qU(a.fit_bbox,E,_,v)),_.length>0&&(k=new Uint8Array(v.size()),F=new Uint8Array(v.size()),Ll(_,k),x.length>0&&(Ll(x,F),$U(F,k),o.arcs=UU(x,v,F)),o.arcs.transformPoints(function(G,H,J){if(J<k.length&&k[J]>0)return B(G,H)})),Wo(E,function(G){var H=B(G[0],G[1]);G[0]=H[0],G[1]=H[1]})};function NU(r,o){var a,u;return o.anchor?a=o.anchor:(u=$l(r),a=[u.centerX(),u.centerY()]),a}function jU(r,o,a,u){var c=r*Math.PI/180,d=o*Math.cos(c),v=-o*Math.sin(c);return function(_,x){var E=d*(_-u[0])-v*(x-u[1])+a[0]+u[0],k=v*(_-u[0])+d*(x-u[1])+a[1]+u[1];return[E,k]}}function qU(r,o,a,u){var c={arcs:u,info:{},layers:[]};o&&o.length&&c.layers.push({geometry_type:"point",shapes:o}),a&&a.length&&c.layers.push({geometry_type:"polyline",shapes:a});var d=HC(c,{fit_bbox:r}),v=new Bt(d.bbox),_=new Bt(d.bbox2),x=v.getTransform(_,!1);return function(E,k){return x.transform(E,k)}}function $U(r,o){for(var a=0,u=r.length;a<u;a++)o[a]===0&&(r[a]=0)}function UU(r,o,a){for(var u=0,c=0,d=o.getVertexData(),v=[],_=[],x=[],E=[],k,F=0,B=a.length;F<B;F++)a[F]>0&&(E[F]=o.size()+u,k=d.nn[F],g.copyElements(d.xx,d.ii[F],v,c,k),g.copyElements(d.yy,d.ii[F],_,c,k),x.push(k),c+=k,u++);return vi(r,function(V){var G=wn(V);if(a[G]>0)return V<0?~E[G]:E[G]}),Fy([o,new ki(x,v,_)])}var VC=yh(.01);function _h(r){return" "+VC(r[0])+" "+VC(r[1])}function GU(r){return r.length>2&&r[2]=="C"}function WC(r){for(var o=[],a=0;a<r.length;a++)o.push(vp(r[a])+" Z");return o.length>0?o.join(" "):""}function vp(r){if(r.length===0)return"";var o="M",a=!1,u,c,d;for(c=0,d=r.length;c<d;c++)u=r[c],GU(u)?(o+=" C"+_h(u)+_h(r[++c])+_h(r[++c]),a=!0):a?(o+=" L"+_h(u),a=!1):o+=_h(u);return o}var HU=Object.freeze({__proto__:null,stringifyPolygonCoords:WC,stringifyLineStringCoords:vp}),Wt={};Wt.ID_FIELD="FID",Wt.typeLookup={LineString:"polyline",MultiLineString:"polyline",Polygon:"polygon",MultiPolygon:"polygon",Point:"point",MultiPoint:"point"},Wt.translateGeoJSONType=function(r){return Wt.typeLookup[r]||null},Wt.pathIsRing=function(r){var o=r[0],a=r[r.length-1];return r.length>=4&&o[0]==a[0]&&o[1]==a[1]},Wt.toFeature=function(r,o){var a=r?r.type:null,u;return a=="Feature"?u=r:a in Wt.typeLookup?u={type:"Feature",geometry:r,properties:o||null}:u={type:"Feature",geometry:null,properties:o||null},u};class VU{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(o,a){let u=this.length++;for(this.ids[u]=o,this.values[u]=a;u>0;){const c=u-1>>1,d=this.values[c];if(a>=d)break;this.ids[u]=this.ids[c],this.values[u]=d,u=c}this.ids[u]=o,this.values[u]=a}pop(){if(this.length===0)return;const o=this.ids[0];if(this.length--,this.length>0){const a=this.ids[0]=this.ids[this.length],u=this.values[0]=this.values[this.length],c=this.length>>1;let d=0;for(;d<c;){let v=(d<<1)+1;const _=v+1;let x=this.ids[v],E=this.values[v];const k=this.values[_];if(_<this.length&&k<E&&(v=_,x=this.ids[_],E=k),E>=u)break;this.ids[d]=x,this.values[d]=E,d=v}this.ids[d]=a,this.values[d]=u}return o}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}}const YC=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Wy=3;class Yy{static from(o){if(!(o instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[a,u]=new Uint8Array(o,0,2);if(a!==251)throw new Error("Data does not appear to be in a Flatbush format.");if(u>>4!==Wy)throw new Error(`Got v${u>>4} data when expected v${Wy}.`);const[c]=new Uint16Array(o,2,1),[d]=new Uint32Array(o,4,1);return new Yy(d,c,YC[u&15],o)}constructor(o,a=16,u=Float64Array,c){if(o===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(o)||o<=0)throw new Error(`Unpexpected numItems value: ${o}.`);this.numItems=+o,this.nodeSize=Math.min(Math.max(+a,2),65535);let d=o,v=d;this._levelBounds=[d*4];do d=Math.ceil(d/this.nodeSize),v+=d,this._levelBounds.push(v*4);while(d!==1);this.ArrayType=u||Float64Array,this.IndexArrayType=v<16384?Uint16Array:Uint32Array;const _=YC.indexOf(this.ArrayType),x=v*4*this.ArrayType.BYTES_PER_ELEMENT;if(_<0)throw new Error(`Unexpected typed array class: ${u}.`);c&&c instanceof ArrayBuffer?(this.data=c,this._boxes=new this.ArrayType(this.data,8,v*4),this._indices=new this.IndexArrayType(this.data,8+x,v),this._pos=v*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new ArrayBuffer(8+x+v*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,v*4),this._indices=new this.IndexArrayType(this.data,8+x,v),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(Wy<<4)+_]),new Uint16Array(this.data,2,1)[0]=a,new Uint32Array(this.data,4,1)[0]=o),this._queue=new VU}add(o,a,u,c){const d=this._pos>>2;return this._indices[d]=d,this._boxes[this._pos++]=o,this._boxes[this._pos++]=a,this._boxes[this._pos++]=u,this._boxes[this._pos++]=c,o<this.minX&&(this.minX=o),a<this.minY&&(this.minY=a),u>this.maxX&&(this.maxX=u),c>this.maxY&&(this.maxY=c),d}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);if(this.numItems<=this.nodeSize){this._boxes[this._pos++]=this.minX,this._boxes[this._pos++]=this.minY,this._boxes[this._pos++]=this.maxX,this._boxes[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,a=this.maxY-this.minY||1,u=new Uint32Array(this.numItems),c=65535;for(let d=0;d<this.numItems;d++){let v=4*d;const _=this._boxes[v++],x=this._boxes[v++],E=this._boxes[v++],k=this._boxes[v++],F=Math.floor(c*((_+E)/2-this.minX)/o),B=Math.floor(c*((x+k)/2-this.minY)/a);u[d]=YU(F,B)}Xy(u,this._boxes,this._indices,0,this.numItems-1,this.nodeSize);for(let d=0,v=0;d<this._levelBounds.length-1;d++){const _=this._levelBounds[d];for(;v<_;){const x=v;let E=1/0,k=1/0,F=-1/0,B=-1/0;for(let V=0;V<this.nodeSize&&v<_;V++)E=Math.min(E,this._boxes[v++]),k=Math.min(k,this._boxes[v++]),F=Math.max(F,this._boxes[v++]),B=Math.max(B,this._boxes[v++]);this._indices[this._pos>>2]=x,this._boxes[this._pos++]=E,this._boxes[this._pos++]=k,this._boxes[this._pos++]=F,this._boxes[this._pos++]=B}}}search(o,a,u,c,d){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let v=this._boxes.length-4;const _=[],x=[];for(;v!==void 0;){const E=Math.min(v+this.nodeSize*4,KC(v,this._levelBounds));for(let k=v;k<E;k+=4){const F=this._indices[k>>2]|0;u<this._boxes[k]||c<this._boxes[k+1]||o>this._boxes[k+2]||a>this._boxes[k+3]||(v<this.numItems*4?(d===void 0||d(F))&&x.push(F):_.push(F))}v=_.pop()}return x}neighbors(o,a,u=1/0,c=1/0,d){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let v=this._boxes.length-4;const _=this._queue,x=[],E=c*c;for(;v!==void 0;){const k=Math.min(v+this.nodeSize*4,KC(v,this._levelBounds));for(let F=v;F<k;F+=4){const B=this._indices[F>>2]|0,V=XC(o,this._boxes[F],this._boxes[F+2]),G=XC(a,this._boxes[F+1],this._boxes[F+3]),H=V*V+G*G;v<this.numItems*4?(d===void 0||d(B))&&_.push((B<<1)+1,H):_.push(B<<1,H)}for(;_.length&&_.peek()&1;)if(_.peekValue()>E||(x.push(_.pop()>>1),x.length===u))return _.clear(),x;v=_.pop()>>1}return _.clear(),x}}function XC(r,o,a){return r<o?o-r:r<=a?0:r-a}function KC(r,o){let a=0,u=o.length-1;for(;a<u;){const c=a+u>>1;o[c]>r?u=c:a=c+1}return o[a]}function Xy(r,o,a,u,c,d){if(Math.floor(u/d)>=Math.floor(c/d))return;const v=r[u+c>>1];let _=u-1,x=c+1;for(;;){do _++;while(r[_]<v);do x--;while(r[x]>v);if(_>=x)break;WU(r,o,a,_,x)}Xy(r,o,a,u,x,d),Xy(r,o,a,x+1,c,d)}function WU(r,o,a,u,c){const d=r[u];r[u]=r[c],r[c]=d;const v=4*u,_=4*c,x=o[v],E=o[v+1],k=o[v+2],F=o[v+3];o[v]=o[_],o[v+1]=o[_+1],o[v+2]=o[_+2],o[v+3]=o[_+3],o[_]=x,o[_+1]=E,o[_+2]=k,o[_+3]=F;const B=a[u];a[u]=a[c],a[c]=B}function YU(r,o){let a=r^o,u=65535^a,c=65535^(r|o),d=r&(o^65535),v=a|u>>1,_=a>>1^a,x=c>>1^u&d>>1^c,E=a&c>>1^d>>1^d;a=v,u=_,c=x,d=E,v=a&a>>2^u&u>>2,_=a&u>>2^u&(a^u)>>2,x^=a&c>>2^u&d>>2,E^=u&c>>2^(a^u)&d>>2,a=v,u=_,c=x,d=E,v=a&a>>4^u&u>>4,_=a&u>>4^u&(a^u)>>4,x^=a&c>>4^u&d>>4,E^=u&c>>4^(a^u)&d>>4,a=v,u=_,c=x,d=E,x^=a&c>>8^u&d>>8,E^=u&c>>8^(a^u)&d>>8,a=x^x>>1,u=E^E>>1;let k=r^o,F=u|65535^(k|a);return k=(k|k<<8)&16711935,k=(k|k<<4)&252645135,k=(k|k<<2)&858993459,k=(k|k<<1)&1431655765,F=(F|F<<8)&16711935,F=(F|F<<4)&252645135,F=(F|F<<2)&858993459,F=(F|F<<1)&1431655765,(F<<1|k)>>>0}function ZC(r){var o;if(!r.length)return function(){return[]};o=new Yy(r.length),r.forEach(function(u){var c=u.bounds;o.add(c.xmin,c.ymin,c.xmax,c.ymax)}),o.finish();function a(u){return r[u]}return function(u,c,d,v){return o.search(u,c,d,v).map(a)}}function Ky(r,o,a){var u=o.getVertexData(),c=o.getMultiShapeBounds(r),d,v,_,x,E,k;G(),this.pointInPolygon=function(H,J){if(!c.containsPoint(H,J))return!1;var ue=B(H),se=F(H,J,ue);return ue>0&&(se+=F(H,J,ue-1)),se+=F(H,J,x),isNaN(se)?-1:se%2==1?1:0};function F(H,J,ue){var se=E[ue],me=0,N=u.xx,Z=u.yy,re,_e,Ie;ue==x?re=v.length-se:re=E[ue+1]-se;for(var qe=0;qe<re;qe++)_e=v[qe+se],Ie=_[qe+se],me+=dt.testRayIntersection(H,J,N[_e],Z[_e],N[Ie],Z[Ie]);return me}function B(H){var J=Math.floor((H-d)/k);return J<0&&(J=0),J>=x&&(J=x-1),J}function V(H){var J=Math.pow(H,.75)/10;return Math.ceil(J)}function G(){var H=u.xx,J=0,ue=0,se=-1,me,N,Z,re,_e,Ie,qe,De,ve,It;for(jm(r,o,function(){J++}),N=new Uint32Array(J*2),qe=0,jm(r,o,function(kt,ct,Tt,$t){N[qe++]=kt,N[qe++]=ct}),sC(H,N),v=new Uint32Array(J),_=new Uint32Array(J),x=V(J),E=new Uint32Array(x+1),d=H[N[0]],k=(H[N[N.length-2]]-d)/x,Z=0,re=J-1;ue<J;){for(De=ue*2,_e=N[De],Ie=N[De+1],ve=H[_e],It=H[Ie],me=se,se=B(ve);se>me;)me++,E[me]=Z;It-ve>=0||te("Invalid segment"),B(It)-se>1?(v[re]=_e,_[re]=Ie,re--):(v[Z]=_e,_[Z]=Ie,Z++),ue++}E[x]=Z,Z!=re+1&&te("Segment indexing error")}}function as(r,o){var a=ZC(c(r,o)),u=Nm(r,o).area();function c(F,B){var V=[];return F.forEach(function(G,H){for(var J=G?G.length:0,ue=0;ue<J;ue++)V.push({ids:G[ue],id:H,bounds:B.getSimpleShapeBounds(G[ue])})}),V}this.findEnclosingShapes=function(F){var B=[],V=x(F),G=_(V);return G.forEach(function(H){v(F,H)&&B.push(H[0].id)}),B},this.findEnclosingShape=function(F){var B=-1,V=_(x(F));return V.forEach(function(G){v(F,G)&&(B=G[0].id)}),B},this.findShapesEnclosingArc=function(F){var B=E([F]);return this.findEnclosingShapes(B)},this.findPointEnclosureCandidates=function(F,B){var V=x(F,B);return g.pluck(V,"id")},this.pointIsEnclosed=function(F){return v(F,x(F))},this.findSmallestEnclosingPolygon=function(F){var B=o.getSimpleShapeBounds(F),V=E(F),G,H=x(V);return H.forEach(function(J){J.bounds.contains(B)&&!J.bounds.sameBounds(B)&&!(G&&G.bounds.area()<J.bounds.area())&&d(V,J)&&(G=J)}),G?G.id:-1},this.arcIsEnclosed=function(F){return this.pointIsEnclosed(E([F]))},this.pathIsEnclosed=function(F){return this.pointIsEnclosed(E(F))},this.findEnclosedPaths=function(F){var B=o.getSimpleShapeBounds(F),V=a(B.xmin,B.ymin,B.xmax,B.ymax),G=[],H;return V.length>6&&(H=new Ky([F],o)),V.forEach(function(J){var ue=E(J.ids),se=B.containsPoint(ue[0],ue[1])&&B.contains(J.bounds)&&(H?H.pointInPolygon(ue[0],ue[1]):dt.testPointInRing(ue[0],ue[1],F,o));se&&G.push(J.ids)}),G.length>0?G:null},this.findPathsInsideShape=function(F){var B=[];return F.forEach(function(V){var G=this.findEnclosedPaths(V);G&&(B=k(B,G))},this),B.length>0?B:null};function d(F,B){return B.bounds.containsPoint(F[0],F[1])?(!B.index&&B.bounds.area()>u*.01&&(B.index=new Ky([B.ids],o)),B.index?B.index.pointInPolygon(F[0],F[1]):dt.testPointInRing(F[0],F[1],B.ids,o)):!1}function v(F,B){var V=!1,G=!1;return B.forEach(function(H){var J=d(F,H);J==-1?V=!0:J==1&&(G=!G)}),V||G}function _(F){var B=[],V,G;if(F.length>0){F.sort(function(J,ue){return J.id-ue.id});for(var H=0;H<F.length;H++)G=F[H],(H===0||G.id!=F[H-1].id)&&B.push(V=[]),V.push(G)}return B}function x(F,B){var V=B>0?B:0;return F[0],F[1],a(F[0]-V,F[1]-V,F[0]+V,F[1]+V)}function E(F){var B=F[0],V=o.getVertex(B,0),G=o.getVertex(B,1);return[(V.x+G.x)/2,(V.y+G.y)/2]}function k(F,B){var V=[],G;for(G=0;G<F.length;G++)B.indexOf(F[G])==-1&&V.push(F[G]);for(G=0;G<B.length;G++)F.indexOf(B[G])==-1&&V.push(B[G]);return V}}function XU(r,o){if(r.length<=1)return r;var a=lh(r,o,"polygon"),u=r.map(function(v){return[v]}),c=new as(u,o);return r.filter(d);function d(v,_){var x=c.findSmallestEnclosingPolygon(v),E,k,F=!0;return x>-1&&(E=a[_].area>0,k=a[x].area>0,k==E&&(F=!1)),F}}function KU(r,o){r.shapes=r.shapes.map(function(a){return a?ZU(a,o):null})}function ZU(r,o){var a=lh(r,o,"polygon");return a.sort(function(u,c){return Math.abs(c.area)-Math.abs(u.area)}),a.forEach(function(u,c){for(var d=!0,v=c,_;--v>=0;)if(_=a[v],JC(u,_,o)){d=!(_.area>0);break}JU(u,d)}),a.map(function(u){return u.ids})}function JU(r,o){var a=r.area>0;a!=o&&(r.area=-r.area,Kr(r.ids))}function JC(r,o,a){if(o.bounds.contains(r.bounds)===!1)return!1;var u=QU(r.ids[0],a);return dt.testPointInRing(u.x,u.y,o.ids,a)==1}function QU(r,o){var a=o.getVertex(r,0),u=o.getVertex(r,1);return{x:(a.x+u.x)/2,y:(a.y+u.y)/2}}function QC(r,o,a){var u=[],c=[],d=a?-1:1,v;return(r||[]).forEach(function(_){_.area*d>0?c.push([_]):_.area*d<0&&u.push(_)}),u.length===0||(v=ZC(c.map(function(_,x){return{bounds:_[0].bounds,idx:x}})),u.forEach(function(_){for(var x=-1,E=0,k=_.area*-d,F=_.bounds,B=v(F.xmin,F.ymin,F.xmax,F.ymax),V,G,H,J,ue=0,se=B.length;ue<se;ue++)G=B[ue].idx,V=c[G][0],H=V.area*d,J=V.bounds.contains(_.bounds)&&H>k,!(J&&B.length>1&&!JC(_,V,o))&&J&&(E===0||H<E)&&(E=H,x=G);x==-1?Se():c[x].push(_)})),c}function e5(r){var o,a;return!r||r.length===0?o={partCount:0,pointCount:0}:(a={points:r,pointCount:r.length,bounds:dt.getPathBounds(r)},o={bounds:a.bounds,pathData:[a],partCount:1,pointCount:a.pointCount}),o}function mp(r,o,a){if(a=="point")return e5(r);var u=0,c=new Bt,d=[];return r&&(a=="polyline"||a=="polygon")&&r.forEach(function(v,_){var x=o.getShapeIter(v),E=eG(x),k=!0;E.ids=v,a=="polygon"?(E.area=dt.getPlanarPathArea2(E.points),k=E.pointCount>3&&E.area!==0):a=="polyline"&&(k=E.pointCount>1),k?(u+=E.pointCount,E.bounds=dt.getPathBounds(E.points),c.mergeBounds(E.bounds),d.push(E)):oe("Skipping a collapsed",a,"path")}),{pointCount:u,pathData:d,pathCount:d.length,bounds:c}}function eG(r){for(var o=[],a=0,u,c,d,v;r.hasNext();)u=r.x,c=r.y,(a===0||d!=u||v!=c)&&(o.push([u,c]),a++),d=u,v=c;return{points:o,pointCount:o.length}}var tG=Object.freeze({__proto__:null,exportPointData:e5,exportPathData:mp});function Zy(r){var o=JSON.stringify(r);return o.replace(/\n/g,`
`).replace(/\r/g,"\r")}function yp(r){var o=g.arrayToIndex(r),a="",u=new RegExp('"'+a+"|"+a+'"',"g"),c="  ";function d(v,_){if(v in o&&g.isArray(_)){var x=JSON.stringify(_);if(x.indexOf('"'==-1))return a+x.replace(/,/g,", ")+a}return _}return function(v){var _=JSON.stringify(v,d,c);return _.replace(u,"")}}var nG=Object.freeze({__proto__:null,stringifyAsNDJSON:Zy,getFormattedStringify:yp});function t5(r,o){return o.getArcLength(r)>1}function n5(r,o,a){var u=o.arcs,c=u.getVertexData(),d=c.xx,v=c.yy,_=o.getConnectedArcs(r),x=r;if(a&&(_=_.filter(a)),!t5(r,u)||_.length===0)return r;var E=u.indexOfVertex(r,-1),k=d[E],F=v[E],B=u.indexOfVertex(r,-2),V=d[B],G=v[B],H,J,ue,se,me;for(me=0;me<_.length;me++)if(J=_[me],!!t5(J,u)){if(ue=u.indexOfVertex(J,-2),x==r){H=ue,x=J;continue}se=rG(V,G,k,F,d[H],v[H],d[ue],v[ue]),se==2&&(H=ue,x=J)}return x==r&&te("Pathfinder error"),x}function rG(r,o,a,u,c,d,v,_){var x=dt.signedAngle(r,o,a,u,c,d),E=dt.signedAngle(r,o,a,u,v,_),k;return x<=0||E<=0?(Se(),x<=0&&Se("  A orient2D:",dt.orient2D(r,o,a,u,c,d)),E<=0&&Se("  B orient2D:",dt.orient2D(r,o,a,u,v,_)),x>0?k=1:E>0?k=2:k=0):x<E?k=1:E<x?k=2:isNaN(x)||isNaN(E)?te("Invalid node geometry"):(k=r5(c-a,d-u,v-a,_-u),Se()),k}function r5(r,o,a,u){var c=dt.orient2D(r,o,0,0,a,u),d;return c>0?d=2:c<0?d=1:d=0,d}var iG=Object.freeze({__proto__:null,getRightmostArc:n5,chooseRighthandVector:r5}),oG=8,aG=128;function Jy(r,o,a){return r&~a|o&a}function sG(r,o,a){return r&(~a|o)}function i5(r,o,a){var u=wn(o),c;u==o?c=-4:(c=-49,r=r<<4),a[u]&=r|c}function Qy(r,o){var a=wn(r),u=o[a];return a!=r&&(u=u>>4),u&7}function o5(r,o){vi(r,function(a){a<0?o[~a]|=aG:o[a]|=oG})}function bh(r,o,a,u,c,d,v){vi(r,function(_){var x=_<0,E=x?~_:_,k=a[E],F=x?c:u,B=x?u:c,V=k;o.arcIsLollipop(_)?(Se(),V=0):(F&&(V|=3),B&&(V|=48),v>0&&(V|=v),d&&(V&34)===34&&(V&=-18)),a[E]=V})}function wh(r,o,a,u,c,d){vi(r,function(v){var _=v<0,x=_?~v:v,E=a[x],k=255,F=_?c:u,B=_?u:c;F&&(d&&(k&=-2),k^=2),B&&(d&&(k&=-17),k^=32),a[x]=E&k})}function _p(r,o,a){var u=null;a&&(u=function(v){return a(~v)});function c(v){return~n5(v,r,u)}function d(v){return!(r.arcs.getArcLength(v)>1)}return function(v){var _=[],x,E=v;if(d(v))return null;do{if(o(E))_.push(E),x=E,E=c(x);else return null;if(E==~x)return Se(),null}while(E!=v);return _.length===0?null:_}}function e_(r,o){var a=r.arcs,u=_p(r,d,c);return o=o||new Uint8Array(a.size()),function(v,_){var x=_=="dissolve",E=!0,k=_=="flatten",F;return v.length>0?(F=[],bh(v,a,o,E,k,x),es(v,function(B){for(var V,G=0,H=B.length;G<H;G++)V=u(B[G]),V&&F.push(V)}),wh(v,a,o,E,k,!0)):F=v,F};function c(v){var _=Qy(v,o);return(_&1)==1}function d(v){var _=Qy(v,o),x=!1;return _==3&&(x=!0,i5(1,v,o)),x}}var uG=Object.freeze({__proto__:null,setBits:Jy,andBits:sG,setRouteBits:i5,getRouteBits:Qy,markPathsAsUsed:o5,openArcRoutes:bh,closeArcRoutes:wh,getPathFinder:_p,getRingIntersector:e_});function t_(r,o,a){var u=a.min_gap_area||a.min_area||a.gap_fill_area;if(+u==0)return{filter:function(){return!1},threshold:0};var c=a.sliver_control>=0?a.sliver_control:0,d=gr(o),v=u&&u!="auto"?zC(u,d):r_(r,o.arcs),_=c>0?n_(o.arcs,v,c):cG(v,o),x=lG(qC(v,d),c>0);return{threshold:v,filter:_,label:x}}function lG(r,o){return o&&(r=r.replace(" ","+ ")+" variable"),r+" threshold"}function cG(r,o){var a=o.arcs.isPlanar()?dt.getPlanarPathArea:dt.getSphericalPathArea;return function(u){var c=a(u,o.arcs);return Math.abs(c)<r}}function n_(r,o,a){a>=0||(a=1),(a>1||!(o>=0))&&te("Invalid parameter");var u=a5(r,a);return function(c){return Math.abs(u(c))<o}}function a5(r,o){var a=Math.sqrt(o);return function(u){var c=dt.getPathArea(u,r),d=dt.getPathPerimeter(u,r),v=dt.calcPolsbyPopperCompactness(c,d),_=c*(a*v+1-a);return _}}function r_(r,o){var a=0,u=o.isPlanar()?dt.distance2D:dt.greatCircleDistance,c=0,d=0,v=function(k,F,B,V){var G=u(B[k],V[k],B[F],V[F]);d++,c+=(G-c)/d};Yo(r.shapes,function(k){a++,vu(k,o,v)});var _=d/a||0,x=Math.pow(_,.75),E=c*c/50*x;return E=vC(E,2),E}function fG(r){var o=2,a=r.getBounds().width()/o,u=r.getBounds().height()/o,c=0,d=0;return r.forEachSegment(function(v,_,x,E){var k=Math.abs(x[v]-x[_]),F=Math.abs(E[v]-E[_]);k<a&&F<u&&(d+=(Math.sqrt(k*k+F*F)-d)/++c)}),d*d}var hG=Object.freeze({__proto__:null,getSliverFilter:t_,getSliverTest:n_,getSliverAreaFunction:a5,getDefaultSliverThreshold:r_,calcMaxSliverArea:fG});function s5(r){var o=i_(r);return o.modes[0]}function dG(r){var o=[],a={},u=[],c,d;for(c=0;c<r.length;c++)d=r[c],d in a?u[a[d]]++:(a[d]=o.length,o.push(d),u.push(1));return{values:o,counts:u}}function pG(r){var o=-1/0,a;for(a=0;a<r.length;a++)r[a]>o&&(o=r[a]);return o}function gG(r){var o=r.counts,a=r.values,u=o.length>0?pG(o):0,c=0,d=[],v,_;for(v=0;v<o.length;v++)_=o[v],_===u?d.push(a[v]):_>c&&(c=_);return{modes:d,margin:d.length>1?0:u-c,count:u}}function i_(r,o){var a=dG(r),u=gG(a);return o&&(u.counts=a.counts,u.values=a.values),u}var vG=Object.freeze({__proto__:null,getMode:s5,getModeData:i_});function o_(r,o,a){var u=g.extend({},r),c={expression:a.where,invert:!!a.invert,verbose:!1,no_replace:a.no_replace};return b.filterFeatures(u,o,c)}function mG(r,o,a,u){(!u||!u.where)&&te('Missing required "where" parameter');var c=o_(o,a,u),d=g.defaults({where:null},u),v=r(c,a,d),_=g.defaults({invert:!0},u),x=o_(o,a,_),E=b.mergeLayers([x,v],{verbose:!1,force:!0});return E[0]}b.calc=function(r,o,a){var u=r.map(c=>u5(c,o,a));return a.to_layer?{info:{},layers:[{name:a.name||"info",data:new An(u)}]}:null};function u5(r,o,a){var u=a.expression,c,d,v,_;return a.where&&(r=o_(r,o,a),u+=" where "+a.where),v=T("defs"),d=bp(r,o,a.expression),c=d(null,v),a.to_layer||he(u+":  "+c),_={expression:a.expression,value:c},a.where&&(_.where=a.where),r.name&&(_.layer_name=r.name),_}function yG(r,o,a){return bp(r,o,a)()}function bp(r,o,a){var u=0,c=0,d=-1,v=[],_={count:ve,sum:_e,sums:kt,average:_e,mean:_e,median:_e,quantile:_e,iqr:_e,quartile1:_e,quartile2:_e,quartile3:_e,min:_e,max:_e,mode:kt,collect:kt,collectIds:It,first:Ie,every:qe,some:De,last:ve},x={count:J(function(){return u},0),sum:J(g.sum,0),sums:J(G),median:J(g.findMedian),quantile:ue(g.findQuantile),iqr:J(function(ct){return g.findQuantile(ct,.75)-g.findQuantile(ct,.25)}),quartile1:J(function(ct){return g.findQuantile(ct,.25)}),quartile2:J(g.findMedian),quartile3:J(function(ct){return g.findQuantile(ct,.75)}),min:J(H),max:J(V),average:J(g.mean),mean:J(g.mean),mode:J(s5),collect:J(B),collectIds:J(B),first:J(B),every:J(B,!1),some:J(B,!1),last:J(B)},E=pr(r),k,F;return r.geometry_type&&(_.width=_.height=Z,x.width=function(){return Ui(r,o).width()},x.height=function(){return Ui(r,o).height()}),k=Jo(a,r,o,{context:_,no_assign:!0,no_warn:!0,no_return:!0}),F=Jo(a,r,o,{context:x,no_warn:!0}),function(ct,Tt){var $t;return ct?me(ct):se(),$t=F(void 0,Tt),re(),$t};function B(ct){return ct}function V(ct){return g.getArrayBounds(ct).max}function G(ct){var Tt=ct&&ct.length?ct[0].length:0,$t=g.initializeArray(Array(Tt),0);return ct.forEach(function(Vt){if(!(!Vt||!Vt.length))for(var kn=0;kn<Tt;kn++)$t[kn]+=+Vt[kn]||0}),$t}function H(ct){return g.getArrayBounds(ct).min}function J(ct,Tt){var $t=arguments.length>1?Tt:null;return function(){var Vt=c++;return u>0?ct(v[Vt]):$t}}function ue(ct){return function(Tt,$t){var Vt=c++;return u>0?ct(v[Vt],$t):null}}function se(){for(var ct=0;ct<E;ct++)N(ct)}function me(ct){ct.forEach(N)}function N(ct){(ct<0||ct>=E)&&te("Invalid record index"),d=ct,k(ct),u++,c=0}function Z(){}function re(){d=-1,u=0,c=0,v=[]}function _e(ct){return isNaN(ct)&&ct&&ee("Expected a number, received:",ct),kt(ct)}function Ie(ct){return u===0&&(v[c]=ct),c++,ct}function qe(ct){ct=!!ct,v[c]=(u===0||v[c])&&ct,c++}function De(ct){ct=!!ct,v[c]=v[c]||ct,c++}function ve(ct){return v[c++]=ct,ct}function It(){kt(d)}function kt(ct){var Tt;return u===0&&(v[c]=[]),Tt=v[c],Tt.length!=u&&ee("Evaluation failed"),Tt.push(ct),c++,ct}}var _G=Object.freeze({__proto__:null,applyCalcExpression:u5,evalCalcExpression:yG,compileCalcExpression:bp});function a_(r,o){var a=bp({data:r},null,o);return function(u,c){u||(u=[]),a(u,c)}}var bG=Object.freeze({__proto__:null,getJoinCalc:a_});function wp(r,o){if(!r||r.length===0)return function(){return 0};r.forEach(function(v){gh(o,v)});var a={},u=0,c=o.getRecords(),d=l5(r);return function(v){var _=d(c[v]);return _ in a||(a[_]=u++),a[_]}}function l5(r){return r.reduce(function(o,a){var u=function(c){return String(c[a])};return o?function(c){return o(c)+"~~"+u(c)}:u},null)}function s_(r,o,a){var u=xG(o,r.length);return c5(r,u,a)}function wG(r,o,a,u){for(var c=[],d=0;d<a;d++)c.push(o(d));return c5(r,c,u)}function c5(r,o,a){var u=a.sum_fields||[],c=a.copy_fields||[],d;a.fields&&(c=c.concat(a.fields)),a.calc&&(d=a_(new An(r),a.calc));function v(_,x){for(var E=0,k,F=0;F<x.length;F++)k=r[x[F]],E+=k&&k[_]||0;return E}return o.map(function(_){var x={},E,k;for(_=_||[],k=r[_[0]],E=0;E<u.length;E++)x[u[E]]=v(u[E],_);for(E=0;E<c.length;E++)x[c[E]]=k?k[c[E]]:null;return d&&d(_,x),x})}function xG(r,o){for(var a=[],u,c=0;c<o;c++)u=r(c),u in a?a[u].push(c):a[u]=[c];return a}var SG=Object.freeze({__proto__:null,getCategoryClassifier:wp,getMultiFieldKeyFunction:l5,aggregateDataRecords:s_,recombineDataRecords:wG});function CG(r,o,a){var u=!a.planar&&zl(Ui(r)),c=a.weight?Jo(a.weight,r,null):null,d=[];return rp(r.shapes)!==0&&ee("Dissolving multi-part points is not supported"),r.shapes.forEach(function(v,_){var x=o(_),E=c?c(_):1,k=v&&v[0],F;k&&(u&&(F=[],dt.lngLatToXYZ(k[0],k[1],F),k=F),d[x]=EG(d[x],k,E))}),d.map(function(v){var _,x;return v?(u?(_=v.centroid,x=[],dt.xyzToLngLat(_[0],_[1],_[2],x)):x=v.centroid,v?[x]:null):null})}function EG(r,o,a){var u=o[0],c=o[1],d,v;return u==u&&c==c&&a>0&&(r?(d=r.sum+a,v=r.sum/d,r.centroid[0]=v*r.centroid[0]+a*u/d,r.centroid[1]=v*r.centroid[1]+a*c/d,o.length==3&&(r.centroid[2]=v*r.centroid[2]+a*o[2]/d),r.sum=d):r={sum:a,centroid:o.concat()}),r}function AG(r,o,a,u){var c=kG(r.shapes,o),d=FG(a);return c.map(d)}function kG(r,o){var a=[];return mu(r,function(u){var c=o(u.shapeId);c in a||(a[c]=[]),a[c].push(u.arcId)}),a}function FG(r){var o=new Uint8Array(r.size()),a=function(d){return o[wn(d)]>0},u=function(d){o[wn(d)]=0},c=new So(r);return function(d){d.forEach(function(k){o[wn(k)]=1});var v=IG(d,c,a),_=f5(v,c,a,u),x=f5(d,c,a,u),E=_.concat(x);return d.forEach(function(k){o[wn(k)]=0}),E}}function f5(r,o,a,u){var c=[];return r.forEach(function(d){for(var v=[],_=d,x;a(_)&&(v.push(_),x=a(_)?o.getConnectedArcs(_,a):[],u(_),x.length>0);)_=~x[0];v.length>0&&c.push(v)}),c}function IG(r,o,a){var u=[];return r.forEach(function(c){o.getConnectedArcs(c,a).length===0&&u.push(~c),o.getConnectedArcs(~c,a).length===0&&u.push(c)}),u}function h5(r,o){var a=MG(r,o);return DG(a,r,o)}function MG(r,o){var a=[],u=[],c=[],d=r.map(function(H,J){return o(J)});return mu(r,v),u.forEach(G),c;function v(H){var J=H.arcId,ue=J<0?~J:J,se=c.length,me=a[ue];me||(me=[],a[ue]=me),me.push(se),H.group=me,c.push(H),me.length==3&&u.push(me)}function _(H,J){for(var ue,se,me=0;me<H.length-1;me++){ue=c[H[me]];for(var N=me+1;N<H.length;N++)if(se=c[H[N]],J(ue,se))return[ue.segId,se.segId]}return null}function x(H,J){return u_(H,c,r).arcId===~u_(J,c,r).arcId}function E(H,J){return d5(H,c,r).arcId===~d5(J,c,r).arcId}function k(H,J){return B(H,J)&&x(H,J)&&E(H,J)}function F(H,J){return B(H,J)&&(x(H,J)||E(H,J))}function B(H,J){return H.arcId===~J.arcId&&d[H.shapeId]===d[J.shapeId]}function V(H){H.forEach(function(J){c[J].group=H})}function G(H){var J=_(H,k)||_(H,F)||_(H,B);J&&(H=H.filter(function(ue){return!g.contains(J,ue)}),V(H),V(J),H.length>2&&G(H))}}function DG(r,o,a){var u=[];return r.forEach(c),u;function c(E){if(!E.used){var k=x(E);k||v(E)}}function d(E,k){k in u||(u[k]=[]),u[k].push(E)}function v(E){var k=[E.arcId],F=_(E);for(E.used=!0;F&&F!=E;)k.push(F.arcId),F.used=!0,F=_(F),F&&F!=E&&F.used&&te("buildRing() topology error");F||te("buildRing() traversal error"),E.used=!0,d(k,a(E.shapeId))}function _(E,k){var F=u_(E,r,o),B;return k=k||0,F!=E&&(B=x(F),B&&(k>100&&te("deep recursion -- unhandled topology problem"),o[B.shapeId][B.partId].length==1?F=_(F,k+1):F=_(B,k+1))),F}function x(E){var k=a(E.shapeId),F,B;return B=g.find(E.group,function(V){var G=E,H=r[V];return!(G==H||H.used||a(H.shapeId)!==k||G.arcId!=~H.arcId)}),F=B===null?null:r[B],F}}function u_(r,o,a){return p5(r,o,a,1)}function d5(r,o,a){return p5(r,o,a,-1)}function p5(r,o,a,u){var c=a[r.shapeId][r.partId],d=c.length,v=(r.i+u)%d,_;return v<0&&(v+=d),_=o[r.segId-r.i+v],(!_||_.shapeId!=r.shapeId)&&te("index error"),_}var TG=Object.freeze({__proto__:null,dissolvePolygonGeometry:h5});b.dissolve=function(r,o,a){var u,c;return a=g.extend({},a),a.where?mG(b.dissolve,r,o,a):(a.field&&(a.fields=[a.field]),c=wp(a.fields,r.data),a.multipart||a.group_points?u=PG(r,c):r.geometry_type=="polygon"?u=h5(r.shapes,c):r.geometry_type=="polyline"?u=AG(r,c,o):r.geometry_type=="point"&&(u=CG(r,c,a)),g5(r,u,c,a))};function PG(r,o){(!r.shapes||!r.geometry_type)&&ee("Layer is missing geometry"),W0(r.shapes);var a=[];return r.shapes.forEach(function(u,c){var d=o(c);u&&(a[d]?a[d].push.apply(a[d],u):a[d]=u)}),a}function g5(r,o,a,u){var c=null,d;if(r.data){c=s_(r.data.getRecords(),a,u);for(var v=0,_=c.length;v<_;v++)o&&!o[v]&&(o[v]=null)}return d={name:u.no_replace?null:r.name,shapes:o,data:c?new An(c):null,geometry_type:r.geometry_type},u.silent||RG(r,d),d}function RG(r,o){var a=pr(r),u=pr(o),c=g.format("Dissolved %,d feature%s into %,d feature%s",a,g.pluralSuffix(a),u,g.pluralSuffix(u));he(c)}function BG(r,o){var a=new Int32Array(r.length);g.initializeArray(a,-1);var u=[],c=[];this.getTileIdsByShapeId=function(x){var E=c[x];return E?E.filter(function(k){return k>=0}):[]},this.getShapeIdByTileId=function(x){var E=a[x];return E>=0?E:-1},this.getShapeIdsByTileId=function(x){var E=a[x];return E>=0?[E]:E==-1?[]:u[x]},this.indexTileIdsByShapeId=function(x,E,k){c[x]=[];for(var F=0;F<E.length;F++)d(x,E[F],k)},this.flatten=function(){u.forEach(function(x,E){v(E)}),u=[]},this.getUnusedTileIds=function(){for(var x=[],E=0,k=a.length;E<k;E++)a[E]==-1&&x.push(E);return x},this.addTileToShape=function(x,E){(!(x in c)||a[E]!=-1)&&te("Internal error"),a[E]=x,c[x].push(E)};function d(x,E,k){var F=a[E];if(F!=-1&&o.flat)if(k&&k(x)>k(F))_(E,F),a[E]=F,F=-1;else return;F==-1?a[E]=x:F==-2?u[E].push(x):(u[E]=[F,x],a[E]=-2),c[x].push(E)}function v(x){var E=u[x],k=E[0],F;a[x]=k;for(var B=0;B<E.length;B++)F=E[B],F!=k&&_(x,F)}function _(x,E){for(var k=c[E],F=0;F<k.length;F++)if(k[F]===x){k[F]=-1;break}}}function xp(r,o,a){for(var u=0,c=r.length;u<c;u++)r[u]=OG(r[u],o,a)}function OG(r,o,a){return ch(r,function(u){var c=LG(u,o);return a=="polygon"&&c&&(Sp(c),dt.getPlanarPathArea(c,o)===0&&(c=null)),c})}function LG(r,o){for(var a=0,u=0,c=r.length;u<c;u++)o.arcIsDegenerate(r[u])&&(a++,r[u]=null);return a>0?r.filter(function(d){return d!==null}):r}function Sp(r){var o=r.length;if(o>=2){if(r[0]==~r[o-1])r.pop(),r.shift();else for(var a=1;a<o;a++)if(r[a-1]==~r[a]){r.splice(a-1,2);break}r.length<o&&Sp(r)}}function l_(r){var o=new Gl(r.arcs.size()),a=function(_){return o.hasId(~_)};return function(_){o.setIds(_);var x=u(_);return o.clear(),x};function u(_){for(var x=null,E=0,k=_.length;E<k-1;E++)if(x=c(_,_[E]),x!==null)return x;return Sp(_),_.length>0?[_]:[]}function c(_,x){var E=r.getConnectedArcs(x,a),k,F,B;if(E.length<2)return null;k=[];for(var V=0;V<E.length;V++)F=~E[V],B=v(_,F),B>-1&&(o.clearId(F),k.push(B));if(k.length<2)return null;var G=v5(_,k);return G.reduce(d,null)}function d(_,x){var E=u(x);return _===null?E:(_.push.apply(_,E),_)}function v(_,x){for(var E=0,k=_.length;E<k;E++)if(_[E]===x)return E;return-1}}function v5(r,o){var a=[];g.genericSort(o,!0),o[0]>0&&a.push(r.slice(0,o[0]));for(var u=0,c=o.length;u<c;u++)u<c-1?a.push(r.slice(o[u],o[u+1])):a.push(r.slice(o[u]));return a.length>o.length&&g.merge(a[0],a.pop()),a}var zG=Object.freeze({__proto__:null,cleanShapes:xp,removeSpikesInPath:Sp,getSelfIntersectionSplitter:l_,splitPathByIds:v5});function NG(r,o){Yo(r.shapes,function(a){if(dt.getPathArea(a,o)<=0)return null})}function Cp(r,o){var a=l_(r);return function(u,c,d){var v=o?dt.getSphericalPathArea:dt.getPlanarPathArea;es(u,function(_){var x=a(_);x.length===0&&Se(),x.forEach(function(E,k){var F=v(E,r.arcs);F>0?c.push(E):F<0&&d.push(E)})})}}var jG=Object.freeze({__proto__:null,deleteHoles:NG,getHoleDivider:Cp});function qG(r){var o=new So(r.arcs),a=UG(o),u;return a&&m5(r,a),u=$G(r),u>0&&(o=new So(r.arcs)),o}function $G(r){var o=my(r.layers,r.arcs),a=r.arcs.size(),u=r.arcs.deleteArcs(o),c=r.arcs.size(),d=a-c;return d>0&&m5(r,u),d}function m5(r,o){var a=function(u){for(var c,d,v,_=0;_<u.length;_++)c=u[_],d=wn(c),v=o[d],u[_]=c==d?v:~v;return u};r.layers.forEach(function(u){ar(u)&&Yo(u.shapes,a)})}function UG(r){for(var o=new Int32Array(r.arcs.size()),a=0,u,c=0,d=r.arcs.size();c<d;c++)u=r.findDuplicateArc(c),o[c]=u,c!=u&&a++;return a>0?o:null}function Au(r,o){var a=o||{},u=r.arcs,c=u&&u.getBounds(),d,v;if(!c||!c.hasBounds())return new So([]);a.snap_interval?d=os(a.snap_interval,gr(r)):!a.no_snap&&c.hasBounds()?d=q0(c.toArray()):d=0,Se(),u.flatten();var _=GG(r,d);return(_||a.rebuild_topology)&&Xo(r),r.layers.forEach(function(x){ar(x)&&xp(x.shapes,u,x.geometry_type)}),v=qG(r),v}function GG(r,o){var a=r.arcs,u=o>0?{}:{tolerance:0},c=!1,d,v,_;return d=$0(a,o),v=a.dedupCoords(),_=c_(r,u),(_>0||d>0||v>0)&&(c=!0),_>0&&(_=0,d=$0(a,o),a.dedupCoords(),d>0&&(_=c_(r,u)),_>0&&(a.dedupCoords(),Se())),c}function HG(r,o){return function(u){for(var c=[],d=0;d<u.length;d++)a(u[d],c);return c};function a(u,c){var d=u<0,v=d?~u:u,_=r[v],x=(v>=r.length-1?o:r[v+1])-1,E;do d?(E=~x,x--):(E=_,_++),c.push(E);while(x-_>=0)}}function y5(r,o){var a=w5(r,o),u=h_(a,r);return u}function c_(r,o){var a=r.arcs.getPointCount(),u=y5(r.arcs,o),c=r.arcs.getPointCount();return f_(r,u),c-a}function f_(r,o){var a=HG(o,r.arcs.size());r.layers.forEach(function(u){ar(u)&&Yo(u.shapes,a)})}function h_(r,o){var a=o.getVertexData(),u=a.xx,c=a.yy,d=a.nn,v=0,_=0,x=[],E=o.size(),k=new Uint32Array(E),F=b5(_5(r,u,c),o),B=o.getPointCount()+F.length*2,V=new Float64Array(B),G=new Float64Array(B),H,J,ue,se;F.reverse(),se=F.pop();for(var me=0,N=0;me<E;me++){for(ue=d[me],k[me]=N,H=0,J=0;H<ue;){for(V[_]=u[v],G[_]=c[v],_++,J++;se&&se.i==v;)V[_]=se.x,G[_]=se.y,_++,J++,x[N++]=J,J=0,V[_]=se.x,G[_]=se.y,_++,J++,se=F.pop();H++,v++}x[N++]=J}return _!=B&&te("[insertCutPoints()] Counting error"),o.updateVertexData(x,V,G,null),k}function VG(r,o,a){for(var u=[],c,d,v,_=0,x=r.length;_<x;_++)c=r[_],d=Ep(c.x,c.y,c.a[0],c.a[1]),v=Ep(c.x,c.y,c.b[0],c.b[1]),d&&u.push(d),v&&u.push(v);return u}function Ep(r,o,a,u,c,d){return(u<a||u>a+1)&&te("Out-of-sequence arc ids:",a,u),{x:r,y:o,i:a}}function _5(r,o,a){return r.sort(function(u,c){return u.i!=c.i?u.i-c.i:dt.distanceSq(o[u.i],a[u.i],u.x,u.y)-dt.distanceSq(o[c.i],a[c.i],c.x,c.y)}),r}function b5(r,o){var a=[],u=0;return o.forEach2(function(c,d,v,_){for(var x=c+d-1,E=v[c],k=_[c],F=v[x],B=_[x],V,G;u<r.length&&r[u].i<=x;)V=r[u],G=a[a.length-1],V.x==E&&V.y==k||V.x==F&&V.y==B||G&&G.x==V.x&&G.y==V.y&&G.i==V.i||a.push(V),u++}),a}function w5(r,o){var a=is(r,o),u=r.getVertexData();return VG(a,u.xx,u.yy)}var WG=Object.freeze({__proto__:null,addIntersectionCuts:Au,divideArcs:y5,cutPathsAtIntersections:c_,remapDividedArcs:f_,insertCutPoints:h_,getCutPoint:Ep,sortCutPoints:_5,filterSortedCutPoints:b5,findClippingPoints:w5});function YG(r,o){var a=[],u,c;return r.arcs||ee("Dataset is missing path data"),u=Au(r,o),c=d_(u),a.push({name:"mosaic",shapes:c.mosaic,geometry_type:"polygon"}),o.debug&&(a.push({geometry_type:"polygon",name:"mosaic-enclosure",shapes:c.enclosures}),c.lostArcs.length>0&&(a=a.concat(d(c.lostArcs,u.arcs)))),a;function d(v,_){var x={geometry_type:"polyline",name:"lost-arcs",shapes:[]},E={geometry_type:"point",name:"lost-arc-endpoints",shapes:[]},k=[],F=[];return v.forEach(function(B){var V=_.getVertex(B,0),G=_.getVertex(B,-1);k.push({ARCID:B}),x.shapes.push([[B]]),F.push({ARCID:B},{ARCID:B}),E.shapes.push([[V.x,V.y]],[[G.x,G.y]])}),x.data=new An(k),E.data=new An(F),[x,E]}}function d_(r){r.detachAcyclicArcs();var o=XG(r),a=o.cw.map(function(d){return[d]});Se();var u=[],c=new as(a,r.arcs);return o.ccw.forEach(function(d){var v=c.findSmallestEnclosingPolygon(d);v>-1?a[v].push(d):(Kr(d),u.push([d]))}),Se(g.format("Detect holes (holes: %d, enclosures: %d)",o.ccw.length-u.length,u.length)),{mosaic:a,enclosures:u,lostArcs:o.lostArcs}}function XG(r){for(var o=r.arcs,a=[],u=[],c=[],d=[],v=new Uint8Array(o.size()),_=_p(r,F),x=0,E=v.length;x<E;x++)k(x),k(~x);return{cw:a,ccw:u,empty:c,lostArcs:d};function k(V){var G,H;if(B(V)){if(G=_(V),!G){d.push(V),Se();return}H=dt.getPlanarPathArea(G,o),H>0?a.push(G):H<0?u.push(G):c.push(G)}}function F(V){return B(V,!0)}function B(V,G){var H=wn(V),J=H==V?1:2,ue=(v[H]&J)===0;return G&&ue&&(v[H]|=J),ue}}var KG=Object.freeze({__proto__:null,mosaic:YG,buildPolygonMosaic:d_});function ZG(r){var o=new Uint32Array(r);this.setId=function(a,u){a>=0&&u>=0&&u<r-1?o[a]=u+1:te("Invalid value")},this.hasId=function(a){return this.getId(a)>-1},this.getId=function(a){return a>=0&&a<r?o[a]-1:-1}}function x5(r){var o=new Int32Array(r),a=new Int32Array(r);g.initializeArray(o,-1),g.initializeArray(a,-1),this.setId=function(u,c){u<0?a[~u]=c:o[u]=c},this.hasId=function(u){var c=this.getId(u);return c>-1},this.getId=function(u){var c=u<0?~u:u;return c>=r?-1:u<0?a[c]:o[c]}}function JG(r){var o=[],a=new x5(r),u=a.setId;return a.setId=function(c,d){a.hasId(c)||o.push(c),u(c,d)},a.clear=function(){o.forEach(function(c){u(c,-1)}),o=[]},this.clearId=function(c){a.hasId(c)||te("Tried to clear an unset id"),u(c,-1)},a}function S5(r,o,a,u){var c=a.arcs,d=new Gl(r.length),v=Cp(a),_,x,E,k=new Gl(c.size()),F=new Gl(c.size());this.getTilesInShape=function(se,me){var N=[],Z=[],re;return E=[],_=[],u.no_holes?v(se,N,Z):(v(se,N,Z),Z.forEach(B),F.setIds(_)),N.forEach(V),re=E,E=null,F.clear(),_=null,re};function B(se){_=_?_.concat(se):se}function V(se){x=c.getSimpleShapeBbox(se),k.setIds(se),G(se),k.clear(),d.clear()}function G(se){for(var me=se.concat(),N,Z;me.length>0;)N=me.pop(),Z=ue(N),Z>=0&&H(me,r[Z])}function H(se,me){for(var N,Z,re=0,_e=me.length;re<_e;re++){Z=me[re];for(var Ie=0,qe=Z.length;Ie<qe;Ie++)N=Z[Ie],J(N)&&se.push(~N)}}function J(se){var me=~se,N=!(k.hasId(se)||k.hasId(me)||F.hasId(se)||F.hasId(me));return N}function ue(se){var me=o.getShapeIdByArcId(se);return me==-1||d.hasId(me)?-1:c.arcIsContained(wn(se),x)===!1?(Se(),-1):(d.setId(me),E.push(me),me)}}var QG=Object.freeze({__proto__:null,PolygonTiler:S5});function p_(r,o,a){var u=a||{},c=r.shapes;Cp(o);var d=d_(o).mosaic,v=new C5(d,o.arcs),_=new Gl(d.length),x=new BG(d,u),E=new S5(d,v,o,u),k=null;!u.simple&&u.flat&&(k=F(r.shapes,o.arcs,u.overlap_rule)),this.mosaic=d,this.nodes=o,this.getSourceIdsByTileId=x.getShapeIdsByTileId,this.getTileIdsByShapeId=x.getTileIdsByShapeId,c.forEach(function(J,ue){var se=E.getTilesInShape(J,ue);x.indexTileIdsByShapeId(ue,se,k)}),u.flat&&x.flatten(),this.removeGaps=function(J){u.flat||te("MosaicIndex#removeGaps() should only be called with a flat mosaic");var ue=x.getUnusedTileIds(),se=ue.filter(function(me){var N=d[me];return J(N[0])});return se.forEach(G),{removed:se.length,remaining:ue.length-se.length}},this.getUnusedTiles=function(){return x.getUnusedTileIds().map(V)},this.getTilesByShapeIds=function(J){return H(J).map(V)};function F(J,ue,se){var me;return!se||se=="max-area"?me=B(J,ue,!1):se=="min-area"?me=B(J,ue,!0):se=="max-id"?me=function(N){return N}:se=="min-id"?me=function(N){return-N}:ee("Unknown overlap rule:",se),me}function B(J,ue,se){var me=[],N=se?-1:1;return function(Z){var re;return Z in me?re=me[Z]:(re=N*Math.abs(dt.getShapeArea(J[Z],ue)),me[Z]=re),re}}function V(J,ue){return d[J]}function G(J){for(var ue=d[J][0],se=o.arcs,me,N,Z,re,_e=-1,Ie=0,qe=0;qe<ue.length;qe++)me=ue[qe],Z=v.getShapeIdByArcId(~me),!(Z<0)&&(N=x.getShapeIdByTileId(Z),!(N<0)&&(re=dt.getPathPerimeter([me],se),re>Ie&&(_e=N,Ie=re)));_e>-1&&x.addTileToShape(_e,J)}function H(J){var ue=[],se,me,N,Z;for(N=0;N<J.length;N++)for(me=x.getTileIdsByShapeId(J[N]),Z=0;Z<me.length;Z++)se=me[Z],!_.hasId(se)&&(_.setId(se),ue.push(se));return _.clear(),ue}}function C5(r,o){var a=o.size(),u=new x5(a),c;r.forEach(d);function d(_,x){c=x,_.forEach(v)}function v(_){for(var x,E=0,k=_.length;E<k;E++)x=_[E],u.setId(x,c)}this.getShapeIdByArcId=function(_){return u.getId(_)}}var eH=Object.freeze({__proto__:null,MosaicIndex:p_,ShapeArcIndex:C5});function E5(r,o,a){a=g.extend({},a),a.field&&(a.fields=[a.field]);var u=wp(a.fields,r.data),c=nH(r,u),d=g_(c,r,o,a);return g5(r,d,u,a)}function tH(r,o){var a=o.map(function(u,c){return{tile_id:c}});return g.defaults({shapes:o,data:new An(a)},r)}function nH(r,o){return r.shapes.reduce(function(a,u,c){var d=o(c);return d in a||(a[d]=[]),a[d].push(c),a},[])}function rH(r,o,a){var u=r+o;return r>0?g.format("Removed %,d of %,d sliver%s using %s",r,u,g.pluralSuffix(u),a):""}function g_(r,o,a,u){var c=uh(o.shapes,a.arcs),d=new So(a.arcs,c),v={flat:!u.allow_overlaps,simple:r.length==1,overlap_rule:u.overlap_rule},_=new p_(o,d,v),x=!u.allow_overlaps&&(u.sliver_control||u.gap_fill_area),E,k;if(x){var F=g.extend({sliver_control:1},u);k=t_(o,a,F),E=_.removeGaps(k.filter)}var B=e_(_.nodes),V=r.map(function(H){var J=_.getTilesByShapeIds(H);return u.tiles?J.reduce(function(ue,se){return ue.concat(se)},[]):iH(J,B)});if(V=oH(V,B),x&&!u.quiet){var G=rH(E.removed,E.remaining,k.label);G&&he(G)}return V}function iH(r,o){for(var a=[],u=[],c,d,v=0,_=r.length;v<_;v++)d=r[v],a.push(d[0]),d.length>1&&(u=u.concat(d.slice(1)));return c=o(a.concat(u),"dissolve"),c.length>1,c.length>0?c:null}function oH(r,o){var a=function(u,c){Kr(c);var d=o([c],"flatten");return d.length>1?(d.forEach(Kr),u=u.concat(d)):u.push(Kr(c)),u};return r.map(function(u){return u?u.reduce(a,[]):null})}var aH=Object.freeze({__proto__:null,dissolvePolygonLayer2:E5,composeMosaicLayer:tH,dissolvePolygonGroups2:g_});function sH(r,o,a){var u=o.arcs,c=uh(r.shapes,u),d=new So(u,c),v=new JG(u.size());r.shapes=r.shapes.map(function(_,x){return _?(_=cH(_,d),v.clear(),_=uH(_,v),v.clear(),_=fH(_,d,v),_):null})}function uH(r,o){var a=r.reduce(function(u,c){return lH(u,c,o),u},[]);return a.length>0?a:null}function lH(r,o,a){for(var u=[],c,d=0;d<o.length;d++)c=o[d],a.hasId(c)?u.length>0&&(r.push(u),u=[]):u.push(c),a.setId(c,d),a.setId(~c,d);u.length>0&&r.push(u)}function cH(r,o){var a=[];return es(r,u),a;function u(c){for(var d=c.length,v,_=[],x=0;x<d;x++)v=c[x],_.push(v),x<d-1&&o.getConnectedArcs(v).length>1&&(a.push(_),_=[]);_.length>0&&a.push(_)}}function fH(r,o,a){if(!r||r.length<2)return r;return r.forEach(function(c,d){var v=~c[0],_=c[c.length-1];(a.hasId(v)||a.hasId(_))&&te("Indexing error"),a.setId(v,d),a.setId(_,d),u(v,d),u(_,d)}),r.filter(function(c){return!!c});function u(c,d){var v=0,_=-1,x,E=a.getId(c);if(o.forEachConnectedArc(c,function(B){a.hasId(B)&&(_=a.getId(B),x=B),v++}),v==1&&_>-1&&_<d){dH(r,_,x,E,c),a.setId(c,_);var k=r[E],F=hH(k,c);a.setId(F,_),E!=_&&(r[E]=null)}}}function hH(r,o){var a=~r[0],u=r[r.length-1];if(o==a)return u;if(o==u)return a;te("Indexing error")}function dH(r,o,a,u,c){var d=r[o],v=r[u],_,x;~a==d[0]?_=!0:a==d[d.length-1]?_=!1:te("Index error"),~c==v[0]?x=!0:c==v[v.length-1]?x=!1:te("Index error 2"),x||(v=Kr(v.concat())),_?pH(d,v):gH(d,v)}function pH(r,o){o=Kr(o.concat());var a=[0,0].concat(o);r.splice.apply(r,a)}function gH(r,o){r.push.apply(r,o)}b.cleanLayers=v_;function v_(r,o,a){var u=a||{},c=!u.only_arcs,d=g.some(r,ar),v;if(u.debug){Au(o,u);return}r.forEach(function(_){xu(_)&&(_.geometry_type=="polygon"&&u.rewind&&KU(_,o.arcs),c&&(v||(v=Au(o,u)),_.geometry_type=="polygon"?vH(_,o,u):_.geometry_type=="polyline"?sH(_,o):_.geometry_type=="point"&&mH(_)),u.allow_empty||b.filterFeatures(_,o.arcs,{remove_empty:!0,verbose:u.verbose}))}),!u.no_arc_dissolve&&d&&o.arcs&&Ko(o)}function vH(r,o,a){a=Object.assign({gap_fill_area:"auto"},a);var u=r.shapes.map(function(c,d){return[d]});r.shapes=g_(u,r,o,a)}function mH(r,o,a){var u,c;r.shapes=r.shapes.map(function(v,_){return!v||!(v.length>0)?null:v.length==1?v:(u={},c=[],v.forEach(d),c.length===0?null:c)});function d(v){var _=v.join("~");_ in u||(u[_]=!0,c.push(v))}}b.mergeAndFlattenLayers=function(r,o,a){if(!a.flatten)return b.mergeLayers(r,a);r.forEach(function(c){tp(c,"the flatten option requires polygon layers")});var u=b.mergeLayers(r,a);return wy(o,r,u),v_(u,o,{overlap_rule:"max-id"}),wy(o,u,r),u},b.mergeLayers=function(r,o){var a=r.filter(pr),u={};return o=o||{},a.length?a.length==1?(he("Use the target= option to specify multiple layers for merging"),a.concat()):(u.data=bH(a,o),u.name=A5(a),u.geometry_type=yH(a),u.geometry_type&&(u.shapes=_H(a)),u.shapes&&u.data&&u.shapes.length!=u.data.size()&&te("Mismatch between geometry and attribute data"),[u]):null};function yH(r){var o=g.uniq(g.pluck(r,"geometry_type")).filter(function(a){return!!a});return o.length>1&&ee("Incompatible geometry types:",o.join(", ")),o[0]||null}function _H(r){return r.reduce(function(o,a){for(var u=a.shapes||[],c=pr(a),d=-1;++d<c;)o.push(u[d]||null);return o},[])}function bH(r,o){var a=g.uniq(r.reduce(function(d,v){return d.concat(v.data?v.data.getFields():[])},[]));if(a.length===0)return null;var u=r.reduce(function(d,v){var _=v.data?v.data.getRecords():new An(pr(v)).getRecords();return d.concat(_)},[]),c=xH(a,r);return wH(c,o),SH(a,r),c.length>0&&dh(u),new An(u)}function wH(r,o){var a;r.length>0&&(a="["+r.join(", ")+"]",a=(r.length==1?"Field "+a+" is missing":"Fields "+a+" are missing")+" from one or more layers",o.force?o.verbose!==!1&&he("Warning: "+a):ee(a))}function xH(r,o){var a=g.uniq(o.reduce(function(u,c){return u.concat(g.difference(r,c.data?c.data.getFields():[]))},[]));return a}function SH(r,o){r.forEach(function(a){var u=CH(a,o);u.length>1&&ee('Inconsistent data types in "'+a+'" field:',u.join(", "))})}function CH(r,o){return o.reduce(function(a,u){var c=u.data?ph(r,u.data.getRecords()):null;return c&&a.indexOf(c)==-1&&a.push(c),a},[])}function A5(r){return r.reduce(function(o,a){return o===null?o=a.name||null:o&&a.name&&(o=g.mergeNames(o,a.name)),o},null)||""}function EH(r){return r.indexOf("/")==-1&&r.indexOf("\\")!=-1?"\\":"/"}function Co(r){var o={filename:"",directory:"",basename:"",extension:""},a=EH(r),u=r.split(a),c=u.pop(),d=/\.([a-z][a-z0-9]*)$/i,v=d.test(c)?d.exec(c)[0]:"";return v||c.includes("*")?(o.filename=c,o.extension=v?v.slice(1):"",o.basename=c.slice(0,c.length-v.length),o.directory=u.join(a)):c?o.directory=r:o.directory=u.join(a),o}function m_(r){return Co(r).basename}function Eo(r){return Co(r).extension}function y_(r){var o=Co(r);return o.extension?r.slice(0,r.length-o.extension.length-1):r}function ss(r,o){var a=y_(r);return o?a+"."+o:a}function k5(r){var o=Eo(r);return o?y_(r)+"."+o.toLowerCase():r}function F5(r){return r.reduce(function(o,a,u){return u===0?o=m_(a):o=g.mergeNames(o,a),o},"")}function Ap(r){var o=r.info&&r.info.input_files;return o&&F5(o)||"output"}var AH=Object.freeze({__proto__:null,parseLocalPath:Co,getFileBase:m_,getFileExtension:Eo,getPathBase:y_,replaceFileExtension:ss,toLowerCaseExtension:k5,getCommonFileBase:F5,getOutputFileBase:Ap});function I5(r,o){o=g.extend({},o),o.rfc7946=!o.gj2008;var a=o.extension||"json",u;return o.rfc7946&&D5(r),o.file&&(a=Eo(o.file)),o.combine_layers?u=[r.layers]:u=r.layers.map(function(c){return[c]}),u.map(function(c){var d=A5(c)||"output",v=g.defaults({layers:c},r);return{content:kp(v,o,"buffer"),filename:d+"."+a}})}function M5(r,o,a,u,c){var d=__(r.data,a),v=r.shapes,_=b_(r.data,a),x;return a.ndjson?x=Zy:a.prettify?x=yp(["bbox","coordinates"]):x=JSON.stringify,d&&v&&d.length!==v.length&&te("Mismatch between number of properties and number of shapes"),(v||d||[]).reduce(function(E,k,F){var B=v?v[F]:null,V=Wt.exporters[r.geometry_type],G=B?V(B,o.arcs,a):null,H=null;if(u)H=kH(G,d?d[F]:null,a),_&&(H.id=_[F]),a.no_null_props&&!H.properties&&(H.properties={});else if(G)H=G;else return E;return c&&(H=x(H),c=="buffer"&&(H=_u(H,"utf8"))),E.push(H),E},[])}function kH(r,o,a){var u=Wt.toFeature(r,o);return Array.isArray(a.hoist)&&o&&(u.properties=Object.assign({},o),a.hoist.forEach(c=>{o.hasOwnProperty(c)&&(u[c]=o[c],delete u.properties[c])})),u}function D5(r){var o=gr(r);if(!(o&&vr(o)||Y4(r))){var a="RFC 7946 warning: non-WGS84 GeoJSON output.";o&&(a+=' Tip: use "-proj wgs84" to convert.'),he(a)}}function T5(r,o){var a=gr(r),u=o&&a&&vr(a),c=new Bt,d=new Bt,v,_,x,E;return r.layers.forEach(function(k){ar(k)?mu(k.shapes,null,function(F){var B=r.arcs.getSimpleShapeBounds(F.arcs);(B.centerX()<0?c:d).mergeBounds(B)}):Ia(k)&&Wo(k.shapes,function(F){(F[0]<0?c:d).mergePoint(F[0],F[1])})}),v=new Bt().mergeBounds(d).mergeBounds(c),v.hasBounds()&&(E=v.toArray()),u&&d.hasBounds()&&c.hasBounds()&&(_=d.xmin-c.xmax,x=360+c.xmin-d.xmax,_>0&&_>x&&(E[0]=d.xmin,E[2]=c.xmax)),E||null}function kp(r,o,a){var u={},c=r.layers,d=B5(c,o),v,_;return d?u.type="FeatureCollection":u.type="GeometryCollection",o.gj2008&&R5(r,u),o.bbox&&(_=T5(r,o.rfc7946),_&&(u.bbox=_)),v=c.reduce(function(x,E,k){var F=M5(E,r,o,d,a);return x.length>0?x.concat(F):F},[]),o.geojson_type=="Feature"&&v.length==1?v[0]:o.ndjson?Wt.formatCollectionAsNDJSON(v):a?Wt.formatCollection(u,v):(u[P5(u.type)]=v,u)}function P5(r){if(r=="FeatureCollection")return"features";if(r=="GeometryCollection")return"geometries";te("Invalid collection type:",r)}Wt.formatCollectionAsNDJSON=function(r){var o=g.createBuffer(`
`,"utf8"),a=r.reduce(function(u,c,d){return d>0&&u.push(o),u.push(c),u},[]);return w.concat(a)},Wt.formatCollection=function(r,o){var a=JSON.stringify(r).replace(/\}$/,', "'+P5(r.type)+`": [
`),u=`
]}`;return g.isString(o[0])?a+o.join(`,
`)+u:Wt.joinOutputBuffers(a,u,o)},Wt.joinOutputBuffers=function(r,o,a){var u=g.createBuffer(`,
`,"utf8"),c=a.reduce(function(d,v,_){return _>0&&d.push(u),d.push(v),d},[g.createBuffer(r,"utf8")]);return c.push(g.createBuffer(o,"utf8")),w.concat(c)},Wt.exportPointGeom=function(r,o){var a=null;return r.length==1?a={type:"Point",coordinates:r[0]}:r.length>1&&(a={type:"MultiPoint",coordinates:r}),a},Wt.exportLineGeom=function(r,o){var a=mp(r,o,"polyline");if(a.pointCount===0)return null;var u=a.pathData.map(function(c){return c.points});return u.length==1?{type:"LineString",coordinates:u[0]}:{type:"MultiLineString",coordinates:u}},Wt.exportPolygonGeom=function(r,o,a){var u=mp(r,o,"polygon");if(u.pointCount===0)return null;var c=QC(u.pathData,o,a.invert_y),d=a.rfc7946&&!a.invert_y,v=c.map(function(_){return _.map(function(x){return d&&x.points.reverse(),x.points})});return v.length==1?{type:"Polygon",coordinates:v[0]}:{type:"MultiPolygon",coordinates:v}},Wt.exporters={polygon:Wt.exportPolygonGeom,polyline:Wt.exportLineGeom,point:Wt.exportPointGeom};function R5(r,o){var a=r.info||{};!a.crs&&"input_geojson_crs"in a&&(o.crs=a.input_geojson_crs)}function B5(r,o){var a=o.geojson_type||"";return a=="Feature"||a=="FeatureCollection"?!0:a=="GeometryCollection"?!1:(a&&ee("Unsupported GeoJSON type:",o.geojson_type),g.some(r,function(u){var c=u.data?u.data.getFields():[],d=O5(c,o),v=!!Fp(c,o);return d||v}))}function O5(r,o){return!(o.drop_table||o.cut_table||r.length===0||r.length==1&&r[0]==Wt.ID_FIELD)}function __(r,o){var a=r?r.getFields():[],u=Fp(a,o),c,d;return O5(a,o)?(d=r.getRecords(),u==Wt.ID_FIELD?c=d.map(function(v){return v=g.extend({},v),delete v[u],v}):c=d,c):null}function Fp(r,o){var a=[],u=o.id_field;return g.isString(u)?a.push(u):g.isArray(u)&&(a=u),a.push(Wt.ID_FIELD),g.find(a,function(c){return g.contains(r,c)})}function b_(r,o){var a=r?r.getFields():[],u=Fp(a,o);return u?r.getRecords().map(function(c){return u in c?c[u]:null}):null}var FH=Object.freeze({__proto__:null,default:Wt,exportGeoJSON:I5,exportLayerAsGeoJSON:M5,warnIfNotWgs84:D5,getDatasetBbox:T5,exportDatasetAsGeoJSON:kp,preserveOriginalCRS:R5,useFeatureCollection:B5,exportProperties:__,getIdField:Fp,exportIds:b_});function w_(r){var o,a;return!r||!r.tag?"":(o="<"+r.tag,r.properties&&(o+=L5(r.properties)),r.children||r.value?(a=r.tag=="text"||r.tag=="tspan"?"":`
`,o+=">"+a,r.value&&(o+=x_(r.value)),r.children&&(o+=r.children.map(w_).join(a)),o+=a+"</"+r.tag+">"):o+="/>",o)}var IH=/[&<>"']/g,MH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};function x_(r){return String(r).replace(IH,function(o,a){var u=MH[o];return o=="&"&&r.substr(a,u.length)==u?"&":u})}function L5(r){return Object.keys(r).reduce(function(o,a){var u=r[a],c;return!u&&u!==0?o:(c=g.isString(u)?u:JSON.stringify(u),a=="href"&&(a="xlink:href"),a=="css"&&(a="style"),o+" "+a+'="'+x_(c)+'"')},"")}var DH=Object.freeze({__proto__:null,stringify:w_,stringEscape:x_,stringifyProperties:L5});function TH(r){for(var o=0,a=0,u=[],c,d,v,_,x,E,k=[c=1732584193,d=4023233417,~c,~d,3285377520],F=[],B,V=unescape(encodeURI(r)),G=V.length;a<=G;)F[a>>2]|=(V.charCodeAt(a)||128)<<8*(3-a++%4);for(F[B=G+8>>2|15]=G<<3;o<=B;o+=16){for(c=k,a=0;a<80;c=[[(E=((V=c[0])<<5|V>>>27)+c[4]+(u[a]=a<16?~~F[o+a]:E<<1|E>>>31)+1518500249)+((d=c[1])&(v=c[2])|~d&(_=c[3])),x=E+(d^v^_)+341275144,E+(d&v|d&_|v&_)+882459459,x+1535694389][0|a++/20]|0,V,d<<30|d>>>2,v,_])E=u[a-3]^u[a-8]^u[a-14]^u[a-16];for(a=5;a;)k[--a]=k[a]+c[a]|0}for(r="";a<40;)r+=(k[a>>3]>>(7-a++%8)*4&15).toString(16);return r}function S_(r){if(!r)return null;var o=PH(r),a=o[0]||"",u=null;return a.startsWith("dot")?(o[0]="dots",u=E_(o)):a.startsWith("square")?(o[0]="squares",u=E_(o)):a.startsWith("hatch")?(o[0]="hatches",u=C_(o)):a.startsWith("dash")?u=z5(o):isNaN(parseFloat(a))||(o.unshift("hatches"),u=C_(o)),u||he("Invalid pattern, ignoring:",r),u}function z5(r){r.shift();for(var o=[],a=r.pop(),u=Ao(r.pop()),c;r.length>0;)if(c=r.pop(),N5(c)){r.push(c);break}else o.push(c);var d=Ao(r.pop()),v=[Ao(r.pop()),Ao(r.pop())].reverse(),_=45;return r.length>0&&(_=Ao(r.pop())),r.length>0||!(d>0)?null:{type:"dashes",tileSize:[o.length*(d+u),g.sum(v)],colors:o,width:d,dashes:v,spacing:u,background:a,rotation:_}}function C_(r){r.shift();for(var o=r.length%2==1?Ao(r.shift()):45,a=[],u=[],c=0;c<r.length;c+=2)u.push(Ao(r[c])),a.push(r[c+1]);return Math.min.apply(null,u)>0?{tileSize:[g.sum(u),10],type:"hatches",colors:a,widths:u,rotation:o}:null}function N5(r){return Ao(r)>0}function E_(r){var o=[],a=r.shift(),u=0;N5(r[1])&&(u=Ao(r.shift()));for(var c=Ao(r.shift()),d=r.pop(),v=Ao(r.pop());r.length>0;)o.push(r.shift());if(!(c>0)||!(v>=0)||o.length===0)return null;var _=o.length*(c+v);return{type:a,tileSize:[_,_],colors:o,size:c,spacing:v,background:d,rotation:u}}function Ao(r){return parseFloat(r)||0}function PH(r){var o=/[, ]+(?![^(]*\))/;return String(r).trim().split(o)}function RH(r){return("hash_"+r).replace(/[()# ,_]+/g,"_")}function j5(r,o){var a=r["fill-pattern"],u=RH(a),c=g.find(o,function(d){return d.id==u});if(delete r["fill-pattern"],!c){if(c=BH(a,u),!c)return;o.push(c)}r.fill=c.href}function BH(r,o){var a=S_(r),u;return a?(a.type=="hatches"?u=zH(a):a.type=="dots"||a.type=="squares"?u=NH(a):a.type=="dashes"&&(u=LH(a)),{svg:OH(a,o,u),id:o,href:`url(#${o})`}):null}function OH(r,o,a){var u=r.tileSize[0],c=r.tileSize[1],d=`<pattern id="${o}" patternUnits="userSpaceOnUse" width="${u}" height="${c}" patternTransform="rotate(${r.rotation})">`;return r.background&&(d+=`<rect x="0" y="0" width="${u}" height="${c}" fill="${r.background}"></rect>`),d+a+"</pattern>"}function LH(r){for(var o="",a=0,u=0;a<r.colors.length;a++)o+=`<rect x="${u}" y="0" width="${r.width}" height="${r.dashes[0]}" fill="${r.colors[a]}"></rect>`,u+=r.width+r.spacing;return o}function zH(r){for(var o=r.tileSize[1],a="",u=0,c=0;u<r.widths.length;u++)a+=`<rect x="${c}" y="0" width="${r.widths[u]}" height="${o}" fill="${r.colors[u]}"></rect>`,c+=r.widths[u];return a}function NH(r){for(var o=r.size,a=r.colors.length,u=o+r.spacing,c=a*a,d=r.type=="squares"?qH:jH,v="",_=0,x=0,E=0;_<c;_++)v+=d(x,E,o,r.colors[(_+Math.floor(_/a))%a]),x=(_+1)%a*u,x===0&&(E+=u);return v}function jH(r,o,a,u){const c=a/2;return`<circle cx="${r+c}" cy="${o+c}" r="${c}" fill="${u}"></circle>`}function qH(r,o,a,u){return`<rect x="${r}" y="${o}" width="${a}" height="${a}" fill="${u}"></rect>`}var $H=Object.freeze({__proto__:null,parsePattern:S_,parseDashes:z5,parseHatches:C_,parseDots:E_,convertFillPattern:j5});function q5(){return{cx:.5,cy:.5,r:.57,fx:.35,fy:.35,stops:[{offset:.3,opacity:0},{offset:.6,opacity:.1},{offset:.78,opacity:.25},{offset:.87,opacity:.45},{offset:.95,opacity:1}]}}function $5(r,o){if(r["fill-effect"]=="sphere"){var a="mapshaper_sphere_effect",u=`url(#${a})`,c=q5(),d=c.stops.map(function(_){return`<stop offset="${_.offset}" stop-opacity="${_.opacity}"/>`}),v=`<radialGradient id="${a}" cx="${c.cx}" cy="${c.cy}" r="${c.r}" fx="${c.fx}" fy="${c.fy}">${d.join("")}</radialGradient>`;g.find(o,function(_){return _.id==a})||o.push({svg:v,id:a,href:u}),r.fill=u,!("opacity"in r)&&!("fill-opacity"in r)&&(r["fill-opacity"]=.35)}}var UH=Object.freeze({__proto__:null,getSphereEffectParams:q5,convertFillEffect:$5}),A_={};function GH(r){if(r in A_)return A_[r];var o=gi("sync-request")("GET",r,{timeout:2e3}),a=o.getBody().toString();return A_[r]=a,a}function HH(r,o){a(r);function a(u){u.tag=="path"&&u.properties["fill-pattern"]&&j5(u.properties,o),u.tag=="path"&&u.properties["fill-effect"]&&$5(u.properties,o),u.tag=="image"?/\.svg/.test(u.properties.href||"")&&VH(u,o):u.children&&u.children.forEach(a)}}function VH(r,o){var a=r.properties.href,u=g.find(o,function(c){return c.href==a});u||(u={href:a,id:KH(a)},u.svg=WH(a,u.id),o.push(u)),u.svg&&(r.tag="use",r.properties.href="#"+u.id)}function WH(r,o){var a="";try{a=XH(YH(r),o)+`
`,a="<!-- "+r+`-->
`+a}catch{}return a}function YH(r){var o;return r.indexOf("http")===0?o=GH(r):ee("Invalid SVG location:",r),o}function XH(r,o){return r=r.replace(/[^]*<svg/,"<svg"),r.replace(/^<svg[^>]*>/,function(a){return a=a.replace(/ id="[^"]*"/,""),a=a.replace(/<svg/,'<svg id="'+o+'"'),a})}function KH(r){return TH(r).substr(0,12)}function U5(r,o){var a='xmlns="http://www.w3.org/2000/svg"',u=[],c,d,v,_="";o.crisp_paths&&(_=`
<style>
  path {shape-rendering: crispEdges;}
</style>`),o.final?r.arcs&&r.arcs.flatten():r=V4(r),o=Object.assign({invert_y:!0,margin:"1"},o),c=Hy(r,o),Vy(r,c),fp(r,o.precision||1e-4),o.svg_data&&V5(r.layers,o.svg_data),v=r.layers,d=v.map(function(F){var B;return UC(F)?B=G5(F,c,o):B=H5(F,r,o),HH(B,u),w_(B)}).join(`
`),u.length>0&&(d=`<defs>
`+g.pluck(u,"svg").join("")+`</defs>
`+d),d.includes("xlink:")&&(a+=' xmlns:xlink="http://www.w3.org/1999/xlink"');var x=o.default_linecap||"round",E=`stroke-linecap="${x}" stroke-linejoin="round"`;d.includes('stroke-linejoin="miter"')&&(E+=' stroke-miterlimit="2"');var k=`<?xml version="1.0"?>
<svg ${a} version="1.2" baseProfile="tiny" width="%d" height="%d" viewBox="%s %s %s %s" ${E}>${_}
${d}
</svg>`;return d=g.format(k,c.width,c.height,0,0,c.width,c.height),[{content:d,filename:o.file||Ap(r)+".svg"}]}function G5(r,o,a){var u=k_(r,a);return u.children=TU(r,o),u}function ZH(r){var o=I4(r),a=o.getRecords()[0];!a.fill&&!a.stroke&&(a.fill="none")}function H5(r,o,a){var u=k_(r,a);return ep(r,o.arcs)&&(r=np(r),ZH(r)),u.children=JH(r,o,a),u}function JH(r,o,a){var u=g.defaults({layers:[r]},o),c=kp(u,a),d=c.features||c.geometries||(c.type?[c]:[]),v=gE(d,a);return a.svg_data&&r.data&&QH(v,r.data,a.svg_data),v}function V5(r,o){var a=o.reduce(function(c,d){return u(r,d)||c.push(d),c},[]);a.length&&a.indexOf("*")==-1&&ee("Missing data field(s):",a.join(", "));function u(c,d){return g.some(c,function(v){return v.data&&v.data.fieldExists(d)||!1})}}function QH(r,o,a){var u=o.getFields(),c=a.indexOf("*")>-1?u.concat():a,d=g.difference(c,u);d.length>0&&(c=g.difference(c,d));var v=o.getRecords(),_=W5(v,c);r.length!=_.length&&te("Mismatch between number of SVG symbols and data attributes"),r.forEach(function(x,E){g.extend(x.properties||{},_[E])})}function W5(r,o){var a=/^[a-z_][a-z0-9_-]*$/i,u=/^xml/,c=o.filter(function(v){return a.test(v)&&!u.test(v)}),d=g.difference(o,c);return d.length>0&&(he("Unable to add data-* attributes for field(s):",d.join(", ")),he("data-* names should match pattern [a-z_][a-z0-9_-]*")),r.map(function(v){for(var _={},x=0;x<c.length;x++)_["data-"+c[x].toLowerCase()]=eV(v[c[x]]);return _})}function eV(r){return String(r)}function k_(r,o){var a=(o.id_prefix||"")+(r.name||g.getUniqueName("layer")),u={tag:"g",properties:{id:a},children:[]};return(r.geometry_type=="polyline"||F_(r))&&(u.properties.fill="none"),r.geometry_type=="polyline"&&(u.properties.stroke="black",u.properties["stroke-width"]=1),(K5(r)||F_(r)||UC(r))&&(u.properties["font-family"]="sans-serif",u.properties["font-size"]="12",u.properties["text-anchor"]="middle"),u}function Y5(r){return!!(r&&(r["svg-symbol"]||r.r))}function X5(r){var o=r&&r["label-text"];return o||o===0}function F_(r){return r.geometry_type=="point"&&r.data&&r.data.fieldExists("svg-symbol")}function K5(r){var o=r.geometry_type=="point"&&r.data&&r.data.fieldExists("label-text");return o}var tV=Object.freeze({__proto__:null,exportSVG:U5,exportFurnitureLayerForSVG:G5,exportLayerForSVG:H5,validateSvgDataFields:V5,exportDataAttributesForSVG:W5,getEmptyLayerForSVG:k_,featureHasSvgSymbol:Y5,featureHasLabel:X5,layerHasSvgSymbols:F_,layerHasLabels:K5}),Z5={css:"inlinecss",class:"classname",dx:"measure",dy:"measure",fill:"color","fill-pattern":"pattern","fill-effect":null,"font-family":null,"font-size":null,"font-style":null,"font-stretch":null,"font-weight":null,"label-text":null,"letter-spacing":"measure","line-height":"measure",opacity:"number",r:"number",stroke:"color","stroke-dasharray":"dasharray","stroke-width":"number","stroke-opacity":"number","stroke-miterlimit":"number","fill-opacity":"number","vector-effect":null,"text-anchor":null},J5=g.extend({type:null,length:"number",rotation:"number",radius:"number",radii:null,flipped:"boolean",rotated:"boolean",direction:"number",sides:"number",points:"number",anchor:null,"head-angle":"number","head-width":"number","head-length":"number","stem-width":"number","stem-curve":"number","stem-taper":"number","stem-length":"number","min-stem-ratio":"number","arrow-scaling":"number",effect:null},Z5),Ip="css,class,opacity,stroke,stroke-width,stroke-dasharray,stroke-opacity,fill-opacity,vector-effect".split(","),nV={polygon:g.arrayToIndex(Ip.concat("fill","fill-pattern","fill-effect")),polyline:g.arrayToIndex(Ip.concat("stroke-linecap","stroke-linejoin","stroke-miterlimit")),point:g.arrayToIndex(Ip.concat("fill","r")),label:g.arrayToIndex(Ip.concat("fill,font-family,font-size,text-anchor,font-weight,font-style,font-stretch,letter-spacing,dominant-baseline".split(",")))};function Ma(r,o,a,u){for(var c=eE(Object.keys(a||{}),o),d=0,v=c.length;d<v;d++)u&&!u(c[d])||Q5(r,c[d],a[c[d]]);(o=="polygon"||o=="circle")&&a.stroke&&!a.fill&&Q5(r,"fill","none")}function Q5(r,o,a){r.properties||(r.properties={}),r.properties[o]=a,o=="stroke-dasharray"&&a&&(r.properties["stroke-linecap"]="butt")}function rV(r){return r in Z5}function iV(r){return r in J5}function eE(r,o){var a=nV[o]||{};return r.filter(function(u){return u in a})}function oV(r,o){var a={},u=[];return r.data&&r.data.getFields(),Object.keys(o).forEach(function(c){var d=c.replace(/_/g,"-");if(iV(d)){var v=o[c];a[d]=nE(v,d,r),u.push(d)}}),function(c){for(var d={},v,_=0;_<u.length;_++)v=u[_],d[v]=a[v](c);return d}}function tE(r,o){return o=o||[],o.indexOf(r.trim())>-1?!0:/[(){}./*?:&|=[+-]/.test(r)}function nE(r,o,a){var u=String(r).trim(),c=J5[o],d=a.data?a.data.getFields():[],v=null,_;if(c&&d.indexOf(u)===-1&&(v=sV(u,c)),v===null&&tE(u,d)&&(_=aV(u,a)),!_&&v===null&&!c&&(v=u),_)return _;if(v!==null)return function(x){return v};ee("Unexpected value for",o+":",u)}function aV(r,o){var a;try{a=Jo(r,o,null,{no_warn:!0}),a(0)}catch{a=null}return a}function sV(r,o){var a=null;return o=="number"?a=iE(r)?Number(r):null:o=="color"?a=uE(r)?r:null:o=="classname"?a=rE(r)?r:null:o=="measure"?a=aE(r)?sE(r):null:o=="dasharray"?a=lV(r)?r:null:o=="pattern"?a=uV(r)?r:null:o=="boolean"?a=oE(r):o=="inlinecss"&&(a=r),a}function uV(r){return!!S_(r)}function lV(r){return/^[0-9]+( [0-9]+)*$/.test(r)}function rE(r){return/^( ?[_a-z][-_a-z0-9]*\b)+$/i.test(r)}function iE(r){return g.isFiniteNumber(r)||g.isString(r)&&/^-?[.0-9]+$/.test(r)}function oE(r){return r===!0||r==="true"?!0:r===!1||r==="false"?!1:null}function aE(r){return g.isFiniteNumber(r)||g.isString(r)&&/^-?[.0-9]+[a-z]*$/.test(r)}function sE(r){return g.isString(r)&&/[a-z]/.test(r)?r:Number(r)}function uE(r){return/^[a-z]+$/i.test(r)||/^#[0-9a-f]+$/i.test(r)||/^rgba?\([0-9,. ]+\)$/.test(r)}var cV=Object.freeze({__proto__:null,applyStyleAttributes:Ma,isSupportedSvgStyleProperty:rV,findPropertiesBySymbolGeom:eE,getSymbolDataAccessor:oV,mightBeExpression:tE,getSymbolPropertyAccessor:nE,isSvgClassName:rE,isSvgNumber:iE,parseBoolean:oE,isSvgMeasure:aE,parseSvgMeasure:sE,isSvgColor:uE});function fV(r){return r||r===0||r===!1?String(r):""}function I_(r){var o=lE(r);return Ma(o,"label",r),o}function lE(r){var o=fV(r["label-text"]),a,u,c=/\n|\\n|<br>/i,d=r.dx||0,v=r.dy||0,_={y:v,x:d};return c.test(o)&&(a=o.split(c),o=a.shift()),u={tag:"text",value:o,properties:_},a&&(u.children=[],a.forEach(function(x){var E={tag:"tspan",value:x,properties:{x:d,dy:r["line-height"]||"1.1em"}};u.children.push(E)})),u}var hV=Object.freeze({__proto__:null,renderStyledLabel:I_,renderLabel:lE});function Mp(r,o){var a="translate("+Ly(r[0])+" "+Ly(r[1])+")";return o&&o!=1&&(a+=" scale("+o+")"),a}var cE={line:mV,polygon:_V,polyline:yV,circle:pE,square:vV,image:gV,group:wV,label:pV,offset:bV};function fE(r){var o=[];Y5(r)&&o.push(dV(r)),X5(r)&&o.push(I_(r));var a=o.length>1?{tag:"g",children:o}:o[0];return a?(a.properties=a.properties||{},a):null}function dV(r){return r["svg-symbol"]?hE(r["svg-symbol"]):r.r>0?pE(r):dE()}function hE(r,o,a){if(g.isString(r)&&(r=JSON.parse(r)),r.tag)return r;var u=cE[r.type];if(!u)return he(r.type?"Unknown symbol type: "+r.type:"Symbol is missing a type property"),dE();var c=u(r,o||0,a||0);return r.opacity&&(c.properties.opacity=r.opacity),c}function dE(){return{tag:"g",properties:{},children:[]}}function pE(r,o,a){var u={tag:"circle",properties:{cx:o||0,cy:a||0}};return Ma(u,"point",r),u}function pV(r,o,a){var u=I_(r);return(o||a)&&(u.properties.transform=Mp([o,a])),u}function gV(r,o,a){var u=r.width||20,c=r.height||20,d={tag:"image",properties:{width:u,height:c,x:(o||0)-u/2,y:(a||0)-c/2,href:r.href||""}};return r.fill&&(d.properties.fill=r.fill),d}function vV(r,o,a){var u=r.r||0,c={tag:"rect",properties:{x:o-u,y:a-u,width:u*2,height:u*2}};return Ma(c,"point",r),c}function mV(r,o,a){var u,c;return u=[[o,a],[o+(r.dx||0),a+(r.dy||0)]],c=D_(u),Ma(c,"polyline",r),c}function yV(r){var o=r.coordinates||[],a=T_(o);return Ma(a,"polyline",r),a}function _V(r){var o=r.coordinates||[],a=Dp(o);return Ma(a,"polygon",r),a}function bV(r,o,a){var u=(o||0)+(r.dx||0),c=(a||0)+(r.dy||0);return{tag:"g",properties:{transform:Mp([u,c])},children:[]}}function wV(r,o,a){var u={tag:"g",children:[]},c=u.children;return(r.parts||[]).forEach(function(d){var v=hE(d,o,a);c.push(v),d.type=="line"&&(o+=d.dx||0,a+=d.dy||0),d.type=="offset"&&(c=v.children,o=a=0)}),u.children.length==1&&!u.properties?u.children[0]:u}var xV=Object.freeze({__proto__:null,getTransform:Mp,symbolRenderers:cE,renderPoint:fE}),SV={Point:M_,Polygon:Dp,LineString:D_,MultiPoint:EV,MultiLineString:T_,MultiPolygon:mE};function gE(r,o){return o=o||{},r.map(function(a){var u=a.type=="Feature"?a.geometry:a,c=u&&u.type,d=Wt.translateGeoJSONType(c),v=a.properties||{},_=null;if(c&&u.coordinates&&(_=SV[c](u.coordinates,v)),_)d=="polyline"||d=="polygon"?Ma(_,d,v):d=="point"&&vE(v)&&Ma(_,d,v,CV);else return{tag:"g"};return"id"in a&&(_.properties||(_.properties={}),_.properties.id=(o.id_prefix||"")+a.id),_})}function M_(r,o){if(o=o||{},vE(o))return{tag:"circle",properties:{cx:r[0],cy:r[1],r:o.r}};var a=fE(o);return a&&(a.properties.transform=Mp(r)),a}function CV(r){return r!="r"}function vE(r){return r&&r.r>0&&!r["svg-symbol"]&&!r["label-text"]}function EV(r,o){for(var a=[],u,c=0;c<r.length;c++)u=M_(r[c],o),u&&(u.tag=="g"&&u.children?a=a.concat(u.children):a.push(u));return a.length>0?{tag:"g",children:a}:null}function D_(r){var o=vp(r);return{tag:"path",properties:{d:o}}}function T_(r){var o=r.map(vp).join(" ");return{tag:"path",properties:{d:o}}}function mE(r){return Dp(yE(r))}function yE(r){return r.reduce(function(o,a){return o.concat(a)},[])}function Dp(r){if(r.length===0)return null;var o={tag:"path",properties:{d:WC(r)}};return r.length>1&&(o.properties["fill-rule"]="evenodd"),o}var AV=Object.freeze({__proto__:null,importGeoJSONFeatures:gE,importPoint:M_,importLineString:D_,importMultiLineString:T_,importMultiPolygon:mE,flattenMultiPolygonCoords:yE,importPolygon:Dp});function Kn(r,o){g.isNumber(r)?r=new ArrayBuffer(r):r instanceof ArrayBuffer||(typeof w=="function"&&r instanceof w||r instanceof Uint8Array?r.buffer&&r.buffer.byteLength==r.length?r=r.buffer:r=Kn.copyToArrayBuffer(r):te("BinArray constructor takes an integer, ArrayBuffer or Buffer argument")),this._buffer=r,this._bytes=new Uint8Array(r),this._view=new DataView(r),this._idx=0,this._le=o!==!1}Kn.bufferToUintArray=function(r,o){if(o==4)return new Uint32Array(r);if(o==2)return new Uint16Array(r);if(o==1)return new Uint8Array(r);te("BinArray.bufferToUintArray() invalid word length:",o)},Kn.uintSize=function(r){return r&1||r&2||4},Kn.bufferCopy=function(r,o,a,u,c){u=u||0,c=c||a.byteLength-u,r.byteLength-o<c&&te("Buffer overflow; tried to write:",c);for(var d=Math.min(Kn.uintSize(c),Kn.uintSize(u),Kn.uintSize(r.byteLength),Kn.uintSize(o),Kn.uintSize(a.byteLength)),v=Kn.bufferToUintArray(a,d),_=Kn.bufferToUintArray(r,d),x=c/d,E=u/d,k=o/d;x--;)_[k++]=v[E++];return c},Kn.copyToArrayBuffer=function(r){for(var o=r.length,a=new ArrayBuffer(o),u=new Uint8Array(a),c=0;c<o;c++)u[c]=r[c];return a},Kn.bufferSize=function(r){return r instanceof ArrayBuffer?r.byteLength:r.length|0},Kn.prototype={size:function(){return this._buffer.byteLength},littleEndian:function(){return this._le=!0,this},bigEndian:function(){return this._le=!1,this},buffer:function(){return this._buffer},bytesLeft:function(){return this._buffer.byteLength-this._idx},skipBytes:function(r){return this._idx+=r+0,this},readUint8:function(){return this._bytes[this._idx++]},writeUint8:function(r){return this._bytes[this._idx++]=r,this},readInt8:function(){return this._view.getInt8(this._idx++)},writeInt8:function(r){return this._view.setInt8(this._idx++,r),this},readUint16:function(){var r=this._view.getUint16(this._idx,this._le);return this._idx+=2,r},writeUint16:function(r){return this._view.setUint16(this._idx,r,this._le),this._idx+=2,this},readUint32:function(){var r=this._view.getUint32(this._idx,this._le);return this._idx+=4,r},writeUint32:function(r){return this._view.setUint32(this._idx,r,this._le),this._idx+=4,this},readInt32:function(){var r=this._view.getInt32(this._idx,this._le);return this._idx+=4,r},writeInt32:function(r){return this._view.setInt32(this._idx,r,this._le),this._idx+=4,this},readFloat64:function(){var r=this._view.getFloat64(this._idx,this._le);return this._idx+=8,r},writeFloat64:function(r){return this._view.setFloat64(this._idx,r,this._le),this._idx+=8,this},readFloat64Array:function(r){var o=r*8,a=this._idx,u=this._buffer,c;if(a%8===0)c=new Float64Array(u,a,r);else if(u.slice)c=new Float64Array(u.slice(a,a+o));else{var d=new ArrayBuffer(o);Kn.bufferCopy(d,0,u,a,o),c=new Float64Array(d)}return this._idx+=o,c},readUint32Array:function(r){for(var o=[],a=0;a<r;a++)o.push(this.readUint32());return o},peek:function(r){return this._view.getUint8(r>=0?r:this._idx)},position:function(r){return r!=null?(this._idx=r,this):this._idx},readCString:function(r,o){for(var a="",u=r>=0?r:this.bytesLeft();u>0;){var c=this.readUint8();if(u--,c==0)break;if(c>127&&o){a=null;break}a+=String.fromCharCode(c)}return r>0&&u>0&&this.skipBytes(u),a},writeString:function(r,o){var a=0,u=r.length,c;o&&(u=Math.min(u,o));for(var d=0;d<u;d++)c=r.charCodeAt(d),c>127&&(c=63),this.writeUint8(c),a++;return a},writeCString:function(r,o){var a=o?o-1:null,u=this.writeString(r,a);if(this.writeUint8(0),u++,o)for(;u<o;)this.writeUint8(0),u++;return this},writeBuffer:function(r,o,a){return this._idx+=Kn.bufferCopy(this._buffer,this._idx,r,a,o),this}};var oo={},Tp=254;oo.MAX_STRING_LEN=Tp,oo.convertValueToString=bE,oo.convertFieldNames=wE,oo.discoverFieldType=SE,oo.getDecimalFormatter=CE,oo.getNumericFieldInfo=EE,oo.truncateEncodedString=kE,oo.getFieldInfo=xE,oo.exportRecords=FV;function kV(){var r=5e3,o,a;u();function u(){o=new Uint8Array(r),a=0}return{reserve:function(c){return a+c>r&&u(),a+=c,o.subarray(a-c,a)},putBack:function(c){a-=c}}}var _E=new kV;function FV(r,o,a){var u=r.length,c=Q0(r,a),d=o||"utf8",v=uy(c.join(""))?"ascii":d,_=wE(c,v),x=BV(_,v),E=c.map(function(J,ue){var se=xE(r,J,d);return se.warning&&he("["+J+"] "+se.warning),se}),k=IV(E.length),F=MV(g.pluck(E,"size")),B=k+u*F+1,V=new ArrayBuffer(B),G=new Kn(V).littleEndian(),H=new Date;return G.writeUint8(3),G.writeUint8(H.getFullYear()-1900),G.writeUint8(H.getMonth()+1),G.writeUint8(H.getDate()),G.writeUint32(u),G.writeUint16(k),G.writeUint16(F),G.skipBytes(17),G.writeUint8(0),G.skipBytes(2),E.reduce(function(J,ue,se){return G.writeBuffer(x[se],11,0),G.writeUint8(ue.type.charCodeAt(0)),G.writeUint32(J),G.writeUint8(ue.size),G.writeUint8(ue.decimals),G.skipBytes(14),J+ue.size},1),G.writeUint8(13),G.position()!=k&&te("Dbf#exportRecords() header size mismatch; expected:",k,"written:",G.position()),r.forEach(function(J,ue){var se=G.position();G.writeUint8(32);for(var me=0,N=E.length;me<N;me++)E[me].write(ue,G);G.position()-se!=F&&te("#exportRecords() Error exporting record:",J)}),G.writeUint8(26),G.position()!=B&&te("Dbf#exportRecords() file size mismatch; expected:",B,"written:",G.position()),V}function IV(r){return 33+r*32}function MV(r){return g.sum(r)+1}function DV(r,o,a){var u=18,c,d;c=EE(o,a),r.decimals=c.decimals,d=Math.max(c.max.toFixed(r.decimals).length,c.min.toFixed(r.decimals).length),d>u&&(d=u,r.decimals-=d-u,r.decimals<0&&te("Dbf#getFieldInfo() Out-of-range error.")),r.size=d;var v=CE(d,r.decimals);r.write=function(_,x){var E=o[_],k=v(E[a]);k.length<d&&(k=g.lpad(k,d," ")),x.writeString(k,d)}}function TV(r,o,a){r.size=1,r.write=function(u,c){var d=o[u][a],v;d===!0?v="T":d===!1?v="F":v="?",c.writeString(v)}}function PV(r,o,a){r.size=8,r.write=function(u,c){var d=o[u][a],v;d instanceof Date?v=g.lpad(d.getUTCFullYear(),4,"0")+g.lpad(d.getUTCMonth()+1,2,"0")+g.lpad(d.getUTCDate(),2,"0"):v="00000000",c.writeString(v)}}function bE(r){return r==null?"":String(r)}function RV(r,o,a,u){var c=u=="ascii"?AE:LV(u),d=1,v=0,_=o.map(function(x){var E=bE(x[a]),k=c(E);return k.length>Tp&&(u=="ascii"?k=k.subarray(0,Tp):k=kE(k,u,Tp),v++),d=Math.max(d,k.length),k});r.size=d,r.write=function(x,E){var k=_[x],F=Math.min(d,k.length),B=E._bytes,V=E.position(),G;for(G=0;G<F;G++)B[G+V]=k[G];E.position(V+d)},v>0&&(r.warning="Truncated "+v+" string"+(v==1?"":"s")+" to fit the 254-byte limit")}function BV(r,o){return r.map(function(a){for(var u=_u(a,o),c=u.length,d=g.createBuffer(11),v=0;v<11;v++)d[v]=v<10&&c>=v-1?u[v]:0;return d})}function wE(r,o){var a=ly(r.map(OV),10,o);return a.forEach(function(u,c){r[c]!=u&&he('Changed field name from "'+r[c]+'" to "'+u+'"')}),a}function OV(r){return r.replace(/[-\s]+/g,"_")}function xE(r,o,a){var u=SE(r,o),c={type:u,decimals:0};return u=="N"?DV(c,r,o):u=="C"?RV(c,r,o,a):u=="L"?TV(c,r,o):u=="D"?PV(c,r,o):(c.size=0,c.type="N",u&&(c.warning="Unable to export "+u+"-type data, writing null values"),c.write=function(){}),c}function SE(r,o){for(var a,u=0,c=r.length;u<c;u++){if(a=r[u][o],g.isString(a))return"C";if(g.isNumber(a))return"N";if(g.isBoolean(a))return"L";if(a instanceof Date)return"D";if(a)return typeof a}return null}function CE(r,o){var a=" ";return function(u){var c=g.isFiniteNumber(u),d=c?u.toFixed(o):String(a);return g.lpad(d,r," ")}}function EE(r,o){for(var a=0,u=0,c=1,d=1,v=0,_=1e-15,x,E=0,k=r.length;E<k;E++)if(x=r[E][o],!!g.isFiniteNumber(x)){if(x<a||x>u)for(x<a&&(a=x),x>u&&(u=x);Math.abs(x)>=d;)d*=10,_*=10;for(;Math.abs(Math.round(x*c)-x*c)>_&&v!=15;)v++,_*=10,c*=10}return{decimals:v,min:a,max:u}}function AE(r,o){var a=String(r),u=a.length,c=_E.reserve(u),d,v;for(d=0;d<u;d++){if(v=a.charCodeAt(d),v>127){if(o){c=null,d=0;break}v=63}c[d]=v}return _E.putBack(u-d),c?c.subarray(0,d):null}function LV(r){return function(o){var a=AE(o,!0);return a===null&&(a=_u(String(o),r)),a}}function kE(r,o,a){for(var u=r.slice(0,a),c=a,d,v;c>0&&c>=a-3;){if(d=c==a?u:r.slice(0,c),v=bu(d,o),v.charAt(v.length-1)!=""){u=d;break}c--}return u}function FE(r){var o=r.length;return o>=2&&r[0]==254&&r[1]==255?"utf16be":o>=2&&r[0]==255&&r[1]==254?"utf16le":o>=3&&r[0]==239&&r[1]==187&&r[2]==191?"utf8":""}function IE(r){var o=[{encoding:"latin1",confidence:0},{encoding:"win1252",confidence:zV(r)},{encoding:"utf8",confidence:NV(r)},{encoding:"gb18030",confidence:jV(r)}];return g.sortOn(o,"confidence","descending"),o[0]}function Wl(r,o){return o.map(function(a){return bu(a,r).trim()})}function zV(r){var o=`abcdefghijklmnopqrstuvwxyz0123456789.()'"?+-
,:;/|_$% `,a="",u=Wl("win1252",r).join(""),c=R_(u,o),d=R_(u,a)+c,v=d>.98&&c>=.8,_=d>.97&&c>=.6;return P_(v,_)}function NV(r){var o=Wl("utf8",r).join(""),a=ME(o),u=a==0,c=a<.03;return P_(u,c)}function jV(r){var o="",a=Wl("gb18030",r).join(""),u=a.replace(/[^\u4e00-\u9fa5]/g,""),c=u.length/a.length,d=qV(a),v=d.length/a.length,_=R_(u,o),x=ME(a),E=c>.5&&c+v>.9&&x===0&&_>.25,k=c>.3&&c+v>.8&&_>.15;return P_(E,k)}function P_(r,o){return r&&2||o&&1||0}function ME(r){var o=(r.match(/\ufffd/g)||[]).length;return o/r.length}function qV(r){return r.replace(/[^a-zA-Z0-9.()'"?+\n,:;/|_$% -]/g,"")}function R_(r,o){var a={},u=0;r=r.toLowerCase();for(var c=0,d=o.length;c<d;c++)a[o[c]]=1;for(c=0,d=r.length;c<d;c++)u+=a[r[c]]||0;return u/r.length||0}var $V=Object.freeze({__proto__:null,detectEncodingFromBOM:FE,detectEncoding:IE,decodeSamples:Wl});function ao(){return typeof window<"u"&&typeof window.document<"u"}var sn={};sn.isFile=function(r,o){if(o&&r in o)return!0;if(ao())return!1;var a=sn.statSync(r);return a&&a.isFile()||!1},sn.isDirectory=function(r){if(ao())return!1;var o=sn.statSync(r);return o&&o.isDirectory()||!1},sn.readFile=function(r,o,a){var u;return a&&r in a?(u=a[r],delete a[r]):((T("input_files")||[]).push(r),u=gi("fs").readFileSync(r)),o&&w.isBuffer(u)&&(u=J0(bu(u,o))),u},sn.createDirIfNeeded=function(r){var o=Co(r).directory;if(!(!o||sn.isDirectory(o)||r=="/dev/stdout"))try{gi("fs").mkdirSync(o,{recursive:!0}),he("Created output directory:",o)}catch{ee("Unable to create output directory:",o)}},sn.writeFileSync=function(r,o){sn.createDirIfNeeded(r),g.isString(o)?gi("fs").writeFileSync(r,o):sn.writeFileInChunks(r,o,1e7)},sn.writeFileInChunks=function(r,o,a){var u=gi("fs"),c=u.openSync(r,"w"),d=0,v=o.length,_,x;do x=Math.min(a,v-d),_=u.writeSync(c,o,d,x),d+=_;while(_>0&&d<v);u.closeSync(c)},sn.convertArrayBuffer=function(r){for(var o=new Uint8Array(r),a=g.createBuffer(o.length),u=0,c=o.length;u<c;u++)a[u]=o[u];return a},sn.expandDirectoryName=function(r){var o=Co(r);if(!o.filename.includes("*"))return[r];var a=g.wildcardToRegExp(o.filename),u=[];return gi("fs").readdirSync(o.directory||".").forEach(function(c){var d=o.directory?gi("path").join(o.directory,c):c;a.test(c)&&sn.isDirectory(d)&&u.push(d)}),u},sn.expandFileName=function(r){var o=Co(r),a=g.wildcardToRegExp(o.filename),u=sn.expandDirectoryName(o.directory||"."),c=[];try{u.forEach(function(d){gi("fs").readdirSync(d).forEach(function(v){var _=gi("path").join(d,v);a.test(v)&&sn.isFile(_)&&c.push(_)})})}catch{}return c.length===0&&ee("No files matched ("+r+")"),c},sn.expandInputFiles=function(r){return r.reduce(function(o,a){return a.indexOf("*")>-1?o=o.concat(sn.expandFileName(a)):o.push(a),o},[])},sn.validateOutputDir=function(r){!sn.isDirectory(r)&&!ao()&&te("Output directory not found:",r)},sn.checkFileExists=function(r,o){!sn.isFile(r,o)&&r!="/dev/stdin"&&ee("File not found ("+r+")")},sn.statSync=function(r){var o=null;try{o=gi("fs").statSync(r)}catch{}return o};function B_(r,o){return hh(r.readSync(0,Math.min(o||1e3,r.size())))}function DE(r){var o=0;this.position=function(){return o},this.remaining=function(){return Math.max(r.size()-o,0)},this.advance=function(a){o+=a},this.readSync=function(){return r.readSync(o)},this.expandBuffer=function(){r.expandBuffer()}}function ku(r){var o=r.byteLength||r.length,a,u;this.readToBinArray=function(d,v){return o<d+v&&te("Out-of-range error"),a||(a=new Kn(r)),a.position(d),a},this.toString=function(d){return hh(c(),d)},this.readSync=function(d,v){return c().slice(d,v?d+v:o)};function c(){return u||(u=g.toBuffer(r)),u}this.findString=us.prototype.findString,this.expandBuffer=function(){return this},this.size=function(){return o},this.close=function(){}}function us(r,o){var a=gi("fs"),u=a.statSync(r).size,c=o&&o.cacheSize||16777216,d=o&&o.bufferSize||262144,v,_,x,E;(T("input_files")||[]).push(r),this.expandBuffer=function(){return d*=2,d*2>c&&(c=d*2),this},this.readToBinArray=function(F,B){return k(F,B)&&(E=new Kn(x)),E.position(F-_),E},this.readSync=function(F,B){return B>0||(B=d),F+B>u&&(B=u-F),B===0?g.createBuffer(0):(k(F,B),x.slice(F-_,F-_+B))},this.size=function(){return u},this.toString=function(F){return sn.readFile(r,F||"utf8")},this.close=function(){v&&(a.closeSync(v),v=null,x=null)};function k(F,B){var V=u-F,G,H;return(V<B||V<0)&&te("Tried to read past end-of-file"),x&&F>=_&&_+x.length>=F+B?!1:(H=Math.max(c,B),V<H&&(H=V),(!x||H!=x.length)&&(x=g.createBuffer(H)),v||(v=a.openSync(r,"r")),G=a.readSync(v,x,0,H,F),_=F,G!=H&&te("Error reading file"),!0)}}us.prototype.findString=function(r,o){var a=Math.min(this.size(),o||this.size()),u=this.readSync(0,a),c=r.length,d=u.length-c,v=r.charCodeAt(0),_;for(_=0;_<d;_++)if(u[_]==v&&u.toString("utf8",_,_+c)==r)return{offset:_+c,text:u.toString("utf8",0,_)};return null};var UV=Object.freeze({__proto__:null,readFirstChars:B_,Reader2:DE,BufferReader:ku,FileReader:us}),TE=[1,"437",2,"850",3,"1252",8,"865",9,"437",10,"850",11,"437",13,"437",14,"850",15,"437",16,"850",17,"437",18,"850",19,"932",20,"850",21,"437",22,"850",23,"865",24,"437",25,"437",26,"850",27,"437",28,"863",29,"850",31,"852",34,"852",35,"852",36,"860",37,"850",38,"866",55,"850",64,"852",77,"936",78,"949",79,"950",80,"874",87,"1252",88,"1252",89,"1252",100,"852",101,"866",102,"865",103,"861",106,"737",107,"857",108,"863",120,"950",121,"949",122,"936",123,"932",124,"874",134,"737",135,"852",136,"857",200,"1250",201,"1251",202,"1254",203,"1253",204,"1257"],PE={932:"Japanese",936:"Simplified Chinese",950:"Traditional Chinese",1252:"Western European",949:"Korean",874:"Thai",1250:"Eastern European",1251:"Russian",1254:"Turkish",1253:"Greek",1257:"Baltic"},GV=`To set the text encoding, re-import using the "encoding=" option.
To list the supported encodings, run the "encodings" command.`;function HV(r){var o=TE.indexOf(r);return o==-1?null:TE[o+1]}function Pp(r,o,a){for(var u=r.position(),c=0,d,v=0;v<o&&(d=r.readUint8(),d!==0);v++)(c>0||d!=32)&&(a[c++]=d);for(;c>0&&a[c-1]==32;)c--;return r.position(u+o),c}function RE(r){var o=r||"ascii",a=Nl(o),u=g.createBuffer(256);return a=="utf8"||a=="ascii"?function(c,d){var v=Pp(c,d,u);return u.toString(a,0,v)}:function(d,v){var _=Pp(d,v,u),x="",E,k;for(E=0;E<_;E++){if(k=u[E],k>127)return hh(u,o,0,_);x+=String.fromCharCode(k)}return x}}function BE(r,o){for(var a=0;a<o;a++)if(r[a]>=128)return!0;return!1}function VV(){var r=RE("ascii");return function(a,u){var c=r(a,u),d;return c.indexOf(",")>=0&&(c=c.replace(",",".")),d=parseFloat(c),isNaN(d)?null:d}}function WV(r,o){return r.readInt32()}function YV(r,o){var a=r.readCString(o),u=null;return/[ty]/i.test(a)?u=!0:/[fn]/i.test(a)&&(u=!1),u}function XV(r,o){var a=r.readCString(o),u=a.substr(0,4),c=a.substr(4,2),d=a.substr(6,2);return new Date(Date.UTC(+u,+c-1,+d))}function OE(r,o){var a={cacheSize:33554432,bufferSize:4194304},u=g.isString(r)?new us(r,a):new ku(r),c=x(u),d,v;this.size=function(){return c.recordCount},this.readRow=function(N){return H()(N)},this.getFields=k,this.getBuffer=function(){return u.readSync(0,u.size())},this.deleteField=function(N){_(),d=d.filter(function(Z){return Z.name!=N})},this.readRows=function(){for(var N=H(),Z=[],re=0,_e=this.size();re<_e;re++)Z.push(N(re));return Z};function _(){if(!d){var N="ascii";B(),se().length>0&&(N=V()),d=c.fields.map(function(Z){var re=g.extend({},Z);return re.name=bu(Z.namebuf,N),re}),ly(g.pluck(d,"name")).forEach(function(Z,re){d[re].name=Z})}}function x(N){var Z=8193,re=N.readToBinArray(0,Math.min(Z,N.size()));re.position(0).littleEndian();var _e={version:re.readInt8(),updateYear:re.readUint8(),updateMonth:re.readUint8(),updateDay:re.readUint8(),recordCount:re.readUint32(),dataOffset:re.readUint16(),recordSize:re.readUint16(),incompleteTransaction:re.skipBytes(2).readUint8(),encrypted:re.readUint8(),mdx:re.skipBytes(12).readUint8(),ldid:re.readUint8()},Ie=1,qe;for(re.skipBytes(2),_e.fields=[];re.peek()!=13&&re.peek()!=10&&re.position()<_e.dataOffset-1;)qe=E(re),qe.columnOffset=Ie,_e.fields.push(qe),Ie+=qe.size;return Ie!=_e.recordSize&&te("Record length mismatch; header:",_e.recordSize,"detected:",Ie),re.peek()!=13&&he("Found a non-standard DBF header terminator ("+re.peek()+"). DBF file may be corrupted."),_e}function E(N){var Z=g.createBuffer(11),re=Pp(N,11,Z);return{namebuf:g.createBuffer(Z.slice(0,re)),type:String.fromCharCode(N.readUint8()),address:N.readUint32(),size:N.readUint8(),decimals:N.readUint8(),id:N.skipBytes(2).readUint8(),position:N.skipBytes(2).readUint8(),indexFlag:N.skipBytes(7).readUint8()}}function k(){return _(),g.pluck(d,"name")}function F(N){return c.dataOffset+c.recordSize*N}function B(){v||(v=o||ue())}function V(){return B(),v}function G(){var N=k().map(function(Z,re){return JSON.stringify(Z)+": arguments["+re+"]"});return new Function("return {"+N.join(",")+"};")}function H(){_();var N=d.map(J),Z=G(),re=[];return function(Ie){var qe=u.readToBinArray(F(Ie),c.recordSize),De=qe.position(),ve,It;(qe.bytesLeft()<c.recordSize||qe.bytesLeft()==c.recordSize&&qe.peek(qe.size()-1)==26)&&ee("Invalid DBF file: encountered end-of-file while reading data");for(var kt=0,ct=d.length;kt<ct;kt++)It=d[kt],ve=De+It.columnOffset,qe.position(ve),re[kt]=N[kt](qe,It.size);return Z.apply(null,re)}}function J(N){var Z=N.type,re=null;return Z=="I"?re=WV:Z=="F"||Z=="N"?re=VV():Z=="L"?re=YV:Z=="D"?re=XV:Z=="C"?re=RE(V()):(he('Field "'+N.name+'" has an unsupported type ('+N.type+") -- converting to null values"),re=function(){return null}),re}function ue(){var N=c.ldid,Z=HV(N),re=me(),_e=re.length===0,Ie;if(Z&&N!=87?Ie=Z:_e&&(Ie="ascii"),!Ie){var qe=IE(re),De;Ie=qe.encoding,qe.confidence<2&&(De="Warning: Unable to auto-detect the DBF file text encoding"+(qe.confidence==1?" with high confidence":"")+".",De+=" Defaulting to "+Ie+(Ie in PE?" ("+PE[Ie]+").":"."),De+=`

Sample of how non-ascii text was imported:
`,ao()?De+="<pre>"+Te(Wl(Ie,re),50)+"</pre>":De+=Te(Wl(Ie,re)),De+=`

`+GV+`
`,he(De))}return Ie}function se(){var N=[];return c.fields.forEach(function(Z){BE(Z.namebuf,Z.namebuf.length)&&N.push(Z.namebuf)}),N}function me(){var N=[],Z=c.fields.filter(function(Qr){return Qr.type=="C"}),re=Z.length,_e=Math.min(c.recordCount,1e4),Ie=50,qe=g.createBuffer(256),De={},ve,It,kt,ct,Tt,$t;N=se();for(var Vt=0;Vt<_e;Vt++){Tt=u.readToBinArray(F(Vt),c.recordSize),$t=Tt.position();for(var kn=0;kn<re&&!(N.length>=Ie);kn++)ve=Z[kn],Tt.position($t+ve.columnOffset),It=Pp(Tt,ve.size,qe),It>0&&BE(qe,It)&&(kt=g.createBuffer(qe.slice(0,It)),ct=kt.toString("hex"),ct in De||(De[ct]=!0,N.push(kt)))}return N}}var Fu={};Fu.metricSq3D=dt.pointSegDistSq3D,Fu.metricSq=dt.pointSegDistSq,Fu.calcArcData=function(r,o,a,u){var c=r.length,d=!!u;r[0]=r[c-1]=1/0,c>2&&v(0,c-1,1,Number.MAX_VALUE);function v(_,x,E,k){var F=o[_],B=a[_],V=o[x],G=a[x],H,J;d&&(H=u[_],J=u[x]);for(var ue=0,se=0,me=0,N=0,Z,re=_+1;re<x;re++)d?Z=Fu.metricSq3D(o[re],a[re],u[re],F,B,H,V,G,J):Z=Fu.metricSq(o[re],a[re],F,B,V,G),Z>=ue&&(ue=Z,se=re);return k<ue&&(ue=k),se-_>1&&(me=v(_,se,E+1,ue)),x-se>1&&(N=v(se,x,E+1,ue)),E==1&&F==V&&B==G&&(ue=Math.max(me,N)),r[se]=Math.sqrt(ue),ue}};var fn={NULL:0,POINT:1,POLYLINE:3,POLYGON:5,MULTIPOINT:8,POINTZ:11,POLYLINEZ:13,POLYGONZ:15,MULTIPOINTZ:18,POINTM:21,POLYLINEM:23,POLYGONM:25,MULIPOINTM:28,MULTIPATCH:31};fn.isPolygonType=function(r){return r==5||r==15||r==25},fn.isPolylineType=function(r){return r==3||r==13||r==23},fn.isMultiPartType=function(r){return fn.isPolygonType(r)||fn.isPolylineType(r)},fn.isMultiPointType=function(r){return r==8||r==18||r==28},fn.isZType=function(r){return[11,13,15,18].includes(r)},fn.isMType=function(r){return fn.isZType(r)||[21,23,25,28].includes(r)},fn.hasBounds=function(r){return fn.isMultiPartType(r)||fn.isMultiPointType(r)};var Rn={};Rn.forEachShapePart=function(o,a){var u={GeometryCollection:function(v){v.geometries.forEach(c)},LineString:function(v){var _=a(v.arcs);_&&(v.arcs=_)},MultiLineString:function(v){d(v.arcs)},Polygon:function(v){d(v.arcs)},MultiPolygon:function(v){v.arcs.forEach(d)}};c(o);function c(v){v.type in u&&u[v.type](v)}function d(v){for(var _,x=0;x<v.length;x++)_=a(v[x]),_&&(v[x]=_)}},Rn.forEachArc=function(o,a){Rn.forEachShapePart(o,function(u){for(var c,d=0;d<u.length;d++)c=a(u[d]),g.isInteger(c)&&(u[d]=c)})};function LE(r){var o=g.expandoBuffer(Int32Array),a=g.expandoBuffer(Int32Array),u=r=="max"?V:B,c=0,d,v,_;this.init=function(H){var J;for(d=H,c=H.length,v=o(c),_=a(c),J=0;J<c;J++)F(J,J);for(J=c-2>>1;J>=0;J--)E(J)},this.size=function(){return c},this.updateValue=function(H,J){var ue=_[H];d[H]=J,ue>=0&&ue<c||te("Out-of-range heap index."),E(x(ue))},this.popValue=function(){return d[this.pop()]},this.getValue=function(H){return d[H]},this.peek=function(){return v[0]},this.peekValue=function(){return d[v[0]]},this.pop=function(){var H;return c<=0&&te("Tried to pop from an empty heap."),H=v[0],F(0,v[--c]),E(0),H};function x(H){for(var J;H>0&&(J=H-1>>1,!u(H,J));)k(H,J),H=J;return H}function E(H){for(var J=G(H);J>H;)k(H,J),H=J,J=G(H)}function k(H,J){var ue=v[H];F(H,v[J]),F(J,ue)}function F(H,J){_[J]=H,v[H]=J}function B(H,J){var ue=v[H],se=v[J],me=d[ue],N=d[se];return me>N||me===N&&ue>se}function V(H,J){var ue=v[H],se=v[J];return d[ue]<d[se]}function G(H){var J=2*H+1,ue=J+1,se=c;return J<se&&u(H,J)&&(H=J),ue<se&&u(H,ue)&&(H=ue),H}}var Bn={};Bn.getArcCalculator=function(r,o){var a=new LE,u=g.expandoBuffer(Int32Array),c=g.expandoBuffer(Int32Array),d=o?function(v,_,x,E,k,F){return r(E[v],k[v],F[v],E[_],k[_],F[_],E[x],k[x],F[x])}:function(v,_,x,E,k){return r(E[v],k[v],E[_],k[_],E[x],k[x])};return function(_,x,E,k){var F=_.length,B=u(F),V=c(F),G,H=-1/0,J,ue,se;for(k&&!o?te("[visvalingam] Received z-axis data for 2D simplification"):!k&&o?te("[visvalingam] Missing z-axis data for 3D simplification"):_.length>x.length&&te("[visvalingam] Incompatible data arrays:",_.length,x.length),ue=0;ue<F;ue++)J=ue-1,se=ue+1,J<0||se>=F?G=1/0:G=d(J,ue,se,x,E,k),_[ue]=G,V[ue]=se,B[ue]=J;for(a.init(_);a.size()>0&&(ue=a.pop(),G=_[ue],G!==1/0);)G<H?_[ue]=H:H=G,J=B[ue],se=V[ue],J>0&&(G=d(B[J],J,se,x,E,k),a.updateValue(J,G)),se<F-1&&(G=d(J,se,V[se],x,E,k),a.updateValue(se,G)),V[J]=se,B[se]=J}},Bn.standardMetric=dt.triangleArea,Bn.standardMetric3D=dt.triangleArea3D,Bn.getWeightedMetric=function(r){var o=Bn.getWeightFunction(r);return function(a,u,c,d,v,_){var x=dt.triangleArea(a,u,c,d,v,_),E=dt.cosine(a,u,c,d,v,_);return o(E)*x}},Bn.getWeightedMetric3D=function(r){var o=Bn.getWeightFunction(r);return function(a,u,c,d,v,_,x,E,k){var F=dt.triangleArea3D(a,u,c,d,v,_,x,E,k),B=dt.cosine3D(a,u,c,d,v,_,x,E,k);return o(B)*F}},Bn.getWeightCoefficient=function(r){return r&&g.isNumber(r&&r.weighting)?r.weighting:.7},Bn.getWeightFunction=function(r){var o=Bn.getWeightCoefficient(r);return function(a){return-a*o+1}},Bn.weight=function(r){var o=.7;return-r*o+1},Bn.getEffectiveAreaSimplifier=function(r){var o=r?Bn.standardMetric3D:Bn.standardMetric;return Bn.getPathSimplifier(o,r)},Bn.getWeightedSimplifier=function(r,o){var a=o?Bn.getWeightedMetric3D(r):Bn.getWeightedMetric(r);return Bn.getPathSimplifier(a,o)},Bn.getPathSimplifier=function(r,o){return Bn.scaledSimplify(Bn.getArcCalculator(r,o))},Bn.scaledSimplify=function(r){return function(o,a,u,c){r(o,a,u,c);for(var d=1,v=o.length-1;d<v;d++)o[d]=Math.sqrt(o[d])*.65}};function KV(r,o){for(var a=[],u=QV(o),c,d,v,_;r.hasNext();)c=[r.x,r.y],tW(a,d,c,u),d=c,v||(v=c);return _=zE(v,c),_&&a.length>0&&!zE(a[0],a[a.length-1])&&a.push(a[0].concat()),(_&&a.length<4||a.length<2)&&(a=[]),a}function zE(r,o){return r&&o&&r[0]===o[0]&&r[1]===o[1]}function NE(r,o,a){var u=a[0],c=a[2],d;return r>c[0]?d=o>c[1]&&4||o>=u[1]&&5||6:r>=u[0]?d=o>c[1]&&3||o>=u[1]&&8||7:d=o>c[1]&&2||o>=u[1]&&1||0,d}function O_(r){return r==0||r==2||r==4||r==6}function ZV(r){return r>1&&r<8?Math.floor(r/2):0}function JV(r,o){var a=o[0],u=o[1],c=o[2],d=o[3];return r===0?o=[a,u,c,d]:r==1?o=[u,c,d,a]:r==2?o=[c,d,a,u]:r==3?o=[d,a,u,c]:te("Invalid rotation number"),o}function QV(r){return[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin]]}function jE(r,o){return o<8&&o>=0?(o+8-r*2)%8:o}function eW(r,o){if(O_(r))return o[r/2].concat();te("Invalid corner sector:",r)}function mi(r,o,a){r.push(eW(o,a))}function tW(r,o,a,u){var c=o?NE(o[0],o[1],u):-1,d=NE(a[0],a[1],u),v,_=!0;c==8&&d==8?r.push(a):c==d||(c==-1?d==8?r.push(a):O_(d)&&mi(r,d,u):c==8?(Qo(r,o,a,u),O_(d)&&mi(r,d,u)):d==8?(Qo(r,o,a,u),r.push(a)):(v=ZV(c),u=JV(v,u),c=jE(v,c),d=jE(v,d),c==0?d===0||d===1||d===7||(d==2||d==6?mi(r,d,u):d==3?!Qo(r,o,a,u)&&_&&mi(r,2,u):d==4?(Qo(r,o,a,u)||(dt.orient2D(o[0],o[1],a[0],a[1],u[0][0],u[0][1])>1?mi(r,6,u):mi(r,2,u)),mi(r,d,u)):d==5&&!Qo(r,o,a,u)&&_&&mi(r,6,u)):c==1?d==2||d===0?mi(r,d,u):d==3?!Qo(r,o,a,u)&&_&&mi(r,2,u):d==4?(!Qo(r,o,a,u)&&_&&mi(r,2,u),mi(r,4,u)):d==5?Qo(r,o,a,u):d==6?(!Qo(r,o,a,u)&&_&&mi(r,0,u),mi(r,6,u)):d==7&&!Qo(r,o,a,u)&&_&&mi(r,0,u):te("Sector error")))}function Rp(r,o,a,u,c){var d=dt.segmentIntersection(o[0],o[1],a[0],a[1],u[0],u[1],c[0],c[1]);d&&r.push(d)}function Qo(r,o,a,u){var c=[];return Rp(c,o,a,u[0],u[1]),Rp(c,o,a,u[0],u[3]),Rp(c,o,a,u[1],u[2]),Rp(c,o,a,u[2],u[3]),c.length>0?(r.push.apply(r,c),!0):!1}function L_(r,o){var a=[],u=[],c=[],d=0,v;return r.forEach(function(E,k){x(E,o)}),r.updateVertexData(a,u,c),d;function _(E){E&&(u.push(E[0]),c.push(E[1]),v++)}function x(E,k){var F,B,V,G,H,J=!0,ue=0;for(v=0;E.hasNext();){if(F=E.x,B=E.y,H=k(_,F,B,V,G,ue++),H===!1){J=!1;break}V=F,G=B}if(J&&v==1&&(he("An invalid arc was created"),J=!1),J)a.push(v);else{for(;v-- >0;)u.pop(),c.pop();a.push(0),d++}}}function nW(r){return{id:r,isNull:!0,pointCount:0,partCount:0,byteLength:12}}function rW(r){var o=fn.hasBounds(r),a=fn.isMultiPartType(r),u=fn.isZType(r),c=fn.isMType(r),d=!o,v=d?0:16,_,x;_=function(H,J){var ue=H.position();if(this.id=H.bigEndian().readUint32(),this.type=H.littleEndian().skipBytes(4).readUint32(),this.type===0||r===0)return nW(this.id);(!(J>0)||this.type!=r&&this.type!==0)&&te("Unable to read a shape -- .shp file may be corrupted"),this.byteLength=J,d?(this.pointCount=1,this.partCount=1):(H.skipBytes(32),this.partCount=a?H.readUint32():1,this.pointCount=H.readUint32()),this._data=function(){return H.position(ue)}};var E={_xypos:function(){var G=12;return d||(G+=4),o&&(G+=32),a&&(G+=4*this.partCount+4),G},readCoords:function(){if(this.pointCount===0)return null;var G=this.readPartSizes(),H=this._data().skipBytes(this._xypos());return G.map(function(J){return H.readFloat64Array(J*2)})},readXY:function(){return this.pointCount===0?new Float64Array(0):this._data().skipBytes(this._xypos()).readFloat64Array(this.pointCount*2)},readPoints:function(){for(var G=this.readXY(),H=u?this.readZ():null,J=c&&this.hasM()?this.readM():null,ue=[],se,me=0,N=G.length/2;me<N;me++)se=[G[me*2],G[me*2+1]],H&&se.push(H[me]),J&&se.push(J[me]),ue.push(se);return ue},readPartSizes:function(){var G=[],H,J,ue;if(this.pointCount!==0)if(this.partCount==1)G.push(this.pointCount);else{J=0,ue=this._data().skipBytes(56);for(var se=0,me=this.partCount;se<me;se++)H=(se<me-1?ue.readUint32():this.pointCount)-J,H>0&&(G.push(H),J+=H)}return G}},k={read:function(){var G=2;return u&&G++,this.hasM()&&G++,this._data().skipBytes(12).readFloat64Array(G)},stream:function(G){var H=this._data().skipBytes(12);G.addPoint(H.readFloat64(),H.readFloat64()),G.endPath()}},F={readBounds:function(){return this._data().skipBytes(12).readFloat64Array(4)},stream:function(G){for(var H=this.readPartSizes(),J=this.readXY(),ue=0,se=0,me;ue<H.length;){for(me=H[ue];me-- >0;)G.addPoint(J[se++],J[se++]);G.endPath(),ue++}J.length!=se&&te("Counting error")},stream2:function(G){for(var H=this.readPartSizes(),J=this._data().skipBytes(this._xypos()),ue=0,se;ue<H.length;){for(se=H[ue];se-- >0;)G.addPoint(J.readFloat64(),J.readFloat64());G.endPath(),ue++}},read:function(){for(var G=[],H=this.readPartSizes(),J=this.readPoints(),ue=0,se=H.length-1;ue<se;ue++)G.push(J.splice(0,H[ue]));return G.push(J),G}},B={_mpos:function(){var G=this._xypos()+this.pointCount*16;return u&&(G+=this.pointCount*8+v),G},readMBounds:function(){return this.hasM()?this._data().skipBytes(this._mpos()).readFloat64Array(2):null},readM:function(){return this.hasM()?this._data().skipBytes(this._mpos()+v).readFloat64Array(this.pointCount):null},hasM:function(){var G=this._mpos(),H=G+this.pointCount*8+v;if(this.byteLength==G)return!1;if(this.byteLength==H)return!0;te("#hasM() Counting error")}},V={_zpos:function(){return this._xypos()+this.pointCount*16},readZBounds:function(){return this._data().skipBytes(this._zpos()).readFloat64Array(2)},readZ:function(){return this._data().skipBytes(this._zpos()+v).readFloat64Array(this.pointCount)}};return r===0?x={}:d?x=Object.assign(E,k):x=Object.assign(E,F),u&&Object.assign(x,V),c&&Object.assign(x,B),_.prototype=x,x.constructor=_,_}function qE(r){return[fn.POLYGON,fn.POLYGONM,fn.POLYGONZ].includes(r)?"polygon":[fn.POLYLINE,fn.POLYLINEM,fn.POLYLINEZ].includes(r)?"polyline":[fn.POINT,fn.POINTM,fn.POINTZ,fn.MULTIPOINT,fn.MULTIPOINTM,fn.MULTIPOINTZ].includes(r)?"point":null}function z_(r){return[0,1,3,5,8,11,13,15,18,21,23,25,28].includes(r)}var iW=Object.freeze({__proto__:null,translateShapefileType:qE,isSupportedShapefileType:z_});function xh(r,o){if(!(this instanceof xh))return new xh(r,o);var a=g.isString(r)?new us(r):new ku(r),u=V(a.readToBinArray(0,100)),c=u.type,d=100,v=0,_=0,x=new rW(c),E,k;o&&(k=g.isString(o)?new us(o):new ku(o),E=k.readToBinArray(0,k.size()).bigEndian()),this.header=function(){return u},this.forEachShape=function(ue){for(var se=this.nextShape();se;)ue(se),se=this.nextShape()},this.nextShape=function(){var ue;return a||te("Tried to read from a used ShpReader"),ue=F(v),ue?(v++,ue):(B(),null)};function F(ue){return E?H(a,E,ue):J(a,d,ue)}function B(){a.close(),a=k=E=null,_>0&&he(`Warning: ${_}/${v} features have non-standard record numbers in the .shp file.`)}function V(ue){var se={signature:ue.bigEndian().readUint32(),byteLength:ue.skipBytes(20).readUint32()*2,version:ue.littleEndian().readUint32(),type:ue.readUint32(),bounds:ue.readFloat64Array(4),zbounds:ue.readFloat64Array(2),mbounds:ue.readFloat64Array(2)};return se.signature!=9994&&te("Not a valid .shp file"),z_(se.type)||te("Unsupported .shp type:",se.type),se.byteLength!=a.size()&&te("File size of .shp doesn't match size in header"),se}function G(ue,se){var me=ue.size();if(se+12>me)return null;var N=ue.readToBinArray(se,12);N.bigEndian().readUint32();var Z=N.readUint32()*2+8,re=N.littleEndian().readUint32(),_e=se+Z<=me&&Z>=12,Ie=re===0||re==c;return!_e||!Ie?null:(N=ue.readToBinArray(se,Z),new x(N,Z))}function H(ue,se,me){if(se.size()<=100+me*8)return null;se.position(100+me*8);var N=me+1,Z=se.readUint32()*2;se.readUint32()*2;var re=G(ue,Z);return re||ee("Index of Shapefile record",N,"in the .shx file is invalid."),re.id!=N&&(_++,oe(`Warning: A feature has a different record number in .shx (${N}) and .shp (${re.id}).`)),re}function J(ue,se,me){for(var N=me+1,Z=se,re=ue.size(),_e=null,Ie,qe,De,ve;Z+12<=re;){if(Ie=ue.readToBinArray(Z,12),qe=Ie.bigEndian().readUint32(),De=Ie.littleEndian().skipBytes(4).readUint32(),ve=De==c||De===0,!ve||qe!=N&&De===0){Z+=4;continue}if(_e=G(ue,Z),!_e||(d=Z+_e.byteLength,qe==N))break;qe<N?(he("Found a Shapefile record with the same id as a previous record ("+_e.id+") -- skipping."),Z+=_e.byteLength):ee("Shapefile contains an out-of-sequence record. Possible data corruption -- bailing.")}return _e&&Z>se&&oe("Skipped over "+(Z-se)+" non-data bytes in the .shp file."),_e}}xh.prototype.type=function(){return this.header().type};var Bp=123,N_=125,Sh=91,ls=93,Da=34,Iu=44,Ch,Eh=4096,$E=1e7,oW=5e6;function aW(r){var o=bn(r)?new ku(r):r,a=KE(o,0);so(a);var u=Lp(a);return so(a),a.peek()!=Ch&&Op(a.peek(),a.index()),u}function UE(r,o){var a=KE(r,0),u=sW(a);u||ee("File is not GeoJSON");var c=$_(a,o);if(c.type=="FeatureCollection"||c.type=="GeometryCollection")return c;for(c.type||ee("Invalid GeoJSON"),o(c),so(a);a.peek()==Bp;)o($_(a,o)),so(a);return null}function Yl(r,o){o>=0&&(r+=" at position "+o),ee(r)}function Op(r,o){var a;if(r==Ch)return Yl("Unexpected end of JSON input");r==Da?a="Unexpected string in JSON":r<33||r>126?a="Unexpected token in JSON":a="Unexpected token "+String.fromCharCode(r)+" in JSON",Yl(a,o)}function GE(r,o){o==Ch&&Yl("Unterminated string in JSON",r),Yl("Too-long string in JSON",r)}function sW(r){for(var o=r.getChar(),a=0;o!=Ch&&a<Eh;){if(a++,o==Bp)return r.back(),!0;o=r.getChar()}return!1}function uW(r){return r==32||r==10||r==13||r==9}function so(r){for(;uW(r.peek());)r.advance()}function lW(r){var o=[],a;for(cs(r,Sh),a=q_(r,ls);a!=ls;)r.refresh(),o.push(HE(r)),a=zp(r,Iu,ls);return o}function cW(r,o){var a;for(cs(r,Sh),a=q_(r,ls);a!=ls;)r.refresh(),o(HE(r)),a=zp(r,Iu,ls)}function HE(r){var o=r.index(),a,u,c,d;if(r.getChar()==Sh&&U_(r.peek())&&(a=G_(r),c=r.getChar(),so(r),c==Iu&&U_(r.peek()))){if(u=G_(r),d=r.getChar(),d==ls)return[a,u];if(d==Iu)return fW(r,[a,u])}return r.index(o),Lp(r)}function fW(r,o){so(r);do r.refresh(),o.push(Lp(r));while(zp(r,Iu,ls)==Iu);return o}function j_(r,o){for(var a=0;a<o.length;a++)cs(r,o.charCodeAt(a));return!0}function cs(r,o){var a=r.getChar();a!=o&&Op(a,r.index()-1)}function q_(r,o){so(r);var a=r.peek();return a===o?(r.advance(),so(r),o):null}function Lp(r){var o=r.peek(),a;return U_(o)?a=G_(r):o==Sh?a=lW(r):o==Da?a=WE(r):o==Bp?a=$_(r):o==110?a=pW(r):o==116?a=hW(r):o==102?a=dW(r):Op(o,r.index()),a}function hW(r){return j_(r,"true"),!0}function dW(r){return j_(r,"false"),!1}function pW(r){return j_(r,"null"),null}function zp(r,o,a){so(r);var u=r.getChar();return u!=o&&u!=a&&Op(u,r.index()-1),so(r),u}function $_(r,o){var a={},u,c;for(cs(r,Bp),c=q_(r,N_);c!=N_;)r.refresh(),u=VE(r),so(r),cs(r,58),so(r),(u=="features"||u=="geometries")&&r.peek()==Sh&&o?(cW(r,o),a[u]=null):u=="type"&&r.peek()==Da?a[u]=VE(r):a[u]=Lp(r),c=zp(r,Iu,N_);return a}function gW(){return Eh*=2,Eh<=oW}function VE(r){var o=2e3,a=r.index(),u=r.cache,c=!1,d=0;cs(r,Da);for(var v=r.getChar();v!=Da||c===!0;)d++,d>o&&GE(a,v),c?c=!1:v==92&&(c=!0),u[v]||(u[v]=[]),u=u[v],v=r.getChar();return u[0]||(r.index(a),u[0]=WE(r)),u[0]}function WE(r){var o=r.index();cs(r,Da);for(var a=256,u=0,c="",d=r.getChar();d!=Da;){if(u++,u>a||d==92||d<32||d>126)return r.index(o),YE(r);c+=String.fromCharCode(d),d=r.getChar()}return c}function YE(r){r.refresh();var o=Eh-2,a=r.index(),u=0,c=!1;cs(r,Da);for(var d=r.getChar(),v;d!=Da||c===!0;){if(u++,u>o)return(d==Ch||!gW())&&GE(a,d),r.index(a),YE(r);c?c=!1:d==92&&(c=!0),d=r.getChar()}return v=JSON.parse(r.toString(a,u+2)),r.refresh(),v}function XE(r){return r>=48&&r<=57}function U_(r){return r>=48&&r<=57||r==45}function vW(r){return r>=48&&r<=57||r==45||r==46||r==43||r==69||r==101}function mW(r){for(var o=r.index(),a=0;vW(r.getChar());)a++;r.back();var u=r.toString(o,a),c=Number(u);return isNaN(c)&&Yl("Invalid number in JSON",o),c}function G_(r){var o=r.index(),a=0,u=1,c=1,d=!1,v=!1,_=r.getChar(),x,E;for(_===45&&(c=-1,_=r.getChar()),x=_;XE(_);)E=_-48,a=a*10+E,_=r.getChar();if(a>0&&x===48&&(v=!0),_==46){for(;XE(_=r.getChar());)E=_-48,u*=10,a=a*10+E;(u==1||x==46)&&(v=!0)}return a===0&&x!=48&&(v=!0),v&&Yl("Invalid number in JSON",o),u>1e22&&(d=!0),a>=9007199254740992&&(a>=0x40000000000000||(E&1)===1)&&(d=!0),d||_==69||_==101?(r.index(o),mW(r)):(r.back(),c*a/u)}function KE(r,o){var a=r.size(),u=o,c=r.readSync(u,$E),d=0,v={peek:x,getChar:E,advance:k,back:F,toString:V,index:B,refresh:_};return v.cache=[],_(),v;function _(){c.length-d>=Eh||u+c.length>=a||(u+=d,d=0,c=r.readSync(u,$E))}function x(){return c[d]}function E(){return c[d++]}function k(){d++}function F(){d--}function B(G){if(!(G>=0))return d+u;d=G-u}function V(G,H){var J=G-u;return c.toString("utf8",J,J+H)}}function yW(){var r=[],o=[];this.forEachLayer=function(c){var d=0;r.forEach(function(v){v.layers.forEach(function(_){c(_,v,d++)})})},this.deleteLayer=function(c,d){this.getActiveLayer().layer==c&&(o=[]),d.layers.splice(d.layers.indexOf(c),1),d.layers.length===0&&this.removeDataset(d),o=o.filter(function(v){var _=v.layers.indexOf(c);return _==-1?!0:(v.layers.splice(_,1),v.layers.length>0)})},this.findLayer=function(c){var d=typeof c=="function"?c:null,v=null;return this.forEachLayer(function(_,x){(d?d(_,x):_==c)&&(v=a(_,x))}),v},this.findCommandTargets=function(c,d){return c?FC(this.getLayers(),c,d):this.getDefaultTargets()||[]},this.findSingleLayer=function(c){var d=jy(this.getLayers(),c);return d.length>1&&ee("Ambiguous pattern (multiple layers were matched):",c),d[0]||null},this.clear=function(){r=[],o=[]},this.removeDataset=function(c){o=o.filter(function(d){return d.dataset!=c}),r=r.filter(function(d){return d!=c})},this.getDatasets=function(){return r},this.getLayers=function(){var c=[];return this.forEachLayer(function(d,v){c.push(a(d,v))}),c},this.addDataset=function(c){return this.setDefaultTarget(c.layers,c),this},this.addDatasets=function(c){c.forEach(function(d){this.addDataset(d)},this)},this.findNextLayer=function(c){var d=this.getLayers(),v=u(c,d);return v>-1?d[(v+1)%d.length]:null},this.findPrevLayer=function(c){var d=this.getLayers(),v=u(c,d);return v>-1?d[(v-1+d.length)%d.length]:null},this.isEmpty=function(){return r.length===0},this.getDefaultTargets=function(){return o.length===0&&!this.isEmpty()&&(o=[{dataset:r[0],layers:r[0].layers.slice(0,1)}]),o},this.setDefaultTarget=function(c,d){this.setDefaultTargets([{layers:c.concat(),dataset:d}])},this.setDefaultTargets=function(c){c.forEach(function(d){r.indexOf(d.dataset)==-1&&r.push(d.dataset)}),o=c},this.getActiveLayer=function(){var c=(this.getDefaultTargets()||[])[0],d=c?.layers[c.layers.length-1];return c?{layer:d,dataset:c.dataset}:null};function a(c,d){return{layer:c,dataset:d}}function u(c,d){var v=-1;return d.forEach(function(_,x){_.layer==c&&(v=x)}),v}}function _W(r){var o=[];return r.forEachLayer(function(a,u,c){o.push("  ["+(c+1)+"]  "+(a.name||"[unnamed]"))}),o.length>0?o.join(`
`):"[none]"}var bW=Object.freeze({__proto__:null,Catalog:yW,getFormattedLayerList:_W});b.filterSlivers=function(r,o,a){return r.geometry_type!="polygon"?0:wW(r,o,a)};function wW(r,o,a){var u=g.extend({sliver_control:1},a),c=t_(r,o,u),d=c.filter,v=0,_=function(x,E,k){if(d(x))return v++,null};return Yo(r.shapes,_),he(g.format("Removed %'d sliver%s using %s",v,g.pluralSuffix(v),c.label)),u.remove_empty&&b.filterFeatures(r,o.arcs,{remove_empty:!0,verbose:!1}),v}function xW(r,o,a){var u=r_(r,a),c=n_(a,u,1),d=new Uint8Array(a.size()),v=0,_=function(x){for(var E=0,k=0,F=0,B=x&&x.length||0;F<B;F++)d[wn(x[F])]>0?k++:E++;if(k>0&&E>0&&c(x))return v++,null};return Ll(o.shapes,d),Yo(r.shapes,_),v}function ZE(r,o,a,u){var c=new as(o,a.arcs);return r.map(function(_){return d(_)});function d(_){var x=null;return _&&(x=_.reduce(v,[])),x&&x.length>0?x:null}function v(_,x){for(var E=null,k,F,B=0;B<x.length;B++)k=x[B],F=c.arcIsEnclosed(k),F&&u=="clip"||!F&&u=="erase"?(E||_.push(E=[]),E.push(k)):E=null;return _}}var SW=Object.freeze({__proto__:null,clipPolylines:ZE});function CW(r,o){for(var a=0,u=o.length;a<u;a++)r.push(o[a]);return r}function EW(r,o){o=o&&!r.arcs.isPlanar();var a=new Uint8Array(r.arcs.size()),u=Cp(r,o),c=e_(r,a);return function(d){if(!d)return null;var v=[],_=[];u(d,v,_),v=c(v,"flatten"),_.forEach(Kr),_=c(_,"flatten"),_.forEach(Kr);var x=CW(v,_),E=c(x,"dissolve");return E.length>1&&(E=XU(E,r.arcs)),E.length>0?E:null}}function AW(r,o,a,u,c){var d=a.arcs,v=c||{},_=new Uint8Array(d.size()),x=new Uint8Array(d.size()),E=0,k=0,F=[],B=_p(a,me,se),V=EW(a);v.bbox2||(r=r.map(V)),bh(o,d,_,u=="clip",u=="erase",!0,17);var G=new as(o,d),H=r.map(function(Ie,qe){return Ie?ue(Ie,u,G):null});o5(H,x);var J=N(o);return wh(o,d,x,!0,!0),G=new as(J,d),r.forEach(function(Ie,qe){var De=Ie?_e(Ie,u,G):null;De&&(H[qe]=(H[qe]||[]).concat(De))}),H;function ue(Ie,qe,De){var ve=[],It=qe=="clip",kt=qe=="erase";return bh(Ie,d,x,!0,!1,!1),es(Ie,function(ct){for(var Tt,$t=0,Vt=ct.length;$t<Vt;$t++)if(E=0,k=0,Tt=B(ct[$t]),Tt)if(E===0||k===0){var kn=De.pathIsEnclosed(Tt);(It&&kn||kt&&!kn)&&ve.push(Tt)}else ve.push(Tt)}),wh(Ie,d,x,!0,!0,!0),F.length>0&&(wh(F,d,x,!0,!0,!0),F=[]),ve.length===0?null:ve}function se(Ie){var qe=Ie>=0,De=qe?Ie:~Ie,ve=qe?1:16,It=x[De],kt=_[De];return kt>0&&E++,(It&ve)>0||(kt&ve)>0}function me(Ie){var qe=Ie>=0,De=qe?Ie:~Ie,ve=x[De],It=_[De],kt,ct;qe?(kt=ve,ct=It):(kt=ve>>4,ct=It>>4),kt&=3,ct&=3;var Tt=!1;return kt==3?ct==1||ct==2&&u=="erase"||(Tt=!0):kt===0&&ct==3&&(F.push(Ie),Tt=!0),Tt&&(ct==3&&k++,qe?ve=Jy(ve,1,3):ve=Jy(ve,16,48)),ve|=qe?4:64,x[De]=ve,Tt}function N(Ie){return Ie.map(function(qe){var De=[];return es(qe,function(ve){for(var It=!0,kt=!1,ct=0;ct<ve.length;ct++){if(!Z(ve[ct],x)){It=!1;break}!kt&&re(ve[ct],_)&&(kt=!0)}It&&kt&&De.push(ve)}),De.length>0?De:null})}function Z(Ie,qe){var De=wn(Ie),ve=qe[De];return(ve&136)===0}function re(Ie,qe){var De=qe[wn(Ie)];return(De&17)>0}function _e(Ie,qe,De){var ve=De.findPathsInsideShape(Ie),It=[];return ve?(qe=="erase"&&ve.forEach(Kr),ve.length<=1?It=ve:(bh(ve,d,x,!0,!1,!0),ve.forEach(function(kt){for(var ct,Tt=0;Tt<kt.length;Tt++)ct=B(kt[Tt]),ct&&It.push(ct)})),It.length>0?It:null):null}}function JE(r,o,a,u){var c=new as(o,a),d=r.reduce(function(v,_){for(var x=_?_.length:0,E=[],k,F=0;F<x;F++)k=c.findEnclosingShape(_[F])>-1,(u=="clip"&&k||u=="erase"&&!k)&&E.push(_[F].concat());return v.push(E.length>0?E:null),v},[]);return d}var kW=Object.freeze({__proto__:null,clipPoints:JE});function H_(r,o,a,u){g.some(r,ar);var c=u.bbox||u.bbox2,d,v,_;return a&&a.geometry_type&&(a={dataset:o,layer:a,disposable:!0}),c?(v=FW(c),_=v.layers[0]):a?a.layer&&a.dataset?(_=a.layer,v=g.defaults({layers:[_]},a.dataset)):a.layers&&a.layers.length==1&&(_=a.layers[0],v=a):ee("Command requires a source file, layer id or bbox"),o.arcs!=v.arcs?(a&&!a.disposable&&(v.layers[0]=ql(v.layers[0])),d=rs([o,v]),Xo(d)):(d=g.extend({},o),d.layers=o.layers.filter(function(x){return x!=_}),d.layers.push(_)),d}function FW(r){var o=r[0],a=r[1],u=r[2],c=r[3],d=[[o,a],[o,c],[u,c],[u,a],[o,a]];return c>a&&u>o||ee("Invalid bbox (should be [xmin, ymin, xmax, ymax]):",r),{arcs:new ki([d]),layers:[{shapes:[[[0]]],geometry_type:"polygon"}]}}var IW=Object.freeze({__proto__:null,mergeLayersForOverlay:H_});function MW(r,o){var a=r.arcs,u=TW(a,o),c=h_(u.cutPoints,a);a.dedupCoords(),f_(r,c);var d=DW(u.bboxPoints),v=rs([r,d]),_=v.layers.pop();return r.arcs=v.arcs,r.layers=v.layers,_}function DW(r){for(var o=[],a=[],u={geometry_type:"polygon",shapes:[[a]]},c,d,v=0,_=r.length-1;v<_;v++)c=r[v],d=r[v+1],o.push([[c.x,c.y],[d.x,d.y]]),a.push(v);return{arcs:new ki(o),layers:[u]}}function TW(r,o){var a=o[0],u=o[1],c=o[2],d=o[3],v=[],_=[],x=[],E=[];return r.forEachSegment(function(B,V,G,H){var J=G[B],ue=H[B],se=G[V],me=H[V],N;QE(J,ue,se,me,a,u,c,d)||eA(J,ue,se,me,a,u,c,d)||(N=dt.segmentIntersection(a,d,c,d,J,ue,se,me),N&&k(v,N,B,V,G,H),N=dt.segmentIntersection(a,u,c,u,J,ue,se,me),N&&k(x,N,B,V,G,H),N=dt.segmentIntersection(a,u,a,d,J,ue,se,me),N&&k(E,N,B,V,G,H),N=dt.segmentIntersection(c,u,c,d,J,ue,se,me),N&&k(_,N,B,V,G,H))}),{cutPoints:E.concat(x,_,v),bboxPoints:PW(o,E,v,_,x)};function k(B,V,G,H,J,ue){V&&(B.push(F(V[0],V[1],G,H,J,ue)),V.length==4&&B.push(F(V[2],V[3],G,H,J,ue)))}function F(B,V,G,H,J,ue){var se=up(B,V,G,H,J,ue);return Ep(B,V,se[0],se[1])}}function QE(r,o,a,u,c,d,v,_){return r<c&&a<c||r>v&&a>v||o<d&&u<d||o>_&&u>_}function eA(r,o,a,u,c,d,v,_){return r>c&&a>c&&r<v&&a<v&&o>d&&u>d&&o<_&&u<_}function PW(r,o,a,u,c){var d={x:r[0],y:r[1]},v={x:r[0],y:r[3]},_={x:r[2],y:r[3]},x={x:r[2],y:r[1]};return o=g.sortOn(o.concat([d,v]),"y",!0),a=g.sortOn(a.concat([v,_]),"x",!0),u=g.sortOn(u.concat([_,x]),"y",!1),c=g.sortOn(c.concat([x,d]),"x",!1),o.concat(a,u,c).reduce(function(E,k){var F=E.length>0?E[E.length-1]:null;return(F===null||F.x!=k.x||F.y!=k.y)&&E.push(k),E},[])}b.clipLayers=function(r,o,a,u){return Ah(r,o,a,"clip",u)},b.eraseLayers=function(r,o,a,u){return Ah(r,o,a,"erase",u)},b.clipLayer=function(r,o,a,u){return b.clipLayers([r],o,a,u)[0]},b.eraseLayer=function(r,o,a,u){return b.eraseLayers([r],o,a,u)[0]},b.sliceLayers=function(r,o,a,u){return Ah(r,o,a,"slice",u)},b.sliceLayer=function(r,o,a,u){return b.sliceLayers([r],o,a,u)};function V_(r,o,a,u,c){var d=Ah(r,o,a,u,c);r.forEach(function(v,_){var x=d[_];v.shapes=x.shapes,v.data=x.data}),Ko(a)}function Ah(r,o,a,u,c){var d=g.some(r,ar),v,_,x;return c=c||{no_cleanup:!0},c.bbox2&&d?tA(r,a,c):(v=H_(r,a,o,c),_=v.layers[v.layers.length-1],d?(x=Au(v,c),a.arcs=v.arcs,_=g.defaults({data:null},_),_=E5(_,v,{quiet:!0,silent:!0})):x=new So(v.arcs),W_(r,_,x,u,c))}function tA(r,o,a){var u=a.bbox2,c=MW(o,u),d=new So(o.arcs),v=W_(r,c,d,"clip",a);return v}function W_(r,o,a,u,c){return tp(o,"Requires a polygon clipping layer"),r.reduce(function(d,v){return u=="slice"?d=d.concat(BW(v,o,a,c)):d.push(nA(v,o,a,u,c)),d},[])}function RW(r,o,a){var u=o?r.data.getRecords()[0][o]:a+1;return"slice-"+u}function BW(r,o,a,u){var c=b.splitLayer(o,u.id_field,{no_replace:!0});return c.map(function(d,v){var _=nA(r,d,a,"clip",u);return _.name=RW(d,u.id_field,v),_})}function nA(r,o,a,u,c){var d=a.arcs,v=r.shapes?r.shapes.length:0,_=0,x=0,E,k;return v===0?r:(r===o&&ee("Can't clip a layer with itself"),r.geometry_type=="point"?E=JE(r.shapes,o.shapes,d,u):r.geometry_type=="polygon"?E=AW(r.shapes,o.shapes,a,u,c):r.geometry_type=="polyline"?E=ZE(r.shapes,o.shapes,a,u):ee("Invalid target layer:",r.name),k={name:r.name,geometry_type:r.geometry_type,shapes:E,data:r.data},c.remove_slivers&&k.geometry_type=="polygon"&&(x=xW(k,o,d)),b.filterFeatures(k,d,{remove_empty:!0,verbose:!1}),k.data&&(k.data=k.data.clone()),_=v-k.shapes.length,_&&x&&he(rA(_,x)),k)}function rA(r,o){var a=r?g.format("%,d null feature%s",r,g.pluralSuffix(r)):"",u=o?g.format("%,d sliver%s",o,g.pluralSuffix(o)):"";return a||u?g.format("Removed %s%s%s",a,a&&u?" and ":"",u):""}var OW=Object.freeze({__proto__:null,clipLayersInPlace:V_,clipLayers:Ah,clipLayersByBBox:tA,clipLayersByLayer:W_,getClipMessage:rA});function iA(r,o){var a=o||{};return new Y_(r,a.encoding)}function Y_(r,o){var a=new OE(r,o),u=!1,c;function d(){return c||(c=new An(a.readRows()),a=null,r=null),c}this.exportAsDbf=function(v){var _=!!a&&!u&&!v.field_order&&!v.encoding;if(_)try{return a.getBuffer()}catch{}return oo.exportRecords(d().getRecords(),v.encoding,v.field_order)},this.getReadOnlyRecordAt=function(v){return a?a.readRow(v):c.getReadOnlyRecordAt(v)},this.deleteField=function(v){c?c.deleteField(v):(u=!0,a.deleteField(v))},this.getRecords=function(){return d().getRecords()},this.getFields=function(){return a?a.getFields():c.getFields()},this.isEmpty=function(){return a?this.size()===0:c.isEmpty()},this.size=function(){return a?a.size():c.size()}}Object.assign(Y_.prototype,An.prototype);var LW=Object.freeze({__proto__:null,importDbfTable:iA,ShapefileTable:Y_});function zW(r,o,a){for(var u=[],c,d=0;d<r.length;d++)if(c=NW(r[d],o,a),d===0)u=c;else for(var v=0;v<u.length;v++)u[v]+=" "+c[v];return u.join(`
`)}function NW(r,o,a){var u=[],c=r.length,d=o.length,v,_;for(u.push(r),v=0;v<d;v++)_=jW(o[v][r],a),c=Math.max(c,_.length),u.push(_);for(v=0;v<u.length;v++)u[v]=u[v].padEnd(c," ");return u}function jW(r,o){var a;return r==null?a="":g.isString(r)?a=r:g.isNumber(r)?a=o.decimal_comma?g.formatIntlNumber(r):g.formatNumber(r):g.isObject(r)?a=JSON.stringify(r):a=r+"",a}function qW(r,o){var a=r.toString(o.encoding||"ascii");return oA(a)}function oA(r){var o=$W(r.substring(0,2e3));if(!o)return[];var a=g.splitLines(r);a[a.length-1]===""&&a.pop();for(var u=[],c=1;c<a.length;c++)u.push(GW(a[c],o));return u}function $W(r){var o=g.splitLines(r);o.length>2&&o.pop();for(var a=UW(o),u=o[0],c=[],d=0,v=!1,_=!1,x,E,k,F,B=0;B<=a;B++){if(E=sA(u,B),x=!HW(o,B),k=E&&!_,k&&v)return null;(B==a||B>0&&k)&&(F=B==a?void 0:B-1,c.push({name:aA(u,d,F),end:F,start:d}),d=B),v=x,_=E}return c.length>0?c:null}function UW(r){for(var o=0,a=0;a<r.length;a++)o=Math.max(o,r[a].length);return o}function aA(r,o,a){return r.substring(o,a).trim()}function GW(r,o){for(var a={},u,c=0;c<o.length;c++)u=o[c],a[u.name]=aA(r,u.start,u.end);return a}function sA(r,o){return o<r.length&&r[o]!==" "}function HW(r,o){for(var a,u=0;u<r.length;u++)if(a=r[u],sA(a,o))return!1;return!0}function uA(r,o){var a=XW(r.info,o),u=KW(a,o);return r.layers.reduce(function(c,d){return d.data&&c.push({content:lA(d,a,o),filename:(d.name||"output")+"."+u}),c},[])}function lA(r,o,a){var u=a||{},c=u.encoding||"utf8",d=r.data.getRecords(),v=Q0(d,u.field_order);if(o==" ")return zW(v,d,u);var _=YW(v,o,u),x=Z0(c)&&!u.to_buffer&&(d.length<1e4||u.to_string);return x?VW(v,d,_):WW(v,d,_,c)}function VW(r,o,a){var u=cA(r,a);return o.length?u+`
`+o.map(a).join(`
`):u}function WW(r,o,a,u){for(var c=cA(r,a),d=[_u(c,u)],v=[],_=o.length,x=0;x<_;)v.push(a(o[x])),x++,(x%1e3===0||x==_)&&(c=`
`+v.join(`
`),v=[],d.push(_u(c,u)));return w.concat(d)}function cA(r,o){var a=r.reduce(function(u,c){return u[c]=c,u},{});return o(a)}function YW(r,o,a){var u=fA(o,a);return function(c){return r.map(function(d){return u(c[d])}).join(o)}}function fA(r,o){var a=new RegExp(`["
\r`+r+"]"),u=o&&o.decimal_comma||!1;function c(d){return a.test(d)&&(d='"'+d.replace(/"/g,'""')+'"'),d}return function(d){var v;return d==null?v="":g.isString(d)?v=c(d):g.isNumber(d)?v=u?g.formatIntlNumber(d):g.formatNumber(d):g.isObject(d)?v=c(JSON.stringify(d)):v=d+"",v}}function XW(r,o){var a=",",u=o.file?Eo(o.file):"";return o.delimiter?a=o.delimiter:u=="tsv"?a="	":u=="csv"?a=",":r.input_delimiter&&(a=r.input_delimiter),a}function KW(r,o){var a="txt";return o.file?a=Eo(o.file):r=="	"?a="tsv":r==","&&(a="csv"),a}var ZW=Object.freeze({__proto__:null,exportDelim:uA,exportLayerAsDSV:lA,getDelimValueFormatter:fA});function hA(r,o,a){var u=a||{};if(o==" ")return qW(r,u);var c=new DE(r),d=Np(c,JW(u),u.encoding),v=Z_(d,o,u),_=K_(v.import_fields),x=u.batch_size||1e3,E=[],k,F;if(v.import_fields.length===0)return[];for(;k=Np(c,x,u.encoding);)if(F=jp(k,o,_,v.column_filter||!1,v.row_filter||!1),E.push.apply(E,F),u.csv_lines&&E.length>=u.csv_lines)return E.slice(0,u.csv_lines);return E}function dA(r,o,a){if(o==" ")return oA(r);var u=Z_(r,o,a);if(u.import_fields.length===0||!u.remainder)return[];var c=K_(u.import_fields),d=jp(u.remainder,o,c,u.column_filter,u.row_filter);return a.csv_lines>0&&(d=d.slice(0,a.csv_lines)),d}function X_(r,o){var a=/\r\n|[\r\n]|.$/g,u=1;if(o===1)return 0;if(!(o>1))return-1;for(;a.exec(r);)if(u++,!(u<o))return a.lastIndex;return-1}function JW(r){var o=r.csv_skip_lines||0;return r.csv_field_names||o++,o}function K_(r){return new Function("arr","return {"+r.map(function(o,a){return JSON.stringify(o)+": arr["+a+'] || ""'}).join(",")+"}")}function Z_(r,o,a){var u={headers:[],import_fields:[]},c={},d;if(r=r||"",a.csv_skip_lines>0){if(d=X_(r,a.csv_skip_lines+1),d===-1)return u;r=r.substr(d)}if(a.csv_field_names)c.headers=a.csv_field_names;else{if(d=X_(r,2),d===-1)return u;c.headers=jp(r.slice(0,d),o)[0],r=r.substr(d)}return a.csv_dedup_fields&&(c.headers=g.uniqifyNames(c.headers)),a.csv_filter&&(c.row_filter=QW(a.csv_filter)),a.csv_fields?(c.column_filter=pA(c.headers,a.csv_fields),c.import_fields=c.headers.filter(function(v,_){return c.column_filter(_)})):c.import_fields=c.headers,c.remainder=r,c}function QW(r){var o=dp(r);return function(a){var u=o(a);return Ny(u),u}}function pA(r,o){var a=g.arrayToIndex(o),u=r.map(function(_){return _ in a}),c=g.difference(o,r);if(c.length>0){var d=[""].concat(r).join(`
  `),v=[""].concat(c).join(`
  `);ee("csv-fields option has",c.length==1?"a name":c.length+" names",`not found in the file
Fields:`,d,`
Missing:`,v)}return function(_){return u[_]}}function Np(r,o,a){var u=r.readSync(),c=eY(u,o),d;return c.bytesRead==u.length&&c.bytesRead<r.remaining()?(r.expandBuffer(),Np(r,o,a)):(d=c.bytesRead>0?bu(c.buffer,a):"",r.position()===0&&(d=J0(d)),r.advance(c.bytesRead),d)}function eY(r,o){var a=13,u=10,c=34,d=!1,v=0,_=r.length,x,E;for(v++,x=0;x<_&&v<=o;x++)E=r[x],E==c?d=!d:(E==a||E==u)&&!d&&(E==a&&x+1<_&&r[x+1]==u&&x++,v++);return{bytesRead:x,buffer:r.slice(0,x)}}function jp(r,o,a,u,c){var d=13,v=10,_=34,x=o.charCodeAt(0),E=!1,k=!1,F=-1,B=[],V,G,H,J,ue;a||(a=function(Z){return Z});function se(){var Z=a?a(ue):ue;(!c||c(Z))&&B.push(Z),F=-1}function me(Z){V=Z,F++,F===0&&(ue=[]),(!u||u(F))&&(k=!0)}function N(Z,re){var _e;k&&(k=!1,Z===re?_e="":r.charCodeAt(Z)==_?_e=r.slice(Z+1,re-1).replace(/""/g,'"'):_e=r.slice(Z,re),ue.push(_e))}for(me(0),G=0,J=r.length;G<J;G++)H=r.charCodeAt(G),H==_?E=!E:E||(H==x?(N(V,G),me(G+1)):(H==d||H==v)&&(N(V,G),se(),H==d&&r.charCodeAt(G+1)==v&&G++,G+1<J&&me(G+1)));return F>-1&&(k&&N(V,G),se()),B}var tY=Object.freeze({__proto__:null,readDelimRecords:hA,readDelimRecordsFromString:dA,indexOfLine:X_,getRowConverter:K_,parseDelimHeaderSection:Z_,getDelimFieldFilter:pA,readLinesAsString:Np,parseDelimText:jp});function nY(r,o){return J_({content:r},o)}function J_(r,o){var a=!r.content&&r.content!=="",u=r.content,c,d,v,_,x;return o=o||{},a?c=new us(r.filename):u instanceof ArrayBuffer||u instanceof w||u instanceof Uint8Array?(c=new ku(u),u=null):g.isString(u)||te("Unexpected object type"),c&&(x=FE(c.readSync(0,Math.min(c.size(),3))),x=="utf16be"||x=="utf16le"?(u=J0(c.toString(x)),c=null):o.encoding&&!w4(o.encoding)&&(u=c.toString(o.encoding),c=null)),c?(v=Q_(B_(c,2e3)),d=hA(c,v,o)):(v=Q_(u),d=dA(u,v,o)),d.length===0&&he("Unable to read any data records"),mA(d,o),_=new An(d),C4(_,E4),{layers:[{data:_}],info:{input_delimiter:v}}}var gA=["|","	",",",";"," "];function rY(r){return g.contains(gA,r)}function Q_(r){return g.find(gA,function(o){var a=iY(o);return a.test(r)})||","}function iY(r){var o="^[^\\n\\r]+"+g.regexEscape(r);return new RegExp(o)}function vA(r){var o={};return r=r||{},r.string_fields&&r.string_fields.forEach(function(a){o[a]="string"}),r.field_types&&r.field_types.forEach(function(a){var u,c,d;a.indexOf(":")!=-1?(u=a.split(":"),c=u[0],d=uY(u[1])):a[0]==="+"&&(c=a.substr(1),d="number"),d?o[c]=d:he("Invalid type hint (expected :str or :num) ["+a+"]")}),o}function mA(r,o){var a=o||{},u=vA(a),c=u["*"],d=Object.keys(r[0]||[]),v=[],_=a.decimal_comma?g.parseIntlNumber:g.parseNumber,x={};d.forEach(function(E){var k=u[E],F=null;k=="number"||c=="number"?F=sY(E,r,_):k=="string"||c=="string"?F=null:(F=aY(E,r,_),F&&v.push(E)),F&&(x[E]=F)}),Object.keys(x).length>0&&oY(d,r,x),v.length>0&&he(g.format("Auto-detected number field%s: %s",v.length==1?"":"s",v.join(", ")))}function oY(r,o,a){var u="return {"+r.map(function(d){var v=JSON.stringify(d);return v+": "+(a[d]?"replacements["+v+"][i]":"rec["+v+"]")}).join(", ")+"}",c=new Function("rec","replacements","i",u);o.forEach(function(d,v){o[v]=c(d,a,v)})}function aY(r,o,a){for(var u=[],c=0,d,v,_,x=0,E=o.length;x<E;x++){if(d=o[x][r],_=a(d),_===null){if(v=d?d.trim():"",v.length>0&&v!="NA"&&v!="NaN")return null}else c++;u.push(_)}return c>0?u:null}function sY(r,o,a){for(var u=[],c=0,d=o.length;c<d;c++)u.push(a(o[c][r]));return u}function uY(r){var o=r.toLowerCase(),a=null;return o[0]=="n"?a="number":o[0]=="s"&&(a="string"),a}var lY=Object.freeze({__proto__:null,importDelim:nY,importDelim2:J_,isSupportedDelimiter:rY,guessDelimiter:Q_,getFieldTypeHints:vA,adjustRecordTypes:mA});b.explodeFeatures=function(r,o,a){var u=r.data?r.data.getRecords():null,c=u?[]:null,d=[],v=g.extend({},r);return r.shapes.forEach(function(_,x){var E;if(_?(r.geometry_type=="polygon"&&_.length>1?a&&a.naive?E=hY(_,o):E=e2(_,o):E=fY(_),g.merge(d,E)):d.push(null),c!==null)for(var k=0,F=E?E.length:1;k<F;k++)c.push(dY(u[x]))}),v.shapes=d,c!==null&&(v.data=new An(c)),cY(r,v),v};function cY(r,o){var a=pr(r),u=pr(o),c=g.format("Exploded %,d feature%s into %,d feature%s",a,g.pluralSuffix(a),u,g.pluralSuffix(u));he(c)}function fY(r){return r.map(function(o){return[o.concat()]})}function e2(r,o,a){var u=lh(r,o,"polygon"),c=QC(u,o,a);return c.map(function(d){return d.map(function(v){return v.ids})})}function hY(r,o){var a=lh(r,o,"polygon");return a.map(function(u){return u.area<0&&Kr(u.ids),[u.ids]})}function dY(r){return Object.assign({},r)}var pY=Object.freeze({__proto__:null,explodePolygon:e2});function gY(r,o){var a=uhe().toKML,u=Object.assign({combine_layers:!0,geojson_type:"FeatureCollection"},o),c=kp(r,u),d=a(c),v=o.file||Ap(r)+".kml";return[{content:d,filename:v}]}function vY(r,o){return r.layers.reduce(function(a,u){return u.data&&(a=a.concat(yA(u,r,o))),a},[])}function yA(r,o,a){var u=r.data,c;return(!u||a.cut_table||a.drop_table)&&(u=new An(r.shapes?r.shapes.length:0)),u.isEmpty()&&u.addIdField(),u.exportAsDbf?c=u.exportAsDbf(a):c=oo.exportRecords(u.getRecords(),a.encoding,a.field_order),g.isInteger(a.ldid)&&(new Uint8Array(c)[29]=a.ldid),[{content:c,filename:r.name+".dbf"}]}function _A(r,o){return r.layers.reduce(function(a,u){var c=mY(u,r);return a=a.concat(_Y(u,r)),a=a.concat(yA(u,r,o)),c&&a.push(c),a},[])}function mY(r,o){var a=o.info||{},u=a.prj;if(!u)try{u=Q4(gr(o))}catch{}return u||he("Unable to generate .prj file for",r.name+".shp"),u?{content:u,filename:r.name+".prj"}:null}function yY(r){var o=r.geometry_type,a;return o=="point"?a=i4(r.shapes||[])<=1?fn.POINT:fn.MULTIPOINT:o=="polygon"?a=fn.POLYGON:o=="polyline"?a=fn.POLYLINE:a=fn.NULL,a}function _Y(r,o,a){var u=r.shapes||g.initializeArray(new Array(pr(r)),null),c=new Bt,d=yY(r),v=100,_=100+u.length*8,x=new Kn(_).bigEndian().position(100),E,k=u.map(function(F,B){var V=mp(F,o.arcs,r.geometry_type),G=bY(V,B+1,d),H=G.buffer.byteLength;return x.writeInt32(v/2),x.writeInt32(H/2-4),v+=H,G.bounds&&c.mergeBounds(G.bounds),G.buffer});return E=new Kn(v,!1).writeInt32(9994).skipBytes(5*4).writeInt32(v/2).littleEndian().writeInt32(1e3).writeInt32(d),c.hasBounds()?E.writeFloat64(c.xmin||0).writeFloat64(c.ymin||0).writeFloat64(c.xmax||0).writeFloat64(c.ymax||0):E.skipBytes(4*8),E.skipBytes(4*8),k.forEach(function(F){E.writeBuffer(F)}),x.position(0).writeBuffer(E.buffer(),100).position(24).writeInt32(_/2),[{content:E.buffer(),filename:r.name+".shp"},{content:x.buffer(),filename:r.name+".shx"}]}function bY(r,o,a){var u=fn.isMultiPartType(a),c=!u&&!fn.isMultiPointType(a),d=!(r.pointCount>0),v=d?null:r.bounds,_=null;if(d)_=new Kn(12,!1).writeInt32(o).writeInt32(2).littleEndian().writeInt32(0);else if(c)_=new Kn(28,!1).writeInt32(o).writeInt32(10).littleEndian().writeInt32(a).writeFloat64(r.pathData[0].points[0][0]).writeFloat64(r.pathData[0].points[0][1]);else{var x=52,E=u?x+4*r.pathCount:48,k=E+16*r.pointCount,F=0;_=new Kn(k,!1).writeInt32(o).writeInt32((k-8)/2).littleEndian().writeInt32(a).writeFloat64(v.xmin).writeFloat64(v.ymin).writeFloat64(v.xmax).writeFloat64(v.ymax),u&&_.writeInt32(r.pathCount),_.writeInt32(r.pointCount),r.pathData.forEach(function(B,V){u&&_.position(x+V*4).writeInt32(F),_.position(E+F*16);for(var G=0,H=B.points.length;G<H;G++)_.writeFloat64(B.points[G][0]),_.writeFloat64(B.points[G][1]);F+=G}),r.pointCount!=F&&te("Shp record point count mismatch; pointCount:",F,"data.pointCount:",r.pointCount)}return{bounds:v,buffer:_.buffer()}}var wY=Object.freeze({__proto__:null,exportShapefile:_A});function bA(r){var o=1e4,a=o/r;return function(u){return u===1/0?0:Math.ceil(u*a)}}function xY(r,o){o.proj4&&Eu(r,mh(o.proj4))}function SY(r){var o=gr(r),a=null;return o&&(a=Cu(o)),{proj4:a}}Rn.getPresimplifyFunction=bA;function wA(r,o){var a="."+(o.extension||"json"),u=!o.final||by(r)&&r.arcs.getRetainedInterval()>0,c=JSON.stringify;return u&&(r=yy(r)),o.prettify&&(c=yp("coordinates,arcs,bbox,translate,scale".split(","))),o.width>0||o.height>0?(o=g.defaults({invert_y:!0},o),Vy(r,Hy(r,o))):o.fit_bbox&&Vy(r,Hy(r,{fit_bbox:o.fit_bbox})),o.precision&&o.no_quantization?fp(r,o.precision,!!o.fix_geometry):o.precision&&he(`Ignoring precision=${o.precision} -- this option only works with no-quantization.`),o.singles?H4(r).map(function(d){return{content:c(Rn.exportTopology(d,o)),filename:(d.layers[0].name||"output")+a}}):[{filename:o.file||Ap(r)+a,content:c(Rn.exportTopology(r,o))}]}Rn.exportTopology=function(r,o){var a={type:"Topology",arcs:[]},u=by(r),c=$l(r);return o.bbox&&c.hasBounds()&&(a.bbox=c.toArray()),u&&o.presimplify&&!r.arcs.getVertexData().zz&&b.simplify(r,o),!o.no_quantization&&(o.quantization||u)&&(a.transform=CY(r,c,o)),u&&(Ko(r),a.arcs=EY(r.arcs,c,o),a.transform&&AY(a.arcs)),a.objects=r.layers.reduce(function(d,v,_){var x=v.name||"layer"+(_+1);return d[x]=Rn.exportLayer(v,r.arcs,o),d},{}),o.metadata&&(a.metadata=SY(r)),a};function CY(r,o,a){var u=SA(o,r.arcs,a),c=o.getTransform(u),d=c.invert(),v;function _(E,k){var F=c.transform(E,k);return[Math.round(F[0]),Math.round(F[1])]}function x(E,k){return c.transform(E,k)}return r.arcs&&a.fix_geometry?(r.arcs.transformPoints(x),v=gC(r.arcs),r.arcs.transformPoints(function(E,k){return[Math.round(E),Math.round(k)]}),v(r.arcs)):r.arcs&&r.arcs.transformPoints(_),a.no_point_quantization||r.layers.filter(Ia).forEach(function(E){py(E,_)}),{scale:[d.mx,d.my],translate:[d.bx,d.by]}}function EY(r,o,a){var u=null,c=[];return a.presimplify&&(u=bA(o.width())),r.forEach2(function(d,v,_,x,E){for(var k=[],F,B=d+v;d<B;d++)F=[_[d],x[d]],u&&F.push(u(E[d])),k.push(F);c.push(k.length>1?k:null)}),c}function AY(r){r.forEach(function(o){for(var a,u,c,d,v,_=0,x=o.length;_<x;_++)v=o[_],c=v[0],d=v[1],_>0&&(v[0]=c-a,v[1]=d-u),a=c,u=d})}function xA(r,o){var a=zm(r);return[a[0]*o,a[1]*o]}function SA(r,o,a){var u,c,d;return a.topojson_precision>0?u=xA(o,a.topojson_precision):a.quantization>0?u=[r.width()/(a.quantization-1),r.height()/(a.quantization-1)]:a.precision>0?u=[a.precision,a.precision]:u=xA(o,.02),c=Math.ceil(r.width()/u[0])||0,d=Math.ceil(r.height()/u[1])||0,new Bt(0,0,c,d)}Rn.exportProperties=function(r,o,a){var u=__(o,a),c=b_(o,a);r.forEach(function(d,v){u&&(d.properties=u[v]),c&&(d.id=c[v])})},Rn.exportLayer=function(r,o,a){for(var u=pr(r),c=[],d=Rn.exporters[r.geometry_type]||null,v,_=0;_<u;_++)v=d&&r.shapes[_],v?c[_]=d(v,o,a):c[_]={type:null};return r.data&&Rn.exportProperties(c,r.data,a),{type:"GeometryCollection",geometries:c}},Rn.exportPolygonGeom=function(r,o,a){var u={};return r=qm(r,o),!r||r.length===0?u.type=null:r.length>1?(u.arcs=e2(r,o,a.invert_y),u.arcs.length==1?(u.arcs=u.arcs[0],u.type="Polygon"):u.type="MultiPolygon"):(u.arcs=r,u.type="Polygon"),u},Rn.exportLineGeom=function(r,o){var a={};return r=qm(r,o),!r||r.length===0?a.type=null:r.length==1?(a.type="LineString",a.arcs=r[0]):(a.type="MultiLineString",a.arcs=r),a},Rn.exporters={polygon:Rn.exportPolygonGeom,polyline:Rn.exportLineGeom,point:Wt.exportPointGeom};var kY=Object.freeze({__proto__:null,exportTopoJSON:wA,calcExportBounds:SA});function CA(r){return dh(r),{layers:[{data:new An(r)}],info:{}}}function EA(r,o){return r.layers.reduce(function(a,u){return u.data&&a.push({content:AA(u,o),filename:(u.name||"output")+".json"}),a},[])}function AA(r,o){o=o||{};var a=r.data.getRecords();return o.ndjson?a.map(Zy).join(`
`):o.prettify?yp([])(a):JSON.stringify(a)}var FY=Object.freeze({__proto__:null,importJSONTable:CA,exportJSON:EA,exportJSONTable:AA});function fs(r){var o=Eo(r||"").toLowerCase(),a=null;return o=="dbf"||o=="shp"||o=="kml"||t2(o)?a=o:/json$/.test(o)?a="json":(o=="csv"||o=="tsv"||o=="txt"||o=="tab")&&(a="text"),a}function t2(r){return r=="prj"||r=="shx"||r=="cpg"}function n2(r){var o=null;return g.isString(r)?o=qp(r)&&"json"||FA(r)&&"kml"||"text":(g.isObject(r)&&r.type||g.isArray(r))&&(o="json"),o}function kA(r,o){return fs(r)||n2(o)}function qp(r){return/^\s*[{[]/.test(String(r))}function FA(r){return r=String(r),r.includes("<kml ")&&r.includes('xmlns="http://www.opengis.net/kml/')}function IA(r){var o=Eo(r).toLowerCase();return/csv|tsv|txt$/.test(o)}function IY(r){return!!fs(r)||kh(r)}function MA(r){var o=fs(r);return!!o&&o!="gz"&&o!="zip"}function r2(r){return/\.zip$/i.test(r)}function i2(r){return/\.kmz$/i.test(r)}function DA(r){return/\.gz$/i.test(r)}function MY(r){var o=["geojson","topojson","json","dsv","dbf","shapefile","svg","kml"];return o.indexOf(r)>-1}function DY(r){return{geojson:"GeoJSON",topojson:"TopoJSON",json:"JSON records",dsv:"CSV",dbf:"DBF",kml:"KML",kmz:"KMZ",shapefile:"Shapefile",svg:"SVG"}[r]||""}function o2(r){var o=Eo(r).toLowerCase();return o=="shp"||o=="shx"||o=="dbf"}function kh(r){var o=fs(r);return o2(r)||r2(r)||DA(r)||i2(r)||o=="json"||o=="text"}function TY(r){var o=/\.(shx|prj|xls|xlsx|gdb|sbn|sbx|xml)$/i;return o.test(r)}var PY=Object.freeze({__proto__:null,guessInputFileType:fs,isAuxiliaryInputFileType:t2,guessInputContentType:n2,guessInputType:kA,stringLooksLikeJSON:qp,stringLooksLikeKML:FA,couldBeDsvFile:IA,looksLikeImportableFile:IY,looksLikeContentFile:MA,isZipFile:r2,isKmzFile:i2,isGzipFile:DA,isSupportedOutputFormat:MY,getFormatName:DY,isSupportedBinaryInputType:o2,isImportableAsBinary:kh,filenameIsUnsupportedOutputType:TY});function a2(r,o){var a=o.file||null,u=r.info&&r.info.input_formats&&r.info.input_formats[0],c=null;return o.format?o.format:(a?c=s2(a,u):u&&(c=u),c=="json"&&_y(r)&&(c="geojson"),c||null)}function s2(r,o){var a=Eo(r).toLowerCase(),u=null;return a=="gz"?s2(ss(r,""),o):(a=="shp"?u="shapefile":a=="dbf"?u="dbf":a=="svg"?u="svg":a=="kml"||a=="kmz"?u="kml":/json$/.test(a)?(u="geojson",a=="topojson"||o=="topojson"&&a!="geojson"?u="topojson":a=="json"&&o=="json"&&(u="json")):IA(r)?u="dsv":o&&(u=o),u)}var RY=Object.freeze({__proto__:null,getOutputFormat:a2,inferOutputFormat:s2}),TA={},BY=function(r,o,a,u,c){var d=new Worker(TA[o]||(TA[o]=URL.createObjectURL(new Blob([r+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return d.onmessage=function(v){var _=v.data,x=_.$e$;if(x){var E=new Error(x[0]);E.code=x[1],E.stack=x[2],c(E,null)}else c(null,_)},d.postMessage(a,u),d},On=Uint8Array,Zr=Uint16Array,Xl=Uint32Array,Kl=new On([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zl=new On([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fh=new On([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PA=function(r,o){for(var a=new Zr(31),u=0;u<31;++u)a[u]=o+=1<<r[u-1];for(var c=new Xl(a[30]),u=1;u<30;++u)for(var d=a[u];d<a[u+1];++d)c[d]=d-a[u]<<5|u;return[a,c]},RA=PA(Kl,2),u2=RA[0],$p=RA[1];u2[28]=258,$p[258]=28;for(var BA=PA(Zl,0),OA=BA[0],l2=BA[1],Ih=new Zr(32768),Hn=0;Hn<32768;++Hn){var hs=(Hn&43690)>>>1|(Hn&21845)<<1;hs=(hs&52428)>>>2|(hs&13107)<<2,hs=(hs&61680)>>>4|(hs&3855)<<4,Ih[Hn]=((hs&65280)>>>8|(hs&255)<<8)>>>1}for(var uo=function(r,o,a){for(var u=r.length,c=0,d=new Zr(o);c<u;++c)r[c]&&++d[r[c]-1];var v=new Zr(o);for(c=0;c<o;++c)v[c]=v[c-1]+d[c-1]<<1;var _;if(a){_=new Zr(1<<o);var x=15-o;for(c=0;c<u;++c)if(r[c])for(var E=c<<4|r[c],k=o-r[c],F=v[r[c]-1]++<<k,B=F|(1<<k)-1;F<=B;++F)_[Ih[F]>>>x]=E}else for(_=new Zr(u),c=0;c<u;++c)r[c]&&(_[c]=Ih[v[r[c]-1]++]>>>15-r[c]);return _},Ta=new On(288),Hn=0;Hn<144;++Hn)Ta[Hn]=8;for(var Hn=144;Hn<256;++Hn)Ta[Hn]=9;for(var Hn=256;Hn<280;++Hn)Ta[Hn]=7;for(var Hn=280;Hn<288;++Hn)Ta[Hn]=8;for(var Jl=new On(32),Hn=0;Hn<32;++Hn)Jl[Hn]=5;var LA=uo(Ta,9,0),zA=uo(Ta,9,1),NA=uo(Jl,5,0),jA=uo(Jl,5,1),Up=function(r){for(var o=r[0],a=1;a<r.length;++a)r[a]>o&&(o=r[a]);return o},lo=function(r,o,a){var u=o/8|0;return(r[u]|r[u+1]<<8)>>(o&7)&a},Gp=function(r,o){var a=o/8|0;return(r[a]|r[a+1]<<8|r[a+2]<<16)>>(o&7)},Mh=function(r){return(r+7)/8|0},ds=function(r,o,a){(o==null||o<0)&&(o=0),(a==null||a>r.length)&&(a=r.length);var u=new(r.BYTES_PER_ELEMENT==2?Zr:r.BYTES_PER_ELEMENT==4?Xl:On)(a-o);return u.set(r.subarray(o,a)),u},qA=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Vn=function(r,o,a){var u=new Error(o||qA[r]);if(u.code=r,Error.captureStackTrace&&Error.captureStackTrace(u,Vn),!a)throw u;return u},c2=function(r,o,a){var u=r.length;if(!u||a&&a.f&&!a.l)return o||new On(0);var c=!o||a,d=!a||a.i;a||(a={}),o||(o=new On(u*3));var v=function(Pu){var Ru=o.length;if(Pu>Ru){var ps=new On(Math.max(Ru*2,Pu));ps.set(o),o=ps}},_=a.f||0,x=a.p||0,E=a.b||0,k=a.l,F=a.d,B=a.m,V=a.n,G=u*8;do{if(!k){_=lo(r,x,1);var H=lo(r,x+1,3);if(x+=3,H)if(H==1)k=zA,F=jA,B=9,V=5;else if(H==2){var me=lo(r,x,31)+257,N=lo(r,x+10,15)+4,Z=me+lo(r,x+5,31)+1;x+=14;for(var re=new On(Z),_e=new On(19),Ie=0;Ie<N;++Ie)_e[Fh[Ie]]=lo(r,x+Ie*3,7);x+=N*3;for(var qe=Up(_e),De=(1<<qe)-1,ve=uo(_e,qe,1),Ie=0;Ie<Z;){var It=ve[lo(r,x,De)];x+=It&15;var J=It>>>4;if(J<16)re[Ie++]=J;else{var kt=0,ct=0;for(J==16?(ct=3+lo(r,x,3),x+=2,kt=re[Ie-1]):J==17?(ct=3+lo(r,x,7),x+=3):J==18&&(ct=11+lo(r,x,127),x+=7);ct--;)re[Ie++]=kt}}var Tt=re.subarray(0,me),$t=re.subarray(me);B=Up(Tt),V=Up($t),k=uo(Tt,B,1),F=uo($t,V,1)}else Vn(1);else{var J=Mh(x)+4,ue=r[J-4]|r[J-3]<<8,se=J+ue;if(se>u){d&&Vn(0);break}c&&v(E+ue),o.set(r.subarray(J,se),E),a.b=E+=ue,a.p=x=se*8,a.f=_;continue}if(x>G){d&&Vn(0);break}}c&&v(E+131072);for(var Vt=(1<<B)-1,kn=(1<<V)-1,Qr=x;;Qr=x){var kt=k[Gp(r,x)&Vt],yi=kt>>>4;if(x+=kt&15,x>G){d&&Vn(0);break}if(kt||Vn(2),yi<256)o[E++]=yi;else if(yi==256){Qr=x,k=null;break}else{var Pr=yi-254;if(yi>264){var Ie=yi-257,Ln=Kl[Ie];Pr=lo(r,x,(1<<Ln)-1)+u2[Ie],x+=Ln}var fo=F[Gp(r,x)&kn],zn=fo>>>4;fo||Vn(3),x+=fo&15;var $t=OA[zn];if(zn>3){var Ln=Zl[zn];$t+=Gp(r,x)&(1<<Ln)-1,x+=Ln}if(x>G){d&&Vn(0);break}c&&v(E+131072);for(var Rr=E+Pr;E<Rr;E+=4)o[E]=o[E-$t],o[E+1]=o[E+1-$t],o[E+2]=o[E+2-$t],o[E+3]=o[E+3-$t];E=Rr}}a.l=k,a.p=Qr,a.b=E,a.f=_,k&&(_=1,a.m=B,a.d=F,a.n=V)}while(!_);return E==o.length?o:ds(o,0,E)},ea=function(r,o,a){a<<=o&7;var u=o/8|0;r[u]|=a,r[u+1]|=a>>>8},Ql=function(r,o,a){a<<=o&7;var u=o/8|0;r[u]|=a,r[u+1]|=a>>>8,r[u+2]|=a>>>16},Hp=function(r,o){for(var a=[],u=0;u<r.length;++u)r[u]&&a.push({s:u,f:r[u]});var c=a.length,d=a.slice();if(!c)return[Yp,0];if(c==1){var v=new On(a[0].s+1);return v[a[0].s]=1,[v,1]}a.sort(function(Z,re){return Z.f-re.f}),a.push({s:-1,f:25001});var _=a[0],x=a[1],E=0,k=1,F=2;for(a[0]={s:-1,f:_.f+x.f,l:_,r:x};k!=c-1;)_=a[a[E].f<a[F].f?E++:F++],x=a[E!=k&&a[E].f<a[F].f?E++:F++],a[k++]={s:-1,f:_.f+x.f,l:_,r:x};for(var B=d[0].s,u=1;u<c;++u)d[u].s>B&&(B=d[u].s);var V=new Zr(B+1),G=Vp(a[k-1],V,0);if(G>o){var u=0,H=0,J=G-o,ue=1<<J;for(d.sort(function(re,_e){return V[_e.s]-V[re.s]||re.f-_e.f});u<c;++u){var se=d[u].s;if(V[se]>o)H+=ue-(1<<G-V[se]),V[se]=o;else break}for(H>>>=J;H>0;){var me=d[u].s;V[me]<o?H-=1<<o-V[me]++-1:++u}for(;u>=0&&H;--u){var N=d[u].s;V[N]==o&&(--V[N],++H)}G=o}return[new On(V),G]},Vp=function(r,o,a){return r.s==-1?Math.max(Vp(r.l,o,a+1),Vp(r.r,o,a+1)):o[r.s]=a},f2=function(r){for(var o=r.length;o&&!r[--o];);for(var a=new Zr(++o),u=0,c=r[0],d=1,v=function(x){a[u++]=x},_=1;_<=o;++_)if(r[_]==c&&_!=o)++d;else{if(!c&&d>2){for(;d>138;d-=138)v(32754);d>2&&(v(d>10?d-11<<5|28690:d-3<<5|12305),d=0)}else if(d>3){for(v(c),--d;d>6;d-=6)v(8304);d>2&&(v(d-3<<5|8208),d=0)}for(;d--;)v(c);d=1,c=r[_]}return[a.subarray(0,u),o]},ec=function(r,o){for(var a=0,u=0;u<o.length;++u)a+=r[u]*o[u];return a},Wp=function(r,o,a){var u=a.length,c=Mh(o+2);r[c]=u&255,r[c+1]=u>>>8,r[c+2]=r[c]^255,r[c+3]=r[c+1]^255;for(var d=0;d<u;++d)r[c+d+4]=a[d];return(c+4+u)*8},h2=function(r,o,a,u,c,d,v,_,x,E,k){ea(o,k++,a),++c[256];for(var F=Hp(c,15),B=F[0],V=F[1],G=Hp(d,15),H=G[0],J=G[1],ue=f2(B),se=ue[0],me=ue[1],N=f2(H),Z=N[0],re=N[1],_e=new Zr(19),Ie=0;Ie<se.length;++Ie)_e[se[Ie]&31]++;for(var Ie=0;Ie<Z.length;++Ie)_e[Z[Ie]&31]++;for(var qe=Hp(_e,7),De=qe[0],ve=qe[1],It=19;It>4&&!De[Fh[It-1]];--It);var kt=E+5<<3,ct=ec(c,Ta)+ec(d,Jl)+v,Tt=ec(c,B)+ec(d,H)+v+14+3*It+ec(_e,De)+(2*_e[16]+3*_e[17]+7*_e[18]);if(kt<=ct&&kt<=Tt)return Wp(o,k,r.subarray(x,x+E));var $t,Vt,kn,Qr;if(ea(o,k,1+(Tt<ct)),k+=2,Tt<ct){$t=uo(B,V,0),Vt=B,kn=uo(H,J,0),Qr=H;var yi=uo(De,ve,0);ea(o,k,me-257),ea(o,k+5,re-1),ea(o,k+10,It-4),k+=14;for(var Ie=0;Ie<It;++Ie)ea(o,k+3*Ie,De[Fh[Ie]]);k+=3*It;for(var Pr=[se,Z],Ln=0;Ln<2;++Ln)for(var fo=Pr[Ln],Ie=0;Ie<fo.length;++Ie){var zn=fo[Ie]&31;ea(o,k,yi[zn]),k+=De[zn],zn>15&&(ea(o,k,fo[Ie]>>>5&127),k+=fo[Ie]>>>12)}}else $t=LA,Vt=Ta,kn=NA,Qr=Jl;for(var Ie=0;Ie<_;++Ie)if(u[Ie]>255){var zn=u[Ie]>>>18&31;Ql(o,k,$t[zn+257]),k+=Vt[zn+257],zn>7&&(ea(o,k,u[Ie]>>>23&31),k+=Kl[zn]);var Rr=u[Ie]&31;Ql(o,k,kn[Rr]),k+=Qr[Rr],Rr>3&&(Ql(o,k,u[Ie]>>>5&8191),k+=Zl[Rr])}else Ql(o,k,$t[u[Ie]]),k+=Vt[u[Ie]];return Ql(o,k,$t[256]),k+Vt[256]},$A=new Xl([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Yp=new On(0),UA=function(r,o,a,u,c,d){var v=r.length,_=new On(u+v+5*(1+Math.ceil(v/7e3))+c),x=_.subarray(u,_.length-c),E=0;if(!o||v<8)for(var k=0;k<=v;k+=65535){var F=k+65535;F>=v&&(x[E>>3]=d),E=Wp(x,E+1,r.subarray(k,F))}else{for(var B=$A[o-1],V=B>>>13,G=B&8191,H=(1<<a)-1,J=new Zr(32768),ue=new Zr(H+1),se=Math.ceil(a/3),me=2*se,N=function(rn){return(r[rn]^r[rn+1]<<se^r[rn+2]<<me)&H},Z=new Xl(25e3),re=new Zr(288),_e=new Zr(32),Ie=0,qe=0,k=0,De=0,ve=0,It=0;k<v;++k){var kt=N(k),ct=k&32767,Tt=ue[kt];if(J[ct]=Tt,ue[kt]=ct,ve<=k){var $t=v-k;if((Ie>7e3||De>24576)&&$t>423){E=h2(r,x,0,Z,re,_e,qe,De,It,k-It,E),De=Ie=qe=0,It=k;for(var Vt=0;Vt<286;++Vt)re[Vt]=0;for(var Vt=0;Vt<30;++Vt)_e[Vt]=0}var kn=2,Qr=0,yi=G,Pr=ct-Tt&32767;if($t>2&&kt==N(k-Pr))for(var Ln=Math.min(V,$t)-1,fo=Math.min(32767,k),zn=Math.min(258,$t);Pr<=fo&&--yi&&ct!=Tt;){if(r[k+kn]==r[k+kn-Pr]){for(var Rr=0;Rr<zn&&r[k+Rr]==r[k+Rr-Pr];++Rr);if(Rr>kn){if(kn=Rr,Qr=Pr,Rr>Ln)break;for(var Pu=Math.min(Pr,Rr-2),Ru=0,Vt=0;Vt<Pu;++Vt){var ps=k-Pr+Vt+32768&32767,Ar=J[ps],Fn=ps-Ar+32768&32767;Fn>Ru&&(Ru=Fn,Tt=ps)}}}ct=Tt,Tt=J[ct],Pr+=ct-Tt+32768&32767}if(Qr){Z[De++]=268435456|$p[kn]<<18|l2[Qr];var In=$p[kn]&31,yg=l2[Qr]&31;qe+=Kl[In]+Zl[yg],++re[257+In],++_e[yg],ve=k+kn,++Ie}else Z[De++]=r[k],++re[r[k]]}}E=h2(r,x,d,Z,re,_e,qe,De,It,k-It,E),!d&&E&7&&(E=Wp(x,E+1,Yp))}return ds(_,0,u+Mh(E)+c)},GA=function(){for(var r=new Int32Array(256),o=0;o<256;++o){for(var a=o,u=9;--u;)a=(a&1&&-306674912)^a>>>1;r[o]=a}return r}(),Xp=function(){var r=-1;return{p:function(o){for(var a=r,u=0;u<o.length;++u)a=GA[a&255^o[u]]^a>>>8;r=a},d:function(){return~r}}},d2=function(r,o,a,u,c){return UA(r,o.level==null?6:o.level,o.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):12+o.mem,a,u,!c)},Kp=function(r,o){var a={};for(var u in r)a[u]=r[u];for(var u in o)a[u]=o[u];return a},HA=function(r,o,a){for(var u=r(),c=r.toString(),d=c.slice(c.indexOf("[")+1,c.lastIndexOf("]")).replace(/\s+/g,"").split(","),v=0;v<u.length;++v){var _=u[v],x=d[v];if(typeof _=="function"){o+=";"+x+"=";var E=_.toString();if(_.prototype)if(E.indexOf("[native code]")!=-1){var k=E.indexOf(" ",8)+1;o+=E.slice(k,E.indexOf("(",k))}else{o+=E;for(var F in _.prototype)o+=";"+x+".prototype."+F+"="+_.prototype[F].toString()}else o+=E}else a[x]=_}return[o,a]},Zp=[],OY=function(r){var o=[];for(var a in r)r[a].buffer&&o.push((r[a]=new r[a].constructor(r[a])).buffer);return o},LY=function(r,o,a,u){var c;if(!Zp[a]){for(var d="",v={},_=r.length-1,x=0;x<_;++x)c=HA(r[x],d,v),d=c[0],v=c[1];Zp[a]=HA(r[_],d,v)}var E=Kp({},Zp[a][1]);return BY(Zp[a][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+o.toString()+"}",a,E,OY(E),u)},VA=function(){return[On,Zr,Xl,Kl,Zl,Fh,u2,OA,zA,jA,Ih,qA,uo,Up,lo,Gp,Mh,ds,Vn,c2,eg,tc,YA]},WA=function(){return[On,Zr,Xl,Kl,Zl,Fh,$p,l2,LA,Ta,NA,Jl,Ih,$A,Yp,uo,ea,Ql,Hp,Vp,f2,ec,Wp,h2,Mh,ds,UA,d2,Qp,tc]},zY=function(){return[XA,JA,hr,Xp,GA]},NY=function(){return[KA,ZA]},tc=function(r){return postMessage(r,[r.buffer])},YA=function(r){return r&&r.size&&new On(r.size)},Jp=function(r,o,a,u,c,d){var v=LY(a,u,c,function(_,x){v.terminate(),d(_,x)});return v.postMessage([r,o],o.consume?[r.buffer]:[]),function(){v.terminate()}},ko=function(r,o){return r[o]|r[o+1]<<8},Ur=function(r,o){return(r[o]|r[o+1]<<8|r[o+2]<<16|r[o+3]<<24)>>>0},p2=function(r,o){return Ur(r,o)+Ur(r,o+4)*4294967296},hr=function(r,o,a){for(;a;++o)r[o]=a,a>>>=8},XA=function(r,o){var a=o.filename;if(r[0]=31,r[1]=139,r[2]=8,r[8]=o.level<2?4:o.level==9?2:0,r[9]=3,o.mtime!=0&&hr(r,4,Math.floor(new Date(o.mtime||Date.now())/1e3)),a){r[3]=8;for(var u=0;u<=a.length;++u)r[u+10]=a.charCodeAt(u)}},KA=function(r){(r[0]!=31||r[1]!=139||r[2]!=8)&&Vn(6,"invalid gzip data");var o=r[3],a=10;o&4&&(a+=r[10]|(r[11]<<8)+2);for(var u=(o>>3&1)+(o>>4&1);u>0;u-=!r[a++]);return a+(o&2)},ZA=function(r){var o=r.length;return(r[o-4]|r[o-3]<<8|r[o-2]<<16|r[o-1]<<24)>>>0},JA=function(r){return 10+(r.filename&&r.filename.length+1||0)};function jY(r,o,a){return a||(a=o,o={}),typeof a!="function"&&Vn(7),Jp(r,o,[WA],function(u){return tc(Qp(u.data[0],u.data[1]))},0,a)}function Qp(r,o){return d2(r,o||{},0,0)}function qY(r,o,a){return a||(a=o,o={}),typeof a!="function"&&Vn(7),Jp(r,o,[VA],function(u){return tc(eg(u.data[0],YA(u.data[1])))},1,a)}function eg(r,o){return c2(r,o)}function $Y(r,o,a){return a||(a=o,o={}),typeof a!="function"&&Vn(7),Jp(r,o,[WA,zY,function(){return[g2]}],function(u){return tc(g2(u.data[0],u.data[1]))},2,a)}function g2(r,o){o||(o={});var a=Xp(),u=r.length;a.p(r);var c=d2(r,o,JA(o),8),d=c.length;return XA(c,o),hr(c,d-8,a.d()),hr(c,d-4,u),c}function UY(r,o,a){return a||(a=o,o={}),typeof a!="function"&&Vn(7),Jp(r,o,[VA,NY,function(){return[v2]}],function(u){return tc(v2(u.data[0]))},3,a)}function v2(r,o){return c2(r.subarray(KA(r),-8),o||new On(ZA(r)))}var m2=function(r,o,a,u){for(var c in r){var d=r[c],v=o+c,_=u;Array.isArray(d)&&(_=Kp(u,d[1]),d=d[0]),d instanceof On?a[v]=[d,_]:(a[v+="/"]=[new On(0),_],m2(d,v,a,u))}},QA=typeof TextEncoder<"u"&&new TextEncoder,y2=typeof TextDecoder<"u"&&new TextDecoder,GY=0;try{y2.decode(Yp,{stream:!0}),GY=1}catch{}var HY=function(r){for(var o="",a=0;;){var u=r[a++],c=(u>127)+(u>223)+(u>239);if(a+c>r.length)return[o,ds(r,a-1)];c?c==3?(u=((u&15)<<18|(r[a++]&63)<<12|(r[a++]&63)<<6|r[a++]&63)-65536,o+=String.fromCharCode(55296|u>>10,56320|u&1023)):c&1?o+=String.fromCharCode((u&31)<<6|r[a++]&63):o+=String.fromCharCode((u&15)<<12|(r[a++]&63)<<6|r[a++]&63):o+=String.fromCharCode(u)}};function Mu(r,o){var a;if(QA)return QA.encode(r);for(var u=r.length,c=new On(r.length+(r.length>>1)),d=0,v=function(E){c[d++]=E},a=0;a<u;++a){if(d+5>c.length){var _=new On(d+8+(u-a<<1));_.set(c),c=_}var x=r.charCodeAt(a);x<128||o?v(x):x<2048?(v(192|x>>6),v(128|x&63)):x>55295&&x<57344?(x=65536+(x&1047552)|r.charCodeAt(++a)&1023,v(240|x>>18),v(128|x>>12&63),v(128|x>>6&63),v(128|x&63)):(v(224|x>>12),v(128|x>>6&63),v(128|x&63))}return ds(c,0,d)}function tg(r,o){if(o){for(var a="",u=0;u<r.length;u+=16384)a+=String.fromCharCode.apply(null,r.subarray(u,u+16384));return a}else{if(y2)return y2.decode(r);var c=HY(r),d=c[0],v=c[1];return v.length&&Vn(8),d}}var ek=function(r,o){return o+30+ko(r,o+26)+ko(r,o+28)},tk=function(r,o,a){var u=ko(r,o+28),c=tg(r.subarray(o+46,o+46+u),!(ko(r,o+8)&2048)),d=o+46+u,v=Ur(r,o+20),_=a&&v==4294967295?VY(r,d):[v,Ur(r,o+24),Ur(r,o+42)],x=_[0],E=_[1],k=_[2];return[ko(r,o+10),x,E,c,d+ko(r,o+30)+ko(r,o+32),k]},VY=function(r,o){for(;ko(r,o)!=1;o+=4+ko(r,o+2));return[p2(r,o+12),p2(r,o+4),p2(r,o+20)]},Dh=function(r){var o=0;if(r)for(var a in r){var u=r[a].length;u>65535&&Vn(9),o+=u+4}return o},ng=function(r,o,a,u,c,d,v,_){var x=u.length,E=a.extra,k=_&&_.length,F=Dh(E);hr(r,o,v!=null?33639248:67324752),o+=4,v!=null&&(r[o++]=20,r[o++]=a.os),r[o]=20,o+=2,r[o++]=a.flag<<1|(d<0&&8),r[o++]=c&&8,r[o++]=a.compression&255,r[o++]=a.compression>>8;var B=new Date(a.mtime==null?Date.now():a.mtime),V=B.getFullYear()-1980;if((V<0||V>119)&&Vn(10),hr(r,o,V<<25|B.getMonth()+1<<21|B.getDate()<<16|B.getHours()<<11|B.getMinutes()<<5|B.getSeconds()>>>1),o+=4,d!=-1&&(hr(r,o,a.crc),hr(r,o+4,d<0?-d-2:d),hr(r,o+8,a.size)),hr(r,o+12,x),hr(r,o+14,F),o+=16,v!=null&&(hr(r,o,k),hr(r,o+6,a.attrs),hr(r,o+10,v),o+=14),r.set(u,o),o+=x,F)for(var G in E){var H=E[G],J=H.length;hr(r,o,+G),hr(r,o+2,J),r.set(H,o+4),o+=4+J}return k&&(r.set(_,o),o+=k),o},nk=function(r,o,a,u,c){hr(r,o,101010256),hr(r,o+8,a),hr(r,o+10,a),hr(r,o+12,u),hr(r,o+16,c)};function WY(r,o,a){a||(a=o,o={}),typeof a!="function"&&Vn(7);var u={};m2(r,"",u,o);var c=Object.keys(u),d=c.length,v=0,_=0,x=d,E=new Array(d),k=[],F=function(){for(var J=0;J<k.length;++J)k[J]()},B=function(J,ue){rg(function(){a(J,ue)})};rg(function(){B=a});var V=function(){var J=new On(_+22),ue=v,se=_-v;_=0;for(var me=0;me<x;++me){var N=E[me];try{var Z=N.c.length;ng(J,_,N,N.f,N.u,Z);var re=30+N.f.length+Dh(N.extra),_e=_+re;J.set(N.c,_e),ng(J,v,N,N.f,N.u,Z,_,N.m),v+=16+re+(N.m?N.m.length:0),_=_e+Z}catch(Ie){return B(Ie,null)}}nk(J,v,E.length,se,ue),B(null,J)};d||V();for(var G=function(J){var ue=c[J],se=u[ue],me=se[0],N=se[1],Z=Xp(),re=me.length;Z.p(me);var _e=Mu(ue),Ie=_e.length,qe=N.comment,De=qe&&Mu(qe),ve=De&&De.length,It=Dh(N.extra),kt=N.level==0?0:8,ct=function(Tt,$t){if(Tt)F(),B(Tt,null);else{var Vt=$t.length;E[J]=Kp(N,{size:re,crc:Z.d(),c:$t,f:_e,m:De,u:Ie!=ue.length||De&&qe.length!=ve,compression:kt}),v+=30+Ie+It+Vt,_+=76+2*(Ie+It)+(ve||0)+Vt,--d||V()}};if(Ie>65535&&ct(Vn(11,0,1),null),!kt)ct(null,me);else if(re<16e4)try{ct(null,Qp(me,N))}catch(Tt){ct(Tt,null)}else k.push(jY(me,N,ct))},H=0;H<x;++H)G(H);return F}function YY(r,o){o||(o={});var a={},u=[];m2(r,"",a,o);var c=0,d=0;for(var v in a){var _=a[v],x=_[0],E=_[1],k=E.level==0?0:8,F=Mu(v),B=F.length,V=E.comment,G=V&&Mu(V),H=G&&G.length,J=Dh(E.extra);B>65535&&Vn(11);var ue=k?Qp(x,E):x,se=ue.length,me=Xp();me.p(x),u.push(Kp(E,{size:x.length,crc:me.d(),c:ue,f:F,m:G,u:B!=v.length||G&&V.length!=H,o:c,compression:k})),c+=30+B+J+se,d+=76+2*(B+J)+(H||0)+se}for(var N=new On(d+22),Z=c,re=d-c,_e=0;_e<u.length;++_e){var F=u[_e];ng(N,F.o,F,F.f,F.u,F.c.length);var Ie=30+F.f.length+Dh(F.extra);N.set(F.c,F.o+Ie),ng(N,c,F,F.f,F.u,F.c.length,F.o,F.m),c+=16+Ie+(F.m?F.m.length:0)}return nk(N,c,u.length,re,Z),N}var rg=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(r){r()};function XY(r,o,a){a||(a=o,o={}),typeof a!="function"&&Vn(7);var u=[],c=function(){for(var J=0;J<u.length;++J)u[J]()},d={},v=function(J,ue){rg(function(){a(J,ue)})};rg(function(){v=a});for(var _=r.length-22;Ur(r,_)!=101010256;--_)if(!_||r.length-_>65558)return v(Vn(13,0,1),null),c;var x=ko(r,_+8);if(x){var E=x,k=Ur(r,_+16),F=k==4294967295||E==65535;if(F){var B=Ur(r,_-12);F=Ur(r,B)==101075792,F&&(E=x=Ur(r,B+32),k=Ur(r,B+48))}for(var V=o&&o.filter,G=function(J){var ue=tk(r,k,F),se=ue[0],me=ue[1],N=ue[2],Z=ue[3],re=ue[4],_e=ue[5],Ie=ek(r,_e);k=re;var qe=function(ve,It){ve?(c(),v(ve,null)):(It&&(d[Z]=It),--x||v(null,d))};if(!V||V({name:Z,size:me,originalSize:N,compression:se}))if(!se)qe(null,ds(r,Ie,Ie+me));else if(se==8){var De=r.subarray(Ie,Ie+me);if(me<32e4)try{qe(null,eg(De,new On(N)))}catch(ve){qe(ve,null)}else u.push(qY(De,{size:N},qe))}else qe(Vn(14,"unknown compression type "+se,1),null);else qe(null,null)},H=0;H<E;++H)G(H)}else v(null,{});return c}function KY(r,o){for(var a={},u=r.length-22;Ur(r,u)!=101010256;--u)(!u||r.length-u>65558)&&Vn(13);var c=ko(r,u+8);if(!c)return{};var d=Ur(r,u+16),v=d==4294967295||c==65535;if(v){var _=Ur(r,u-12);v=Ur(r,_)==101075792,v&&(c=Ur(r,_+32),d=Ur(r,_+48))}for(var x=o&&o.filter,E=0;E<c;++E){var k=tk(r,d,v),F=k[0],B=k[1],V=k[2],G=k[3],H=k[4],J=k[5],ue=ek(r,J);d=H,(!x||x({name:G,size:B,originalSize:V,compression:F}))&&(F?F==8?a[G]=eg(r.subarray(ue,ue+B),new On(V)):Vn(14,"unknown compression type "+F):a[G]=ds(r,ue,ue+B))}return a}function ZY(r){return r.length>2&&r.buffer instanceof ArrayBuffer&&r[0]==31&&r[1]==139}function rk(r,o){return typeof r=="string"&&(r=Mu(r)),ao()?g2(r,o):Us.gzipSync(r,o)}async function JY(r,o){typeof r=="string"&&(r=Mu(r));var a=ao()?g.promisify($Y):g.promisify(Us.gzip);return a(r,o)}async function QY(r,o){r instanceof ArrayBuffer&&(r=new Uint8Array(r)),o=o||{};var a=ao()?g.promisify(UY):g.promisify(Us.gunzip),u=await a(r,o);return o.filename&&!kh(o.filename)&&(u=tg(u)),u}function ik(r,o){r instanceof ArrayBuffer&&(r=new Uint8Array(r));var a=v2(r);return o&&!kh(o)&&(a=tg(a)),a}var eX=Object.freeze({__proto__:null,isGzipped:ZY,gzipSync:rk,gzipAsync:JY,gunzipAsync:QY,gunzipSync:ik});async function tX(r,o,a){if(a.fit_extent){var u=r.findSingleLayer(a.fit_extent),c=Ui(u.layer,u.dataset.arcs);a=Object.assign({svg_bbox:c.toArray()},a)}var d=o.map(function(v){return g.defaults({layers:v.layers},v.dataset)});return nX(d,a)}async function nX(r,o){var a=a2(r[0],o),u;return a=="kml"||a=="svg"||a=="topojson"||a=="geojson"&&o.combine_layers?r.length>1&&(r=[oC(r)],a=="topojson"&&Xo(r[0]),o=g.defaults({final:!0},o)):(r=r.map(W4),sX(r)),u=r.reduce(function(c,d){return ao()?g.sortOn(d.layers,"menu_order",!0):g.sortOn(d.layers,"target_id",!0),c.concat(_2(d,o))},[]),o.bbox_index&&u.push(iX(r)),ok(u),o.gzip&&u.forEach(function(c){c.filename+=".gz",c.content=rk(c.content)}),u}function _2(r,o){var a=o.format=a2(r,o),u=rX[a],c=[];return a?u||te("Unknown output format:",a):te("Missing output format"),r=g.defaults({layers:r.layers.map(function(d){return g.extend({},d)})},r),o.file&&a!="topojson"&&a!="svg"&&a!="kml"&&r.layers.forEach(function(d){d.name=m_(o.file)}),b2(r.layers),o.precision&&a!="svg"&&a!="topojson"&&(r=yy(r),fp(r,o.precision,!!o.fix_geometry)),o.cut_table&&(c=uX(r.layers).concat(c)),o.extension&&(o.extension=lX(o.extension)),oX(r.layers),c=u(r,o).concat(c),aX(c),c}var rX={geojson:I5,topojson:wA,shapefile:_A,dsv:uA,dbf:vY,json:EA,svg:U5,kml:gY};function iX(r){var o=[];return r.forEach(function(a){a.layers.forEach(function(u){var c=Ui(u,a.arcs);o.push({bbox:c.toArray(),name:u.name})})}),{content:JSON.stringify(o),filename:"bbox-index.json"}}function oX(r){r.forEach(function(o){o.geometry_type?(g.contains(["polygon","polyline","point"],o.geometry_type)||te("A layer has an invalid geometry type:",o.geometry_type),o.shapes||te("A layer is missing shape data")):o.shapes&&g.some(o.shapes,function(a){return!!a})&&te("A layer contains shape records and a null geometry type")})}function aX(r){var o={};r.forEach(function(a,u){var c=a.filename;c||te("Missing a filename for file"+u),c in o&&te("Duplicate filename",c),o[c]=!0})}function b2(r){var o=r.map(function(u){return u.name||"layer"}),a=g.uniqifyNames(o);r.forEach(function(u,c){u.name=a[c]})}function sX(r){var o=r.reduce(function(a,u){return a.concat(u.layers)},[]);b2(o)}function ok(r){var o=r.map(function(u){return u.filename}),a=g.uniqifyNames(o,w2);r.forEach(function(u,c){u.filename=a[c]})}function uX(r,o){var a=[];return r.forEach(function(u){u.data&&a.push({content:JSON.stringify(u.data),filename:(u.name?u.name+"-":"")+"table.json"})}),a}function w2(r,o){var a=r.split("."),u,c;return a.length<2?g.formatVersionedName(r,o):(u=a.pop(),c=a.join("."),g.formatVersionedName(c,o)+"."+u)}function lX(r,o){return r.replace(/^\.+/,"")}var cX=Object.freeze({__proto__:null,exportTargetLayers:tX,exportFileContent:_2,assignUniqueLayerNames:b2,assignUniqueFileNames:ok,formatVersionedFileName:w2});function ak(r){if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!ao())return hX(r);var o=KY(r,{filter:lk});return ck(o)}function fX(r,o){ao()||te("Async unzipping only supported in the browser"),r instanceof ArrayBuffer&&(r=new Uint8Array(r)),XY(r,{filter:lk},function(a,u){a&&o(a),o(null,ck(u))})}function sk(r){return ao()?YY(fk(r)):dX(r)}function uk(r,o){WY(fk(r),{},o)}function lk(r){return x2(r.name)}function ck(r){return Object.keys(r).reduce(function(o,a){var u=Co(a).filename,c=r[a];return kh(u)||(c=tg(c)),o[u]=c,o},{})}function x2(r){var o=Co(r);return MA(r)&&!/^__MACOSX/.test(r)&&o.filename[0]!="."}function hX(r){var o=new p1("adm-zip")(r),a={};return o.getEntries().forEach(function(u){var c=k5(u.name);x2(c)&&(a[c]=u.getData())}),a}function dX(r){var o=new p1("adm-zip")();return r.forEach(function(a){var u=a.content;u instanceof ArrayBuffer?u=new Uint8Array(u):u instanceof Buffer||u instanceof Uint8Array||(u=Buffer.from(a.content)),o.addFile(a.filename,u)}),o.toBuffer()}function fk(r){var o={};return r.forEach(function(a){typeof a.content=="string"?a.content=Mu(a.content):a.content instanceof ArrayBuffer&&(a.content=new Uint8Array(a.content)),o[a.filename]=a.content}),o}var pX=Object.freeze({__proto__:null,unzipSync:ak,unzipAsync:fX,zipSync:sk,zipAsync:uk,isImportableZipPath:x2});async function hk(r,o){return dk(r,o)}function gX(r){dk=r}var dk=function(r,o){if(!(r.length>0))he("No files to save");else if(!o.dry_run)if(o.stdout)gi("rw").writeFile("/dev/stdout",r[0].content,function(){});else{o.zip&&(r=[{filename:o.zipfile||"output.zip",content:sk(r)}]);var a=pk(g.pluck(r,"filename"),o),u=T("input_files");r.forEach(function(c,d){var v=a[d];if(c.content instanceof ArrayBuffer&&(c.content=sn.convertArrayBuffer(c.content)),o.output){o.output.push({filename:v,content:c.content});return}!o.force&&u.indexOf(v)>-1&&ee('Need to use the "-o force" option to overwrite input files.'),sn.writeFileSync(v,c.content),he("Wrote "+v)})}};function pk(r,o){var a=o.directory;return a&&(r=r.map(function(u){return gi("path").join(a,u)})),r}var vX=Object.freeze({__proto__:null,writeFiles:hk,replaceWriteFiles:gX,getOutputPaths:pk});function ig(r,o){var a=r.arcs,u;(o.snap||o.auto_snap||o.snap_interval)&&(o.snap_interval&&(u=os(o.snap_interval,gr(r))),a&&W8(a,u)),r.layers.forEach(function(c){ar(c)&&xp(c.shapes,a,c.geometry_type)})}function gk(r){return r[0]>-1e38&&r[1]>-1e38}function mX(r){var o=1e4,a=new Float64Array(o),u=new Float64Array(o),c=0;this.endPath=function(){r(a,u,c),c=0},this.addPoint=function(d,v){c>=o&&(o=Math.ceil(o*1.3),a=g.extendBuffer(a,o),u=g.extendBuffer(u,o)),a[c]=d,u[c]=v,c++}}function S2(r){var o=r.reserved_points>0?r.reserved_points:2e4,a=new Float64Array(o),u=new Float64Array(o),c=[],d=[],v=[],_=[],x=r.type||null,E=null,k=-1,F=-1,B=0,V=0,G=0;r.precision&&(E=yh(r.precision)),g.extend(this,new mX(me)),this.startShape=function(N){c[++F]=null,N&&(d[F]=N)},this.importLine=function(N){if(N.length<2){oe("Skipping a defective line");return}H("polyline"),this.importPath(N)},this.importPoints=function(N){H("point"),N=N.filter(gk),E&&N.forEach(function(Z){Z[0]=E(Z[0]),Z[1]=E(Z[1])}),N.forEach(ue)},this.importRing=function(N,Z){var re=dt.getPlanarPathArea2(N);if(!re||N.length<4){oe("Skipping a defective ring");return}H("polygon"),(Z===!0&&re>0||Z===!1&&re<0)&&N.reverse(),this.importPath(N)},this.importPath=function(Z){for(var re,_e=0,Ie=Z.length;_e<Ie;_e++)re=Z[_e],this.addPoint(re[0],re[1]);this.endPath()},this.done=function(){var N,Z,re={name:""};return V>0&&oe(g.format("Removed %,d duplicate point%s",V,g.pluralSuffix(V))),G>0&&he(g.format("Closed %,d open polygon ring%s",G,g.pluralSuffix(G))),B>0&&(B<a.length&&(a=a.subarray(0,B),u=u.subarray(0,B)),N=new ki(v,a,u)),x=="mixed"?Z=vy(c,d,_):(re={geometry_type:x},x&&(re.shapes=c),d.length>0&&(re.data=new An(d)),Z=[re]),Z.forEach(function(_e){_e.data&&dh(_e.data.getRecords())}),{arcs:N||null,info:{},layers:Z}};function H(N){var Z=F<_.length?_[F]:null;Z?Z!=N&&ee("Unable to import mixed-geometry features"):(_[F]=N,x?N!=x&&(x="mixed"):x=N)}function J(N){if(N>a.length){var Z=Math.max(N,Math.ceil(a.length*1.5));a=g.extendBuffer(a,Z,B),u=g.extendBuffer(u,Z,B)}}function ue(N){var Z=c[F]||(c[F]=[]);Z.push(N)}function se(N){k++,v[k]=N,ue([k])}function me(N,Z,re){var _e=0,Ie,qe,De,ve;J(B+re);for(var It=0;It<re;It++)Ie=N[It],qe=Z[It],E&&(Ie=E(Ie),qe=E(qe)),It>0&&Ie==De&&qe==ve?V++:(a[B]=Ie,u[B]=qe,B++,_e++),ve=qe,De=Ie;x=="polygon"&&_e>0&&(N[0]!=N[re-1]||Z[0]!=Z[re-1])&&(J(B+1),a[B]=N[0],u[B]=Z[0],G++,B++,_e++),se(_e)}}var yX=Object.freeze({__proto__:null,cleanPathsAfterImport:ig,pointHasValidCoords:gk,PathImporter:S2});function vk(r,o,a){var u=new xh(r,o),c=u.type(),d=qE(c),v=g.defaults({type:d,reserved_points:Math.round(u.header().byteLength/16)},a),_=new S2(v);return z_(c)||ee("Unsupported Shapefile type:",c),fn.isZType(c)?oe("Warning: Shapefile Z data will be lost."):fn.isMType(c)&&oe("Warning: Shapefile M data will be lost."),u.forEachShape(function(x){_.startShape(),x.isNull||(d=="point"?_.importPoints(x.readPoints()):x.stream(_))}),_.done()}var _X=Object.freeze({__proto__:null,importShp:vk});function co(r,o){var a=o||{},u=Object.keys(Wt.pathImporters),c=g.isString(r)?JSON.parse(r):r,d=new C2(a),v,_;return c.type=="Feature"?v={type:"FeatureCollection",features:[c]}:u.includes(c.type)?v={type:"GeometryCollection",geometries:[c]}:v=c,(v.features||v.geometries||[]).forEach(d.parseObject),_=d.done(),E2(_,c),_}function C2(r){var o=r.id_field||Wt.ID_FIELD,a=new S2(r);this.parseObject=function(u){var c,d;!u||!u.type?c=null:u.type=="Feature"?(c=u.geometry,d=u.properties||{},"id"in u&&(d[o]=u.id)):c=u,c&&c.type=="GeometryCollection"?Wt.importComplexFeature(a,c,d,r):r.single_part&&bX(c)?Wt.importMultiAsSingles(a,c,d,r):Wt.importSimpleFeature(a,c,d,r)},this.done=function(){return a.done()}}Wt.importComplexFeature=function(r,o,a,u){var c=mk(o.geometries||[]);if(c.length===0){r.startShape(a);return}c.forEach(function(d,v){r.startShape(wu(a)),d.forEach(function(_){Wt.importSimpleGeometry(r,_,u)})})};function mk(r,o){return o=o||{},r.forEach(function(a){if(a){var u=Wt.translateGeoJSONType(a.type);u?(u in o||(o[u]=[]),o[u].push(a)):a.type=="GeometryCollection"&&mk(a.geometries||[],o)}}),Object.values(o)}function bX(r){return r&&r.type&&r.type.indexOf("Multi")===0}Wt.importSimpleFeature=function(r,o,a,u){r.startShape(a),Wt.importSimpleGeometry(r,o,u)},Wt.importMultiAsSingles=function(r,o,a,u){o.coordinates.forEach(function(c,d){var v={type:o.type.substr(5),coordinates:c},_=d===0?a:wu(a);Wt.importSimpleFeature(r,v,_,u)})},Wt.importSimpleGeometry=function(r,o,a){var u=o?o.type:null;if(u!==null)if(u in Wt.pathImporters){if(a.geometry_type&&a.geometry_type!=Wt.translateGeoJSONType(u))return;Wt.pathImporters[u](o.coordinates,r)}else oe("Unsupported geometry type:",o.type)},Wt.pathImporters={LineString:function(r,o){o.importLine(r)},MultiLineString:function(r,o){for(var a=0;a<r.length;a++)Wt.pathImporters.LineString(r[a],o)},Polygon:function(r,o){for(var a=0;a<r.length;a++)o.importRing(r[a],a>0)},MultiPolygon:function(r,o){for(var a=0;a<r.length;a++)Wt.pathImporters.Polygon(r[a],o)},Point:function(r,o){o.importPoints([r])},MultiPoint:function(r,o){o.importPoints(r)}};function E2(r,o){"crs"in o&&(r.info.input_geojson_crs=o.crs)}var wX=Object.freeze({__proto__:null,importGeoJSON:co,GeoJSONParser:C2,importCRS:E2});function yk(r,o){var a,u,c;return g.isString(r)&&(r=JSON.parse(r)),r.arcs&&r.arcs.length>0&&(r.transform&&SX(r.arcs,r.transform),o&&o.precision&&CX(r.arcs,o.precision),u=new ki(r.arcs)),c=Object.keys(r.objects).reduce(function(d,v){for(var _=Rn.importObject(r.objects[v],u,o),x,E=0,k=_.length;E<k;E++)x=_[E],x.name=v,d.push(x);return d},[]),c.forEach(function(d){ar(d)&&xp(d.shapes,u,d.geometry_type),d.geometry_type=="point"&&r.transform&&xX(d.shapes,r.transform),d.data&&dh(d.data.getRecords())}),a={layers:c,arcs:u,info:{}},E2(a,r),r.metadata&&xY(a,r.metadata),a}function xX(r,o){Wo(r,function(a){a[0]=a[0]*o.scale[0]+o.translate[0],a[1]=a[1]*o.scale[1]+o.translate[1]})}function SX(r,o){var a=o.scale[0],u=o.scale[1],c=o.translate[0],d=o.translate[1];r.forEach(function(v){for(var _=0,x=0,E,k,F,B=0,V=v.length;B<V;B++)E=v[B],k=E[0]+_,F=E[1]+x,E[0]=k*a+c,E[1]=F*u+d,_=k,x=F})}function CX(r,o){var a=yh(o),u;r.forEach(function(c){for(var d=0,v=c.length;d<v;d++)u=c[d],u[0]=a(u[0]),u[1]=a(u[1])})}Rn.importObject=function(r,o,a){var u=new Rn.GeometryImporter(o,a),c=r.type=="GeometryCollection"?r.geometries:[r];return c.forEach(u.addGeometryObject,u),u.done()},Rn.GeometryImporter=function(r,o){var a=o&&o.id_field||Wt.ID_FIELD,u=[],c=[],d=[],v=0,_=null,x;this.addGeometryObject=function(E){var k=E.properties||null;x=c.length,c[x]=null,"id"in E&&(k=k||{},k[a]=E.id),u[x]=k,k||v++,E.type&&this.addShape(E)},this.addShape=function(E){var k=c[x],F=Wt.translateGeoJSONType(E.type),B;E.type=="GeometryCollection"?E.geometries.forEach(this.addShape,this):F?(this.setGeometryType(F),B=Rn.shapeImporters[E.type](E,r),!B||!B.length||(Array.isArray(B[0])?c[x]=k?k.concat(B):B:ee("Invalid TopoJSON",E.type,"geometry"))):E.type&&ee("Invalid TopoJSON geometry type:",E.type)},this.setGeometryType=function(E){var k=x<d.length?d[x]:null;k?k!=E&&ee("Unable to import mixed-type TopoJSON geometries"):(d[x]=E,this.updateCollectionType(E))},this.updateCollectionType=function(E){_?E&&_!=E&&(_="mixed"):_=E},this.done=function(){var E;return _=="mixed"?E=vy(c,u,d):E=[{geometry_type:_,shapes:_?c:null,data:v<c.length?new An(u):null}],E}},Rn.importPolygonArcs=function(r,o){var a=r[0],u=null,c;if(o||ee("Invalid TopoJSON file: missing arc data."),c=a?dt.getPlanarPathArea(a,o):null,!c)return null;c<0&&Kr(a),u=[a];for(var d=1;d<r.length;d++)a=r[d],c=dt.getPlanarPathArea(a,o),c&&(c>0&&Kr(a),u.push(a));return u},Rn.shapeImporters={Point:function(r){return[r.coordinates]},MultiPoint:function(r){return r.coordinates},LineString:function(r){return[r.arcs]},MultiLineString:function(r){return r.arcs},Polygon:function(r,o){return Rn.importPolygonArcs(r.arcs,o)},MultiPolygon:function(r,o){return r.arcs.reduce(function(a,u){var c=Rn.importPolygonArcs(u,o);return c&&(a=a?a.concat(c):c),a},null)}};var EX=Object.freeze({__proto__:null,importTopoJSON:yk});function _k(r,o){var a=1e3,u=null;return r.length>a&&(r=r.substr(0,a)),r=r.replace(/\s/g,""),o&&o.json_path||/^\[[{\]]/.test(r)?u="json":/"arcs":\[|"objects":\{|"transform":\{/.test(r)?u="topojson":/^\{"/.test(r)&&(u="geojson"),u}function A2(r){var o=null;return r&&(r.type=="Topology"?o="topojson":r.type?o="geojson":g.isArray(r)&&(o="json")),o}function bk(r,o){var a=new C2(o);return UE(r,a.parseObject),a.done()}function AX(r,o){var a=B_(r,1e3),u=_k(a,o),c,d;return u=="geojson"?(c=bk(r,o),d={dataset:c,format:"geojson"}):d={content:r.toString("utf8")},r.close(),d}function wk(r,o){var a=r.content,u=r.filename,c={filename:u},d,v;if(a?(a instanceof ArrayBuffer||a instanceof w||a instanceof Uint8Array)&&((a.byteLength||a.length)<1e7?a=hh(g.createBuffer(a)):(d=new ku(a),a=null)):d=new us(u),d&&(r=AX(d,o),r.dataset?(c.dataset=r.dataset,c.format=r.format):a=r.content),a){if(g.isString(a))try{a=JSON.parse(a)}catch(_){ee("JSON parsing error:",_.message)}o.json_path?(a=kX(a,o.json_path),v=A2(a),v||ee("Unexpected object type at JSON path:",o.json_path)):v=A2(a),v=="topojson"?c.dataset=yk(a,o):v=="geojson"?c.dataset=co(a,o):v=="json"?c.dataset=CA(a):ee("Unknown JSON format"),c.format=v}return c}function kX(r,o){for(var a=/(.*)\[([0-9]+)\]$/,u=o.indexOf("/")>0?"/":".",c=o.split(u),d,v,_;c.length>0;)if(d=c.shift(),_=a.exec(d),_?(v=r[_[1]],r=v&&v[+_[2]]||null):r=r[d],!r)return null;return r}var FX=Object.freeze({__proto__:null,identifyJSONString:_k,identifyJSONObject:A2,importGeoJSONFile:bk,importJSON:wk});function ta(r,o){return Array.from(r.getElementsByTagName(o))}function og(r){return r[0]==="#"?r:`#${r}`}function IX(r,o,a){return Array.from(r.getElementsByTagNameNS(a,o))}function Gi(r){return r?.normalize(),r&&r.textContent||""}function na(r,o,a){const u=r.getElementsByTagName(o),c=u.length?u[0]:null;return c&&a&&a(c),c}function Fo(r,o,a){const u={};if(!r)return u;const c=r.getElementsByTagName(o),d=c.length?c[0]:null;return d&&a?a(d,u):u}function nc(r,o,a){const u=Gi(na(r,o));return u&&a?a(u)||{}:{}}function rc(r,o,a){const u=parseFloat(Gi(na(r,o)));if(!isNaN(u))return a&&a(u),u}function xk(r,o){const a={};for(const u of o)nc(r,u,c=>{a[u]=c});return a}function Sk(r){return r?.nodeType===1}function Ck(r,o){const a={},u=o=="stroke"||o==="fill"?o:o+"-color";return r[0]==="#"&&(r=r.substring(1)),r.length===6||r.length===3?a[u]="#"+r:r.length===8&&(a[o+"-opacity"]=parseInt(r.substring(0,2),16)/255,a[u]="#"+r.substring(6,8)+r.substring(4,6)+r.substring(2,4)),a}function ag(r,o,a){const u={};return rc(r,o,c=>{u[a]=c}),u}function k2(r,o){return Fo(r,"color",a=>Ck(Gi(a),o))}function Ek(r){return Fo(r,"Icon",(o,a)=>(nc(o,"href",u=>{a.icon=u}),a))}function MX(r){return Fo(r,"IconStyle",o=>Object.assign(k2(o,"icon"),ag(o,"scale","icon-scale"),ag(o,"heading","icon-heading"),Fo(o,"hotSpot",a=>{const u=parseFloat(a.getAttribute("x")||""),c=parseFloat(a.getAttribute("y")||""),d=a.getAttribute("xunits")||"",v=a.getAttribute("yunits")||"";return!isNaN(u)&&!isNaN(c)?{"icon-offset":[u,c],"icon-offset-units":[d,v]}:{}}),Ek(o)))}function DX(r){return Fo(r,"LabelStyle",o=>Object.assign(k2(o,"label"),ag(o,"scale","label-scale")))}function TX(r){return Fo(r,"LineStyle",o=>Object.assign(k2(o,"stroke"),ag(o,"width","stroke-width")))}function PX(r){return Fo(r,"PolyStyle",(o,a)=>Object.assign(a,Fo(o,"color",u=>Ck(Gi(u),"fill")),nc(o,"fill",u=>{if(u==="0")return{"fill-opacity":0}}),nc(o,"outline",u=>{if(u==="0")return{"stroke-opacity":0}})))}function F2(r){return Object.assign({},PX(r),TX(r),DX(r),MX(r))}const ic=r=>Number(r),I2={string:r=>r,int:ic,uint:ic,short:ic,ushort:ic,float:ic,double:ic,bool:r=>!!r};function Ak(r,o){return Fo(r,"ExtendedData",(a,u)=>{for(const c of ta(a,"Data"))u[c.getAttribute("name")||""]=Gi(na(c,"value"));for(const c of ta(a,"SimpleData")){const d=c.getAttribute("name")||"",v=o[d]||I2.string;u[d]=v(Gi(c))}return u})}function kk(r){const o=na(r,"description");for(const a of Array.from(o?.childNodes||[]))if(a.nodeType===4)return{description:{"@type":"html",value:Gi(a)}};return{}}function Fk(r){return Fo(r,"TimeSpan",o=>({timespan:{begin:Gi(na(o,"begin")),end:Gi(na(o,"end"))}}))}function Ik(r){return Fo(r,"TimeStamp",o=>({timestamp:Gi(na(o,"when"))}))}function Mk(r,o){return nc(r,"styleUrl",a=>(a=og(a),o[a]?Object.assign({styleUrl:a},o[a]):{styleUrl:a}))}const RX=/\s*/g,BX=/^\s*|\s*$/g,OX=/\s+/;function Dk(r){return r.replace(RX,"").split(",").map(parseFloat).filter(o=>!isNaN(o)).slice(0,3)}function M2(r){return r.replace(BX,"").split(OX).map(Dk).filter(o=>o.length>=2)}function LX(r){let o=ta(r,"coord");o.length===0&&(o=IX(r,"coord","*"));const a=o.map(u=>Gi(u).split(" ").map(parseFloat));return a.length===0?null:{geometry:a.length>2?{type:"LineString",coordinates:a}:{type:"Point",coordinates:a[0]},times:ta(r,"when").map(u=>Gi(u))}}function Tk(r){if(r.length===0)return r;const o=r[0],a=r[r.length-1];let u=!0;for(let c=0;c<Math.max(o.length,a.length);c++)if(o[c]!==a[c]){u=!1;break}return u?r:r.concat([r[0]])}function sg(r){return Gi(na(r,"coordinates"))}function Pk(r){let o=[],a=[];for(let u=0;u<r.childNodes.length;u++){const c=r.childNodes.item(u);if(Sk(c))switch(c.tagName){case"MultiGeometry":case"MultiTrack":case"gx:MultiTrack":{const d=Pk(c);o=o.concat(d.geometries),a=a.concat(d.coordTimes);break}case"Point":{const d=Dk(sg(c));d.length>=2&&o.push({type:"Point",coordinates:d});break}case"LinearRing":case"LineString":{const d=M2(sg(c));d.length>=2&&o.push({type:"LineString",coordinates:d});break}case"Polygon":{const d=[];for(const v of ta(c,"LinearRing")){const _=Tk(M2(sg(v)));_.length>=4&&d.push(_)}d.length&&o.push({type:"Polygon",coordinates:d});break}case"Track":case"gx:Track":{const d=LX(c);if(!d)break;const{times:v,geometry:_}=d;o.push(_),v.length&&a.push(v);break}}}return{geometries:o,coordTimes:a}}function zX(r){return r.length===0?null:r.length===1?r[0]:{type:"GeometryCollection",geometries:r}}function NX(r,o,a,u){const{coordTimes:c,geometries:d}=Pk(r),v=zX(d);if(!v&&u.skipNullGeometry)return null;const _={type:"Feature",geometry:v,properties:Object.assign(xk(r,["name","address","visibility","open","phoneNumber","description"]),kk(r),Mk(r,o),F2(r),Ak(r,a),Fk(r),Ik(r),c.length?{coordinateProperties:{times:c.length===1?c[0]:c}}:{})};_.properties?.visibility!==void 0&&(_.properties.visibility=_.properties.visibility!=="0");const x=r.getAttribute("id");return x!==null&&x!==""&&(_.id=x),_}function jX(r){return na(r,"gx:LatLonQuad")?{geometry:{type:"Polygon",coordinates:[Tk(M2(sg(r)))]}}:UX(r)}const qX=Math.PI/180;function $X(r,o,a){const u=[(r[0]+r[2])/2,(r[1]+r[3])/2];return[o[0].map(c=>{const d=c[1]-u[1],v=c[0]-u[0],_=Math.sqrt(Math.pow(d,2)+Math.pow(v,2)),x=Math.atan2(d,v)+a*qX;return[u[0]+Math.cos(x)*_,u[1]+Math.sin(x)*_]})]}function UX(r){const o=na(r,"LatLonBox");if(o){const a=rc(o,"north"),u=rc(o,"west"),c=rc(o,"east"),d=rc(o,"south"),v=rc(o,"rotation");if(typeof a=="number"&&typeof d=="number"&&typeof u=="number"&&typeof c=="number"){const _=[u,d,c,a];let x=[[[u,a],[c,a],[c,d],[u,d],[u,a]]];return typeof v=="number"&&(x=$X(_,x,v)),{bbox:_,geometry:{type:"Polygon",coordinates:x}}}}return null}function GX(r,o,a,u){const c=jX(r),d=c?.geometry||null;if(!d&&u.skipNullGeometry)return null;const v={type:"Feature",geometry:d,properties:Object.assign({"@geometry-type":"groundoverlay"},xk(r,["name","address","visibility","open","phoneNumber","description"]),kk(r),Mk(r,o),F2(r),Ek(r),Ak(r,a),Fk(r),Ik(r))};c?.bbox&&(v.bbox=c.bbox),v.properties?.visibility!==void 0&&(v.properties.visibility=v.properties.visibility!=="0");const _=r.getAttribute("id");return _!==null&&_!==""&&(v.id=_),v}function HX(r){let o=r.getAttribute("id");const a=r.parentNode;return!o&&Sk(a)&&a.localName==="CascadingStyle"&&(o=a.getAttribute("kml:id")||a.getAttribute("id")),og(o||"")}function VX(r){const o={};for(const a of ta(r,"Style"))o[HX(a)]=F2(a);for(const a of ta(r,"StyleMap")){const u=og(a.getAttribute("id")||"");nc(a,"styleUrl",c=>{c=og(c),o[c]&&(o[u]=o[c])})}return o}function WX(r){const o={};for(const a of ta(r,"SimpleField"))o[a.getAttribute("name")||""]=I2[a.getAttribute("type")||""]||I2.string;return o}function*YX(r,o={skipNullGeometry:!1}){const a=VX(r),u=WX(r);for(const c of ta(r,"Placemark")){const d=NX(c,a,u,o);d&&(yield d)}for(const c of ta(r,"GroundOverlay")){const d=GX(c,a,u,o);d&&(yield d)}}function XX(r,o={skipNullGeometry:!1}){return{type:"FeatureCollection",features:Array.from(YX(r,o))}}function KX(r,o){var a=typeof DOMParser>"u"?gi("@xmldom/xmldom").DOMParser:DOMParser,u=XX(new a().parseFromString(r,"text/xml"));return co(u,o||{})}function D2(r,o){var a,u,c;return o=o||{},r.json?(c=wk(r.json,o),u=c.format,a=c.dataset,ig(a,o)):r.text?(u="dsv",c=r.text,a=J_(c,o)):r.shp?(u="shapefile",c=r.shp,a=JX(r,o),ig(a,o)):r.dbf?(u="dbf",c=r.dbf,a=Rk(r,o)):r.prj?(u="prj",c=r.prj,a={layers:[],info:{prj:c.content}}):r.kml&&(u="kml",c=r.kml,a=KX(c.content,o)),a||ee("Missing an expected input type"),a.arcs&&!o.no_topology&&u!="topojson"&&Xo(a),u!="topojson"&&a.layers.forEach(function(d){d.name||(d.name=QX(c.filename||""))}),c.filename&&(a.info.input_files=[c.filename]),a.info.input_formats=[u],a}function ZX(r,o,a){var u=kA(o,r),c={};return c[u]={filename:o,content:r},D2(c,a)}function JX(r,o){var a=r.shp.content||r.shp.filename,u=r.shx?r.shx.content||r.shx.filename:null,c=vk(a,u,o),d=c.layers[0],v;return r.dbf&&(v=Rk(r,o),g.extend(c.info,v.info),d.data=v.layers[0].data,d.shapes&&d.data.size()!=d.shapes.length&&he("Mismatched .dbf and .shp record count -- possible data loss.")),r.prj&&(c.info.prj=r.prj.content),r.cpg&&(c.info.cpg=r.cpg.content,typeof c.info.cpg!="string"&&te("Invalid encoding argument, expected a string")),c}function Rk(r,o){var a;return o=g.extend({},o),r.cpg&&!o.encoding&&(o.encoding=r.cpg.content),a=iA(r.dbf.content||r.dbf.filename,o),{info:{},layers:[{data:a}]}}function QX(r){var o="layer1",a=Co(r);return a.basename&&a.extension&&(o=a.basename),o}var eK=Object.freeze({__proto__:null,importContent:D2,importFileContent:ZX});b.importFiles=async function(r,o){var a=o.files||[],u;return o.stdin?(u=oc("/dev/stdin",o),r.addDataset(u),u):(a.length>0||ee("Missing input file(s)"),oe("Importing: "+a.join(" ")),o=Object.assign({},o),o.input=Object.assign({},o.input),tK(a,o.input),a=nK(a,o.input),a.length===0&&ee("Missing importable files"),a.length==1?u=oc(a[0],o):u=Lk(a,o),o.merge_files&&a.length>1&&(u.layers=b.mergeLayers(u.layers)),r.addDataset(u),u)};function tK(r,o){var a=r.map(u=>qp(u)?"layer.json":null).filter(Boolean);a.length!==0&&(a.length>1&&(a=g.uniqifyNames(a,w2)),r.forEach((u,c)=>{if(qp(u)){var d=a.shift();o[d]=u,r[c]=d}}))}function nK(r,o){var a=[];return r.forEach(function(u){var c;r2(u)?c=Bk(u,o):i2(u)?c=rK(u,o):c=[u],a=a.concat(c)}),a}function rK(r,o){var a=Bk(r,o),u=ss(Co(r).filename,"kml");return a[0]=="doc.kml"&&(a[0]=u,o[u]=o["doc.kml"]),a}function Bk(r,o){var a;r in o?a=o[r]:(a=r,sn.checkFileExists(r));var u=ak(a);return Object.assign(o,u),iK(u)}function iK(r){return Object.keys(r).filter(function(o){var a=fs(o);return a=="dbf"&&ss(o,"shp")in r?!1:a&&!t2(a)})}function oK(r){Ok=r}function oc(r,o){return Ok(r,o)}var Ok=function(r,o){var a=fs(r),u={},c=o&&o.encoding||null,d=o&&o.input||null,v=d&&r in d,_;if(sn.checkFileExists(r,d),(a=="shp"||a=="json"||a=="text"||a=="dbf")&&!v)_=null;else if(a&&o2(r))_=sn.readFile(r,null,d),g.isString(_)&&ee("Expected binary content, received a string");else if(a)_=sn.readFile(r,c||"utf-8",d);else if(Eo(r)=="gz"){var x=r;r=x.replace(/\.gz$/,""),a=fs(r),a||ee("Unrecognized file type:",r),_=ik(sn.readFile(x,null,d),r)}else _=sn.readFile(r,c||"utf-8",d),a=n2(_),a=="text"&&_.indexOf("")>-1&&(a=null);return a||ee(aK(r)),u[a]={filename:r,content:_},_=null,(a=="shp"||a=="dbf")&&sK(r,u,d),a=="shp"&&!u.dbf&&he(g.format("[%s] .dbf file is missing - shapes imported without attribute data.",r)),D2(u,o)};function Lk(r,o){var a=!1,u=r.map(function(d){var v=g.defaults({no_topology:!0,snap:!1,snap_interval:null,files:[d]},o),_=oc(d,v);return _.arcs&&_.arcs.size()>0&&_.info.input_formats[0]!="topojson"&&(a=!0),_}),c=rs(u);return a&&!o.no_topology&&(ig(c,o),Xo(c)),c}function aK(r){var o=Eo(r),a="Unable to import "+r;return o.toLowerCase()=="zip"?a+=" (ZIP files must be unpacked before running mapshaper)":a+=" (unknown file type)",a}function sK(r,o,a){var u=ss(r,"dbf"),c=ss(r,"shx"),d=ss(r,"cpg"),v=ss(r,"prj");sn.isFile(v,a)&&(o.prj={filename:v,content:sn.readFile(v,"utf-8",a)}),sn.isFile(c,a)&&(o.shx={filename:c,content:sn.readFile(c,null,a)}),!o.dbf&&sn.isFile(u,a)&&(o.dbf={filename:u,content:a&&u in a?sn.readFile(u,null,a):null}),o.dbf&&sn.isFile(d,a)&&(o.cpg={filename:d,content:sn.readFile(d,"utf-8",a).trim()})}var uK=Object.freeze({__proto__:null,replaceImportFile:oK,importFile:oc,importFilesTogether:Lk});b.filterGeom=function(r,o,a){xu(r)||ee("Layer is missing geometry"),a.bbox&&lK(r,o,a),b.filterFeatures(r,o,{remove_empty:!0,verbose:!1})};function lK(r,o,a){var u=zk(a.bbox,r,o);Yo(r.shapes,u)}function zk(r,o,a){var u=new Bt(r),c=o.geometry_type=="point"?cK(u):fK(u,a);return c}function cK(r){return function(o){var a=r.containsPoint(o[0],o[1]);return a?o:null}}function fK(r,o){var a=r.toArray(),u=a[0],c=a[1],d=a[2],v=a[3];return function(_){if(!r.intersects(o.getSimpleShapeBounds(_)))return null;var x=!1,E,k,F,B,V=o.getShapeIter(_);for(V.hasNext()&&(E=V.x,k=V.y);V.hasNext();)if(F=E,B=k,E=V.x,k=V.y,!QE(E,k,F,B,u,c,d,v)){if(eA(E,k,F,B,u,c,d,v)){x=!0;break}if(dt.segmentIntersection(u,v,d,v,E,k,F,B)||dt.segmentIntersection(u,c,d,c,E,k,F,B)||dt.segmentIntersection(u,c,u,v,E,k,F,B)||dt.segmentIntersection(d,c,d,v,E,k,F,B)){x=!0;break}}return!x&&dt.testPointInRing(u,c,_,o)&&(x=!0),x?_:null}}function Nk(r,o,a){var u=zk(r,o,a);return function(c){var d=o.shapes[c];if(!d)return!1;for(var v=0;v<d.length;v++)if(u(d[v]))return!0;return!1}}function hK(r,o,a){for(var u=Nk(r,o,a),c=[],d=0;d<o.shapes.length;d++)u(d)&&c.push(d);return c}var dK=Object.freeze({__proto__:null,getBBoxIntersectionTest:Nk,findShapesIntersectingBBox:hK});function jk(r){vr(r)||te("Expected an unprojected CRS");var o=r.es/(1+Math.sqrt(r.one_es)),a=Tr.internal.GeographicLib;return new a.Geodesic.Geodesic(r.a,o)}function T2(r,o,a,u,c){var d=1-c;return[r*d+a*c,o*d+u*c]}function pK(r){var o=r&&vr(r);if(!o)return T2;var a=jk(r);return function(u,c,d,v,_){var x=a.Inverse(c,u,v,d),E=x.s12*_,k=a.Direct(c,u,x.azi1,E);return[k.lon2,k.lat2]}}function P2(r,o,a,u){var c=a/180*Math.PI,d=Math.sin(c)*u,v=Math.cos(c)*u;return[r+d,o+v]}function gK(r,o,a,u){var c=Math.PI/180,d=Math.cos(o*c),v=2*d*d-1,_=2*d*v-d,x=2*d*_-v,E=2*d*x-_,k=(111.41513*d-.09455*_+12e-5*E)*1e3,F=(111.13209-.56605*v+.0012*x)*1e3,B=a*c,V=o+Math.cos(B)*u/F,G=r+Math.sin(B)*u/k;return[G,V]}function qk(r){if(!vr(r))return P2;var o=jk(r);return function(a,u,c,d){var v=o.Direct(u,a,c,d),_=[v.lon2,v.lat2];return _}}function vK(r){return vr(r)?gK:P2}function $k(r,o,a,u){return dt.bearing(r,o,a,u)*180/Math.PI}function Uk(r,o,a,u){return dt.bearing2D(r,o,a,u)*180/Math.PI}function mK(r){var o=gr(r);return vr(o)?$k:Uk}var yK=Object.freeze({__proto__:null,interpolatePoint2D:T2,getInterpolationFunction:pK,getPlanarSegmentEndpoint:P2,getGeodeticSegmentFunction:qk,getFastGeodeticSegmentFunction:vK,bearingDegrees:$k,bearingDegrees2D:Uk,getBearingFunction:mK}),Gk=50;b.info=function(r,o){var a=kC(r),u=a.map(function(d){return Hk(d.layer,d.dataset)});if(o.save_to){var c=[{filename:o.save_to+(o.save_to.endsWith(".json")?"":".json"),content:JSON.stringify(u,null,2)}];hk(c,o)}if(o.to_layer)return{info:{},layers:[{name:o.name||"info",data:new An(u)}]};he(_K(u))},b.printInfo=b.info;function Hk(r,o){var a=pr(r),u={layer_name:r.name,geometry_type:r.geometry_type,feature_count:a,null_shape_count:0,null_data_count:r.data?CK(r.data.getRecords()):a};return r.shapes&&r.shapes.length>0&&(u.null_shape_count=SK(r.shapes),u.bbox=Ui(r,o.arcs).toArray(),u.proj4=J4(o)),u.source_file=R4(r,o)||null,u.attribute_data=Vk(r),u}function Vk(r,o){if(!r.data||r.data.size()===0||r.data.getFields().length===0)return null;var a=cy(r.data.getFields(),"ascending"),u=o===void 0?"first_value":"value";return a.map(function(c){return{field:c,[u]:r.data.getReadOnlyRecordAt(o||0)[c]}})}function _K(r){var o="";return r.forEach(function(a,u){var c="Layer:    "+(a.layer_name||"[unnamed layer]"),d=Wk(a.attribute_data),v=wK(d),_=Math.min(Math.max(c.length,v),Gk);o+=`
`,o+=g.lpad("",_,"=")+`
`,o+=c+`
`,o+=g.lpad("",_,"-")+`
`,o+=bK(a),o+=d}),o}function bK(r){var o="";return o+="Type:     "+(r.geometry_type||"tabular data")+`
`,o+=g.format(`Records:  %,d
`,r.feature_count),r.null_shape_count>0&&(o+=g.format("Nulls:     %'d",r.null_shape_count)+`
`),r.geometry_type&&r.feature_count>r.null_shape_count&&(o+="Bounds:   "+r.bbox.join(",")+`
`,o+="CRS:      "+r.proj4+`
`),o+="Source:   "+(r.source_file||"n/a")+`
`,o}function Wk(r){if(!r)return`Attribute data: [none]
`;var o=`
Attribute data
`,a="first_value"in r[0]?"first_value":"value",u=[],c=[];r.forEach(function(V){c.push(V.field),u.push(V[a])});var d=u.reduce(function(V,G){return g.isNumber(G)&&(V=Math.max(V,Xk(G))),V},0),v=["Field"].concat(c),_=u.reduce(function(V,G){return V.push(Kk(G,d)),V},[a=="first_value"?"First value":"Value"]),x=Yk(v),E=Yk(_),k=(g.rpad("",x+2,"-")+"+"+g.rpad("",E+2,"-")).substr(0,Gk),F=k+`
`,B="";return v.forEach(function(V,G){var H=R2(V);B+=" "+V+g.rpad("",x-H," ")+" | "+_[G]+`
`,G===0&&(B+=F)}),o+F+B+F}function wK(r){return Math.max.apply(null,r.split(`
`).map(function(o){return R2(o)}))}function R2(r){for(var o=0,a=0,u=r.length;a<u;a++)o+=xK(r.charCodeAt(a));return o}function xK(r){return r>=4352&&(r<=4447||r==9001||r==9002||r>=11904&&r<=42191&&r!=12351||r>=44032&&r<=55203||r>=63744&&r<=64255||r>=65040&&r<=65049||r>=65072&&r<=65135||r>=65280&&r<=65376||r>=65504&&r<=65510||r>=131072&&r<=196605||r>=196608&&r<=262141)?2:1}function SK(r){for(var o=0,a=0;a<r.length;a++)(!r[a]||r[a].length===0)&&o++;return o}function CK(r){for(var o=0,a=0;a<r.length;a++)r[a]||o++;return o}function Yk(r){return r.reduce(function(o,a){var u=R2(a);return u>o?u:o},0)}function EK(r){var o={"\n":"\\n","\r":"\\r","	":"\\t"},a=function(u){return u in o?o[u]:""};return r=r.replace(/[\r\t\n]/g,a),"'"+r+"'"}function Xk(r){return g.isNumber(r)?(g.formatNumber(r)+".").indexOf("."):0}function Kk(r,o){var a;return g.isNumber(r)?a=g.lpad("",o-Xk(r)," ")+g.formatNumber(r):g.isString(r)?a=EK(r):g.isDate(r)?a=g.formatDateISO(r)+" (Date)":g.isObject(r)?a=JSON.stringify(r):a=String(r),typeof a!="string"&&(a="["+typeof r+"]"),a}var AK=Object.freeze({__proto__:null,getLayerInfo:Hk,getAttributeTableInfo:Vk,formatAttributeTableInfo:Wk,formatTableValue:Kk});function Zk(r,o){var a=IK(o,r),u=null;return kK(o)&&(u=FK(o,r)),function(c,d){var v=u?u(c):null,_=[],x,E;for(E=0;E<c.length;E++)x=a(c[E],d,v),Ny(x,'"where" expression must return true or false'),x===!0&&_.push(c[E]);return _}}function kK(r){return g.some(["isMax","isMin","isMode"],function(o){return r.indexOf(o)>-1})}function FK(r,o){var a,u,c,d,v;d={isMax:function(x){x>u&&(u=x)},isMin:function(x){x<c&&(c=x)},isMode:function(x){a||(a=[]),a.push(x)}},v=Jo(r,{data:o},null,{context:d,no_return:!0});function _(){u=-1/0,c=1/0,a=null}return function(x){var E;_();for(var k=0;k<x.length;k++)v(x[k]);return E=a?i_(a):null,{max:u,min:c,modes:E?E.modes:null,margin:E?E.margin:null}}}function IK(r,o){var a,u,c,d={isMax:function(v){return v===u.max},isMin:function(v){return v===u.min},isMode:function(v){return u.modes.indexOf(v)>-1}};return Object.defineProperty(d,"target",{get:function(){return c},enumerable:!0}),a=Jo(r,{data:o},null,{context:d}),function(v,_,x){return u=x,c=_,a(v)}}var MK=Object.freeze({__proto__:null,getJoinFilter:Zk});function DK(r,o,a,u){return Du({data:r},o,a,u)}function Du(r,o,a,u){var c=r.data;o==c&&(o=o.clone());var d=!!u.duplication,v=o.getRecords(),_=c.getRecords(),x=u.prefix||"",E=[],k=n9(c.getFields(),o.getFields(),u),F=u.sum_fields||[],B=g.difference(k,F),V=new Uint32Array(v.length),G=0,H=0,J=[],ue=0,se={},me,N,Z,re,_e,Ie,qe,De,ve,It,kt,ct,Tt;for(d&&(u.calc&&ee("duplication and calc options cannot be used together"),ct=c.clone().getRecords(),Tt=r.shapes||[]),u.where&&(Ie=Zk(o,u.where)),u.calc&&(qe=a_(o,u.calc)),It=_.length,De=0;De<It;De++){for(Z=_[De],re=a(De),re&&Ie&&(ue+=re.length,re=Ie(re,Z),ue-=re.length),ve=0,_e=0,kt=re?re.length:0;ve<kt;ve++)N=re[ve],me=v[N],_e>0&&d&&(Z=wu(ct[De]),_.push(Z),Tt.push(Xm(Tt[De]))),_e===0||d?B.length>0&&Qk(Z,me,B,x):_e==1&&(B.length>0&&!x&&t9(Z,me,B,J),H++),F.length>0&&e9(Z,me,F,x),V[N]++,_e++;qe&&qe(re,Z),_e>0?G++:Z&&(u.unmatched&&E.push(g.extend({},Z)),Jk(Z,B,F,x))}return PK(G,It,TK(V),v.length,ue,H,J),u.unjoined&&(se.unjoined={name:"unjoined",data:new An(v.filter(function($t,Vt){return V[Vt]===0}))}),u.unmatched&&(se.unmatched={name:"unmatched",data:new An(E)}),se}function B2(r){r.forEach(function(o){/:(str|num)/.test(o)&&ee("Unsupported use of type hints. Use string-fields= or field-types= options instead")})}function TK(r){for(var o=0,a=0,u=r.length;a<u;a++)r[a]>0&&o++;return o}function Jk(r,o,a,u){Qk(r,{},o,u),e9(r,{},a,u)}function Qk(r,o,a,u){var c,d;u=u||"";for(var v=0,_=a.length;v<_;v++)c=a[v],d=u+c,Object.prototype.hasOwnProperty.call(o,c)?r[d]=o[c]:Object.prototype.hasOwnProperty.call(r,d)||(r[d]=null)}function e9(r,o,a,u){var c,d;u=u||"";for(var v=0;v<a.length;v++)c=a[v],d=u+c,r[d]=(r[d]||0)+(o[c]||0)}function t9(r,o,a,u){for(var c,d=0,v=a.length;d<v;d++)c=a[d],r[c]!==o[c]&&u.indexOf(c)===-1&&u.push(c)}function PK(r,o,a,u,c,d,v){var _=o-r;if(!(r>0)){he("No records could be joined");return}he(g.format("Joined data from %'d source record%s to %'d target record%s",a,g.pluralSuffix(a),r,g.pluralSuffix(r))),_>0&&he(g.format("%d target record%s received no data",_,g.pluralSuffix(_))),a<u&&he(g.format("%d/%d source records could not be joined",u-a,u)),c>0&&he(g.format("%d/%d source records were skipped",c,u)),d>0&&(he(g.format("%d/%d target records were matched by multiple source records (many-to-one relationship)",d,o)),v.length>0&&he(g.format("Inconsistent values were found in field%s [%s] during many-to-one join. Values in the first joining record were used.",g.pluralSuffix(v.length),v.join(","))))}function n9(r,o,a){var u;if(a.fields?a.fields.indexOf("*")>-1?u=o:(u=a.fields,B2(u)):a.calc?u=[]:(u=o,a.keys&&(u=g.difference(u,[a.keys[1]]))),!a.force&&!a.prefix){var c=g.intersection(u,r);c.length>0&&(he('Same-named fields not joined without the "force" flag:',c),u=g.difference(u,c))}return u}var RK=Object.freeze({__proto__:null,joinTables:DK,joinTableToLayer:Du,validateFieldNames:B2,updateUnmatchedRecord:Jk,findCollisionFields:t9,getFieldsToJoin:n9});function ug(r,o,a,u){var c=r9(r,o,a,u);return Th(r,a),Du(r,a.data,c,u)}function lg(r,o,a,u){var c=i9(r,o,a);return Th(r,o),Du(r,o.data,c,u)}function Th(r,o){r.data||(r.data=new An(r.shapes.length)),o.data||ee("Can't join a layer that is missing attribute data")}function r9(r,o,a,u){var c=i9(a,r,o),d=[],v=!!u.first_match;return a.shapes.forEach(function(_,x){for(var E=c(x),k=E?E.length:0,F,B=0;B<k&&(F=E[B],F in d?d[F].push(x):d[F]=[x],!v);B++);}),function(_){return d[_]||null}}function i9(r,o,a,u){var c=new as(o.shapes,a),d=r.shapes;return function(v){var _=d[v],x=_?c.findEnclosingShapes(_[0]):[];return x.length>0?x:null}}var BK=Object.freeze({__proto__:null,joinPointsToPolygons:ug,joinPolygonsToPoints:lg,prepJoinLayers:Th,getPolygonToPointsFunction:r9});function OK(r,o,a,u){var c=H_([r],o,a,u),d=Au(c,u),v=c.layers.pop();o.arcs=c.arcs,Th(r,v);var _={geometry_type:"polygon",shapes:r.shapes.concat(v.shapes)},x=new p_(_,d,{flat:!1}),E=g.extend({},u),k=$K(r,v,x,u),F=Du(r,v.data,k,E);return u.interpolate&&(u.duplication&&ee("duplication and interpolate options cannot be used together"),LK(r,v,x,u)),F}function LK(r,o,a,u){var c=zK(r,o,a,u),d=u.interpolate,v=o.data.getRecords();r.data.getRecords().forEach(function(_,x){var E=a.getTileIdsByShapeId(x),k=[],F,B;for(F=0;F<E.length;F++)k.push(c[E[F]]);for(F=0;F<d.length;F++)B=d[F],_[B]=NK(B,k,v)})}function zK(r,o,a,u){var c=u.planar?dt.getPlanarShapeArea:dt.getShapeArea,d=r.shapes.length,v=a.mosaic,_=a.nodes.arcs,x=v.map(function(E,k){var F={area:c(E,_),weights:null,sourceIds:null};return F});return o.shapes.forEach(function(E,k){for(var F=a.getTileIdsByShapeId(k+d),B=c(E,_),V,G,H=0;H<F.length;H++)V=x[F[H]],G=V.area/B,V.weights||(V.weights=[],V.sourceIds=[]),V.weights.push(G),V.sourceIds.push(k)}),x}function NK(r,o,a){for(var u=0,c,d,v,_=0;_<o.length;_++)if(c=o[_],!!c.sourceIds)for(var x=0;x<c.sourceIds.length;x++)v=c.sourceIds[x],d=a[v],u+=c.weights[x]*d[r];return u}function jK(r,o){return function(a){for(var u=[],c,d=0;d<a.length;d++)c=a[d]-r,c>=0&&c<o&&u.push(c);return u}}function qK(r,o,a){var u=a.nodes.arcs,c=r.shapes.length;function d(v){for(var _=0,x=0;x<v.length;x++)_+=dt.getShapeArea(a.mosaic[v[x]],u);return _}return function(v,_){var x=a.getTileIdsByShapeId(v),E=0,k=-1;return _.forEach(function(F,B){var V=a.getTileIdsByShapeId(F+c),G=g.intersection(x,V),H=d(G);H>=E&&(k=F,E=H)}),k==-1&&te("Geometry error"),[k]}}function $K(r,o,a,u){var c=jK(r.shapes.length,o.shapes.length),d;return u.largest_overlap&&(d=qK(r,o,a)),function(v){for(var _=a.getTileIdsByShapeId(v),x=[],E,k=0;k<_.length;k++)E=a.getSourceIdsByTileId(_[k]),E=c(E),x=x.length>0?x.concat(E):E;return x=g.uniq(x),x.length>1&&u.largest_overlap&&(x=d(v,x)),x}}function o9(r,o,a){if(!r)return null;var u=r.map(function(c){return UK(c,o)});return u}function UK(r,o,a){var u=sh(r,o,!1)/2,c=0,d;return vu(r,o,function(v,_,x,E){var k=x[v],F=E[v],B=x[_],V=E[_];if(!d){if(!(u>0))return[k,F];var G=Qa(k,F,B,V),H;c+G>=u&&(H=(u-c)/G,d=[(1-H)*k+H*B,(1-H)*F+H*V]),c+=G}}),d||te("Geometry error"),d}function GK(r,o,a){var u=!o.isPlanar(),c=r?r.length==1?r[0]:HK(r,o,u):null;if(!c)return null;var d=o.getSimpleShapeBounds(c),v=Oy(d.centerX(),d.centerY(),[c],o,u);return v}function HK(r,o,a){var u=0,c=null;return r.forEach(function(d){var v=dt.calcPathLen(d,o,a);v>u&&(u=v,c=d)}),c}b.createPointLayer=function(r,o,a){var u=B4(r,a),c=o.arcs;a.intersections?(VK(c),u=r):a.interpolated?u.shapes=YK(r,o,a):a.vertices?u.shapes=XK(r,c):a.vertices2?u.shapes=KK(r,c):a.endpoints?u.shapes=ZK(r,c):a.x||a.y?u.shapes=u9(r.data,a):r.geometry_type=="polygon"?u.shapes=O2(r,c,a):a.midpoints?(P4(r),u.shapes=JK(r,c)):r.geometry_type=="polyline"?u.shapes=QK(r,c):r.geometry_type?ee("Expected a polygon or polyline layer"):u.shapes=eZ(r.data),u.geometry_type="point";var d=u.shapes.reduce(function(v,_){return _||v++,v},0);return d>0&&he(g.format("%,d of %,d points are null",d,u.shapes.length)),r.data&&(u.data=a.no_replace?r.data.clone():r.data),u};function VK(r){var o=r.getFilteredPointCount(),a=r.size(),u=o-a,c=fC(r),d=Math.ceil(c/10),v=c*10,_=My(r);[d,c,v,_].forEach(function(x){is(r,{stripes:x})})}function WK(r,o,a){var u=o.getShapeIter(r),c=o.isPlanar()?dt.distance2D:dt.greatCircleDistance,d=[],v=0,_,x,E,k,F;for(u.hasNext()&&(d.push([u.x,u.y]),_=u.x,x=u.y);u.hasNext();){for(E=c(_,x,u.x,u.y);v+E>=a;)k=(a-v)/E,F=T2(_,x,u.x,u.y,k),v=0,d.push(F),_=F[0],x=F[1],E=c(_,x,u.x,u.y);v+=E,_=u.x,x=u.y}return v>0&&d.push([_,x]),d}function YK(r,o,a){var u=os(a.interval,gr(o)),c;return u>0||ee("Invalid interpolation interval:",a.interval),r.geometry_type!="polyline"&&ee("Expected a polyline layer"),r.shapes.map(function(v,_){return c=[],v&&v.forEach(d),c.length>0?c:null});function d(v){var _=WK(v,o.arcs,u);c=c.concat(_)}}function XK(r,o,a){var u,c;return r.geometry_type!="polygon"&&r.geometry_type!="polyline"&&ee("Expected a polygon or polyline layer"),r.shapes.map(function(_,x){return u=[],c={},(_||[]).forEach(v),u.length>0?u:null});function d(_){var x=_.x+"~"+_.y;x in c||(c[x]=!0,u.push([_.x,_.y]))}function v(_){for(var x=o.getShapeIter(_);x.hasNext();)d(x)}}function KK(r,o,a){var u;return r.geometry_type!="polygon"&&r.geometry_type!="polyline"&&ee("Expected a polygon or polyline layer"),r.shapes.map(function(d,v){return u=[],(d||[]).forEach(c),u.length>0?u:null});function c(d){for(var v=o.getShapeIter(d);v.hasNext();)u.push([v.x,v.y])}}function ZK(r,o){var a,u;return r.geometry_type!="polygon"&&r.geometry_type!="polyline"&&ee("Expected a polygon or polyline layer"),r.shapes.map(function(v,_){return a=[],u={},(v||[]).forEach(d),a.length>0?a:null});function c(v){var _=v.x+"~"+v.y;_ in u||(u[_]=!0,a.push([v.x,v.y]))}function d(v){for(var _=0;_<v.length;_++)c(o.getVertex(v[_],0)),c(o.getVertex(v[_],-1))}}function JK(r,o,a){return r.shapes.map(function(u){return o9(u,o)})}function QK(r,o,a){return r.shapes.map(function(u){var c=GK(u,o);return c?[[c.x,c.y]]:null})}function O2(r,o,a){var u=a.inner?CC:dt.getShapeCentroid;return r.shapes.map(function(c){var d=u(c,o);return d?[[d.x,d.y]]:null})}function L2(r){var o;return g.isFiniteNumber(r)?r:g.isString(r)&&r!==""&&(o=+r,g.isFiniteNumber(o)||(o=zy(r),g.isFiniteNumber(o)))?o:NaN}function a9(r){var o=/^(lng|long?|longitude|x)$/i;return g.find(r,function(a){return o.test(a)})}function s9(r){var o=/^(lat|latitude|y)$/i;return g.find(r,function(a){return o.test(a)})}function eZ(r){var o=r?r.getFields():[],a={x:a9(o),y:s9(o)};return u9(r,a)}function u9(r,o){return r||ee("Layer is missing a data table"),(!o.x||!o.y||!r.fieldExists(o.x)||!r.fieldExists(o.y))&&ee("Missing x,y data fields"),r.getRecords().map(function(a){var u=L2(a[o.x]),c=L2(a[o.y]);return isNaN(u)||isNaN(c)?null:[[u,c]]})}var tZ=Object.freeze({__proto__:null,pointsFromPolygons:O2,coordinateFromValue:L2,findXField:a9,findYField:s9});function nZ(r,o,a,u){var c=a.layer,d=a.dataset,v,_;return r.shapes.length>c.shapes.length?(v=l9(r,o),_=lg(v,c,d.arcs,u),r.data=v.data):(v=l9(c,d),_=ug(r,o.arcs,v,u)),_}function l9(r,o){return{geometry_type:"point",shapes:O2(r,o.arcs,{inner:!0}),data:r.data}}function rZ(r,o,a,u){return u.point_method?nZ(r,o,a,u):OK(r,o,a,u)}function c9(r,o){var a=r.shapes.map(function(u){return o9(u,o.arcs)});return{geometry_type:"point",shapes:a,data:r.data}}function f9(r){r.point_method||ee('The "point-method" flag is required for polyline-polygon joins')}function iZ(r,o,a,u){f9(u);var c=c9(a.layer,a.dataset),d=ug(r,o.arcs,c,u);return d}function oZ(r,o,a,u){f9(u);var c=c9(r,o),d=lg(c,a.layer,a.dataset.arcs,u);return r.data=c.data,d}class aZ{constructor(o=[],a=sZ){if(this.data=o,this.length=this.data.length,this.compare=a,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(o){this.data.push(o),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const o=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),o}peek(){return this.data[0]}_up(o){const{data:a,compare:u}=this,c=a[o];for(;o>0;){const d=o-1>>1,v=a[d];if(u(c,v)>=0)break;a[o]=v,o=d}a[o]=c}_down(o){const{data:a,compare:u}=this,c=this.length>>1,d=a[o];for(;o<c;){let v=(o<<1)+1,_=a[v];const x=v+1;if(x<this.length&&u(a[x],_)<0&&(v=x,_=a[x]),u(_,d)>=0)break;a[o]=_,o=v}a[o]=d}}function sZ(r,o){return r<o?-1:r>o?1:0}var uZ=6371,ra=Math.PI/180;function lZ(r,o,a,u,c,d){var v=1,_=[];u===void 0&&(u=1/0),c!==void 0&&(v=Tu(c/uZ));for(var x=new aZ([],cZ),E={left:0,right:r.ids.length-1,axis:0,dist:0,minLng:-180,minLat:-90,maxLng:180,maxLat:90},k=Math.cos(a*ra),F,B,V;E;){if(F=E.right,B=E.left,F-B<=r.nodeSize)for(var G=B;G<=F;G++)V=r.points[r.ids[G]],x.push({i:r.ids[G],item:V,dist:d9(o,a,r.coords[2*G],r.coords[2*G+1],k)});else{var H=B+F>>1,J=r.coords[2*H],ue=r.coords[2*H+1];V=r.points[r.ids[H]],x.push({i:r.ids[H],item:V,dist:d9(o,a,J,ue,k)});var se=(E.axis+1)%2,me={left:B,right:H-1,axis:se,minLng:E.minLng,minLat:E.minLat,maxLng:E.axis===0?J:E.maxLng,maxLat:E.axis===1?ue:E.maxLat,dist:0},N={left:H+1,right:F,axis:se,minLng:E.axis===0?J:E.minLng,minLat:E.axis===1?ue:E.minLat,maxLng:E.maxLng,maxLat:E.maxLat,dist:0};me.dist=h9(o,a,k,me),N.dist=h9(o,a,k,N),x.push(me),x.push(N)}for(;x.length&&x.peek().item;){var Z=x.pop();if(Z.dist>v||(_.push(Z.i),_.length===u))return _}E=x.pop()}return _}function h9(r,o,a,u){var c=u.minLng,d=u.maxLng,v=u.minLat,_=u.maxLat;if(r>=c&&r<=d)return o<v?Tu((o-v)*ra):o>_?Tu((o-_)*ra):0;var x=Math.min(Tu((r-c)*ra),Tu((r-d)*ra)),E=fZ(o,x);return E>v&&E<_?cg(x,a,o,E):Math.min(cg(x,a,o,v),cg(x,a,o,_))}function cZ(r,o){return r.dist-o.dist}function Tu(r){var o=Math.sin(r/2);return o*o}function cg(r,o,a,u){return o*Math.cos(u*ra)*r+Tu((a-u)*ra)}function d9(r,o,a,u,c){var d=Tu((r-a)*ra);return cg(d,c,o,u)}function fZ(r,o){var a=1-2*o;return a<=0?r>0?90:-90:Math.atan(Math.tan(r*ra)/a)/ra}function hZ(r,o,a){T4(r);var u=r4(r),c=a.max_distance?Gy(a.max_distance,o):.001,d=gi("kdbush"),v=new d(u),_=dZ(v,o,c),x=new Gl(u.length);this.lookupByMultiPoint=function(E){var k=[],F,B,V,G;for(B=0,G=E?E.length:0;B<G;B++)for(F=E[B],k=_(F),V=0;V<k.length;V++)x.setId(k[V]);return k=x.getIds(),x.clear(),k}}function dZ(r,o,a){var u=o?vr(o):!1,c=o&&o.to_meter||1;return u?function(d){return lZ(r,d[0],d[1],1/0,a/1e3)}:function(d){return r.within(d[0],d[1],a/c)}}function pZ(r,o,a,u){var c=gZ(r,o,a,u);return Th(r,o),Du(r,o.data,c,u)}function gZ(r,o,a,u){var c=r.shapes,d=new hZ(o,a,u);return function(v){var _=d.lookupByMultiPoint(c[v]);return _.length>0?_:null}}b.join=function(r,o,a,u){var c,d,v;(!a||!a.dataset)&&ee("Missing a joinable data source"),u.keys?(u.keys.length!=2&&ee("Expected two key fields: a target field and a source field"),a.layer.data||ee("Source layer is missing attribute data"),v=p9(r,a.layer.data,u)):(a.layer.data||ip(a.layer),Ay([o,a.dataset]),c=a.layer.geometry_type,d=r.geometry_type,c=="point"&&d=="polygon"?v=ug(r,o.arcs,a.layer,u):c=="polygon"&&d=="point"?v=lg(r,a.layer,a.dataset.arcs,u):c=="point"&&d=="point"?v=pZ(r,a.layer,gr(o),u):c=="polygon"&&d=="polygon"?v=rZ(r,o,a,u):c=="polyline"&&d=="polygon"?v=iZ(r,o,a,u):c=="polygon"&&d=="polyline"?v=oZ(r,o,a,u):ee(g.format("Unable to join %s geometry to %s geometry",c||"null",d||"null"))),v.unmatched&&o.layers.push(v.unmatched),v.unjoined&&o.layers.push(v.unjoined)};function p9(r,o,a){var u=a.keys,c=u[0],d=u[1],v=r.data,_=vZ(v,c,o,d);return B2(u),Du(r,o,_,a)}function vZ(r,o,a,u){r||ee("Target layer is missing an attribute table"),a||ee("Source layer is missing an attribute table");var c=r.getRecords(),d=a.getRecords(),v=mZ(d,u),_,x;return d.length==0?function(E){return[]}:(gh(a,u,"External table is missing a field named:"),gh(r,o,"Target layer is missing key field:"),_=ph(u,a.getRecords()),x=ph(o,c),g9(u,_),g9(o,x),_!=x&&ee("Join keys have mismatched data types:",x,"and",_),function(E){var k=c[E],F=k?k[o]:null,B=null;return k&&F in v&&(B=v[F],Array.isArray(B)||(B=[B])),B})}function g9(r,o){(!o||o=="object")&&ee("["+r+"] field has an unsupported data type. Expected string or number.")}function mZ(r,o){for(var a={},u,c,d=0,v=r.length;d<v;d++)u=r[d],c=u[o],c in a?Array.isArray(a[c])?a[c].push(d):a[c]=[a[c],d]:a[c]=d;return a}var yZ=Object.freeze({__proto__:null,joinAttributesToFeatures:p9});function v9(r,o){o.forEach(function(a){a.geometry_type=="polygon"&&_Z(r,a.shapes)})}function _Z(r,o){o.forEach(function(a){m9(r,a)})}function m9(r,o){for(var a=0,u=o?o.length:0,c,d,v=0;v<u;v++)d=r.getSimpleShapeBounds(o[v]).area(),d>a&&(c=o[v],a=d);!c||c.length===0?oe("[protectShape()] Invalid shape:",o):bZ(r,c)}function bZ(r,o){var a=r.getRetainedInterval(),u=1e-10,c,d;for(r.setRetainedInterval(1/0),c=dt.getPlanarPathArea(o,r);c<=u;){if(d=wZ(r,o),d===0){oe("[protectMultiRing()] Failed on ring:",o);break}c=dt.getPlanarPathArea(o,r)}r.setRetainedInterval(a)}function wZ(r,o){for(var a=0,u,c=r.getVertexData(),d,v,_,x,E,k=0;k<o.length;k++)d=o[k],d<0&&(d=~d),x=c.ii[d],E=x+c.nn[d]-1,v=j0(c.zz,1/0,x,E),v!=-1&&(_=c.zz[v],_>a&&(a=_,u=d));return a>0?(x=c.ii[u],E=x+c.nn[u]-1,y9(c.zz,a,1/0,x,E)):0}function y9(r,o,a,u,c){for(var d=0,v=u;v<=c;v++)r[v]===o&&(r[v]=a,d++);return d}var xZ=Object.freeze({__proto__:null,keepEveryPolygon:v9,protectShape:m9,replaceInArray:y9});function fg(r,o,a){var u=a||{},c=!u.reusable,d=o.size(),v=new Int32Array(d),_=new Int32Array(d),x;u.where&&(x=RC(u.where,r,o)),g.initializeArray(v,-1),g.initializeArray(_,-1),mu(r.shapes,function(k){var F=wn(k.arcId),B=k.shapeId,V=v[F];V==-1?v[F]=B:B<V?(_[F]=V,v[F]=B):_[F]=B});function E(k,F){var B=wn(k),V=v[B],G=_[B],H;return V==-1||(H=F(V,G),H===null||H===!1)||(c&&(v[B]=-1,_[B]=-1),x&&!x(V,G))?null:H}return function(k){return function(F){return E(F,k)}}}b.lines=function(r,o,a){if(a=a||{},a.callouts)return gy(r),AZ(r,o,a);if(r.geometry_type=="point")return EZ(r,o,a);if(a.segments)return[CZ(r,o)];if(a.arcs)return[SZ(r,o)];if(r.geometry_type=="polygon")return b9(r,o.arcs,a);tp(r,"Command requires a polygon or point layer")};function SZ(r,o){for(var a=o.arcs,u=uh(r.shapes,a),c=[],d=[],v=0,_=a.size();v<_;v++)u(v)&&(c.push({arcid:v}),d.push([[v]]));return{geometry_type:"polyline",data:new An(c),shapes:d}}function CZ(r,o){for(var a=o.arcs,u={type:"FeatureCollection",features:[]},c=uh(r.shapes,a),d,v=0,_=a.size();v<_;v++)d=v,c(d)&&a.forEachArcSegment(d,x);function x(k,F,B,V){var G=B[k],H=V[k],J=B[F],ue=V[F];u.features.push({type:"Feature",properties:{arc:d,i1:k,i2:F,x1:G,y1:H,x2:J,y2:ue},geometry:{type:"LineString",coordinates:[[G,H],[J,ue]]}})}var E=rs([o,co(u,{})]);return o.arcs=E.arcs,E.layers.pop()}function EZ(r,o,a){var u=a.groupby?kZ(r,a.groupby,a):_9(r.shapes),c=co(u),d=Ul(o,[c]);return jl(d[0],r,null,a),d}function AZ(r,o,a){var u=r.data?r.data.getRecords():null,c=Ui(r).width()/50,d=function(E){return[E,[E[0]+c,E[1]]]},v={type:"FeatureCollection",features:r.shapes.map(function(E,k){return{type:"Feature",properties:u?u[k]:null,geometry:{type:"MultiLineString",coordinates:E.map(d)}}})},_=co(v),x=Ul(o,[_]);return jl(x[0],r.name,null,a),x}function kZ(r,o,a){var u=[],c=wp([o],r.data),d=g.defaults({fields:[o]},a),v=s_(r.data.getRecords(),c,d),_;return r.shapes.forEach(function(x,E){var k=c(E);k in u||(u[k]=[]),u[k].push(x)}),_=u.map(function(x,E){return{type:"Feature",properties:v[E],geometry:x.length>1?_9(x):null}}),{type:"FeatureCollection",features:_}}function _9(r){var o=[];return Wo(r,function(a){o.push(a.concat())}),{type:"LineString",coordinates:o}}function b9(r,o,a){a=a||{};var u=a.each?FZ(a.each,r,o):null,c=fg(r,o,{where:a.where}),d=g.isArray(a.fields)?a.fields:[],v=0,_=[],x=[],E;return d.length>0&&!r.data&&ee("Missing a data table"),k(IZ(r.shapes,c),"outer"),d.forEach(function(F){var B=r.data.getRecords(),V=function(G,H){var J=B[G],ue=B[H];return!J||!ue||J[F]===ue[F]?null:G+"-"+H};gh(r,F),k(z2(r.shapes,c(V)),F)}),k(x9(r.shapes,c),"inner"),E=w9(_,x),jl(E,r,null,a),E;function k(F,B){var V=F.map(function(G,H){var J={RANK:v,TYPE:B};return u&&u(J,G),J});_=g.merge(F,_),x=g.merge(V,x),v++}}function FZ(r,o,a){var u=fg(o,a)(v),c=Uy(r,o,a),d;function v(_,x){c(_,x,d)}return function(_,x){return d=_,u(x[0][0]),_}}function w9(r,o){return{geometry_type:"polyline",shapes:r,data:o?new An(o):null}}function IZ(r,o){var a=function(u,c){return c==-1?String(u):null};return z2(r,o(a))}function x9(r,o){var a=function(u,c){return c>-1?u+"-"+c:null};return z2(r,o(a))}function z2(r,o){var a=[],u={},c=null,d=null,v;mu(r,_,x);function _(E){var k=E.arcId,F=o(k),B,V;F&&(V=F in u?u[F]:null,B=F==d&&E.shapeId==c.shapeId&&E.partId==c.partId,V?B?V[V.length-1].push(k):V.push([k]):(V=[[k]],u[F]=V,a.push(V)),E.i==v.arcs.length-1&&V.length>1&&V[0][0]==v.arcs[0]&&(V[0]=V.pop().concat(V[0]))),c=E,d=F}function x(E){v=E}return a}var MZ=Object.freeze({__proto__:null,polygonsToLines:b9,createLineLayer:w9,extractInnerLines:x9});function DZ(r,o,a,u){var c=TZ(r,o,a,u),d=u.geometry_type,v=u.output_geometry=="polyline"?"polyline":"polygon";function _(x,E){var k=c(x,E),F;return d=="polyline"&&(F=Kr(x.concat()),k=k.concat(c(F,E))),k.push(k[0]),v=="polyline"?k:[k]}return function(x,E){for(var k={type:v=="polyline"?"MultiLineString":"MultiPolygon",coordinates:[]},F=0;F<x.length;F++)k.coordinates.push(_(x[F],E));return k.coordinates.length==0?null:k}}function TZ(r,o,a,u){var c=u.backtrack>=0?u.backtrack:50,d=new Su(r),v=u.cap_style||"round";function _(H,J,ue,se,me,N){for(var Z=10,re=se+me,_e=se+Z;_e<re;)G(H,o(J,ue,_e,N),c),_e+=Z}function x(H,J,ue,se,me){var N=dt.distance2D(H,J,ue,se);return N<me}function E(H,J,ue){var se=H[H.length-1];return x(se[0],se[1],J,ue,1e-6)}function k(H,J){var ue=H[H.length-1];x(ue[0],ue[1],J[0],J[1],1e-10)||H.push(J)}function F(H,J,ue,se){return v=="flat"?[[H,J]]:B(H,J,ue,se)}function B(H,J,ue,se){for(var me=[],N=10,Z=ue-90,re=N;re<180;)me.push(o(H,J,Z+re,se)),re+=N;return me}function V(H,J){var ue=J-H;return ue>180&&(ue-=360),ue<-180&&(ue+=360),ue}function G(H,J,ue){for(var se,me,N,Z,re=0,_e=H.length-3;re<ue&&_e>=0;re++,_e--)if(N=H[H.length-1],se=H[_e],me=H[_e+1],Z=N2(se[0],se[1],me[0],me[1],N[0],N[1],J[0],J[1]),Z){for(;H.length>_e+1;)H.pop();k(H,Z)}k(H,J)}return function(H,J){var ue=[],se,me,N,Z,re,_e,Ie,qe,De,ve,It,kt,ct=0;for(d.init(H);d.hasNext();)d.x===re&&d.y===_e||(N=re,Z=_e,re=d.x,_e=d.y,ct>=1&&(ve=De,De=a(N,Z,re,_e),Ie=o(N,Z,De-90,J),qe=o(re,_e,De-90,J)),ct==1&&(It=De,se=N,me=Z,ue.push(Ie,qe)),ct>1&&(kt=V(ve,De),E(ue,Ie[0],Ie[1])?G(ue,qe,c):kt>0?(_(ue,N,Z,ve-90,kt,J),G(ue,Ie,c),G(ue,qe,c)):(G(ue,Ie,c),G(ue,qe,c))),ct++);return re==se&&_e==me?(kt=V(De,It),kt>0&&_(ue,re,_e,De-90,kt,J)):ue.push.apply(ue,F(re,_e,De,J)),ue}}function PZ(r,o,a){for(var u,c,d,v,_=0,x=r.length-3;_<a&&x>=0;_++,x--)if(d=r[r.length-1],u=r[x],c=r[x+1],v=N2(u[0],u[1],c[0],c[1],d[0],d[1],o[0],o[1]),v){for(v.length!=2;r.length>x+1;)r.pop();r.push(v)}r.push(o)}function N2(r,o,a,u,c,d,v,_){return r<c&&r<v&&a<c&&a<v||r>c&&r>v&&a>c&&a>v||o<d&&o<_&&u<d&&u<_||o>d&&o>_&&u>d&&u>_?null:dt.segmentIntersection(r,o,a,u,c,d,v,_)}var RZ=Object.freeze({__proto__:null,getPolylineBufferMaker:DZ,addBufferVertex:PZ,bufferIntersection:N2});function BZ(r,o){var a=fg(r,o,{reusable:!0}),u=a(_),c,d,v;function _(E,k){return k==-1?-1:E==c?k:E}function x(E){var k=u(E);k!=-1&&(v?v(k,E):d.indexOf(k)==-1&&d.push(k))}return function(E,k){if(c=E,k)v=k,vi(r.shapes[E],x),v=null;else return d=[],vi(r.shapes[E],x),d}}function OZ(r,o){var a=function(_,x){return x>-1&&_>-1?[_,x]:null},u=fg(r,o)(a),c=[],d={},v=function(_){var x=u(_),E;x&&(E=x.join("~"),E in d||(c.push(x),d[E]=!0))};return vi(r.shapes,v),c}var LZ=Object.freeze({__proto__:null,getNeighborLookupFunction:BZ,findPairsOfNeighbors:OZ});function zZ(r,o,a){var u=Au(o);return r.forEach(function(c){S9(c,u)}),r}function S9(r,o){var a=l_(o);r.shapes=r.shapes.map(function(c,d){return u(c)});function u(c){var d=[];return es(c,function(v){var _=a(v);if(_.length===0)te("[cleanPolygon()] Defective path:",v);else if(_.length==1)d.push(_[0]);else{var x=dt.getPlanarPathArea(v,o.arcs),E=x>0?1:-1,k;_.reduce(function(F,B,V){var G=dt.getPlanarPathArea(B,o.arcs)*E;return G>F&&(k=B,F=G),F},0),k&&d.push(k)}}),d.length>0?d:null}}var NZ=Object.freeze({__proto__:null,repairPolygonGeometry:zZ,repairSelfIntersections:S9});function C9(r){var o=is(r),a=E9(r,o),u=o.length,c=a.length,d=u>c?u-c:0,v;u>0&&(v=g.format("Repaired %'i intersection%s",d,g.pluralSuffix(d)),c>0&&(v+=g.format("; %'i intersection%s could not be repaired",c,g.pluralSuffix(c))),he(v))}function E9(r,o){for(;jZ(r,o)>0;)o=is(r);return o}function jZ(r,o){var a=r.getVertexData(),u=r.getRetainedInterval(),c=0,d=0,v,_,x,E;for(_=A9(o,u,a.zz),g.sortOn(_,"z",!0);_.length>0;)for(x=_.pop(),v=GZ(x,u,a.xx,a.yy,a.zz),v.length==1&&(v=UZ(v[0],u,a.zz),c++),E=0;E<v.length;E++)$Z(_,v[E]);return++d>5e5?(oe("Caught an infinite loop at intersection:",x),0):c}function A9(r,o,a){return r.reduce(function(u,c){var d=qZ(c,o,a);return d!==null&&u.push(d),u},[])}function qZ(r,o,a){var u=j0(a,o,r.a[0],r.a[1]),c=j0(a,o,r.b[0],r.b[1]),d;return u==-1&&c==-1?d=null:c==-1||u!=-1&&a[u]>a[c]?d={a:r.a,b:r.b,z:a[u]}:d={a:r.b,b:r.a,z:a[c]},d}function $Z(r,o){for(var a=r.length;a>0&&!(r[a-1].z<=o.z);)r[a]=r[a-1],a--;r[a]=o}function UZ(r,o,a){for(var u=[],c=r.a[0],d=r.a[1],v=r.z,_=c+1;_<=d;_++)(a[_]==v||_==d)&&(u.push({a:[c,_],b:r.b,z:v}),_!=d&&(a[_]=o),c=_);return u.length<2&&te("Error in unwindIntersection()"),u}function GZ(r,o,a,u,c){var d=HZ(r,o,a,u,c),v=Dy(d,a,u);return A9(v,o,c)}function HZ(r,o,a,u,c){var d=k9(r.a,o,a,u,c);return d=d.concat(k9(r.b,o,a,u,c)),d}function k9(r,o,a,u,c){var d,v,_,x=[];r[0]<=r[1]?(d=r[0],v=r[1]):(d=r[1],v=r[0]),_=d;for(var E=d+1;E<=v;E++)c[E]>=o&&(a[_]<a[E]?x.push(_,E):x.push(E,_),_=E);return x}var VZ=Object.freeze({__proto__:null,postSimplifyRepair:C9,repairIntersections:E9});function WZ(r){var o=[],a=[];this.done=function(){r.layers=o,a.length&&(r.arcs=new ki(a),Xo(r))},this.editLayer=function(d,v){var _=d.geometry_type;if(r.layers.indexOf(d)!=o.length&&te("Layer was edited out-of-order"),!_){o.push(d);return}var x=d.shapes.map(function(E,k){for(var F=[],B,V,G=0,H=E?E.length:0;G<H;G++)V=_=="point"?E[G]:c(E[G]),B=v(V,G,E),Array.isArray(B)&&(_=="point"?F.push(B):(_=="polygon"||_=="polyline")&&u(F,B||[]));return F.length>0?F:null});o.push(Object.assign(d,{shapes:x}))};function u(d,v){for(var _=0;_<v.length;_++)d.push([a.length]),a.push(v[_])}function c(d){for(var v=[],_=r.arcs.getShapeIter(d);_.hasNext();)v.push([_.x,_.y]);return v}}function hg(r,o,a){if(KZ(r)<o)return r;a||(a=F9(o));for(var u=[r[0]],c,d,v=1,_=r.length;v<_;v++)c=r[v-1],d=r[v],dt.distance2D(c[0],c[1],d[0],d[1])>o+1e-4&&XZ(u,a(c,d)),u.push(d);return u}function F9(r){return function(o,a){for(var u=[],c=dt.distance2D(o[0],o[1],a[0],a[1]),d=Math.round(c/r)-1,v=(a[0]-o[0])/(d+1),_=(a[1]-o[1])/(d+1),x=1;x<=d;x++)u.push([o[0]+v*x,o[1]+_*x]);return u}}function YZ(r,o,a){var u,c,d=[],v=r[1]<o[1];r[0]!=o[0]&&te("Expected an edge segment"),v?(u=r[1],c=o[1]):(u=o[1],c=r[1]);for(var _=Math.floor(u/a)*a+a;_<c;)d.push([r[0],_]),_+=a;return v||d.reverse(),d}function XZ(r,o){for(var a=0;a<o.length;a++)r.push(o[a])}function KZ(r){for(var o=0,a,u,c,d=1,v=r.length;d<v;d++)u=r[d-1],c=r[d],a=dt.distanceSq(u[0],u[1],c[0],c[1]),a>o&&(o=a);return Math.sqrt(o)}function ZZ(r,o){var a=eJ(r,o),u=a*a*25,c;return L_(r,d);function d(v,_,x,E,k,F){var B=c;if(c=o(_,x),!c)return!1;F>0&&dt.distanceSq(c[0],c[1],B[0],B[1])>u&&j2(E,k,B[0],B[1],_,x,c[0],c[1],o,a).forEach(v),v(c)}}function JZ(r,o,a){for(var u=[.1,.2,.3,.4,.5,.6,.7,.8,.9],c=[],d=0;d<u.length;d++)for(var v=0;v<u.length;v++)c.push([u[d],u[v]]);var _=c.map(function(x){var E=r.xmin+r.width()*x[0],k=r.ymin+r.height()*x[1],F=a(E,k),B=a(E+o[0],k+o[1]);return F&&B?dt.distance2D(F[0],F[1],B[0],B[1]):1/0}).filter(function(x){return x<1/0});return _.length>0?g.findMedian(_):1/0}function QZ(r,o){var a=o(r.centerX(),r.centerY()),u=o(r.centerX(),r.ymin),c=o(r.xmax,r.centerY()),d=a&&u&&c?(dt.distance2D(a[0],a[1],u[0],u[1])+dt.distance2D(a[0],a[1],c[0],c[1]))/5e3:1/0;return d}function eJ(r,o){var a=zm(r),u=r.getBounds(),c=JZ(u,a,o),d=QZ(u,o),v=Math.min(c,d);return v==1/0&&te("Densification error"),v}function j2(r,o,a,u,c,d,v,_,x,E,k){var F=(r+c)/2,B=(o+d)/2,V=x(F,B),G;if(V)return G=dt.pointSegDistSq2(V[0],V[1],a,u,v,_),k=k||[],G>E*E*.25&&dt.distance2D(r,o,c,d)>.01&&(j2(r,o,a,u,F,B,V[0],V[1],x,E,k),k.push(V),j2(F,B,V[0],V[1],c,d,v,_,x,E,k)),k}b.rectangles=function(r,o,a){var u=ns(o),c=r.data?r.data.getRecords():null,d;a.bbox?d=nJ(a.bbox,r,o):(xu(r)||ee("Layer is missing geometric shapes"),d=tJ(r,o,a));var v={type:"FeatureCollection",features:d.map(function(E,k){var F=c&&c[k]||null;return F&&a.no_replace&&(F=g.extend({},F)),{type:"Feature",properties:F,geometry:E}})},_=co(v,{});Eu(_,u);var x=Ul(o,[_]);return jl(x[0],r,null,a),x};function tJ(r,o,a){var u=ns(o);return r.shapes.map(function(c){var d=r.geometry_type=="point"?Ym(c):o.arcs.getMultiShapeBounds(c);return d=M9(d,u.crs,a),d?ac(d.toArray(),a):null})}function nJ(r,o,a,u){for(var c=Jo(r,o,a.arcs,{}),d=pr(o),v,_=[],x=0;x<d;x++)v=c(x),rJ(v)||ee("Invalid bbox value (expected a GeoJSON-type bbox):",v),_.push(ac(v));return _}function rJ(r){return!(!r||r.length!=4||r.some(isNaN)||!(r[0]<=r[2])||!(r[1]<=r[3]))}b.rectangle2=function(r,o){if(r.layers.length==1&&o.width&&ep(r.layers[0],r.dataset.arcs)){I9(r.layers[0],o);return}var a=r.layers.map(function(u){var c=b.rectangle({layer:u,dataset:r.dataset},o);return jl(c.layers[0],u,null,o),o.no_replace||(c.layers[0].name=u.name||c.layers[0].name),c});return Ul(r.dataset,a)},b.rectangle=function(r,o){var a,u;o.bbox?(a=new Bt(o.bbox),u=r&&ns(r.dataset)||zl(a)&&mh("wgs84")||{}):r&&(a=Ui(r.layer,r.dataset.arcs),u=ns(r.dataset)),a=a&&M9(a,u.crs,o),(!a||!a.hasBounds())&&ee("Missing rectangle extent");var c={type:"Feature",properties:{},geometry:ac(a.toArray(),o)},d=co(c,{});return I9(d.layers[0],o),d.layers[0].name=o.name||"rectangle",Eu(d,u),d};function I9(r,o){if(o.width){r.data||ip(r);var a=r.data.getRecords()[0]||{};a.width=OC(o.width),a.type="frame"}}function M9(r,o,a){var u=zl(r);return a.offset&&(r=iJ(a.offset,r,o)),r.area()>0?(a.aspect_ratio&&(r=D9(a.aspect_ratio,r)),u&&(r=e4(r)),r):null}function D9(r,o){var a=String(r).split(",").map(parseFloat),u=o.width()/o.height(),c,d;return a.length==1?a.push(a[0]):a[0]>a[1]&&a.reverse(),c=a[0],d=a[1],!c&&!d||(c||(c=-1/0),d||(d=1/0),u<c?o.fillOut(c):u>d&&o.fillOut(d)),o}function iJ(r,o,a){var u=jC(r,a,o);return o.padBounds(u[0],u[1],u[2],u[3]),o}function ac(r,o){var a=o||{},u=F4(r);return a.interval>0&&(u=hg(u,a.interval)),{type:"Polygon",coordinates:[u]}}var oJ=Object.freeze({__proto__:null,applyAspectRatio:D9,bboxToPolygon:ac});function aJ(r){return r.a*Math.sqrt(1-(r.es||0))}function sJ(r,o){return o*Math.PI/180*aJ(r)}function dg(r){return r.params.proj.param}function uJ(r){return lJ(r)&&r.lam0!==0}function lJ(r){return!(Ph(r,"cassini,gnom,bertin1953,chamb,ob_tran,tpeqd,healpix,rhealpix,ocea,omerc,tmerc,etmerc,nicol")||cJ(r))}function cJ(r){return Ph(r,"aeqd,gnom,laea,mil_os,lee_os,gs48,alsk,gs50,nsper,tpers,ortho,qsc,stere,ups,sterea")}function Ph(r,o){return o.split(",").includes(dg(r))}var pg=1e-10,q2=90-pg,gg=-180+pg,$2=-90+pg,vg=180-pg;function Rh(r){return r[r.length-1]}function Bh(r,o){return r&&o&&r[0]===o[0]&&r[1]===o[1]}function T9(r){return Bh(r[0],Rh(r))}function fJ(r){r[0]<=gg&&(r[0]=-180),r[0]>=vg&&(r[0]=180),r[1]<=$2&&(r[1]=-90),r[1]>=q2&&(r[1]=90)}function mg(r){return r[1]>=q2||r[1]<=$2}function hJ(r){for(var o=0,a=r.length;o<a;o++)if(!P9(r[o]))return!1;return!0}function dJ(r){for(var o=0,a=r.length;o<a;o++)if(P9(r[o]))return!0;return!1}function U2(r,o){return mg(r)||mg(o)||r[0]<=gg&&o[0]<=gg||r[0]>=vg&&o[0]>=vg}function P9(r){return r[1]<=$2||r[1]>=q2||r[0]<=gg||r[0]>=vg}function pJ(r){if(!dJ(r))return r;var o=[],a,u,c,d=!1;r.pop(),a=r[r.length-1],u=r[0];for(var v=1,_=r.length;v<=_;v++)c=v==_?o[0]:r[v],c&&((d||U2(a,u))&&U2(u,c)?d=!0:(d===!0&&(d=!1),o.push(u),a=u),u=c);return o.length>0&&o.push(o[0].concat()),o}function R9(r){return N9(r)}function B9(r){return r[0]==-180||r[0]==180}function O9(r){for(var o=[],a=[],u,c=0;c<r.length;c++)u=r[c],T9(u)||te("Received an open path"),z9(u)===0?o.push(u):a=a.concat(N9(u));return a.length>0&&(o=o.concat(gJ(a))),o}function gJ(r){var o=_J(r),a=[],u=[];return r.forEach(function(d,v){if(!u[v]){vJ(d)||te("Geometry error");var _=c(d,[]);_&&(T9(_)||te("Generated an open ring"),a.push(_))}}),a;function c(d,v){var _=Rh(d),x=r.indexOf(d);if(u[x])return Se(),null;u[x]=!0,v=v.concat(d);var E=mJ(r,_,o);if(!E)return null;if(_[0]!=E[0]){var k=_[0]==180?-90:90;v.push([_[0],k],[0,k],[E[0],k])}var F=yJ(r,E);return F?Bh(v[0],F[0])?(v.push(v[0]),v):c(F,v):null}}function L9(r,o){o.length>1&&r.push(o)}function vJ(r){var o=Rh(r)[0],a=r[0][0];return(o==180||o==-180)&&(a==180||a==-180)}function mJ(r,o,a){var u=o[0],c=o[1],d=a.indexOf(c),v=u==-180?180:-180,_=u==180,x=_?d-1:d+1,E;return u!=180&&u!=-180||d==-1?(Se(),null):(x<0||x>=a.length?E=[v,c]:E=[u,a[x]],E)}function yJ(r,o){for(var a=0;a<r.length;a++)if(Bh(r[a][0],o))return r[a];return null}function z9(r){for(var o=0,a,u,c=0,d=r.length;c<d;c++)u=r[c],c>0&&Math.abs(a[0]-u[0])>180&&o++,a=u;return o}function N9(r){for(var o=[],a=[],u=r[0],c=Rh(r),d=Bh(u,c),v,_,x,E=0,k=r.length;E<k;E++)v=r[E],E>0&&j9(_,v)&&(x=bJ(_,v),q9(a,_,x),L9(o,a),a=[],q9(a,v,x)),a.push(v),_=v;return L9(o,a),d&&o.length>1&&!B9(u)&&(a=o.pop(),a.pop(),o[0]=a.concat(o[0])),o}function j9(r,o){return Math.abs(r[0]-o[0])>180}function _J(r){var o=r.map(function(a){return a[0][1]});return g.genericSort(o,!0)}function q9(r,o,a){var u=o[0]<0?-180:180;B9(o)||r.push([u,a])}function bJ(r,o){var a=o[0]-r[0],u,c;return a>0?(u=r[0]+180,c=180-o[0]):(u=180-r[0],c=o[0]+180),u===0?r[1]:c===0?o[1]:(c*r[1]+u*o[1])/(u+c)}function wJ(r){var o=new q4(r);return Gm(o)}function xJ(r,o,a,u){var c=360,d=qk(Zo("wgs84"));return u.inset&&(o-=u.inset),u.geometry_type=="polyline"?CJ([r],o,c,d):SJ([r],o,c,d)}function SJ(r,o,a,u,c){var d=[],v,_;if(!r||!r.length)return null;for(var x=0;x<r.length;x++)if(v=$9(r[x],o,a,u),z9(v)>0)for(_=O9([v]);_.length>0;)d.push([_.pop()]);else wJ(v)<0?d.push([[[180,90],[180,-90],[0,-90],[-180,-90],[-180,90],[0,90],[180,90]],v]):d.push([v]);return{type:"MultiPolygon",coordinates:d}}function CJ(r,o,a,u){var c=[],d;if(!r||!r.length)return null;for(var v=0;v<r.length;v++)for(d=$9(r[v],o,a,u),d=R9(d);d.length>0;)c.push(d.pop());return c.length==1?{type:"LineString",coordinates:c[0]}:{type:"MultiLineString",coordinates:c}}function $9(r,o,a,u){for(var c=[],d=360/a,v,_=0;_<a;_++)v=(_+.5)*d%360,c.push(u(r[0],r[1],v,o));return c.push(c[0].concat()),c}function EJ(r,o){var a=(r[0]||0)*xo,u=(r[1]||0)*xo,c=(r[2]||0)*xo;return function(d){d[0]*=xo,d[1]*=xo;var v=o?kJ:AJ;return v(d,a,u,c),d[0]*=Dm,d[1]*=Dm,d}}function AJ(r,o,a,u){return o!=0&&U9(r,o),(a!==0||u!==0)&&G9(r,a,u,!1),r}function kJ(r,o,a,u){return(a!==0||u!==0)&&G9(r,a,u,!0),o!=0&&U9(r,-o),r}function U9(r,o){var a=r[0]+o;a>Math.PI?a-=2*Math.PI:a<-Math.PI&&(a+=2*Math.PI),r[0]=a}function G9(r,o,a,u){var c=Math.cos(o),d=Math.sin(o),v=Math.cos(a),_=Math.sin(a),x=Math.cos(r[1]),E=Math.cos(r[0])*x,k=Math.sin(r[0])*x,F=Math.sin(r[1]),B;u?(B=F*v-k*_,r[0]=Math.atan2(k*v+F*_,E*c+B*d),r[1]=Math.asin(B*c-E*d)):(B=F*c+E*d,r[0]=Math.atan2(k*v-B*_,E*c-F*d),r[1]=Math.asin(B*v+k*_))}b.rotate=H9;function H9(r,o){vr(gr(r))||ee("Command requires a lat-long dataset."),(!Array.isArray(o.rotation)||!o.rotation.length)&&ee("Invalid rotation parameter");var a=EJ(o.rotation,o.invert),u=new WZ(r);r.arcs&&r.arcs.flatten(),r.layers.forEach(function(c){var d=c.geometry_type;u.editLayer(c,FJ(d,a,o))}),u.done(),o.debug||(Xo(r),V2(r))}function FJ(r,o,a){var u;return r=="point"?function(c){return c.forEach(o),c}:r=="polyline"?function(c){return c=hg(c,.5),c.forEach(o),R9(c)}:r=="polygon"?function(c,d,v){if(hJ(c)?c=hg(c,.5):(c.forEach(fJ),c=pJ(c),c=hg(c,.5,IJ(.5)),c.forEach(o)),d===0&&(u=[]),c.length<4){Se();return}if(Bh(c[0],Rh(c))||te("Open polygon ring"),u.push(c),d==v.length-1)return a.debug?u:O9(u)}:null}function IJ(r){var o=F9(r);return function(a,u){var c;return mg(a)||mg(u)?c=[]:U2(a,u)?c=YZ(a,u,r):j9(a,u)?c=[]:c=o(a,u),c}}function MJ(r,o,a){return DJ(r,o,a)}function DJ(r,o,a){var u;return OJ(o)||a.clip_angle||o.clip_angle?u=PJ(r,o,a):(RJ(o)||a.clip_bbox)&&(u=TJ(o,a)),u||null}function TJ(r,o){var a=o.clip_bbox||V9(r),u=NJ(r);a||te("Missing expected clip bbox."),o=Object.assign({interval:.5},o);var c=co(ac(a,o));return u&&H9(c,{rotation:u,invert:!0}),c}function PJ(r,o,a){var u=a.clip_angle||o.clip_angle||zJ(o);if(!u)return null;oe(`Using clip angle of ${+u.toFixed(2)} degrees`);var c=qJ(r,u),d=jJ(o);o.clip_angle=u;var v=xJ(d,c,null,a);return co(v)}function RJ(r){return Ph(r,"merc,bertin1953")}function V9(r){var o=.001,a=dg(r),u=[-179,-90,179,90],c={tmerc:u,utm:u,etmerc:u,merc:[-180,-89,180,89],lcc:[-180,-89,180,89],bertin1953:[-180+o,-90+o,180-o,90-o]}[a];return c}function BJ(r){var o;return Ph(r,"merc,lcc")&&(o=V9(r)),o}function OJ(r){return Ph(r,"stere,sterea,ups,ortho,gnom,laea,nsper,tpers,geos,nicol")}function LJ(r){var o=parseFloat(r.params.h.param);if(!o||o<0)return 0;var a=Math.acos(r.a/(r.a+o))*180/Math.PI;return a*=.995,a}function zJ(r){var o=dg(r);return o=="nsper"||o=="geos"?LJ(r):o=="tpers"?(he("Automatic clipping is not supported for the Tilted Perspective projection"),0):{gnom:60,laea:179,ortho:89.85,nicol:89.85,stere:142,sterea:142,ups:10.5}[o]||0}function NJ(r){var o=dg(r);return o=="bertin1953"?[-16.5,-42]:(o=="tmerc"||o=="utm"||o=="etmerc")&&r.lam0!==0?[r.lam0*180/Math.PI]:null}function jJ(r){var o=180/Math.PI;return[r.lam0*o,r.phi0*o]}function qJ(r,o){return sJ(r,o)}function $J(r,o,a,u){if(!vr(o)||u.no_clip)return!1;var c=HJ(r,o,a),d=!1,v,_=BJ(a);return _?VJ(r,_):v=MJ(o,a,u),v&&(d=UJ(r,v)),c||d}function UJ(r,o){var a=r.layers.filter(function(u){return xu(u)&&!GJ(u,r,o)});return a.length>0?(V_(a,o,r,"clip"),!0):!1}function GJ(r,o,a){var u=Ui(r,o.arcs),c=!1;return a.layers[0].shapes.forEach(function(d,v){c=c||j8(u,d,a.arcs)}),c}function HJ(r,o,a){var u=t4(a.lam0*180/Math.PI);return r.arcs&&uJ(a)&&WJ(r,u)?(YJ(r,u),Ko(r),!0):!1}function VJ(r,o){ap(r,function(a,u){return[g.clamp(a,o[0],o[2]),g.clamp(u,o[1],o[3])]})}function WJ(r,o){var a=0;return r.arcs.forEachSegment(function(u,c,d,v){var _=d[u],x=d[c];(_<=o&&x>=o||_>=o&&x<=o)&&a++}),a>0}function YJ(r,o){var a=r.layers.filter(ar);if(a.length!==0){var u=1e-8,c=[o-u,-91,o+u,91],d=ac(c,{interval:.5}),v=co(d);V_(a,v,r,"erase")}}function W9(r,o){var a,u,c,d,v,_;return r in Tr.internal.pj_list?(d=["lcc","aea"].includes(r),v=["tmerc","etmerc"].includes(r),a="+proj="+r,(d||v)&&(c=XJ(o),_=yC(c),u=v?X9(c,_):Y9(c,_),a+=" "+u,he(`Converted "${r}" to "${a}"`)),a):r}function XJ(r){return vr(gr(r))||ee("Expected unprojected data"),$l(r).toArray()}function Y9(r,o){var a=(r[0]+r[2])/2,u=r[3]-r[1],c=r[1]+1/6*u,d=r[1]+5/6*u;return`+lon_0=${a.toFixed(o)} +lat_1=${c.toFixed(o)} +lat_2=${d.toFixed(o)}`}function X9(r,o){var a=(r[0]+r[2])/2,u=(r[1]+r[3])/2;return`+lon_0=${a.toFixed(o)} +lat_0=${u.toFixed(o)}`}var KJ=Object.freeze({__proto__:null,expandProjDefn:W9,getConicParams:Y9,getCenterParams:X9});b.proj=function(r,o,a){var u,c,d;a.init&&(u=G2(a.init,o),u.crs||ee("Unknown projection source:",a.init),Eu(r,u)),a.match?c=G2(a.match,o):a.crs&&(d=W9(a.crs,r),c=mh(d)),c&&ZJ(r,c,a)};function ZJ(r,o,a){var u=ao(),c=[],d={info:r.info||{}};if(o.crs||ee("Missing projection data"),!_y(r)){Eu(r,o);return}var v=ns(r);if(v.crs||ee("Unable to project -- source coordinate system is unknown"),Ey(v.crs,o.crs)){he("Source and destination CRS are the same");return}r.arcs&&(r.arcs.flatten(),d.arcs=u?r.arcs.getCopy():r.arcs),d.layers=r.layers.map(function(_){return u&&(c.push(_),_=ql(_)),_}),H2(d,v.crs,o.crs,a||{}),Eu(d,o),r.arcs=d.arcs,c.forEach(function(_,x){g.extend(_,d.layers[x])})}function G2(r,o){var a,u,c={};return/\.prj$/i.test(r)?(a=oc(r,{}),a&&(c.prj=a.info.prj,c.crs=iC(c.prj)),c):o&&(u=o.findSingleLayer(r))?(a=u.dataset,ns(a)):mh(r)}function H2(r,o,a,u){var c=Cy(o,a),d=0,v=0,_=$J(r,o,a,u);r.layers.forEach(function(x){Ia(x)&&(v+=K9(x,c))}),r.arcs&&(u.densify?d=ZZ(r.arcs,c):d=Z9(r.arcs,c)),_&&V2(r),d>0&&!u.quiet&&he(`Removed ${d} ${d==1?"path":"paths"} containing unprojectable vertices.`),v>0&&!u.quiet&&he(`Removed ${v} unprojectable ${v==1?"point":"points"}.`),r.info.crs=a}function V2(r){var o=r.layers.filter(u=>u.geometry_type=="polygon"),a={allow_overlaps:!0,rebuild_topology:!0,no_arc_dissolve:!0,quiet:!0,verbose:!1};v_(o,r,a),Ko(r)}function K9(r,o){var a=0;return Yo(r.shapes,function(u){var c=o(u[0],u[1]);return c||a++,c}),a}function JJ(r,o){for(var a=r.getVertexData(),u=a.xx,c=a.yy,d=a.zz,v=r.getRetainedInterval(),_,x=0,E=u.length;x<E;x++)_=o(u[x],c[x]),_||te("Unprojectable point:",u[x],c[x]),u[x]=_[0],c[x]=_[1];r.updateVertexData(a.nn,u,c,d),r.setRetainedInterval(v)}function Z9(r,o){return L_(r,a);function a(u,c,d,v,_,x){var E=o(c,d);if(E)u(E);else return!1}}var QJ=Object.freeze({__proto__:null,fetchCrsInfo:G2,projectDataset:H2,cleanProjectedPathLayers:V2,projectPointLayer:K9,projectArcs:JJ,projectArcs2:Z9});function eQ(r,o){var a=o?H:dt.pointSegDistSq,u=o?dt.signedAngleSph:dt.signedAngle,c=0,d=0,v=0,_=0,x=0,E=-1,k=-1,F=[],B=[],V=r.getVertexData().zz,G;r.forEachSegment(function(J,ue,se,me){var N,Z,re,_e,Ie,qe,De,ve,It;if(N=se[J],Z=me[J],re=se[ue],_e=me[ue],J==k&&(ve=u(se[E],me[E],N,Z,re,_e),ve>Math.PI&&(ve=2*Math.PI-ve),isNaN(ve)||B.push(ve*180/Math.PI)),E=J,k=ue,V[J]<1/0&&d++,De=ue-J-1,!(De<1))if(c+=De,N==re&&Z==_e)v++;else{for(Ie=0;++J<ue;)It=a(se[J],me[J],N,Z,re,_e),Ie=Math.max(Ie,It);qe=Math.sqrt(Ie),x+=qe,F.push(qe),_=Math.max(_,qe)}});function H(J,ue,se,me,N,Z){var re=[],_e=[],Ie=[];return dt.convLngLatToSph([J,se,N],[ue,me,Z],re,_e,Ie),dt.pointSegDistSq3D(re[0],_e[0],Ie[0],re[1],_e[1],Ie[1],re[2],_e[2],Ie[2])}return G={angleMean:0,displacementMean:0,displacementMax:_,collapsedRings:v,removed:c,retained:d,uniqueCount:tQ(r),removableCount:c+d},B.length>0&&(G.angleMean=g.sum(B)/B.length,G.angleQuartiles=[g.findValueByPct(B,.75),g.findValueByPct(B,.5),g.findValueByPct(B,.25)]),F.length>0&&(G.displacementMean=x/F.length,G.displacementQuartiles=[g.findValueByPct(F,.75),g.findValueByPct(F,.5),g.findValueByPct(F,.25)]),G}function tQ(r){var o=r.size()*2,a=new So(r).size();return r.getPointCount()-o+a}function nQ(r){return{dp:"Ramer-Douglas-Peucker",visvalingam:"Visvalingam",weighted_visvalingam:"Weighted Visvalingam"}[r]||"Unknown"}function rQ(r,o){var a=W2(o),u=nQ(a),c=Oh(r,o),d=eQ(r,c),v=(d.removed+d.collapsedRings)/d.uniqueCount||0,_=d.removed/d.removableCount||0,x=d.angleQuartiles,E=d.displacementQuartiles,k=["Simplification statistics"];k.push(g.format("Method: %s (%s) %s",u,c?"spherical":"planar",a=="weighted_visvalingam"?"(weighting="+Bn.getWeightCoefficient(o)+")":"")),k.push(g.format("Removed vertices: %,d",d.removed+d.collapsedRings)),k.push(g.format("   %.1f% of %,d unique coordinate locations",v*100,d.uniqueCount)),k.push(g.format("   %.1f% of %,d filterable coordinate locations",_*100,d.removableCount)),k.push(g.format("Simplification threshold: %.4f %s",r.getRetainedInterval(),c?"meters":"")),k.push(g.format("Collapsed rings: %,d",d.collapsedRings)),k.push("Displacement statistics"),k.push(g.format("   Mean displacement: %.4f",d.displacementMean)),k.push(g.format("   Max displacement: %.4f",d.displacementMax)),E&&k.push(g.format("   Quartiles: %.2f, %.2f, %.2f",E[0],E[1],E[2])),k.push("Vertex angle statistics"),k.push(g.format("   Mean angle: %.2f degrees",d.angleMean)),x&&k.push(g.format("   Quartiles: %.2f, %.2f, %.2f",x[0],x[1],x[2])),he(k.join(`
   `))}b.simplify=function(r,o){var a=r.arcs;if(!(!a||a.size()===0)){if(o=Q9(r,o),eF(a,o),o.percentage||o.percentage===0)a.setRetainedPct(g.parsePercent(o.percentage));else if(o.interval||o.interval===0)a.setRetainedInterval(oF(o.interval,r,o));else if(o.resolution)a.setRetainedInterval(aF(o.resolution,a,o));else{if(o.presimplify)return;ee("Missing a simplification amount")}J9(r,o)}};function J9(r,o){var a=r.arcs;o.keep_shapes&&v9(a,r.layers),!o.no_repair&&a.getRetainedInterval()>0&&C9(a),o.stats&&rQ(a,o),r.info=g.defaults({simplify:o},r.info)}function Q9(r,o){return o=o||{},g.defaults({method:W2(o),spherical:Oh(r.arcs,o)},o)}function Oh(r,o){return!o.planar&&!r.isPlanar()}function eF(r,o){var a=aQ(o);r.setThresholds(new Float64Array(r.getPointCount())),o.spherical?(oQ(r,a),nF(r)):iQ(r,a),o.lock_box&&sQ(r)}function iQ(r,o){r.forEach3(function(a,u,c,d){o(c,a,u)})}function oQ(r,o){var a=g.expandoBuffer(Float64Array),u=g.expandoBuffer(Float64Array),c=g.expandoBuffer(Float64Array);r.forEach3(function(d,v,_,x){var E=d.length,k=a(E),F=u(E),B=c(E);dt.convLngLatToSph(d,v,k,F,B),o(_,k,F,B)})}function W2(r){var o=r.method;return(!o||o=="weighted"||o=="visvalingam"&&r.weighting)&&(o="weighted_visvalingam"),o}function aQ(r){var o;return r.method=="dp"?o=Fu.calcArcData:r.method=="visvalingam"?o=Bn.getEffectiveAreaSimplifier(r.spherical):r.method=="weighted_visvalingam"?o=Bn.getWeightedSimplifier(r,r.spherical):ee("Unsupported simplify method:",r.method),o}function sQ(r){var o=1e-14,a=r.getBounds();a.padBounds(-o,-o,-o,-o),tF(r,a.toArray(),!0)}function tF(r,o,a){var u=r.getBounds().toArray();dt.containsBounds(o,u)!==!0&&r.forEach3(function(c,d,v){for(var _=a?1/0:0,x,E,k=0,F=v.length;k<F;k++)x=c[k],E=d[k],(x>=o[2]||x<=o[0]||E<=o[1]||E>=o[3])&&(_===0&&(_=uQ(v)),v[k]!==1/0&&(v[k]=_))})}function nF(r){tF(r,V0(1e-12),!1)}function uQ(r){for(var o,a=0,u=0,c=r.length;u<c;u++)o=r[u],o>a&&o<1/0&&(a=o);return a}function rF(r){var o,a,u;return g.isNumber(r)?(a=r,u=r):g.isString(r)&&(o=r.split(/[x ,]/),a=Number(o[0])||0,u=o.length==2?Number(o[1])||0:a),a>=0&&u>=0&&a+u>0||ee("Invalid simplify resolution:",r),[a,u]}function Y2(r,o,a,u){var c=r!==0&&a/u>r/o||o===0;return c?a/r:u/o}function iF(r,o,a){var u=dt.degreesToMeters(a.width())*Math.cos(a.centerY()*dt.D2R),c=dt.degreesToMeters(a.height());return Y2(r,o,u,c)}function oF(r,o,a){var u=gr(o),c;return Oh(o.arcs,a)?c=Gy(r,u):c=os(r,u),c}function aF(r,o,a){var u=rF(r),c=o.getBounds(),d;return Oh(o,a)?d=iF(u[0],u[1],c):d=Y2(u[0],u[1],c.width(),c.height()),d*=.5,d}var lQ=Object.freeze({__proto__:null,finalizeSimplification:J9,getStandardSimplifyOpts:Q9,useSphericalSimplify:Oh,simplifyPaths:eF,getSimplifyMethod:W2,protectWorldEdges:nF,parseSimplifyResolution:rF,calcPlanarInterval:Y2,calcSphericalInterval:iF,convertSimplifyInterval:oF,convertSimplifyResolution:aF});function cQ(r,o){return fQ(r)?((o.length>1||o[0].layers.length!=1)&&ee("Interpolated names are not compatible with multiple targets."),sF(r,o[0].layers[0])):r}function sF(r,o){var a={target:o.name||""},u="with($$ctx) { return `"+r+"`; }",c;try{c=new Function("$$ctx",u),r=c(a)}catch{ee("Unable to interpolate ["+r+"]")}return r}function fQ(r){return/[$][{]/.test(r)}function hQ(r,o,a){var u=o.findSingleLayer(r),c;return u||(c=oc(r,g.defaults({no_topology:!0},a)),c?c.layers.length>1&&ee("Multiple-layer sources are not supported"):ee(g.format("Unable to find source [%s]",r)),u={dataset:c,layer:c.layers[0],disposable:!0}),u}var dQ=Object.freeze({__proto__:null,convertSourceName:cQ,convertInterpolatedName:sF,findCommandSource:hQ});b.splitLayer=function(r,o,a){var u=a||{},c=u.no_replace?np(r):r,d=c.data?c.data.getRecords():null,v=c.shapes,_={},x=[],E=pr(c),k;return u.ids?k=pQ(u.ids):k=uF(c,o),E===0?[c]:(g.repeat(E,function(F){var B=k(F),V;B in _?V=x[_[B]]:(_[B]=x.length,V={geometry_type:c.geometry_type,name:B,data:d?new An:null,shapes:v?[]:null},x.push(V)),v&&V.shapes.push(v[F]),d&&V.data.getRecords().push(d[F])}),x)};function pQ(r){var o=new Set(r);return function(a){return o.has(a)?"1":"2"}}function uF(r,o){var a;return o?r.data&&r.data.fieldExists(o)?function(u){var c=r.data.getRecords()[u];return c?lF(c[o]):""}:(r={name:r.name,data:r.data},a=Jo(o,r,null),function(u){var c=a(u);return lF(c)}):function(u){return(r&&r.name||"split")+"-"+(u+1)}}function lF(r){return String(r)}var gQ=Object.freeze({__proto__:null,getSplitNameFunction:uF}),Jr={};Jr.svg=Object.assign({},DH,HU,AV,hV,xV),Object.assign(Jr,{Dbf:oo,DbfReader:OE,DouglasPeucker:Fu,parseGeoJSON:UE,geojson:Wt,json:{parse:aW},ShpType:fn,topojson:Rn,Visvalingam:Bn,ArcCollection:ki,Bounds:Bt,clipIterByBounds:KV,DataTable:An,editArcs:L_,Heap:LE,IdLookupIndex:ZG,NodeCollection:So,parseDMS:zy,formatDMS:wC,PathIndex:as,PolygonIndex:Ky,ShpReader:xh,Transform:gu}),Object.assign(Jr,_G,vG,bW,OW,kW,SG,g$,zq,LW,ZW,lY,tY,$V,Iq,pY,cX,AU,kU,vX,uK,AH,UV,PY,dK,yK,FH,wX,eX,eK,AK,WG,yZ,bG,MK,RK,FX,FY,xZ,Zj,Xq,MZ,T$,eH,RY,IW,RZ,t$,tG,uG,iG,yX,zG,Aj,BK,tZ,Qj,TG,aH,jG,KG,LZ,NZ,QG,SW,VZ,QJ,I$,KJ,oJ,Nq,nU,Q8,q$,r$,eq,iW,wY,_X,lQ,uU,o$,hG,qj,dQ,gQ,R,nG,tV,cV,wU,kY,EX,e$,MU,$H,UH,W$,pX);function vQ(r){return Array.from(r).map(function(o){return o.name})}function cF(r){return new Promise(o=>setTimeout(o,r))}async function mQ(r,o){var a=new FileReader;a.addEventListener("loadend",function(u){a.result?o(null,a.result):o(new Error)}),Jr.isImportableAsBinary(r.name)?a.readAsArrayBuffer(r):a.readAsText(r,"UTF-8")}async function yQ(r){try{var o=await g.promisify(mQ)(r);return{content:o,name:r.name}}catch{throw Error(`Browser was unable to load the file ${r.name}`)}}async function _Q(r){var o=r.name.replace(/\.gz$/,"");return await cF(35),[{name:o,content:Jr.gunzipSync(r.content,o)}]}async function fF(r){var o=await g.promisify(Jr.unzipAsync)(r.content);return Object.keys(o).reduce(function(a,u){return/\.txt$/i.test(u)||a.push({name:u,content:o[u]}),a},[])}async function bQ(r){var o=await fF(r),a=o[0]&&o[0].name;return a=="doc.kml"&&(o[0].name=Jr.replaceFileExtension(r.name,"kml")),o}async function wQ(r){var o=[],a;for(var u of r){var c=await yQ(u);Jr.isGzipFile(u.name)?a=await _Q(c):Jr.isZipFile(u.name)?a=await fF(c):Jr.isKmzFile(u.name)?a=await bQ(c):a=[c],o=o.concat(a)}return r.length=0,o}function xQ(r){return r.content.byteLength||r.content.length}function X2(r){return Jr.guessInputType(r.name,r.content)}function Lh(r,o){return r+"."+o}function hF(r){return Jr.getFileBase(r.name).toLowerCase()}function SQ(r){return Lh(hF(r),X2(r))}function CQ(r){return/\.(shp|shx|dbf|prj|cpg)$/i.test(r)}function EQ(r,o){var a=o.name?[o.name]:null;function u(v){var _=Lh(v,"shp");return r.some(x=>SQ(x)==_)}r.forEach(v=>{var _=hF(v),x=X2(v);x=="shp"||!CQ(v.name)?(v.group=Lh(_,x),v.filename=v.name):u(_)?v.group=Lh(_,"shp"):x=="dbf"?(v.filename=v.name,v.group=Lh(_,"dbf")):v.group=null});var c={},d=[];return r.forEach(v=>{if(v.group){var _=c[v.group];_||(_={},_.layername=a?a[d.length]||a[a.length-1]:null,d.push(_),c[v.group]=_),_.size=(_.size||0)+xQ(v),_[X2(v)]={filename:v.name,content:v.content},v.filename&&(_.filename=v.filename)}}),d}function AQ(r){return r.layers.every(function(o){return Jr.getFeatureCount(o)===0})}async function kQ(r,o,a){var u=Jr.importContent(r,o);return AQ(u)?!1:(r.layername&&u.layers.forEach(c=>c.name=r.layername),a.push({dataset:u,layername:r.layername||r.filename}),!0)}async function FQ(r,o){var a=EQ(r,o);r=null;let u=[];for(var c of a)c.size>4e7&&await cF(35),await kQ(c,o,u);return u}async function IQ(r=[]){var o=r;try{if(o.length>0)return await FQ(o,{})}catch{}}function MQ(r,o=[]){var a={};return o.concat(r).reduce(function(c,d){return Jr.looksLikeContentFile(d.name)&&!(d.name in a)&&(a[d.name]=!0,c.push(d)),c},[])}async function DQ(r){if(r.length===0)return;const o=Array.from(r);var a=vQ(o),u=[];try{u=await wQ(o)}catch{return}let c=[];if(c=MQ(u,c),c.length===0){var d=`Unable to import data from: ${a.join(", ")}`;return}return await IQ(c)}function dF(r,o){const a=window.URL||window.webkitURL||window,u=new Blob([r]),c=a.createObjectURL(u),d=document.createElement("a");d.href=c,d.download=o,document.body.appendChild(d),d.click(),a.revokeObjectURL(c),setTimeout(function(){a.revokeObjectURL(c),document.body.removeChild(d)},400)}function pF(r,o){uk(o,function(a,u){if(a)throw a;dF(new Blob([u]),r)})}function gF(r,o,a=!0,u="test.zip"){const c=_2(r,{format:o}),d=r.layers[0].name||"layer";o==="shapefile"&&c.push({content:"UTF-8",filename:`${d}.cpg`}),a?pF(u??"test.zip",c):c.forEach(v=>{dF(v.content,v.filename)})}function TQ(r,o,a=!0,u="test.zip"){const c=co(r,{});gF(c,o,a,u)}const zh={};function K2(r,o){const a=Zo(o);zh[r]=a}async function Z2(r,o=void 0,a="https://epsg.gis.digsur.com/epsg/"){const u=r.toUpperCase();if(zh["EPSG:4326"]===void 0&&(K2("EPSG:4326","+proj=longlat +datum=WGS84 +no_defs +type=crs"),K2("EPSG:3857","+proj=merc +a=6378137 +b=6378137 +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +k=1 +units=m +nadgrids=@null +wktext +no_defs +type=crs"),K2("EPSG:4490","+proj=longlat +ellps=GRS80 +no_defs +type=crs")),o){const c=Zo(o);return zh[u]=c,c}else{const c=zh[u];if(c)return c;if(a){const d=u.trim().substring(5),v=await fetch(a+d);if(!v.ok)return;const _=await v.json(),x=Zo(_.prj4||_.wkt);return zh[u]=x,x}}}async function PQ(r,o="EPSG:4326",a="EPSG:3857",u={}){const c=await Z2(o),d=await Z2(a);return H2(r,c,d,u),r}var J2={import2DFiles:DQ,saveZipFile:pF,saveDataset:gF,saveDatasetFromGeojson:TQ,getProj:Z2,transformDataset:PQ};Object.assign(J2,{cli:sn,cmd:b,geom:dt,utils:g,internal:Jr}),t.exports?t.exports=J2:typeof window=="object"&&window&&(window.data2d=J2)}(zw)),zw.exports}var sve=lhe();const che={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},AO={...che,contextMenu:Boolean};function kO({showing:t,avoidEmit:e,configureAnchorEl:n}){const{props:i,proxy:s,emit:l}=tn(),f=pt(null);let h=null;function p(w){return f.value===null?!1:w===void 0||w.touches===void 0||w.touches.length<=1}const m={};n===void 0&&(Object.assign(m,{hide(w){s.hide(w)},toggle(w){s.toggle(w),w.qAnchorHandled=!0},toggleKey(w){Ua(w,13)===!0&&m.toggle(w)},contextClick(w){s.hide(w),yo(w),Mr(()=>{s.show(w),w.qAnchorHandled=!0})},prevent:yo,mobileTouch(w){if(m.mobileCleanup(w),p(w)!==!0)return;s.hide(w),f.value.classList.add("non-selectable");const C=w.target;zo(m,"anchor",[[C,"touchmove","mobileCleanup","passive"],[C,"touchend","mobileCleanup","passive"],[C,"touchcancel","mobileCleanup","passive"],[f.value,"contextmenu","prevent","notPassive"]]),h=setTimeout(()=>{h=null,s.show(w),w.qAnchorHandled=!0},300)},mobileCleanup(w){f.value.classList.remove("non-selectable"),h!==null&&(clearTimeout(h),h=null),t.value===!0&&w!==void 0&&qS()}}),n=function(w=i.contextMenu){if(i.noParentEvent===!0||f.value===null)return;let C;w===!0?s.$q.platform.is.mobile===!0?C=[[f.value,"touchstart","mobileTouch","passive"]]:C=[[f.value,"mousedown","hide","passive"],[f.value,"contextmenu","contextClick","notPassive"]]:C=[[f.value,"click","toggle","passive"],[f.value,"keyup","toggleKey","passive"]],zo(m,"anchor",C)});function g(){tu(m,"anchor")}function b(w){for(f.value=w;f.value.classList.contains("q-anchor--skip");)f.value=f.value.parentNode;n()}function S(){if(i.target===!1||i.target===""||s.$el.parentNode===null)f.value=null;else if(i.target===!0)b(s.$el.parentNode);else{let w=i.target;if(typeof i.target=="string")try{w=document.querySelector(i.target)}catch{w=void 0}w!=null?(f.value=w.$el||w,n()):f.value=null}}return qt(()=>i.contextMenu,w=>{f.value!==null&&(g(),n(w))}),qt(()=>i.target,()=>{f.value!==null&&g(),S()}),qt(()=>i.noParentEvent,w=>{f.value!==null&&(w===!0?g():n())}),ci(()=>{S(),e!==!0&&i.modelValue===!0&&f.value===null&&l("update:modelValue",!1)}),or(()=>{h!==null&&clearTimeout(h),g()}),{anchorEl:f,canShow:p,anchorEvents:m}}function fhe(t,e){const n=pt(null);let i;function s(h,p){const m=`${p!==void 0?"add":"remove"}EventListener`,g=p!==void 0?p:i;h!==window&&h[m]("scroll",g,wr.passive),window[m]("scroll",g,wr.passive),i=p}function l(){n.value!==null&&(s(n.value),n.value=null)}const f=qt(()=>t.noParentEvent,()=>{n.value!==null&&(l(),e())});return or(f),{localScrollTarget:n,unconfigureScrollTarget:l,changeScrollEvent:s}}const{notPassiveCapture:_v}=wr,vl=[];function bv(t){const e=t.target;if(e===void 0||e.nodeType===8||e.classList.contains("no-pointer-events")===!0)return;let n=xf.length-1;for(;n>=0;){const i=xf[n].$;if(i.type.name==="QTooltip"){n--;continue}if(i.type.name!=="QDialog")break;if(i.props.seamless!==!0)return;n--}for(let i=vl.length-1;i>=0;i--){const s=vl[i];if((s.anchorEl.value===null||s.anchorEl.value.contains(e)===!1)&&(e===document.body||s.innerRef.value!==null&&s.innerRef.value.contains(e)===!1))t.qClickOutside=!0,s.onClickOutside(t);else return}}function hhe(t){vl.push(t),vl.length===1&&(document.addEventListener("mousedown",bv,_v),document.addEventListener("touchstart",bv,_v))}function c7(t){const e=vl.findIndex(n=>n===t);e!==-1&&(vl.splice(e,1),vl.length===0&&(document.removeEventListener("mousedown",bv,_v),document.removeEventListener("touchstart",bv,_v)))}let f7,h7;function d7(t){const e=t.split(" ");return!(e.length!==2||["top","center","bottom"].includes(e[0])!==!0||["left","middle","right","start","end"].includes(e[1])!==!0)}function dhe(t){return t?!(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number"):!0}const $x={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(t=>{$x[`${t}#ltr`]=t,$x[`${t}#rtl`]=t});function p7(t,e){const n=t.split(" ");return{vertical:n[0],horizontal:$x[`${n[1]}#${e===!0?"rtl":"ltr"}`]}}function phe(t,e){let{top:n,left:i,right:s,bottom:l,width:f,height:h}=t.getBoundingClientRect();return e!==void 0&&(n-=e[1],i-=e[0],l+=e[1],s+=e[0],f+=e[0],h+=e[1]),{top:n,bottom:l,height:h,left:i,right:s,width:f,middle:i+(s-i)/2,center:n+(l-n)/2}}function ghe(t,e,n){let{top:i,left:s}=t.getBoundingClientRect();return i+=e.top,s+=e.left,n!==void 0&&(i+=n[1],s+=n[0]),{top:i,bottom:i+1,height:1,left:s,right:s+1,width:1,middle:s,center:i}}function vhe(t,e){return{top:0,center:e/2,bottom:e,left:0,middle:t/2,right:t}}function g7(t,e,n,i){return{top:t[n.vertical]-e[i.vertical],left:t[n.horizontal]-e[i.horizontal]}}function FO(t,e=0){if(t.targetEl===null||t.anchorEl===null||e>5)return;if(t.targetEl.offsetHeight===0||t.targetEl.offsetWidth===0){setTimeout(()=>{FO(t,e+1)},10);return}const{targetEl:n,offset:i,anchorEl:s,anchorOrigin:l,selfOrigin:f,absoluteOffset:h,fit:p,cover:m,maxHeight:g,maxWidth:b}=t;if(Sn.is.ios===!0&&window.visualViewport!==void 0){const ce=document.body.style,{offsetLeft:te,offsetTop:ee}=window.visualViewport;te!==f7&&(ce.setProperty("--q-pe-left",te+"px"),f7=te),ee!==h7&&(ce.setProperty("--q-pe-top",ee+"px"),h7=ee)}const{scrollLeft:S,scrollTop:w}=n,C=h===void 0?phe(s,m===!0?[0,0]:i):ghe(s,h,i);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:b,maxHeight:g,visibility:"visible"});const{offsetWidth:M,offsetHeight:T}=n,{elWidth:D,elHeight:R}=p===!0||m===!0?{elWidth:Math.max(C.width,M),elHeight:m===!0?Math.max(C.height,T):T}:{elWidth:M,elHeight:T};let q={maxWidth:b,maxHeight:g};(p===!0||m===!0)&&(q.minWidth=C.width+"px",m===!0&&(q.minHeight=C.height+"px")),Object.assign(n.style,q);const Y=vhe(D,R);let K=g7(C,Y,l,f);if(h===void 0||i===void 0)qw(K,C,Y,l,f);else{const{top:ce,left:te}=K;qw(K,C,Y,l,f);let ee=!1;if(K.top!==ce){ee=!0;const he=2*i[1];C.center=C.top-=he,C.bottom-=he+2}if(K.left!==te){ee=!0;const he=2*i[0];C.middle=C.left-=he,C.right-=he+2}ee===!0&&(K=g7(C,Y,l,f),qw(K,C,Y,l,f))}q={top:K.top+"px",left:K.left+"px"},K.maxHeight!==void 0&&(q.maxHeight=K.maxHeight+"px",C.height>K.maxHeight&&(q.minHeight=q.maxHeight)),K.maxWidth!==void 0&&(q.maxWidth=K.maxWidth+"px",C.width>K.maxWidth&&(q.minWidth=q.maxWidth)),Object.assign(n.style,q),n.scrollTop!==w&&(n.scrollTop=w),n.scrollLeft!==S&&(n.scrollLeft=S)}function qw(t,e,n,i,s){const l=n.bottom,f=n.right,h=H1(),p=window.innerHeight-h,m=document.body.clientWidth;if(t.top<0||t.top+l>p)if(s.vertical==="center")t.top=e[i.vertical]>p/2?Math.max(0,p-l):0,t.maxHeight=Math.min(l,p);else if(e[i.vertical]>p/2){const g=Math.min(p,i.vertical==="center"?e.center:i.vertical===s.vertical?e.bottom:e.top);t.maxHeight=Math.min(l,g),t.top=Math.max(0,g-l)}else t.top=Math.max(0,i.vertical==="center"?e.center:i.vertical===s.vertical?e.top:e.bottom),t.maxHeight=Math.min(l,p-t.top);if(t.left<0||t.left+f>m)if(t.maxWidth=Math.min(f,m),s.horizontal==="middle")t.left=e[i.horizontal]>m/2?Math.max(0,m-f):0;else if(e[i.horizontal]>m/2){const g=Math.min(m,i.horizontal==="middle"?e.middle:i.horizontal===s.horizontal?e.right:e.left);t.maxWidth=Math.min(f,g),t.left=Math.max(0,g-t.maxWidth)}else t.left=Math.max(0,i.horizontal==="middle"?e.middle:i.horizontal===s.horizontal?e.left:e.right),t.maxWidth=Math.min(f,m-t.left)}const IO=Zt({name:"QMenu",inheritAttrs:!1,props:{...AO,...nm,...hi,...DS,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:d7},self:{type:String,validator:d7},offset:{type:Array,validator:dhe},scrollTarget:aB,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...rm,"click","escapeKey"],setup(t,{slots:e,emit:n,attrs:i}){let s=null,l,f,h;const p=tn(),{proxy:m}=p,{$q:g}=m,b=pt(null),S=pt(!1),w=xe(()=>t.persistent!==!0&&t.noRouteDismiss!==!0),C=di(t,g),{registerTick:M,removeTick:T}=Md(),{registerTimeout:D}=au(),{transitionProps:R,transitionStyle:q}=tB(t),{localScrollTarget:Y,changeScrollEvent:K,unconfigureScrollTarget:ce}=fhe(t,mt),{anchorEl:te,canShow:ee}=kO({showing:S}),{hide:he}=im({showing:S,canShow:ee,handleShow:tt,handleHide:lt,hideOnRouteChange:w,processOnMount:!0}),{showPortal:be,hidePortal:Fe,renderPortal:oe}=iB(p,b,Lt,"menu"),Se={anchorEl:te,innerRef:b,onClickOutside(at){if(t.persistent!==!0&&S.value===!0)return he(at),(at.type==="touchstart"||at.target.classList.contains("q-dialog__backdrop"))&&Wn(at),!0}},fe=xe(()=>p7(t.anchor||(t.cover===!0?"center middle":"bottom start"),g.lang.rtl)),Te=xe(()=>t.cover===!0?fe.value:p7(t.self||"top start",g.lang.rtl)),Le=xe(()=>(t.square===!0?" q-menu--square":"")+(C.value===!0?" q-menu--dark q-dark":"")),Pe=xe(()=>t.autoClose===!0?{onClick:Ct}:{}),ze=xe(()=>S.value===!0&&t.persistent!==!0);qt(ze,at=>{at===!0?(dB(Ze),hhe(Se)):(sv(Ze),c7(Se))});function Je(){E0(()=>{let at=b.value;at&&at.contains(document.activeElement)!==!0&&(at=at.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||at.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||at.querySelector("[autofocus], [data-autofocus]")||at,at.focus({preventScroll:!0}))})}function tt(at){if(s=t.noRefocus===!1?document.activeElement:null,gB(Ft),be(),mt(),l=void 0,at!==void 0&&(t.touchPosition||t.contextMenu)){const Et=ou(at);if(Et.left!==void 0){const{top:Gt,left:Ht}=te.value.getBoundingClientRect();l={left:Et.left-Ht,top:Et.top-Gt}}}f===void 0&&(f=qt(()=>g.screen.width+"|"+g.screen.height+"|"+t.self+"|"+t.anchor+"|"+g.lang.rtl,Pt)),t.noFocus!==!0&&document.activeElement.blur(),M(()=>{Pt(),t.noFocus!==!0&&Je()}),D(()=>{g.platform.is.ios===!0&&(h=t.autoClose,b.value.click()),Pt(),be(!0),n("show",at)},t.transitionDuration)}function lt(at){T(),Fe(),Qe(!0),s!==null&&(at===void 0||at.qClickOutside!==!0)&&(((at&&at.type.indexOf("key")===0?s.closest('[tabindex]:not([tabindex^="-"])'):void 0)||s).focus(),s=null),D(()=>{Fe(!0),n("hide",at)},t.transitionDuration)}function Qe(at){l=void 0,f!==void 0&&(f(),f=void 0),(at===!0||S.value===!0)&&(Px(Ft),ce(),c7(Se),sv(Ze)),at!==!0&&(s=null)}function mt(){(te.value!==null||t.scrollTarget!==void 0)&&(Y.value=sB(te.value,t.scrollTarget),K(Y.value,Pt))}function Ct(at){h!==!0?(rB(m,at),n("click",at)):h=!1}function Ft(at){ze.value===!0&&t.noFocus!==!0&&oB(b.value,at.target)!==!0&&Je()}function Ze(at){n("escapeKey"),he(at)}function Pt(){FO({targetEl:b.value,offset:t.offset,anchorEl:te.value,anchorOrigin:fe.value,selfOrigin:Te.value,absoluteOffset:l,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function Lt(){return Be(Ca,R.value,()=>S.value===!0?Be("div",{role:"menu",...i,ref:b,tabindex:-1,class:["q-menu q-position-engine scroll"+Le.value,i.class],style:[i.style,q.value],...Pe.value},Dn(e.default)):null)}return or(Qe),Object.assign(m,{focus:Je,updatePosition:Pt}),oe}}),uve=Zt({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:e}){const n=xe(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>Be("div",{class:n.value,role:"toolbar"},Dn(e.default))}}),mhe=Zt({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:e}){const n=xe(()=>{const i=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(s=>t[s]===!0).map(s=>`q-btn-group--${s}`).join(" ");return`q-btn-group row no-wrap${i.length!==0?" "+i:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>Be("div",{class:n.value},Dn(e.default))}}),yhe=Object.keys(OS);function _he(t){return yhe.reduce((e,n)=>{const i=t[n];return i!==void 0&&(e[n]=i),e},{})}const lve=Zt({name:"QBtnDropdown",props:{...OS,...DS,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(t,{slots:e,emit:n}){const{proxy:i}=tn(),s=pt(t.modelValue),l=pt(null),f=LS(),h=xe(()=>{const Y={"aria-expanded":s.value===!0?"true":"false","aria-haspopup":"true","aria-controls":f.value,"aria-label":t.toggleAriaLabel||i.$q.lang.label[s.value===!0?"collapse":"expand"](t.label)};return(t.disable===!0||t.split===!1&&t.disableMainBtn===!0||t.disableDropdown===!0)&&(Y["aria-disabled"]="true"),Y}),p=xe(()=>"q-btn-dropdown__arrow"+(s.value===!0&&t.noIconAnimation===!1?" rotate-180":"")+(t.split===!1?" q-btn-dropdown__arrow-container":"")),m=xe(()=>Sae(t)),g=xe(()=>_he(t));qt(()=>t.modelValue,Y=>{l.value!==null&&l.value[Y?"show":"hide"]()}),qt(()=>t.split,q);function b(Y){s.value=!0,n("beforeShow",Y)}function S(Y){n("show",Y),n("update:modelValue",!0)}function w(Y){s.value=!1,n("beforeHide",Y)}function C(Y){n("hide",Y),n("update:modelValue",!1)}function M(Y){n("click",Y)}function T(Y){va(Y),q(),n("click",Y)}function D(Y){l.value!==null&&l.value.toggle(Y)}function R(Y){l.value!==null&&l.value.show(Y)}function q(Y){l.value!==null&&l.value.hide(Y)}return Object.assign(i,{show:R,hide:q,toggle:D}),ci(()=>{t.modelValue===!0&&R()}),()=>{const Y=[Be(Xr,{class:p.value,name:t.dropdownIcon||i.$q.iconSet.arrow.dropdown})];return t.disableDropdown!==!0&&Y.push(Be(IO,{ref:l,id:f.value,class:t.contentClass,style:t.contentStyle,cover:t.cover,fit:!0,persistent:t.persistent,noRouteDismiss:t.noRouteDismiss,autoClose:t.autoClose,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,separateClosePopup:!0,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,onBeforeShow:b,onShow:S,onBeforeHide:w,onHide:C},e.default)),t.split===!1?Be(nu,{class:"q-btn-dropdown q-btn-dropdown--simple",...g.value,...h.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:M},{default:()=>Dn(e.label,[]).concat(Y),loading:e.loading}):Be(mhe,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:t.rounded,square:t.square,...m.value,glossy:t.glossy,stretch:t.stretch},()=>[Be(nu,{class:"q-btn-dropdown--current",...g.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:T},{default:e.label,loading:e.loading}),Be(nu,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...h.value,...m.value,disable:t.disable===!0||t.disableDropdown===!0,rounded:t.rounded,color:t.color,textColor:t.textColor,dense:t.dense,size:t.size,padding:t.padding,ripple:t.ripple},()=>Y)])}}});function v7(t){if(t===!1)return 0;if(t===!0||t===void 0)return 1;const e=parseInt(t,10);return isNaN(e)?0:e}const cve=w0({name:"close-popup",beforeMount(t,{value:e}){const n={depth:v7(e),handler(i){n.depth!==0&&setTimeout(()=>{const s=Hoe(t);s!==void 0&&Voe(s,i,n.depth)})},handlerKey(i){Ua(i,13)===!0&&n.handler(i)}};t.__qclosepopup=n,t.addEventListener("click",n.handler),t.addEventListener("keyup",n.handlerKey)},updated(t,{value:e,oldValue:n}){e!==n&&(t.__qclosepopup.depth=v7(e))},beforeUnmount(t){const e=t.__qclosepopup;t.removeEventListener("click",e.handler),t.removeEventListener("keyup",e.handlerKey),delete t.__qclosepopup}}),m7="q-slider__marker-labels",bhe=t=>({value:t}),whe=({marker:t})=>Be("div",{key:t.value,style:t.style,class:t.classes},t.label),MO=[34,37,40,33,39,38],xhe={...hi,...am,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},She=["pan","update:modelValue","change"];function Che({updateValue:t,updatePosition:e,getDragging:n,formAttrs:i}){const{props:s,emit:l,slots:f,proxy:{$q:h}}=tn(),p=di(s,h),m=zS(i),g=pt(!1),b=pt(!1),S=pt(!1),w=pt(!1),C=xe(()=>s.vertical===!0?"--v":"--h"),M=xe(()=>"-"+(s.switchLabelSide===!0?"switched":"standard")),T=xe(()=>s.vertical===!0?s.reverse===!0:s.reverse!==(h.lang.rtl===!0)),D=xe(()=>isNaN(s.innerMin)===!0||s.innerMin<s.min?s.min:s.innerMin),R=xe(()=>isNaN(s.innerMax)===!0||s.innerMax>s.max?s.max:s.innerMax),q=xe(()=>s.disable!==!0&&s.readonly!==!0&&D.value<R.value),Y=xe(()=>{if(s.step===0)return St=>St;const Ue=(String(s.step).trim().split(".")[1]||"").length;return St=>parseFloat(St.toFixed(Ue))}),K=xe(()=>s.step===0?1:s.step),ce=xe(()=>q.value===!0?s.tabindex||0:-1),te=xe(()=>s.max-s.min),ee=xe(()=>R.value-D.value),he=xe(()=>Gt(D.value)),be=xe(()=>Gt(R.value)),Fe=xe(()=>s.vertical===!0?T.value===!0?"bottom":"top":T.value===!0?"right":"left"),oe=xe(()=>s.vertical===!0?"height":"width"),Se=xe(()=>s.vertical===!0?"width":"height"),fe=xe(()=>s.vertical===!0?"vertical":"horizontal"),Te=xe(()=>{const Ue={role:"slider","aria-valuemin":D.value,"aria-valuemax":R.value,"aria-orientation":fe.value,"data-step":s.step};return s.disable===!0?Ue["aria-disabled"]="true":s.readonly===!0&&(Ue["aria-readonly"]="true"),Ue}),Le=xe(()=>`q-slider q-slider${C.value} q-slider--${g.value===!0?"":"in"}active inline no-wrap `+(s.vertical===!0?"row":"column")+(s.disable===!0?" disabled":" q-slider--enabled"+(q.value===!0?" q-slider--editable":""))+(S.value==="both"?" q-slider--focus":"")+(s.label||s.labelAlways===!0?" q-slider--label":"")+(s.labelAlways===!0?" q-slider--label-always":"")+(p.value===!0?" q-slider--dark":"")+(s.dense===!0?" q-slider--dense q-slider--dense"+C.value:""));function Pe(Ue){const St="q-slider__"+Ue;return`${St} ${St}${C.value} ${St}${C.value}${M.value}`}function ze(Ue){const St="q-slider__"+Ue;return`${St} ${St}${C.value}`}const Je=xe(()=>{const Ue=s.selectionColor||s.color;return"q-slider__selection absolute"+(Ue!==void 0?` text-${Ue}`:"")}),tt=xe(()=>ze("markers")+" absolute overflow-hidden"),lt=xe(()=>ze("track-container")),Qe=xe(()=>Pe("pin")),mt=xe(()=>Pe("label")),Ct=xe(()=>Pe("text-container")),Ft=xe(()=>Pe("marker-labels-container")+(s.markerLabelsClass!==void 0?` ${s.markerLabelsClass}`:"")),Ze=xe(()=>"q-slider__track relative-position no-outline"+(s.trackColor!==void 0?` bg-${s.trackColor}`:"")),Pt=xe(()=>{const Ue={[Se.value]:s.trackSize};return s.trackImg!==void 0&&(Ue.backgroundImage=`url(${s.trackImg}) !important`),Ue}),Lt=xe(()=>"q-slider__inner absolute"+(s.innerTrackColor!==void 0?` bg-${s.innerTrackColor}`:"")),at=xe(()=>{const Ue=be.value-he.value,St={[Fe.value]:`${100*he.value}%`,[oe.value]:Ue===0?"2px":`${100*Ue}%`};return s.innerTrackImg!==void 0&&(St.backgroundImage=`url(${s.innerTrackImg}) !important`),St});function Et(Ue){const{min:St,max:$e,step:Ve}=s;let Dt=St+Ue*($e-St);if(Ve>0){const Rt=(Dt-D.value)%Ve;Dt+=(Math.abs(Rt)>=Ve/2?(Rt<0?-1:1)*Ve:0)-Rt}return Dt=Y.value(Dt),ui(Dt,D.value,R.value)}function Gt(Ue){return te.value===0?0:(Ue-s.min)/te.value}function Ht(Ue,St){const $e=ou(Ue),Ve=s.vertical===!0?ui(($e.top-St.top)/St.height,0,1):ui(($e.left-St.left)/St.width,0,1);return ui(T.value===!0?1-Ve:Ve,he.value,be.value)}const Nt=xe(()=>tie(s.markers)===!0?s.markers:K.value),Jt=xe(()=>{const Ue=[],St=Nt.value,$e=s.max;let Ve=s.min;do Ue.push(Ve),Ve+=St;while(Ve<$e);return Ue.push($e),Ue}),pn=xe(()=>{const Ue=` ${m7}${C.value}-`;return m7+`${Ue}${s.switchMarkerLabelsSide===!0?"switched":"standard"}${Ue}${T.value===!0?"rtl":"ltr"}`}),En=xe(()=>s.markerLabels===!1?null:dr(s.markerLabels).map((Ue,St)=>({index:St,value:Ue.value,label:Ue.label||Ue.value,classes:pn.value+(Ue.classes!==void 0?" "+Ue.classes:""),style:{...jn(Ue.value),...Ue.style||{}}}))),bn=xe(()=>({markerList:En.value,markerMap:tr.value,classes:pn.value,getStyle:jn})),lr=xe(()=>{const Ue=ee.value===0?"2px":100*Nt.value/ee.value;return{...at.value,backgroundSize:s.vertical===!0?`2px ${Ue}%`:`${Ue}% 2px`}});function dr(Ue){if(Ue===!1)return null;if(Ue===!0)return Jt.value.map(bhe);if(typeof Ue=="function")return Jt.value.map($e=>{const Ve=Ue($e);return Wr(Ve)===!0?{...Ve,value:$e}:{value:$e,label:Ve}});const St=({value:$e})=>$e>=s.min&&$e<=s.max;return Array.isArray(Ue)===!0?Ue.map($e=>Wr($e)===!0?$e:{value:$e}).filter(St):Object.keys(Ue).map($e=>{const Ve=Ue[$e],Dt=Number($e);return Wr(Ve)===!0?{...Ve,value:Dt}:{value:Dt,label:Ve}}).filter(St)}function jn(Ue){return{[Fe.value]:`${100*(Ue-s.min)/te.value}%`}}const tr=xe(()=>{if(s.markerLabels===!1)return null;const Ue={};return En.value.forEach(St=>{Ue[St.value]=St}),Ue});function bt(){if(f["marker-label-group"]!==void 0)return f["marker-label-group"](bn.value);const Ue=f["marker-label"]||whe;return En.value.map(St=>Ue({marker:St,...bn.value}))}const ot=xe(()=>[[Sf,Ne,void 0,{[fe.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Ne(Ue){Ue.isFinal===!0?(w.value!==void 0&&(e(Ue.evt),Ue.touch===!0&&t(!0),w.value=void 0,l("pan","end")),g.value=!1,S.value=!1):Ue.isFirst===!0?(w.value=n(Ue.evt),e(Ue.evt),t(),g.value=!0,l("pan","start")):(e(Ue.evt),t())}function nt(){S.value=!1}function vt(Ue){e(Ue,n(Ue)),t(),b.value=!0,g.value=!0,document.addEventListener("mouseup",ae,!0)}function ae(){b.value=!1,g.value=!1,t(!0),nt(),document.removeEventListener("mouseup",ae,!0)}function z(Ue){e(Ue,n(Ue)),t(!0)}function X(Ue){MO.includes(Ue.keyCode)&&t(!0)}function Ce(Ue){if(s.vertical===!0)return null;const St=h.lang.rtl!==s.reverse?1-Ue:Ue;return{transform:`translateX(calc(${2*St-1} * ${s.thumbSize} / 2 + ${50-100*St}%))`}}function He(Ue){const St=xe(()=>b.value===!1&&(S.value===Ue.focusValue||S.value==="both")?" q-slider--focus":""),$e=xe(()=>`q-slider__thumb q-slider__thumb${C.value} q-slider__thumb${C.value}-${T.value===!0?"rtl":"ltr"} absolute non-selectable`+St.value+(Ue.thumbColor.value!==void 0?` text-${Ue.thumbColor.value}`:"")),Ve=xe(()=>({width:s.thumbSize,height:s.thumbSize,[Fe.value]:`${100*Ue.ratio.value}%`,zIndex:S.value===Ue.focusValue?2:void 0})),Dt=xe(()=>Ue.labelColor.value!==void 0?` text-${Ue.labelColor.value}`:""),Rt=xe(()=>Ce(Ue.ratio.value)),yn=xe(()=>"q-slider__text"+(Ue.labelTextColor.value!==void 0?` text-${Ue.labelTextColor.value}`:""));return()=>{const Yt=[Be("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[Be("path",{d:s.thumbPath})]),Be("div",{class:"q-slider__focus-ring fit"})];return(s.label===!0||s.labelAlways===!0)&&(Yt.push(Be("div",{class:Qe.value+" absolute fit no-pointer-events"+Dt.value},[Be("div",{class:mt.value,style:{minWidth:s.thumbSize}},[Be("div",{class:Ct.value,style:Rt.value},[Be("span",{class:yn.value},Ue.label.value)])])])),s.name!==void 0&&s.disable!==!0&&m(Yt,"push")),Be("div",{class:$e.value,style:Ve.value,...Ue.getNodeData()},Yt)}}function rt(Ue,St,$e,Ve){const Dt=[];s.innerTrackColor!=="transparent"&&Dt.push(Be("div",{key:"inner",class:Lt.value,style:at.value})),s.selectionColor!=="transparent"&&Dt.push(Be("div",{key:"selection",class:Je.value,style:Ue.value})),s.markers!==!1&&Dt.push(Be("div",{key:"marker",class:tt.value,style:lr.value})),Ve(Dt);const Rt=[Yd("div",{key:"trackC",class:lt.value,tabindex:St.value,...$e.value},[Be("div",{class:Ze.value,style:Pt.value},Dt)],"slide",q.value,()=>ot.value)];if(s.markerLabels!==!1){const yn=s.switchMarkerLabelsSide===!0?"unshift":"push";Rt[yn](Be("div",{key:"markerL",class:Ft.value},bt()))}return Rt}return or(()=>{document.removeEventListener("mouseup",ae,!0)}),{state:{active:g,focus:S,preventFocus:b,dragging:w,editable:q,classes:Le,tabindex:ce,attributes:Te,roundValueFn:Y,keyStep:K,trackLen:te,innerMin:D,innerMinRatio:he,innerMax:R,innerMaxRatio:be,positionProp:Fe,sizeProp:oe,isReversed:T},methods:{onActivate:vt,onMobileClick:z,onBlur:nt,onKeyup:X,getContent:rt,getThumbRenderFn:He,convertRatioToModel:Et,convertModelToRatio:Gt,getDraggingRatio:Ht}}}const Ehe=()=>({}),fve=Zt({name:"QSlider",props:{...xhe,modelValue:{required:!0,default:null,validator:t=>typeof t=="number"||t===null},labelValue:[String,Number]},emits:She,setup(t,{emit:e}){const{proxy:{$q:n}}=tn(),{state:i,methods:s}=Che({updateValue:C,updatePosition:T,getDragging:M,formAttrs:Gae(t)}),l=pt(null),f=pt(0),h=pt(0);function p(){h.value=t.modelValue===null?i.innerMin.value:ui(t.modelValue,i.innerMin.value,i.innerMax.value)}qt(()=>`${t.modelValue}|${i.innerMin.value}|${i.innerMax.value}`,p),p();const m=xe(()=>s.convertModelToRatio(h.value)),g=xe(()=>i.active.value===!0?f.value:m.value),b=xe(()=>{const q={[i.positionProp.value]:`${100*i.innerMinRatio.value}%`,[i.sizeProp.value]:`${100*(g.value-i.innerMinRatio.value)}%`};return t.selectionImg!==void 0&&(q.backgroundImage=`url(${t.selectionImg}) !important`),q}),S=s.getThumbRenderFn({focusValue:!0,getNodeData:Ehe,ratio:g,label:xe(()=>t.labelValue!==void 0?t.labelValue:h.value),thumbColor:xe(()=>t.thumbColor||t.color),labelColor:xe(()=>t.labelColor),labelTextColor:xe(()=>t.labelTextColor)}),w=xe(()=>i.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:s.onMobileClick}:{onMousedown:s.onActivate,onFocus:D,onBlur:s.onBlur,onKeydown:R,onKeyup:s.onKeyup});function C(q){h.value!==t.modelValue&&e("update:modelValue",h.value),q===!0&&e("change",h.value)}function M(){return l.value.getBoundingClientRect()}function T(q,Y=i.dragging.value){const K=s.getDraggingRatio(q,Y);h.value=s.convertRatioToModel(K),f.value=t.snap!==!0||t.step===0?K:s.convertModelToRatio(h.value)}function D(){i.focus.value=!0}function R(q){if(MO.includes(q.keyCode)===!1)return;Wn(q);const Y=([34,33].includes(q.keyCode)?10:1)*i.keyStep.value,K=([34,37,40].includes(q.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*(t.vertical===!0?-1:1)*Y;h.value=ui(i.roundValueFn.value(h.value+K),i.innerMin.value,i.innerMax.value),C()}return()=>{const q=s.getContent(b,i.tabindex,w,Y=>{Y.push(S())});return Be("div",{ref:l,class:i.classes.value+(t.modelValue===null?" q-slider--no-value":""),...i.attributes.value,"aria-valuenow":t.modelValue},q)}}}),Ahe={...Yf,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:t=>t>=0&&t<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Ux=50,DO=2*Ux,TO=DO*Math.PI,khe=Math.round(TO*1e3)/1e3,Fhe=Zt({name:"QCircularProgress",props:{...Ahe,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=tn(),i=Xf(t),s=xe(()=>{const w=(n.lang.rtl===!0?-1:1)*t.angle;return{transform:t.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-w}deg)`:`rotate3d(0, 0, 1, ${w-90}deg)`}}),l=xe(()=>t.instantFeedback!==!0&&t.indeterminate!==!0?{transition:`stroke-dashoffset ${t.animationSpeed}ms ease 0s, stroke ${t.animationSpeed}ms ease`}:""),f=xe(()=>DO/(1-t.thickness/2)),h=xe(()=>`${f.value/2} ${f.value/2} ${f.value} ${f.value}`),p=xe(()=>ui(t.value,t.min,t.max)),m=xe(()=>t.max-t.min),g=xe(()=>t.thickness/2*f.value),b=xe(()=>{const w=(t.max-p.value)/m.value,C=t.rounded===!0&&p.value<t.max&&w<.25?g.value/2*(1-w/.25):0;return TO*w+C});function S({thickness:w,offset:C,color:M,cls:T,rounded:D}){return Be("circle",{class:"q-circular-progress__"+T+(M!==void 0?` text-${M}`:""),style:l.value,fill:"transparent",stroke:"currentColor","stroke-width":w,"stroke-dasharray":khe,"stroke-dashoffset":C,"stroke-linecap":D,cx:f.value,cy:f.value,r:Ux})}return()=>{const w=[];t.centerColor!==void 0&&t.centerColor!=="transparent"&&w.push(Be("circle",{class:`q-circular-progress__center text-${t.centerColor}`,fill:"currentColor",r:Ux-g.value/2,cx:f.value,cy:f.value})),t.trackColor!==void 0&&t.trackColor!=="transparent"&&w.push(S({cls:"track",thickness:g.value,offset:0,color:t.trackColor})),w.push(S({cls:"circle",thickness:g.value,offset:b.value,color:t.color,rounded:t.rounded===!0?"round":void 0}));const C=[Be("svg",{class:"q-circular-progress__svg",style:s.value,viewBox:h.value,"aria-hidden":"true"},w)];return t.showValue===!0&&C.push(Be("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:t.fontSize}},e.default!==void 0?e.default():[Be("div",p.value)])),Be("div",{class:`q-circular-progress q-circular-progress--${t.indeterminate===!0?"in":""}determinate`,style:i.value,role:"progressbar","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.indeterminate===!0?void 0:p.value},fB(e.internal,C))}}});function tf(t,e,n,i){const s=[];return t.forEach(l=>{i(l)===!0?s.push(l):e.push({failedPropValidation:n,file:l})}),s}function y1(t){t&&t.dataTransfer&&(t.dataTransfer.dropEffect="copy"),Wn(t)}const Ihe={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Mhe=["rejected"];function Dhe({editable:t,dnd:e,getFileInput:n,addFilesToQueue:i}){const{props:s,emit:l,proxy:f}=tn(),h=pt(null),p=xe(()=>s.accept!==void 0?s.accept.split(",").map(R=>(R=R.trim(),R==="*"?"*/":(R.endsWith("/*")&&(R=R.slice(0,R.length-1)),R.toUpperCase()))):null),m=xe(()=>parseInt(s.maxFiles,10)),g=xe(()=>parseInt(s.maxTotalSize,10));function b(R){if(t.value)if(R!==Object(R)&&(R={target:null}),R.target!==null&&R.target.matches('input[type="file"]')===!0)R.clientX===0&&R.clientY===0&&va(R);else{const q=n();q&&q!==R.target&&q.click(R)}}function S(R){t.value&&R&&i(null,R)}function w(R,q,Y,K){let ce=Array.from(q||R.target.files);const te=[],ee=()=>{te.length!==0&&l("rejected",te)};if(s.accept!==void 0&&p.value.indexOf("*/")===-1&&(ce=tf(ce,te,"accept",he=>p.value.some(be=>he.type.toUpperCase().startsWith(be)||he.name.toUpperCase().endsWith(be))),ce.length===0))return ee();if(s.maxFileSize!==void 0){const he=parseInt(s.maxFileSize,10);if(ce=tf(ce,te,"max-file-size",be=>be.size<=he),ce.length===0)return ee()}if(s.multiple!==!0&&ce.length!==0&&(ce=[ce[0]]),ce.forEach(he=>{he.__key=he.webkitRelativePath+he.lastModified+he.name+he.size}),K===!0){const he=Y.map(be=>be.__key);ce=tf(ce,te,"duplicate",be=>he.includes(be.__key)===!1)}if(ce.length===0)return ee();if(s.maxTotalSize!==void 0){let he=K===!0?Y.reduce((be,Fe)=>be+Fe.size,0):0;if(ce=tf(ce,te,"max-total-size",be=>(he+=be.size,he<=g.value)),ce.length===0)return ee()}if(typeof s.filter=="function"){const he=s.filter(ce);ce=tf(ce,te,"filter",be=>he.includes(be))}if(s.maxFiles!==void 0){let he=K===!0?Y.length:0;if(ce=tf(ce,te,"max-files",()=>(he++,he<=m.value)),ce.length===0)return ee()}if(ee(),ce.length!==0)return ce}function C(R){y1(R),e.value!==!0&&(e.value=!0)}function M(R){Wn(R),(R.relatedTarget!==null||Sn.is.safari!==!0?R.relatedTarget!==h.value:document.elementsFromPoint(R.clientX,R.clientY).includes(h.value)===!1)===!0&&(e.value=!1)}function T(R){y1(R);const q=R.dataTransfer.files;q.length!==0&&i(null,q),e.value=!1}function D(R){if(e.value===!0)return Be("div",{ref:h,class:`q-${R}__dnd absolute-full`,onDragenter:y1,onDragover:y1,onDragleave:M,onDrop:T})}return Object.assign(f,{pickFiles:b,addFiles:S}),{pickFiles:b,addFiles:S,onDragover:C,onDragleave:M,processFiles:w,getDndNode:D,maxFilesNumber:m,maxTotalSizeNumber:g}}function y7(t){return(t*100).toFixed(2)+"%"}const The={...hi,...Ihe,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},PO=[...Mhe,"start","finish","added","removed"];function Phe(t,e){const n=tn(),{props:i,slots:s,emit:l,proxy:f}=n,{$q:h}=f,p=di(i,h);function m(at,Et,Gt){if(at.__status=Et,Et==="idle"){at.__uploaded=0,at.__progress=0,at.__sizeLabel=TD(at.size),at.__progressLabel="0.00%";return}if(Et==="failed"){f.$forceUpdate();return}at.__uploaded=Et==="uploaded"?at.size:Gt,at.__progress=Et==="uploaded"?1:Math.min(.9999,at.__uploaded/at.size),at.__progressLabel=y7(at.__progress),f.$forceUpdate()}const g=xe(()=>i.disable!==!0&&i.readonly!==!0),b=pt(!1),S=pt(null),w=pt(null),C={files:pt([]),queuedFiles:pt([]),uploadedFiles:pt([]),uploadedSize:pt(0),updateFileStatus:m,isAlive:()=>fl(n)===!1},{pickFiles:M,addFiles:T,onDragover:D,onDragleave:R,processFiles:q,getDndNode:Y,maxFilesNumber:K,maxTotalSizeNumber:ce}=Dhe({editable:g,dnd:b,getFileInput:lt,addFilesToQueue:Qe});Object.assign(C,t({props:i,slots:s,emit:l,helpers:C,exposeApi:at=>{Object.assign(C,at)}})),C.isBusy===void 0&&(C.isBusy=pt(!1));const te=pt(0),ee=xe(()=>te.value===0?0:C.uploadedSize.value/te.value),he=xe(()=>y7(ee.value)),be=xe(()=>TD(te.value)),Fe=xe(()=>g.value===!0&&C.isUploading.value!==!0&&(i.multiple===!0||C.queuedFiles.value.length===0)&&(i.maxFiles===void 0||C.files.value.length<K.value)&&(i.maxTotalSize===void 0||te.value<ce.value)),oe=xe(()=>g.value===!0&&C.isBusy.value!==!0&&C.isUploading.value!==!0&&C.queuedFiles.value.length!==0);b0(Jre,Ft);const Se=xe(()=>"q-uploader column no-wrap"+(p.value===!0?" q-uploader--dark q-dark":"")+(i.bordered===!0?" q-uploader--bordered":"")+(i.square===!0?" q-uploader--square no-border-radius":"")+(i.flat===!0?" q-uploader--flat no-shadow":"")+(i.disable===!0?" disabled q-uploader--disable":"")+(b.value===!0?" q-uploader--dnd":"")),fe=xe(()=>"q-uploader__header"+(i.color!==void 0?` bg-${i.color}`:"")+(i.textColor!==void 0?` text-${i.textColor}`:""));qt(C.isUploading,(at,Et)=>{Et===!1&&at===!0?l("start"):Et===!0&&at===!1&&l("finish")});function Te(){i.disable===!1&&(C.abort(),C.uploadedSize.value=0,te.value=0,tt(),C.files.value=[],C.queuedFiles.value=[],C.uploadedFiles.value=[])}function Le(){i.disable===!1&&ze(["uploaded"],()=>{C.uploadedFiles.value=[]})}function Pe(){ze(["idle","failed"],({size:at})=>{te.value-=at,C.queuedFiles.value=[]})}function ze(at,Et){if(i.disable===!0)return;const Gt={files:[],size:0},Ht=C.files.value.filter(Nt=>at.indexOf(Nt.__status)===-1?!0:(Gt.size+=Nt.size,Gt.files.push(Nt),Nt.__img!==void 0&&window.URL.revokeObjectURL(Nt.__img.src),!1));Gt.files.length!==0&&(C.files.value=Ht,Et(Gt),l("removed",Gt.files))}function Je(at){i.disable||(at.__status==="uploaded"?C.uploadedFiles.value=C.uploadedFiles.value.filter(Et=>Et.__key!==at.__key):at.__status==="uploading"?at.__abort():te.value-=at.size,C.files.value=C.files.value.filter(Et=>Et.__key!==at.__key?!0:(Et.__img!==void 0&&window.URL.revokeObjectURL(Et.__img.src),!1)),C.queuedFiles.value=C.queuedFiles.value.filter(Et=>Et.__key!==at.__key),l("removed",[at]))}function tt(){C.files.value.forEach(at=>{at.__img!==void 0&&window.URL.revokeObjectURL(at.__img.src)})}function lt(){return w.value||S.value.getElementsByClassName("q-uploader__input")[0]}function Qe(at,Et){const Gt=q(at,Et,C.files.value,!0),Ht=lt();Ht!=null&&(Ht.value=""),Gt!==void 0&&(Gt.forEach(Nt=>{if(C.updateFileStatus(Nt,"idle"),te.value+=Nt.size,i.noThumbnails!==!0&&Nt.type.toUpperCase().startsWith("IMAGE")){const Jt=new Image;Jt.src=window.URL.createObjectURL(Nt),Nt.__img=Jt}}),C.files.value=C.files.value.concat(Gt),C.queuedFiles.value=C.queuedFiles.value.concat(Gt),l("added",Gt),i.autoUpload===!0&&C.upload())}function mt(){oe.value===!0&&C.upload()}function Ct(at,Et,Gt){if(at===!0){const Ht={type:"a",key:Et,icon:h.iconSet.uploader[Et],flat:!0,dense:!0};let Nt;return Et==="add"?(Ht.onClick=M,Nt=Ft):Ht.onClick=Gt,Be(nu,Ht,Nt)}}function Ft(){return Be("input",{ref:w,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:i.accept,multiple:i.multiple===!0?"multiple":void 0,capture:i.capture,onMousedown:va,onClick:M,onChange:Qe})}function Ze(){return s.header!==void 0?s.header(Lt):[Be("div",{class:"q-uploader__header-content column"},[Be("div",{class:"flex flex-center no-wrap q-gutter-xs"},[Ct(C.queuedFiles.value.length!==0,"removeQueue",Pe),Ct(C.uploadedFiles.value.length!==0,"removeUploaded",Le),C.isUploading.value===!0?Be(Ga,{class:"q-uploader__spinner"}):null,Be("div",{class:"col column justify-center"},[i.label!==void 0?Be("div",{class:"q-uploader__title"},[i.label]):null,Be("div",{class:"q-uploader__subtitle"},[be.value+" / "+he.value])]),Ct(Fe.value,"add"),Ct(i.hideUploadBtn===!1&&oe.value===!0,"upload",C.upload),Ct(C.isUploading.value,"clear",C.abort)])])]}function Pt(){return s.list!==void 0?s.list(Lt):C.files.value.map(at=>Be("div",{key:at.__key,class:"q-uploader__file relative-position"+(i.noThumbnails!==!0&&at.__img!==void 0?" q-uploader__file--img":"")+(at.__status==="failed"?" q-uploader__file--failed":at.__status==="uploaded"?" q-uploader__file--uploaded":""),style:i.noThumbnails!==!0&&at.__img!==void 0?{backgroundImage:'url("'+at.__img.src+'")',backgroundSize:i.thumbnailFit}:null},[Be("div",{class:"q-uploader__file-header row flex-center no-wrap"},[at.__status==="failed"?Be(Xr,{class:"q-uploader__file-status",name:h.iconSet.type.negative,color:"negative"}):null,Be("div",{class:"q-uploader__file-header-content col"},[Be("div",{class:"q-uploader__title"},[at.name]),Be("div",{class:"q-uploader__subtitle row items-center no-wrap"},[at.__sizeLabel+" / "+at.__progressLabel])]),at.__status==="uploading"?Be(Fhe,{value:at.__progress,min:0,max:1,indeterminate:at.__progress===0}):Be(nu,{round:!0,dense:!0,flat:!0,icon:h.iconSet.uploader[at.__status==="uploaded"?"done":"clear"],onClick:()=>{Je(at)}})])]))}or(()=>{C.isUploading.value===!0&&C.abort(),C.files.value.length!==0&&tt()});const Lt={};for(const at in C)If(C[at])===!0?Wa(Lt,at,()=>C[at].value):Lt[at]=C[at];return Object.assign(Lt,{upload:mt,reset:Te,removeUploadedFiles:Le,removeQueuedFiles:Pe,removeFile:Je,pickFiles:M,addFiles:T}),Bre(Lt,{canAddFiles:()=>Fe.value,canUpload:()=>oe.value,uploadSizeLabel:()=>be.value,uploadProgressLabel:()=>he.value}),e({...C,upload:mt,reset:Te,removeUploadedFiles:Le,removeQueuedFiles:Pe,removeFile:Je,pickFiles:M,addFiles:T,canAddFiles:Fe,canUpload:oe,uploadSizeLabel:be,uploadProgressLabel:he}),()=>{const at=[Be("div",{class:fe.value},Ze()),Be("div",{class:"q-uploader__list scroll"},Pt()),Y("uploader")];C.isBusy.value===!0&&at.push(Be("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[Be(Ga)]));const Et={ref:S,class:Se.value};return Fe.value===!0&&Object.assign(Et,{onDragover:D,onDragleave:R}),Be("div",Et,at)}}const Rhe=()=>!0;function Bhe(t){const e={};return t.forEach(n=>{e[n]=Rhe}),e}const Ohe=Bhe(PO),Lhe=({name:t,props:e,emits:n,injectPlugin:i})=>Zt({name:t,props:{...The,...e},emits:Wr(n)===!0?{...Ohe,...n}:[...PO,...n],setup(s,{expose:l}){return Phe(i,l)}});function Ba(t){return typeof t=="function"?t:()=>t}const zhe="QUploader",Nhe={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>t=>t.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},jhe=["factoryFailed","uploaded","failed","uploading"];function qhe({props:t,emit:e,helpers:n}){const i=pt([]),s=pt([]),l=pt(0),f=xe(()=>({url:Ba(t.url),method:Ba(t.method),headers:Ba(t.headers),formFields:Ba(t.formFields),fieldName:Ba(t.fieldName),withCredentials:Ba(t.withCredentials),sendRaw:Ba(t.sendRaw),batch:Ba(t.batch)})),h=xe(()=>l.value>0),p=xe(()=>s.value.length!==0);let m;function g(){i.value.forEach(C=>{C.abort()}),s.value.length!==0&&(m=!0)}function b(){const C=n.queuedFiles.value.slice(0);n.queuedFiles.value=[],f.value.batch(C)?S(C):C.forEach(M=>{S([M])})}function S(C){if(l.value++,typeof t.factory!="function"){w(C,{});return}const M=t.factory(C);if(!M)e("factoryFailed",new Error("QUploader: factory() does not return properly"),C),l.value--;else if(typeof M.catch=="function"&&typeof M.then=="function"){s.value.push(M);const T=D=>{n.isAlive()===!0&&(s.value=s.value.filter(R=>R!==M),s.value.length===0&&(m=!1),n.queuedFiles.value=n.queuedFiles.value.concat(C),C.forEach(R=>{n.updateFileStatus(R,"failed")}),e("factoryFailed",D,C),l.value--)};M.then(D=>{m===!0?T(new Error("Aborted")):n.isAlive()===!0&&(s.value=s.value.filter(R=>R!==M),w(C,D))}).catch(T)}else w(C,M||{})}function w(C,M){const T=new FormData,D=new XMLHttpRequest,R=(oe,Se)=>M[oe]!==void 0?Ba(M[oe])(Se):f.value[oe](Se),q=R("url",C);if(!q){l.value--;return}const Y=R("formFields",C);Y!==void 0&&Y.forEach(oe=>{T.append(oe.name,oe.value)});let K=0,ce=0,te=0,ee=0,he;D.upload.addEventListener("progress",oe=>{if(he===!0)return;const Se=Math.min(ee,oe.loaded);n.uploadedSize.value+=Se-te,te=Se;let fe=te-ce;for(let Te=K;fe>0&&Te<C.length;Te++){const Le=C[Te];if(fe>Le.size)fe-=Le.size,K++,ce+=Le.size,n.updateFileStatus(Le,"uploading",Le.size);else{n.updateFileStatus(Le,"uploading",fe);return}}},!1),D.onreadystatechange=()=>{D.readyState<4||(D.status&&D.status<400?(n.uploadedFiles.value=n.uploadedFiles.value.concat(C),C.forEach(oe=>{n.updateFileStatus(oe,"uploaded")}),e("uploaded",{files:C,xhr:D})):(he=!0,n.uploadedSize.value-=te,n.queuedFiles.value=n.queuedFiles.value.concat(C),C.forEach(oe=>{n.updateFileStatus(oe,"failed")}),e("failed",{files:C,xhr:D})),l.value--,i.value=i.value.filter(oe=>oe!==D))},D.open(R("method",C),q),R("withCredentials",C)===!0&&(D.withCredentials=!0);const be=R("headers",C);be!==void 0&&be.forEach(oe=>{D.setRequestHeader(oe.name,oe.value)});const Fe=R("sendRaw",C);C.forEach(oe=>{n.updateFileStatus(oe,"uploading",0),Fe!==!0&&T.append(R("fieldName",oe),oe,oe.name),oe.xhr=D,oe.__abort=()=>{D.abort()},ee+=oe.size}),e("uploading",{files:C,xhr:D}),i.value.push(D),Fe===!0?D.send(new Blob(C)):D.send(T)}return{isUploading:h,isBusy:p,abort:g,upload:b}}const $he={name:zhe,props:Nhe,emits:jhe,injectPlugin:qhe},hve=Lhe($he);/*!
 * observable-emit v1.1.1
 * LICENSE : BSD-3-Clause
 * (c) 2017-2017 https://github.com/sakitam-fdd/observable-emit
 */function Uhe(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:return e^n^i;case 2:return e&n^e&i^n&i;case 3:return e^n^i}}function $w(t,e){return t<<e|t>>>32-e}function Ghe(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var i=unescape(encodeURIComponent(t));t=new Array(i.length);for(var s=0;s<i.length;s++)t[s]=i.charCodeAt(s)}t.push(128);for(var l=t.length/4+2,f=Math.ceil(l/16),h=new Array(f),s=0;s<f;s++){h[s]=new Array(16);for(var p=0;p<16;p++)h[s][p]=t[s*64+p*4]<<24|t[s*64+p*4+1]<<16|t[s*64+p*4+2]<<8|t[s*64+p*4+3]}h[f-1][14]=(t.length-1)*8/Math.pow(2,32),h[f-1][14]=Math.floor(h[f-1][14]),h[f-1][15]=(t.length-1)*8&4294967295;for(var s=0;s<f;s++){for(var m=new Array(80),g=0;g<16;g++)m[g]=h[s][g];for(var g=16;g<80;g++)m[g]=$w(m[g-3]^m[g-8]^m[g-14]^m[g-16],1);for(var b=n[0],S=n[1],w=n[2],C=n[3],M=n[4],g=0;g<80;g++){var T=Math.floor(g/20),D=$w(b,5)+Uhe(T,S,w,C)+M+e[T]+m[g]>>>0;M=C,C=w,w=$w(S,30)>>>0,S=b,b=D}n[0]=n[0]+b>>>0,n[1]=n[1]+S>>>0,n[2]=n[2]+w>>>0,n[3]=n[3]+C>>>0,n[4]=n[4]+M>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Hhe=Ghe,RO=[];for(var _1=0;_1<256;++_1)RO[_1]=(_1+256).toString(16).substr(1);function Vhe(t,e){var n=e||0,i=RO;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}var Whe=Vhe;function Yhe(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,function(n){e.push(parseInt(n,16))}),e}function Xhe(t){t=unescape(encodeURIComponent(t));for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function e6(t,e,n,i){if(typeof t=="string"&&(t=Xhe(t)),typeof e=="string"&&(e=Yhe(e)),!Array.isArray(t))throw TypeError("name must be an array of bytes");if(!Array.isArray(e)||e.length!=16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var s=Hhe(e.concat(t));return s[6]=s[6]&15|80,s[8]=s[8]&63|128,n||Whe(s)}e6.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e6.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";var BO=e6,OO=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},Khe=function(t){for(var e=arguments,n=1;n<arguments.length;n++){var i=e[n];for(var s in i)t[s]=i[s]}return t},Ei=function(){};Ei.prototype.on=function(e,n,i){var s=this;if(!e||!n)return this;if(typeof e=="object")for(var l in e)s._on(l,e[l],n);else for(var f=OO(e).split(/\s+/),h=0,p=f.length;h<p;h++)s._on(f[h],n,i);return this};Ei.prototype.un=function(e,n,i){var s=this;if(!e)delete this._events;else if(typeof e=="object")for(var l in e)s._un(l,e[l],n);else for(var f=OO(e).split(/\s+/),h=0,p=f.length;h<p;h++)s._un(f[h],n,i);return this};Ei.prototype.addEventListener=function(){return this.on.apply(this,arguments)};Ei.prototype.removeEventListener=function(){return this.un.apply(this,arguments)};Ei.prototype.once=function(e,n,i){var s=this;if(!e||!n)return this;if(typeof e=="object"){for(var l in e)s.once(l,e[l],n);return this}var f=function(){s.un(e,n,i).un(e,f,i)};return this.on(e,n,i).on(e,f,i)};Ei.prototype._on=function(e,n,i){var s=this;this._events=this._events||{};var l=this._events[e];l||(l=[],this._events[e]=l),i===this&&(i=void 0);for(var f={handler:n,context:i},h=l,p=0,m=h.length;p<m;p++)if(h[p].handler===n&&h[p].context===i)return s;h.push(f)};Ei.prototype._un=function(e,n,i){var s=this,l=[],f=l[0],h=l[1],p=l[2];if(this._events&&(f=this._events[e],!!f)){if(!n){for(h=0,p=f.length;h<p;h++)f[h].callback=function(){return!1};delete this._events[e];return}if(i===this&&(i=void 0),f)for(h=0,p=f.length;h<p;h++){var m=f[h];if(m.context===i&&m.handler===n){m.handler=function(){return!1},s._firingCount&&(s._events[e]=f=f.slice()),f.splice(h,1);return}}}};Ei.prototype.dispatch=function(){return this._action.apply(this,arguments)};Ei.prototype.dispatchSync=function(){var e=arguments,n=this;return setTimeout(function(){n._action.apply(n,e)}),this};Ei.prototype._action=function(e,n,i){var s=this;if(!this.listens(e,i))return this;var l={type:e,target:this};if(this._events){var f=this._events[e];if(f){this._firingCount=this._firingCount+1||1;for(var h=0,p=f.length;h<p;h++){var m=f[h];m.handler.call(m.context||s,l,n)}this._firingCount--}}return i&&this._propagateEvent(l),this};Ei.prototype.listens=function(e,n){var i=this,s=this._events&&this._events[e];if(s&&s.length)return!0;if(n){for(var l in i._eventParents)if(i._eventParents[l].listens(e,n))return!0}return!1};Ei.prototype.addEventParent=function(e){return this._eventParents=this._eventParents||{},this._eventParents[BO(e,"8dc079dd-0313-4563-864f-008eb45bf87f")]=e,this};Ei.prototype.removeEventParent=function(e){return this._eventParents&&delete this._eventParents[BO(e,"8dc079dd-0313-4563-864f-008eb45bf87f")],this};Ei.prototype._propagateEvent=function(e){var n=this;for(var i in n._eventParents)n._eventParents[i].dispatch(e.type,Khe({layer:e.target,propagatedFrom:e.target},e),!0)};const Gx="TextArea",t6="Arc",n6="Curve",r6="GatheringPlace",i6="Polyline",o6="FreeHandLine",wv="Point",xv="Pennant",a6="RectAngle",s6="Circle",u6="Ellipse",l6="Lune",c6="Sector",f6="ClosedCurve",h6="Polygon",d6="FreePolygon",p6="AttackArrow",g6="DoubleArrow",v6="StraightArrow",m6="FineArrow",y6="AssaultDirection",_6="TailedAttackArrow",b6="SquadCombat",w6="TailedSquadCombat",x6="RectFlag",S6="TriangleFlag",C6="CurveFlag";var _7=Object.freeze({__proto__:null,TEXTAREA:Gx,ARC:t6,CURVE:n6,GATHERING_PLACE:r6,POLYLINE:i6,FREEHANDLINE:o6,POINT:wv,PENNANT:xv,RECTANGLE:a6,CIRCLE:s6,ELLIPSE:u6,LUNE:l6,SECTOR:c6,CLOSED_CURVE:f6,POLYGON:h6,FREE_POLYGON:d6,ATTACK_ARROW:p6,DOUBLE_ARROW:g6,STRAIGHT_ARROW:v6,FINE_ARROW:m6,ASSAULT_DIRECTION:y6,TAILED_SQUAD_COMBAT:w6,TAILED_ATTACK_ARROW:_6,SQUAD_COMBAT:b6,RECTFLAG:x6,TRIANGLEFLAG:S6,CURVEFLAG:C6});class Xa{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}var E6="propertychange";class Zhe{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function ml(t,e){return t>e?1:t<e?-1:0}function Jhe(t,e){return t<e?1:t>e?-1:0}function b7(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if(typeof n=="function"){for(let s=1;s<i;++s){const l=t[s];if(l===e)return s;if(l<e)return n(e,t[s-1],l)>0?s-1:s}return i-1}if(n>0){for(let s=1;s<i;++s)if(t[s]<e)return s-1;return i-1}if(n<0){for(let s=1;s<i;++s)if(t[s]<=e)return s;return i-1}for(let s=1;s<i;++s){if(t[s]==e)return s;if(t[s]<e)return t[s-1]-e<e-t[s]?s-1:s}return i-1}function Qhe(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function ma(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let s=0;s<i;s++)t[t.length]=n[s]}function Zf(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function n0(){return!0}function A6(){return!1}function r0(){}function LO(t){let e,n,i;return function(){const s=Array.prototype.slice.call(arguments);return n&&this===i&&Zf(s,n)||(i=this,n=s,e=t.apply(this,arguments)),e}}function hm(t){for(const e in t)delete t[e]}function xl(t){let e;for(e in t)return!1;return!e}class zO extends Zhe{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const i=this.listeners_||(this.listeners_={}),s=i[e]||(i[e]=[]);s.includes(n)||s.push(n)}dispatchEvent(e){const n=typeof e=="string",i=n?e:e.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const l=n?new Xa(e):e;l.target||(l.target=this.eventTarget_||this);const f=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});let p;i in f||(f[i]=0,h[i]=0),++f[i];for(let m=0,g=s.length;m<g;++m)if(p="handleEvent"in s[m]?s[m].handleEvent(l):s[m].call(this,l),p===!1||l.propagationStopped){p=!1;break}if(--f[i]==0){let m=h[i];for(delete h[i];m--;)this.removeEventListener(i,r0);delete f[i]}return p}disposeInternal(){this.listeners_&&hm(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,n){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const s=i.indexOf(n);s!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[s]=r0,++this.pendingRemovals_[e]):(i.splice(s,1),i.length===0&&delete this.listeners_[e]))}}var to="change",ede="contextmenu",tde="dblclick";function si(t,e,n,i,s){if(s){const f=n;n=function(){t.removeEventListener(e,n),f.apply(i??this,arguments)}}else i&&i!==t&&(n=n.bind(i));const l={target:t,type:e,listener:n};return t.addEventListener(e,n),l}function w7(t,e,n,i){return si(t,e,n,i,!0)}function bo(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),hm(t))}class Td extends zO{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(to)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const i=e.length,s=new Array(i);for(let l=0;l<i;++l)s[l]=si(this,e[l],n);return s}return si(this,e,n)}onceInternal(e,n){let i;if(Array.isArray(e)){const s=e.length;i=new Array(s);for(let l=0;l<s;++l)i[l]=w7(this,e[l],n)}else i=w7(this,e,n);return n.ol_key=i,i}unInternal(e,n){const i=n.ol_key;if(i)(function(s){if(Array.isArray(s))for(let l=0,f=s.length;l<f;++l)bo(s[l]);else bo(s)})(i);else if(Array.isArray(e))for(let s=0,l=e.length;s<l;++s)this.removeEventListener(e[s],n);else this.removeEventListener(e,n)}}function an(){throw new Error("Unimplemented abstract method.")}Td.prototype.on,Td.prototype.once,Td.prototype.un;let nde=0;function Sr(t){return t.ol_uid||(t.ol_uid=String(++nde))}class x7 extends Xa{constructor(e,n,i){super(e),this.key=n,this.oldValue=i}}let hu=class extends Td{constructor(e){super(),this.on,this.once,this.un,Sr(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new x7(i,e,n)),i=E6,this.hasListener(i)&&this.dispatchEvent(new x7(i,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,i){const s=this.values_||(this.values_={});if(i)s[e]=n;else{const l=s[e];s[e]=n,l!==n&&this.notify(e,l)}}setProperties(e,n){for(const i in e)this.set(i,e[i],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],xl(this.values_)&&(this.values_=null),n||this.notify(e,i)}}};function Dr(t,e){if(!t)throw new Error(e)}function Yi(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function Sl(t,e,n,i,s,l,f,h){const p=Math.sin(l),m=Math.cos(l);return t[0]=i*m,t[1]=s*p,t[2]=-i*p,t[3]=s*m,t[4]=f*i*m-h*i*p+e,t[5]=f*s*p+h*s*m+n,t}new Array(6);const S7=[1e6,1e6,1e6,1e6,2,2];var C7=0,Sv=1,Hx=2,Vx=4,Wx=8,Yx=16;function k6(t){const e=rde();for(let n=0,i=t.length;n<i;++n)qO(e,t[n]);return e}function dm(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function Ml(t,e,n){let i,s;return i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,s=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,i*i+s*s}function Xx(t,e){return F6(t,e[0],e[1])}function gf(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function F6(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Kx(t,e){const n=t[0],i=t[1],s=t[2],l=t[3],f=e[0],h=e[1];let p=C7;return f<n?p|=Yx:f>s&&(p|=Vx),h<i?p|=Wx:h>l&&(p|=Hx),p===C7&&(p=Sv),p}function rde(){return[1/0,1/0,-1/0,-1/0]}function Cl(t,e,n,i,s){return s?(s[0]=t,s[1]=e,s[2]=n,s[3]=i,s):[t,e,n,i]}function pm(t){return Cl(1/0,1/0,-1/0,-1/0,t)}function NO(t,e){const n=t[0],i=t[1];return Cl(n,i,n,i,e)}function I6(t,e,n,i,s){return $O(pm(s),t,e,n,i)}function jO(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function qO(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function $O(t,e,n,i,s){for(;n<i;n+=s)ide(t,e[n],e[n+1]);return t}function ide(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function UO(t,e){let n;return n=e(i0(t)),n||(n=e(M6(t)),n||(n=e(gm(t)),n||(n=e(D6(t)),n||!1)))}function i0(t){return[t[0],t[1]]}function M6(t){return[t[2],t[1]]}function El(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function ode(t,e,n,i,s){const[l,f,h,p,m,g,b,S]=function(w,C,M,T){const D=C*T[0]/2,R=C*T[1]/2,q=Math.cos(M),Y=Math.sin(M),K=D*q,ce=D*Y,te=R*q,ee=R*Y,he=w[0],be=w[1];return[he-K+ee,be-ce-te,he-K-ee,be-ce+te,he+K-ee,be+ce+te,he+K+ee,be+ce-te,he-K+ee,be-ce-te]}(t,e,n,i);return Cl(Math.min(l,h,m,b),Math.min(f,p,g,S),Math.max(l,h,m,b),Math.max(f,p,g,S),s)}function Ha(t){return t[3]-t[1]}function ade(t,e,n){const i=n||[1/0,1/0,-1/0,-1/0];return Ji(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):pm(i),i}function D6(t){return[t[0],t[3]]}function gm(t){return[t[2],t[3]]}function Oi(t){return t[2]-t[0]}function Ji(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function GO(t){return t[2]<t[0]||t[3]<t[1]}function HO(t,e){const n=e.getExtent(),i=El(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const s=Oi(n),l=Math.floor((i[0]-n[0])/s)*s;t[0]-=l,t[2]-=l}return t}const VO={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class T6{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||VO[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const I0=6378137,vf=Math.PI*I0,sde=[-vf,-vf,vf,vf],ude=[-180,-85,180,85],b1=I0*Math.log(Math.tan(Math.PI/2));class nf extends T6{constructor(e){super({code:e,units:"m",extent:sde,global:!0,worldExtent:ude,getPointResolution:function(n,i){return n/Math.cosh(i[1]/I0)}})}}const E7=[new nf("EPSG:3857"),new nf("EPSG:102100"),new nf("EPSG:102113"),new nf("EPSG:900913"),new nf("http://www.opengis.net/def/crs/EPSG/0/3857"),new nf("http://www.opengis.net/gml/srs/epsg.xml#3857")];function lde(t,e,n,i){const s=t.length;n=n>1?n:2,i=i??n,e===void 0&&(e=n>2?t.slice():new Array(s));for(let l=0;l<s;l+=i){e[l]=vf*t[l]/180;let f=I0*Math.log(Math.tan(Math.PI*(+t[l+1]+90)/360));f>b1?f=b1:f<-b1&&(f=-b1),e[l+1]=f}return e}function cde(t,e,n,i){const s=t.length;n=n>1?n:2,i=i??n,e===void 0&&(e=n>2?t.slice():new Array(s));for(let l=0;l<s;l+=i)e[l]=180*t[l]/vf,e[l+1]=360*Math.atan(Math.exp(t[l+1]/I0))/Math.PI-90;return e}const A7=[-180,-90,180,90],fde=6378137*Math.PI/180;class Wu extends T6{constructor(e,n){super({code:e,units:"degrees",extent:A7,axisOrientation:n,global:!0,metersPerUnit:fde,worldExtent:A7})}}const k7=[new Wu("CRS:84"),new Wu("EPSG:4326","neu"),new Wu("urn:ogc:def:crs:OGC:1.3:CRS84"),new Wu("urn:ogc:def:crs:OGC:2:84"),new Wu("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Wu("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Wu("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Zx={},Ef={};function o0(t,e,n){const i=t.getCode(),s=e.getCode();i in Ef||(Ef[i]={}),Ef[i][s]=n}function Uw(t,e){return t in Ef&&e in Ef[t]?Ef[t][e]:null}function Yr(t,e,n){return Math.min(Math.max(t,e),n)}function hde(t,e,n,i,s,l){const f=s-n,h=l-i;if(f!==0||h!==0){const p=((t-n)*f+(e-i)*h)/(f*f+h*h);p>1?(n=s,i=l):p>0&&(n+=f*p,i+=h*p)}return ja(t,e,n,i)}function ja(t,e,n,i){const s=n-t,l=i-e;return s*s+l*l}function F7(t){return 180*t/Math.PI}function Pd(t){return t*Math.PI/180}function I7(t,e){const n=t%e;return n*e<0?n+e:n}function Ki(t,e,n){return t+n*(e-t)}function WO(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Jx(t,e,n){if(t>=e&&t<n)return t;const i=n-e;return((t-e)%i+i)%i+e}function Cv(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function YO(t,e){const n=Math.cos(e),i=Math.sin(e),s=t[0]*n-t[1]*i,l=t[1]*n+t[0]*i;return t[0]=s,t[1]=l,t}function XO(t,e){const n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function M7(t,e){return Math.sqrt(XO(t,e))}function dde(t,e){if(e.canWrapX()){const n=Oi(e.getExtent()),i=function(s,l,f){const h=l.getExtent();let p=0;return l.canWrapX()&&(s[0]<h[0]||s[0]>h[2])&&(f=f||Oi(h),p=Math.floor((s[0]-h[0])/f)),p}(t,e,n);i&&(t[0]-=i*n)}return t}const Ev=.9996,ya=.00669438,KO=ya*ya,ZO=KO*ya,sl=ya/(1-ya),D7=Math.sqrt(1-ya),Rf=(1-D7)/(1+D7),JO=Rf*Rf,P6=JO*Rf,R6=P6*Rf,QO=R6*Rf,eL=.9983242984503243,pde=15*KO/256+45*ZO/1024,gde=35*ZO/3072,vde=1.5*Rf-27/32*P6+269/512*QO,mde=21/16*JO-55/32*R6,yde=151/96*P6-417/128*QO,_de=1097/512*R6,Av=6378137;function bde(t,e,n){const i=t-5e5,s=(n.north?e:e-1e7)/Ev/(Av*eL),l=s+vde*Math.sin(2*s)+mde*Math.sin(4*s)+yde*Math.sin(6*s)+_de*Math.sin(8*s),f=Math.sin(l),h=f*f,p=Math.cos(l),m=f/p,g=m*m,b=g*g,S=1-ya*h,w=Math.sqrt(1-ya*h),C=sl*p**2,M=C*C,T=i/(Av/w*Ev),D=T*T,R=D*T,q=R*T,Y=q*T,K=l-m/((1-ya)/S)*(D/2-q/24*(5+3*g+10*C-4*M-9*sl))+Y*T/720*(61+90*g+298*C+45*b-252*sl-3*M);let ce=(T-R/6*(1+2*g+C)+Y/120*(5-2*C+28*g-3*M+8*sl+24*b))/p;return ce=Jx(ce+Pd(tL(n.number)),-Math.PI,Math.PI),[F7(ce),F7(K)]}function wde(t,e,n){t=Jx(t,-180,180),e<-80?e=-80:e>84&&(e=84);const i=Pd(e),s=Math.sin(i),l=Math.cos(i),f=s/l,h=f*f,p=h*h,m=Pd(t),g=Pd(tL(n.number)),b=Av/Math.sqrt(1-ya*s**2),S=sl*l**2,w=l*Jx(m-g,-Math.PI,Math.PI),C=w*w,M=C*w,T=M*w,D=T*w,R=D*w,q=Av*(eL*i-.002514607064228144*Math.sin(2*i)+pde*Math.sin(4*i)-gde*Math.sin(6*i)),Y=Ev*b*(w+M/6*(1-h+S)+D/120*(5-18*h+p+72*S-58*sl))+5e5;let K=Ev*(q+b*f*(C/2+T/24*(5-h+9*S+4*S**2)+R/720*(61-58*h+p+600*S-330*sl)));return n.north||(K+=1e7),[Y,K]}function tL(t){return 6*(t-1)-180+3}const xde=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function nL(t){let e=0;for(const s of xde){const l=t.match(s);if(l){e=parseInt(l[1]);break}}if(!e)return null;let n=0,i=!1;return e>32700&&e<32761?n=e-32700:e>32600&&e<32661&&(i=!0,n=e-32600),n?{number:n,north:i}:null}function T7(t,e){return function(n,i,s,l){const f=n.length;s=s>1?s:2,l=l??s,i||(i=s>2?n.slice():new Array(f));for(let h=0;h<f;h+=l){const p=n[h],m=n[h+1],g=t(p,m,e);i[h]=g[0],i[h+1]=g[1]}return i}}const Sde=[function(t){const e=nL(t.getCode());return e?{forward:T7(wde,e),inverse:T7(bde,e)}:null}],Cde=[function(t){return nL(t)?new T6({code:t,units:"m"}):null}];let Qx=!0;function B6(t,e){if(e!==void 0)for(let n=0,i=t.length;n<i;++n)e[n]=t[n];else e=t.slice();return e}function e3(t){(function(e,n){Zx[e]=n})(t.getCode(),t),o0(t,t,B6)}function Si(t){if(typeof t!="string")return t;const e=Zx[n=t]||Zx[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null;var n;if(e)return e;for(const i of Cde){const s=i(t);if(s)return s}return null}function P7(t){(function(e){e.forEach(e3)})(t),t.forEach(function(e){t.forEach(function(n){e!==n&&o0(e,n,B6)})})}function Gw(t,e){return t?typeof t=="string"?Si(t):t:Si(e)}function rL(t,e){const n=t.getCode(),i=e.getCode();let s=Uw(n,i);if(s)return s;let l=null,f=null;for(const p of Sde)l||(l=p(t)),f||(f=p(e));if(!l&&!f)return null;const h="EPSG:4326";if(f)if(l)s=Hw(l.inverse,f.forward);else{const p=Uw(n,h);p&&(s=Hw(p,f.forward))}else{const p=Uw(h,i);p&&(s=Hw(l.inverse,p))}return s&&(e3(t),e3(e),o0(t,e,s)),s}function Hw(t,e){return function(n,i,s,l){return i=t(n,i,s,l),e(i,i,s,l)}}function t3(t,e){return rL(Si(t),Si(e))}function R7(t,e){return t}function Xi(t,e){return Qx&&!Cv(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(Qx=!1),t}function iL(t,e){return t}function bd(t,e){return t}var B7,O7,L7;function Js(t,e,n,i,s,l,f){l=l||[],f=f||2;let h=0;for(let p=e;p<n;p+=i){const m=t[p],g=t[p+1];l[h++]=s[0]*m+s[2]*g+s[4],l[h++]=s[1]*m+s[3]*g+s[5];for(let b=2;b<f;b++)l[h++]=t[p+b]}return l&&l.length!=h&&(l.length=h),l}function O6(t,e,n,i,s,l,f){f=f||[];const h=Math.cos(s),p=Math.sin(s),m=l[0],g=l[1];let b=0;for(let S=e;S<n;S+=i){const w=t[S]-m,C=t[S+1]-g;f[b++]=m+w*h-C*p,f[b++]=g+w*p+C*h;for(let M=S+2;M<S+i;++M)f[b++]=t[M]}return f&&f.length!=b&&(f.length=b),f}P7(E7),P7(k7),B7=E7,O7=lde,L7=cde,k7.forEach(function(t){B7.forEach(function(e){o0(t,e,O7),o0(e,t,L7)})});const z7=[1,0,0,1,0,0];class L6 extends hu{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=LO((e,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return an()}closestPointXY(e,n,i,s){return an()}containsXY(e,n){const i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return an()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&pm(n),this.extentRevision_=this.getRevision()}return function(n,i){return i?(i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i):n}(this.extent_,e)}rotate(e,n){an()}scale(e,n,i){an()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return an()}getType(){return an()}applyTransform(e){an()}intersectsExtent(e){return an()}translate(e,n){an()}transform(e,n){const i=Si(e),s=i.getUnits()=="tile-pixels"?function(l,f,h){const p=i.getExtent(),m=i.getWorldExtent(),g=Ha(m)/Ha(p);Sl(z7,m[0],m[3],g,-g,0,0,0);const b=Js(l,0,l.length,h,z7,f),S=t3(i,n);return S?S(b,b,h):b}:t3(i,n);return this.applyTransform(s),this}}let du=class extends L6{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return I6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return an()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=kv(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){an()}setLayout(e,n,i){let s;if(e)s=kv(e);else{for(let l=0;l<i;++l){if(n.length===0)return this.layout="XY",void(this.stride=2);n=n[0]}s=n.length,e=Ku(s)}this.layout=e,this.stride=s}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();O6(i,0,i.length,s,e,n,i),this.changed()}}scale(e,n,i){n===void 0&&(n=e),i||(i=El(this.getExtent()));const s=this.getFlatCoordinates();if(s){const l=this.getStride();(function(f,h,p,m,g,b,S,w){w=w||[];const C=S[0],M=S[1];let T=0;for(let D=h;D<p;D+=m){const R=f[D]-C,q=f[D+1]-M;w[T++]=C+g*R,w[T++]=M+b*q;for(let Y=D+2;Y<D+m;++Y)w[T++]=f[Y]}w&&w.length!=T&&(w.length=T)})(s,0,s.length,l,e,n,i,s),this.changed()}}translate(e,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();(function(l,f,h,p,m,g,b){b=b||[];let S=0;for(let w=f;w<h;w+=p){b[S++]=l[w]+m,b[S++]=l[w+1]+g;for(let C=w+2;C<w+p;++C)b[S++]=l[C]}b&&b.length!=S&&(b.length=S)})(i,0,i.length,s,e,n,i),this.changed()}}};function Ku(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function kv(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function oL(t,e,n,i){for(let s=0,l=n.length;s<l;++s)t[e++]=n[s];return e}function vm(t,e,n,i){for(let s=0,l=n.length;s<l;++s){const f=n[s];for(let h=0;h<i;++h)t[e++]=f[h]}return e}function a0(t,e,n,i,s){s=s||[];let l=0;for(let f=0,h=n.length;f<h;++f){const p=vm(t,e,n[f],i);s[l++]=p,e=p}return s.length=l,s}function aL(t,e,n,i,s){s=s||[];let l=0;for(let f=0,h=n.length;f<h;++f){const p=a0(t,e,n[f],i,s[l]);p.length===0&&(p[0]=e),s[l++]=p,e=p[p.length-1]}return s.length=l,s}class mm extends du{constructor(e,n,i){super(),i!==void 0&&n===void 0?this.setFlatCoordinates(i,e):(n=n||0,this.setCenterAndRadius(e,n,i))}clone(){const e=new mm(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,s){const l=this.flatCoordinates,f=e-l[0],h=n-l[1],p=f*f+h*h;if(p<s){if(p===0)for(let m=0;m<this.stride;++m)i[m]=l[m];else{const m=this.getRadius()/Math.sqrt(p);i[0]=l[0]+m*f,i[1]=l[1]+m*h;for(let g=2;g<this.stride;++g)i[g]=l[g]}return i.length=this.stride,p}return s}containsXY(e,n){const i=this.flatCoordinates,s=e-i[0],l=n-i[1];return s*s+l*l<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const n=this.flatCoordinates,i=n[this.stride]-n[0];return Cl(n[0]-i,n[1]-i,n[0]+i,n[1]+i,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],n=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+n*n}getType(){return"Circle"}intersectsExtent(e){if(Ji(e,this.getExtent())){const n=this.getCenter();return e[0]<=n[0]&&e[2]>=n[0]||e[1]<=n[1]&&e[3]>=n[1]||UO(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const n=this.stride,i=this.flatCoordinates[n]-this.flatCoordinates[0],s=e.slice();s[n]=s[0]+i;for(let l=1;l<n;++l)s[n+l]=e[l];this.setFlatCoordinates(this.layout,s),this.changed()}setCenterAndRadius(e,n,i){this.setLayout(i,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const s=this.flatCoordinates;let l=oL(s,0,e,this.stride);s[l++]=s[0]+n;for(let f=1,h=this.stride;f<h;++f)s[l++]=s[f];s.length=l,this.changed()}getCoordinates(){return null}setCoordinates(e,n){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,n){const i=this.getCenter(),s=this.getStride();this.setCenter(O6(i,0,i.length,s,e,n,i)),this.changed()}}mm.prototype.transform;class s0 extends L6{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(bo),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)this.changeEventsKeys_.push(si(e[n],to,this.changed,this))}clone(){const e=new s0(Vw(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,n,i,s){if(s<Ml(this.getExtent(),e,n))return s;const l=this.geometries_;for(let f=0,h=l.length;f<h;++f)s=l[f].closestPointXY(e,n,i,s);return s}containsXY(e,n){const i=this.geometries_;for(let s=0,l=i.length;s<l;++s)if(i[s].containsXY(e,n))return!0;return!1}computeExtent(e){pm(e);const n=this.geometries_;for(let l=0,f=n.length;l<f;++l)i=e,(s=n[l].getExtent())[0]<i[0]&&(i[0]=s[0]),s[2]>i[2]&&(i[2]=s[2]),s[1]<i[1]&&(i[1]=s[1]),s[3]>i[3]&&(i[3]=s[3]);var i,s;return e}getGeometries(){return Vw(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)n[i].getType()===this.getType()?e=e.concat(n[i].getGeometriesArrayRecursive()):e.push(n[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],i=this.geometries_;let s=!1;for(let l=0,f=i.length;l<f;++l){const h=i[l],p=h.getSimplifiedGeometry(e);n.push(p),p!==h&&(s=!0)}return s?new s0(n):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)if(n[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){const i=this.geometries_;for(let s=0,l=i.length;s<l;++s)i[s].rotate(e,n);this.changed()}scale(e,n,i){i||(i=El(this.getExtent()));const s=this.geometries_;for(let l=0,f=s.length;l<f;++l)s[l].scale(e,n,i);this.changed()}setGeometries(e){this.setGeometriesArray(Vw(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)n[i].applyTransform(e);this.changed()}translate(e,n){const i=this.geometries_;for(let s=0,l=i.length;s<l;++s)i[s].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function Vw(t){return t.map(e=>e.clone())}function N7(t,e,n,i,s,l,f){const h=t[e],p=t[e+1],m=t[n]-h,g=t[n+1]-p;let b;if(m===0&&g===0)b=e;else{const S=((s-h)*m+(l-p)*g)/(m*m+g*g);if(S>1)b=n;else{if(S>0){for(let w=0;w<i;++w)f[w]=Ki(t[e+w],t[n+w],S);return void(f.length=i)}b=e}}for(let S=0;S<i;++S)f[S]=t[b+S];f.length=i}function z6(t,e,n,i,s){let l=t[e],f=t[e+1];for(e+=i;e<n;e+=i){const h=t[e],p=t[e+1],m=ja(l,f,h,p);m>s&&(s=m),l=h,f=p}return s}function N6(t,e,n,i,s){for(let l=0,f=n.length;l<f;++l){const h=n[l];s=z6(t,e,h,i,s),e=h}return s}function j6(t,e,n,i,s,l,f,h,p,m,g){if(e==n)return m;let b,S;if(s===0){if(S=ja(f,h,t[e],t[e+1]),S<m){for(b=0;b<i;++b)p[b]=t[e+b];return p.length=i,S}return m}g=g||[NaN,NaN];let w=e+i;for(;w<n;)if(N7(t,w-i,w,i,f,h,g),S=ja(f,h,g[0],g[1]),S<m){for(m=S,b=0;b<i;++b)p[b]=g[b];p.length=i,w+=i}else w+=i*Math.max((Math.sqrt(S)-Math.sqrt(m))/s|0,1);if(l&&(N7(t,n-i,e,i,f,h,g),S=ja(f,h,g[0],g[1]),S<m)){for(m=S,b=0;b<i;++b)p[b]=g[b];p.length=i}return m}function q6(t,e,n,i,s,l,f,h,p,m,g){g=g||[NaN,NaN];for(let b=0,S=n.length;b<S;++b){const w=n[b];m=j6(t,e,w,i,s,l,f,h,p,m,g),e=w}return m}function ym(t,e,n,i,s,l,f){const h=(n-e)/i;if(h<3){for(;e<n;e+=i)l[f++]=t[e],l[f++]=t[e+1];return f}const p=new Array(h);p[0]=1,p[h-1]=1;const m=[e,n-i];let g=0;for(;m.length>0;){const b=m.pop(),S=m.pop();let w=0;const C=t[S],M=t[S+1],T=t[b],D=t[b+1];for(let R=S+i;R<b;R+=i){const q=hde(t[R],t[R+1],C,M,T,D);q>w&&(g=R,w=q)}w>s&&(p[(g-e)/i]=1,S+i<g&&m.push(S,g),g+i<b&&m.push(g,b))}for(let b=0;b<h;++b)p[b]&&(l[f++]=t[e+b*i],l[f++]=t[e+b*i+1]);return f}function sL(t,e,n,i,s,l,f,h){for(let p=0,m=n.length;p<m;++p){const g=n[p];f=ym(t,e,g,i,s,l,f),h.push(f),e=g}return f}function Zu(t,e){return e*Math.round(t/e)}function Ede(t,e,n,i,s,l,f){if(e==n)return f;let h,p,m=Zu(t[e],s),g=Zu(t[e+1],s);e+=i,l[f++]=m,l[f++]=g;do if(h=Zu(t[e],s),p=Zu(t[e+1],s),(e+=i)==n)return l[f++]=h,l[f++]=p,f;while(h==m&&p==g);for(;e<n;){const b=Zu(t[e],s),S=Zu(t[e+1],s);if(e+=i,b==h&&S==p)continue;const w=h-m,C=p-g,M=b-m,T=S-g;w*T==C*M&&(w<0&&M<w||w==M||w>0&&M>w)&&(C<0&&T<C||C==T||C>0&&T>C)?(h=b,p=S):(l[f++]=h,l[f++]=p,m=h,g=p,h=b,p=S)}return l[f++]=h,l[f++]=p,f}function $6(t,e,n,i,s,l,f,h){for(let p=0,m=n.length;p<m;++p){const g=n[p];f=Ede(t,e,g,i,s,l,f),h.push(f),e=g}return f}function Qs(t,e,n,i,s){s=s!==void 0?s:[];let l=0;for(let f=e;f<n;f+=i)s[l++]=t.slice(f,f+i);return s.length=l,s}function u0(t,e,n,i,s){s=s!==void 0?s:[];let l=0;for(let f=0,h=n.length;f<h;++f){const p=n[f];s[l++]=Qs(t,e,p,i,s[l]),e=p}return s.length=l,s}function n3(t,e,n,i,s){s=s!==void 0?s:[];let l=0;for(let f=0,h=n.length;f<h;++f){const p=n[f];s[l++]=p.length===1&&p[0]===e?[]:u0(t,e,p,i,s[l]),e=p[p.length-1]}return s.length=l,s}function uL(t,e,n,i){let s=0;const l=t[n-i],f=t[n-i+1];let h=0,p=0;for(;e<n;e+=i){const m=t[e]-l,g=t[e+1]-f;s+=p*m-h*g,h=m,p=g}return s/2}function lL(t,e,n,i){let s=0;for(let l=0,f=n.length;l<f;++l){const h=n[l];s+=uL(t,e,h,i),e=h}return s}class l0 extends du{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n===void 0||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}clone(){return new l0(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,i,s){return s<Ml(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(z6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),j6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,s))}getArea(){return uL(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Qs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=ym(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new l0(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=vm(this.flatCoordinates,0,e,this.stride),this.changed()}}function cL(t,e,n,i,s){let l;for(e+=i;e<n;e+=i)if(l=s(t.slice(e-i,e),t.slice(e,e+i)),l)return l;return!1}function Fv(t,e,n,i,s,l,f){let h,p;const m=(n-e)/i;if(m===1)h=e;else if(m===2)h=e,p=s;else if(m!==0){let g=t[e],b=t[e+1],S=0;const w=[0];for(let T=e+i;T<n;T+=i){const D=t[T],R=t[T+1];S+=Math.sqrt((D-g)*(D-g)+(R-b)*(R-b)),w.push(S),g=D,b=R}const C=s*S,M=function(T,D,R){let q,Y;R=R||ml;let K=0,ce=T.length,te=!1;for(;K<ce;)q=K+(ce-K>>1),Y=+R(T[q],D),Y<0?K=q+1:(ce=q,te=!Y);return te?K:~K}(w,C);M<0?(p=(C-w[-M-2])/(w[-M-1]-w[-M-2]),h=e+(-M-2)*i):h=e+M*i}f=f>1?f:2,l=l||new Array(f);for(let g=0;g<f;++g)l[g]=h===void 0?NaN:p===void 0?t[h+g]:Ki(t[h+g],t[h+i+g],p);return l}function r3(t,e,n,i,s,l){if(n==e)return null;let f;if(s<t[e+i-1])return l?(f=t.slice(e,e+i),f[i-1]=s,f):null;if(t[n-1]<s)return l?(f=t.slice(n-i,n),f[i-1]=s,f):null;if(s==t[e+i-1])return t.slice(e,e+i);let h=e/i,p=n/i;for(;h<p;){const b=h+p>>1;s<t[(b+1)*i-1]?p=b:h=b+1}const m=t[h*i-1];if(s==m)return t.slice((h-1)*i,(h-1)*i+i);const g=(s-m)/(t[(h+1)*i-1]-m);f=[];for(let b=0;b<i-1;++b)f.push(Ki(t[(h-1)*i+b],t[h*i+b],g));return f.push(s),f}function Ade(t,e,n,i,s){return!UO(s,function(l){return!ul(t,e,n,i,l[0],l[1])})}function ul(t,e,n,i,s,l){let f=0,h=t[n-i],p=t[n-i+1];for(;e<n;e+=i){const m=t[e],g=t[e+1];p<=l?g>l&&(m-h)*(l-p)-(s-h)*(g-p)>0&&f++:g<=l&&(m-h)*(l-p)-(s-h)*(g-p)<0&&f--,h=m,p=g}return f!==0}function U6(t,e,n,i,s,l){if(n.length===0||!ul(t,e,n[0],i,s,l))return!1;for(let f=1,h=n.length;f<h;++f)if(ul(t,n[f-1],n[f],i,s,l))return!1;return!0}function Iv(t,e,n,i,s){const l=$O([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!Ji(s,l)&&(!!gf(s,l)||l[0]>=s[0]&&l[2]<=s[2]||l[1]>=s[1]&&l[3]<=s[3]||cL(t,e,n,i,function(f,h){return function(p,m,g){let b=!1;const S=Kx(p,m),w=Kx(p,g);if(S===Sv||w===Sv)b=!0;else{const C=p[0],M=p[1],T=p[2],D=p[3],R=m[0],q=m[1],Y=g[0],K=g[1],ce=(K-q)/(Y-R);let te,ee;w&Hx&&!(S&Hx)&&(te=Y-(K-D)/ce,b=te>=C&&te<=T),b||!(w&Vx)||S&Vx||(ee=K-(Y-T)*ce,b=ee>=M&&ee<=D),b||!(w&Wx)||S&Wx||(te=Y-(K-M)/ce,b=te>=C&&te<=T),b||!(w&Yx)||S&Yx||(ee=K-(Y-C)*ce,b=ee>=M&&ee<=D)}return b}(s,f,h)}))}function fL(t,e,n,i,s){if(!function(l,f,h,p,m){return!!(Iv(l,f,h,p,m)||ul(l,f,h,p,m[0],m[1])||ul(l,f,h,p,m[0],m[3])||ul(l,f,h,p,m[2],m[1])||ul(l,f,h,p,m[2],m[3]))}(t,e,n[0],i,s))return!1;if(n.length===1)return!0;for(let l=1,f=n.length;l<f;++l)if(Ade(t,n[l-1],n[l],i,s)&&!Iv(t,n[l-1],n[l],i,s))return!1;return!0}function hL(t,e,n,i){let s=t[e],l=t[e+1],f=0;for(let h=e+i;h<n;h+=i){const p=t[h],m=t[h+1];f+=Math.sqrt((p-s)*(p-s)+(m-l)*(m-l)),s=p,l=m}return f}class Ci extends du{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n===void 0||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}appendCoordinate(e){ma(this.flatCoordinates,e),this.changed()}clone(){const e=new Ci(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,s){return s<Ml(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(z6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),j6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,i,s))}forEachSegment(e){return cL(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0&&n,r3(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return Qs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return Fv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return hL(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=ym(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Ci(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return Iv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=vm(this.flatCoordinates,0,e,this.stride),this.changed()}}class Bf extends du{constructor(e,n,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{const s=e,l=[],f=[];for(let p=0,m=s.length;p<m;++p)ma(l,s[p].getFlatCoordinates()),f.push(l.length);const h=s.length===0?this.getLayout():s[0].getLayout();this.setFlatCoordinates(h,l),this.ends_=f}}appendLineString(e){ma(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Bf(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,s){return s<Ml(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(N6(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),q6(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,i,s))}getCoordinateAtM(e,n,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0&&n,i=i!==void 0&&i,function(s,l,f,h,p,m,g){if(g)return r3(s,l,f[f.length-1],h,p,m);let b;if(p<s[h-1])return m?(b=s.slice(0,h),b[h-1]=p,b):null;if(s[s.length-1]<p)return m?(b=s.slice(s.length-h),b[h-1]=p,b):null;for(let S=0,w=f.length;S<w;++S){const C=f[S];if(l!=C){if(p<s[l+h-1])return null;if(p<=s[C-1])return r3(s,l,C,h,p,!1);l=C}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,n,i))}getCoordinates(){return u0(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Ci(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,i=this.layout,s=[];let l=0;for(let f=0,h=n.length;f<h;++f){const p=n[f],m=new Ci(e.slice(l,p),i);s.push(m),l=p}return s}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let i=0;const s=this.ends_,l=this.stride;for(let f=0,h=s.length;f<h;++f){const p=s[f];ma(e,Fv(n,i,p,l,.5)),i=p}return e}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=sL(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,i),new Bf(n,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return function(n,i,s,l,f){for(let h=0,p=s.length;h<p;++h){if(Iv(n,i,s[h],l,f))return!0;i=s[h]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=a0(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}let _a=class dL extends du{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new dL(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,s){const l=this.flatCoordinates,f=ja(e,n,l[0],l[1]);if(f<s){const h=this.stride;for(let p=0;p<h;++p)i[p]=l[p];return i.length=h,f}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return NO(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return F6(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=oL(this.flatCoordinates,0,e,this.stride),this.changed()}};class M0 extends du{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){ma(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new M0(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,s){if(s<Ml(this.getExtent(),e,n))return s;const l=this.flatCoordinates,f=this.stride;for(let h=0,p=l.length;h<p;h+=f){const m=ja(e,n,l[h],l[h+1]);if(m<s){s=m;for(let g=0;g<f;++g)i[g]=l[h+g];i.length=f}}return s}getCoordinates(){return Qs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates.length/this.stride;return e<0||n<=e?null:new _a(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,i=this.stride,s=[];for(let l=0,f=e.length;l<f;l+=i){const h=new _a(e.slice(l,l+i),n);s.push(h)}return s}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,i=this.stride;for(let s=0,l=n.length;s<l;s+=i)if(F6(e,n[s],n[s+1]))return!0;return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=vm(this.flatCoordinates,0,e,this.stride),this.changed()}}function G6(t,e,n,i,s,l,f){let h,p,m,g,b,S,w;const C=s[l+1],M=[];for(let R=0,q=n.length;R<q;++R){const Y=n[R];for(g=t[Y-i],S=t[Y-i+1],h=e;h<Y;h+=i)b=t[h],w=t[h+1],(C<=S&&w<=C||S<=C&&C<=w)&&(m=(C-S)/(w-S)*(b-g)+g,M.push(m)),g=b,S=w}let T=NaN,D=-1/0;for(M.sort(ml),g=M[0],h=1,p=M.length;h<p;++h){b=M[h];const R=Math.abs(b-g);R>D&&(m=(g+b)/2,U6(t,e,n,i,m,C)&&(T=m,D=R)),g=b}return isNaN(T)&&(T=s[l]),f?(f.push(T,C,D),f):[T,C,D]}function pL(t,e,n,i,s){let l=[];for(let f=0,h=n.length;f<h;++f){const p=n[f];l=G6(t,e,p,i,s,2*f,l),e=p[p.length-1]}return l}function kde(t,e,n,i){for(;e<n-i;){for(let s=0;s<i;++s){const l=t[e+s];t[e+s]=t[n-i+s],t[n-i+s]=l}e+=i,n-=i}}function H6(t,e,n,i){let s=0,l=t[n-i],f=t[n-i+1];for(;e<n;e+=i){const h=t[e],p=t[e+1];s+=(h-l)*(p+f),l=h,f=p}return s===0?void 0:s>0}function V6(t,e,n,i,s){s=s!==void 0&&s;for(let l=0,f=n.length;l<f;++l){const h=n[l],p=H6(t,e,h,i);if(l===0){if(s&&p||!s&&!p)return!1}else if(s&&!p||!s&&p)return!1;e=h}return!0}function gL(t,e,n,i,s){for(let l=0,f=n.length;l<f;++l){const h=n[l];if(!V6(t,e,h,i,s))return!1;h.length&&(e=h[h.length-1])}return!0}function Mv(t,e,n,i,s){s=s!==void 0&&s;for(let l=0,f=n.length;l<f;++l){const h=n[l],p=H6(t,e,h,i);(l===0?s&&p||!s&&!p:s&&!p||!s&&p)&&kde(t,e,h,i),e=h}return e}function i3(t,e,n,i,s){for(let l=0,f=n.length;l<f;++l)e=Mv(t,e,n[l],i,s);return e}let ur=class o3 extends du{constructor(e,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?ma(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new o3(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,s){return s<Ml(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(N6(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),q6(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,s))}containsXY(e,n){return U6(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return lL(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Mv(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,u0(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=El(this.getExtent());this.flatInteriorPoint_=G6(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new _a(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new l0(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,i=this.ends_,s=[];let l=0;for(let f=0,h=i.length;f<h;++f){const p=i[f],m=new l0(n.slice(l,p),e);s.push(m),l=p}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;V6(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Mv(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=$6(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new o3(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return fL(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=a0(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}};function a3(t){if(GO(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],s=t[3],l=[e,n,e,s,i,s,i,n,e,n];return new ur(l,"XY",[l.length])}function vL(t,e,n,i){const s=[];let l=[1/0,1/0,-1/0,-1/0];for(let f=0,h=n.length;f<h;++f){const p=n[f];l=I6(t,e,p[0],i),s.push((l[0]+l[2])/2,(l[1]+l[3])/2),e=p[p.length-1]}return s}class Of extends du{constructor(e,n,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){const s=e,l=[],f=[];for(let h=0,p=s.length;h<p;++h){const m=s[h],g=l.length,b=m.getEnds();for(let S=0,w=b.length;S<w;++S)b[S]+=g;ma(l,m.getFlatCoordinates()),f.push(b)}n=s.length===0?this.getLayout():s[0].getLayout(),e=l,i=f}n!==void 0&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}appendPolygon(e){let n;if(this.flatCoordinates){const i=this.flatCoordinates.length;ma(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let s=0,l=n.length;s<l;++s)n[s]+=i}else this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let s=0;s<e;++s)n[s]=this.endss_[s].slice();const i=new Of(this.flatCoordinates.slice(),this.layout,n);return i.applyProperties(this),i}closestPointXY(e,n,i,s){return s<Ml(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(l,f,h,p,m){for(let g=0,b=h.length;g<b;++g){const S=h[g];m=N6(l,f,S,p,m),f=S[S.length-1]}return m}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(l,f,h,p,m,g,b,S,w,C,M){M=M||[NaN,NaN];for(let T=0,D=h.length;T<D;++T){const R=h[T];C=q6(l,f,R,p,m,g,b,S,w,C,M),f=R[R.length-1]}return C}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,i,s))}containsXY(e,n){return function(i,s,l,f,h,p){if(l.length===0)return!1;for(let m=0,g=l.length;m<g;++m){const b=l[m];if(U6(i,s,b,f,h,p))return!0;s=b[b.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return function(e,n,i,s){let l=0;for(let f=0,h=i.length;f<h;++f){const p=i[f];l+=lL(e,n,p,s),n=p[p.length-1]}return l}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),i3(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,n3(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=vL(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=pL(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new M0(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;gL(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=i3(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=function(s,l,f,h,p,m,g,b){for(let S=0,w=f.length;S<w;++S){const C=f[S],M=[];g=$6(s,l,C,h,p,m,g,M),b.push(M),l=C[C.length-1]}return g}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,i),new Of(n,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const l=this.endss_[e-1];n=l[l.length-1]}const i=this.endss_[e].slice(),s=i[i.length-1];if(n!==0)for(let l=0,f=i.length;l<f;++l)i[l]-=n;return new ur(this.flatCoordinates.slice(n,s),this.layout,i)}getPolygons(){const e=this.layout,n=this.flatCoordinates,i=this.endss_,s=[];let l=0;for(let f=0,h=i.length;f<h;++f){const p=i[f].slice(),m=p[p.length-1];if(l!==0)for(let b=0,S=p.length;b<S;++b)p[b]-=l;const g=new ur(n.slice(l,m),e,p);s.push(g),l=m}return s}getType(){return"MultiPolygon"}intersectsExtent(e){return function(n,i,s,l,f){for(let h=0,p=s.length;h<p;++h){const m=s[h];if(fL(n,i,m,l,f))return!0;i=m[m.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=aL(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const s=i[i.length-1];this.flatCoordinates.length=s.length===0?0:s[s.length-1]}this.changed()}}class mL extends _a{constructor(e,n,i){super([]),this.points=[],this.type=wv,this.options=i||{},this.set("params",this.options),this.fixPointCount=1,n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){let e=this.points[0];this.setCoordinates(e)}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class yL extends _a{constructor(e,n,i){super([]),this.points=[],this.type=xv,this.options=i||{},this.set("params",this.options),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){let e=this.points[0];this.setCoordinates(e)}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class _L extends Ci{constructor(e,n,i){super([]),this.points=[],this.type=i6,this.freehand=!1,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){this.setCoordinates(this.points)}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}const uu=100,cn=Math.PI/2,s3=1e-4,bL="ol-plot-vector-layer",cd="plot-helper-control-point-div",j7="plot-helper-hidden-div",q7={borderRadius:"2px",fontSize:"12px",outline:0,overflow:"hidden",boxSizing:"border-box",border:"1px solid #eeeeee",fontFamily:"Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Noto Sans CJK SC,WenQuanYi Micro Hei,Arial,sans-serif",color:"#010500",fontWeight:400,padding:"3px",fontStretch:"normal",lineHeight:"normal",textAlign:"left",marginLeft:"auto",marginRight:"auto",width:"auto",height:"auto",background:"rgb(255, 255, 255)",fontStyle:"",fontVariant:""},Tn=(t,e)=>Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)),W6=t=>{let e=0;return t&&Array.isArray(t)&&t.length>0&&t.forEach((n,i)=>{i<t.length-1&&(e+=Tn(n,t[i+1]))}),e},jo=t=>Math.pow(W6(t),.99),Li=(t,e)=>[(t[0]+e[0])/2,(t[1]+e[1])/2],wL=(t,e,n)=>{let i=[(t[0]+e[0])/2,(t[1]+e[1])/2],s=[i[0]-t[1]+e[1],i[1]+t[0]-e[0]],l=[(t[0]+n[0])/2,(t[1]+n[1])/2],f=[l[0]-t[1]+n[1],l[1]+t[0]-n[0]];return Fde(i,s,l,f)},Fde=(t,e,n,i)=>{if(t[1]===e[1])return[(i[0]-n[0])/(i[1]-n[1])*(t[1]-n[1])+n[0],t[1]];if(n[1]===i[1])return[(e[0]-t[0])/(e[1]-t[1])*(n[1]-t[1])+t[0],n[1]];let s=(e[0]-t[0])/(e[1]-t[1]),l=(i[0]-n[0])/(i[1]-n[1]),f=(s*t[1]-t[0]-l*n[1]+n[0])/(s-l);return[s*f-s*t[1]+t[0],f]},Va=(t,e)=>{let n,i=Math.asin(Math.abs(e[1]-t[1])/Tn(t,e));return e[1]>=t[1]&&e[0]>=t[0]?n=i+Math.PI:e[1]>=t[1]&&e[0]<t[0]?n=2*Math.PI-i:e[1]<t[1]&&e[0]<t[0]?n=i:e[1]<t[1]&&e[0]>=t[0]&&(n=Math.PI-i),n},Dv=(t,e,n)=>{let i=Va(e,t)-Va(e,n);return i<0?i+2*Math.PI:i},Jf=(t,e,n)=>(n[1]-t[1])*(e[0]-t[0])>(e[1]-t[1])*(n[0]-t[0]),Y6=(t,e,n,i,s)=>{t=Math.max(Math.min(t,1),0);let[l,f]=[1-t,t*t],h=f*t,p=l*l,m=p*l;return[m*e[0]+3*p*t*n[0]+3*l*f*i[0]+h*s[0],m*e[1]+3*p*t*n[1]+3*l*f*i[1]+h*s[1]]},Ut=(t,e,n,i,s)=>{let l=Va(t,e),f=s?l+n:l-n,h=i*Math.cos(f),p=i*Math.sin(f);return[e[0]+h,e[1]+p]},X6=(t,e,n,i)=>{let[s,l,f,h]=[null,null,[],i-n];h=h<0?h+2*Math.PI:h;for(let p=0;p<=100;p++){let m=n+h*p/100;s=t[0]+e*Math.cos(m),l=t[1]+e*Math.sin(m),f.push([s,l])}return f},Rd=(t,e,n,i)=>{let s=u3(e,n,i),[l,f,h,p,m]=[null,null,null,null,null],g=Math.sqrt(s[0]*s[0]+s[1]*s[1]),b=s[0]/g,S=s[1]/g,w=Tn(e,n),C=Tn(n,i);return g>s3?Jf(e,n,i)?(h=t*w,p=n[0]-h*S,m=n[1]+h*b,l=[p,m],h=t*C,p=n[0]+h*S,m=n[1]-h*b,f=[p,m]):(h=t*w,p=n[0]+h*S,m=n[1]-h*b,l=[p,m],h=t*C,p=n[0]-h*S,m=n[1]+h*b,f=[p,m]):(p=n[0]+t*(e[0]-n[0]),m=n[1]+t*(e[1]-n[1]),l=[p,m],p=n[0]+t*(i[0]-n[0]),m=n[1]+t*(i[1]-n[1]),f=[p,m]),[l,f]},u3=(t,e,n)=>{let i=t[0]-e[0],s=t[1]-e[1],l=Math.sqrt(i*i+s*s);i/=l,s/=l;let f=n[0]-e[0],h=n[1]-e[1],p=Math.sqrt(f*f+h*h);return f/=p,h/=p,[i+f,s+h]},Ide=(t,e)=>{let n=((m,g)=>{let[b,S,w,C,M]=[m[0],m[1],m[2],null,null],T=Rd(0,b,S,w)[0],D=u3(b,S,w);if(Math.sqrt(D[0]*D[0]+D[1]*D[1])>s3){let R=Li(b,S),q=b[0]-R[0],Y=b[1]-R[1],K=2/Tn(b,S),ce=-K*Y,te=K*q,ee=ce*ce-te*te,he=2*ce*te,be=te*te-ce*ce,Fe=T[0]-R[0],oe=T[1]-R[1];C=R[0]+ee*Fe+he*oe,M=R[1]+he*Fe+be*oe}else C=b[0]+g*(S[0]-b[0]),M=b[1]+g*(S[1]-b[1]);return[C,M]})(e,t),[i,s,l,f,h]=[null,null,null,[n],[]];for(let m=0;m<e.length-2;m++){[i,s,l]=[e[m],e[m+1],e[m+2]];let g=Rd(t,i,s,l);f=f.concat(g)}let p=((m,g)=>{let b=m.length,S=m[b-3],w=m[b-2],C=m[b-1],M=Rd(0,S,w,C)[1],T=u3(S,w,C),D=Math.sqrt(T[0]*T[0]+T[1]*T[1]),[R,q]=[null,null];if(D>s3){let Y=Li(w,C),K=C[0]-Y[0],ce=C[1]-Y[1],te=2/Tn(w,C),ee=-te*ce,he=te*K,be=ee*ee-he*he,Fe=2*ee*he,oe=he*he-ee*ee,Se=M[0]-Y[0],fe=M[1]-Y[1];R=Y[0]+be*Se+Fe*fe,q=Y[1]+Fe*Se+oe*fe}else R=C[0]+g*(w[0]-C[0]),q=C[1]+g*(w[1]-C[1]);return[R,q]})(e,t);p&&f.push(p);for(let m=0;m<e.length-1;m++){i=e[m],s=e[m+1],h.push(i);for(let g=0;g<uu;g++){let b=Y6(g/uu,i,f[2*m],f[2*m+1],s);h.push(b)}h.push(s)}return h},Bd=function(t){if(t.length<=2)return t;{let e=[],n=t.length-1;for(let i=0;i<=1;i+=.01){let[s,l]=[0,0];for(let f=0;f<=n;f++){let h=Mde(n,f),p=Math.pow(i,f),m=Math.pow(1-i,n-f);s+=h*p*m*t[f][0],l+=h*p*m*t[f][1]}e.push([s,l])}return e.push(t[n]),e}},Ww=t=>{let e=1;switch(t){case t<=1:e=1;break;case t===2:e=2;break;case t===3:e=6;break;case t===24:e=24;break;case t===5:e=120;break;default:for(let n=1;n<=t;n++)e*=n}return e},Mde=(t,e)=>Ww(t)/(Ww(e)*Ww(t-e)),lu=t=>{if(t.length<=2)return t;{let[e,n]=[2,[]],i=t.length-e-1;n.push(t[0]);for(let s=0;s<=i;s++)for(let l=0;l<=1;l+=.05){let[f,h]=[0,0];for(let p=0;p<=e;p++){let m=Dde(p,l);f+=m*t[s+p][0],h+=m*t[s+p][1]}n.push([f,h])}return n.push(t[t.length-1]),n}},Dde=(t,e)=>{let n=0;return t===0?n=Math.pow(e-1,2)/2:t===1?n=(-2*Math.pow(e,2)+2*e+1)/2:t===2&&(n=Math.pow(e,2)/2),n},Tde=()=>{let[t,e]=[[],"0123456789abcdef"];for(let n=0;n<36;n++)t[n]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},$7=t=>{const e=typeof t;return t!==null&&(e==="object"||e==="function")},xL=(t,e)=>{for(const n in e)$7(e[n])&&$7(t[n])?xL(t[n],e[n]):t[n]=e[n];return t};function K6(t,e){t.forEach(n=>{e[n]&&(e[n]=e[n].bind(e))})}class SL extends Ci{constructor(e,n,i){super([]),this.points=[],this.type=t6,this.fixPointCount=3,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){let e=this.getPointCount();if(!(e<2))if(e===2)this.setCoordinates(this.points);else{let[n,i,s,l,f]=[this.points[0],this.points[1],this.points[2],null,null],h=wL(n,i,s),p=Tn(n,h),m=Va(n,h),g=Va(i,h);Jf(n,i,s)?(l=g,f=m):(l=m,f=g),this.setCoordinates(X6(h,p,l,f))}}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class CL extends ur{constructor(e,n,i){super([]),this.points=[],this.type=s6,this.fixPointCount=2,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){if(this.getPointCount()<2)return!1;{let e=this.points[0],n=Tn(e,this.points[1]);this.setCoordinates([this.generatePoints(e,n)])}}generatePoints(e,n){let[i,s,l,f]=[null,null,null,[]];for(let h=0;h<=100;h++)l=2*Math.PI*h/100,i=e[0]+n*Math.cos(l),s=e[1]+n*Math.sin(l),f.push([i,s]);return f}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class EL extends Ci{constructor(e,n,i){super([]),this.points=[],this.type=n6,this.t=.3,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){let e=this.getPointCount();if(e<2)return!1;if(e===2)this.setCoordinates(this.points);else{let n=Ide(this.t,this.points);this.setCoordinates(n)}}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class AL extends Ci{constructor(e,n,i){super([]),this.points=[],this.type=o6,this.freehand=!0,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){this.setCoordinates(this.points)}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class kL extends ur{constructor(e,n,i){super([]),this.points=[],this.type=a6,this.fixPointCount=2,this.set("params",i),this.isFill=i.isFill!==!1||i.isFill,n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){if(this.points.length===2){let e=[];if(this.isFill)e=a3(k6(this.points)).getCoordinates();else{let n=this.points[0],i=this.points[1];e=[n,[n[0],i[1]],i,[i[0],n[1]],n]}this.setCoordinates(e)}}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class FL extends ur{constructor(e,n,i){super([]),this.points=[],this.type=u6,this.fixPointCount=2,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){if(this.getPointCount()<2)return!1;{let[e,n]=[this.points[0],this.points[1]],i=Li(e,n),s=Math.abs((e[0]-n[0])/2),l=Math.abs((e[1]-n[1])/2),f=this.generatePoints(i,s,l);this.setCoordinates([f])}}generatePoints(e,n,i){let[s,l,f,h]=[null,null,null,[]];for(let p=0;p<=uu;p++)f=2*Math.PI*p/uu,s=e[0]+n*Math.cos(f),l=e[1]+i*Math.sin(f),h.push([s,l]);return h}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class IL extends ur{constructor(e,n,i){super([]),this.points=[],this.type=l6,this.fixPointCount=3,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){if(this.getPointCount()<2)return!1;{let e=this.getPoints();if(this.getPointCount()===2){let b=Li(e[0],e[1]),S=Tn(e[0],b),w=Ut(e[0],b,cn,S,null);e.push(w)}let[n,i,s,l,f]=[e[0],e[1],e[2],void 0,void 0],h=wL(n,i,s),p=Tn(n,h),m=Va(n,h),g=Va(i,h);Jf(n,i,s)?(l=g,f=m):(l=m,f=g),e=X6(h,p,l,f),e.push(e[0]),this.setCoordinates([e])}}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class ML extends ur{constructor(e,n,i){super([]),this.points=[],this.type=c6,this.fixPointCount=3,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){let e=this.getPointCount();if(e<2)return!1;if(e===2)this.setCoordinates([this.points]);else{let n=this.getPoints(),[i,s,l]=[n[0],n[1],n[2]],f=Tn(s,i),h=Va(s,i),p=Va(l,i),m=X6(i,f,h,p);m.push(i,m[0]),this.setCoordinates([m])}}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class DL extends ur{constructor(e,n,i){super([]),this.points=[],this.type=f6,this.t=.3,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){let e=this.getPointCount();if(e<2)return!1;if(e===2)this.setCoordinates([this.points]);else{let n=this.getPoints();n.push(n[0],n[1]);let[i,s]=[[],[]];for(let f=0;f<n.length-2;f++){let h=Rd(this.t,n[f],n[f+1],n[f+2]);i=i.concat(h)}let l=i.length;i=[i[l-1]].concat(i.slice(0,l-1));for(let f=0;f<n.length-2;f++){let h=n[f],p=n[f+1];s.push(h);for(let m=0;m<=uu;m++){let g=Y6(m/uu,h,i[2*f],i[2*f+1],p);s.push(g)}s.push(p)}this.setCoordinates([s])}}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class TL extends ur{constructor(e,n,i){super([]),this.points=[],this.type=h6,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){if(this.getPointCount()<2)return!1;this.setCoordinates([this.points])}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class PL extends ur{constructor(e,n,i){super([]),this.points=[],this.type=d6,this.freehand=!0,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){this.setCoordinates([this.points])}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class D0 extends ur{constructor(e,n,i){super([]),this.points=[],this.type=p6,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.headTailFactor=.8,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){try{let e=this.getPointCount();if(e<2)return!1;if(e===2)this.setCoordinates([this.points]);else{let n=this.getPoints(),[i,s]=[n[0],n[1]];Jf(n[0],n[1],n[2])&&(i=n[1],s=n[0]);let l=[Li(i,s)].concat(n.slice(2)),f=this.getArrowHeadPoints(l,i,s),[h,p]=[f[0],f[4]],m=Tn(i,s)/jo(l),g=this.getArrowBodyPoints(l,h,p,m),b=g.length,S=[i].concat(g.slice(0,b/2));S.push(h);let w=[s].concat(g.slice(b/2,b));w.push(p),S=lu(S),w=lu(w),this.setCoordinates([S.concat(f,w.reverse())])}}catch{}}getArrowPoints(e,n,i,s){let l=Li(e,n),f=Tn(l,i),h=Ut(i,l,0,.3*f,!0),p=Ut(i,l,0,.5*f,!0);h=Ut(l,h,cn,f/5,s),p=Ut(l,p,cn,f/4,s);let m=[l,h,p,i],g=this.getArrowHeadPoints(m);if(!(g&&Array.isArray(g)&&g.length>0))throw new Error("");{let[b,S]=[g[0],g[4]],w=Tn(e,n)/jo(m)/2,C=this.getArrowBodyPoints(m,b,S,w);if(C){let M=C.length,T=C.slice(0,M/2),D=C.slice(M/2,M);return T.push(b),D.push(S),T=T.reverse(),T.push(n),D=D.reverse(),D.push(e),T.reverse().concat(g,D)}}}getArrowHeadPoints(e,n,i){try{let s=jo(e),l=s*this.headHeightFactor,f=e[e.length-1];s=Tn(f,e[e.length-2]);let h=Tn(n,i);l>h*this.headTailFactor&&(l=h*this.headTailFactor);let p=l*this.headWidthFactor,m=l*this.neckWidthFactor;l=l>s?s:l;let g=l*this.neckHeightFactor,b=Ut(e[e.length-2],f,0,l,!0),S=Ut(e[e.length-2],f,0,g,!0),w=Ut(f,b,cn,p,!1),C=Ut(f,b,cn,p,!0);return[Ut(f,S,cn,m,!1),w,f,C,Ut(f,S,cn,m,!0)]}catch{}}getArrowBodyPoints(e,n,i,s){let l=W6(e),f=jo(e)*s,h=(f-Tn(n,i))/2,[p,m,g]=[0,[],[]];for(let b=1;b<e.length-1;b++){let S=Dv(e[b-1],e[b],e[b+1])/2;p+=Tn(e[b-1],e[b]);let w=(f/2-p/l*h)/Math.sin(S),C=Ut(e[b-1],e[b],Math.PI-S,w,!0),M=Ut(e[b-1],e[b],S,w,!1);m.push(C),g.push(M)}return m.concat(g)}getTempPoint4(e,n,i){try{let s=Li(e,n),l=Tn(s,i),f=Dv(e,s,i),[h,p,m,g]=[void 0,void 0,void 0,void 0];return f<cn?(p=l*Math.sin(f),m=l*Math.cos(f),g=Ut(e,s,cn,p,!1),h=Ut(s,g,cn,m,!0)):f>=cn&&f<Math.PI?(p=l*Math.sin(Math.PI-f),m=l*Math.cos(Math.PI-f),g=Ut(e,s,cn,p,!1),h=Ut(s,g,cn,m,!1)):f>=Math.PI&&f<1.5*Math.PI?(p=l*Math.sin(f-Math.PI),m=l*Math.cos(f-Math.PI),g=Ut(e,s,cn,p,!0),h=Ut(s,g,cn,m,!0)):(p=l*Math.sin(2*Math.PI-f),m=l*Math.cos(2*Math.PI-f),g=Ut(e,s,cn,p,!0),h=Ut(s,g,cn,m,!1)),h}catch{}}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class RL extends ur{constructor(e,n,i){super([]),this.points=[],this.type=g6,this.headHeightFactor=.25,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.connPoint=null,this.tempPoint4=null,this.fixPointCount=4,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){try{let e=this.getPointCount();if(e<2)return!1;if(e===2)return this.setCoordinates([this.points]),!1;if(e>2){let[n,i,s]=[this.points[0],this.points[1],this.points[2]];e===3?(this.tempPoint4=this.getTempPoint4(n,i,s),this.connPoint=Li(n,i)):e===4?(this.tempPoint4=this.points[3],this.connPoint=Li(n,i)):(this.tempPoint4=this.points[3],this.connPoint=this.points[4]);let[l,f]=[void 0,void 0];Jf(n,i,s)?(l=this.getArrowPoints(n,this.connPoint,this.tempPoint4,!1),f=this.getArrowPoints(this.connPoint,i,s,!0)):(l=this.getArrowPoints(i,this.connPoint,s,!1),f=this.getArrowPoints(this.connPoint,n,this.tempPoint4,!0));let h=l.length,p=(h-5)/2,m=l.slice(0,p),g=l.slice(p,p+5),b=l.slice(p+5,h),S=f.slice(0,p),w=f.slice(p,p+5),C=f.slice(p+5,h);S=Bd(S);let M=Bd(C.concat(m.slice(1)));b=Bd(b);let T=S.concat(w,M,g,b);this.setCoordinates([T])}}catch{}}getArrowPoints(e,n,i,s){let l=Li(e,n),f=Tn(l,i),h=Ut(i,l,0,.3*f,!0),p=Ut(i,l,0,.5*f,!0);h=Ut(l,h,cn,f/5,s),p=Ut(l,p,cn,f/4,s);let m=[l,h,p,i],g=this.getArrowHeadPoints(m);if(!(g&&Array.isArray(g)&&g.length>0))throw new Error("");{let[b,S]=[g[0],g[4]],w=Tn(e,n)/jo(m)/2,C=this.getArrowBodyPoints(m,b,S,w);if(C){let M=C.length,T=C.slice(0,M/2),D=C.slice(M/2,M);return T.push(b),D.push(S),T=T.reverse(),T.push(n),D=D.reverse(),D.push(e),T.reverse().concat(g,D)}}}getArrowHeadPoints(e){try{let n=jo(e)*this.headHeightFactor,i=e[e.length-1],s=n*this.headWidthFactor,l=n*this.neckWidthFactor,f=n*this.neckHeightFactor,h=Ut(e[e.length-2],i,0,n,!0),p=Ut(e[e.length-2],i,0,f,!0),m=Ut(i,h,cn,s,!1),g=Ut(i,h,cn,s,!0);return[Ut(i,p,cn,l,!1),m,i,g,Ut(i,p,cn,l,!0)]}catch{}}getArrowBodyPoints(e,n,i,s){let l=W6(e),f=jo(e)*s,h=(f-Tn(n,i))/2,[p,m,g]=[0,[],[]];for(let b=1;b<e.length-1;b++){let S=Dv(e[b-1],e[b],e[b+1])/2;p+=Tn(e[b-1],e[b]);let w=(f/2-p/l*h)/Math.sin(S),C=Ut(e[b-1],e[b],Math.PI-S,w,!0),M=Ut(e[b-1],e[b],S,w,!1);m.push(C),g.push(M)}return m.concat(g)}getTempPoint4(e,n,i){try{let s=Li(e,n),l=Tn(s,i),f=Dv(e,s,i),[h,p,m,g]=[void 0,void 0,void 0,void 0];return f<cn?(p=l*Math.sin(f),m=l*Math.cos(f),g=Ut(e,s,cn,p,!1),h=Ut(s,g,cn,m,!0)):f>=cn&&f<Math.PI?(p=l*Math.sin(Math.PI-f),m=l*Math.cos(Math.PI-f),g=Ut(e,s,cn,p,!1),h=Ut(s,g,cn,m,!1)):f>=Math.PI&&f<1.5*Math.PI?(p=l*Math.sin(f-Math.PI),m=l*Math.cos(f-Math.PI),g=Ut(e,s,cn,p,!0),h=Ut(s,g,cn,m,!0)):(p=l*Math.sin(2*Math.PI-f),m=l*Math.cos(2*Math.PI-f),g=Ut(e,s,cn,p,!0),h=Ut(s,g,cn,m,!1)),h}catch{}}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){this.getPointCount()===3&&this.tempPoint4!==null&&this.points.push(this.tempPoint4),this.connPoint!==null&&this.points.push(this.connPoint)}}class BL extends Ci{constructor(e,n,i){super([]),this.points=[],this.type=v6,this.fixPointCount=2,this.maxArrowLength=3e6,this.arrowLengthScale=5,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){try{if(this.getPointCount()<2)return!1;{let e=this.getPoints(),[n,i]=[e[0],e[1]],s=Tn(n,i)/this.arrowLengthScale;s=s>this.maxArrowLength?this.maxArrowLength:s;let l=Ut(n,i,Math.PI/6,s,!1),f=Ut(n,i,Math.PI/6,s,!0);this.setCoordinates([n,i,l,i,f])}}catch{}}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class Z6 extends ur{constructor(e,n,i){super([]),this.points=[],this.type=m6,this.tailWidthFactor=.1,this.neckWidthFactor=.2,this.headWidthFactor=.25,this.headAngle=Math.PI/8.5,this.neckAngle=Math.PI/13,this.fixPointCount=2,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){try{if(this.getPointCount()<2)return!1;{let e=this.getPoints(),[n,i]=[e[0],e[1]],s=jo(e),l=s*this.tailWidthFactor,f=s*this.neckWidthFactor,h=s*this.headWidthFactor,p=Ut(i,n,cn,l,!0),m=Ut(i,n,cn,l,!1),g=Ut(n,i,this.headAngle,h,!1),b=Ut(n,i,this.headAngle,h,!0),S=[p,Ut(n,i,this.neckAngle,f,!1),g,i,b,Ut(n,i,this.neckAngle,f,!0),m];this.setCoordinates([S])}}catch{}}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class OL extends Z6{constructor(e,n,i){super(e,n,i),this.tailWidthFactor=.05,this.neckWidthFactor=.1,this.headWidthFactor=.15,this.type=y6,this.headAngle=Math.PI/4,this.neckAngle=.17741*Math.PI,n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e),this.set("params",i)}}class LL extends D0{constructor(e,n,i){super(e,n,i),this.type=_6,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.headTailFactor=.8,this.swallowTailFactor=1,this.swallowTailPnt=null,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}generate(){try{let e=this.getPointCount();if(e<2)return!1;if(e===2)return this.setCoordinates([this.points]),!1;{let n=this.getPoints(),[i,s]=[n[0],n[1]];Jf(n[0],n[1],n[2])&&(i=n[1],s=n[0]);let l=[Li(i,s)].concat(n.slice(2)),f=this.getArrowHeadPoints(l,i,s),[h,p]=[f[0],f[4]],m=Tn(i,s),g=jo(l),b=g*this.tailWidthFactor*this.swallowTailFactor;this.swallowTailPnt=Ut(l[1],l[0],0,b,!0);let S=m/g,w=this.getArrowBodyPoints(l,h,p,S),C=w.length,M=[i].concat(w.slice(0,C/2));M.push(h);let T=[s].concat(w.slice(C/2,C));T.push(p),M=lu(M),T=lu(T),this.setCoordinates([M.concat(f,T.reverse(),[this.swallowTailPnt,M[0]])])}}catch{}}}class zL extends D0{constructor(e,n,i){super(e,n,i),this.type=b6,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}generate(){try{if(this.getPointCount()<2)return!1;{let e=this.getPoints(),n=this.getTailPoints(e),i=this.getArrowHeadPoints(e,n[0],n[1]),s=i[0],l=i[4],f=this.getArrowBodyPoints(e,s,l,this.tailWidthFactor),h=f.length,p=[n[0]].concat(f.slice(0,h/2));p.push(s);let m=[n[1]].concat(f.slice(h/2,h));m.push(l),p=lu(p),m=lu(m),this.setCoordinates([p.concat(i,m.reverse())])}}catch{}}getTailPoints(e){let n=jo(e)*this.tailWidthFactor;return[Ut(e[1],e[0],cn,n,!1),Ut(e[1],e[0],cn,n,!0)]}}class NL extends D0{constructor(e,n,i){super(e,n,i),this.type=w6,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.swallowTailFactor=1,this.swallowTailPnt=null,this.fixPointCount=2,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}generate(){try{if(this.getPointCount()<2)return!1;{let e=this.getPoints(),n=this.getTailPoints(e),i=this.getArrowHeadPoints(e,n[0],n[2]),s=i[0],l=i[4],f=this.getArrowBodyPoints(e,s,l,this.tailWidthFactor),h=f.length,p=[n[0]].concat(f.slice(0,h/2));p.push(s);let m=[n[2]].concat(f.slice(h/2,h));m.push(l),p=lu(p),m=lu(m),this.setCoordinates([p.concat(i,m.reverse(),[n[1],p[0]])])}}catch{}}getTailPoints(e){let n=jo(e)*this.tailWidthFactor,i=Ut(e[1],e[0],cn,n,!1),s=Ut(e[1],e[0],cn,n,!0),l=n*this.swallowTailFactor;return[i,Ut(e[1],e[0],0,l,!0),s]}}class jL extends ur{constructor(e,n,i){super([]),this.points=[],this.type=r6,this.t=.4,this.fixPointCount=3,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){let e=this.getPoints(),n=this.getPointCount();if(e.length<2)return!1;{if(n===2){let g=Li(e[0],e[1]),b=Tn(e[0],g)/.9,S=Ut(e[0],g,cn,b,!0);e=[e[0],S,e[1]]}let i=Li(e[0],e[2]);e.push(i,e[0],e[1]);let[s,l,f,h,p]=[[],void 0,void 0,void 0,[]];for(let g=0;g<e.length-2;g++){l=e[g],f=e[g+1],h=e[g+2];let b=Rd(this.t,l,f,h);s=s.concat(b)}let m=s.length;s=[s[m-1]].concat(s.slice(0,m-1));for(let g=0;g<e.length-2;g++){l=e[g],f=e[g+1],p.push(l);for(let b=0;b<=uu;b++){let S=Y6(b/uu,l,s[2*g],s[2*g+1],f);p.push(S)}p.push(f)}this.setCoordinates([p])}}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class qL extends ur{constructor(e,n,i){super([]),this.points=[],this.type=x6,this.fixPointCount=2,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){if(this.getPointCount()<2)return!1;this.setCoordinates([this.calculatePonits(this.points)])}calculatePonits(e){let n=[];if(e.length>1){let i=e[0],s=e[e.length-1];n=[i,[s[0],i[1]],[s[0],(i[1]+s[1])/2],[i[0],(i[1]+s[1])/2],[i[0],s[1]]]}return n}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class $L extends ur{constructor(e,n,i){super([]),this.points=[],this.type=S6,this.fixPointCount=2,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){if(this.getPointCount()<2)return!1;this.setCoordinates([this.calculatePonits(this.points)])}calculatePonits(e){let n=[];if(e.length>1){let i=e[0],s=e[e.length-1];n=[i,[s[0],(i[1]+s[1])/2],[i[0],(i[1]+s[1])/2],[i[0],s[1]]]}return n}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}class UL extends ur{constructor(e,n,i){super([]),this.points=[],this.type=C6,this.fixPointCount=2,this.set("params",i),n&&n.length>0?this.setPoints(n):e&&e.length>0&&this.setCoordinates(e)}getPlotType(){return this.type}generate(){if(this.getPointCount()<2)return!1;this.setCoordinates([this.calculatePonits(this.points)])}calculatePonits(e){let n=[];if(e.length>1){let i=e[0],s=e[e.length-1],l=i,f=[(s[0]-i[0])/4+i[0],(s[1]-i[1])/8+i[1]],h=[(i[0]+s[0])/2,i[1]],p=[3*(s[0]-i[0])/4+i[0],-(s[1]-i[1])/8+i[1]],m=[s[0],i[1]],g=[s[0],(i[1]+s[1])/2],b=[3*(s[0]-i[0])/4+i[0],3*(s[1]-i[1])/8+i[1]],S=[(i[0]+s[0])/2,(i[1]+s[1])/2],w=[(s[0]-i[0])/4+i[0],5*(s[1]-i[1])/8+i[1]],C=[i[0],(i[1]+s[1])/2],M=[i[0],s[1]],T=Bd([l,f,h,p,m]),D=Bd([g,b,S,w,C]);n=T.concat(D),n.push(M)}return n}setMap(e){if(!(e&&e instanceof Yn))throw new Error("");this.map=e}getMap(){return this.map}isPlot(){return!0}setPoints(e){this.points=e||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(e,n){n>=0&&n<this.points.length&&(this.points[n]=e,this.generate())}updateLastPoint(e){this.updatePoint(e,this.points.length-1)}finishDrawing(){}}var Tv="active";function J6(t){return 1-function(e){return Math.pow(e,3)}(1-t)}function Pde(t){return 3*t*t-2*t*t*t}class GL extends hu{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Tv)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Tv,e)}setMap(e){this.map_=e}}var HL=tde,K1="pointerdrag",Z1="pointermove",VL="pointerdown",Rde="pointerup",U7=class extends GL{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let e=!1;if(t.type==HL){const n=t.originalEvent,i=t.map,s=t.coordinate,l=n.shiftKey?-this.delta_:this.delta_;(function(f,h,p,m){const g=f.getZoom();if(g===void 0)return;const b=f.getConstrainedZoom(g+h),S=f.getResolutionForZoom(b);f.getAnimating()&&f.cancelAnimations(),f.animate({resolution:S,anchor:p,duration:m!==void 0?m:250,easing:J6})})(i.getView(),l,s,this.duration_),n.preventDefault(),e=!0}return!e}};class Q6 extends GL{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==K1)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Rde){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==VL){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==Z1&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}const Ls=typeof navigator<"u"&&navigator.userAgent!==void 0?navigator.userAgent.toLowerCase():"";Ls.includes("firefox"),Ls.includes("safari")&&!Ls.includes("chrom")&&(Ls.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Ls)),Ls.includes("webkit")&&Ls.includes("edge"),Ls.includes("macintosh");const WL=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Bde=typeof Image<"u"&&Image.prototype.decode;function G7(t){const e=arguments;return function(n){let i=!0;for(let s=0,l=e.length;s<l&&(i=i&&e[s](n),i);++s);return i}}(function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}})();const Ode=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return!(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")||function(i){const s=i.map.getTargetElement(),l=s.getRootNode(),f=i.map.getOwnerDocument().activeElement;return l instanceof ShadowRoot?l.host.contains(f):s.contains(f)}(t)},l3=n0,Lde=A6,YL=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},zde=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Nde=function(t){const e=t.originalEvent;return Dr(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};var Pv=class extends Q6{constructor(t){super({stopDown:A6}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:G7(YL,Nde);this.condition_=t.onFocusOnly?G7(Ode,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const n=this.targetPointers,i=e.getEventPixel(function(s){const l=s.length;let f=0,h=0;for(let p=0;p<l;p++)f+=s[p].clientX,h+=s[p].clientY;return{clientX:f/l,clientY:h/l}}(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const s=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],l=t.map.getView();(function(f,h){f[0]*=h,f[1]*=h})(s,l.getResolution()),YO(s,l.getRotation()),l.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,n=e.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),l=n.getCenterInternal(),f=e.getPixelFromCoordinateInternal(l),h=e.getCoordinateFromPixelInternal([f[0]-i*Math.cos(s),f[1]-i*Math.sin(s)]);n.animateInternal({center:n.getConstrainedCenter(h),duration:500,easing:J6})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};function jde(t){if(t!==void 0)return 0}function H7(t){if(t!==void 0)return t}let bi=class XL extends hu{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new XL(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(bo(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=si(e,to,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?function(n){if(typeof n=="function")return n;let i;return Array.isArray(n)?i=n:(Dr(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),i=[n]),function(){return i}}(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};class qde extends Xa{constructor(e,n,i){super(e),this.map=n,this.frameState=i!==void 0?i:null}}class $de extends qde{constructor(e,n,i,s,l,f){super(e,n,l),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=s!==void 0&&s,this.activePointers=f}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}var w1="opacity",Yw="visible",V7="extent",Xw="zIndex",Kw="maxResolution",Zw="minResolution",Jw="maxZoom",Qw="minZoom",ex="source",W7="map";class KL extends hu{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[w1]=e.opacity!==void 0?e.opacity:1,Dr(typeof n[w1]=="number","Layer opacity must be a number"),n[Yw]=e.visible===void 0||e.visible,n[Xw]=e.zIndex,n[Kw]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Zw]=e.minResolution!==void 0?e.minResolution:0,n[Qw]=e.minZoom!==void 0?e.minZoom:-1/0,n[Jw]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0||e},i=this.getZIndex();return n.opacity=Yr(Math.round(100*this.getOpacity())/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i!==void 0||n.managed?i:1/0,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return an()}getLayerStatesArray(e){return an()}getExtent(){return this.get(V7)}getMaxResolution(){return this.get(Kw)}getMinResolution(){return this.get(Zw)}getMinZoom(){return this.get(Qw)}getMaxZoom(){return this.get(Jw)}getOpacity(){return this.get(w1)}getSourceState(){return an()}getVisible(){return this.get(Yw)}getZIndex(){return this.get(Xw)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(V7,e)}setMaxResolution(e){this.set(Kw,e)}setMinResolution(e){this.set(Zw,e)}setMaxZoom(e){this.set(Jw,e)}setMinZoom(e){this.set(Qw,e)}setOpacity(e){Dr(typeof e=="number","Layer opacity must be a number"),this.set(w1,e)}setVisible(e){this.set(Yw,e)}setZIndex(e){this.set(Xw,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}var c3="prerender",f3="postrender",Ude="precompose",nl=0,Od=1,Do={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Y7(t,e,n){return function(i,s,l,f,h){if(!i)return;if(!s&&!e)return i;const p=e?0:l[0]*s,m=e?0:l[1]*s,g=h?h[0]:0,b=h?h[1]:0;let S=t[0]+p/2+g,w=t[2]-p/2+g,C=t[1]+m/2+b,M=t[3]-m/2+b;S>w&&(S=(w+S)/2,w=S),C>M&&(C=(M+C)/2,M=C);let T=Yr(i[0],S,w),D=Yr(i[1],C,M);if(f&&n&&s){const R=30*s;T+=-R*Math.log(1+Math.max(0,S-i[0])/R)+R*Math.log(1+Math.max(0,i[0]-w)/R),D+=-R*Math.log(1+Math.max(0,C-i[1])/R)+R*Math.log(1+Math.max(0,i[1]-M)/R)}return[T,D]}}function Gde(t){return t}function h3(t,e,n,i){const s=Oi(e)/n[0],l=Ha(e)/n[1];return i?Math.min(t,Math.max(s,l)):Math.min(t,Math.min(s,l))}function d3(t,e,n){let i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Yr(i,n/2,2*e)}function X7(t,e,n,i,s){return n=n===void 0||n,function(l,f,h,p){if(l!==void 0){const m=i?h3(t,i,h,s):t;return n&&p?d3(l,m,e):Yr(l,e,m)}}}class K7 extends hu{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Gw(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&function(n){Qx=n!==void 0}(),e.center&&(e.center=Xi(e.center,this.projection_)),e.extent&&(e.extent=bd(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const h in Do)delete n[h];this.setProperties(n,!0);const i=function(h){let p,m,g,b=h.minZoom!==void 0?h.minZoom:0,S=h.maxZoom!==void 0?h.maxZoom:28;const w=h.zoomFactor!==void 0?h.zoomFactor:2,C=h.multiWorld!==void 0&&h.multiWorld,M=h.smoothResolutionConstraint===void 0||h.smoothResolutionConstraint,T=h.showFullExtent!==void 0&&h.showFullExtent,D=Gw(h.projection,"EPSG:3857"),R=D.getExtent();let q=h.constrainOnlyCenter,Y=h.extent;if(C||Y||!D.isGlobal()||(q=!1,Y=R),h.resolutions!==void 0){const K=h.resolutions;m=K[b],g=K[S]!==void 0?K[S]:K[K.length-1],p=h.constrainResolution?function(ce,te,ee,he){return te=te===void 0||te,function(be,Fe,oe,Se){if(be!==void 0){const fe=ce[0],Te=ce[ce.length-1],Le=ee?h3(fe,ee,oe,he):fe;if(Se)return te?d3(be,Le,Te):Yr(be,Te,Le);const Pe=Math.min(Le,be),ze=Math.floor(b7(ce,Pe,Fe));return ce[ze]>Le&&ze<ce.length-1?ce[ze+1]:ce[ze]}}}(K,M,!q&&Y,T):X7(m,g,M,!q&&Y,T)}else{const K=(R?Math.max(Oi(R),Ha(R)):360*VO.degrees/D.getMetersPerUnit())/256/Math.pow(2,0),ce=K/Math.pow(2,28);m=h.maxResolution,m!==void 0?b=0:m=K/Math.pow(w,b),g=h.minResolution,g===void 0&&(g=h.maxZoom!==void 0?h.maxResolution!==void 0?m/Math.pow(w,S):K/Math.pow(w,S):ce),S=b+Math.floor(Math.log(m/g)/Math.log(w)),g=m/Math.pow(w,S-b),p=h.constrainResolution?function(te,ee,he,be,Fe,oe){return be=be===void 0||be,he=he!==void 0?he:0,function(Se,fe,Te,Le){if(Se!==void 0){const Pe=Fe?h3(ee,Fe,Te,oe):ee;if(Le)return be?d3(Se,Pe,he):Yr(Se,he,Pe);const ze=1e-9,Je=Math.ceil(Math.log(ee/Pe)/Math.log(te)-ze),tt=-fe*(.5-ze)+.5,lt=Math.min(Pe,Se),Qe=Math.floor(Math.log(ee/lt)/Math.log(te)+tt),mt=Math.max(Je,Qe);return Yr(ee/Math.pow(te,mt),he,Pe)}}}(w,m,g,M,!q&&Y,T):X7(m,g,M,!q&&Y,T)}return{constraint:p,maxResolution:m,minResolution:g,minZoom:b,zoomFactor:w}}(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const s=function(h){if(h.extent!==void 0){const m=h.smoothExtentConstraint===void 0||h.smoothExtentConstraint;return Y7(h.extent,h.constrainOnlyCenter,m)}const p=Gw(h.projection,"EPSG:3857");if(h.multiWorld!==!0&&p.isGlobal()){const m=p.getExtent().slice();return m[0]=-1/0,m[2]=1/0,Y7(m,!1,!1)}return Gde}(e),l=i.constraint,f=function(h){if(h.enableRotation===void 0||h.enableRotation){const p=h.constrainRotation;return p===void 0||p===!0?function(m){const g=Pd(5);return function(b,S){return S||b===void 0?b:Math.abs(b)<=g?0:b}}():p===!1?H7:typeof p=="number"?function(m){const g=2*Math.PI/m;return function(b,S){return S?b:b!==void 0?b=Math.floor(b/g+.5)*g:void 0}}(p):H7}return jde}(e);this.constraints_={center:s,resolution:l,rotation:f},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const s=e||[0,0,0,0];n=n||[0,0,0,0];const l=this.getResolution(),f=l/2*(s[3]-n[3]+n[1]-s[1]),h=l/2*(s[0]-n[0]+n[2]-s[2]);this.setCenterInternal([i[0]+f,i[1]-h])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let s=arguments[i];s.center&&(s=Object.assign({},s),s.center=Xi(s.center,this.getProjection())),s.anchor&&(s=Object.assign({},s),s.anchor=Xi(s.anchor,this.getProjection())),n[i]=s}this.animateInternal.apply(this,n)}animateInternal(e){let n,i=arguments.length;i>1&&typeof arguments[i-1]=="function"&&(n=arguments[i-1],--i);let s=0;for(;s<i&&!this.isDef();++s){const g=arguments[s];g.center&&this.setCenterInternal(g.center),g.zoom!==void 0?this.setZoom(g.zoom):g.resolution&&this.setResolution(g.resolution),g.rotation!==void 0&&this.setRotation(g.rotation)}if(s===i)return void(n&&x1(n,!0));let l=Date.now(),f=this.targetCenter_.slice(),h=this.targetResolution_,p=this.targetRotation_;const m=[];for(;s<i;++s){const g=arguments[s],b={start:l,complete:!1,anchor:g.anchor,duration:g.duration!==void 0?g.duration:1e3,easing:g.easing||Pde,callback:n};if(g.center&&(b.sourceCenter=f,b.targetCenter=g.center.slice(),f=b.targetCenter),g.zoom!==void 0?(b.sourceResolution=h,b.targetResolution=this.getResolutionForZoom(g.zoom),h=b.targetResolution):g.resolution&&(b.sourceResolution=h,b.targetResolution=g.resolution,h=b.targetResolution),g.rotation!==void 0){b.sourceRotation=p;const S=I7(g.rotation-p+Math.PI,2*Math.PI)-Math.PI;b.targetRotation=p+S,p=b.targetRotation}Hde(b)?b.complete=!0:l+=b.duration,m.push(b)}this.animations_.push(m),this.setHint(nl,1),this.updateAnimations_()}getAnimating(){return this.hints_[nl]>0}getInteracting(){return this.hints_[Od]>0}cancelAnimations(){let e;this.setHint(nl,-this.hints_[nl]);for(let n=0,i=this.animations_.length;n<i;++n){const s=this.animations_[n];if(s[0].callback&&x1(s[0].callback,!1),!e)for(let l=0,f=s.length;l<f;++l){const h=s[l];if(!h.complete){e=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const s=this.animations_[i];let l=!0;for(let f=0,h=s.length;f<h;++f){const p=s[f];if(p.complete)continue;const m=e-p.start;let g=p.duration>0?m/p.duration:1;g>=1?(p.complete=!0,g=1):l=!1;const b=p.easing(g);if(p.sourceCenter){const S=p.sourceCenter[0],w=p.sourceCenter[1],C=p.targetCenter[0],M=p.targetCenter[1];this.nextCenter_=p.targetCenter;const T=S+b*(C-S),D=w+b*(M-w);this.targetCenter_=[T,D]}if(p.sourceResolution&&p.targetResolution){const S=b===1?p.targetResolution:p.sourceResolution+b*(p.targetResolution-p.sourceResolution);if(p.anchor){const w=this.getViewportSize_(this.getRotation()),C=this.constraints_.resolution(S,0,w,!0);this.targetCenter_=this.calculateCenterZoom(C,p.anchor)}this.nextResolution_=p.targetResolution,this.targetResolution_=S,this.applyTargetState_(!0)}if(p.sourceRotation!==void 0&&p.targetRotation!==void 0){const S=b===1?I7(p.targetRotation+Math.PI,2*Math.PI)-Math.PI:p.sourceRotation+b*(p.targetRotation-p.sourceRotation);if(p.anchor){const w=this.constraints_.rotation(S,!0);this.targetCenter_=this.calculateCenterRotate(w,p.anchor)}this.nextRotation_=p.targetRotation,this.targetRotation_=S}if(this.applyTargetState_(!0),n=!0,!p.complete)break}if(l){this.animations_[i]=null,this.setHint(nl,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const f=s[0].callback;f&&x1(f,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let i;const s=this.getCenterInternal();var l,f;return s!==void 0&&(i=[s[0]-n[0],s[1]-n[1]],YO(i,e-this.getRotation()),f=n,(l=i)[0]+=+f[0],l[1]+=+f[1]),i}calculateCenterZoom(e,n){let i;const s=this.getCenterInternal(),l=this.getResolution();return s!==void 0&&l!==void 0&&(i=[n[0]-e*(n[0]-s[0])/l,n[1]-e*(n[1]-s[1])/l]),i}getViewportSize_(e){const n=this.viewportSize_;if(e){const i=n[0],s=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(s*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(s*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&R7(e,this.getProjection())}getCenterInternal(){return this.get(Do.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return iL(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Dr(n,"The view center is not defined");const i=this.getResolution();Dr(i!==void 0,"The view resolution is not defined");const s=this.getRotation();return Dr(s!==void 0,"The view rotation is not defined"),ode(n,i,s,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Do.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(bd(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const i=Oi(e)/n[0],s=Ha(e)/n[1];return Math.max(i,s)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(n/i)/Math.log(e);return function(l){return n/Math.pow(e,l*s)}}getRotation(){return this.get(Do.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,l=Math.log(i/s)/n;return function(f){return Math.log(i/f)/n/l}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),i=this.getRotation();let s=this.getCenterInternal();const l=this.padding_;if(l){const f=this.getViewportSizeMinusPadding_();s=tx(s,this.getViewportSize_(),[f[0]/2+l[3],f[1]/2+l[0]],n,i)}return{center:s.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n,i,s=this.minZoom_||0;if(this.resolutions_){const l=b7(this.resolutions_,e,1);s=l,n=this.resolutions_[l],i=l==this.resolutions_.length-1?2:n/this.resolutions_[l+1]}else n=this.maxResolution_,i=this.zoomFactor_;return s+Math.log(n/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const n=Yr(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,Yr(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let i;if(Dr(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e))Dr(!GO(e),"Cannot fit empty extent provided as `geometry`"),i=a3(bd(e,this.getProjection()));else if(e.getType()==="Circle"){const s=bd(e.getExtent(),this.getProjection());i=a3(s),i.rotate(this.getRotation(),El(s))}else i=e;this.fitInternal(i,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),i=Math.cos(n),s=Math.sin(-n),l=e.getFlatCoordinates(),f=e.getStride();let h=1/0,p=1/0,m=-1/0,g=-1/0;for(let b=0,S=l.length;b<S;b+=f){const w=l[b]*i-l[b+1]*s,C=l[b]*s+l[b+1]*i;h=Math.min(h,w),p=Math.min(p,C),m=Math.max(m,w),g=Math.max(g,C)}return[h,p,m,g]}fitInternal(e,n){let i=(n=n||{}).size;i||(i=this.getViewportSizeMinusPadding_());const s=n.padding!==void 0?n.padding:[0,0,0,0],l=n.nearest!==void 0&&n.nearest;let f;f=n.minResolution!==void 0?n.minResolution:n.maxZoom!==void 0?this.getResolutionForZoom(n.maxZoom):0;const h=this.rotatedExtentForGeometry(e);let p=this.getResolutionForExtentInternal(h,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);p=isNaN(p)?f:Math.max(p,f),p=this.getConstrainedResolution(p,l?0:1);const m=this.getRotation(),g=Math.sin(m),b=Math.cos(m),S=El(h);S[0]+=(s[1]-s[3])/2*p,S[1]+=(s[0]-s[2])/2*p;const w=S[0]*b-S[1]*g,C=S[1]*b+S[0]*g,M=this.getConstrainedCenter([w,C],p),T=n.callback?n.callback:r0;n.duration!==void 0?this.animateInternal({resolution:p,center:M,duration:n.duration,easing:n.easing},T):(this.targetResolution_=p,this.targetCenter_=M,this.applyTargetState_(!1,!0),x1(T,!0))}centerOn(e,n,i){this.centerOnInternal(Xi(e,this.getProjection()),n,i)}centerOnInternal(e,n,i){this.setCenterInternal(tx(e,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,i,s){let l;const f=this.padding_;if(f&&e){const h=this.getViewportSizeMinusPadding_(-i),p=tx(e,s,[h[0]/2+f[3],h[1]/2+f[0]],n,i);l=[e[0]-p[0],e[1]-p[1]]}return l}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=R7(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Xi(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const i=this.getAnimating()||this.getInteracting(),s=this.getViewportSize_(this.getRotation()),l=this.constraints_.resolution(this.targetResolution_*e,0,s,i);n&&(this.targetCenter_=this.calculateCenterZoom(l,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Xi(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const i=this.getAnimating()||this.getInteracting(),s=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(s,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Xi(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const i=this.getAnimating()||this.getInteracting()||n,s=this.constraints_.rotation(this.targetRotation_,i),l=this.getViewportSize_(s),f=this.constraints_.resolution(this.targetResolution_,0,l,i),h=this.constraints_.center(this.targetCenter_,f,l,i,this.calculateCenterShift(this.targetCenter_,f,s,l));this.get(Do.ROTATION)!==s&&this.set(Do.ROTATION,s),this.get(Do.RESOLUTION)!==f&&(this.set(Do.RESOLUTION,f),this.set("zoom",this.getZoom(),!0)),h&&this.get(Do.CENTER)&&Cv(this.get(Do.CENTER),h)||this.set(Do.CENTER,h),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,i){e=e!==void 0?e:200;const s=n||0,l=this.constraints_.rotation(this.targetRotation_),f=this.getViewportSize_(l),h=this.constraints_.resolution(this.targetResolution_,s,f),p=this.constraints_.center(this.targetCenter_,h,f,!1,this.calculateCenterShift(this.targetCenter_,h,l,f));if(e===0&&!this.cancelAnchor_)return this.targetResolution_=h,this.targetRotation_=l,this.targetCenter_=p,void this.applyTargetState_();i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===h&&this.getRotation()===l&&this.getCenterInternal()&&Cv(this.getCenterInternal(),p)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:l,center:p,resolution:h,duration:e,easing:J6,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Od,1)}endInteraction(e,n,i){i=i&&Xi(i,this.getProjection()),this.endInteractionInternal(e,n,i)}endInteractionInternal(e,n,i){this.getInteracting()&&(this.setHint(Od,-1),this.resolveConstraints(e,n,i))}getConstrainedCenter(e,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)}getConstrainedZoom(e,n){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(e,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)}}function x1(t,e){setTimeout(function(){t(e)},0)}function Hde(t){return!(t.sourceCenter&&t.targetCenter&&!Cv(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function tx(t,e,n,i,s){const l=Math.cos(-s);let f=Math.sin(-s),h=t[0]*l-t[1]*f,p=t[1]*l+t[0]*f;return h+=(e[0]/2-n[0])*i,p+=(n[1]-e[1]/2)*i,f=-f,[h*l-p*f,p*l+h*f]}class Vde extends KL{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(ex,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get(ex)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||this.getSource().getState()!=="ready"||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(bo(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=si(e,to,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let n;const i=this.getMapInternal();let s;if(!e&&i&&(e=i.getView()),n=e instanceof K7?{viewState:e.getState(),extent:e.calculateExtent()}:e,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray()),n.layerStatesArray){if(s=n.layerStatesArray.find(f=>f.layer===this),!s)return!1}else s=this.getLayerState();const l=this.getExtent();return function(f,h){if(!f.visible)return!1;const p=h.resolution;if(p<f.minResolution||p>=f.maxResolution)return!1;const m=h.zoom;return m>f.minZoom&&m<=f.maxZoom}(s,n.viewState)&&(!l||Ji(l,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];const n=this.getSource()?.getAttributions();if(!n)return[];let i=n(e instanceof K7?e.getViewStateAndExtent():e);return Array.isArray(i)||(i=[i]),i}render(e,n){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(W7,e)}getMapInternal(){return this.get(W7)}setMap(e){this.mapPrecomposeKey_&&(bo(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(bo(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=si(e,Ude,this.handlePrecompose_,this),this.mapRenderKey_=si(this,to,e.render,e),this.changed())}handlePrecompose_(e){const n=e.frameState.layerStatesArray,i=this.getLayerState(!1);Dr(!n.some(s=>s.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(i)}setSource(e){this.set(ex,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function ZL(t,e,n=0,i=t.length-1,s=Wde){for(;i>n;){if(i-n>600){const p=i-n+1,m=e-n+1,g=Math.log(p),b=.5*Math.exp(2*g/3),S=.5*Math.sqrt(g*b*(p-b)/p)*(m-p/2<0?-1:1);ZL(t,e,Math.max(n,Math.floor(e-m*b/p+S)),Math.min(i,Math.floor(e+(p-m)*b/p+S)),s)}const l=t[e];let f=n,h=i;for(fd(t,n,e),s(t[i],l)>0&&fd(t,n,i);f<h;){for(fd(t,f,h),f++,h--;s(t[f],l)<0;)f++;for(;s(t[h],l)>0;)h--}s(t[n],l)===0?fd(t,n,h):(h++,fd(t,h,i)),h<=e&&(n=h+1),e<=h&&(i=h-1)}}function fd(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function Wde(t,e){return t<e?-1:t>e?1:0}class JL{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const i=[];if(!C1(e,n))return i;const s=this.toBBox,l=[];for(;n;){for(let f=0;f<n.children.length;f++){const h=n.children[f],p=n.leaf?s(h):h;C1(e,p)&&(n.leaf?i.push(h):rx(e,p)?this._all(h,i):l.push(h))}n=l.pop()}return i}collides(e){let n=this.data;if(!C1(e,n))return!1;const i=[];for(;n;){for(let s=0;s<n.children.length;s++){const l=n.children[s],f=n.leaf?this.toBBox(l):l;if(C1(e,f)){if(n.leaf||rx(e,f))return!0;i.push(l)}}n=i.pop()}return!1}load(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=hf([]),this}remove(e,n){if(!e)return this;let i=this.data;const s=this.toBBox(e),l=[],f=[];let h,p,m;for(;i||l.length;){if(i||(i=l.pop(),p=l[l.length-1],h=f.pop(),m=!0),i.leaf){const g=Yde(e,i.children,n);if(g!==-1)return i.children.splice(g,1),l.push(i),this._condense(l),this}m||i.leaf||!rx(i,s)?p?(h++,i=p.children[h],m=!1):i=null:(l.push(i),f.push(h),h=0,p=i,i=i.children[0])}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,s){const l=i-n+1;let f,h=this._maxEntries;if(l<=h)return f=hf(e.slice(n,i+1)),rf(f,this.toBBox),f;s||(s=Math.ceil(Math.log(l)/Math.log(h)),h=Math.ceil(l/Math.pow(h,s-1))),f=hf([]),f.leaf=!1,f.height=s;const p=Math.ceil(l/h),m=p*Math.ceil(Math.sqrt(h));Z7(e,n,i,m,this.compareMinX);for(let g=n;g<=i;g+=m){const b=Math.min(g+m-1,i);Z7(e,g,b,p,this.compareMinY);for(let S=g;S<=b;S+=p){const w=Math.min(S+p-1,b);f.children.push(this._build(e,S,w,s-1))}}return rf(f,this.toBBox),f}_chooseSubtree(e,n,i,s){for(;s.push(n),!n.leaf&&s.length-1!==i;){let l,f=1/0,h=1/0;for(let p=0;p<n.children.length;p++){const m=n.children[p],g=nx(m),b=Zde(e,m)-g;b<h?(h=b,f=g<f?g:f,l=m):b===h&&g<f&&(f=g,l=m)}n=l||n.children[0]}return n}_insert(e,n,i){const s=i?e:this.toBBox(e),l=[],f=this._chooseSubtree(s,this.data,n,l);for(f.children.push(e),xd(f,s);n>=0&&l[n].children.length>this._maxEntries;)this._split(l,n),n--;this._adjustParentBBoxes(s,l,n)}_split(e,n){const i=e[n],s=i.children.length,l=this._minEntries;this._chooseSplitAxis(i,l,s);const f=this._chooseSplitIndex(i,l,s),h=hf(i.children.splice(f,i.children.length-f));h.height=i.height,h.leaf=i.leaf,rf(i,this.toBBox),rf(h,this.toBBox),n?e[n-1].children.push(h):this._splitRoot(i,h)}_splitRoot(e,n){this.data=hf([e,n]),this.data.height=e.height+1,this.data.leaf=!1,rf(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let s,l=1/0,f=1/0;for(let h=n;h<=i-n;h++){const p=wd(e,0,h,this.toBBox),m=wd(e,h,i,this.toBBox),g=Jde(p,m),b=nx(p)+nx(m);g<l?(l=g,s=h,f=b<f?b:f):g===l&&b<f&&(f=b,s=h)}return s||i-n}_chooseSplitAxis(e,n,i){const s=e.leaf?this.compareMinX:Xde,l=e.leaf?this.compareMinY:Kde;this._allDistMargin(e,n,i,s)<this._allDistMargin(e,n,i,l)&&e.children.sort(s)}_allDistMargin(e,n,i,s){e.children.sort(s);const l=this.toBBox,f=wd(e,0,n,l),h=wd(e,i-n,i,l);let p=S1(f)+S1(h);for(let m=n;m<i-n;m++){const g=e.children[m];xd(f,e.leaf?l(g):g),p+=S1(f)}for(let m=i-n-1;m>=n;m--){const g=e.children[m];xd(h,e.leaf?l(g):g),p+=S1(h)}return p}_adjustParentBBoxes(e,n,i){for(let s=i;s>=0;s--)xd(n[s],e)}_condense(e){for(let n,i=e.length-1;i>=0;i--)e[i].children.length===0?i>0?(n=e[i-1].children,n.splice(n.indexOf(e[i]),1)):this.clear():rf(e[i],this.toBBox)}}function Yde(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function rf(t,e){wd(t,0,t.children.length,e,t)}function wd(t,e,n,i,s){s||(s=hf(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let l=e;l<n;l++){const f=t.children[l];xd(s,t.leaf?i(f):f)}return s}function xd(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Xde(t,e){return t.minX-e.minX}function Kde(t,e){return t.minY-e.minY}function nx(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function S1(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Zde(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Jde(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),l=Math.min(t.maxY,e.maxY);return Math.max(0,s-n)*Math.max(0,l-i)}function rx(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function C1(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function hf(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Z7(t,e,n,i,s){const l=[e,n];for(;l.length;){if((n=l.pop())-(e=l.pop())<=i)continue;const f=e+Math.ceil((n-e)/i/2)*i;ZL(t,f,e,n,s),l.push(e,f,f,n)}}var cu=0,Lf=1,Cr=2,Af=3,c0={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},li={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};li.max=li.whitepoint[2].D65,li.rgb=function(t,e){e=e||li.whitepoint[2].E;var n,i,s,l=t[0]/e[0],f=t[1]/e[1],h=t[2]/e[2];return i=-.96924363628087*l+1.87596750150772*f+.041555057407175*h,s=.055630079696993*l+-.20397695888897*f+1.056971514242878*h,n=(n=3.240969941904521*l+-1.537383177570093*f+-.498610760293*h)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1)),255*(s=Math.min(Math.max(0,s),1))]},c0.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,s=t[2]/255,l=.21263900587151*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.71516867876775*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.072192315360733*(s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92),f=.019330818715591*n+.11919477979462*i+.95053215224966*s;return[(.41239079926595*n+.35758433938387*i+.18048078840183*s)*(e=e||li.whitepoint[2].E)[0],l*e[1],f*e[2]]};var p3={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,s,l,f,h,p,m,g,b;return l=t[0],f=t[1],h=t[2],l===0?[0,0,0]:(e=e||"D65",n=n||2,i=f/(13*l)+4*(m=li.whitepoint[n][e][0])/(m+15*(g=li.whitepoint[n][e][1])+3*(b=li.whitepoint[n][e][2]))||0,s=h/(13*l)+9*g/(m+15*g+3*b)||0,[9*(p=l>8?g*Math.pow((l+16)/116,3):g*l*.0011070564598794539)*i/(4*s)||0,p,p*(12-3*i-20*s)/(4*s)||0])}};li.luv=function(t,e,n){var i,s,l,f,h,p,m,g,b,S,w;e=e||"D65",n=n||2,S=4*(m=li.whitepoint[n][e][0])/(m+15*(g=li.whitepoint[n][e][1])+3*(b=li.whitepoint[n][e][2])),w=9*g/(m+15*g+3*b),i=4*(f=t[0])/(f+15*(h=t[1])+3*(p=t[2]))||0,s=9*h/(f+15*h+3*p)||0;var C=h/g;return[l=C<=.008856451679035631?903.2962962962961*C:116*Math.pow(C,1/3)-16,13*l*(i-S),13*l*(s-w)]};var QL={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]},xyz:function(t){return p3.xyz(QL.luv(t))}};p3.lchuv=function(t){var e=t[0],n=t[1],i=t[2],s=Math.sqrt(n*n+i*i),l=360*Math.atan2(i,n)/2/Math.PI;return l<0&&(l+=360),[e,s,l]},li.lchuv=function(t){return p3.lchuv(li.luv(t))};var J7={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Q7={red:0,orange:60,yellow:120,green:180,blue:240,purple:300},ix={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,n,i,s,l,f=t[0]/360,h=t[1]/100,p=t[2]/100,m=0;if(h===0)return[l=255*p,l,l];for(e=2*p-(n=p<.5?p*(1+h):p+h-p*h),s=[0,0,0];m<3;)(i=f+1/3*-(m-1))<0?i++:i>1&&i--,l=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,s[m++]=255*l;return s}};function Qde(t){var e;Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var n=function(l){var f,h,p=[],m=1;if(typeof l=="number")return{space:"rgb",values:[l>>>16,(65280&l)>>>8,255&l],alpha:1};if(typeof l=="number")return{space:"rgb",values:[l>>>16,(65280&l)>>>8,255&l],alpha:1};if(l=String(l).toLowerCase(),J7[l])p=J7[l].slice(),h="rgb";else if(l==="transparent")m=0,h="rgb",p=[0,0,0];else if(l[0]==="#"){var g=l.slice(1),b=g.length;m=1,b<=4?(p=[parseInt(g[0]+g[0],16),parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16)],b===4&&(m=parseInt(g[3]+g[3],16)/255)):(p=[parseInt(g[0]+g[1],16),parseInt(g[2]+g[3],16),parseInt(g[4]+g[5],16)],b===8&&(m=parseInt(g[6]+g[7],16)/255)),p[0]||(p[0]=0),p[1]||(p[1]=0),p[2]||(p[2]=0),h="rgb"}else if(f=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(l)){var S=f[1],w=(h=S.replace(/a$/,""))==="cmyk"?4:h==="gray"?1:3;p=f[2].trim().split(/\s*[,\/]\s*|\s+/),h==="color"&&(h=p.shift()),p=p.map(function(C,M){if(C[C.length-1]==="%")return C=parseFloat(C)/100,M===3?C:h==="rgb"?255*C:h[0]==="h"?100*C:h[0]!=="l"||M?h==="lab"?125*C:h==="lch"?M<2?150*C:360*C:h[0]!=="o"||M?h==="oklab"?.4*C:h==="oklch"?M<2?.4*C:360*C:C:C:100*C;if(h[M]==="h"||M===2&&h[h.length-1]==="h"){if(Q7[C]!==void 0)return Q7[C];if(C.endsWith("deg"))return parseFloat(C);if(C.endsWith("turn"))return 360*parseFloat(C);if(C.endsWith("grad"))return 360*parseFloat(C)/400;if(C.endsWith("rad"))return 180*parseFloat(C)/Math.PI}return C==="none"?0:parseFloat(C)}),m=p.length>w?p.pop():1}else/[0-9](?:\s|\/|,)/.test(l)&&(p=l.match(/([0-9]+)/g).map(function(C){return parseFloat(C)}),h=l.match(/([a-z])/gi)?.join("")?.toLowerCase()||"rgb");return{space:h,values:p,alpha:m}}(t);if(!n.space)return[];const i=n.space[0]==="h"?ix.min:c0.min,s=n.space[0]==="h"?ix.max:c0.max;return(e=Array(3))[0]=Math.min(Math.max(n.values[0],i[0]),s[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),s[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),s[2]),n.space[0]==="h"&&(e=ix.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}c0.hsl=function(t){var e,n,i=t[0]/255,s=t[1]/255,l=t[2]/255,f=Math.min(i,s,l),h=Math.max(i,s,l),p=h-f;return h===f?e=0:i===h?e=(s-l)/p:s===h?e=2+(l-i)/p:l===h&&(e=4+(i-s)/p),(e=Math.min(60*e,360))<0&&(e+=360),n=(f+h)/2,[e,100*(h===f?0:n<=.5?p/(h+f):p/(2-h-f)),100*n]};const e8=[NaN,NaN,NaN,0];function g3(t){return typeof t=="string"?t:n8(t)}const hd={};let ox,ax=0;function e0e(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function eP(t){const e=li.lchuv(c0.xyz(t));return e[3]=t[3],e}function t8(t){if(t==="none")return e8;if(hd.hasOwnProperty(t))return hd[t];if(ax>=1024){let n=0;for(const i in hd)3&n++||(delete hd[i],--ax)}const e=Qde(t);if(e.length!==4)throw new Error('failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('failed to parse "'+t+'" as color');return ez(e),hd[t]=e,++ax,e}function mo(t){return Array.isArray(t)?t:t8(t)}function ez(t){return t[0]=Yr(t[0]+.5|0,0,255),t[1]=Yr(t[1]+.5|0,0,255),t[2]=Yr(t[2]+.5|0,0,255),t[3]=Yr(t[3],0,1),t}function n8(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(t[3]===void 0?1:Math.round(1e3*t[3])/1e3)+")"}function zi(t,e,n,i){let s;return s=n&&n.length?n.shift():WL?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(s.width=t),e&&(s.height=e),s.getContext("2d",i)}function Rv(){return ox||(ox=zi(1,1)),ox}function t0e(t,e){return e&&(t.src=e),t.src&&Bde?new Promise((n,i)=>t.decode().then(()=>n(t)).catch(s=>t.complete&&t.width?n(t):i(s))):function(n,i){return new Promise((s,l)=>{function f(){p(),s(n)}function h(){p(),l(new Error("Image load error"))}function p(){n.removeEventListener("load",f),n.removeEventListener("error",h)}n.addEventListener("load",f),n.addEventListener("error",h)})}(t)}function sx(t,e,n){return e+":"+t+":"+(n?mo(n):"null")}const pa=new class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const n=this.cache_[e];3&t++||n.hasListener()||(delete this.cache_[e],delete this.patternCache_[e],--this.cacheSize_)}}}get(t,e,n){const i=sx(t,e,n);return i in this.cache_?this.cache_[i]:null}getPattern(t,e,n){const i=sx(t,e,n);return i in this.patternCache_?this.patternCache_[i]:null}set(t,e,n,i,s){const l=sx(t,e,n),f=l in this.cache_;this.cache_[l]=i,s&&(i.getImageState()===cu&&i.load(),i.getImageState()===Lf?i.ready().then(()=>{this.patternCache_[l]=Rv().createPattern(i.getImage(1),"repeat")}):this.patternCache_[l]=Rv().createPattern(i.getImage(1),"repeat")),f||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}};let dd=null;class tz extends zO{constructor(e,n,i,s,l){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=l,this.imageState_=s===void 0?cu:s,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Cr){dd||(dd=zi(1,1,void 0,{willReadFrequently:!0})),dd.drawImage(this.image_,0,0);try{dd.getImageData(0,0,1,1),this.tainted_=!1}catch{dd=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(to)}handleImageError_(){this.imageState_=Af,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Cr,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],i=zi(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===cu){this.image_||this.initializeImage_(),this.imageState_=Lf;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&t0e(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Cr)return;const n=this.image_,i=zi(Math.ceil(n.width*e),Math.ceil(n.height*e)),s=i.canvas;i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=g3(this.color_),i.fillRect(0,0,s.width/e,s.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=s}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===Cr||this.imageState_===Af)e();else{const n=()=>{this.imageState_!==Cr&&this.imageState_!==Af||(this.removeEventListener(to,n),e())};this.addEventListener(to,n)}})),this.ready_}}function r8(t,e,n,i,s,l){let f=e===void 0?void 0:pa.get(e,n,s);return f||(f=new tz(t,t&&"src"in t?t.src||void 0:e,n,i,s),pa.set(e,n,s,f,l)),l&&f&&!pa.getPattern(e,n,s)&&pa.set(e,n,s,f,l),f}function zf(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class _m{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=zf(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new _m({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return an()}getImage(e){return an()}getHitDetectionImage(){return an()}getPixelRatio(e){return 1}getImageState(){return an()}getImageSize(){return an()}getOrigin(){return an()}getSize(){return an()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=zf(e)}listenImageChange(e){an()}load(){an()}unlistenImageChange(e){an()}ready(){return Promise.resolve()}}function ga(t){return t?Array.isArray(t)?n8(t):typeof t=="object"&&"src"in t?function(e){if(!e.offset||!e.size)return pa.getPattern(e.src,"anonymous",e.color);const n=e.src+":"+e.offset,i=pa.getPattern(n,void 0,e.color);if(i)return i;const s=pa.get(e.src,"anonymous",null);if(s.getImageState()!==Cr)return null;const l=zi(e.size[0],e.size[1]);return l.drawImage(s.getImage(1),e.offset[0],e.offset[1],e.size[0],e.size[1],0,0,e.size[0],e.size[1]),r8(l.canvas,n,void 0,Cr,e.color,!0),pa.getPattern(n,void 0,e.color)}(t):t:null}const n0e=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),tP=["style","variant","weight","size","lineHeight","family"],nz=function(t){const e=t.match(n0e);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,s=tP.length;i<s;++i){const l=e[i+1];l!==void 0&&(n[tP[i]]=l)}return n.families=n.family.split(/,\s?/),n},rz="10px sans-serif",Pi="#000",Nf="round",qa=[],jf="round",f0="#000",h0="center",Bv="middle",ll=[0,0,0,0],zs=new hu;let v3,df=null;const m3={},r0e=function(){const t="32px ",e=["monospace","serif"],n=e.length,i="wmytzilWMYTZIL@#/&?$%10";let s,l;function f(p,m,g){let b=!0;for(let S=0;S<n;++S){const w=e[S];if(l=Ov(p+" "+m+" "+t+w,i),g!=w){const C=Ov(p+" "+m+" "+t+g+","+w,i);b=b&&C!=l}}return!!b}function h(){let p=!0;const m=zs.getKeys();for(let g=0,b=m.length;g<b;++g){const S=m[g];if(zs.get(S)<100){const[w,C,M]=S.split(`
`);f(w,C,M)?(hm(m3),df=null,v3=void 0,zs.set(S,100)):(zs.set(S,zs.get(S)+1,!0),p=!1)}}p&&(clearInterval(s),s=void 0)}return function(p){const m=nz(p);if(!m)return;const g=m.families;for(let b=0,S=g.length;b<S;++b){const w=g[b],C=m.style+`
`+m.weight+`
`+w;zs.get(C)===void 0&&(zs.set(C,100,!0),f(m.style,m.weight,w)||(zs.set(C,0,!0),s===void 0&&(s=setInterval(h,32))))}}}(),i0e=function(){let t;return function(e){let n=m3[e];if(n==null){if(WL){const i=nz(e),s=iz(e,"g");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(s.actualBoundingBoxAscent+s.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);m3[e]=n}return n}}();function iz(t,e){return df||(df=zi(1,1)),t!=v3&&(df.font=t,v3=df.font),df.measureText(e)}function Ov(t,e){return iz(t,e).width}function nP(t,e,n){if(e in n)return n[e];const i=e.split(`
`).reduce((s,l)=>Math.max(s,Ov(t,l)),0);return n[e]=i,i}function o0e(t,e,n,i,s,l,f,h,p,m,g){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=b=>b.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(p,m),t.scale(g[0],g[1]),function(b,S){const w=b.contextInstructions;for(let C=0,M=w.length;C<M;C+=2)Array.isArray(w[C+1])?S[w[C]].apply(S,w[C+1]):S[w[C]]=w[C+1]}(i,t)):g[0]<0||g[1]<0?(t.translate(p,m),t.scale(g[0],g[1]),t.drawImage(i,s,l,f,h,0,0,f,h)):t.drawImage(i,s,l,f,h,p,m,f*g[0],h*g[1]),t.restore()}class Qf extends _m{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0&&e.rotateWithView,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Lf:Cr,this.imageState_===Lf&&this.ready().then(()=>this.imageState_=Cr),this.render()}clone(){const e=this.getScale(),n=new Qf({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-n[0]/i[0],e[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){const n=this.fill_?.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let s=pa.get(i,null,null)?.getImage(1);if(!s){const l=this.renderOptions_,f=Math.ceil(l.size*e),h=zi(f,f);this.draw_(l,h,e),s=h.canvas,pa.set(i,null,null,new tz(s,void 0,null,Cr,null))}return s}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,i){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let s=this.radius,l=this.radius2_===void 0?s:this.radius2_;if(s<l){const R=s;s=l,l=R}const f=this.radius2_===void 0?this.points_:2*this.points_,h=2*Math.PI/f,p=l*Math.sin(h),m=s-Math.sqrt(l*l-p*p),g=Math.sqrt(p*p+m*m),b=g/p;if(e==="miter"&&b<=i)return b*n;const S=n/2/b,w=n/2*(m/g),C=Math.sqrt((s+S)*(s+S)+w*w)-s;if(this.radius2_===void 0||e==="bevel")return 2*C;const M=s*Math.sin(h),T=l-Math.sqrt(s*s-M*M),D=Math.sqrt(M*M+T*T)/M;if(D<=i){const R=D*n/2-l-s;return 2*Math.max(C,R)}return 2*C}createRenderOptions(){let e,n=Nf,i=jf,s=0,l=null,f=0,h=0;this.stroke_&&(e=ga(this.stroke_.getColor()??f0),h=this.stroke_.getWidth()??1,l=this.stroke_.getLineDash(),f=this.stroke_.getLineDashOffset()??0,i=this.stroke_.getLineJoin()??jf,n=this.stroke_.getLineCap()??Nf,s=this.stroke_.getMiterLimit()??10);const p=this.calculateLineJoinSize_(i,h,s),m=Math.max(this.radius,this.radius2_||0);return{strokeStyle:e,strokeWidth:h,size:Math.ceil(2*m+p),lineCap:n,lineDash:l,lineDashOffset:f,lineJoin:i,miterLimit:s}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,i){if(n.scale(i,i),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let s=this.fill_.getColor();s===null&&(s=Pi),n.fillStyle=ga(s),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let i=this.fill_.getColor(),s=0;typeof i=="string"&&(i=mo(i)),i===null?s=1:Array.isArray(i)&&(s=i.length===4?i[3]:1),s===0&&(n=zi(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const i=this.radius;if(n===1/0)e.arc(0,0,i,0,2*Math.PI);else{const s=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const l=this.angle_-Math.PI/2,f=2*Math.PI/n;for(let h=0;h<n;h++){const p=l+h*f,m=h%2==0?i:s;e.lineTo(m*Math.cos(p),m*Math.sin(p))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Pi,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class eh extends Qf{constructor(e){super({points:1/0,fill:(e=e||{radius:5}).fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0&&e.rotateWithView,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new eh({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius=e,this.render()}}class Uo{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new Uo({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=r8(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===cu&&n.load(),n.getImageState()===Lf&&(this.patternImage_=n)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?Sr(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:mo(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class ba{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new ba({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}let eo=class oz{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=iP,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new oz({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=iP,this.geometry_=e}setZIndex(e){this.zIndex_=e}},ux=null;function rP(t,e){if(!ux){const n=new Uo({color:"rgba(255,255,255,0.4)"}),i=new ba({color:"#3399CC",width:1.25});ux=[new eo({image:new eh({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return ux}function iP(t){return t.getGeometry()}function oP(t,e,n,i){return n!==void 0&&i!==void 0?[n/t,i/e]:n!==void 0?n/t:i!==void 0?i/e:1}let T0=class az extends _m{constructor(e){const n=(e=e||{}).opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,s=e.scale!==void 0?e.scale:1,l=e.rotateWithView!==void 0&&e.rotateWithView;super({opacity:n,rotation:i,scale:s,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:l,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const f=e.img!==void 0?e.img:null;let h,p=e.src;if(Dr(!(p!==void 0&&f),"`image` and `src` cannot be provided at the same time"),p!==void 0&&p.length!==0||!f||(p=f.src||Sr(f)),Dr(p!==void 0&&p.length>0,"A defined and non-empty `src` or `image` must be provided"),Dr(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`"),e.src!==void 0?h=cu:f!==void 0&&(h="complete"in f?f.complete?f.src?Cr:cu:Lf:Cr),this.color_=e.color!==void 0?mo(e.color):null,this.iconImage_=r8(f,p,this.crossOrigin_,h,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let m,g;if(e.size)[m,g]=e.size;else{const b=this.getImage(1);if(b.width&&b.height)m=b.width,g=b.height;else if(b instanceof HTMLImageElement){this.initialOptions_=e;const S=()=>{if(this.unlistenImageChange(S),!this.initialOptions_)return;const w=this.iconImage_.getSize();this.setScale(oP(w[0],w[1],e.width,e.height))};return void this.listenImageChange(S)}}m!==void 0&&this.setScale(oP(m,g,e.width,e.height))}}clone(){let e,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new az({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const s=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!s)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=s[0]),this.anchorYUnits_=="fraction"&&(e[1]*=s[1])}if(this.anchorOrigin_!="top-left"){if(!s)return null;e===this.anchor_&&(e=this.anchor_.slice()),this.anchorOrigin_!="top-right"&&this.anchorOrigin_!="bottom-right"||(e[0]=-e[0]+s[0]),this.anchorOrigin_!="bottom-left"&&this.anchorOrigin_!="bottom-right"||(e[1]=-e[1]+s[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),this.offsetOrigin_!="top-right"&&this.offsetOrigin_!="bottom-right"||(e[0]=i[0]-n[0]-e[0]),this.offsetOrigin_!="bottom-left"&&this.offsetOrigin_!="bottom-right"||(e[1]=i[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:this.iconImage_.getImageState()==Cr?this.iconImage_.getSize()[0]*e[0]:void 0}getHeight(){const e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:this.iconImage_.getImageState()==Cr?this.iconImage_.getSize()[1]*e[1]:void 0}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(to,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(to,e)}ready(){return this.iconImage_.ready()}};class bm{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=zf(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Uo({color:"#333"}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new bm({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=zf(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let th=0;const wi=1<<th++,vn=1<<th++,Ri=1<<th++,Oo=1<<th++,Al=1<<th++,Sd=1<<th++,E1=Math.pow(2,6)-1,i8={[wi]:"boolean",[vn]:"number",[Ri]:"string",[Oo]:"color",[Al]:"number[]",[Sd]:"size"},a0e=Object.keys(i8).map(Number).sort(ml);function Cd(t){const e=[];for(const n of a0e)Ed(t,n)&&e.push(i8[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Ed(t,e){return(t&e)===e}function Ns(t,e){return t===e}let Ir=class{constructor(e,n){if(!function(i){return i in i8}(e))throw new Error(`literal expressions must have a specific type, got ${Cd(e)}`);this.type=e,this.value=n}};class s0e{constructor(e,n,...i){this.type=e,this.operator=n,this.args=i}}function sz(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function Vr(t,e,n){switch(typeof t){case"boolean":if(Ns(e,Ri))return new Ir(Ri,t?"true":"false");if(!Ed(e,wi))throw new Error(`got a boolean, but expected ${Cd(e)}`);return new Ir(wi,t);case"number":if(Ns(e,Sd))return new Ir(Sd,zf(t));if(Ns(e,wi))return new Ir(wi,!!t);if(Ns(e,Ri))return new Ir(Ri,t.toString());if(!Ed(e,vn))throw new Error(`got a number, but expected ${Cd(e)}`);return new Ir(vn,t);case"string":if(Ns(e,Oo))return new Ir(Oo,t8(t));if(Ns(e,wi))return new Ir(wi,!!t);if(!Ed(e,Ri))throw new Error(`got a string, but expected ${Cd(e)}`);return new Ir(Ri,t)}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(t.length===0)throw new Error("empty expression");if(typeof t[0]=="string")return function(i,s,l){const f=i[0],h=g0e[f];if(!h)throw new Error(`unknown operator: ${f}`);return h(i,s,l)}(t,e,n);for(const i of t)if(typeof i!="number")throw new Error("expected an array of numbers");if(Ns(e,Sd)){if(t.length!==2)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new Ir(Sd,t)}if(Ns(e,Oo)){if(t.length===3)return new Ir(Oo,[...t,1]);if(t.length===4)return new Ir(Oo,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!Ed(e,Al))throw new Error(`got an array of numbers, but expected ${Cd(e)}`);return new Ir(Al,t)}const y3="get",_3="var",uz="concat",lz="geometry-type",u0e="line-metric",b3="any",w3="all",x3="!",cz="resolution",l0e="zoom",c0e="time",S3="==",C3="!=",E3=">",A3=">=",k3="<",F3="<=",I3="*",M3="/",D3="+",T3="-",P3="clamp",R3="%",B3="^",O3="abs",L3="floor",z3="ceil",N3="round",j3="sin",q3="cos",$3="atan",U3="sqrt",fz="match",G3="between",hz="interpolate",H3="coalesce",dz="case",V3="in",W3="number",Y3="string",f0e="array",h0e="color",pz="id",d0e="band",p0e="palette",X3="to-string",K3="has",g0e={[y3]:en(un(1,1/0),aP),[_3]:en(un(1,1),function(t,e,n){const i=t[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return n.variables.add(i),[new Ir(Ri,i)]}),[K3]:en(un(1,1/0),aP),[pz]:en(function(t,e,n){n.featureId=!0},of),[uz]:en(un(2,1/0),Cn(Ri)),[lz]:en(function(t,e,n){n.geometryType=!0},of),[u0e]:en(of),[cz]:en(of),[l0e]:en(of),[c0e]:en(of),[b3]:en(un(2,1/0),Cn(wi)),[w3]:en(un(2,1/0),Cn(wi)),[x3]:en(un(1,1),Cn(wi)),[S3]:en(un(2,2),Cn(E1)),[C3]:en(un(2,2),Cn(E1)),[E3]:en(un(2,2),Cn(vn)),[A3]:en(un(2,2),Cn(vn)),[k3]:en(un(2,2),Cn(vn)),[F3]:en(un(2,2),Cn(vn)),[I3]:en(un(2,1/0),sP),[H3]:en(un(2,1/0),sP),[M3]:en(un(2,2),Cn(vn)),[D3]:en(un(2,1/0),Cn(vn)),[T3]:en(un(2,2),Cn(vn)),[P3]:en(un(3,3),Cn(vn)),[R3]:en(un(2,2),Cn(vn)),[B3]:en(un(2,2),Cn(vn)),[O3]:en(un(1,1),Cn(vn)),[L3]:en(un(1,1),Cn(vn)),[z3]:en(un(1,1),Cn(vn)),[N3]:en(un(1,1),Cn(vn)),[j3]:en(un(1,1),Cn(vn)),[q3]:en(un(1,1),Cn(vn)),[$3]:en(un(1,2),Cn(vn)),[U3]:en(un(1,1),Cn(vn)),[fz]:en(un(4,1/0),uP,function(t,e,n){const i=t.length-1,s=Ri|vn|wi,l=Vr(t[1],s,n),f=Vr(t[t.length-1],e,n),h=new Array(i-2);for(let p=0;p<i-2;p+=2){try{const m=Vr(t[p+2],l.type,n);h[p]=m}catch(m){throw new Error(`failed to parse argument ${p+1} of match expression: ${m.message}`)}try{const m=Vr(t[p+3],f.type,n);h[p+1]=m}catch(m){throw new Error(`failed to parse argument ${p+2} of match expression: ${m.message}`)}}return[l,...h,f]}),[G3]:en(un(3,3),Cn(vn)),[hz]:en(un(6,1/0),uP,function(t,e,n){const i=t[1];let s;switch(i[0]){case"linear":s=1;break;case"exponential":const p=i[1];if(typeof p!="number"||p<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(p)} instead`);s=p;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const l=new Ir(vn,s);let f;try{f=Vr(t[2],vn,n)}catch(p){throw new Error(`failed to parse argument 1 in interpolate expression: ${p.message}`)}const h=new Array(t.length-3);for(let p=0;p<h.length;p+=2){try{const m=Vr(t[p+3],vn,n);h[p]=m}catch(m){throw new Error(`failed to parse argument ${p+2} for interpolate expression: ${m.message}`)}try{const m=Vr(t[p+4],e,n);h[p+1]=m}catch(m){throw new Error(`failed to parse argument ${p+3} for interpolate expression: ${m.message}`)}}return[l,f,...h]}),[dz]:en(un(3,1/0),function(t,e,n){const i=t[0],s=t.length-1;if(s%2==0)throw new Error(`expected an odd number of arguments for ${i}, got ${s} instead`)},function(t,e,n){const i=Vr(t[t.length-1],e,n),s=new Array(t.length-1);for(let l=0;l<s.length-1;l+=2){try{const f=Vr(t[l+1],wi,n);s[l]=f}catch(f){throw new Error(`failed to parse argument ${l} of case expression: ${f.message}`)}try{const f=Vr(t[l+2],i.type,n);s[l+1]=f}catch(f){throw new Error(`failed to parse argument ${l+1} of case expression: ${f.message}`)}}return s[s.length-1]=i,s}),[V3]:en(un(2,2),function(t,e,n){let i,s=t[2];if(!Array.isArray(s))throw new Error('the second argument for the "in" operator must be an array');if(typeof s[0]=="string"){if(s[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(s[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');s=s[1],i=Ri}else i=vn;const l=new Array(s.length);for(let f=0;f<l.length;f++)try{const h=Vr(s[f],i,n);l[f]=h}catch(h){throw new Error(`failed to parse haystack item ${f} for "in" expression: ${h.message}`)}return[Vr(t[1],i,n),...l]}),[W3]:en(un(1,1/0),Cn(E1)),[Y3]:en(un(1,1/0),Cn(E1)),[f0e]:en(un(1,1/0),Cn(vn)),[h0e]:en(un(1,4),Cn(vn)),[d0e]:en(un(1,3),Cn(vn)),[p0e]:en(un(2,2),function(t,e,n){let i;try{i=Vr(t[1],vn,n)}catch(f){throw new Error(`failed to parse first argument in palette expression: ${f.message}`)}const s=t[2];if(!Array.isArray(s))throw new Error("the second argument of palette must be an array");const l=new Array(s.length);for(let f=0;f<l.length;f++){let h;try{h=Vr(s[f],Oo,n)}catch(p){throw new Error(`failed to parse color at index ${f} in palette expression: ${p.message}`)}if(!(h instanceof Ir))throw new Error(`the palette color at index ${f} must be a literal value`);l[f]=h}return[i,...l]}),[X3]:en(un(1,1),Cn(wi|vn|Ri|Oo))};function aP(t,e,n){const i=t.length-1,s=new Array(i);for(let l=0;l<i;++l){const f=t[l+1];switch(typeof f){case"number":s[l]=new Ir(vn,f);break;case"string":s[l]=new Ir(Ri,f);break;default:throw new Error(`expected a string key or numeric array index for a get operation, got ${f}`)}l===0&&n.properties.add(String(f))}return s}function of(t,e,n){const i=t[0];if(t.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function un(t,e){return function(n,i,s){const l=n[0],f=n.length-1;if(t===e){if(f!==t)throw new Error(`expected ${t} argument${t===1?"":"s"} for ${l}, got ${f}`)}else if(f<t||f>e)throw new Error(`expected ${e===1/0?`${t} or more`:`${t} to ${e}`} arguments for ${l}, got ${f}`)}}function sP(t,e,n){const i=t.length-1,s=new Array(i);for(let l=0;l<i;++l){const f=Vr(t[l+1],e,n);s[l]=f}return s}function Cn(t){return function(e,n,i){const s=e.length-1,l=new Array(s);for(let f=0;f<s;++f){const h=Vr(e[f+1],t,i);l[f]=h}return l}}function uP(t,e,n){const i=t[0],s=t.length-1;if(s%2==1)throw new Error(`expected an even number of arguments for operation ${i}, got ${s} instead`)}function en(...t){return function(e,n,i){const s=e[0];let l;for(let f=0;f<t.length;f++){const h=t[f](e,n,i);if(f==t.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");l=h}}return new s0e(n,s,...l)}}function gz(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return gz(t.getGeometries()[0]);default:return""}}function Ka(t,e,n){return To(Vr(t,e,n))}function To(t,e){if(t instanceof Ir){if(t.type===Oo&&typeof t.value=="string"){const i=t8(t.value);return function(){return i}}return function(){return t.value}}const n=t.operator;switch(n){case W3:case Y3:case H3:return function(i){const s=i.operator,l=i.args.length,f=new Array(l);for(let h=0;h<l;++h)f[h]=To(i.args[h]);switch(s){case H3:return h=>{for(let p=0;p<l;++p){const m=f[p](h);if(m!=null)return m}throw new Error("Expected one of the values to be non-null")};case W3:case Y3:return h=>{for(let p=0;p<l;++p){const m=f[p](h);if(typeof m===s)return m}throw new Error(`Expected one of the values to be a ${s}`)};default:throw new Error(`Unsupported assertion operator ${s}`)}}(t);case y3:case _3:case K3:return function(i){const s=i.args[0],l=s.value;switch(i.operator){case y3:return f=>{const h=i.args;let p=f.properties[l];for(let m=1,g=h.length;m<g;++m)p=p[h[m].value];return p};case _3:return f=>f.variables[l];case K3:return f=>{const h=i.args;if(!(l in f.properties))return!1;let p=f.properties[l];for(let m=1,g=h.length;m<g;++m){const b=h[m].value;if(!p||!Object.hasOwn(p,b))return!1;p=p[b]}return!0};default:throw new Error(`Unsupported accessor operator ${i.operator}`)}}(t);case pz:return i=>i.featureId;case lz:return i=>i.geometryType;case uz:{const i=t.args.map(s=>To(s));return s=>"".concat(...i.map(l=>l(s).toString()))}case cz:return i=>i.resolution;case b3:case w3:case G3:case V3:case x3:return function(i){const s=i.operator,l=i.args.length,f=new Array(l);for(let h=0;h<l;++h)f[h]=To(i.args[h]);switch(s){case b3:return h=>{for(let p=0;p<l;++p)if(f[p](h))return!0;return!1};case w3:return h=>{for(let p=0;p<l;++p)if(!f[p](h))return!1;return!0};case G3:return h=>{const p=f[0](h),m=f[1](h),g=f[2](h);return p>=m&&p<=g};case V3:return h=>{const p=f[0](h);for(let m=1;m<l;++m)if(p===f[m](h))return!0;return!1};case x3:return h=>!f[0](h);default:throw new Error(`Unsupported logical operator ${s}`)}}(t);case S3:case C3:case k3:case F3:case E3:case A3:return function(i){const s=i.operator,l=To(i.args[0]),f=To(i.args[1]);switch(s){case S3:return h=>l(h)===f(h);case C3:return h=>l(h)!==f(h);case k3:return h=>l(h)<f(h);case F3:return h=>l(h)<=f(h);case E3:return h=>l(h)>f(h);case A3:return h=>l(h)>=f(h);default:throw new Error(`Unsupported comparison operator ${s}`)}}(t);case I3:case M3:case D3:case T3:case P3:case R3:case B3:case O3:case L3:case z3:case N3:case j3:case q3:case $3:case U3:return function(i){const s=i.operator,l=i.args.length,f=new Array(l);for(let h=0;h<l;++h)f[h]=To(i.args[h]);switch(s){case I3:return h=>{let p=1;for(let m=0;m<l;++m)p*=f[m](h);return p};case M3:return h=>f[0](h)/f[1](h);case D3:return h=>{let p=0;for(let m=0;m<l;++m)p+=f[m](h);return p};case T3:return h=>f[0](h)-f[1](h);case P3:return h=>{const p=f[0](h),m=f[1](h);if(p<m)return m;const g=f[2](h);return p>g?g:p};case R3:return h=>f[0](h)%f[1](h);case B3:return h=>Math.pow(f[0](h),f[1](h));case O3:return h=>Math.abs(f[0](h));case L3:return h=>Math.floor(f[0](h));case z3:return h=>Math.ceil(f[0](h));case N3:return h=>Math.round(f[0](h));case j3:return h=>Math.sin(f[0](h));case q3:return h=>Math.cos(f[0](h));case $3:return l===2?h=>Math.atan2(f[0](h),f[1](h)):h=>Math.atan(f[0](h));case U3:return h=>Math.sqrt(f[0](h));default:throw new Error(`Unsupported numeric operator ${s}`)}}(t);case dz:return function(i){const s=i.args.length,l=new Array(s);for(let f=0;f<s;++f)l[f]=To(i.args[f]);return f=>{for(let h=0;h<s-1;h+=2)if(l[h](f))return l[h+1](f);return l[s-1](f)}}(t);case fz:return function(i){const s=i.args.length,l=new Array(s);for(let f=0;f<s;++f)l[f]=To(i.args[f]);return f=>{const h=l[0](f);for(let p=1;p<s;p+=2)if(h===l[p](f))return l[p+1](f);return l[s-1](f)}}(t);case hz:return function(i){const s=i.args.length,l=new Array(s);for(let f=0;f<s;++f)l[f]=To(i.args[f]);return f=>{const h=l[0](f),p=l[1](f);let m,g;for(let b=2;b<s;b+=2){const S=l[b](f);let w=l[b+1](f);const C=Array.isArray(w);if(C&&(w=e0e(w)),S>=p)return b===2?w:C?v0e(h,p,m,g,S,w):Ad(h,p,m,g,S,w);m=S,g=w}return g}}(t);case X3:return function(i){const s=i.operator,l=i.args.length,f=new Array(l);for(let h=0;h<l;++h)f[h]=To(i.args[h]);if(s===X3)return h=>{const p=f[0](h);return i.args[0].type===Oo?n8(p):p.toString()};throw new Error(`Unsupported convert operator ${s}`)}(t);default:throw new Error(`Unsupported operator ${n}`)}}function Ad(t,e,n,i,s,l){const f=s-n;if(f===0)return i;const h=e-n;return i+(t===1?h/f:(Math.pow(t,h)-1)/(Math.pow(t,f)-1))*(l-i)}function v0e(t,e,n,i,s,l){if(s-n===0)return i;const f=eP(i),h=eP(l);let p=h[2]-f[2];return p>180?p-=360:p<-180&&(p+=360),ez(function(m){const g=li.rgb(QL.xyz(m));return g[3]=m[3],g}([Ad(t,e,n,f[0],s,h[0]),Ad(t,e,n,f[1],s,h[1]),f[2]+Ad(t,e,n,0,s,p),Ad(t,e,n,i[3],s,l[3])]))}function m0e(t){return!0}function y0e(t){const e=sz(),n=function(s,l){const f=s.length,h=new Array(f);for(let p=0;p<f;++p){const m=s[p],g="filter"in m?Ka(m.filter,wi,l):m0e;let b;if(Array.isArray(m.style)){const S=m.style.length;b=new Array(S);for(let w=0;w<S;++w)b[w]=Z3(m.style[w],l)}else b=[Z3(m.style,l)];h[p]={filter:g,styles:b}}return function(p){const m=[];let g=!1;for(let b=0;b<f;++b)if((0,h[b].filter)(p)&&(!s[b].else||!g)){g=!0;for(const S of h[b].styles){const w=S(p);w&&m.push(w)}}return m}}(t,e),i={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(s,l){if(i.properties=s.getPropertiesInternal(),i.resolution=l,e.featureId){const f=s.getId();i.featureId=f!==void 0?f:null}return e.geometryType&&(i.geometryType=gz(s.getGeometry())),n(i)}}function lP(t){const e=sz(),n=t.length,i=new Array(n);for(let f=0;f<n;++f)i[f]=Z3(t[f],e);const s={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},l=new Array(n);return function(f,h){if(s.properties=f.getPropertiesInternal(),s.resolution=h,e.featureId){const m=f.getId();s.featureId=m!==void 0?m:null}let p=0;for(let m=0;m<n;++m){const g=i[m](s);g&&(l[p]=g,p+=1)}return l.length=p,l}}function Z3(t,e){const n=pd(t,"",e),i=gd(t,"",e),s=function(p,m){const g="text-",b=za(p,g+"value",m);if(!b)return null;const S=pd(p,g,m),w=pd(p,g+"background-",m),C=gd(p,g,m),M=gd(p,g+"background-",m),T=za(p,g+"font",m),D=Di(p,g+"max-angle",m),R=Di(p,g+"offset-x",m),q=Di(p,g+"offset-y",m),Y=af(p,g+"overflow",m),K=za(p,g+"placement",m),ce=Di(p,g+"repeat",m),te=k1(p,g+"scale",m),ee=af(p,g+"rotate-with-view",m),he=Di(p,g+"rotation",m),be=za(p,g+"align",m),Fe=za(p,g+"justify",m),oe=za(p,g+"baseline",m),Se=af(p,g+"keep-upright",m),fe=vz(p,g+"padding",m),Te=I1(p,g+"declutter-mode"),Le=new bm({declutterMode:Te});return function(Pe){if(Le.setText(b(Pe)),S&&Le.setFill(S(Pe)),w&&Le.setBackgroundFill(w(Pe)),C&&Le.setStroke(C(Pe)),M&&Le.setBackgroundStroke(M(Pe)),T&&Le.setFont(T(Pe)),D&&Le.setMaxAngle(D(Pe)),R&&Le.setOffsetX(R(Pe)),q&&Le.setOffsetY(q(Pe)),Y&&Le.setOverflow(Y(Pe)),K){const ze=K(Pe);if(ze!=="point"&&ze!=="line")throw new Error("Expected point or line for text-placement");Le.setPlacement(ze)}if(ce&&Le.setRepeat(ce(Pe)),te&&Le.setScale(te(Pe)),ee&&Le.setRotateWithView(ee(Pe)),he&&Le.setRotation(he(Pe)),be){const ze=be(Pe);if(ze!=="left"&&ze!=="center"&&ze!=="right"&&ze!=="end"&&ze!=="start")throw new Error("Expected left, right, center, start, or end for text-align");Le.setTextAlign(ze)}if(Fe){const ze=Fe(Pe);if(ze!=="left"&&ze!=="right"&&ze!=="center")throw new Error("Expected left, right, or center for text-justify");Le.setJustify(ze)}if(oe){const ze=oe(Pe);if(ze!=="bottom"&&ze!=="top"&&ze!=="middle"&&ze!=="alphabetic"&&ze!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");Le.setTextBaseline(ze)}return fe&&Le.setPadding(fe(Pe)),Se&&Le.setKeepUpright(Se(Pe)),Le}}(t,e),l=function(p,m){return"icon-src"in p?function(g,b){const S="icon-",w=S+"src",C=mz(g[w],w),M=A1(g,S+"anchor",b),T=k1(g,S+"scale",b),D=Di(g,S+"opacity",b),R=A1(g,S+"displacement",b),q=Di(g,S+"rotation",b),Y=af(g,S+"rotate-with-view",b),K=fP(g,S+"anchor-origin"),ce=hP(g,S+"anchor-x-units"),te=hP(g,S+"anchor-y-units"),ee=function(Pe,ze){const Je=Pe[ze];if(Je!==void 0)return yz(Je,ze)}(g,S+"color"),he=function(Pe,ze){const Je=Pe[ze];if(Je!==void 0){if(typeof Je!="string")throw new Error(`Expected a string for ${ze}`);return Je}}(g,S+"cross-origin"),be=function(Pe,ze){const Je=Pe[ze];if(Je!==void 0)return P0(Je,ze)}(g,S+"offset"),Fe=fP(g,S+"offset-origin"),oe=F1(g,S+"width"),Se=F1(g,S+"height"),fe=function(Pe,ze){const Je=Pe[ze];if(Je!==void 0){if(typeof Je=="number")return zf(Je);if(!Array.isArray(Je))throw new Error(`Expected a number or size array for ${ze}`);if(Je.length!==2||typeof Je[0]!="number"||typeof Je[1]!="number")throw new Error(`Expected a number or size array for ${ze}`);return Je}}(g,S+"size"),Te=I1(g,S+"declutter-mode"),Le=new T0({src:C,anchorOrigin:K,anchorXUnits:ce,anchorYUnits:te,color:ee,crossOrigin:he,offset:be,offsetOrigin:Fe,height:Se,width:oe,size:fe,declutterMode:Te});return function(Pe){return D&&Le.setOpacity(D(Pe)),R&&Le.setDisplacement(R(Pe)),q&&Le.setRotation(q(Pe)),Y&&Le.setRotateWithView(Y(Pe)),T&&Le.setScale(T(Pe)),M&&Le.setAnchor(M(Pe)),Le}}(p,m):"shape-points"in p?function(g,b){const S="shape-",w=S+"points",C=S+"radius",M=Q3(g[w],w),T=Q3(g[C],C),D=pd(g,S,b),R=gd(g,S,b),q=k1(g,S+"scale",b),Y=A1(g,S+"displacement",b),K=Di(g,S+"rotation",b),ce=af(g,S+"rotate-with-view",b),te=F1(g,S+"radius2"),ee=F1(g,S+"angle"),he=I1(g,S+"declutter-mode"),be=new Qf({points:M,radius:T,radius2:te,angle:ee,declutterMode:he});return function(Fe){return D&&be.setFill(D(Fe)),R&&be.setStroke(R(Fe)),Y&&be.setDisplacement(Y(Fe)),K&&be.setRotation(K(Fe)),ce&&be.setRotateWithView(ce(Fe)),q&&be.setScale(q(Fe)),be}}(p,m):"circle-radius"in p?function(g,b){const S="circle-",w=pd(g,S,b),C=gd(g,S,b),M=Di(g,S+"radius",b),T=k1(g,S+"scale",b),D=A1(g,S+"displacement",b),R=Di(g,S+"rotation",b),q=af(g,S+"rotate-with-view",b),Y=I1(g,S+"declutter-mode"),K=new eh({radius:5,declutterMode:Y});return function(ce){return M&&K.setRadius(M(ce)),w&&K.setFill(w(ce)),C&&K.setStroke(C(ce)),D&&K.setDisplacement(D(ce)),R&&K.setRotation(R(ce)),q&&K.setRotateWithView(q(ce)),T&&K.setScale(T(ce)),K}}(p,m):null}(t,e),f=Di(t,"z-index",e);if(!(n||i||s||l||xl(t)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const h=new eo;return function(p){let m=!0;if(n){const g=n(p);g&&(m=!1),h.setFill(g)}if(i){const g=i(p);g&&(m=!1),h.setStroke(g)}if(s){const g=s(p);g&&(m=!1),h.setText(g)}if(l){const g=l(p);g&&(m=!1),h.setImage(g)}return f&&h.setZIndex(f(p)),m?null:h}}function pd(t,e,n){let i;if(e+"fill-pattern-src"in t)i=function(l,f,h){const p=za(l,f+"pattern-src",h),m=cP(l,f+"pattern-offset",h),g=cP(l,f+"pattern-size",h),b=J3(l,f+"color",h);return function(S){return{src:p(S),offset:m&&m(S),size:g&&g(S),color:b&&b(S)}}}(t,e+"fill-",n);else{if(t[e+"fill-color"]==="none")return l=>null;i=J3(t,e+"fill-color",n)}if(!i)return null;const s=new Uo;return function(l){const f=i(l);return f===e8?null:(s.setColor(f),s)}}function gd(t,e,n){const i=Di(t,e+"stroke-width",n),s=J3(t,e+"stroke-color",n);if(!i&&!s)return null;const l=za(t,e+"stroke-line-cap",n),f=za(t,e+"stroke-line-join",n),h=vz(t,e+"stroke-line-dash",n),p=Di(t,e+"stroke-line-dash-offset",n),m=Di(t,e+"stroke-miter-limit",n),g=new ba;return function(b){if(s){const S=s(b);if(S===e8)return null;g.setColor(S)}if(i&&g.setWidth(i(b)),l){const S=l(b);if(S!=="butt"&&S!=="round"&&S!=="square")throw new Error("Expected butt, round, or square line cap");g.setLineCap(S)}if(f){const S=f(b);if(S!=="bevel"&&S!=="round"&&S!=="miter")throw new Error("Expected bevel, round, or miter line join");g.setLineJoin(S)}return h&&g.setLineDash(h(b)),p&&g.setLineDashOffset(p(b)),m&&g.setMiterLimit(m(b)),g}}function Di(t,e,n){if(!(e in t))return;const i=Ka(t[e],vn,n);return function(s){return Q3(i(s),e)}}function za(t,e,n){if(!(e in t))return null;const i=Ka(t[e],Ri,n);return function(s){return mz(i(s),e)}}function af(t,e,n){if(!(e in t))return null;const i=Ka(t[e],wi,n);return function(s){const l=i(s);if(typeof l!="boolean")throw new Error(`Expected a boolean for ${e}`);return l}}function J3(t,e,n){if(!(e in t))return null;const i=Ka(t[e],Oo,n);return function(s){return yz(i(s),e)}}function vz(t,e,n){if(!(e in t))return null;const i=Ka(t[e],Al,n);return function(s){return P0(i(s),e)}}function A1(t,e,n){if(!(e in t))return null;const i=Ka(t[e],Al,n);return function(s){const l=P0(i(s),e);if(l.length!==2)throw new Error(`Expected two numbers for ${e}`);return l}}function cP(t,e,n){if(!(e in t))return null;const i=Ka(t[e],Al,n);return function(s){return _z(i(s),e)}}function k1(t,e,n){if(!(e in t))return null;const i=Ka(t[e],Al|vn,n);return function(s){return function(l,f){return typeof l=="number"?l:_z(l,f)}(i(s),e)}}function F1(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function fP(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function hP(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function I1(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function P0(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if(typeof t[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function mz(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function Q3(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function yz(t,e){if(typeof t=="string")return t;const n=P0(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function _z(t,e){const n=P0(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}const dP="renderOrder";class _0e extends Vde{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0&&e.updateWhileAnimating,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(dP)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const i=this.getDeclutter();!(i in e.declutter)&&(e.declutter[i]=new JL(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(dP,e)}setStyle(e){this.style_=e===void 0?rP:e;const n=function(i){if(i===void 0)return rP;if(!i)return null;if(typeof i=="function"||i instanceof eo)return i;if(!Array.isArray(i))return lP([i]);if(i.length===0)return[];const s=i.length,l=i[0];if(l instanceof eo){const f=new Array(s);for(let h=0;h<s;++h){const p=i[h];if(!(p instanceof eo))throw new Error("Expected a list of style instances");f[h]=p}return f}if("style"in l){const f=new Array(s);for(let h=0;h<s;++h){const p=i[h];if(!("style"in p))throw new Error("Expected a list of rules with a style property");f[h]=p}return y0e(f)}return lP(i)}(e);this.styleFunction_=e===null?void 0:function(i){let s;if(typeof i=="function")s=i;else{let l;Array.isArray(i)?l=i:(Dr(typeof i.getZIndex=="function","Expected an `Style` or an array of `Style`"),l=[i]),s=function(){return l}}return s}(n),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}const J1=0,bz=1,wz=2,xz=3,Po=4,eS=5,Ju=6,tS=7,Sz=8,o8=9,Ld=10,yl=11,Cz=12,M1=[Sz],eu=[Cz],cl=[bz],pP=[xz];class Ez{drawCustom(e,n,i,s,l){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,i){}drawFeature(e,n,i){}drawGeometryCollection(e,n,i){}drawLineString(e,n,i){}drawMultiLineString(e,n,i){}drawMultiPoint(e,n,i){}drawMultiPolygon(e,n,i){}drawPoint(e,n,i){}drawPolygon(e,n,i){}drawText(e,n,i){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class kd extends Ez{constructor(e,n,i,s){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=s,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(i){return i*n})}appendFlatPointCoordinates(e,n){const i=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,l=this.coordinates;let f=l.length;for(let h=0,p=e.length;h<p;h+=n)s[0]=e[h],s[1]=e[h+1],Xx(i,s)&&(l[f++]=s[0],l[f++]=s[1]);return f}appendFlatLineCoordinates(e,n,i,s,l,f){const h=this.coordinates;let p=h.length;const m=this.getBufferedMaxExtent();f&&(n+=s);let g=e[n],b=e[n+1];const S=this.tmpCoordinate_;let w,C,M,T=!0;for(w=n+s;w<i;w+=s)S[0]=e[w],S[1]=e[w+1],M=Kx(m,S),M!==C?(T&&(h[p++]=g,h[p++]=b,T=!1),h[p++]=S[0],h[p++]=S[1]):M===Sv?(h[p++]=S[0],h[p++]=S[1],T=!1):T=!0,g=S[0],b=S[1],C=M;return(l&&T||w===n+s)&&(h[p++]=g,h[p++]=b),p}drawCustomCoordinates_(e,n,i,s,l){for(let f=0,h=i.length;f<h;++f){const p=i[f],m=this.appendFlatLineCoordinates(e,n,p,s,!1,!1);l.push(m),n=p}return n}drawCustom(e,n,i,s,l){this.beginGeometry(e,n,l);const f=e.getType(),h=e.getStride(),p=this.coordinates.length;let m,g,b,S,w;switch(f){case"MultiPolygon":m=e.getOrientedFlatCoordinates(),S=[];const C=e.getEndss();w=0;for(let M=0,T=C.length;M<T;++M){const D=[];w=this.drawCustomCoordinates_(m,w,C[M],h,D),S.push(D)}this.instructions.push([Po,p,S,e,i,n3,l]),this.hitDetectionInstructions.push([Po,p,S,e,s||i,n3,l]);break;case"Polygon":case"MultiLineString":b=[],m=f=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),w=this.drawCustomCoordinates_(m,0,e.getEnds(),h,b),this.instructions.push([Po,p,b,e,i,u0,l]),this.hitDetectionInstructions.push([Po,p,b,e,s||i,u0,l]);break;case"LineString":case"Circle":m=e.getFlatCoordinates(),g=this.appendFlatLineCoordinates(m,0,m.length,h,!1,!1),this.instructions.push([Po,p,g,e,i,Qs,l]),this.hitDetectionInstructions.push([Po,p,g,e,s||i,Qs,l]);break;case"MultiPoint":m=e.getFlatCoordinates(),g=this.appendFlatPointCoordinates(m,h),g>p&&(this.instructions.push([Po,p,g,e,i,Qs,l]),this.hitDetectionInstructions.push([Po,p,g,e,s||i,Qs,l]));break;case"Point":m=e.getFlatCoordinates(),this.coordinates.push(m[0],m[1]),g=this.coordinates.length,this.instructions.push([Po,p,g,e,i,void 0,l]),this.hitDetectionInstructions.push([Po,p,g,e,s||i,void 0,l])}this.endGeometry(n)}beginGeometry(e,n,i){this.beginGeometryInstruction1_=[J1,n,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[J1,n,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;let n;e.reverse();const i=e.length;let s,l,f=-1;for(n=0;n<i;++n)s=e[n],l=s[0],l==tS?f=n:l==J1&&(s[2]=n,Qhe(this.hitDetectionInstructions,f,n),f=-1)}setFillStrokeStyle(e,n){const i=this.state;if(e){const s=e.getColor();i.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,i.fillStyle=ga(s||Pi)}else i.fillStyle=void 0;if(n){const s=n.getColor();i.strokeStyle=ga(s||f0);const l=n.getLineCap();i.lineCap=l!==void 0?l:Nf;const f=n.getLineDash();i.lineDash=f?f.slice():qa;const h=n.getLineDashOffset();i.lineDashOffset=h||0;const p=n.getLineJoin();i.lineJoin=p!==void 0?p:jf;const m=n.getWidth();i.lineWidth=m!==void 0?m:1;const g=n.getMiterLimit();i.miterLimit=g!==void 0?g:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const n=e.fillStyle,i=[Ld,n];return typeof n!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[yl,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const i=e.fillStyle;typeof i=="string"&&e.currentFillStyle==i||(i!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,n){const i=e.strokeStyle,s=e.lineCap,l=e.lineDash,f=e.lineDashOffset,h=e.lineJoin,p=e.lineWidth,m=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=s||l!=e.currentLineDash&&!Zf(e.currentLineDash,l)||e.currentLineDashOffset!=f||e.currentLineJoin!=h||e.currentLineWidth!=p||e.currentMiterLimit!=m)&&(i!==void 0&&n.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=s,e.currentLineDash=l,e.currentLineDashOffset=f,e.currentLineJoin=h,e.currentLineWidth=p,e.currentMiterLimit=m)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[tS,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(e=this.maxExtent,n?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n):e.slice()),this.maxLineWidth>0)){const i=this.resolution*(this.maxLineWidth+1)/2;dm(this.bufferedMaxExtent_,i,this.bufferedMaxExtent_)}var e,n;return this.bufferedMaxExtent_}}class gP extends kd{constructor(e,n,i,s){super(e,n,i,s)}drawFlatCoordinatess_(e,n,i,s){const l=this.state,f=l.fillStyle!==void 0,h=l.strokeStyle!==void 0,p=i.length;this.instructions.push(cl),this.hitDetectionInstructions.push(cl);for(let m=0;m<p;++m){const g=i[m],b=this.coordinates.length,S=this.appendFlatLineCoordinates(e,n,g,s,!0,!h),w=[o8,b,S];this.instructions.push(w),this.hitDetectionInstructions.push(w),h&&(this.instructions.push(pP),this.hitDetectionInstructions.push(pP)),n=g}return f&&(this.instructions.push(M1),this.hitDetectionInstructions.push(M1)),h&&(this.instructions.push(eu),this.hitDetectionInstructions.push(eu)),n}drawCircle(e,n,i){const s=this.state,l=s.fillStyle,f=s.strokeStyle;if(l===void 0&&f===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ld,Pi]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([yl,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,qa,0]);const h=e.getFlatCoordinates(),p=e.getStride(),m=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,p,!1,!1);const g=[wz,m];this.instructions.push(cl,g),this.hitDetectionInstructions.push(cl,g),s.fillStyle!==void 0&&(this.instructions.push(M1),this.hitDetectionInstructions.push(M1)),s.strokeStyle!==void 0&&(this.instructions.push(eu),this.hitDetectionInstructions.push(eu)),this.endGeometry(n)}drawPolygon(e,n,i){const s=this.state,l=s.fillStyle,f=s.strokeStyle;if(l===void 0&&f===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ld,Pi]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([yl,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,qa,0]);const h=e.getEnds(),p=e.getOrientedFlatCoordinates(),m=e.getStride();this.drawFlatCoordinatess_(p,0,h,m),this.endGeometry(n)}drawMultiPolygon(e,n,i){const s=this.state,l=s.fillStyle,f=s.strokeStyle;if(l===void 0&&f===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ld,Pi]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([yl,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,qa,0]);const h=e.getEndss(),p=e.getOrientedFlatCoordinates(),m=e.getStride();let g=0;for(let b=0,S=h.length;b<S;++b)g=this.drawFlatCoordinatess_(p,g,h[b],m);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let i=0,s=n.length;i<s;++i)n[i]=Zu(n[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function b0e(t,e,n,i,s){const l=[];let f=n,h=0,p=e.slice(n,2);for(;h<t&&f+s<i;){const[m,g]=p.slice(-2),b=e[f+s],S=e[f+s+1],w=Math.sqrt((b-m)*(b-m)+(S-g)*(S-g));if(h+=w,h>=t){const C=(t-h+w)/w,M=Ki(m,b,C),T=Ki(g,S,C);p.push(M,T),l.push(p),p=[M,T],h==t&&(f+=s),h=0}else if(h<t)p.push(e[f+s],e[f+s+1]),f+=s;else{const C=w-h,M=Ki(m,b,C/w),T=Ki(g,S,C/w);p.push(M,T),l.push(p),p=[M,T],h=0,f+=s}}return h>0&&l.push(p),l}function w0e(t,e,n,i,s){let l,f,h,p,m,g,b,S,w,C,M=n,T=n,D=0,R=0,q=n;for(f=n;f<i;f+=s){const Y=e[f],K=e[f+1];m!==void 0&&(w=Y-m,C=K-g,p=Math.sqrt(w*w+C*C),b!==void 0&&(R+=h,l=Math.acos((b*w+S*C)/(h*p)),l>t&&(R>D&&(D=R,M=q,T=f),R=0,q=f-s)),h=p,b=w,S=C),m=Y,g=K}return R+=p,R>D?[q,f]:[M,T]}const Lv={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},x0e={Circle:gP,Default:kd,Image:class extends kd{constructor(t,e,n,i){super(t,e,n,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e,n){if(!this.image_||this.maxExtent&&!Xx(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),s=t.getStride(),l=this.coordinates.length,f=this.appendFlatPointCoordinates(i,s);this.instructions.push([Ju,l,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ju,l,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e,n){if(!this.image_)return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),s=[];for(let h=0,p=i.length;h<p;h+=t.getStride())this.maxExtent&&!Xx(this.maxExtent,i.slice(h,h+2))||s.push(i[h],i[h+1]);const l=this.coordinates.length,f=this.appendFlatPointCoordinates(s,2);this.instructions.push([Ju,l,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ju,l,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const n=t.getAnchor(),i=t.getSize(),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}},LineString:class extends kd{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinates_(t,e,n,i){const s=this.coordinates.length,l=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),f=[o8,s,l];return this.instructions.push(f),this.hitDetectionInstructions.push(f),n}drawLineString(t,e,n){const i=this.state,s=i.strokeStyle,l=i.lineWidth;if(s===void 0||l===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([yl,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,qa,0],cl);const f=t.getFlatCoordinates(),h=t.getStride();this.drawFlatCoordinates_(f,0,f.length,h),this.hitDetectionInstructions.push(eu),this.endGeometry(e)}drawMultiLineString(t,e,n){const i=this.state,s=i.strokeStyle,l=i.lineWidth;if(s===void 0||l===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([yl,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,qa,0],cl);const f=t.getEnds(),h=t.getFlatCoordinates(),p=t.getStride();let m=0;for(let g=0,b=f.length;g<b;++g)m=this.drawFlatCoordinates_(h,m,f[g],p);this.hitDetectionInstructions.push(eu),this.endGeometry(e)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(eu),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(eu),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(cl)}},Polygon:gP,Text:class extends kd{constructor(t,e,n,i){super(t,e,n,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Pi]={fillStyle:Pi},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e,n){const i=this.textFillState_,s=this.textStrokeState_,l=this.textState_;if(this.text_===""||!l||!i&&!s)return;const f=this.coordinates;let h=f.length;const p=t.getType();let m=null,g=t.getStride();if(l.placement!=="line"||p!="LineString"&&p!="MultiLineString"&&p!="Polygon"&&p!="MultiPolygon"){let b=l.overflow?null:[];switch(p){case"Point":case"MultiPoint":m=t.getFlatCoordinates();break;case"LineString":m=t.getFlatMidpoint();break;case"Circle":m=t.getCenter();break;case"MultiLineString":m=t.getFlatMidpoints(),g=2;break;case"Polygon":m=t.getFlatInteriorPoint(),l.overflow||b.push(m[2]/this.resolution),g=3;break;case"MultiPolygon":const D=t.getFlatInteriorPoints();m=[];for(let R=0,q=D.length;R<q;R+=3)l.overflow||b.push(D[R+2]/this.resolution),m.push(D[R],D[R+1]);if(m.length===0)return;g=2}const S=this.appendFlatPointCoordinates(m,g);if(S===h)return;if(b&&(S-h)/2!=m.length/g){let D=h/2;b=b.filter((R,q)=>{const Y=f[2*(D+q)]===m[q*g]&&f[2*(D+q)+1]===m[q*g+1];return Y||--D,Y})}this.saveTextStates_(),(l.backgroundFill||l.backgroundStroke)&&(this.setFillStrokeStyle(l.backgroundFill,l.backgroundStroke),l.backgroundFill&&this.updateFillStyle(this.state,this.createFill),l.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e,n);let w=l.padding;if(w!=ll&&(l.scale[0]<0||l.scale[1]<0)){let D=l.padding[0],R=l.padding[1],q=l.padding[2],Y=l.padding[3];l.scale[0]<0&&(R=-R,Y=-Y),l.scale[1]<0&&(D=-D,q=-q),w=[D,R,q,Y]}const C=this.pixelRatio;this.instructions.push([Ju,h,S,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,w==ll?ll:w.map(function(D){return D*C}),!!l.backgroundFill,!!l.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,b]);const M=1/C,T=this.state.fillStyle;l.backgroundFill&&(this.state.fillStyle=Pi,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([Ju,h,S,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[M,M],NaN,this.declutterMode_,this.declutterImageWithText_,w,!!l.backgroundFill,!!l.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Pi:this.fillKey_,this.textOffsetX_,this.textOffsetY_,b]),l.backgroundFill&&(this.state.fillStyle=T,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(e)}else{if(!Ji(this.maxExtent,t.getExtent()))return;let b;if(m=t.getFlatCoordinates(),p=="LineString")b=[m.length];else if(p=="MultiLineString")b=t.getEnds();else if(p=="Polygon")b=t.getEnds().slice(0,1);else if(p=="MultiPolygon"){const M=t.getEndss();b=[];for(let T=0,D=M.length;T<D;++T)b.push(M[T][0])}this.beginGeometry(t,e,n);const S=l.repeat,w=S?void 0:l.textAlign;let C=0;for(let M=0,T=b.length;M<T;++M){let D;D=S?b0e(S*this.resolution,m,C,b[M],g):[m.slice(C,b[M])];for(let R=0,q=D.length;R<q;++R){const Y=D[R];let K=0,ce=Y.length;if(w==null){const ee=w0e(l.maxAngle,Y,0,Y.length,2);K=ee[0],ce=ee[1]}for(let ee=K;ee<ce;ee+=g)f.push(Y[ee],Y[ee+1]);const te=f.length;C=b[M],this.drawChars_(h,te),h=te}}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:e.font,textAlign:e.textAlign||h0,justify:e.justify,textBaseline:e.textBaseline||Bv,scale:e.scale});const l=this.fillKey_;n&&(l in this.fillStates||(this.fillStates[l]={fillStyle:n.fillStyle}))}drawChars_(t,e){const n=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,l=this.textKey_,f=this.fillKey_;this.saveTextStates_();const h=this.pixelRatio,p=Lv[i.textBaseline],m=this.textOffsetY_*h,g=this.text_,b=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([eS,t,e,p,i.overflow,f,i.maxAngle,h,m,s,b*h,g,l,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([eS,t,e,p,i.overflow,f&&Pi,i.maxAngle,h,m,s,b*h,g,l,1/h,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,e){let n,i,s;if(t){const l=t.getFill();l?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=ga(l.getColor()||Pi)):(i=null,this.textFillState_=i);const f=t.getStroke();if(f){s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const C=f.getLineDash(),M=f.getLineDashOffset(),T=f.getWidth(),D=f.getMiterLimit();s.lineCap=f.getLineCap()||Nf,s.lineDash=C?C.slice():qa,s.lineDashOffset=M===void 0?0:M,s.lineJoin=f.getLineJoin()||jf,s.lineWidth=T===void 0?1:T,s.miterLimit=D===void 0?10:D,s.strokeStyle=ga(f.getColor()||f0)}else s=null,this.textStrokeState_=s;n=this.textState_;const h=t.getFont()||rz;r0e(h);const p=t.getScaleArray();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.repeat=t.getRepeat(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||Bv,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||ll,n.scale=p===void 0?[1,1]:p;const m=t.getOffsetX(),g=t.getOffsetY(),b=t.getRotateWithView(),S=t.getKeepUpright(),w=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=m===void 0?0:m,this.textOffsetY_=g===void 0?0:g,this.textRotateWithView_=b!==void 0&&b,this.textKeepUpright_=S===void 0||S,this.textRotation_=w===void 0?0:w,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:Sr(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?typeof i.fillStyle=="string"?i.fillStyle:"|"+Sr(i.fillStyle):""}else this.text_="";this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}};class S0e{constructor(e,n,i,s){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=s,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const i=this.buildersByZIndex_[n];for(const s in i){const l=i[s].finish();e[n][s]=l}}return e}getBuilder(e,n){const i=e!==void 0?e.toString():"0";let s=this.buildersByZIndex_[i];s===void 0&&(s={},this.buildersByZIndex_[i]=s);let l=s[n];return l===void 0&&(l=new x0e[n](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),s[n]=l),l}}class C0e extends Td{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=5}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return an()}getData(e){return null}prepareFrame(e){return an()}renderFrame(e,n){return an()}forEachFeatureAtCoordinate(e,n,i,s,l){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;n.getState()!==Cr&&n.getState()!==Af||this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=Cr&&n!=Af&&e.addEventListener(to,this.boundHandleImageChange_),n==cu&&(e.load(),n=e.getState()),n==Cr}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class E0e extends Xa{constructor(e,n,i,s){super(e),this.inversePixelTransform=n,this.frameState=i,this.context=s}}class Az{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Rv(),{get:(e,n)=>{if(typeof Rv()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,i),!0)})}pushMethodArgs_=(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this);pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let i=0,s=n.length;i<s;++i){const l=n[i];if(typeof l=="function"){l(e);continue}const f=n[++i];if(typeof e[l]=="function")e[l](...f);else{if(typeof f=="function"){e[l]=f(e);continue}e[l]=f}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const vP=[];let sf=null;class A0e extends C0e{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,n,i){let s;sf||(sf=zi(1,1,void 0,{willReadFrequently:!0})),sf.clearRect(0,0,1,1);try{sf.drawImage(e,n,i,1,1,0,0,1,1),s=sf.getImageData(0,0,1,1).data}catch{return sf=null,null}return s}getBackground(e){let n=this.getLayer().getBackground();return typeof n=="function"&&(n=n(e.viewState.resolution)),n||void 0}useContainer(e,n,i){const s=this.getLayer().getClassName();let l,f;if(e&&e.className===s&&(!i||e&&e.style.backgroundColor&&Zf(mo(e.style.backgroundColor),mo(i)))){const h=e.firstElementChild;h instanceof HTMLCanvasElement&&(f=h.getContext("2d"))}if(f&&f.canvas.style.transform===n?(this.container=e,this.context=f,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){l=document.createElement("div"),l.className=s;let h=l.style;h.position="absolute",h.width="100%",h.height="100%",f=zi();const p=f.canvas;l.appendChild(p),h=p.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=l,this.context=f}this.containerReused||!i||this.container.style.backgroundColor||(this.container.style.backgroundColor=i)}clipUnrotated(e,n,i){const s=D6(i),l=gm(i),f=M6(i),h=i0(i);Yi(n.coordinateToPixelTransform,s),Yi(n.coordinateToPixelTransform,l),Yi(n.coordinateToPixelTransform,f),Yi(n.coordinateToPixelTransform,h);const p=this.inversePixelTransform;Yi(p,s),Yi(p,l),Yi(p,f),Yi(p,h),e.save(),e.beginPath(),e.moveTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.lineTo(Math.round(f[0]),Math.round(f[1])),e.lineTo(Math.round(h[0]),Math.round(h[1])),e.clip()}prepareContainer(e,n){const i=e.extent,s=e.viewState.resolution,l=e.viewState.rotation,f=e.pixelRatio,h=Math.round(Oi(i)/s*f),p=Math.round(Ha(i)/s*f);Sl(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/f,1/f,l,-h/2,-p/2),function(g,b){const S=(w=b)[0]*w[3]-w[1]*w[2];var w;Dr(S!==0,"Transformation matrix cannot be inverted");const C=b[0],M=b[1],T=b[2],D=b[3],R=b[4],q=b[5];g[0]=D/S,g[1]=-M/S,g[2]=-T/S,g[3]=C/S,g[4]=(T*q-D*R)/S,g[5]=-(C*q-M*R)/S}(this.inversePixelTransform,this.pixelTransform);const m=function(g){return"matrix("+g.map((b,S)=>Math.round(b*S7[S])/S7[S]).join(", ")+")"}(this.pixelTransform);if(this.useContainer(n,m,this.getBackground(e)),!this.containerReused){const g=this.context.canvas;g.width!=h||g.height!=p?(g.width=h,g.height=p):this.context.clearRect(0,0,h,p),m!==g.style.transform&&(g.style.transform=m)}}dispatchRenderEvent_(e,n,i){const s=this.getLayer();if(s.hasListener(e)){const l=new E0e(e,this.inversePixelTransform,i,n);s.dispatchEvent(l)}}preRender(e,n){this.frameState=n,n.declutter||this.dispatchRenderEvent_(c3,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(f3,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new Az),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(c3,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(f3,this.context,e))}getRenderTransform(e,n,i,s,l,f,h){const p=l/2,m=f/2,g=s/n,b=-g,S=-e[0]+h,w=-e[1];return Sl(this.tempTransform,p,m,g,b,-i,S,w)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function k0e(t,e,n,i,s,l,f,h,p,m,g,b,S=!0){let w=t[e],C=t[e+1],M=0,T=0,D=0,R=0;function q(){M=w,T=C,w=t[e+=i],C=t[e+1],R+=D,D=Math.sqrt((w-M)*(w-M)+(C-T)*(C-T))}do q();while(e<n-i&&R+D<l);let Y=D===0?0:(l-R)/D;const K=Ki(M,w,Y),ce=Ki(T,C,Y),te=e-i,ee=R,he=l+h*p(m,s,g);for(;e<n-i&&R+D<he;)q();Y=D===0?0:(he-R)/D;const be=Ki(M,w,Y),Fe=Ki(T,C,Y);let oe=!1;if(S)if(b){const Pe=[K,ce,be,Fe];O6(Pe,0,4,2,b,Pe,Pe),oe=Pe[0]>Pe[2]}else oe=K>be;const Se=Math.PI,fe=[],Te=te+i===e;let Le;if(D=0,R=ee,w=t[e=te],C=t[e+1],Te){q(),Le=Math.atan2(C-T,w-M),oe&&(Le+=Le>0?-Se:Se);const Pe=(be+K)/2,ze=(Fe+ce)/2;return fe[0]=[Pe,ze,(he-l)/2,Le,s],fe}for(let Pe=0,ze=(s=s.replace(/\n/g," ")).length;Pe<ze;){q();let Je=Math.atan2(C-T,w-M);if(oe&&(Je+=Je>0?-Se:Se),Le!==void 0){let Ft=Je-Le;if(Ft+=Ft>Se?-2*Se:Ft<-Se?2*Se:0,Math.abs(Ft)>f)return null}Le=Je;const tt=Pe;let lt=0;for(;Pe<ze;++Pe){const Ft=h*p(m,s[oe?ze-Pe-1:Pe],g);if(e+i<n&&R+D<l+lt+Ft/2)break;lt+=Ft}if(Pe===tt)continue;const Qe=oe?s.substring(ze-tt,ze-Pe):s.substring(tt,Pe);Y=D===0?0:(l+lt/2-R)/D;const mt=Ki(M,w,Y),Ct=Ki(T,C,Y);fe.push([mt,Ct,lt/2,Je,Qe]),l+=lt}return fe}const uf=[1/0,1/0,-1/0,-1/0],js=[],Oa=[],La=[],qs=[];function mP(t){return t[3].declutterBox}const yP=new RegExp("[-----]");function lx(t,e){return e==="start"?e=yP.test(t)?"right":"left":e==="end"&&(e=yP.test(t)?"left":"right"),Lv[e]}function F0e(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class I0e{constructor(e,n,i,s,l){this.overlaps=i,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=s.instructions,this.coordinates=s.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=s.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=s.fillStates||{},this.strokeStates=s.strokeStates||{},this.textStates=s.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=l?new Az:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,i,s){const l=e+n+i+s;if(this.labels_[l])return this.labels_[l];const f=s?this.strokeStates[s]:null,h=i?this.fillStates[i]:null,p=this.textStates[n],m=this.pixelRatio,g=[p.scale[0]*m,p.scale[1]*m],b=p.justify?Lv[p.justify]:lx(Array.isArray(e)?e[0]:e,p.textAlign||h0),S=s&&f.lineWidth?f.lineWidth:0,w=Array.isArray(e)?e:String(e).split(`
`).reduce(F0e,[]),{width:C,height:M,widths:T,heights:D,lineWidths:R}=function(Pe,ze){const Je=[],tt=[],lt=[];let Qe=0,mt=0,Ct=0,Ft=0;for(let Ze=0,Pt=ze.length;Ze<=Pt;Ze+=2){const Lt=ze[Ze];if(Lt===`
`||Ze===Pt){Qe=Math.max(Qe,mt),lt.push(mt),mt=0,Ct+=Ft,Ft=0;continue}const at=ze[Ze+1]||Pe.font,Et=Ov(at,Lt);Je.push(Et),mt+=Et;const Gt=i0e(at);tt.push(Gt),Ft=Math.max(Ft,Gt)}return{width:Qe,height:Ct,widths:Je,heights:tt,lineWidths:lt}}(p,w),q=C+S,Y=[],K=(q+2)*g[0],ce=(M+S)*g[1],te={width:K<0?Math.floor(K):Math.ceil(K),height:ce<0?Math.floor(ce):Math.ceil(ce),contextInstructions:Y};g[0]==1&&g[1]==1||Y.push("scale",g),s&&(Y.push("strokeStyle",f.strokeStyle),Y.push("lineWidth",S),Y.push("lineCap",f.lineCap),Y.push("lineJoin",f.lineJoin),Y.push("miterLimit",f.miterLimit),Y.push("setLineDash",[f.lineDash]),Y.push("lineDashOffset",f.lineDashOffset)),i&&Y.push("fillStyle",h.fillStyle),Y.push("textBaseline","middle"),Y.push("textAlign","center");const ee=.5-b;let he=b*q+ee*S;const be=[],Fe=[];let oe,Se=0,fe=0,Te=0,Le=0;for(let Pe=0,ze=w.length;Pe<ze;Pe+=2){const Je=w[Pe];if(Je===`
`){fe+=Se,Se=0,he=b*q+ee*S,++Le;continue}const tt=w[Pe+1]||p.font;tt!==oe&&(s&&be.push("font",tt),i&&Fe.push("font",tt),oe=tt),Se=Math.max(Se,D[Te]);const lt=[Je,he+ee*T[Te]+b*(T[Te]-R[Le]),.5*(S+Se)+fe];he+=T[Te],s&&be.push("strokeText",lt),i&&Fe.push("fillText",lt),++Te}return Array.prototype.push.apply(Y,be),Array.prototype.push.apply(Y,Fe),this.labels_[l]=te,te}replayTextBackground_(e,n,i,s,l,f,h){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,l),e.lineTo.apply(e,n),f&&(this.alignAndScaleFill_=f[2],this.fill_(e)),h&&(this.setStrokeStyle_(e,h),e.stroke())}calculateImageOrLabelDimensions_(e,n,i,s,l,f,h,p,m,g,b,S,w,C,M,T){let D=i-(h*=S[0]),R=s-(p*=S[1]);const q=l+m>e?e-m:l,Y=f+g>n?n-g:f,K=C[3]+q*S[0]+C[1],ce=C[0]+Y*S[1]+C[2],te=D-C[3],ee=R-C[0];let he;return(M||b!==0)&&(js[0]=te,qs[0]=te,js[1]=ee,Oa[1]=ee,Oa[0]=te+K,La[0]=Oa[0],La[1]=ee+ce,qs[1]=La[1]),b!==0?(he=Sl([1,0,0,1,0,0],i,s,1,1,b,-i,-s),Yi(he,js),Yi(he,Oa),Yi(he,La),Yi(he,qs),Cl(Math.min(js[0],Oa[0],La[0],qs[0]),Math.min(js[1],Oa[1],La[1],qs[1]),Math.max(js[0],Oa[0],La[0],qs[0]),Math.max(js[1],Oa[1],La[1],qs[1]),uf)):Cl(Math.min(te,te+K),Math.min(ee,ee+ce),Math.max(te,te+K),Math.max(ee,ee+ce),uf),w&&(D=Math.round(D),R=Math.round(R)),{drawImageX:D,drawImageY:R,drawImageW:q,drawImageH:Y,originX:m,originY:g,declutterBox:{minX:uf[0],minY:uf[1],maxX:uf[2],maxY:uf[3],value:T},canvasTransform:he,scale:S}}replayImageOrLabel_(e,n,i,s,l,f,h){const p=!(!f&&!h),m=s.declutterBox,g=h?h[2]*s.scale[0]/2:0;return m.minX-g<=n[0]&&m.maxX+g>=0&&m.minY-g<=n[1]&&m.maxY+g>=0&&(p&&this.replayTextBackground_(e,js,Oa,La,qs,f,h),o0e(e,s.canvasTransform,l,i,s.originX,s.originY,s.drawImageW,s.drawImageH,s.drawImageX,s.drawImageY,s.scale)),!0}fill_(e){const n=this.alignAndScaleFill_;if(n){const i=Yi(this.renderedTransform_,[0,0]),s=512*this.pixelRatio;e.save(),e.translate(i[0]%s,i[1]%s),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,i,s){const l=this.textStates[n],f=this.createLabel(e,n,s,i),h=this.strokeStates[i],p=this.pixelRatio,m=lx(Array.isArray(e)?e[0]:e,l.textAlign||h0),g=Lv[l.textBaseline||Bv],b=h&&h.lineWidth?h.lineWidth:0;return{label:f,anchorX:m*(f.width/p-2*l.scale[0])+2*(.5-m)*b,anchorY:g*f.height/p+2*(.5-g)*b}}execute_(e,n,i,s,l,f,h,p){const m=this.zIndexContext_;let g;var b,S;this.pixelCoordinates_&&Zf(i,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=Js(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),b=this.renderedTransform_,S=i,b[0]=S[0],b[1]=S[1],b[2]=S[2],b[3]=S[3],b[4]=S[4],b[5]=S[5]);let w=0;const C=s.length;let M,T,D,R,q,Y,K,ce,te,ee,he,be,Fe,oe=0,Se=0,fe=0,Te=null,Le=null;const Pe=this.coordinateCache_,ze=this.viewRotation_,Je=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,tt={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ze},lt=this.instructions!=s||this.overlaps?0:200;let Qe,mt,Ct,Ft;for(;w<C;){const Ze=s[w];switch(Ze[0]){case J1:Qe=Ze[1],Ft=Ze[3],Qe.getGeometry()?h===void 0||Ji(h,Ft.getExtent())?++w:w=Ze[2]+1:w=Ze[2],m&&(m.zIndex=Ze[4]);break;case bz:Se>lt&&(this.fill_(e),Se=0),fe>lt&&(e.stroke(),fe=0),Se||fe||(e.beginPath(),q=NaN,Y=NaN),++w;break;case wz:oe=Ze[1];const Pt=g[oe],Lt=g[oe+1],at=g[oe+2]-Pt,Et=g[oe+3]-Lt,Gt=Math.sqrt(at*at+Et*Et);e.moveTo(Pt+Gt,Lt),e.arc(Pt,Lt,Gt,0,2*Math.PI,!0),++w;break;case xz:e.closePath(),++w;break;case Po:oe=Ze[1],M=Ze[2];const Ht=Ze[3],Nt=Ze[4],Jt=Ze[5];tt.geometry=Ht,tt.feature=Qe,w in Pe||(Pe[w]=[]);const pn=Pe[w];Jt?Jt(g,oe,M,2,pn):(pn[0]=g[oe],pn[1]=g[oe+1],pn.length=2),m&&(m.zIndex=Ze[6]),Nt(pn,tt),++w;break;case Ju:oe=Ze[1],M=Ze[2],te=Ze[3],T=Ze[4],D=Ze[5];let En=Ze[6];const bn=Ze[7],lr=Ze[8],dr=Ze[9],jn=Ze[10];let tr=Ze[11];const bt=Ze[12];let ot=Ze[13];R=Ze[14]||"declutter";const Ne=Ze[15];if(!te&&Ze.length>=20){ee=Ze[19],he=Ze[20],be=Ze[21],Fe=Ze[22];const Un=this.drawLabelWithPointPlacement_(ee,he,be,Fe);te=Un.label,Ze[3]=te;const Gn=Ze[23];T=(Un.anchorX-Gn)*this.pixelRatio,Ze[4]=T;const fr=Ze[24];D=(Un.anchorY-fr)*this.pixelRatio,Ze[5]=D,En=te.height,Ze[6]=En,ot=te.width,Ze[13]=ot}let nt,vt,ae,z;Ze.length>25&&(nt=Ze[25]),Ze.length>17?(vt=Ze[16],ae=Ze[17],z=Ze[18]):(vt=ll,ae=!1,z=!1),jn&&Je?tr+=ze:jn||Je||(tr-=ze);let X=0;for(;oe<M;oe+=2){if(nt&&nt[X++]<ot/this.pixelRatio)continue;const Un=this.calculateImageOrLabelDimensions_(te.width,te.height,g[oe],g[oe+1],ot,En,T,D,lr,dr,tr,bt,l,vt,ae||z,Qe),Gn=[e,n,te,Un,bn,ae?Te:null,z?Le:null];if(p){let fr,$r,qi,Pn,nr;if(Ne){const Xn=M-oe;if(!Ne[Xn]){Ne[Xn]={args:Gn,declutterMode:R};continue}const Vo=Ne[Xn];fr=Vo.args,$r=Vo.declutterMode,delete Ne[Xn],qi=mP(fr)}if(!fr||$r==="declutter"&&p.collides(qi)||(Pn=!0),R==="declutter"&&p.collides(Un.declutterBox)||(nr=!0),$r==="declutter"&&R==="declutter"){const Xn=Pn&&nr;Pn=Xn,nr=Xn}Pn&&($r!=="none"&&p.insert(qi),this.replayImageOrLabel_.apply(this,fr)),nr&&(R!=="none"&&p.insert(Un.declutterBox),this.replayImageOrLabel_.apply(this,Gn))}else this.replayImageOrLabel_.apply(this,Gn)}++w;break;case eS:const Ce=Ze[1],He=Ze[2],rt=Ze[3],Ue=Ze[4];Fe=Ze[5];const St=Ze[6],$e=Ze[7],Ve=Ze[8];be=Ze[9];const Dt=Ze[10];ee=Ze[11],he=Ze[12];const Rt=[Ze[13],Ze[13]];R=Ze[14]||"declutter";const yn=Ze[15],Yt=this.textStates[he],qr=Yt.font,pi=[Yt.scale[0]*$e,Yt.scale[1]*$e];let cr;qr in this.widths_?cr=this.widths_[qr]:(cr={},this.widths_[qr]=cr);const Ai=hL(g,Ce,He,2),Za=Math.abs(pi[0])*nP(qr,ee,cr);if(Ue||Za<=Ai){const Un=k0e(g,Ce,He,2,ee,(Ai-Za)*lx(ee,this.textStates[he].textAlign),St,Math.abs(pi[0]),nP,qr,cr,Je?0:this.viewRotation_,yn);e:if(Un){const Gn=[];let fr,$r,qi,Pn,nr;if(be)for(fr=0,$r=Un.length;fr<$r;++fr){nr=Un[fr],qi=nr[4],Pn=this.createLabel(qi,he,"",be),T=nr[2]+(pi[0]<0?-Dt:Dt),D=rt*Pn.height+2*(.5-rt)*Dt*pi[1]/pi[0]-Ve;const Xn=this.calculateImageOrLabelDimensions_(Pn.width,Pn.height,nr[0],nr[1],Pn.width,Pn.height,T,D,0,0,nr[3],Rt,!1,ll,!1,Qe);if(p&&R==="declutter"&&p.collides(Xn.declutterBox))break e;Gn.push([e,n,Pn,Xn,1,null,null])}if(Fe)for(fr=0,$r=Un.length;fr<$r;++fr){nr=Un[fr],qi=nr[4],Pn=this.createLabel(qi,he,Fe,""),T=nr[2],D=rt*Pn.height-Ve;const Xn=this.calculateImageOrLabelDimensions_(Pn.width,Pn.height,nr[0],nr[1],Pn.width,Pn.height,T,D,0,0,nr[3],Rt,!1,ll,!1,Qe);if(p&&R==="declutter"&&p.collides(Xn.declutterBox))break e;Gn.push([e,n,Pn,Xn,1,null,null])}p&&R!=="none"&&p.load(Gn.map(mP));for(let Xn=0,Vo=Gn.length;Xn<Vo;++Xn)this.replayImageOrLabel_.apply(this,Gn[Xn])}}++w;break;case tS:if(f!==void 0){Qe=Ze[1];const Un=f(Qe,Ft,R);if(Un)return Un}++w;break;case Sz:lt?Se++:this.fill_(e),++w;break;case o8:for(oe=Ze[1],M=Ze[2],mt=g[oe],Ct=g[oe+1],e.moveTo(mt,Ct),q=mt+.5|0,Y=Ct+.5|0,oe+=2;oe<M;oe+=2)mt=g[oe],Ct=g[oe+1],K=mt+.5|0,ce=Ct+.5|0,oe!=M-2&&K===q&&ce===Y||(e.lineTo(mt,Ct),q=K,Y=ce);++w;break;case Ld:Te=Ze,this.alignAndScaleFill_=Ze[2],Se&&(this.fill_(e),Se=0,fe&&(e.stroke(),fe=0)),e.fillStyle=Ze[1],++w;break;case yl:Le=Ze,fe&&(e.stroke(),fe=0),this.setStrokeStyle_(e,Ze),++w;break;case Cz:lt?fe++:e.stroke(),++w;break;default:++w}}Se&&this.fill_(e),fe&&e.stroke()}execute(e,n,i,s,l,f){this.viewRotation_=s,this.execute_(e,n,i,this.instructions,l,void 0,void 0,f)}executeHitDetection(e,n,i,s,l){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,s,l)}}const mf=["Polygon","Circle","LineString","Image","Text","Default"],kz=["Image","Text"],M0e=mf.filter(t=>!kz.includes(t));class D0e{constructor(e,n,i,s,l,f,h){this.maxExtent_=e,this.overlaps_=s,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=f,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(l,h)}clip(e,n){const i=this.getClipCoords(n);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,n){for(const i in e){let s=this.executorsByZIndex_[i];s===void 0&&(s={},this.executorsByZIndex_[i]=s);const l=e[i];for(const f in l){const h=l[f];s[f]=new I0e(this.resolution_,this.pixelRatio_,this.overlaps_,h,n)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const i=this.executorsByZIndex_[n];for(let s=0,l=e.length;s<l;++s)if(e[s]in i)return!0}return!1}forEachFeatureAtCoordinate(e,n,i,s,l,f){const h=2*(s=Math.round(s))+1,p=Sl(this.hitDetectionTransform_,s+.5,s+.5,1/n,-1/n,-i,-e[0],-e[1]),m=!this.hitDetectionContext_;m&&(this.hitDetectionContext_=zi(h,h,void 0,{willReadFrequently:!0}));const g=this.hitDetectionContext_;let b;g.canvas.width!==h||g.canvas.height!==h?(g.canvas.width=h,g.canvas.height=h):m||g.clearRect(0,0,h,h),this.renderBuffer_!==void 0&&(b=[1/0,1/0,-1/0,-1/0],qO(b,e),dm(b,n*(this.renderBuffer_+s),b));const S=function(K){if(cx[K]!==void 0)return cx[K];const ce=2*K+1,te=K*K,ee=new Array(te+1);for(let be=0;be<=K;++be)for(let Fe=0;Fe<=K;++Fe){const oe=be*be+Fe*Fe;if(oe>te)break;let Se=ee[oe];Se||(Se=[],ee[oe]=Se),Se.push(4*((K+be)*ce+(K+Fe))+3),be>0&&Se.push(4*((K-be)*ce+(K+Fe))+3),Fe>0&&(Se.push(4*((K+be)*ce+(K-Fe))+3),be>0&&Se.push(4*((K-be)*ce+(K-Fe))+3))}const he=[];for(let be=0,Fe=ee.length;be<Fe;++be)ee[be]&&he.push(...ee[be]);return cx[K]=he,he}(s);let w;function C(K,ce,te){const ee=g.getImageData(0,0,h,h).data;for(let he=0,be=S.length;he<be;he++)if(ee[S[he]]>0){if(!f||te==="none"||w!=="Image"&&w!=="Text"||f.includes(K)){const Fe=(S[he]-3)/4,oe=s-Fe%h,Se=s-(Fe/h|0),fe=l(K,ce,oe*oe+Se*Se);if(fe)return fe}g.clearRect(0,0,h,h);break}}const M=Object.keys(this.executorsByZIndex_).map(Number);let T,D,R,q,Y;for(M.sort(ml),T=M.length-1;T>=0;--T){const K=M[T].toString();for(R=this.executorsByZIndex_[K],D=mf.length-1;D>=0;--D)if(w=mf[D],q=R[w],q!==void 0&&(Y=q.executeHitDetection(g,p,i,C,b),Y))return Y}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const i=n[0],s=n[1],l=n[2],f=n[3],h=[i,s,i,f,l,f,l,s];return Js(h,0,8,2,e,h),h}isEmpty(){return xl(this.executorsByZIndex_)}execute(e,n,i,s,l,f,h){const p=Object.keys(this.executorsByZIndex_).map(Number);p.sort(h?Jhe:ml),f=f||mf;const m=mf.length;for(let g=0,b=p.length;g<b;++g){const S=p[g].toString(),w=this.executorsByZIndex_[S];for(let C=0,M=f.length;C<M;++C){const T=f[C],D=w[T];if(D!==void 0){const R=h===null?void 0:D.getZIndexContext(),q=R?R.getContext():e,Y=this.maxExtent_&&T!=="Image"&&T!=="Text";if(Y&&(q.save(),this.clip(q,i)),R&&T!=="Text"&&T!=="Image"?R.pushFunction(K=>D.execute(K,n,i,s,l,h)):D.execute(q,n,i,s,l,h),Y&&q.restore(),R){R.offset();const K=p[g]*m+C;this.deferredZIndexContexts_[K]||(this.deferredZIndexContexts_[K]=[]),this.deferredZIndexContexts_[K].push(R)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(ml);for(let i=0,s=n.length;i<s;++i)e[n[i]].forEach(l=>{l.draw(this.renderedContext_),l.clear()}),e[n[i]].length=0}}const cx={};class T0e extends Ez{constructor(e,n,i,s,l,f,h){super(),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=s,this.transformRotation_=s?WO(Math.atan2(s[1],s[0]),10):0,this.viewRotation_=l,this.squaredTolerance_=f,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(e,n,i,s){if(!this.image_)return;const l=Js(e,n,i,s,this.transform_,this.pixelCoordinates_),f=this.context_,h=this.tmpLocalTransform_,p=f.globalAlpha;this.imageOpacity_!=1&&(f.globalAlpha=p*this.imageOpacity_);let m=this.imageRotation_;this.transformRotation_===0&&(m-=this.viewRotation_),this.imageRotateWithView_&&(m+=this.viewRotation_);for(let g=0,b=l.length;g<b;g+=2){const S=l[g]-this.imageAnchorX_,w=l[g+1]-this.imageAnchorY_;if(m!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const C=S+this.imageAnchorX_,M=w+this.imageAnchorY_;Sl(h,C,M,1,1,m,-C,-M),f.save(),f.transform.apply(f,h),f.translate(C,M),f.scale(this.imageScale_[0],this.imageScale_[1]),f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),f.restore()}else f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,S,w,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(f.globalAlpha=p)}drawText_(e,n,i,s){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const l=Js(e,n,i,s,this.transform_,this.pixelCoordinates_),f=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);n<i;n+=s){const p=l[n]+this.textOffsetX_,m=l[n+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(f.save(),f.translate(p-this.textOffsetX_,m-this.textOffsetY_),f.rotate(h),f.translate(this.textOffsetX_,this.textOffsetY_),f.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&f.strokeText(this.text_,0,0),this.textFillState_&&f.fillText(this.text_,0,0),f.restore()):(this.textStrokeState_&&f.strokeText(this.text_,p,m),this.textFillState_&&f.fillText(this.text_,p,m))}}moveToLineTo_(e,n,i,s,l){const f=this.context_,h=Js(e,n,i,s,this.transform_,this.pixelCoordinates_);f.moveTo(h[0],h[1]);let p=h.length;l&&(p-=2);for(let m=2;m<p;m+=2)f.lineTo(h[m],h[m+1]);return l&&f.closePath(),i}drawRings_(e,n,i,s){for(let l=0,f=i.length;l<f;++l)n=this.moveToLineTo_(e,n,i[l],s,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Ji(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=function(h,p,m){const g=h.getFlatCoordinates();if(!g)return null;const b=h.getStride();return Js(g,0,g.length,b,p,m)}(e,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],s=n[3]-n[1],l=Math.sqrt(i*i+s*s),f=this.context_;f.beginPath(),f.arc(n[0],n[1],l,0,2*Math.PI),this.fillState_&&f.fill(),this.strokeState_&&f.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}drawFeature(e,n){const i=n.getGeometryFunction()(e);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let i=0,s=n.length;i<s;++i)this.drawGeometry(n[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Ji(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(Ji(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,s=e.getFlatCoordinates();let l=0;const f=e.getEnds(),h=e.getStride();i.beginPath();for(let p=0,m=f.length;p<m;++p)l=this.moveToLineTo_(s,l,f[p],h,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Ji(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Ji(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getOrientedFlatCoordinates();let s=0;const l=e.getEndss(),f=e.getStride();n.beginPath();for(let h=0,p=l.length;h<p;++h){const m=l[h];s=this.drawRings_(i,s,m,f)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,n.lineCap=e.lineCap),Zf(i.lineDash,e.lineDash)||n.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,i=this.contextTextState_,s=e.textAlign?e.textAlign:h0;i?(i.font!=e.font&&(i.font=e.font,n.font=e.font),i.textAlign!=s&&(i.textAlign=s,n.textAlign=s),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=s,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:s,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(e){const i=e.getColor();this.fillState_={fillStyle:ga(i||Pi)}}else this.fillState_=null;if(n){const i=n.getColor(),s=n.getLineCap(),l=n.getLineDash(),f=n.getLineDashOffset(),h=n.getLineJoin(),p=n.getWidth(),m=n.getMiterLimit(),g=l||qa;this.strokeState_={lineCap:s!==void 0?s:Nf,lineDash:this.pixelRatio_===1?g:g.map(b=>b*this.pixelRatio_),lineDashOffset:(f||0)*this.pixelRatio_,lineJoin:h!==void 0?h:jf,lineWidth:(p!==void 0?p:1)*this.pixelRatio_,miterLimit:m!==void 0?m:10,strokeStyle:ga(i||f0)}}else this.strokeState_=null}setImageStyle(e){let n;if(!e||!(n=e.getSize()))return void(this.image_=null);const i=e.getPixelRatio(this.pixelRatio_),s=e.getAnchor(),l=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=s[0]*i,this.imageAnchorY_=s[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=l[0],this.imageOriginY_=l[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const f=e.getScaleArray();this.imageScale_=[f[0]*this.pixelRatio_/i,f[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(e){if(e){const n=e.getFill();if(n){const w=n.getColor();this.textFillState_={fillStyle:ga(w||Pi)}}else this.textFillState_=null;const i=e.getStroke();if(i){const w=i.getColor(),C=i.getLineCap(),M=i.getLineDash(),T=i.getLineDashOffset(),D=i.getLineJoin(),R=i.getWidth(),q=i.getMiterLimit();this.textStrokeState_={lineCap:C!==void 0?C:Nf,lineDash:M||qa,lineDashOffset:T||0,lineJoin:D!==void 0?D:jf,lineWidth:R!==void 0?R:1,miterLimit:q!==void 0?q:10,strokeStyle:ga(w||f0)}}else this.textStrokeState_=null;const s=e.getFont(),l=e.getOffsetX(),f=e.getOffsetY(),h=e.getRotateWithView(),p=e.getRotation(),m=e.getScaleArray(),g=e.getText(),b=e.getTextAlign(),S=e.getTextBaseline();this.textState_={font:s!==void 0?s:rz,textAlign:b!==void 0?b:h0,textBaseline:S!==void 0?S:Bv},this.text_=g!==void 0?Array.isArray(g)?g.reduce((w,C,M)=>w+(M%2?" ":C),""):g:"",this.textOffsetX_=l!==void 0?this.pixelRatio_*l:0,this.textOffsetY_=f!==void 0?this.pixelRatio_*f:0,this.textRotateWithView_=h!==void 0&&h,this.textRotation_=p!==void 0?p:0,this.textScale_=[this.pixelRatio_*m[0],this.pixelRatio_*m[1]]}else this.text_=""}}const sa=.5,Fz={Point:function(t,e,n,i,s,l){const f=n.getImage(),h=n.getText(),p=h&&h.getText(),m=l&&f&&p?{}:void 0;if(f){if(f.getImageState()!=Cr)return;const g=t.getBuilder(n.getZIndex(),"Image");g.setImageStyle(f,m),g.drawPoint(e,i,s)}if(p){const g=t.getBuilder(n.getZIndex(),"Text");g.setTextStyle(h,m),g.drawText(e,i,s)}},LineString:function(t,e,n,i,s){const l=n.getStroke();if(l){const h=t.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,l),h.drawLineString(e,i,s)}const f=n.getText();if(f&&f.getText()){const h=t.getBuilder(n.getZIndex(),"Text");h.setTextStyle(f),h.drawText(e,i,s)}},Polygon:function(t,e,n,i,s){const l=n.getFill(),f=n.getStroke();if(l||f){const p=t.getBuilder(n.getZIndex(),"Polygon");p.setFillStrokeStyle(l,f),p.drawPolygon(e,i,s)}const h=n.getText();if(h&&h.getText()){const p=t.getBuilder(n.getZIndex(),"Text");p.setTextStyle(h),p.drawText(e,i,s)}},MultiPoint:function(t,e,n,i,s,l){const f=n.getImage(),h=f&&f.getOpacity()!==0,p=n.getText(),m=p&&p.getText(),g=l&&h&&m?{}:void 0;if(h){if(f.getImageState()!=Cr)return;const b=t.getBuilder(n.getZIndex(),"Image");b.setImageStyle(f,g),b.drawMultiPoint(e,i,s)}if(m){const b=t.getBuilder(n.getZIndex(),"Text");b.setTextStyle(p,g),b.drawText(e,i,s)}},MultiLineString:function(t,e,n,i,s){const l=n.getStroke();if(l){const h=t.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,l),h.drawMultiLineString(e,i,s)}const f=n.getText();if(f&&f.getText()){const h=t.getBuilder(n.getZIndex(),"Text");h.setTextStyle(f),h.drawText(e,i,s)}},MultiPolygon:function(t,e,n,i,s){const l=n.getFill(),f=n.getStroke();if(f||l){const p=t.getBuilder(n.getZIndex(),"Polygon");p.setFillStrokeStyle(l,f),p.drawMultiPolygon(e,i,s)}const h=n.getText();if(h&&h.getText()){const p=t.getBuilder(n.getZIndex(),"Text");p.setTextStyle(h),p.drawText(e,i,s)}},GeometryCollection:function(t,e,n,i,s,l){const f=e.getGeometriesArray();let h,p;for(h=0,p=f.length;h<p;++h)(0,Fz[f[h].getType()])(t,f[h],n,i,s,l)},Circle:function(t,e,n,i,s){const l=n.getFill(),f=n.getStroke();if(l||f){const p=t.getBuilder(n.getZIndex(),"Circle");p.setFillStrokeStyle(l,f),p.drawCircle(e,i,s)}const h=n.getText();if(h&&h.getText()){const p=t.getBuilder(n.getZIndex(),"Text");p.setTextStyle(h),p.drawText(e,i)}}};function P0e(t,e){return parseInt(Sr(t),10)-parseInt(Sr(e),10)}function _P(t,e){const n=Iz(t,e);return n*n}function Iz(t,e){return .5*t/e}function bP(t,e,n,i,s,l,f,h){const p=[],m=n.getImage();if(m){let S=!0;const w=m.getImageState();w==Cr||w==Af?S=!1:w==cu&&m.load(),S&&p.push(m.ready())}const g=n.getFill();g&&g.loading()&&p.push(g.ready());const b=p.length>0;return b&&Promise.all(p).then(()=>s(null)),function(S,w,C,M,T,D,R){const q=C.getGeometryFunction()(w);if(!q)return;const Y=q.simplifyTransformed(M,T);C.getRenderer()?Mz(S,Y,C,w,R):(0,Fz[Y.getType()])(S,Y,C,w,R,D)}(t,e,n,i,l,f,h),b}function Mz(t,e,n,i,s){if(e.getType()=="GeometryCollection"){const l=e.getGeometries();for(let f=0,h=l.length;f<h;++f)Mz(t,l[f],n,i,s);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer(),s)}class R0e extends A0e{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,i){const s=n.extent,l=n.viewState,f=l.center,h=l.resolution,p=l.projection,m=l.rotation,g=p.getExtent(),b=this.getLayer().getSource(),S=this.getLayer().getDeclutter(),w=n.pixelRatio,C=n.viewHints,M=!(C[nl]||C[Od]),T=this.context,D=Math.round(Oi(s)/h*w),R=Math.round(Ha(s)/h*w),q=b.getWrapX()&&p.canWrapX(),Y=q?Oi(g):null,K=q?Math.ceil((s[2]-g[2])/Y)+1:1;let ce=q?Math.floor((s[0]-g[0])/Y):0;do{let te=this.getRenderTransform(f,h,0,w,D,R,ce*Y);n.declutter&&(te=te.slice(0)),e.execute(T,[T.canvas.width,T.canvas.height],te,m,M,i===void 0?mf:i?kz:M0e,i?S&&n.declutter[S]:void 0)}while(++ce<K)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=zi(this.context.canvas.width,this.context.canvas.height,vP))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,function(n){const i=n.canvas;i.width=1,i.height=1,n.clearRect(0,0,1,1)}(this.context),vP.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){this.replayGroup_&&this.getLayer().getDeclutter()&&this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,n){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const s=e.viewState;this.prepareContainer(e,n);const l=this.context,f=this.replayGroup_;let h=f&&!f.isEmpty();if(!h&&!(this.getLayer().hasListener(c3)||this.getLayer().hasListener(f3)))return null;if(this.setDrawContext_(),this.preRender(l,e),s.projection,this.clipped_=!1,h&&i.extent&&this.clipping){const p=bd(i.extent);h=Ji(p,e.extent),this.clipped_=h&&!gf(p,e.extent),this.clipped_&&this.clipUnrotated(l,e,p)}return h&&this.renderWorlds(f,e,!this.getLayer().getDeclutter()&&void 0),!e.declutter&&this.clipped_&&l.restore(),this.postRender(l,e),this.renderedRotation_!==s.rotation&&(this.renderedRotation_=s.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),s=this.renderedCenter_,l=this.renderedResolution_,f=this.renderedRotation_,h=this.renderedProjection_,p=this.wrappedRenderedExtent_,m=this.getLayer(),g=[],b=i[0]*sa,S=i[1]*sa;g.push(this.getRenderTransform(s,l,f,sa,b,S,0).slice());const w=m.getSource(),C=h.getExtent();if(w.getWrapX()&&h.canWrapX()&&!gf(C,p)){let M=p[0];const T=Oi(C);let D,R=0;for(;M<C[0];)--R,D=T*R,g.push(this.getRenderTransform(s,l,f,sa,b,S,D).slice()),M+=T;for(R=0,M=p[2];M>C[2];)++R,D=T*R,g.push(this.getRenderTransform(s,l,f,sa,b,S,D).slice()),M-=T}this.hitDetectionImageData_=function(M,T,D,R,q,Y,K,ce,te){const ee=q,he=zi(M[0]*sa,M[1]*sa);he.imageSmoothingEnabled=!1;const be=he.canvas,Fe=new T0e(he,sa,q,null,K,ce,null),oe=D.length,Se=Math.floor(16777215/oe),fe={};for(let Le=1;Le<=oe;++Le){const Pe=D[Le-1],ze=Pe.getStyleFunction()||R;if(!ze)continue;let Je=ze(Pe,Y);if(!Je)continue;Array.isArray(Je)||(Je=[Je]);const tt=(Le*Se).toString(16).padStart(7,"#00000");for(let lt=0,Qe=Je.length;lt<Qe;++lt){const mt=Je[lt],Ct=mt.getGeometryFunction()(Pe);if(!Ct||!Ji(ee,Ct.getExtent()))continue;const Ft=mt.clone(),Ze=Ft.getFill();Ze&&Ze.setColor(tt);const Pt=Ft.getStroke();Pt&&(Pt.setColor(tt),Pt.setLineDash(null)),Ft.setText(void 0);const Lt=mt.getImage();if(Lt){const Ht=Lt.getImageSize();if(!Ht)continue;const Nt=zi(Ht[0],Ht[1],void 0,{alpha:!1}),Jt=Nt.canvas;Nt.fillStyle=tt,Nt.fillRect(0,0,Jt.width,Jt.height),Ft.setImage(new T0({img:Jt,anchor:Lt.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:Lt.getOrigin(),opacity:1,size:Lt.getSize(),scale:Lt.getScale(),rotation:Lt.getRotation(),rotateWithView:Lt.getRotateWithView()}))}const at=Ft.getZIndex()||0;let Et=fe[at];Et||(Et={},fe[at]=Et,Et.Polygon=[],Et.Circle=[],Et.LineString=[],Et.Point=[]);const Gt=Ct.getType();if(Gt==="GeometryCollection"){const Ht=Ct.getGeometriesArrayRecursive();for(let Nt=0,Jt=Ht.length;Nt<Jt;++Nt){const pn=Ht[Nt];Et[pn.getType().replace("Multi","")].push(pn,Ft)}}else Et[Gt.replace("Multi","")].push(Ct,Ft)}}const Te=Object.keys(fe).map(Number).sort(ml);for(let Le=0,Pe=Te.length;Le<Pe;++Le){const ze=fe[Te[Le]];for(const Je in ze){const tt=ze[Je];for(let lt=0,Qe=tt.length;lt<Qe;lt+=2){Fe.setStyle(tt[lt+1]);for(let mt=0,Ct=T.length;mt<Ct;++mt)Fe.setTransform(T[mt]),Fe.drawGeometry(tt[lt])}}}return he.getImageData(0,0,be.width,be.height)}(i,g,this.renderedFeatures_,m.getStyleFunction(),p,l,f,_P(l,this.renderedPixelRatio_))}n(function(i,s,l){const f=[];if(l){const h=Math.floor(Math.round(i[0])*sa),p=Math.floor(Math.round(i[1])*sa),m=4*(Yr(h,0,l.width-1)+Yr(p,0,l.height-1)*l.width),g=l.data[m],b=l.data[m+1],S=l.data[m+2]+256*(b+256*g),w=Math.floor(16777215/s.length);S&&S%w==0&&f.push(s[S/w-1])}return f}(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,i,s,l){if(!this.replayGroup_)return;const f=n.viewState.resolution,h=n.viewState.rotation,p=this.getLayer(),m={},g=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,f,h,i,function(b,S,w){const C=Sr(b),M=m[C];if(M){if(M!==!0&&w<M.distanceSq){if(w===0)return m[C]=!0,l.splice(l.lastIndexOf(M),1),s(b,p,S);M.geometry=S,M.distanceSq=w}}else{if(w===0)return m[C]=!0,s(b,p,S);l.push(m[C]={feature:b,layer:p,geometry:S,distanceSq:w,callback:s})}},g?n.declutter[g].all().map(b=>b.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),i=n.getSource();if(!i)return!1;const s=e.viewHints[nl],l=e.viewHints[Od],f=n.getUpdateWhileAnimating(),h=n.getUpdateWhileInteracting();if(this.ready&&!f&&s||!h&&l)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const p=e.extent,m=e.viewState,g=m.projection,b=m.resolution,S=e.pixelRatio,w=n.getRevision(),C=n.getRenderBuffer();let M=n.getRenderOrder();M===void 0&&(M=P0e);const T=m.center.slice(),D=dm(p,C*b),R=D.slice(),q=[D.slice()],Y=g.getExtent();if(i.getWrapX()&&g.canWrapX()&&!gf(Y,e.extent)){const Se=Oi(Y),fe=Math.max(Oi(D)/2,Se);D[0]=Y[0]-fe,D[2]=Y[2]+fe,dde(T,g);const Te=HO(q[0],g);Te[0]<Y[0]&&Te[2]<Y[2]?q.push([Te[0]+Se,Te[1],Te[2]+Se,Te[3]]):Te[0]>Y[0]&&Te[2]>Y[2]&&q.push([Te[0]-Se,Te[1],Te[2]-Se,Te[3]])}if(this.ready&&this.renderedResolution_==b&&this.renderedRevision_==w&&this.renderedRenderOrder_==M&&this.renderedFrameDeclutter_===!!e.declutter&&gf(this.wrappedRenderedExtent_,D))return Zf(this.renderedExtent_,R)||(this.hitDetectionImageData_=null,this.renderedExtent_=R),this.renderedCenter_=T,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const K=new S0e(Iz(b,S),D,b,S);for(let Se=0,fe=q.length;Se<fe;++Se)i.loadFeatures(q[Se],b,g);const ce=_P(b,S);let te=!0;const ee=(Se,fe)=>{let Te;const Le=Se.getStyleFunction()||n.getStyleFunction();if(Le&&(Te=Le(Se,b)),Te){const Pe=this.renderFeature(Se,ce,Te,K,void 0,this.getLayer().getDeclutter(),fe);te=te&&!Pe}},he=iL(D),be=i.getFeaturesInExtent(he);M&&be.sort(M);for(let Se=0,fe=be.length;Se<fe;++Se)ee(be[Se],Se);this.renderedFeatures_=be,this.ready=te;const Fe=K.finish(),oe=new D0e(D,b,S,i.getOverlaps(),Fe,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=b,this.renderedRevision_=w,this.renderedRenderOrder_=M,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=R,this.wrappedRenderedExtent_=D,this.renderedCenter_=T,this.renderedProjection_=g,this.renderedPixelRatio_=S,this.replayGroup_=oe,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,i,s,l,f,h){if(!i)return!1;let p=!1;if(Array.isArray(i))for(let m=0,g=i.length;m<g;++m)p=bP(s,e,i[m],n,this.boundHandleStyleImageChange_,l,f,h)||p;else p=bP(s,e,i,n,this.boundHandleStyleImageChange_,l,f,h);return p}}class zd extends _0e{constructor(e){super(e)}createRenderer(){return new R0e(this)}}var zv="add",Nv="remove";const wP="length";class D1 extends Xa{constructor(e,n,i){super(e),this.element=n,this.index=i}}class kf extends hu{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let i=0,s=this.array_.length;i<s;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,i=e.length;n<i;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let i=0,s=n.length;i<s;++i)e(n[i],i,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(wP)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new D1(zv,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let i=0,s=n.length;i<s;++i)if(n[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new D1(Nv,n,e)),n}setAt(e,n){if(e>=this.getLength())return void this.insertAt(e,n);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new D1(Nv,i,e)),this.dispatchEvent(new D1(zv,n,e))}updateLength_(){this.set(wP,this.array_.length)}assertUnique_(e,n){for(let i=0,s=this.array_.length;i<s;++i)if(this.array_[i]===e&&i!==n)throw new Error("Duplicate item added to a unique collection")}}class xP{constructor(e){this.rbush_=new JL(e),this.items_={}}insert(e,n){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(i),this.items_[Sr(n)]=i}load(e,n){const i=new Array(n.length);for(let s=0,l=n.length;s<l;s++){const f=e[s],h=n[s],p={minX:f[0],minY:f[1],maxX:f[2],maxY:f[3],value:h};i[s]=p,this.items_[Sr(h)]=p}this.rbush_.load(i)}remove(e){const n=Sr(e),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(e,n){const i=this.items_[Sr(n)];jO([i.minX,i.minY,i.maxX,i.maxY],e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(e){return e.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let i;for(let s=0,l=e.length;s<l;s++)if(i=n(e[s]),i)return i;return i}isEmpty(){return xl(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return Cl(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}const SP=[1,0,0,1,0,0];class Zi{constructor(e,n,i,s,l,f){this.styleFunction,this.extent_,this.id_=f,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=l,this.squaredTolerance_,this.stride_=s,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?NO(this.flatCoordinates_):I6(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=El(this.getExtent());this.flatInteriorPoints_=G6(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=function(i,s){const l=[];let f,h=0,p=0;for(let m=0,g=s.length;m<g;++m){const b=s[m],S=H6(i,h,b,2);if(f===void 0&&(f=S),S===f)l.push(s.slice(p,m+1));else{if(l.length===0)continue;l[l.length-1].push(s[p])}p=m+1,h=b}return l}(this.flatCoordinates_,this.ends_),n=vL(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=pL(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Fv(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let n=0;const i=this.ends_;for(let s=0,l=i.length;s<l;++s){const f=i[s],h=Fv(e,n,f,2,.5);ma(this.flatMidpoints_,h),n=f}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){const n=(e=Si(e)).getExtent(),i=e.getWorldExtent();if(n&&i){const s=Ha(i)/Ha(n);Sl(SP,i[0],i[3],s,-s,0,0,0),Js(this.flatCoordinates_,0,this.flatCoordinates_.length,2,SP,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Zi(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=LO((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const i=this.simplifiedGeometry_.getFlatCoordinates();let s;switch(this.type_){case"LineString":i.length=ym(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),s=[i.length];break;case"MultiLineString":s=[],i.length=sL(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,s);break;case"Polygon":s=[],i.length=$6(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,s)}return s&&(this.simplifiedGeometry_=new Zi(this.type_,i,s,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}Zi.prototype.getFlatCoordinates=Zi.prototype.getOrientedFlatCoordinates;class B0e extends hu{constructor(e){super(),this.projection=Si(e.projection),this.attributions_=CP(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,s){n.viewResolver=i,n.viewRejector=s})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=CP(e),this.changed()}setState(e){this.state_=e,this.changed()}}function CP(t){return t?typeof t=="function"?t:(Array.isArray(t)||(t=[t]),e=>t):null}var T1="addfeature",O0e="changefeature",L0e="clear",fx="removefeature",z0e="featuresloadstart",N0e="featuresloadend",j0e="featuresloaderror";function q0e(t,e){return[[-1/0,-1/0,1/0,1/0]]}function EP(t,e){return function(n,i,s,l,f){const h=this;(function(p,m,g,b,S,w,C){const M=new XMLHttpRequest;M.open("GET",typeof p=="function"?p(g,b,S):p,!0),m.getType()=="arraybuffer"&&(M.responseType="arraybuffer"),M.withCredentials=!1,M.onload=function(T){if(!M.status||M.status>=200&&M.status<300){const D=m.getType();try{let R;D=="text"||D=="json"?R=M.responseText:D=="xml"?R=M.responseXML||M.responseText:D=="arraybuffer"&&(R=M.response),R?w(m.readFeatures(R,{extent:g,featureProjection:S}),m.readProjection(R)):C()}catch{C()}}else C()},M.onerror=C,M.send()})(t,e,n,i,s,function(p,m){h.addFeatures(p),l!==void 0&&l(p)},f||r0)}}let $s=class extends Xa{constructor(e,n,i){super(e),this.feature=n,this.features=i}};class jv extends B0e{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX===void 0||e.wrapX}),this.on,this.once,this.un,this.loader_=r0,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0||e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Dr(this.format_,"`format` must be set when `url` is set"),this.loader_=EP(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:q0e;const n=e.useSpatialIndex===void 0||e.useSpatialIndex;let i,s;this.featuresRtree_=n?new xP:null,this.loadedExtentsRtree_=new xP,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?s=e.features:e.features&&(i=e.features,s=i.getArray()),n||i!==void 0||(i=new kf(s)),s!==void 0&&this.addFeaturesInternal(s),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=Sr(e);if(!this.addToIndex_(n,e))return void(this.featuresCollection_&&this.featuresCollection_.remove(e));this.setupChangeEvents_(n,e);const i=e.getGeometry();if(i){const s=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(s,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new $s(T1,e))}setupChangeEvents_(e,n){n instanceof Zi||(this.featureChangeKeys_[e]=[si(n,to,this.handleFeatureChange_,this),si(n,E6,this.handleFeatureChange_,this)])}addToIndex_(e,n){let i=!0;if(n.getId()!==void 0){const s=String(n.getId());if(s in this.idIndex_)if(n instanceof Zi){const l=this.idIndex_[s];l instanceof Zi?Array.isArray(l)?l.push(n):this.idIndex_[s]=[l,n]:i=!1}else i=!1;else this.idIndex_[s]=n}return i&&(Dr(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],i=[],s=[];for(let l=0,f=e.length;l<f;l++){const h=e[l],p=Sr(h);this.addToIndex_(p,h)&&i.push(h)}for(let l=0,f=i.length;l<f;l++){const h=i[l],p=Sr(h);this.setupChangeEvents_(p,h);const m=h.getGeometry();if(m){const g=m.getExtent();n.push(g),s.push(h)}else this.nullGeometryFeatures_[p]=h}if(this.featuresRtree_&&this.featuresRtree_.load(n,s),this.hasListener(T1))for(let l=0,f=i.length;l<f;l++)this.dispatchEvent(new $s(T1,i[l]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(T1,function(i){n||(n=!0,e.push(i.feature),n=!1)}),this.addEventListener(fx,function(i){n||(n=!0,e.remove(i.feature),n=!1)}),e.addEventListener(zv,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),e.addEventListener(Nv,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(bo);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new $s(L0e);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(s){const l=s.getGeometry();if(l instanceof Zi||l.intersectsCoordinate(e))return n(s)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(i){const s=i.getGeometry();if(s instanceof Zi||s.intersectsExtent(e)){const l=n(i);if(l)return l}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),xl(this.nullGeometryFeatures_)||ma(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){n.push(i)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=function(s,l,f){if(l.canWrapX()){const h=l.getExtent();if(!isFinite(s[0])||!isFinite(s[2]))return[[h[0],s[1],h[2],s[3]]];HO(s,l);const p=Oi(h);if(Oi(s)>p&&!f)return[[h[0],s[1],h[2],s[3]]];if(s[0]<h[0])return[[s[0]+p,s[1],h[2],s[3]],[h[0],s[1],s[2],s[3]]];if(s[2]>h[2])return[[s[0],s[1],h[2],s[3]],[h[0],s[1],s[2]-p,s[3]]]}return[s]}(e,n);return[].concat(...i.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const i=e[0],s=e[1];let l=null;const f=[NaN,NaN];let h=1/0;const p=[-1/0,-1/0,1/0,1/0];return n=n||n0,this.featuresRtree_.forEachInExtent(p,function(m){if(n(m)){const g=m.getGeometry(),b=h;if(h=g instanceof Zi?0:g.closestPointXY(i,s,f,h),h<b){l=m;const S=Math.sqrt(h);p[0]=i-S,p[1]=s-S,p[2]=i+S,p[3]=s+S}}}),l}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,i=Sr(n),s=n.getGeometry();if(s){const f=s.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(f,n)):this.featuresRtree_&&this.featuresRtree_.update(f,n)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);const l=n.getId();if(l!==void 0){const f=l.toString();this.idIndex_[f]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[f]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new $s(O0e,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:Sr(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&xl(this.nullGeometryFeatures_):!this.featuresCollection_||this.featuresCollection_.getLength()===0}loadFeatures(e,n,i){const s=this.loadedExtentsRtree_,l=this.strategy_(e,n,i);for(let f=0,h=l.length;f<h;++f){const p=l[f];s.forEachInExtent(p,function(m){return gf(m.extent,p)})||(++this.loadingExtentsCount_,this.dispatchEvent(new $s(z0e)),this.loader_.call(this,p,n,i,m=>{--this.loadingExtentsCount_,this.dispatchEvent(new $s(N0e,void 0,m))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new $s(j0e))}),s.insert(p,{extent:p.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_,i=n.forEachInExtent(e,function(s){if(jO(s.extent,e))return s});i&&n.remove(i)}removeFeatures(e){let n=!1;for(let i=0,s=e.length;i<s;++i)n=this.removeFeatureInternal(e[i])||n;n&&this.changed()}removeFeature(e){e&&this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=Sr(e);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[n]?.forEach(bo),delete this.featureChangeKeys_[n];const i=e.getId();if(i!==void 0){const s=i.toString(),l=this.idIndex_[s];l===e?delete this.idIndex_[s]:Array.isArray(l)&&(l.splice(l.indexOf(e),1),l.length===1&&(this.idIndex_[s]=l[0]))}return delete this.uidIndex_[n],this.hasListener(fx)&&this.dispatchEvent(new $s(fx,e)),!0}removeFromIdIndex_(e){for(const n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n];break}}setLoader(e){this.loader_=e}setUrl(e){Dr(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(EP(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}const AP="drawstart",$0e="drawend",U0e="drawabort";class P1 extends Xa{constructor(e,n){super(e),this.feature=n}}function R1(t,e){return ja(t[0],t[1],e[0],e[1])}function yf(t,e){const n=t.length;return e<0?t[e+n]:e>=n?t[e-n]:t[e]}function B1(t,e,n){let i,s;e<n?(i=e,s=n):(i=n,s=e);const l=Math.ceil(i),f=Math.floor(s);if(l>f)return R1(_f(t,i),_f(t,s));let h=0;i<l&&(h+=R1(_f(t,i),yf(t,l))),f<s&&(h+=R1(yf(t,f),_f(t,s)));for(let p=l;p<f-1;++p)h+=R1(yf(t,p),yf(t,p+1));return h}function Dz(t,e,n){if(e instanceof Ci)O1(t,e.getCoordinates(),!1,n);else if(e instanceof Bf){const i=e.getCoordinates();for(let s=0,l=i.length;s<l;++s)O1(t,i[s],!1,n)}else if(e instanceof ur){const i=e.getCoordinates();for(let s=0,l=i.length;s<l;++s)O1(t,i[s],!0,n)}else if(e instanceof Of){const i=e.getCoordinates();for(let s=0,l=i.length;s<l;++s){const f=i[s];for(let h=0,p=f.length;h<p;++h)O1(t,f[h],!0,n)}}else if(e instanceof s0){const i=e.getGeometries();for(let s=0;s<i.length;++s)Dz(t,i[s],n)}}const hx={index:-1,endIndex:NaN};function O1(t,e,n,i){const s=t[0],l=t[1];for(let f=0,h=e.length-1;f<h;++f){const p=Tz(s,l,e[f],e[f+1]);if(p.squaredDistance===0){const m=f+p.along;return void i.push({coordinates:e,ring:n,startIndex:m,endIndex:m})}}}const dx={along:0,squaredDistance:0};function Tz(t,e,n,i){const s=n[0],l=n[1],f=i[0]-s,h=i[1]-l;let p=0,m=s,g=l;return f===0&&h===0||(p=Yr(((t-s)*f+(e-l)*h)/(f*f+h*h),0,1),m+=f*p,g+=h*p),dx.along=p,dx.squaredDistance=WO(ja(t,e,m,g),10),dx}function _f(t,e){const n=t.length;let i=Math.floor(e);const s=e-i;i>=n?i-=n:i<0&&(i+=n);let l=i+1;l>=n&&(l-=n);const f=t[i],h=f[0],p=f[1],m=t[l];return[h+(m[0]-h)*s,p+(m[1]-p)*s]}class G0e extends Q6{constructor(e){const n=e;n.stopDown||(n.stopDown=A6),super(n),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function(s){switch(s){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+s)}}(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:n0,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let i=e.geometryFunction;if(!i){const s=this.mode_;if(s==="Circle")i=(l,f,h)=>{const p=f||new mm([NaN,NaN]),m=Xi(l[0]),g=XO(m,Xi(l[l.length-1]));return p.setCenterAndRadius(m,Math.sqrt(g),this.geometryLayout_),p};else{let l;s==="Point"?l=_a:s==="LineString"?l=Ci:s==="Polygon"&&(l=ur),i=(f,h,p)=>(h?s==="Polygon"?f[0].length?h.setCoordinates([f[0].concat([f[0][0]])],this.geometryLayout_):h.setCoordinates([],this.geometryLayout_):h.setCoordinates(f,this.geometryLayout_):h=new l(f,this.geometryLayout_),h)}}this.geometryFunction_=i,this.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new zd({source:new jv({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:H0e(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:YL,this.freehandCondition_,e.freehand?this.freehandCondition_=l3:this.freehandCondition_=e.freehandCondition?e.freehandCondition:zde,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(Tv,this.updateState_)}setTrace(e){let n;n=e?e===!0?l3:e:Lde,this.traceCondition_=n}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===ede&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(e);let n=e.type===Z1,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===K1&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===K1&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===VL?i=!1:n&&this.getPointerCount()<2?(i=e.type===Z1,i&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===K1&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===HL&&(i=!1),super.handleEvent(e)&&i}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new $de(Z1,e.map,e.originalEvent,!1,e.frameState))},this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active)return void this.deactivateTrace_();const n=this.getMap(),i=k6([n.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),n.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_])]),s=this.traceSource_.getFeaturesInExtent(i);if(s.length===0)return;const l=function(f,h){const p=[];for(let m=0;m<h.length;++m)Dz(f,h[m].getGeometry(),p);return p}(e.coordinate,s);l.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:l,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,n){const i=e.startIndex<=e.endIndex;i===e.startIndex<=n?i&&n>e.endIndex||!i&&n<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,n):(i&&n<e.endIndex||!i&&n>e.endIndex)&&this.removeTracedCoordinates_(n,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,n))}removeTracedCoordinates_(e,n){if(e===n)return;let i=0;if(e<n){const s=Math.ceil(e);let l=Math.floor(n);l===n&&(l-=1),i=l-s+1}else{const s=Math.floor(e);let l=Math.ceil(n);l===n&&(l+=1),i=s-l+1}i>0&&this.removeLastPoints_(i)}addTracedCoordinates_(e,n,i){if(n===i)return;const s=[];if(n<i){const l=Math.ceil(n);let f=Math.floor(i);f===i&&(f-=1);for(let h=l;h<=f;++h)s.push(yf(e.coordinates,h))}else{const l=Math.floor(n);let f=Math.ceil(i);f===i&&(f+=1);for(let h=l;h>=f;--h)s.push(yf(e.coordinates,h))}s.length&&this.appendCoordinates(s)}updateTrace_(e){const n=this.traceState_;if(!n.active||n.targetIndex===-1&&M7(n.startPx,e.pixel)<this.snapTolerance_)return;const i=function(h,p,m,g){const b=h[0],S=h[1];let w=1/0,C=-1,M=NaN;for(let R=0;R<p.targets.length;++R){const q=p.targets[R],Y=q.coordinates;let K,ce=1/0;for(let te=0;te<Y.length-1;++te){const ee=Tz(b,S,Y[te],Y[te+1]);ee.squaredDistance<ce&&(ce=ee.squaredDistance,K=te+ee.along)}ce<w&&(w=ce,q.ring&&p.targetIndex===R&&(q.endIndex>q.startIndex?K<q.startIndex&&(K+=Y.length):q.endIndex<q.startIndex&&K>q.startIndex&&(K-=Y.length)),M=K,C=R)}const T=p.targets[C];let D=T.ring;if(p.targetIndex===C&&D){const R=_f(T.coordinates,M);M7(m.getPixelFromCoordinate(R),p.startPx)>g&&(D=!1)}if(D){const R=T.coordinates,q=R.length,Y=T.startIndex,K=M;if(Y<K){const ce=B1(R,Y,K);B1(R,Y,K-q)<ce&&(M-=q)}else{const ce=B1(R,Y,K);B1(R,Y,K+q)<ce&&(M+=q)}}return hx.index=C,hx.endIndex=M,hx}(e.coordinate,n,this.getMap(),this.snapTolerance_);if(n.targetIndex!==i.index){if(n.targetIndex!==-1){const p=n.targets[n.targetIndex];this.removeTracedCoordinates_(p.startIndex,p.endIndex)}const h=n.targets[i.index];this.addTracedCoordinates_(h,h.startIndex,i.endIndex)}else{const h=n.targets[n.targetIndex];this.addOrRemoveTracedCoordinates_(h,i.endIndex)}n.targetIndex=i.index;const s=n.targets[n.targetIndex];s.endIndex=i.endIndex;const l=_f(s.coordinates,s.endIndex),f=this.getMap().getPixelFromCoordinate(l);e.coordinate=l,e.pixel=[Math.round(f[0]),Math.round(f[1])]}handleUpEvent(e){let n=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const i=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){const s=!this.finishCoordinate_;s&&this.startDrawing_(e.coordinate),!s&&this.freehand_?this.finishDrawing():this.freehand_||s&&this.mode_!=="Point"||(this.atFinish_(e.pixel,i)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),n=!1}else this.freehand_&&this.abortDrawing()}return!n&&this.stopClick_&&e.preventDefault(),n}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const n=this.downPx_,i=e.pixel,s=n[0]-i[0],l=n[1]-i[1],f=s*s+l*l;if(this.shouldHandle_=this.freehand_?f>this.squaredClickTolerance_:f<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(e),this.modifyDrawing_(e.coordinate)):this.createOrUpdateSketchPoint_(e.coordinate.slice())}atFinish_(e,n){let i=!1;if(this.sketchFeature_){let s=!1,l=[this.finishCoordinate_];const f=this.mode_;if(f==="Point")i=!0;else if(f==="Circle")i=this.sketchCoords_.length===2;else if(f==="LineString")s=!n&&this.sketchCoords_.length>this.minPoints_;else if(f==="Polygon"){const h=this.sketchCoords_;s=h[0].length>this.minPoints_,l=[h[0][0],h[0][h[0].length-2]],l=n?[h[0][0]]:[h[0][0],h[0][h[0].length-2]]}if(s){const h=this.getMap();for(let p=0,m=l.length;p<m;p++){const g=l[p],b=h.getPixelFromCoordinate(g),S=e[0]-b[0],w=e[1]-b[1],C=this.freehand_?1:this.snapTolerance_;if(i=Math.sqrt(S*S+w*w)<=C,i){this.finishCoordinate_=g;break}}}}return i}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new bi(new _a(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new bi);const n=e.getLinearRing(0);let i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(n.getLayout(),n.getFlatCoordinates()),i.changed()):(i=new Ci(n.getFlatCoordinates(),n.getLayout()),this.sketchLine_.setGeometry(i))}startDrawing_(e){const n=this.getMap().getView().getProjection(),i=kv(this.geometryLayout_);for(;e.length<i;)e.push(0);this.finishCoordinate_=e,this.mode_==="Point"?this.sketchCoords_=e.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new bi(new Ci(this.sketchLineCoords_)));const s=this.geometryFunction_(this.sketchCoords_,void 0,n);this.sketchFeature_=new bi,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(s),this.updateSketchFeatures_(),this.dispatchEvent(new P1(AP,this.sketchFeature_))}modifyDrawing_(e){const n=this.getMap(),i=this.sketchFeature_.getGeometry(),s=n.getView().getProjection(),l=kv(this.geometryLayout_);let f,h;for(;e.length<l;)e.push(0);this.mode_==="Point"?h=this.sketchCoords_:this.mode_==="Polygon"?(f=this.sketchCoords_[0],h=f[f.length-1],this.atFinish_(n.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(f=this.sketchCoords_,h=f[f.length-1]),h[0]=e[0],h[1]=e[1],this.geometryFunction_(this.sketchCoords_,i,s),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),i.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(i):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const n=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();let s,l;const f=this.mode_;return f==="LineString"||f==="Circle"?(this.finishCoordinate_=e.slice(),l=this.sketchCoords_,l.length>=this.maxPoints_&&(this.freehand_?l.pop():s=!0),l.push(e.slice()),this.geometryFunction_(l,n,i)):f==="Polygon"&&(l=this.sketchCoords_[0],l.length>=this.maxPoints_&&(this.freehand_?l.pop():s=!0),l.push(e.slice()),s&&(this.finishCoordinate_=l[0]),this.geometryFunction_(this.sketchCoords_,n,i)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),s?this.finishDrawing():this.sketchFeature_}removeLastPoints_(e){if(!this.sketchFeature_)return;const n=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),s=this.mode_;for(let l=0;l<e;++l){let f;if(s==="LineString"||s==="Circle"){if(f=this.sketchCoords_,f.splice(-2,1),f.length>=2){this.finishCoordinate_=f[f.length-2].slice();const h=this.finishCoordinate_.slice();f[f.length-1]=h,this.createOrUpdateSketchPoint_(h)}this.geometryFunction_(f,n,i),n.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(n)}else if(s==="Polygon"){f=this.sketchCoords_[0],f.splice(-2,1);const h=this.sketchLine_.getGeometry();if(f.length>=2){const p=f[f.length-2].slice();f[f.length-1]=p,this.createOrUpdateSketchPoint_(p)}h.setCoordinates(f),this.geometryFunction_(this.sketchCoords_,n,i)}if(f.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return null;let n=this.sketchCoords_;const i=e.getGeometry(),s=this.getMap().getView().getProjection();return this.mode_==="LineString"?(n.pop(),this.geometryFunction_(n,i,s)):this.mode_==="Polygon"&&(n[0].pop(),this.geometryFunction_(n,i,s),n=i.getCoordinates()),this.type_==="MultiPoint"?e.setGeometry(new M0([n])):this.type_==="MultiLineString"?e.setGeometry(new Bf([n])):this.type_==="MultiPolygon"&&e.setGeometry(new Of([n])),this.dispatchEvent(new P1($0e,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e),e}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new P1(U0e,e))}appendCoordinates(e){const n=this.mode_,i=!this.sketchFeature_;let s;if(i&&this.startDrawing_(e[0]),n==="LineString"||n==="Circle")s=this.sketchCoords_;else{if(n!=="Polygon")return;s=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}i&&s.shift(),s.pop();for(let f=0;f<e.length;f++)this.addToDrawing_(e[f]);const l=e[e.length-1];this.sketchFeature_=this.addToDrawing_(l),this.modifyDrawing_(l)}extend(e){const n=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=n.getCoordinates();const i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new bi(new _a(i)),this.updateSketchFeatures_(),this.dispatchEvent(new P1(AP,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const n=this.overlay_.getSource();n.clear(!0),n.addFeatures(e)}updateState_(){const e=this.getMap(),n=this.getActive();e&&n||this.abortDrawing(),this.overlay_.setMap(n?e:null)}}function H0e(){const t=function(){const e={},n=[255,255,255,1],i=[0,153,255,1];return e.Polygon=[new eo({fill:new Uo({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new eo({stroke:new ba({color:n,width:5})}),new eo({stroke:new ba({color:i,width:3})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new eo({image:new eh({radius:6,fill:new Uo({color:i}),stroke:new ba({color:n,width:1.5})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}();return function(e,n){return t[e.getGeometry().getType()]}}const V0e="translatestart",W0e="translating",Y0e="translateend";class px extends Xa{constructor(e,n,i,s,l){super(e),this.features=n,this.coordinate=i,this.startCoordinate=s,this.mapBrowserEvent=l}}var X0e=class extends Q6{constructor(t){let e;if(super(t=t||{}),this.on,this.once,this.un,this.lastCoordinate_=null,this.startCoordinate_=null,this.features_=t.features!==void 0?t.features:null,t.layers&&!this.features_)if(typeof t.layers=="function")e=t.layers;else{const n=t.layers;e=function(i){return n.includes(i)}}else e=n0;this.layerFilter_=e,this.filter_=t.filter&&!this.features_?t.filter:n0,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0,this.condition_=t.condition?t.condition:l3,this.lastFeature_=null,this.addChangeListener(Tv,this.handleActiveChanged_)}handleDownEvent(t){if(!t.originalEvent||!this.condition_(t))return!1;if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=t.coordinate,this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);const e=this.features_||new kf([this.lastFeature_]);return this.dispatchEvent(new px(V0e,e,t.coordinate,this.startCoordinate_,t)),!0}return!1}handleUpEvent(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);const e=this.features_||new kf([this.lastFeature_]);return this.dispatchEvent(new px(Y0e,e,t.coordinate,this.startCoordinate_,t)),this.startCoordinate_=null,!0}return!1}handleDragEvent(t){if(this.lastCoordinate_){const e=t.coordinate;t.map.getView().getProjection();const n=Xi(e),i=Xi(this.lastCoordinate_),s=n[0]-i[0],l=n[1]-i[1],f=this.features_||new kf([this.lastFeature_]);f.forEach(function(h){const p=h.getGeometry();p.translate(s,l),h.setGeometry(p)}),this.lastCoordinate_=e,this.dispatchEvent(new px(W0e,f,e,this.startCoordinate_,t))}}handleMoveEvent(t){const e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")}featuresAtPixel_(t,e){return e.forEachFeatureAtPixel(t,(n,i)=>{if(n instanceof bi&&this.filter_(n,i)&&(!this.features_||this.features_.getArray().includes(n)))return n},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})}getHitTolerance(){return this.hitTolerance_}setHitTolerance(t){this.hitTolerance_=t}setMap(t){const e=this.getMap();super.setMap(t),this.updateState_(e)}handleActiveChanged_(){this.updateState_(null)}updateState_(t){let e=this.getMap();const n=this.getActive();(!e||!n)&&(e=e||t,e)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")}},Nd=new Map;function K0e(t){var e=Nd.get(t);e&&e.destroy()}function Z0e(t){var e=Nd.get(t);e&&e.update()}var Fd=null;typeof window>"u"?((Fd=function(t){return t}).destroy=function(t){return t},Fd.update=function(t){return t}):((Fd=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(n){return function(i){if(i&&i.nodeName&&i.nodeName==="TEXTAREA"&&!Nd.has(i)){var s,l=null,f=window.getComputedStyle(i),h=(s=i.value,function(){m({testForHeightReduction:s===""||!i.value.startsWith(s),restoreTextAlign:null}),s=i.value}),p=function(b){i.removeEventListener("autosize:destroy",p),i.removeEventListener("autosize:update",g),i.removeEventListener("input",h),window.removeEventListener("resize",g),Object.keys(b).forEach(function(S){return i.style[S]=b[S]}),Nd.delete(i)}.bind(i,{height:i.style.height,resize:i.style.resize,textAlign:i.style.textAlign,overflowY:i.style.overflowY,overflowX:i.style.overflowX,wordWrap:i.style.wordWrap});i.addEventListener("autosize:destroy",p),i.addEventListener("autosize:update",g),i.addEventListener("input",h),window.addEventListener("resize",g),i.style.overflowX="hidden",i.style.wordWrap="break-word",Nd.set(i,{destroy:p,update:g}),g()}function m(b){var S,w,C=b.restoreTextAlign,M=C===void 0?null:C,T=b.testForHeightReduction,D=T===void 0||T,R=f.overflowY;if(i.scrollHeight!==0&&(f.resize==="vertical"?i.style.resize="none":f.resize==="both"&&(i.style.resize="horizontal"),D&&(S=function(Y){for(var K=[];Y&&Y.parentNode&&Y.parentNode instanceof Element;)Y.parentNode.scrollTop&&K.push([Y.parentNode,Y.parentNode.scrollTop]),Y=Y.parentNode;return function(){return K.forEach(function(ce){var te=ce[0],ee=ce[1];te.style.scrollBehavior="auto",te.scrollTop=ee,te.style.scrollBehavior=null})}}(i),i.style.height=""),w=f.boxSizing==="content-box"?i.scrollHeight-(parseFloat(f.paddingTop)+parseFloat(f.paddingBottom)):i.scrollHeight+parseFloat(f.borderTopWidth)+parseFloat(f.borderBottomWidth),f.maxHeight!=="none"&&w>parseFloat(f.maxHeight)?(f.overflowY==="hidden"&&(i.style.overflow="scroll"),w=parseFloat(f.maxHeight)):f.overflowY!=="hidden"&&(i.style.overflow="hidden"),i.style.height=w+"px",M&&(i.style.textAlign=M),S&&S(),l!==w&&(i.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),l=w),R!==f.overflow&&!M)){var q=f.textAlign;f.overflow==="hidden"&&(i.style.textAlign=q==="start"?"end":"start"),m({restoreTextAlign:q,testForHeightReduction:!0})}}function g(){m({testForHeightReduction:!0,restoreTextAlign:null})}}(n)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],K0e),t},Fd.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],Z0e),t});var kP=Fd;const J0e=/([\:\-\_]+(.))/g,Q0e=/^moz([A-Z])/,gx=function(t){return typeof t=="string"?document.getElementById(t):t},Pz=function(t){return t.replace(J0e,function(e,n,i,s){return s?i.toUpperCase():i}).replace(Q0e,"Moz$1")},Ti=function(){if(document.addEventListener)return function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}}(),ca=function(){if(document.removeEventListener)return function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}}();function epe(t,e){if(!t||!e)return null;(e=Pz(e))==="float"&&(e="cssFloat");try{const n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch{return t.style[e]}}function Q1(t,e,n){if(t&&e)if(typeof e=="object")for(var i in e)e.hasOwnProperty(i)&&Q1(t,i,e[i]);else(e=Pz(e))==="opacity"?t.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":t.style[e]=n}class a8 extends xx{constructor(e={}){super({id:e.id,element:e.element,stopEvent:e.stopEvent,insertFirst:e.insertFirst,autoPan:e.autoPan,className:e.className}),this.isClick_=!1,this.dragging_=!1,this.isFocus_=!1,this.handleTimer_=null,this.currentPixel_=[],this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning!==void 0?e.positioning:"center-center"),this.mapDragPan=void 0,this.isClick_=!1,this.dragging_=!1,this.isFocus_=!1,this.options_=e,this._position=e.position&&e.position.length>0?e.position:[],this.handleTimer_=null,this.currentPixel_=[],K6(["handleFocus_","handleBlur_","handleClick_","handleDragStart_","handleDragEnd_","handleDragDrag_","closeCurrentPlotText","handleResizeMouseDown_","handleResizeMouseMove_","handleResizeMouseUp_","resizeButtonMoveHandler_"],this),this.createTextContent(e)}createTextContent(e){const n=e.className||"ol-plot-text-editor",i=document.createElement("textarea");i.className=n,i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.minHeight=e.minHeight+"px",i.setAttribute("id",e.id),i.setAttribute("autofocus",!0),kP(i),Ti(i,"focus",this.handleFocus_),Ti(i,"blur",this.handleBlur_),Ti(i,"click",this.handleClick_),Ti(i,"mousedown",this.handleDragStart_),Ti(window,"mouseup",this.handleDragEnd_),this.set("isPlotText",!0),this.setElement(i),this.createCloseButton(e),this.createResizeButton(e),this.setPosition(this._position),this.dispatchEvent("textBoxDrawEnd")}getTextAreaFromContent_(){let e=null;const n=Array.prototype.slice.call(this.element&&this.element.children,0);return n.length>0&&n.every(i=>i.nodeType!==1||i.nodeName.toLowerCase()!=="textarea"||(e=i,!1)),e}createCloseButton(e){const n=document.createElement("span");n.className="ol-plot-text-editor-close",n.setAttribute("data-id",e.id),ca(n,"click",this.closeCurrentPlotText),Ti(n,"click",this.closeCurrentPlotText),this.element.appendChild(n)}createResizeButton(e){const n=document.createElement("span");n.className="ol-plot-text-editor-resize",n.setAttribute("data-id",e.id),ca(n,"mousedown",this.handleResizeMouseDown_),ca(n,"mousemove",this.handleResizeMouseMove_),Ti(n,"mousedown",this.handleResizeMouseDown_),Ti(n,"mousemove",this.handleResizeMouseMove_),this.element.appendChild(n)}resizeButtonMoveHandler_(e){const n=e.pixel,i=this.getTextAreaFromContent_();if(n.length<1||this.currentPixel_.length<1||!i)return;const s=[n[0]-this.currentPixel_[0],n[1]-this.currentPixel_[1]],l=[i.offsetWidth,i.offsetHeight],f=l[1]+2*s[1];Q1(i,"width",l[0]+2*s[0]+"px"),Q1(i,"height",f+"px"),this.currentPixel_=n,this.getMap().render()}handleResizeMouseMove_(e){e.stopImmediatePropagation()}handleResizeMouseDown_(e){this.getMap()&&(this.currentPixel_=[e.x,e.y],this.getMap().on("pointermove",this.resizeButtonMoveHandler_),Ti(this.getMap().getViewport(),"mouseup",this.handleResizeMouseUp_))}handleResizeMouseUp_(e){this.getMap()&&(this.getMap().un("pointermove",this.resizeButtonMoveHandler_),ca(this.getMap().getViewport(),"mouseup",this.handleResizeMouseUp_),this.currentPixel_=[])}closeCurrentPlotText(e){if(this.getMap()&&e&&function(n,i){if(!n||!i)return!1;if(i.indexOf(" ")!==-1)throw new Error("className should not contain space.");return n.classList?n.classList.contains(i):(" "+n.className+" ").indexOf(" "+i+" ")>-1}(e.target,"ol-plot-text-editor-close")){let n=e.target.getAttribute("data-id");if(n){const i=this.getMap().getOverlayById(n);i&&this.getMap().removeOverlay(i)}}}handleFocus_(){this.isFocus_=!0,this.getMap()&&(this.getMap().set("activeTextArea",this),this.getMap().dispatchEvent("activeTextArea"))}handleBlur_(){this.isFocus_=!1,this.getMap()&&(this.getMap().set("activeTextArea",null),this.getMap().set("disActiveTextArea",this),this.getMap().dispatchEvent("disActiveTextArea"))}handleDragStart_(e){this.getMap()&&!this.dragging_&&this.isMoveModel()&&this.isFocus_&&(this.handleTimer_=window.setTimeout(()=>{window.clearTimeout(this.handleTimer_),this.handleTimer_=null,this.isClick_||(this.dragging_=!0,this.disableMapDragPan(),this.preCursor_=this.element.style.cursor,Ti(this.getMap().getViewport(),"mousemove",this.handleDragDrag_),Ti(this.element,"mouseup",this.handleDragEnd_))},300))}handleDragDrag_(e){this.dragging_&&(this.element.style.cursor="move",this._position=this.getMap().getCoordinateFromPixel([e.clientX,e.clientY]),this.setPosition(this._position))}handleDragEnd_(e){this.isClick_=!1,window.clearTimeout(this.handleTimer_),this.handleTimer_=null,this.dragging_&&this.isFocus_&&(this.dragging_=!1,this.enableMapDragPan(),this.element.style.cursor=this.preCursor_,ca(this.getMap().getViewport(),"mousemove",this.handleDragDrag_),ca(this.element,"mouseup",this.handleDragEnd_))}handleClick_(e){e.target===this.element?this.isClick_=!0:this.isClick_=!1}isMoveModel(){return window.getSelection().getRangeAt(0).collapsed}setStyle(e={}){const n=this.getTextAreaFromContent_();if(n)for(let i in e)e[i]&&Q1(n,i,e[i])}getStyle(){const e={},n=this.getTextAreaFromContent_();if(n)for(let i in q7)e[i]=epe(n,i);return e}setValue(e){const n=this.getTextAreaFromContent_();n&&(n.value=e,e&&kP.update(n),this.getMap().render())}getValue(){const e=this.getTextAreaFromContent_();return e?e.value:""}getWidth(){const e=this.getTextAreaFromContent_();return e&&e.offsetWidth?e.offsetWidth:0}getHeight(){const e=this.getTextAreaFromContent_();return e&&e.offsetHeight?e.offsetHeight:0}enableMapDragPan(){const e=this.getMap();e&&this.mapDragPan&&this.mapDragPan instanceof Pv&&(e.addInteraction(this.mapDragPan),delete this.mapDragPan)}disableMapDragPan(){const e=this.getMap();e&&e.getInteractions().getArray().every(n=>!(n instanceof Pv)||(this.mapDragPan=n,e.removeInteraction(n),!1))}setMap(e){super.setMap(e),e&&e instanceof Yn&&(this.setStyle(xL(q7,this.options_.style)),this.setValue(this.options_.value))}}var FP=Object.freeze({__proto__:null,Point:mL,Pennant:yL,Polyline:_L,Arc:SL,Circle:CL,Curve:EL,FreeHandLine:AL,RectAngle:kL,Ellipse:FL,Lune:IL,Sector:ML,ClosedCurve:DL,Polygon:TL,FreePolygon:PL,AttackArrow:D0,DoubleArrow:RL,StraightArrow:BL,FineArrow:Z6,AssaultDirection:OL,TailedAttackArrow:LL,SquadCombat:zL,TailedSquadCombat:NL,GatheringPlace:jL,RectFlag:qL,TriangleFlag:$L,CurveFlag:UL,PlotTextBox:a8});/*!
* observable-emit v1.1.1
* LICENSE : BSD-3-Clause
* (c) 2017-2017 https://github.com/sakitam-fdd/observable-emit
*/function tpe(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:case 3:return e^n^i;case 2:return e&n^e&i^n&i}}function vx(t,e){return t<<e|t>>>32-e}for(var npe=function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var i=unescape(encodeURIComponent(t));t=new Array(i.length);for(var s=0;s<i.length;s++)t[s]=i.charCodeAt(s)}t.push(128);var l=t.length/4+2,f=Math.ceil(l/16),h=new Array(f);for(s=0;s<f;s++){h[s]=new Array(16);for(var p=0;p<16;p++)h[s][p]=t[64*s+4*p]<<24|t[64*s+4*p+1]<<16|t[64*s+4*p+2]<<8|t[64*s+4*p+3]}for(h[f-1][14]=8*(t.length-1)/Math.pow(2,32),h[f-1][14]=Math.floor(h[f-1][14]),h[f-1][15]=8*(t.length-1)&4294967295,s=0;s<f;s++){for(var m=new Array(80),g=0;g<16;g++)m[g]=h[s][g];for(g=16;g<80;g++)m[g]=vx(m[g-3]^m[g-8]^m[g-14]^m[g-16],1);var b=n[0],S=n[1],w=n[2],C=n[3],M=n[4];for(g=0;g<80;g++){var T=Math.floor(g/20),D=vx(b,5)+tpe(T,S,w,C)+M+e[T]+m[g]>>>0;M=C,C=w,w=vx(S,30)>>>0,S=b,b=D}n[0]=n[0]+b>>>0,n[1]=n[1]+S>>>0,n[2]=n[2]+w>>>0,n[3]=n[3]+C>>>0,n[4]=n[4]+M>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]},Rz=[],L1=0;L1<256;++L1)Rz[L1]=(L1+256).toString(16).substr(1);var rpe=function(t,e){var n=0,i=Rz;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]};function nS(t,e,n,i){if(typeof t=="string"&&(t=function(l){l=unescape(encodeURIComponent(l));for(var f=new Array(l.length),h=0;h<l.length;h++)f[h]=l.charCodeAt(h);return f}(t)),typeof e=="string"&&(e=function(l){var f=[];return l.replace(/[a-fA-F0-9]{2}/g,function(h){f.push(parseInt(h,16))}),f}(e)),!Array.isArray(t))throw TypeError("name must be an array of bytes");if(!Array.isArray(e)||e.length!=16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var s=npe(e.concat(t));return s[6]=15&s[6]|80,s[8]=63&s[8]|128,n||rpe(s)}nS.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",nS.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";var IP=nS,MP=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},ipe=function(t){for(var e=arguments,n=1;n<arguments.length;n++){var i=e[n];for(var s in i)t[s]=i[s]}return t},_i=function(){};_i.prototype.on=function(t,e,n){if(!t||!e)return this;if(typeof t=="object")for(var i in t)this._on(i,t[i],e);else for(var s=MP(t).split(/\s+/),l=0,f=s.length;l<f;l++)this._on(s[l],e,n);return this},_i.prototype.un=function(t,e,n){if(t)if(typeof t=="object")for(var i in t)this._un(i,t[i],e);else for(var s=MP(t).split(/\s+/),l=0,f=s.length;l<f;l++)this._un(s[l],e,n);else delete this._events;return this},_i.prototype.addEventListener=function(){return this.on.apply(this,arguments)},_i.prototype.removeEventListener=function(){return this.un.apply(this,arguments)},_i.prototype.once=function(t,e,n){var i=this;if(!t||!e)return this;if(typeof t=="object"){for(var s in t)i.once(s,t[s],e);return this}var l=function(){i.un(t,e,n).un(t,l,n)};return this.on(t,e,n).on(t,l,n)},_i.prototype._on=function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var s={handler:e,context:n},l=i,f=0,h=l.length;f<h;f++)if(l[f].handler===e&&l[f].context===n)return this;l.push(s)},_i.prototype._un=function(t,e,n){var i=[],s=i[0],l=i[1],f=i[2];if(this._events&&(s=this._events[t]))if(e){if(n===this&&(n=void 0),s)for(l=0,f=s.length;l<f;l++){var h=s[l];if(h.context===n&&h.handler===e)return h.handler=function(){return!1},this._firingCount&&(this._events[t]=s=s.slice()),void s.splice(l,1)}}else{for(l=0,f=s.length;l<f;l++)s[l].callback=function(){return!1};delete this._events[t]}},_i.prototype.dispatch=function(){return this._action.apply(this,arguments)},_i.prototype.dispatchSync=function(){var t=arguments,e=this;return setTimeout(function(){e._action.apply(e,t)}),this},_i.prototype._action=function(t,e,n){if(!this.listens(t,n))return this;var i={type:t,target:this};if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var l=0,f=s.length;l<f;l++){var h=s[l];h.handler.call(h.context||this,i,e)}this._firingCount--}}return n&&this._propagateEvent(i),this},_i.prototype.listens=function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e){for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0}return!1},_i.prototype.addEventParent=function(t){return this._eventParents=this._eventParents||{},this._eventParents[IP(t,"8dc079dd-0313-4563-864f-008eb45bf87f")]=t,this},_i.prototype.removeEventParent=function(t){return this._eventParents&&delete this._eventParents[IP(t,"8dc079dd-0313-4563-864f-008eb45bf87f")],this},_i.prototype._propagateEvent=function(t){for(var e in this._eventParents)this._eventParents[e].dispatch(t.type,ipe({layer:t.target,propagatedFrom:t.target},t),!0)};class lf extends Xa{constructor(e,n){super(e),this.layer=n}}const mx="layers";class s8 extends KL{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let i=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(mx,this.handleLayersChanged_),i?Array.isArray(i)?i=new kf(i.slice(),{unique:!0}):Dr(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new kf(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(bo),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(si(e,zv,this.handleLayersAdd_,this),si(e,Nv,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(bo);hm(this.listenerKeys_);const n=e.getArray();for(let i=0,s=n.length;i<s;i++){const l=n[i];this.registerLayerListeners_(l),this.dispatchEvent(new lf("addlayer",l))}this.changed()}registerLayerListeners_(e){const n=[si(e,E6,this.handleLayerChange_,this),si(e,to,this.handleLayerChange_,this)];e instanceof s8&&n.push(si(e,"addlayer",this.handleLayerGroupAdd_,this),si(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Sr(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new lf("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new lf("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new lf("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,i=Sr(n);this.listenerKeys_[i].forEach(bo),delete this.listenerKeys_[i],this.dispatchEvent(new lf("removelayer",n)),this.changed()}getLayers(){return this.get(mx)}setLayers(e){const n=this.getLayers();if(n){const i=n.getArray();for(let s=0,l=i.length;s<l;++s)this.dispatchEvent(new lf("removelayer",i[s]))}this.set(mx,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],i=n.length;this.getLayers().forEach(function(f){f.getLayerStatesArray(n)});const s=this.getLayerState();let l=s.zIndex;e||s.zIndex!==void 0||(l=0);for(let f=i,h=n.length;f<h;f++){const p=n[f];p.opacity*=s.opacity,p.visible=p.visible&&s.visible,p.maxResolution=Math.min(p.maxResolution,s.maxResolution),p.minResolution=Math.max(p.minResolution,s.minResolution),p.minZoom=Math.max(p.minZoom,s.minZoom),p.maxZoom=Math.min(p.maxZoom,s.maxZoom),s.extent!==void 0&&(p.extent!==void 0?p.extent=ade(p.extent,s.extent):p.extent=s.extent),p.zIndex===void 0&&(p.zIndex=l)}return n}getSourceState(){return"ready"}}var ope=s8;const rl=function(t,e){try{let n=null;if(t){let i=t.getLayers().getArray();n=Bz(i,"lyrName",e)}return n}catch{}},Bz=function(t,e,n){let i=null;return t.length>0&&t.every(s=>{if(s instanceof ope){let l=s.getLayers().getArray();return i=Bz(l,e,n),!i}return s.get(e)!==n||(i=s,!1)}),i},Oz=function(t,e,n){var i;try{if(t){let s=rl(t,e);if(s instanceof zd||(s=null),!s&&n&&n.create){const l=new eo({fill:new Uo({color:"rgba(67, 110, 238, 0.4)"}),stroke:new ba({color:"#4781d9",width:2}),image:new eh({radius:7,fill:new Uo({color:"#ffcc33"})})});s=new zd({source:new jv({wrapX:!1}),style:(i=n.style)!==null&&i!==void 0?i:l,properties:Object.assign({lyrName:e,lyrType:"vector"},n)})}if(t&&s){n&&n.hasOwnProperty("selectable")&&s.set("selectable",n.selectable);let l=rl(t,e);(!l||!(l instanceof zd))&&t.addLayer(s)}return s}}catch{}};function Lz(t){return{all:t=t||new Map,on(e,n){const i=t?.get(e);i&&i.push(n)||t?.set(e,[n])},off(e,n){const i=t?.get(e);i&&i.splice(i.indexOf(n)>>>0,1)},emit(e,n){(t?.get(e)||[]).slice().map(i=>{i(n)}),(t?.get("*")||[]).slice().map(i=>{i(e,n)})}}}Lz();const zz=new class{constructor(){this.eventBus=Lz()}eventEmit(t,e){this.eventBus.emit(t,e)}eventOn(t,e){this.eventBus.on(t,e)}eventOff(t,e){this.eventBus.off(t,e)}},Nz="PLOT_DRAW_END";class ape extends _i{constructor(e,n){if(super(),this.options={},this.points=null,this.plot=null,this.feature=null,this.plotType=null,this.plotParams=null,this.mapViewport=null,this.dblClickZoomInteraction=null,this.drawInteraction_=null,!e)throw new Error("");this.map=e,this.options=n,this.layerName=this.options&&this.options.layerName?this.options.layerName:bL,this.mapViewport=this.map.getViewport(),K6(["textAreaDrawEnd","mapFirstClickHandler","mapNextClickHandler","mapDoubleClickHandler","mapMouseMoveHandler"],this),this.drawLayer=Oz(this.map,this.layerName,{style:n.style,create:!0}),this.drawLayer.setZIndex(this.options.zIndex||99),this.drawLayer}createPlot(e,n,i){let s=i||{};switch(e){case Gx:return"TextArea";case wv:return new mL([],n,s);case xv:return new yL([],n,s);case i6:return new _L([],n,s);case t6:return new SL([],n,s);case s6:return new CL([],n,s);case n6:return new EL([],n,s);case o6:return new AL([],n,s);case a6:return new kL([],n,s);case u6:return new FL([],n,s);case l6:return new IL([],n,s);case c6:return new ML([],n,s);case f6:return new DL([],n,s);case h6:return new TL([],n,s);case p6:return new D0([],n,s);case d6:return new PL([],n,s);case g6:return new RL([],n,s);case v6:return new BL([],n,s);case m6:return new Z6([],n,s);case y6:return new OL([],n,s);case _6:return new LL([],n,s);case b6:return new zL([],n,s);case w6:return new NL([],n,s);case r6:return new jL([],n,s);case x6:return new qL([],n,s);case S6:return new $L([],n,s);case C6:return new UL([],n,s)}return null}active(e,n={}){this.deactivate(),this.deactiveMapTools(),this.plotType=e,this.plotParams=n,e===Gx?this.activeInteraction():Object.keys(_7).some(i=>_7[i]===e)&&this.map.on("click",this.mapFirstClickHandler)}activeInteraction(){this.drawInteraction_=new G0e({style:new eo({fill:new Uo({color:"rgba(255, 255, 255, 0.7)"}),stroke:new ba({color:"rgba(0, 0, 0, 0.15)",width:2}),image:new T0({anchor:[1,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:.75,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABgklEQVQ4T41T0W3CQAy1lfwRqR0h/CE5UhkBJmiZADpB0wlKJwA2aDegE5QR+Igl/noj9OPuLydXPuXQEYUKS5FyPvvd87ONRDRFxEdr7c4Y8ws3WFmW90VRvIjIF1ZVtQaANxH59N6v8zwvRaQEgCMATDu88I+Ipm1bk2XZHhEfAOAdFW00Gh2YOQafOeidHoaYEdGHc65GDZhMJuXpdDJ99hqkPmZe9e9iTgCoqmrWNM0hDerq/FGftXbcZxFzAgARrZg5vBaNiGpE3OhZRF6Zedu7DzkRYMrMKlQKYBBRQVVgw8zj3n3IGWSg9ESkds6tiqJQbe4AYJ6WGVkPAqh4+romdP9LbXMqZh/gXIKqm+d5EK9vbduOY7d0AAdL6AYLmqbRAQtGRMc4ONF/wSC2RF/PsuwbABapqLEjKqb3fq4sLtoYh6Lbiydr7TbtuwYDgH5qB9XmPEjdKG+Y+Xmo7ms+Lcs5N0uX6ei9X9y4TGtEXIZlukb7PzbdmNcisv8DtQILak2vZsYAAAAASUVORK5CYII="})}),type:"Circle",geometryFunction:function(e,n,i){const s=k6([e[0],e[e.length-1]].map(function(f){return Xi(f)})),l=[[i0(s),M6(s),gm(s),D6(s),i0(s)]];return n?n.setCoordinates(l):n=new ur(l),n}}),this.map.addInteraction(this.drawInteraction_),this.drawInteraction_.on("drawend",this.textAreaDrawEnd)}textAreaDrawEnd(e){if(e&&e.feature){this.map.removeInteraction(this.drawInteraction_);const n=e.feature.getGeometry().getExtent(),i=[(n[0]+n[2])/2,(n[1]+n[3])/2],s=this.map.getPixelFromCoordinate([n[0],n[1]]),l=this.map.getPixelFromCoordinate([n[2],n[3]]),[f,h]=[Math.abs(s[0]-l[0]),Math.abs(s[1]-l[1])],p=new a8({id:Tde(),position:i,value:"",width:f,height:h,style:{width:f+"px",height:h+"px"}});this.map&&this.map instanceof Yn&&p&&this.map.addOverlay(p)}}deactivate(){this.removeEventHandlers(),this.drawInteraction_&&(this.map.removeInteraction(this.drawInteraction_),this.drawInteraction_=null),this.points=[],this.plot=null,this.feature=null,this.plotType=null,this.plotParams=null,this.activateMapTools()}isDrawing(){return!!this.plotType}mapFirstClickHandler(e){this.map.un("click",this.mapFirstClickHandler),this.points.push(e.coordinate),this.plot=this.createPlot(this.plotType,this.points,this.plotParams),this.feature=new PI(this.plot),this.feature.set("isPlot",!0),this.drawLayer.getSource().addFeature(this.feature),this.plotType===wv||this.plotType===xv?(this.plot.finishDrawing(),this.drawEnd(e)):(this.map.on("click",this.mapNextClickHandler),this.plot.freehand||this.map.on("dblclick",this.mapDoubleClickHandler),this.map.un("pointermove",this.mapMouseMoveHandler),this.map.on("pointermove",this.mapMouseMoveHandler)),this.plotType&&this.feature&&(this.plotParams.plotType=this.plotType,this.feature.setProperties(this.plotParams))}mapNextClickHandler(e){if(!this.plot.freehand&&Tn(e.coordinate,this.points[this.points.length-1])<1e-4)return!1;this.points.push(e.coordinate),this.plot.setPoints(this.points),this.plot.fixPointCount===this.plot.getPointCount()&&this.mapDoubleClickHandler(e),this.plot&&this.plot.freehand&&this.mapDoubleClickHandler(e)}mapDoubleClickHandler(e){e.preventDefault(),this.plot.finishDrawing(),this.drawEnd(e)}mapMouseMoveHandler(e){let n=e.coordinate;if(Tn(n,this.points[this.points.length-1])<1e-4)return!1;if(this.plot.freehand)this.points.push(n),this.plot.setPoints(this.points);else{let i=this.points.concat([n]);this.plot.setPoints(i)}}removeEventHandlers(){this.map.un("click",this.mapFirstClickHandler),this.map.un("click",this.mapNextClickHandler),this.map.un("pointermove",this.mapMouseMoveHandler),this.map.un("dblclick",this.mapDoubleClickHandler)}drawEnd(e){zz.eventEmit(Nz,this.feature),this.feature&&this.options.isClear&&this.drawLayer.getSource().removeFeature(this.feature),this.deactivate()}addFeature(){this.feature=new PI(this.plot),this.feature&&this.drawLayer&&this.drawLayer.getSource().addFeature(this.feature)}deactiveMapTools(){this.map.getInteractions().getArray().every(e=>!(e instanceof U7)||(this.dblClickZoomInteraction=e,this.map.removeInteraction(e),!1))}activateMapTools(){this.dblClickZoomInteraction&&this.dblClickZoomInteraction instanceof U7&&(this.map.addInteraction(this.dblClickZoomInteraction),this.dblClickZoomInteraction=null)}}class spe extends Ei{constructor(e){if(super(),this.activePlot=null,this.startPoint=null,this.ghostControlPoints=null,this.controlPoints=null,this.mouseOver=!1,this.elementTable={},this.activeControlPointId=null,this.mapDragPan=null,this.previousCursor_=null,!e)throw new Error("");this.map=e,this.mapViewport=this.map.getViewport(),K6(["controlPointMouseDownHandler","controlPointMouseMoveHandler2","controlPointMouseUpHandler","controlPointMouseMoveHandler"],this),zz.eventOn(Nz,this.activate.bind(this))}initHelperDom(){if(!this.map||!this.activePlot)return!1;let e=this.getMapParentElement();if(!e)return!1;{let n=function(s,l,f){let h=document.createElement(s);return h.style.display="none",h.id=f,l&&l.appendChild(h),h}("div",e,j7),i=this.getControlPoints();i&&Array.isArray(i)&&i.length>0&&i.forEach((s,l)=>{let f=cd+"-"+l;(function(h,p,m,g){let b=document.createElement(h);b.className=p,g&&(b.id=g),m&&m.appendChild(b)})("div",cd,n,f),this.elementTable[f]=l})}}getMapParentElement(){let e=this.map.getTargetElement();return!!e&&e.parentNode}destroyHelperDom(){this.controlPoints&&Array.isArray(this.controlPoints)&&this.controlPoints.length>0&&(this.controlPoints.forEach((i,s)=>{i&&i instanceof xx&&this.map.removeOverlay(i);let l=gx(cd+"-"+s);l&&(ca(l,"mousedown",this.controlPointMouseDownHandler.bind(this)),ca(l,"mousemove",this.controlPointMouseMoveHandler2.bind(this)))}),this.controlPoints=[]);let e=this.getMapParentElement(),n=gx(j7);n&&e&&function(i){let s=i.parentNode;s&&s.removeChild(i)}(n)}initControlPoints(){this.controlPoints=[];let e=this.getControlPoints();e&&Array.isArray(e)&&e.length>0&&e.forEach((n,i)=>{let s=cd+"-"+i;this.elementTable[s]=i;let l=gx(s),f=new xx({id:s,position:e[i],positioning:"center-center",element:l});this.controlPoints.push(f),this.map.addOverlay(f),this.map.render(),Ti(l,"mousedown",this.controlPointMouseDownHandler),Ti(l,"mousemove",this.controlPointMouseMoveHandler2)})}controlPointMouseMoveHandler2(e){e.stopImmediatePropagation()}controlPointMouseDownHandler(e){this.activeControlPointId=e.target.id,this.map.on("pointermove",this.controlPointMouseMoveHandler),Ti(this.mapViewport,"mouseup",this.controlPointMouseUpHandler)}controlPointMouseMoveHandler(e){let n=e.coordinate;if(this.activeControlPointId){let i=this.activePlot.getGeometry(),s=this.elementTable[this.activeControlPointId];i.updatePoint(n,s);let l=this.map.getOverlayById(this.activeControlPointId);l&&l.setPosition(n)}}controlPointMouseUpHandler(e){this.map.un("pointermove",this.controlPointMouseMoveHandler),ca(this.mapViewport,"mouseup",this.controlPointMouseUpHandler)}activate(e){e&&e.get("isPlot")&&e.getGeometry().isPlot&&e!==this.activePlot&&(this.deactivate(),this.activePlot=e,this.previousCursor_=this.map.getTargetElement().style.cursor,this.enableDragFeature(this.activePlot),this.initHelperDom(),this.initControlPoints())}enableDragFeature(e){this.translate&&(this.map.removeInteraction(this.translate),this.translate=null);const n=new Rre;n.push(e),this.translate=new X0e({features:n}),this.map.addInteraction(this.translate),this.translate.on("translatestart",this.translateStartHandler.bind(this)),this.translate.on("translating",this.translatingHandler.bind(this)),this.translate.on("translateend",this.translateEndHandler.bind(this))}translateStartHandler(e){this.map.getTargetElement().style.cursor="move",this.ghostControlPoints=this.getControlPoints(),this.startPoint=e.coordinate}translatingHandler(e){let[n,i,s]=[e.coordinate[0]-this.startPoint[0],e.coordinate[1]-this.startPoint[1],[]];if(this.ghostControlPoints&&Array.isArray(this.ghostControlPoints)&&this.ghostControlPoints.length>0)for(let l=0;l<this.ghostControlPoints.length;l++){let f=[this.ghostControlPoints[l][0]+n,this.ghostControlPoints[l][1]+i];s.push(f);let h=cd+"-"+l,p=this.map.getOverlayById(h);p&&(p.setPosition(f),p.setPositioning("center-center"))}this.activePlot.getGeometry().setPoints(s)}translateEndHandler(e){this.map.getTargetElement().style.cursor="default",this.enableMapDragPan()}getControlPoints(){let e=[];if(this.activePlot){let n=this.activePlot.getGeometry();n&&(e=n.getPoints())}return e}disconnectEventHandlers(){this.map.un("pointermove",this.controlPointMouseMoveHandler),ca(this.mapViewport,"mouseup",this.controlPointMouseUpHandler)}deactivate(){this.activePlot=null,this.mouseOver=!1,this.map.getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=null,this.destroyHelperDom(),this.disconnectEventHandlers(),this.enableMapDragPan(),this.elementTable={},this.activeControlPointId=null,this.startPoint=null}disableMapDragPan(){this.map.getInteractions().getArray().every(e=>!(e instanceof Pv)||(this.mapDragPan=e,this.map.removeInteraction(e),!1))}enableMapDragPan(){this.mapDragPan&&this.mapDragPan instanceof Pv&&(this.map.addInteraction(this.mapDragPan),this.mapDragPan=null)}}class upe{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=bi,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let i=n.dataProjection?Si(n.dataProjection):this.readProjection(e);n.extent&&i&&i.getUnits()==="tile-pixels"&&(i=Si(i),i.setWorldExtent(n.extent)),n={dataProjection:i,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return an()}readFeature(e,n){return an()}readFeatures(e,n){return an()}readGeometry(e,n){return an()}readProjection(e){return an()}writeFeature(e,n){return an()}writeFeatures(e,n){return an()}writeGeometry(e,n){return an()}}function u8(t,e,n){const i=n?Si(n.featureProjection):null,s=n?Si(n.dataProjection):null;let l=t;if(i&&s&&!function(f,h){if(f===h)return!0;const p=f.getUnits()===h.getUnits();return(f.getCode()===h.getCode()||rL(f,h)===B6)&&p}(i,s)){e&&(l=t.clone());const f=e?i:s,h=e?s:i;f.getUnits()==="tile-pixels"?l.transform(f,h):l.applyTransform(t3(f,h))}if(e&&n&&n.decimals!==void 0){const f=Math.pow(10,n.decimals),h=function(p){for(let m=0,g=p.length;m<g;++m)p[m]=Math.round(p[m]*f)/f;return p};l===t&&(l=t.clone()),l.applyTransform(h)}return l}const lpe={Point:_a,LineString:Ci,Polygon:ur,MultiPoint:M0,MultiLineString:Bf,MultiPolygon:Of};function jz(t,e){const n=t.geometry;if(!n)return[];if(Array.isArray(n))return n.map(l=>jz({...t,geometry:l})).flat();const i=n.type==="MultiPolygon"?"Polygon":n.type;if(i==="GeometryCollection"||i==="Circle")throw new Error("Unsupported geometry type: "+i);const s=n.layout.length;return u8(new Zi(i,i==="Polygon"?function(l,f,h){return Array.isArray(f[0])?(gL(l,0,f,h)||i3(l=l.slice(),0,f,h),l):(V6(l,0,f,h)||Mv(l=l.slice(),0,f,h),l)}(n.flatCoordinates,n.ends,s):n.flatCoordinates,n.ends?.flat(),s,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function rS(t,e){if(!t)return null;if(Array.isArray(t)){const n=t.map(i=>rS(i,e));return new s0(n)}return u8(new lpe[t.type](t.flatCoordinates,t.layout,t.ends),!1,e)}class cpe extends upe{constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(z1(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(z1(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return an()}readFeaturesFromObject(e,n){return an()}readGeometry(e,n){return this.readGeometryFromObject(z1(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return an()}readProjection(e){return this.readProjectionFromObject(z1(e))}readProjectionFromObject(e){return an()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return an()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return an()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return an()}}function z1(t){return typeof t=="string"?JSON.parse(t)||null:t!==null?t:null}function iS(t,e){if(!t)return null;let n;switch(t.type){case"Point":n=function(i){const s=i.coordinates;return{type:"Point",flatCoordinates:s,layout:Ku(s.length)}}(t);break;case"LineString":n=function(i){const s=i.coordinates,l=s.flat();return{type:"LineString",flatCoordinates:l,ends:[l.length],layout:Ku(s[0]?.length||2)}}(t);break;case"Polygon":n=function(i){const s=i.coordinates,l=[],f=s[0]?.[0]?.length,h=a0(l,0,s,f);return{type:"Polygon",flatCoordinates:l,ends:h,layout:Ku(f)}}(t);break;case"MultiPoint":n=function(i){const s=i.coordinates;return{type:"MultiPoint",flatCoordinates:s.flat(),layout:Ku(s[0]?.length||2)}}(t);break;case"MultiLineString":n=function(i){const s=i.coordinates,l=s[0]?.[0]?.length||2,f=[],h=a0(f,0,s,l);return{type:"MultiLineString",flatCoordinates:f,ends:h,layout:Ku(l)}}(t);break;case"MultiPolygon":n=function(i){const s=i.coordinates,l=[],f=s[0]?.[0]?.[0].length||2,h=aL(l,0,s,f);return{type:"MultiPolygon",flatCoordinates:l,ends:h,layout:Ku(f)}}(t);break;case"GeometryCollection":n=function(i){return i.geometries.map(function(s){return iS(s)})}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return n}function oS(t,e){const n=(t=u8(t,!0,e)).getType();let i;switch(n){case"Point":i=function(s){return{type:"Point",coordinates:s.getCoordinates()}}(t);break;case"LineString":i=function(s){return{type:"LineString",coordinates:s.getCoordinates()}}(t);break;case"Polygon":i=function(s,l){let f;return l&&(f=l.rightHanded),{type:"Polygon",coordinates:s.getCoordinates(f)}}(t,e);break;case"MultiPoint":i=function(s){return{type:"MultiPoint",coordinates:s.getCoordinates()}}(t);break;case"MultiLineString":i=function(s){return{type:"MultiLineString",coordinates:s.getCoordinates()}}(t);break;case"MultiPolygon":i=function(s,l){let f;return l&&(f=l.rightHanded),{type:"MultiPolygon",coordinates:s.getCoordinates(f)}}(t,e);break;case"GeometryCollection":i=function(s,l){return l=Object.assign({},l),delete l.featureProjection,{type:"GeometryCollection",geometries:s.getGeometriesArray().map(function(f){return oS(f,l)})}}(t,e);break;case"Circle":i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return i}var fpe=class extends cpe{constructor(t){t=t||{},super(),this.dataProjection=Si(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=Si(t.featureProjection)),t.featureClass&&(this.featureClass=t.featureClass),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,e){let n=null;n=t.type==="Feature"?t:{type:"Feature",geometry:t,properties:null};const i=iS(n.geometry);if(this.featureClass===Zi)return jz({geometry:i,id:n.id,properties:n.properties},e);const s=new bi;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&n.geometry_name&&s.setGeometryName(n.geometry_name),s.setGeometry(rS(i,e)),"id"in n&&s.setId(n.id),n.properties&&s.setProperties(n.properties,!0),s}readFeaturesFromObject(t,e){let n=null;if(t.type==="FeatureCollection"){n=[];const i=t.features;for(let s=0,l=i.length;s<l;++s){const f=this.readFeatureFromObject(i[s],e);f&&n.push(f)}}else n=[this.readFeatureFromObject(t,e)];return n.flat()}readGeometryFromObject(t,e){return function(n,i){const s=iS(n);return rS(s,i)}(t,e)}readProjectionFromObject(t){const e=t.crs;let n;if(e)if(e.type=="name")n=Si(e.properties.name);else{if(e.type!=="EPSG")throw new Error("Unknown SRS type");n=Si("EPSG:"+e.properties.code)}else n=this.dataProjection;return n}writeFeatureObject(t,e){e=this.adaptOptions(e);const n={type:"Feature",geometry:null,properties:null},i=t.getId();if(i!==void 0&&(n.id=i),!t.hasProperties())return n;const s=t.getProperties(),l=t.getGeometry();return l&&(n.geometry=oS(l,e),delete s[t.getGeometryName()]),xl(s)||(n.properties=s),n}writeFeaturesObject(t,e){e=this.adaptOptions(e);const n=[];for(let i=0,s=t.length;i<s;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}}writeGeometryObject(t,e){return oS(t,this.adaptOptions(e))}};const Qu=function(t){let e=t&&typeof t=="object"?t:{},n=new eo({});return e.geometry&&e.geometry instanceof L6&&n.setGeometry(e.geometry),e.zIndex&&typeof e.zIndex=="number"&&n.setZIndex(e.zIndex),e.fill&&typeof e.fill=="object"&&n.setFill(this._getFill(e.fill)),e.image&&typeof e.image=="object"&&n.setImage(this._getImage(e.image)),e.stroke&&typeof e.stroke=="object"&&n.setStroke(this._getStroke(e.stroke)),e.text&&typeof e.text=="object"&&n.setText(this._getText(e.text)),n};Qu.prototype._getRegularShape=function(t){try{return new Qf({fill:this._getFill(t.fill)||void 0,points:typeof t.points=="number"?t.points:1,radius:typeof t.radius=="number"?t.radius:void 0,radius1:typeof t.radius1=="number"?t.radius1:void 0,radius2:typeof t.radius2=="number"?t.radius2:void 0,angle:typeof t.angle=="number"?t.angle:0,snapToPixel:typeof t.snapToPixel!="boolean"||t.snapToPixel,stroke:this._getStroke(t.stroke)||void 0,rotation:typeof t.rotation=="number"?t.rotation:0,rotateWithView:typeof t.rotateWithView=="boolean"&&t.rotateWithView,atlasManager:t.atlasManager?t.atlasManager:void 0})}catch{}},Qu.prototype._getImage=function(t){try{let e;return e=(t=t||{}).type==="icon"?this._getIcon(t.image):this._getRegularShape(t.image),e}catch{}},Qu.prototype._getIcon=function(t){try{return new T0({anchor:(t=t||{}).imageAnchor?t.imageAnchor:[.5,.5],anchorXUnits:t.imageAnchorXUnits?t.imageAnchorXUnits:"fraction",anchorYUnits:t.imageAnchorYUnits?t.imageAnchorYUnits:"fraction",anchorOrigin:t.imageAnchorOrigin?t.imageAnchorYUnits:"top-left",color:t.imageColor?t.imageColor:void 0,crossOrigin:t.crossOrigin?t.crossOrigin:void 0,img:t.img?t.img:void 0,offset:t.offset&&Array.isArray(t.offset)&&t.offset.length===2?t.offset:[0,0],offsetOrigin:t.offsetOrigin?t.offsetOrigin:"top-left",scale:typeof t.scale=="number"?t.scale:1,rotateWithView:typeof t.rotateWithView=="boolean"&&t.rotateWithView,opacity:typeof t.imageOpacity=="number"?t.imageOpacity:1,rotation:typeof t.imageRotation=="number"?t.imageRotation:0,size:t.size&&Array.isArray(t.size)&&t.size.length===2?t.size:void 0,imgSize:t.imgSize&&Array.isArray(t.imgSize)&&t.imgSize.length===2?t.imgSize:void 0,src:t.imageSrc?t.imageSrc:void 0})}catch{}},Qu.prototype._getStroke=function(t){try{return new ba({color:(t=t||{}).strokeColor?t.strokeColor:void 0,lineCap:t.strokeLineCap&&typeof t.strokeLineCap=="string"?t.strokeLineCap:"round",lineJoin:t.strokeLineJoin&&typeof t.strokeLineJoin=="string"?t.strokeLineJoin:"round",lineDash:t.strokeLineDash?t.strokeLineDash:void 0,lineDashOffset:typeof t.strokeLineDashOffset=="number"?t.strokeLineDashOffset:"0",miterLimit:typeof t.strokeMiterLimit=="number"?t.strokeMiterLimit:10,width:typeof t.strokeWidth=="number"?t.strokeWidth:void 0})}catch{}},Qu.prototype._getText=function(t){try{return new bm({font:t.textFont&&typeof t.textFont=="string"?t.textFont:"10px sans-serif",offsetX:typeof t.textOffsetX=="number"?t.textOffsetX:0,offsetY:typeof t.textOffsetY=="number"?t.textOffsetY:0,scale:typeof t.textScale=="number"?t.textScale:void 0,rotation:typeof t.textRotation=="number"?t.textRotation:0,text:t.text&&typeof t.text=="string"?t.text:void 0,textAlign:t.textAlign&&typeof t.textAlign=="string"?t.textAlign:"start",textBaseline:t.textBaseline&&typeof t.textBaseline=="string"?t.textBaseline:"alphabetic",rotateWithView:typeof t.rotateWithView=="boolean"&&t.rotateWithView,fill:this._getFill(t.textFill),stroke:this._getStroke(t.textStroke)})}catch{}},Qu.prototype._getFill=function(t){try{return new Uo({color:(t=t||{}).fillColor?t.fillColor:void 0})}catch{}};class hpe{constructor(e,n){if(this.points=[],this.fieldPrefix="Field_",!e)throw new Error("");this.map=e,this.options=n,this.layerName=this.options&&this.options.layerName?this.options.layerName:bL}getBaseStyle(e){let n=e.getStyle();if(!n){let i=rl(this.map,this.layerName);if(!(i&&i instanceof zd))return!1;n=i.getStyle()}return n}setIcon(e,n){try{if(e&&e instanceof bi){let i=this.getBaseStyle(e).clone(),s=null;s&&(i.setImage(s),e.setStyle(i))}}catch{}}setBackgroundColor(e,n){try{if(e&&e instanceof bi){let i=this.getBaseStyle(e).clone(),s=i.getFill(),l=s.getColor();if(l){let f=mo(l),h=mo(n),p=this.handleBackgroundColor(h,f[3]);s.setColor(p),e.setStyle(i)}}}catch{}}setOpacity(e,n){try{if(e&&e instanceof bi){let i=this.getBaseStyle(e);if(i){let s=i.clone(),l=s.getFill(),f=l.getColor();if(f){let h=mo(f);h[3]=n;let p="rgba("+h.join(",")+")";l.setColor(p),e.setStyle(s)}}}}catch{}}setBorderColor(e,n){try{if(e&&e instanceof bi){let i=this.getBaseStyle(e).clone();i.getStroke().setColor(n),e.setStyle(i)}}catch{}}setBorderWidth(e,n){try{if(e&&e instanceof bi){let i=this.getBaseStyle(e).clone();i.getStroke().setWidth(n),e.setStyle(i)}}catch{}}handleBackgroundColor(e,n){try{n||(n=1);let i=mo(e);return i[3]=n,"rgba("+i.join(",")+")"}catch{}}getColor(e){try{return g3(mo(e))}catch{}}fixObject(e){if(e&&typeof e=="object")for(let n in e)n&&typeof e[n]>"u"&&delete e[n];return e}getStroke_(e){let n=null;if(e){let i=e.getStroke();i&&(n={},n.strokeColor=this.getColor(i.getColor()),n.strokeWidth=i.getWidth(),n.strokeLineDash=i.getLineDash(),n.lineDashOffset=i.getLineDashOffset(),n.strokeLineCap=i.getLineCap(),n.strokeLineJoin=i.getLineJoin(),n.strokeMiterLimit=i.getMiterLimit())}return this.fixObject(n)}getFill_(e){let n=null;if(e){let i=e.getFill();if(i){n={};let s=i.getColor();n.fillColor=this.getColor(s)}}return this.fixObject(n)}getText_(e){let n=null;if(e){let i=e.getText();i&&(n={},n.textFont=i.getFont(),n.textOffsetX=i.getOffsetX(),n.textOffsetY=i.getOffsetY(),n.textScale=i.getScale(),n.textRotation=i.getRotation(),n.text=i.getText(),n.textAlign=i.getTextAlign(),n.textBaseline=i.getTextBaseline(),n.rotateWithView=i.getRotateWithView(),n.textFill=this.getFill_(i),n.textStroke=this.getStroke_(i))}return this.fixObject(n)}getImage_(e){let n=null;if(e){let i=e.getImage();i&&(n={},i instanceof T0?(n.type="icon",n.image={},n.image.imageAnchor=i.getAnchor(),n.image.imageColor=i.getColor(),n.image.imageSrc=i.getSrc(),n.image.imgSize=i.getSize(),n.image.scale=i.getScale(),n.image.imageRotation=i.getRotation(),n.image.rotateWithView=i.getRotateWithView(),n.image.imageOpacity=i.getOpacity(),n.image.offset=i.getOrigin()):i instanceof Qf&&(n.type="",n.image={},n.image.fill=this.getFill_(i),n.image.points=i.getPoints(),n.image.radius=i.getRadius(),n.image.radius2=i.getRadius2(),n.image.angle=i.getAngle(),n.image.stroke=this.getStroke_(i),n.image.rotateWithView=i.getRotateWithView()))}return this.fixObject(n)}getStyleCode(e){try{if(e&&e instanceof bi){let n=this.getBaseStyle(e);if(n&&n instanceof eo){let i=this.getFill_(n),[s,l,f]=[1,null,void 0];i&&i.fillColor&&(l=mo(i.fillColor),s=parseFloat(l[3]),l&&typeof s=="number"&&(f=this.handleBackgroundColor(g3(l),s)));let h=this.getStroke_(n),p=this.getText_(n);return{fill:{fillColor:f,opacity:s},stroke:h,image:this.getImage_(n),text:p}}}}catch{}}removeAllFeatures(){const e=rl(this.map,this.layerName),n=this.map.getOverlays().getArray();if(e&&e.getSource().clear(),n&&n.length>0){let i=n.length;for(let s=0;s<i;s++)n[s]&&n[s].get("isPlotText")&&(this.map.removeOverlay(n[s]),s--)}}getFeatures(){let e=[],n=rl(this.map,this.layerName);if(n){let i=n.getSource();if(i&&i instanceof jv){let s=i.getFeatures();s&&s.length>0&&s.forEach((l,f)=>{if(l&&l.getGeometry&&l.getGeometry()){const h=this.getFeaturePlotJson(l);e.push(h)}})}}return this.map.getOverlays().getArray().forEach(i=>{if(i.get("isPlotText")){const s=i.getStyle();s.width=i.getWidth()+"px",s.height=i.getHeight()+"px",e.push({type:"Feature",geometry:{type:"PlotText",coordinates:i.getPosition()},properties:{id:i.getId(),width:i.getWidth(),height:i.getHeight(),style:s,value:i.getValue()}})}}),e}getFeaturePlotJson(e){const n=this.getFeatureJsonObject(e);return n.properties.style=this.getStyleCode(e),n.properties.points=e.getGeometry().getPoints(),n}getFeatureJsonObject(e){return JSON.parse(new fpe().writeFeature(e))}addFeatures(e){if(e&&Array.isArray(e)&&e.length>0){let n=rl(this.map,this.layerName);if(n||(n=Oz(this.map,this.layerName,{create:!0}),n.setZIndex(this.options.zIndex||99)),n){let i=n.getSource();if(i&&i instanceof jv){const s=[];if(e.forEach(l=>{if(l&&l.geometry&&l.geometry.type!=="PlotText"){if(l.properties.plotType&&FP[l.properties.plotType]){let f=new bi({geometry:new FP[l.properties.plotType](l.geometry.coordinates,l.properties.points,{})});if(f.setProperties(l.properties),f.get("isPlot")||f.set("isPlot",!0),f.get("plotType")||f.set("plotType",l.geometry.type),s.push(f.getGeometry().getExtent()),l.properties.style){let h=Qu(l.properties.style);h&&f.setStyle(h)}i.addFeature(f)}}else if(l&&l.geometry&&l.geometry.type==="PlotText"){s.push(new _a(l.geometry.coordinates).getExtent());const f=new a8({id:l.properties.id,position:l.geometry.coordinates,width:l.properties.width,height:l.properties.height,value:l.properties.value,style:l.properties.style});this.map&&this.map instanceof Yn&&f&&this.map.addOverlay(f)}}),this.options.zoomToExtent&&s&&s.length>0){const l=this._getExtent(s),f=this.map.getSize(),h=this.map.getView();h.fit(l,{size:f,duration:800,maxZoom:h.getMaxZoom()||void 0})}}}}}_getExtent(e,n={}){const i=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];let s=e.reduce(function(g,b){return[Math.min(b[0],g[0]),Math.min(b[1],g[1]),Math.max(b[2],g[2]),Math.max(b[3],g[3])]},i),l=[(m=s)[2]-m[0],m[3]-m[1]],f=typeof n.adjust=="number"?n.adjust:.2,h=typeof n.minWidth=="number"?n.minWidth:.05,p=typeof n.minHeight=="number"?n.minHeight:.05;var m;if(l[0]<=h||l[1]<=p){let g=i0(s),b=gm(s);s=dm([g[0]-f,g[1]-f,b[0]+f,b[1]+f],f)}return s}removeFeature(e=void 0){const n=rl(this.map,this.layerName);return!(!n||!e)&&(n.getSource().removeFeature(e),!0)}getAttributeFields(e){if(!e)return;const n={},i=this.fieldPrefix.length;return e.getKeys().forEach(s=>{if(s.startsWith(this.fieldPrefix)){const l=s.substring(i);n[l]=e.get(s)}}),n}setAttributeField(e,n,i){if(e){const s=this.fieldPrefix+n;e.set(s,i)}}getAttributeField(e,n){if(e){const i=this.fieldPrefix+n;return e.get(i)}}}class mve{constructor(e,n={zoomToExtent:!0}){this.map=e,this.plotDraw=new ape(e,n),this.plotEdit=new spe(e),this.plotUtils=new hpe(e,n),this.map.on("click",this.mapClickHandler.bind(this))}mapClickHandler(e){const n=this.map.forEachFeatureAtPixel(e.pixel,function(i){return i});n&&n.get("isPlot")&&!this.plotDraw.isDrawing()?this.plotEdit.activate(n):this.plotEdit.deactivate()}activate(e){this.plotEdit.deactivate(),this.plotDraw.active(e)}getCurrentFeature(){return this.plotEdit.activePlot}getCurrentFeaGeoJSON(){const e=this.plotEdit.activePlot;if(e)return this.plotUtils.getFeaturePlotJson(e)}getAllFeatureGeoJSONs(){return this.plotUtils.getFeatures()}removeFeature(e){const n=e??this.plotEdit.activePlot;n&&(this.plotUtils.removeFeature(n),e||this.plotEdit.deactivate())}removeAllFeatures(){this.plotUtils.removeAllFeatures(),this.plotEdit.deactivate()}addFeatures(e){e&&this.plotUtils.addFeatures(e)}getAttributeFields(){if(this.plotEdit.activePlot)return this.plotUtils.getAttributeFields(this.plotEdit.activePlot)}setAttributeField(e,n){this.plotEdit.activePlot&&this.plotUtils.setAttributeField(this.plotEdit.activePlot,e,n)}getAttributeField(e){if(this.plotEdit.activePlot)return this.plotUtils.getAttributeField(this.plotEdit.activePlot,e)}}const yve=Zt({name:"QPopupProxy",props:{...AO,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(t,{slots:e,emit:n,attrs:i}){const{proxy:s}=tn(),{$q:l}=s,f=pt(!1),h=pt(null),p=xe(()=>parseInt(t.breakpoint,10)),{canShow:m}=kO({showing:f});function g(){return l.screen.width<p.value||l.screen.height<p.value?"dialog":"menu"}const b=pt(g()),S=xe(()=>b.value==="menu"?{maxHeight:"99vh"}:{});qt(()=>g(),M=>{f.value!==!0&&(b.value=M)});function w(M){f.value=!0,n("show",M)}function C(M){f.value=!1,b.value=g(),n("hide",M)}return Object.assign(s,{show(M){m(M)===!0&&h.value.show(M)},hide(M){h.value.hide(M)},toggle(M){h.value.toggle(M)}}),Wa(s,"currentComponent",()=>({type:b.value,ref:h.value})),()=>{const M={ref:h,...S.value,...i,onShow:w,onHide:C};let T;return b.value==="dialog"?T=vB:(T=IO,Object.assign(M,{target:t.target,contextMenu:t.contextMenu,noParentEvent:!0,separateClosePopup:!0})),Be(T,M,e.default)}}});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function DP(t){return Object.prototype.toString.call(t)==="[object Object]"}function dpe(t){var e,n;return DP(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(DP(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jd.apply(this,arguments)}function qz(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const ppe={silent:!1,logLevel:"warn"},gpe=["validator"],$z=Object.prototype,Uz=$z.toString,vpe=$z.hasOwnProperty,Gz=/^\s*function (\w+)/;function TP(t){var e;const n=(e=t?.type)!==null&&e!==void 0?e:t;if(n){const i=n.toString().match(Gz);return i?i[1]:""}return""}const kl=dpe;function mpe(){}let Er=mpe;const qf=(t,e)=>vpe.call(t,e),ype=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},$f=Array.isArray||function(t){return Uz.call(t)==="[object Array]"},Uf=t=>Uz.call(t)==="[object Function]",qv=(t,e)=>kl(t)&&qf(t,"_vueTypes_name")&&(!e||t._vueTypes_name===e),Hz=t=>kl(t)&&(qf(t,"type")||["_vueTypes_name","validator","default","required"].some(e=>qf(t,e)));function l8(t,e){return Object.defineProperty(t.bind(e),"__original",{value:t})}function Dl(t,e,n=!1){let i,s=!0,l="";i=kl(t)?t:{type:t};const f=qv(i)?i._vueTypes_name+" - ":"";if(Hz(i)&&i.type!==null){if(i.type===void 0||i.type===!0||!i.required&&e==null)return s;$f(i.type)?(s=i.type.some(h=>Dl(h,e,!0)===!0),l=i.type.map(h=>TP(h)).join(" or ")):(l=TP(i),s=l==="Array"?$f(e):l==="Object"?kl(e):l==="String"||l==="Number"||l==="Boolean"||l==="Function"?function(h){if(h==null)return"";const p=h.constructor.toString().match(Gz);return p?p[1].replace(/^Async/,""):""}(e)===l:e instanceof i.type)}if(!s){const h=`${f}value "${e}" should be of type "${l}"`;return n===!1?(Er(h),!1):h}if(qf(i,"validator")&&Uf(i.validator)){const h=Er,p=[];if(Er=m=>{p.push(m)},s=i.validator(e),Er=h,!s){const m=(p.length>1?"* ":"")+p.join(`
* `);return p.length=0,n===!1?(Er(m),s):m}}return s}function no(t,e){const n=Object.defineProperties(e,{_vueTypes_name:{value:t,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(s){return s===void 0?this.type===Boolean||Array.isArray(this.type)&&this.type.includes(Boolean)?void(this.default=void 0):(qf(this,"default")&&delete this.default,this):Uf(s)||Dl(this,s,!0)===!0?(this.default=$f(s)?()=>[...s]:kl(s)?()=>Object.assign({},s):s,this):(Er(`${this._vueTypes_name} - invalid default value: "${s}"`),this)}}}),{validator:i}=n;return Uf(i)&&(n.validator=l8(i,n)),n}function wa(t,e){const n=no(t,e);return Object.defineProperty(n,"validate",{value(i){return Uf(this.validator)&&Er(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:
${JSON.stringify(this)}`),this.validator=l8(i,this),this}})}function PP(t,e,n){const i=function(p){const m={};return Object.getOwnPropertyNames(p).forEach(g=>{m[g]=Object.getOwnPropertyDescriptor(p,g)}),Object.defineProperties({},m)}(e);if(i._vueTypes_name=t,!kl(n))return i;const{validator:s}=n,l=qz(n,gpe);if(Uf(s)){let{validator:p}=i;p&&(p=(h=(f=p).__original)!==null&&h!==void 0?h:f),i.validator=l8(p?function(m){return p.call(this,m)&&s.call(this,m)}:s,i)}var f,h;return Object.assign(i,l)}function wm(t){return t.replace(/^(?!\s*$)/gm,"  ")}const _pe=()=>wa("any",{}),bpe=()=>wa("function",{type:Function}),RP=()=>wa("boolean",{type:Boolean}),wpe=()=>wa("string",{type:String}),xpe=()=>wa("number",{type:Number}),Spe=()=>wa("array",{type:Array}),Cpe=()=>wa("object",{type:Object}),Epe=()=>no("integer",{type:Number,validator(t){const e=ype(t);return e===!1&&Er(`integer - "${t}" is not an integer`),e}}),Ape=()=>no("symbol",{validator(t){const e=typeof t=="symbol";return e===!1&&Er(`symbol - invalid value "${t}"`),e}}),kpe=()=>Object.defineProperty({type:null,validator(t){const e=t===null;return e===!1&&Er("nullable - value should be null"),e}},"_vueTypes_name",{value:"nullable"});function Fpe(t,e="custom validation failed"){if(typeof t!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return no(t.name||"<<anonymous function>>",{type:null,validator(n){const i=t(n);return i||Er(`${this._vueTypes_name} - ${e}`),i}})}function Ipe(t){if(!$f(t))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const e=`oneOf - value should be one of "${t.map(i=>typeof i=="symbol"?i.toString():i).join('", "')}".`,n={validator(i){const s=t.indexOf(i)!==-1;return s||Er(e),s}};if(t.indexOf(null)===-1){const i=t.reduce((s,l)=>{if(l!=null){const f=l.constructor;s.indexOf(f)===-1&&s.push(f)}return s},[]);i.length>0&&(n.type=i)}return no("oneOf",n)}function Mpe(t){if(!$f(t))throw new TypeError("[VueTypes error]: You must provide an array as argument");let e=!1,n=!1,i=[];for(let l=0;l<t.length;l+=1){const f=t[l];if(Hz(f)){if(Uf(f.validator)&&(e=!0),qv(f,"oneOf")&&f.type){i=i.concat(f.type);continue}if(qv(f,"nullable")){n=!0;continue}if(f.type===!0||!f.type){Er('oneOfType - invalid usage of "true" and "null" as types.');continue}i=i.concat(f.type)}else i.push(f)}i=i.filter((l,f)=>i.indexOf(l)===f);const s=n===!1&&i.length>0?i:null;return no("oneOfType",e?{type:s,validator(l){const f=[],h=t.some(p=>{const m=Dl(p,l,!0);return typeof m=="string"&&f.push(m),m===!0});return h||Er(`oneOfType - provided value does not match any of the ${f.length} passed-in validators:
${wm(f.join(`
`))}`),h}}:{type:s})}function Dpe(t){return no("arrayOf",{type:Array,validator(e){let n="";const i=e.every(s=>(n=Dl(t,s,!0),n===!0));return i||Er(`arrayOf - value validation error:
${wm(n)}`),i}})}function Tpe(t){return no("instanceOf",{type:t})}function Ppe(t){return no("objectOf",{type:Object,validator(e){let n="";const i=Object.keys(e).every(s=>(n=Dl(t,e[s],!0),n===!0));return i||Er(`objectOf - value validation error:
${wm(n)}`),i}})}function Rpe(t){const e=Object.keys(t),n=e.filter(s=>{var l;return!((l=t[s])===null||l===void 0||!l.required)}),i=no("shape",{type:Object,validator(s){if(!kl(s))return!1;const l=Object.keys(s);if(n.length>0&&n.some(f=>l.indexOf(f)===-1)){const f=n.filter(h=>l.indexOf(h)===-1);return Er(f.length===1?`shape - required property "${f[0]}" is not defined.`:`shape - required properties "${f.join('", "')}" are not defined.`),!1}return l.every(f=>{if(e.indexOf(f)===-1)return this._vueTypes_isLoose===!0||(Er(`shape - shape definition does not include a "${f}" property. Allowed keys: "${e.join('", "')}".`),!1);const h=Dl(t[f],s[f],!0);return typeof h=="string"&&Er(`shape - "${f}" property validation error:
 ${wm(h)}`),h===!0})}});return Object.defineProperty(i,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(i,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),i}const Bpe=["name","validate","getter"],Ope=(t=>((t=class{static get any(){return _pe()}static get func(){return bpe().def(this.defaults.func)}static get bool(){return this.defaults.bool===void 0?RP():RP().def(this.defaults.bool)}static get string(){return wpe().def(this.defaults.string)}static get number(){return xpe().def(this.defaults.number)}static get array(){return Spe().def(this.defaults.array)}static get object(){return Cpe().def(this.defaults.object)}static get integer(){return Epe().def(this.defaults.integer)}static get symbol(){return Ape()}static get nullable(){return kpe()}static extend(e){if(Er("VueTypes.extend is deprecated. Use the ES6+ method instead. See https://dwightjack.github.io/vue-types/advanced/extending-vue-types.html#extending-namespaced-validators-in-es6 for details."),$f(e))return e.forEach(p=>this.extend(p)),this;const{name:n,validate:i=!1,getter:s=!1}=e,l=qz(e,Bpe);if(qf(this,n))throw new TypeError(`[VueTypes error]: Type "${n}" already defined`);const{type:f}=l;if(qv(f))return delete l.type,Object.defineProperty(this,n,s?{get:()=>PP(n,f,l)}:{value(...p){const m=PP(n,f,l);return m.validator&&(m.validator=m.validator.bind(m,...p)),m}});let h;return h=s?{get(){const p=Object.assign({},l);return i?wa(n,p):no(n,p)},enumerable:!0}:{value(...p){const m=Object.assign({},l);let g;return g=i?wa(n,m):no(n,m),m.validator&&(g.validator=m.validator.bind(g,...p)),g},enumerable:!0},Object.defineProperty(this,n,h)}}).defaults={},t.sensibleDefaults=void 0,t.config=ppe,t.custom=Fpe,t.oneOf=Ipe,t.instanceOf=Tpe,t.oneOfType=Mpe,t.arrayOf=Dpe,t.objectOf=Ppe,t.shape=Rpe,t.utils={validate:(e,n)=>Dl(n,e,!0)===!0,toType:(e,n,i=!1)=>i?wa(e,n):no(e,n)},t))();function Lpe(t={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var e;return(e=class extends Ope{static get sensibleDefaults(){return jd({},this.defaults)}static set sensibleDefaults(n){this.defaults=n!==!1?jd({},n!==!0?n:t):{}}}).defaults=jd({},t),e}let _ve=class extends Lpe(){};var zpe=typeof global=="object"&&global&&global.Object===Object&&global,Npe=typeof self=="object"&&self&&self.Object===Object&&self,Vz=zpe||Npe||Function("return this")(),$v=Vz.Symbol,Wz=Object.prototype,jpe=Wz.hasOwnProperty,qpe=Wz.toString,vd=$v?$v.toStringTag:void 0;function $pe(t){var e=jpe.call(t,vd),n=t[vd];try{t[vd]=void 0;var i=!0}catch{}var s=qpe.call(t);return i&&(e?t[vd]=n:delete t[vd]),s}var Upe=Object.prototype,Gpe=Upe.toString;function Hpe(t){return Gpe.call(t)}var Vpe="[object Null]",Wpe="[object Undefined]",BP=$v?$v.toStringTag:void 0;function Ype(t){return t==null?t===void 0?Wpe:Vpe:BP&&BP in Object(t)?$pe(t):Hpe(t)}function Xpe(t){return t!=null&&typeof t=="object"}var Kpe="[object Symbol]";function Zpe(t){return typeof t=="symbol"||Xpe(t)&&Ype(t)==Kpe}var Jpe=/\s/;function Qpe(t){for(var e=t.length;e--&&Jpe.test(t.charAt(e)););return e}var ege=/^\s+/;function tge(t){return t&&t.slice(0,Qpe(t)+1).replace(ege,"")}function Uv(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var OP=NaN,nge=/^[-+]0x[0-9a-f]+$/i,rge=/^0b[01]+$/i,ige=/^0o[0-7]+$/i,oge=parseInt;function LP(t){if(typeof t=="number")return t;if(Zpe(t))return OP;if(Uv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Uv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=tge(t);var n=rge.test(t);return n||ige.test(t)?oge(t.slice(2),n?2:8):nge.test(t)?OP:+t}var yx=function(){return Vz.Date.now()},age="Expected a function",sge=Math.max,uge=Math.min;function lge(t,e,n){var i,s,l,f,h,p,m=0,g=!1,b=!1,S=!0;if(typeof t!="function")throw new TypeError(age);e=LP(e)||0,Uv(n)&&(g=!!n.leading,b="maxWait"in n,l=b?sge(LP(n.maxWait)||0,e):l,S="trailing"in n?!!n.trailing:S);function w(ce){var te=i,ee=s;return i=s=void 0,m=ce,f=t.apply(ee,te),f}function C(ce){return m=ce,h=setTimeout(D,e),g?w(ce):f}function M(ce){var te=ce-p,ee=ce-m,he=e-te;return b?uge(he,l-ee):he}function T(ce){var te=ce-p,ee=ce-m;return p===void 0||te>=e||te<0||b&&ee>=l}function D(){var ce=yx();if(T(ce))return R(ce);h=setTimeout(D,M(ce))}function R(ce){return h=void 0,S&&i?w(ce):(i=s=void 0,f)}function q(){h!==void 0&&clearTimeout(h),m=0,i=p=s=h=void 0}function Y(){return h===void 0?f:R(yx())}function K(){var ce=yx(),te=T(ce);if(i=arguments,s=this,p=ce,te){if(h===void 0)return C(p);if(b)return clearTimeout(h),h=setTimeout(D,e),w(p)}return h===void 0&&(h=setTimeout(D,e)),f}return K.cancel=q,K.flush=Y,K}var cge="Expected a function";function wve(t,e,n){var i=!0,s=!0;if(typeof t!="function")throw new TypeError(cge);return Uv(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),lge(t,e,{leading:i,maxWait:e,trailing:s})}const fge=["top","right","bottom","left"],zP=["start","end"],NP=fge.reduce((t,e)=>t.concat(e,e+"-"+zP[0],e+"-"+zP[1]),[]),d0=Math.min,el=Math.max,hge={left:"right",right:"left",bottom:"top",top:"bottom"},dge={start:"end",end:"start"};function aS(t,e,n){return el(t,d0(e,n))}function Tl(t,e){return typeof t=="function"?t(e):t}function Ea(t){return t.split("-")[0]}function qo(t){return t.split("-")[1]}function Yz(t){return t==="x"?"y":"x"}function c8(t){return t==="y"?"height":"width"}function Fl(t){return["top","bottom"].includes(Ea(t))?"y":"x"}function f8(t){return Yz(Fl(t))}function Xz(t,e,n){n===void 0&&(n=!1);const i=qo(t),s=f8(t),l=c8(s);let f=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(f=Hv(f)),[f,Hv(f)]}function pge(t){const e=Hv(t);return[Gv(t),e,Gv(e)]}function Gv(t){return t.replace(/start|end/g,e=>dge[e])}function gge(t,e,n){const i=["left","right"],s=["right","left"],l=["top","bottom"],f=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:i:e?i:s;case"left":case"right":return e?l:f;default:return[]}}function vge(t,e,n,i){const s=qo(t);let l=gge(Ea(t),n==="start",i);return s&&(l=l.map(f=>f+"-"+s),e&&(l=l.concat(l.map(Gv)))),l}function Hv(t){return t.replace(/left|right|bottom|top/g,e=>hge[e])}function mge(t){return{top:0,right:0,bottom:0,left:0,...t}}function Kz(t){return typeof t!="number"?mge(t):{top:t,right:t,bottom:t,left:t}}function qd(t){const{x:e,y:n,width:i,height:s}=t;return{width:i,height:s,top:n,left:e,right:e+i,bottom:n+s,x:e,y:n}}function jP(t,e,n){let{reference:i,floating:s}=t;const l=Fl(e),f=f8(e),h=c8(f),p=Ea(e),m=l==="y",g=i.x+i.width/2-s.width/2,b=i.y+i.height/2-s.height/2,S=i[h]/2-s[h]/2;let w;switch(p){case"top":w={x:g,y:i.y-s.height};break;case"bottom":w={x:g,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:b};break;case"left":w={x:i.x-s.width,y:b};break;default:w={x:i.x,y:i.y}}switch(qo(e)){case"start":w[f]-=S*(n&&m?-1:1);break;case"end":w[f]+=S*(n&&m?-1:1);break}return w}const yge=async(t,e,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:l=[],platform:f}=n,h=l.filter(Boolean),p=await(f.isRTL==null?void 0:f.isRTL(e));let m=await f.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y:b}=jP(m,i,p),S=i,w={},C=0;for(let M=0;M<h.length;M++){const{name:T,fn:D}=h[M],{x:R,y:q,data:Y,reset:K}=await D({x:g,y:b,initialPlacement:i,placement:S,strategy:s,middlewareData:w,rects:m,platform:f,elements:{reference:t,floating:e}});g=R??g,b=q??b,w={...w,[T]:{...w[T],...Y}},K&&C<=50&&(C++,typeof K=="object"&&(K.placement&&(S=K.placement),K.rects&&(m=K.rects===!0?await f.getElementRects({reference:t,floating:e,strategy:s}):K.rects),{x:g,y:b}=jP(m,S,p)),M=-1)}return{x:g,y:b,placement:S,strategy:s,middlewareData:w}};async function xm(t,e){var n;e===void 0&&(e={});const{x:i,y:s,platform:l,rects:f,elements:h,strategy:p}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:b="floating",altBoundary:S=!1,padding:w=0}=Tl(e,t),C=Kz(w),T=h[S?b==="floating"?"reference":"floating":b],D=qd(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(T)))==null||n?T:T.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:m,rootBoundary:g,strategy:p})),R=b==="floating"?{x:i,y:s,width:f.floating.width,height:f.floating.height}:f.reference,q=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),Y=await(l.isElement==null?void 0:l.isElement(q))?await(l.getScale==null?void 0:l.getScale(q))||{x:1,y:1}:{x:1,y:1},K=qd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:R,offsetParent:q,strategy:p}):R);return{top:(D.top-K.top+C.top)/Y.y,bottom:(K.bottom-D.bottom+C.bottom)/Y.y,left:(D.left-K.left+C.left)/Y.x,right:(K.right-D.right+C.right)/Y.x}}const _ge=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:s,rects:l,platform:f,elements:h,middlewareData:p}=e,{element:m,padding:g=0}=Tl(t,e)||{};if(m==null)return{};const b=Kz(g),S={x:n,y:i},w=f8(s),C=c8(w),M=await f.getDimensions(m),T=w==="y",D=T?"top":"left",R=T?"bottom":"right",q=T?"clientHeight":"clientWidth",Y=l.reference[C]+l.reference[w]-S[w]-l.floating[C],K=S[w]-l.reference[w],ce=await(f.getOffsetParent==null?void 0:f.getOffsetParent(m));let te=ce?ce[q]:0;(!te||!await(f.isElement==null?void 0:f.isElement(ce)))&&(te=h.floating[q]||l.floating[C]);const ee=Y/2-K/2,he=te/2-M[C]/2-1,be=d0(b[D],he),Fe=d0(b[R],he),oe=be,Se=te-M[C]-Fe,fe=te/2-M[C]/2+ee,Te=aS(oe,fe,Se),Le=!p.arrow&&qo(s)!=null&&fe!==Te&&l.reference[C]/2-(fe<oe?be:Fe)-M[C]/2<0,Pe=Le?fe<oe?fe-oe:fe-Se:0;return{[w]:S[w]+Pe,data:{[w]:Te,centerOffset:fe-Te-Pe,...Le&&{alignmentOffset:Pe}},reset:Le}}});function bge(t,e,n){return(t?[...n.filter(s=>qo(s)===t),...n.filter(s=>qo(s)!==t)]:n.filter(s=>Ea(s)===s)).filter(s=>t?qo(s)===t||(e?Gv(s)!==s:!1):!0)}const wge=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,i,s;const{rects:l,middlewareData:f,placement:h,platform:p,elements:m}=e,{crossAxis:g=!1,alignment:b,allowedPlacements:S=NP,autoAlignment:w=!0,...C}=Tl(t,e),M=b!==void 0||S===NP?bge(b||null,w,S):S,T=await xm(e,C),D=((n=f.autoPlacement)==null?void 0:n.index)||0,R=M[D];if(R==null)return{};const q=Xz(R,l,await(p.isRTL==null?void 0:p.isRTL(m.floating)));if(h!==R)return{reset:{placement:M[0]}};const Y=[T[Ea(R)],T[q[0]],T[q[1]]],K=[...((i=f.autoPlacement)==null?void 0:i.overflows)||[],{placement:R,overflows:Y}],ce=M[D+1];if(ce)return{data:{index:D+1,overflows:K},reset:{placement:ce}};const te=K.map(be=>{const Fe=qo(be.placement);return[be.placement,Fe&&g?be.overflows.slice(0,2).reduce((oe,Se)=>oe+Se,0):be.overflows[0],be.overflows]}).sort((be,Fe)=>be[1]-Fe[1]),he=((s=te.filter(be=>be[2].slice(0,qo(be[0])?2:3).every(Fe=>Fe<=0))[0])==null?void 0:s[0])||te[0][0];return he!==h?{data:{index:D+1,overflows:K},reset:{placement:he}}:{}}}},xge=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:s,middlewareData:l,rects:f,initialPlacement:h,platform:p,elements:m}=e,{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:S,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:M=!0,...T}=Tl(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const D=Ea(s),R=Fl(h),q=Ea(h)===h,Y=await(p.isRTL==null?void 0:p.isRTL(m.floating)),K=S||(q||!M?[Hv(h)]:pge(h)),ce=C!=="none";!S&&ce&&K.push(...vge(h,M,C,Y));const te=[h,...K],ee=await xm(e,T),he=[];let be=((i=l.flip)==null?void 0:i.overflows)||[];if(g&&he.push(ee[D]),b){const fe=Xz(s,f,Y);he.push(ee[fe[0]],ee[fe[1]])}if(be=[...be,{placement:s,overflows:he}],!he.every(fe=>fe<=0)){var Fe,oe;const fe=(((Fe=l.flip)==null?void 0:Fe.index)||0)+1,Te=te[fe];if(Te)return{data:{index:fe,overflows:be},reset:{placement:Te}};let Le=(oe=be.filter(Pe=>Pe.overflows[0]<=0).sort((Pe,ze)=>Pe.overflows[1]-ze.overflows[1])[0])==null?void 0:oe.placement;if(!Le)switch(w){case"bestFit":{var Se;const Pe=(Se=be.filter(ze=>{if(ce){const Je=Fl(ze.placement);return Je===R||Je==="y"}return!0}).map(ze=>[ze.placement,ze.overflows.filter(Je=>Je>0).reduce((Je,tt)=>Je+tt,0)]).sort((ze,Je)=>ze[1]-Je[1])[0])==null?void 0:Se[0];Pe&&(Le=Pe);break}case"initialPlacement":Le=h;break}if(s!==Le)return{reset:{placement:Le}}}return{}}}};async function Sge(t,e){const{placement:n,platform:i,elements:s}=t,l=await(i.isRTL==null?void 0:i.isRTL(s.floating)),f=Ea(n),h=qo(n),p=Fl(n)==="y",m=["left","top"].includes(f)?-1:1,g=l&&p?-1:1,b=Tl(e,t);let{mainAxis:S,crossAxis:w,alignmentAxis:C}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return h&&typeof C=="number"&&(w=h==="end"?C*-1:C),p?{x:w*g,y:S*m}:{x:S*m,y:w*g}}const Cge=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:s,y:l,placement:f,middlewareData:h}=e,p=await Sge(e,t);return f===((n=h.offset)==null?void 0:n.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:s+p.x,y:l+p.y,data:{...p,placement:f}}}}},Ege=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:s}=e,{mainAxis:l=!0,crossAxis:f=!1,limiter:h={fn:T=>{let{x:D,y:R}=T;return{x:D,y:R}}},...p}=Tl(t,e),m={x:n,y:i},g=await xm(e,p),b=Fl(Ea(s)),S=Yz(b);let w=m[S],C=m[b];if(l){const T=S==="y"?"top":"left",D=S==="y"?"bottom":"right",R=w+g[T],q=w-g[D];w=aS(R,w,q)}if(f){const T=b==="y"?"top":"left",D=b==="y"?"bottom":"right",R=C+g[T],q=C-g[D];C=aS(R,C,q)}const M=h.fn({...e,[S]:w,[b]:C});return{...M,data:{x:M.x-n,y:M.y-i,enabled:{[S]:l,[b]:f}}}}}},Age=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:s,rects:l,platform:f,elements:h}=e,{apply:p=()=>{},...m}=Tl(t,e),g=await xm(e,m),b=Ea(s),S=qo(s),w=Fl(s)==="y",{width:C,height:M}=l.floating;let T,D;b==="top"||b==="bottom"?(T=b,D=S===(await(f.isRTL==null?void 0:f.isRTL(h.floating))?"start":"end")?"left":"right"):(D=b,T=S==="end"?"top":"bottom");const R=M-g.top-g.bottom,q=C-g.left-g.right,Y=d0(M-g[T],R),K=d0(C-g[D],q),ce=!e.middlewareData.shift;let te=Y,ee=K;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(ee=q),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(te=R),ce&&!S){const be=el(g.left,0),Fe=el(g.right,0),oe=el(g.top,0),Se=el(g.bottom,0);w?ee=C-2*(be!==0||Fe!==0?be+Fe:el(g.left,g.right)):te=M-2*(oe!==0||Se!==0?oe+Se:el(g.top,g.bottom))}await p({...e,availableWidth:ee,availableHeight:te});const he=await f.getDimensions(h.floating);return C!==he.width||M!==he.height?{reset:{rects:!0}}:{}}}};function _o(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function xa(t){return _o(t).getComputedStyle(t)}const qP=Math.min,$d=Math.max,Vv=Math.round;function Zz(t){const e=xa(t);let n=parseFloat(e.width),i=parseFloat(e.height);const s=t.offsetWidth,l=t.offsetHeight,f=Vv(n)!==s||Vv(i)!==l;return f&&(n=s,i=l),{width:n,height:i,fallback:f}}function fu(t){return Qz(t)?(t.nodeName||"").toLowerCase():""}let N1;function Jz(){if(N1)return N1;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(N1=t.brands.map(e=>e.brand+"/"+e.version).join(" "),N1):navigator.userAgent}function Sa(t){return t instanceof _o(t).HTMLElement}function ru(t){return t instanceof _o(t).Element}function Qz(t){return t instanceof _o(t).Node}function $P(t){return typeof ShadowRoot>"u"?!1:t instanceof _o(t).ShadowRoot||t instanceof ShadowRoot}function Sm(t){const{overflow:e,overflowX:n,overflowY:i,display:s}=xa(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(s)}function kge(t){return["table","td","th"].includes(fu(t))}function sS(t){const e=/firefox/i.test(Jz()),n=xa(t),i=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!i&&i!=="none"||e&&n.willChange==="filter"||e&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(s=>n.willChange.includes(s))||["paint","layout","strict","content"].some(s=>{const l=n.contain;return l!=null&&l.includes(s)})}function eN(){return!/^((?!chrome|android).)*safari/i.test(Jz())}function h8(t){return["html","body","#document"].includes(fu(t))}function tN(t){return ru(t)?t:t.contextElement}const nN={x:1,y:1};function Ff(t){const e=tN(t);if(!Sa(e))return nN;const n=e.getBoundingClientRect(),{width:i,height:s,fallback:l}=Zz(e);let f=(l?Vv(n.width):n.width)/i,h=(l?Vv(n.height):n.height)/s;return f&&Number.isFinite(f)||(f=1),h&&Number.isFinite(h)||(h=1),{x:f,y:h}}function p0(t,e,n,i){var s,l;e===void 0&&(e=!1),n===void 0&&(n=!1);const f=t.getBoundingClientRect(),h=tN(t);let p=nN;e&&(i?ru(i)&&(p=Ff(i)):p=Ff(t));const m=h?_o(h):window,g=!eN()&&n;let b=(f.left+(g&&((s=m.visualViewport)==null?void 0:s.offsetLeft)||0))/p.x,S=(f.top+(g&&((l=m.visualViewport)==null?void 0:l.offsetTop)||0))/p.y,w=f.width/p.x,C=f.height/p.y;if(h){const M=_o(h),T=i&&ru(i)?_o(i):i;let D=M.frameElement;for(;D&&i&&T!==M;){const R=Ff(D),q=D.getBoundingClientRect(),Y=getComputedStyle(D);q.x+=(D.clientLeft+parseFloat(Y.paddingLeft))*R.x,q.y+=(D.clientTop+parseFloat(Y.paddingTop))*R.y,b*=R.x,S*=R.y,w*=R.x,C*=R.y,b+=q.x,S+=q.y,D=_o(D).frameElement}}return{width:w,height:C,top:S,right:b+w,bottom:S+C,left:b,x:b,y:S}}function iu(t){return((Qz(t)?t.ownerDocument:t.document)||window.document).documentElement}function Cm(t){return ru(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function rN(t){return p0(iu(t)).left+Cm(t).scrollLeft}function g0(t){if(fu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$P(t)&&t.host||iu(t);return $P(e)?e.host:e}function iN(t){const e=g0(t);return h8(e)?e.ownerDocument.body:Sa(e)&&Sm(e)?e:iN(e)}function Wv(t,e){var n;e===void 0&&(e=[]);const i=iN(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),l=_o(i);return s?e.concat(l,l.visualViewport||[],Sm(i)?i:[]):e.concat(i,Wv(i))}function UP(t,e,n){return e==="viewport"?qd(function(i,s){const l=_o(i),f=iu(i),h=l.visualViewport;let p=f.clientWidth,m=f.clientHeight,g=0,b=0;if(h){p=h.width,m=h.height;const S=eN();(S||!S&&s==="fixed")&&(g=h.offsetLeft,b=h.offsetTop)}return{width:p,height:m,x:g,y:b}}(t,n)):ru(e)?qd(function(i,s){const l=p0(i,!0,s==="fixed"),f=l.top+i.clientTop,h=l.left+i.clientLeft,p=Sa(i)?Ff(i):{x:1,y:1};return{width:i.clientWidth*p.x,height:i.clientHeight*p.y,x:h*p.x,y:f*p.y}}(e,n)):qd(function(i){const s=iu(i),l=Cm(i),f=i.ownerDocument.body,h=$d(s.scrollWidth,s.clientWidth,f.scrollWidth,f.clientWidth),p=$d(s.scrollHeight,s.clientHeight,f.scrollHeight,f.clientHeight);let m=-l.scrollLeft+rN(i);const g=-l.scrollTop;return xa(f).direction==="rtl"&&(m+=$d(s.clientWidth,f.clientWidth)-h),{width:h,height:p,x:m,y:g}}(iu(t)))}function GP(t){return Sa(t)&&xa(t).position!=="fixed"?t.offsetParent:null}function HP(t){const e=_o(t);let n=GP(t);for(;n&&kge(n)&&xa(n).position==="static";)n=GP(n);return n&&(fu(n)==="html"||fu(n)==="body"&&xa(n).position==="static"&&!sS(n))?e:n||function(i){let s=g0(i);for(;Sa(s)&&!h8(s);){if(sS(s))return s;s=g0(s)}return null}(t)||e}function Fge(t,e,n){const i=Sa(e),s=iu(e),l=p0(t,!0,n==="fixed",e);let f={scrollLeft:0,scrollTop:0};const h={x:0,y:0};if(i||!i&&n!=="fixed")if((fu(e)!=="body"||Sm(s))&&(f=Cm(e)),Sa(e)){const p=p0(e,!0);h.x=p.x+e.clientLeft,h.y=p.y+e.clientTop}else s&&(h.x=rN(s));return{x:l.left+f.scrollLeft-h.x,y:l.top+f.scrollTop-h.y,width:l.width,height:l.height}}const Ige={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:i,strategy:s}=t;const l=n==="clippingAncestors"?function(m,g){const b=g.get(m);if(b)return b;let S=Wv(m).filter(T=>ru(T)&&fu(T)!=="body"),w=null;const C=xa(m).position==="fixed";let M=C?g0(m):m;for(;ru(M)&&!h8(M);){const T=xa(M),D=sS(M);(C?D||w:D||T.position!=="static"||!w||!["absolute","fixed"].includes(w.position))?w=T:S=S.filter(R=>R!==M),M=g0(M)}return g.set(m,S),S}(e,this._c):[].concat(n),f=[...l,i],h=f[0],p=f.reduce((m,g)=>{const b=UP(e,g,s);return m.top=$d(b.top,m.top),m.right=qP(b.right,m.right),m.bottom=qP(b.bottom,m.bottom),m.left=$d(b.left,m.left),m},UP(e,h,s));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:i}=t;const s=Sa(n),l=iu(n);if(n===l)return e;let f={scrollLeft:0,scrollTop:0},h={x:1,y:1};const p={x:0,y:0};if((s||!s&&i!=="fixed")&&((fu(n)!=="body"||Sm(l))&&(f=Cm(n)),Sa(n))){const m=p0(n);h=Ff(n),p.x=m.x+n.clientLeft,p.y=m.y+n.clientTop}return{width:e.width*h.x,height:e.height*h.y,x:e.x*h.x-f.scrollLeft*h.x+p.x,y:e.y*h.y-f.scrollTop*h.y+p.y}},isElement:ru,getDimensions:function(t){return Sa(t)?Zz(t):t.getBoundingClientRect()},getOffsetParent:HP,getDocumentElement:iu,getScale:Ff,async getElementRects(t){let{reference:e,floating:n,strategy:i}=t;const s=this.getOffsetParent||HP,l=this.getDimensions;return{reference:Fge(e,await s(n),i),floating:{x:0,y:0,...await l(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>xa(t).direction==="rtl"},Mge=(t,e,n)=>{const i=new Map,s={platform:Ige,...n},l={...s.platform,_c:i};return yge(t,e,{...s,platform:l})},_l={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:150,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,autoHideOnMousedown:!1,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:t=>[...t,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover"],delay:{show:0,hide:400}}}};function v0(t,e){let n=_l.themes[t]||{},i;do i=n[e],typeof i>"u"?n.$extend?n=_l.themes[n.$extend]||{}:(n=null,i=_l[e]):n=null;while(n);return i}function Dge(t){const e=[t];let n=_l.themes[t]||{};do n.$extend&&!n.$resetCss?(e.push(n.$extend),n=_l.themes[n.$extend]||{}):n=null;while(n);return e.map(i=>`v-popper--theme-${i}`)}function VP(t){const e=[t];let n=_l.themes[t]||{};do n.$extend?(e.push(n.$extend),n=_l.themes[n.$extend]||{}):n=null;while(n);return e}let Gf=!1;if(typeof window<"u"){Gf=!1;try{const t=Object.defineProperty({},"passive",{get(){Gf=!0}});window.addEventListener("test",null,t)}catch{}}let oN=!1;typeof window<"u"&&typeof navigator<"u"&&(oN=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const aN=["auto","top","bottom","left","right"].reduce((t,e)=>t.concat([e,`${e}-start`,`${e}-end`]),[]),WP={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart",pointer:"pointerdown"},YP={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend",pointer:"pointerup"};function XP(t,e){const n=t.indexOf(e);n!==-1&&t.splice(n,1)}function _x(){return new Promise(t=>requestAnimationFrame(()=>{requestAnimationFrame(t)}))}const Lo=[];let Yu=null;const KP={};function ZP(t){let e=KP[t];return e||(e=KP[t]=[]),e}let uS=function(){};typeof window<"u"&&(uS=window.Element);function mn(t){return function(e){return v0(e.theme,t)}}const bx="__floating-vue__popper",sN=()=>_0({name:"VPopper",provide(){return{[bx]:{parentPopper:this}}},inject:{[bx]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:mn("disabled")},positioningDisabled:{type:Boolean,default:mn("positioningDisabled")},placement:{type:String,default:mn("placement"),validator:t=>aN.includes(t)},delay:{type:[String,Number,Object],default:mn("delay")},distance:{type:[Number,String],default:mn("distance")},skidding:{type:[Number,String],default:mn("skidding")},triggers:{type:Array,default:mn("triggers")},showTriggers:{type:[Array,Function],default:mn("showTriggers")},hideTriggers:{type:[Array,Function],default:mn("hideTriggers")},popperTriggers:{type:Array,default:mn("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:mn("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:mn("popperHideTriggers")},container:{type:[String,Object,uS,Boolean],default:mn("container")},boundary:{type:[String,uS],default:mn("boundary")},strategy:{type:String,validator:t=>["absolute","fixed"].includes(t),default:mn("strategy")},autoHide:{type:[Boolean,Function],default:mn("autoHide")},handleResize:{type:Boolean,default:mn("handleResize")},instantMove:{type:Boolean,default:mn("instantMove")},eagerMount:{type:Boolean,default:mn("eagerMount")},popperClass:{type:[String,Array,Object],default:mn("popperClass")},computeTransformOrigin:{type:Boolean,default:mn("computeTransformOrigin")},autoMinSize:{type:Boolean,default:mn("autoMinSize")},autoSize:{type:[Boolean,String],default:mn("autoSize")},autoMaxSize:{type:Boolean,default:mn("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:mn("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:mn("preventOverflow")},overflowPadding:{type:[Number,String],default:mn("overflowPadding")},arrowPadding:{type:[Number,String],default:mn("arrowPadding")},arrowOverflow:{type:Boolean,default:mn("arrowOverflow")},flip:{type:Boolean,default:mn("flip")},shift:{type:Boolean,default:mn("shift")},shiftCrossAxis:{type:Boolean,default:mn("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:mn("noAutoFocus")},disposeTimeout:{type:Number,default:mn("disposeTimeout")}},emits:{show:()=>!0,hide:()=>!0,"update:shown":t=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},randomId:`popper_${[Math.random(),Date.now()].map(t=>t.toString(36).substring(2,10)).join("_")}`,shownChildren:new Set,lastAutoHide:!0,pendingHide:!1,containsGlobalTarget:!1,isDisposed:!0,mouseDownContains:!1}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:{...this.classes,popperClass:this.popperClass},result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var t;return(t=this[bx])==null?void 0:t.parentPopper},hasPopperShowTriggerHover(){var t,e;return((t=this.popperTriggers)==null?void 0:t.includes("hover"))||((e=this.popperShowTriggers)==null?void 0:e.includes("hover"))}},watch:{shown:"$_autoShowHide",disabled(t){t?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())},triggers:{handler:"$_refreshListeners",deep:!0},positioningDisabled:"$_refreshListeners",...["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((t,e)=>(t[e]="$_computePosition",t),{})},created(){this.autoMinSize,this.autoMaxSize},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:t=null,skipDelay:e=!1,force:n=!1}={}){var i,s;(i=this.parentPopper)!=null&&i.lockedChild&&this.parentPopper.lockedChild!==this||(this.pendingHide=!1,(n||!this.disabled)&&(((s=this.parentPopper)==null?void 0:s.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(t,e),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:t=null,skipDelay:e=!1}={}){var n;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:e}),this.parentPopper.lockedChild=null)},1e3));return}((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.pendingHide=!1,this.$_scheduleHide(t,e),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var t;this.isDisposed&&(this.isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=((t=this.referenceNode)==null?void 0:t.call(this))??this.$el,this.$_targetNodes=this.targetNodes().filter(e=>e.nodeType===e.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.isDisposed||(this.isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){if(this.isDisposed||this.positioningDisabled)return;const t={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&t.middleware.push(Cge({mainAxis:this.distance,crossAxis:this.skidding}));const e=this.placement.startsWith("auto");if(e?t.middleware.push(wge({alignment:this.placement.split("-")[1]??""})):t.placement=this.placement,this.preventOverflow&&(this.shift&&t.middleware.push(Ege({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!e&&this.flip&&t.middleware.push(xge({padding:this.overflowPadding,boundary:this.boundary}))),t.middleware.push(_ge({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&t.middleware.push({name:"arrowOverflow",fn:({placement:i,rects:s,middlewareData:l})=>{let f;const{centerOffset:h}=l.arrow;return i.startsWith("top")||i.startsWith("bottom")?f=Math.abs(h)>s.reference.width/2:f=Math.abs(h)>s.reference.height/2,{data:{overflow:f}}}}),this.autoMinSize||this.autoSize){const i=this.autoSize?this.autoSize:this.autoMinSize?"min":null;t.middleware.push({name:"autoSize",fn:({rects:s,placement:l,middlewareData:f})=>{var h;if((h=f.autoSize)!=null&&h.skip)return{};let p,m;return l.startsWith("top")||l.startsWith("bottom")?p=s.reference.width:m=s.reference.height,this.$_innerNode.style[i==="min"?"minWidth":i==="max"?"maxWidth":"width"]=p!=null?`${p}px`:null,this.$_innerNode.style[i==="min"?"minHeight":i==="max"?"maxHeight":"height"]=m!=null?`${m}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,t.middleware.push(Age({boundary:this.boundary,padding:this.overflowPadding,apply:({availableWidth:i,availableHeight:s})=>{this.$_innerNode.style.maxWidth=i!=null?`${i}px`:null,this.$_innerNode.style.maxHeight=s!=null?`${s}px`:null}})));const n=await Mge(this.$_referenceNode,this.$_popperNode,t);Object.assign(this.result,{x:n.x,y:n.y,placement:n.placement,strategy:n.strategy,arrow:{...n.middlewareData.arrow,...n.middlewareData.arrowOverflow}})},$_scheduleShow(t,e=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),Yu&&this.instantMove&&Yu.instantMove&&Yu!==this.parentPopper){Yu.$_applyHide(!0),this.$_applyShow(!0);return}e?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(t,e=!1){if(this.shownChildren.size>0){this.pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(Yu=this),e?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(t){const e=this.delay;return parseInt(e&&e[t]||e||0)},async $_applyShow(t=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=t,!this.isShown&&(this.$_ensureTeleport(),await _x(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...Wv(this.$_referenceNode),...Wv(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const e=this.$_referenceNode.getBoundingClientRect(),n=this.$_popperNode.querySelector(".v-popper__wrapper"),i=n.parentNode.getBoundingClientRect(),s=e.x+e.width/2-(i.left+n.offsetLeft),l=e.y+e.height/2-(i.top+n.offsetTop);this.result.transformOrigin=`${s}px ${l}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const t=this.showGroup;if(t){let e;for(let n=0;n<Lo.length;n++)e=Lo[n],e.showGroup!==t&&(e.hide(),e.$emit("close-group"))}Lo.push(this),document.body.classList.add("v-popper--some-open");for(const e of VP(this.theme))ZP(e).push(this),document.body.classList.add(`v-popper--some-open--${e}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await _x(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(t=!1){if(this.shownChildren.size>0){this.pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=t,XP(Lo,this),Lo.length===0&&document.body.classList.remove("v-popper--some-open");for(const n of VP(this.theme)){const i=ZP(n);XP(i,this),i.length===0&&document.body.classList.remove(`v-popper--some-open--${n}`)}Yu===this&&(Yu=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const e=this.disposeTimeout;e!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},e)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await _x(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.isDisposed)return;let t=this.container;if(typeof t=="string"?t=window.document.querySelector(t):t===!1&&(t=this.$_targetNodes[0].parentNode),!t)throw new Error("No container for popover: "+this.container);t.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const t=n=>{this.isShown&&!this.$_hideInProgress||(n.usedByTooltip=!0,!this.$_preventShow&&this.show({event:n}))};this.$_registerTriggerListeners(this.$_targetNodes,WP,this.triggers,this.showTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],WP,this.popperTriggers,this.popperShowTriggers,t);const e=n=>{n.usedByTooltip||this.hide({event:n})};this.$_registerTriggerListeners(this.$_targetNodes,YP,this.triggers,this.hideTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],YP,this.popperTriggers,this.popperHideTriggers,e)},$_registerEventListeners(t,e,n){this.$_events.push({targetNodes:t,eventType:e,handler:n}),t.forEach(i=>i.addEventListener(e,n,Gf?{passive:!0}:void 0))},$_registerTriggerListeners(t,e,n,i,s){let l=n;i!=null&&(l=typeof i=="function"?i(l):i),l.forEach(f=>{const h=e[f];h&&this.$_registerEventListeners(t,h,s)})},$_removeEventListeners(t){const e=[];this.$_events.forEach(n=>{const{targetNodes:i,eventType:s,handler:l}=n;!t||t===s?i.forEach(f=>f.removeEventListener(s,l)):e.push(n)}),this.$_events=e},$_refreshListeners(){this.isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(t,e=!1){this.$_showFrameLocked||(this.hide({event:t}),t.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),e&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(t,e){for(const n of this.$_targetNodes){const i=n.getAttribute(t);i&&(n.removeAttribute(t),n.setAttribute(e,i))}},$_applyAttrsToTarget(t){for(const e of this.$_targetNodes)for(const n in t){const i=t[n];i==null?e.removeAttribute(n):e.setAttribute(n,i)}},$_updateParentShownChildren(t){let e=this.parentPopper;for(;e;)t?e.shownChildren.add(this.randomId):(e.shownChildren.delete(this.randomId),e.pendingHide&&e.hide()),e=e.parentPopper},$_isAimingPopper(){const t=this.$_referenceNode.getBoundingClientRect();if(Ud>=t.left&&Ud<=t.right&&Gd>=t.top&&Gd<=t.bottom){const e=this.$_popperNode.getBoundingClientRect(),n=Ud-Ws,i=Gd-Ys,s=e.left+e.width/2-Ws+(e.top+e.height/2)-Ys+e.width+e.height,l=Ws+n*s,f=Ys+i*s;return j1(Ws,Ys,l,f,e.left,e.top,e.left,e.bottom)||j1(Ws,Ys,l,f,e.left,e.top,e.right,e.top)||j1(Ws,Ys,l,f,e.right,e.top,e.right,e.bottom)||j1(Ws,Ys,l,f,e.left,e.bottom,e.right,e.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});if(typeof document<"u"&&typeof window<"u"){if(oN){const t=Gf?{passive:!0,capture:!0}:!0;document.addEventListener("touchstart",e=>JP(e),t),document.addEventListener("touchend",e=>QP(e,!0),t)}else window.addEventListener("mousedown",t=>JP(t),!0),window.addEventListener("click",t=>QP(t,!1),!0);window.addEventListener("resize",Rge)}function JP(t,e){for(let n=0;n<Lo.length;n++){const i=Lo[n];try{i.mouseDownContains=i.popperNode().contains(t.target)}catch{}}}function QP(t,e){Tge(t,e)}function Tge(t,e){const n={};for(let i=Lo.length-1;i>=0;i--){const s=Lo[i];try{const l=s.containsGlobalTarget=s.mouseDownContains||s.popperNode().contains(t.target);s.pendingHide=!1,requestAnimationFrame(()=>{if(s.pendingHide=!1,!n[s.randomId]&&eR(s,l,t)){if(s.$_handleGlobalClose(t,e),!t.closeAllPopover&&t.closePopover&&l){let h=s.parentPopper;for(;h;)n[h.randomId]=!0,h=h.parentPopper;return}let f=s.parentPopper;for(;f&&eR(f,f.containsGlobalTarget,t);)f.$_handleGlobalClose(t,e),f=f.parentPopper}})}catch{}}}function eR(t,e,n){return n.closeAllPopover||n.closePopover&&e||Pge(t,n)&&!e}function Pge(t,e){if(typeof t.autoHide=="function"){const n=t.autoHide(e);return t.lastAutoHide=n,n}return t.autoHide}function Rge(){for(let t=0;t<Lo.length;t++)Lo[t].$_computePosition()}let Ws=0,Ys=0,Ud=0,Gd=0;typeof window<"u"&&window.addEventListener("mousemove",t=>{Ws=Ud,Ys=Gd,Ud=t.clientX,Gd=t.clientY},Gf?{passive:!0}:void 0);function j1(t,e,n,i,s,l,f,h){const p=((f-s)*(e-l)-(h-l)*(t-s))/((h-l)*(n-t)-(f-s)*(i-e)),m=((n-t)*(e-l)-(i-e)*(t-s))/((h-l)*(n-t)-(f-s)*(i-e));return p>=0&&p<=1&&m>=0&&m<=1}const Bge={extends:sN()},Em=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n};function Oge(t,e,n,i,s,l){return Na(),Vd("div",{ref:"reference",class:hS(["v-popper",{"v-popper--shown":t.slotData.isShown}])},[tv(t.$slots,"default",Dre(Tre(t.slotData)))],2)}const Lge=Em(Bge,[["render",Oge]]);function zge(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("Trident/");if(n>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var s=t.indexOf("Edge/");return s>0?parseInt(t.substring(s+5,t.indexOf(".",s)),10):-1}let ev;function lS(){lS.init||(lS.init=!0,ev=zge()!==-1)}var Am={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){lS(),Mr(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",ev&&this.$el.appendChild(t),t.data="about:blank",ev||this.$el.appendChild(t)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!ev&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const Nge=Fre();Are("data-v-b329ee4c");const jge={class:"resize-observer",tabindex:"-1"};kre();const qge=Nge((t,e,n,i,s,l)=>(Na(),Kv("div",jge)));Am.render=qge;Am.__scopeId="data-v-b329ee4c";Am.__file="src/components/ResizeObserver.vue";const uN=(t="theme")=>({computed:{themeClass(){return Dge(this[t])}}}),$ge=_0({name:"VPopperContent",components:{ResizeObserver:Am},mixins:[uN()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(t){return t!=null&&!isNaN(t)?`${t}px`:null}}}),Uge=["id","aria-hidden","tabindex","data-popper-placement"],Gge={ref:"inner",class:"v-popper__inner"},Hge=tl("div",{class:"v-popper__arrow-outer"},null,-1),Vge=tl("div",{class:"v-popper__arrow-inner"},null,-1),Wge=[Hge,Vge];function Yge(t,e,n,i,s,l){const f=Hd("ResizeObserver");return Na(),Vd("div",{id:t.popperId,ref:"popover",class:hS(["v-popper__popper",[t.themeClass,t.classes.popperClass,{"v-popper__popper--shown":t.shown,"v-popper__popper--hidden":!t.shown,"v-popper__popper--show-from":t.classes.showFrom,"v-popper__popper--show-to":t.classes.showTo,"v-popper__popper--hide-from":t.classes.hideFrom,"v-popper__popper--hide-to":t.classes.hideTo,"v-popper__popper--skip-transition":t.skipTransition,"v-popper__popper--arrow-overflow":t.result&&t.result.arrow.overflow,"v-popper__popper--no-positioning":!t.result}]]),style:Tb(t.result?{position:t.result.strategy,transform:`translate3d(${Math.round(t.result.x)}px,${Math.round(t.result.y)}px,0)`}:void 0),"aria-hidden":t.shown?"false":"true",tabindex:t.autoHide?0:void 0,"data-popper-placement":t.result?t.result.placement:void 0,onKeyup:e[2]||(e[2]=Mre(h=>t.autoHide&&t.$emit("hide"),["esc"]))},[tl("div",{class:"v-popper__backdrop",onClick:e[0]||(e[0]=h=>t.autoHide&&t.$emit("hide"))}),tl("div",{class:"v-popper__wrapper",style:Tb(t.result?{transformOrigin:t.result.transformOrigin}:void 0)},[tl("div",Gge,[t.mounted?(Na(),Vd(Ire,{key:0},[tl("div",null,[tv(t.$slots,"default")]),t.handleResize?(Na(),Kv(f,{key:0,onNotify:e[1]||(e[1]=h=>t.$emit("resize",h))})):TI("",!0)],64)):TI("",!0)],512),tl("div",{ref:"arrow",class:"v-popper__arrow-container",style:Tb(t.result?{left:t.toPx(t.result.arrow.x),top:t.toPx(t.result.arrow.y)}:void 0)},Wge,4)],4)],46,Uge)}const lN=Em($ge,[["render",Yge]]),cN={methods:{show(...t){return this.$refs.popper.show(...t)},hide(...t){return this.$refs.popper.hide(...t)},dispose(...t){return this.$refs.popper.dispose(...t)},onResize(...t){return this.$refs.popper.onResize(...t)}}};let cS=function(){};typeof window<"u"&&(cS=window.Element);const Xge=_0({name:"VPopperWrapper",components:{Popper:Lge,PopperContent:lN},mixins:[cN,uN("finalTheme")],props:{theme:{type:String,default:null},referenceNode:{type:Function,default:null},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:void 0},positioningDisabled:{type:Boolean,default:void 0},placement:{type:String,default:void 0},delay:{type:[String,Number,Object],default:void 0},distance:{type:[Number,String],default:void 0},skidding:{type:[Number,String],default:void 0},triggers:{type:Array,default:void 0},showTriggers:{type:[Array,Function],default:void 0},hideTriggers:{type:[Array,Function],default:void 0},popperTriggers:{type:Array,default:void 0},popperShowTriggers:{type:[Array,Function],default:void 0},popperHideTriggers:{type:[Array,Function],default:void 0},container:{type:[String,Object,cS,Boolean],default:void 0},boundary:{type:[String,cS],default:void 0},strategy:{type:String,default:void 0},autoHide:{type:[Boolean,Function],default:void 0},handleResize:{type:Boolean,default:void 0},instantMove:{type:Boolean,default:void 0},eagerMount:{type:Boolean,default:void 0},popperClass:{type:[String,Array,Object],default:void 0},computeTransformOrigin:{type:Boolean,default:void 0},autoMinSize:{type:Boolean,default:void 0},autoSize:{type:[Boolean,String],default:void 0},autoMaxSize:{type:Boolean,default:void 0},autoBoundaryMaxSize:{type:Boolean,default:void 0},preventOverflow:{type:Boolean,default:void 0},overflowPadding:{type:[Number,String],default:void 0},arrowPadding:{type:[Number,String],default:void 0},arrowOverflow:{type:Boolean,default:void 0},flip:{type:Boolean,default:void 0},shift:{type:Boolean,default:void 0},shiftCrossAxis:{type:Boolean,default:void 0},noAutoFocus:{type:Boolean,default:void 0},disposeTimeout:{type:Number,default:void 0}},emits:{show:()=>!0,hide:()=>!0,"update:shown":t=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},computed:{finalTheme(){return this.theme??this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(t=>t!==this.$refs.popperContent.$el)}}});function Kge(t,e,n,i,s,l){const f=Hd("PopperContent"),h=Hd("Popper");return Na(),Kv(h,cR({ref:"popper"},t.$props,{theme:t.finalTheme,"target-nodes":t.getTargetNodes,"popper-node":()=>t.$refs.popperContent.$el,class:[t.themeClass],onShow:e[0]||(e[0]=()=>t.$emit("show")),onHide:e[1]||(e[1]=()=>t.$emit("hide")),"onUpdate:shown":e[2]||(e[2]=p=>t.$emit("update:shown",p)),onApplyShow:e[3]||(e[3]=()=>t.$emit("apply-show")),onApplyHide:e[4]||(e[4]=()=>t.$emit("apply-hide")),onCloseGroup:e[5]||(e[5]=()=>t.$emit("close-group")),onCloseDirective:e[6]||(e[6]=()=>t.$emit("close-directive")),onAutoHide:e[7]||(e[7]=()=>t.$emit("auto-hide")),onResize:e[8]||(e[8]=()=>t.$emit("resize"))}),{default:nv(({popperId:p,isShown:m,shouldMountContent:g,skipTransition:b,autoHide:S,show:w,hide:C,handleResize:M,onResize:T,classes:D,result:R})=>[tv(t.$slots,"default",{shown:m,show:w,hide:C}),lR(f,{ref:"popperContent","popper-id":p,theme:t.finalTheme,shown:m,mounted:g,"skip-transition":b,"auto-hide":S,"handle-resize":M,classes:D,result:R,onHide:C,onResize:T},{default:nv(()=>[tv(t.$slots,"popper",{shown:m,hide:C})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},16,["theme","target-nodes","popper-node","class"])}const d8=Em(Xge,[["render",Kge]]),Zge={...d8,name:"VDropdown",vPopperTheme:"dropdown"},Jge={...d8,name:"VMenu",vPopperTheme:"menu"},Qge={...d8,name:"VTooltip",vPopperTheme:"tooltip"},e1e=_0({name:"VTooltipDirective",components:{Popper:sN(),PopperContent:lN},mixins:[cN],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:t=>v0(t.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:t=>v0(t.theme,"loadingContent")},targetNodes:{type:Function,required:!0}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(t){if(typeof this.content=="function"&&this.$_isShown&&(t||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const e=++this.$_fetchId,n=this.content(this);n.then?n.then(i=>this.onResult(e,i)):this.onResult(e,n)}},onResult(t,e){t===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=e)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),t1e=["innerHTML"],n1e=["textContent"];function r1e(t,e,n,i,s,l){const f=Hd("PopperContent"),h=Hd("Popper");return Na(),Kv(h,cR({ref:"popper"},t.$attrs,{theme:t.theme,"target-nodes":t.targetNodes,"popper-node":()=>t.$refs.popperContent.$el,onApplyShow:t.onShow,onApplyHide:t.onHide}),{default:nv(({popperId:p,isShown:m,shouldMountContent:g,skipTransition:b,autoHide:S,hide:w,handleResize:C,onResize:M,classes:T,result:D})=>[lR(f,{ref:"popperContent",class:hS({"v-popper--tooltip-loading":t.loading}),"popper-id":p,theme:t.theme,shown:m,mounted:g,"skip-transition":b,"auto-hide":S,"handle-resize":C,classes:T,result:D,onHide:w,onResize:M},{default:nv(()=>[t.html?(Na(),Vd("div",{key:0,innerHTML:t.finalContent},null,8,t1e)):(Na(),Vd("div",{key:1,textContent:Pre(t.finalContent)},null,8,n1e))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","target-nodes","popper-node","onApplyShow","onApplyHide"])}const i1e=Em(e1e,[["render",r1e]]),fN="v-popper--has-tooltip";function o1e(t,e){let n=t.placement;if(!n&&e)for(const i of aN)e[i]&&(n=i);return n||(n=v0(t.theme||"tooltip","placement")),n}function hN(t,e,n){let i;const s=typeof e;return s==="string"?i={content:e}:e&&s==="object"?i=e:i={content:!1},i.placement=o1e(i,n),i.targetNodes=()=>[t],i.referenceNode=()=>t,i}let wx,m0,a1e=0;function s1e(){if(wx)return;m0=pt([]),wx=aR({name:"VTooltipDirectiveApp",setup(){return{directives:m0}},render(){return this.directives.map(e=>Be(i1e,{...e.options,shown:e.shown||e.options.shown,key:e.id}))},devtools:{hide:!0}});const t=document.createElement("div");document.body.appendChild(t),wx.mount(t)}function u1e(t,e,n){s1e();const i=pt(hN(t,e,n)),s=pt(!1),l={id:a1e++,options:i,shown:s};return m0.value.push(l),t.classList&&t.classList.add(fN),t.$_popper={options:i,item:l,show(){s.value=!0},hide(){s.value=!1}}}function dN(t){if(t.$_popper){const e=m0.value.indexOf(t.$_popper.item);e!==-1&&m0.value.splice(e,1),delete t.$_popper,delete t.$_popperOldShown,delete t.$_popperMountTarget}t.classList&&t.classList.remove(fN)}function tR(t,{value:e,modifiers:n}){const i=hN(t,e,n);if(!i.content||v0(i.theme||"tooltip","disabled"))dN(t);else{let s;t.$_popper?(s=t.$_popper,s.options.value=i):s=u1e(t,e,n),typeof e.shown<"u"&&e.shown!==t.$_popperOldShown&&(t.$_popperOldShown=e.shown,e.shown?s.show():s.hide())}}const l1e={beforeMount:tR,updated:tR,beforeUnmount(t){dN(t)}};function nR(t){t.addEventListener("mousedown",Yv),t.addEventListener("click",Yv),t.addEventListener("touchstart",pN,Gf?{passive:!0}:!1)}function rR(t){t.removeEventListener("mousedown",Yv),t.removeEventListener("click",Yv),t.removeEventListener("touchstart",pN),t.removeEventListener("touchend",gN),t.removeEventListener("touchcancel",vN)}function Yv(t){const e=t.currentTarget;t.closePopover=!e.$_vclosepopover_touch,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}function pN(t){if(t.changedTouches.length===1){const e=t.currentTarget;e.$_vclosepopover_touch=!0;const n=t.changedTouches[0];e.$_vclosepopover_touchPoint=n,e.addEventListener("touchend",gN),e.addEventListener("touchcancel",vN)}}function gN(t){const e=t.currentTarget;if(e.$_vclosepopover_touch=!1,t.changedTouches.length===1){const n=t.changedTouches[0],i=e.$_vclosepopover_touchPoint;t.closePopover=Math.abs(n.screenY-i.screenY)<20&&Math.abs(n.screenX-i.screenX)<20,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}}function vN(t){const e=t.currentTarget;e.$_vclosepopover_touch=!1}const c1e={beforeMount(t,{value:e,modifiers:n}){t.$_closePopoverModifiers=n,(typeof e>"u"||e)&&nR(t)},updated(t,{value:e,oldValue:n,modifiers:i}){t.$_closePopoverModifiers=i,e!==n&&(typeof e>"u"||e?nR(t):rR(t))},beforeUnmount(t){rR(t)}},xve=l1e,Sve=c1e,Cve=Zge,Eve=Jge,Ave=Qge,iR={threshold:0,root:null,rootMargin:"0px"};function oR(t,e,n){let i,s,l;typeof n=="function"?(i=n,s=iR,l=e.cfg===void 0):(i=n.handler,s=Object.assign({},iR,n.cfg),l=e.cfg===void 0||q1(e.cfg,s)===!1),e.handler!==i&&(e.handler=i),l===!0&&(e.cfg=s,e.observer!==void 0&&e.observer.unobserve(t),e.observer=new IntersectionObserver(([f])=>{if(typeof e.handler=="function"){if(f.rootBounds===null&&document.body.contains(t)===!0){e.observer.unobserve(t),e.observer.observe(t);return}(e.handler(f,e.observer)===!1||e.once===!0&&f.isIntersecting===!0)&&mN(t)}},s),e.observer.observe(t))}function mN(t){const e=t.__qvisible;e!==void 0&&(e.observer!==void 0&&e.observer.unobserve(t),delete t.__qvisible)}const f1e=w0({name:"intersection",mounted(t,{modifiers:e,value:n}){const i={once:e.once===!0};oR(t,i,n),t.__qvisible=i},updated(t,e){const n=t.__qvisible;n!==void 0&&oR(t,n,e.value)},beforeUnmount:mN}),kve=Zt({name:"QIntersection",props:{tag:{type:String,default:"div"},once:Boolean,transition:String,transitionDuration:{type:[String,Number],default:300},ssrPrerender:Boolean,margin:String,threshold:[Number,Array],root:{default:null},disable:Boolean,onVisibility:Function},setup(t,{slots:e,emit:n}){const i=pt(ro.value===!0?t.ssrPrerender:!1),s=xe(()=>t.root!==void 0||t.margin!==void 0||t.threshold!==void 0?{handler:p,cfg:{root:t.root,rootMargin:t.margin,threshold:t.threshold}}:p),l=xe(()=>t.disable!==!0&&(ro.value!==!0||t.once!==!0||t.ssrPrerender!==!0)),f=xe(()=>[[f1e,s.value,void 0,{once:t.once}]]),h=xe(()=>`--q-transition-duration: ${t.transitionDuration}ms`);function p(g){i.value!==g.isIntersecting&&(i.value=g.isIntersecting,t.onVisibility!==void 0&&n("visibility",i.value))}function m(){if(i.value===!0)return[Be("div",{key:"content",style:h.value},Dn(e.default))];if(e.hidden!==void 0)return[Be("div",{key:"hidden",style:h.value},e.hidden())]}return()=>{const g=t.transition?[Be(Ca,{name:"q-transition--"+t.transition},m)]:m();return Yd(t.tag,{class:"q-intersection"},g,"main",l.value,()=>f.value)}}}),Fve=Zt({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(t,{slots:e,emit:n}){const i=tn(),s=pt(null);let l=0;const f=[];function h(w){const C=typeof w=="boolean"?w:t.noErrorFocus!==!0,M=++l,T=(q,Y)=>{n(`validation${q===!0?"Success":"Error"}`,Y)},D=q=>{const Y=q.validate();return typeof Y.then=="function"?Y.then(K=>({valid:K,comp:q}),K=>({valid:!1,comp:q,err:K})):Promise.resolve({valid:Y,comp:q})};return(t.greedy===!0?Promise.all(f.map(D)).then(q=>q.filter(Y=>Y.valid!==!0)):f.reduce((q,Y)=>q.then(()=>D(Y).then(K=>{if(K.valid===!1)return Promise.reject(K)})),Promise.resolve()).catch(q=>[q])).then(q=>{if(q===void 0||q.length===0)return M===l&&T(!0),!0;if(M===l){const{comp:Y,err:K}=q[0];if(T(!1,Y),C===!0){const ce=q.find(({comp:te})=>typeof te.focus=="function"&&fl(te.$)===!1);ce!==void 0&&ce.comp.focus()}}return!1})}function p(){l++,f.forEach(w=>{typeof w.resetValidation=="function"&&w.resetValidation()})}function m(w){w!==void 0&&Wn(w);const C=l+1;h().then(M=>{C===l&&M===!0&&(t.onSubmit!==void 0?n("submit",w):w!==void 0&&w.target!==void 0&&typeof w.target.submit=="function"&&w.target.submit())})}function g(w){w!==void 0&&Wn(w),n("reset"),Mr(()=>{p(),t.autofocus===!0&&t.noResetFocus!==!0&&b()})}function b(){E0(()=>{if(s.value===null)return;const w=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),C=>C.tabIndex!==-1);w?.focus({preventScroll:!0})})}b0(yR,{bindComponent(w){f.push(w)},unbindComponent(w){const C=f.indexOf(w);C!==-1&&f.splice(C,1)}});let S=!1;return Hf(()=>{S=!0}),Xv(()=>{S===!0&&t.autofocus===!0&&b()}),ci(()=>{t.autofocus===!0&&b()}),Object.assign(i.proxy,{validate:h,resetValidation:p,submit:m,reset:g,focus:b,getValidationComponents:()=>f}),()=>Be("form",{class:"q-form",ref:s,onSubmit:m,onReset:g},Dn(e.default))}});export{sve as $,Cve as A,Eve as B,xve as C,F1e as D,Sve as E,D1e as F,T1e as G,Aae as H,nve as I,R1e as J,nu as K,wO as L,Lse as M,I1e as N,ose as O,ove as P,g1e as Q,eve as R,qre as S,Z1e as T,N1e as U,Ave as V,Jae as W,J1e as X,ive as Y,rve as Z,uv as _,$o as a,IO as a0,P1e as a1,Ese as a2,Sw as a3,W1e as a4,uve as a5,Y1e as a6,lve as a7,cve as a8,fve as a9,L1e as aA,Fve as aB,Spe as aC,kve as aD,rse as aa,ese as ab,nse as ac,_7 as ad,mve as ae,hve as af,yve as ag,_T as ah,bB as ai,Xr as aj,RP as ak,x1e as al,B1e as am,M1e as an,wpe as ao,wve as ap,Cpe as aq,xpe as ar,Mpe as as,id as at,kae as au,vB as av,K1e as aw,Fr as ax,Rse as ay,O1e as az,G1e as b,q1e as c,Q1e as d,yv as e,y1e as f,m1e as g,_1e as h,v1e as i,w1e as j,z1e as k,Efe as l,j1e as m,A1e as n,C1e as o,E1e as p,b1e as q,$1e as r,U1e as s,gn as t,o1 as u,k1e as v,oi as w,xi as x,aa as y,S1e as z};
