import{K as d,U as c}from"./vendor-Cm8vbQLD.js";import{G as F,T as U,O as C,i as T,j as y,e as W}from"./ol-exp-DuIEpEAh.js";import{B as _}from"./xframelib-exp-Dokv845S.js";import{t as M}from"./zhezhaotest-DjReuYCD.js";import{d as B,r as f,w as V,y as E,z as G,$ as N,a0 as n,ae as g,I as t,X as O}from"./@vue-exp-CxZKVZL7.js";import{_ as R}from"./index-C-w6kMP4.js";import"./@hprose-exp-DksTqdcd.js";import"./axios-exp-B_zfNCMU.js";import"./@iconify/vue-exp-CNvCUaPp.js";import"./vue-router-exp-BoJcrdOF.js";const S=B({__name:"CropMaskExtWidget",setup(x,{expose:l}){l();let u,e,r;const v=new F().readFeatures(M),a=v[0],b=f("crop"),m=f(!1),p=f(!1),k=f("White");V(()=>b.value,()=>i()),V(()=>m.value,()=>i()),V(()=>p.value,()=>i()),V(()=>k.value,()=>i());function i(){e.set("inner",m.value),e.set("shadowWidth",p.value?15:0),r.set("inner",m.value),r.set("shadowWidth",p.value?15:0);let o="transparent";switch(k.value){case"White":o="rgba(255,255,255,0.5)";break;case"Transparent":o="transparent";break;case"Red":o="rgba(255,0,0,1)";break;case"Green":o="rgba(0,255,0,0.2)";break;case"Blue":o="rgba(0,0,255,0.2)";break;case"Yellow":o="rgba(255,255,0,0.2)";break}switch(r.setFillColor(o),r.set("active",!1),e.set("active",!1),b.value){case"mask":r.set("active",!0);break;default:e.set("active",!0);break}}let s;E(()=>{u=_.XMap,s=new U({source:new C}),u.map.addLayer(s),e=new T({feature:a,wrapX:!0,inner:!1}),s.addFilter(e),r=new y({feature:a,wrapX:!0,inner:!1,fill:new W({color:[255,255,255,.8]})}),s.addFilter(r),i()}),G(()=>{u&&s&&u.map.removeLayer(s)});const w={get xmap(){return u},set xmap(o){u=o},get crop(){return e},set crop(o){e=o},get mask(){return r},set mask(o){r=o},fts:v,maskFeature:a,filterType:b,inner:m,shadow:p,color:k,setFilter:i,get base(){return s},set base(o){s=o}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),X={class:"options"},L={class:"q-gutter-sm"},Y={class:"q-gutter-sm"};function j(x,l,u,e,r,v){return O(),N("div",null,[n("div",X,[n("ul",null,[n("li",null,[l[10]||(l[10]=g(" Filter: ")),n("div",L,[t(d,{modelValue:e.filterType,"onUpdate:modelValue":l[0]||(l[0]=a=>e.filterType=a),val:"crop",label:"Crop"},null,8,["modelValue"]),t(d,{modelValue:e.filterType,"onUpdate:modelValue":l[1]||(l[1]=a=>e.filterType=a),val:"mask",label:"Mask"},null,8,["modelValue"])])]),n("li",null,[n("div",null,[t(c,{modelValue:e.inner,"onUpdate:modelValue":l[2]||(l[2]=a=>e.inner=a),label:"inner内嵌式"},null,8,["modelValue"])])]),n("li",null,[t(c,{modelValue:e.shadow,"onUpdate:modelValue":l[3]||(l[3]=a=>e.shadow=a),label:"shaddow阴影"},null,8,["modelValue"])]),n("li",null,[l[11]||(l[11]=g(" Color of the mask: ")),n("div",Y,[t(d,{dense:"",modelValue:e.color,"onUpdate:modelValue":l[4]||(l[4]=a=>e.color=a),val:"White",label:"White白色"},null,8,["modelValue"]),t(d,{dense:"",modelValue:e.color,"onUpdate:modelValue":l[5]||(l[5]=a=>e.color=a),val:"Transparent",label:"Transparent透明"},null,8,["modelValue"]),t(d,{dense:"",modelValue:e.color,"onUpdate:modelValue":l[6]||(l[6]=a=>e.color=a),val:"Red",label:"Red"},null,8,["modelValue"]),t(d,{dense:"",modelValue:e.color,"onUpdate:modelValue":l[7]||(l[7]=a=>e.color=a),val:"Green",label:"Green"},null,8,["modelValue"]),t(d,{dense:"",modelValue:e.color,"onUpdate:modelValue":l[8]||(l[8]=a=>e.color=a),val:"Blue",label:"Blue"},null,8,["modelValue"]),t(d,{dense:"",modelValue:e.color,"onUpdate:modelValue":l[9]||(l[9]=a=>e.color=a),val:"Yellow",label:"Yellow"},null,8,["modelValue"])])])])])])}const Z=R(S,[["render",j],["__scopeId","data-v-2365ffa0"],["__file","CropMaskExtWidget.vue"]]);export{Z as default};
