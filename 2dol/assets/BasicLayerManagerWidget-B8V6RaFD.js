import{H as x,I,J as W}from"./vendor-OKllBdZ9.js";import{d as D,_ as E}from"./index-KDDSQM1z.js";import{B as c,g as M,o as b}from"./xframelib-exp-AfjEc0Ac.js";import{g as L}from"./xgis-ol-exp-BOu8pEfn.js";import{W as k}from"./WidgetsEvent-e0lOKT5_.js";import{d as F,r as v,b as P,E as X,L as H,Q,$ as g,P as u,c as f,V as S,U as B,a7 as V,Z as N,a3 as O,F as T}from"./@vue-exp-Mkau1HGZ.js";import"./monaco-editor-exp-B01XOe8A.js";import"./vue-router-exp-ButTbbfG.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-DwwUNauw.js";import"./ol-exp-B2gDleuI.js";const j=F({__name:"BasicLayerManagerWidget",setup(C,{expose:p}){let a=v(""),t="BasicLayerManagerWidget",r="";function m(e){r=e.id}function i(e){t=e.pid,e.pid&&D(k.WidgetClosed,t)}function n(e){let o="";return a.value&&e.id===a.value&&(o="cardSelected"),o}function _(e){const o=a.value;if(a.value=e.id,c.XMap){const h=c.XMap;if(o){const d=L.find(s=>s.id===o);d&&d.layers?.length>0&&d.layers.forEach(s=>{h.LayerManager.deleteLayerByID(s)}),e.layers.forEach(s=>{h.addOnlineLayer(s)})}}}P(()=>{c.XMap&&(a.value="TDT_VEC")});const l=v(!0);function y(e=!1){l.value=e,r&&e&&b.openWindowPanel(r)}p({changeVisible:y,isShow:l});const w={get itemSelected(){return a},set itemSelected(e){a=e},get widgetID(){return t},set widgetID(e){t=e},get windowID(){return r},set windowID(e){r=e},loadedHandle:m,doClosePanel:i,getSelectedStyle:n,selectItem:_,isShow:l,changeVisible:y,get XWindow(){return M},get BasicLayerList(){return L}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),q={class:"row q-col-gutter-sm"},z={class:"text-center textContent"};function A(C,p,a,t,r,m){return X((u(),Q(t.XWindow,{isDark:!0,top:"10px",left:"10px",nWidth:"280px",hHeight:"350px",title:"在线影像底图",icon:"img/basicimage/arcgis_img.png",pid:"imageBaseLayerWidget",onLoaded:t.loadedHandle,onClose:t.doClosePanel},{default:g(()=>[f(W,{style:{height:"100%"}},{default:g(()=>[S("div",q,[(u(!0),B(T,null,V(t.BasicLayerList,(i,n)=>(u(),B("div",{class:"col-4",key:n},[f(x,{class:N(["cardContent",t.getSelectedStyle(i)]),onClick:_=>t.selectItem(i)},{default:g(()=>[f(I,{src:i.img,height:"75px"},null,8,["src"]),S("div",z,O(i.label),1)]),_:2},1032,["class","onClick"])]))),128))])]),_:1})]),_:1},512)),[[H,t.isShow]])}const ie=E(j,[["render",A],["__scopeId","data-v-bc0b72d3"],["__file","BasicLayerManagerWidget.vue"]]);export{ie as default};
