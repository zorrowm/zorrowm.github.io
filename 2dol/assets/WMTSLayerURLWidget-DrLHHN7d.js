import{T as f}from"./vendor-OKllBdZ9.js";import{l as u}from"./xgis-ol-exp-BOu8pEfn.js";import{B as a}from"./xframelib-exp-AfjEc0Ac.js";import{b as y}from"./vue-router-exp-ButTbbfG.js";import{d as _,r as L,b as g,D as M,Q as T,P as S}from"./@vue-exp-Mkau1HGZ.js";import{_ as W}from"./index-KDDSQM1z.js";import"./@iconify/vue-exp-DwwUNauw.js";import"./ol-exp-B2gDleuI.js";import"./axios-exp-C7rfqWEd.js";import"./monaco-editor-exp-B01XOe8A.js";const b=_({__name:"WMTSLayerURLWidget",setup(l,{expose:n}){n();const s=y(),i=L();let o="s:test1",t,r;g(()=>{if(a.XMap){const e=a.XMap,m=s.query.layer;m&&(o=m);const d=u.getTDTTileGrid(!1);t=e.WMTSTool.addWMTSLayer(o,"C",a.Config.ServiceURL.WMTSService,d,u.getProjection({epsg:"EPSG:4326",prjExtent:[-180,-90,180,90]}),"default","KVP","image/jpeg")}});function c(){if(t){const e=a.XMap;r?(e.map.removeLayer(r),r=void 0):r=e.WMTSTool.addWMTSDebugLayer(t)}}M(()=>{if(t){const e=a.XMap;e.LayerManager.deleteLayer(t),r&&(e.map.removeLayer(r),r=void 0)}});const p={route:s,mapRef:i,get layer(){return o},set layer(e){o=e},get wmtsLayer(){return t},set wmtsLayer(e){t=e},get debugLayer(){return r},set debugLayer(e){r=e},doClick:c};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}});function v(l,n,s,i,o,t){return S(),T(f,{color:"primary",label:"加载/移除网格层",onClick:i.doClick})}const X=W(b,[["render",v],["__file","WMTSLayerURLWidget.vue"]]);export{X as default};
