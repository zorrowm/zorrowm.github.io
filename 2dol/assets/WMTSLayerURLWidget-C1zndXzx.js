import{J as f}from"./vendor-h8ZYNSbd.js";import{l as u}from"./xgis-ol-exp-DQ1wUSVC.js";import{B as a}from"./xframelib-exp-Dmuc0LeW.js";import{b as y}from"./vue-router-exp-B0kidEOa.js";import{d as _,r as L,b as g,D as M,Y as S,X as T}from"./@vue-exp-DTehQd6t.js";import{_ as W}from"./index-DqWnk5Rr.js";import"./@hprose-exp-CjxVQ5zB.js";import"./@iconify/vue-exp-Ct1khs4G.js";import"./ol-exp-DFAlSNM7.js";import"./axios-exp-B_zfNCMU.js";import"./monaco-editor-exp-B01XOe8A.js";const b=_({__name:"WMTSLayerURLWidget",setup(l,{expose:n}){n();const i=y(),s=L();let o="s:test1",t,r;g(()=>{if(a.XMap){const e=a.XMap,m=i.query.layer;m&&(o=m);const d=u.getTDTTileGrid(!1);t=e.WMTSTool.addWMTSLayer(o,"C",a.Config.ServiceURL.WMTSService,d,u.getProjection({epsg:"EPSG:4326",prjExtent:[-180,-90,180,90]}),"default","KVP","image/jpeg")}});function c(){if(t){const e=a.XMap;r?(e.map.removeLayer(r),r=void 0):r=e.WMTSTool.addWMTSDebugLayer(t)}}M(()=>{if(t){const e=a.XMap;e.LayerManager.deleteLayer(t),r&&(e.map.removeLayer(r),r=void 0)}});const p={route:i,mapRef:s,get layer(){return o},set layer(e){o=e},get wmtsLayer(){return t},set wmtsLayer(e){t=e},get debugLayer(){return r},set debugLayer(e){r=e},doClick:c};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}});function v(l,n,i,s,o,t){return T(),S(f,{color:"primary",label:"加载/移除网格层",onClick:s.doClick})}const F=W(b,[["render",v],["__file","WMTSLayerURLWidget.vue"]]);export{F as default};
