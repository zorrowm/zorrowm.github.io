import{T as L,W as w,X as O,Y as S,Z as g,I as b}from"./vendor-OKllBdZ9.js";import{B as k}from"./xframelib-exp-AfjEc0Ac.js";import{d as V,r as C,a as I,b as M,U as h,c as o,$ as f,P as v,F as Q,a7 as j,Y as B,a8 as W,a3 as $,S as E}from"./@vue-exp-Mkau1HGZ.js";import{_ as F}from"./index-KDDSQM1z.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-DwwUNauw.js";import"./monaco-editor-exp-B01XOe8A.js";import"./vue-router-exp-ButTbbfG.js";const N=V({__name:"LayerSwitchWidget",setup(x,{expose:u}){u();const y=[{name:"影像",layers:["img_w","cia_w"],image:"img/img.jpg",isOnly:!0},{name:"矢量",layers:["vec_w","cva_w"],image:"img/vec.jpg",isOnly:!0},{name:"地形",layers:["ter_w","cta_w"],image:"img/ter.jpg",isOnly:!0},{name:"OSM",layers:["osm"],image:"img/osm.png",isOnly:!1}],e=C(["矢量"]);function m(a){return e.value.indexOf(a.name)>=0?"border: 1px solid #f00":""}const _=I(()=>m);function p(a){const t=k.XMap;if(t)if(a.isOnly)y.forEach(r=>{if(r.isOnly===a.isOnly)if(r.name!=a.name){const i=e.value.indexOf(r.name);if(i>=0){e.value.splice(i,1);const c=r.layers.length;for(let s=0;s<c;s++){const l=r.layers[s],d=t.LayerManager.getLayer(l);d&&d.getVisible()&&d.setVisible(!1)}}}else{const i=e.value.indexOf(a.name);i>=0?e.value.splice(i,1):e.value.push(a.name);const c=a.layers.length;for(let s=0;s<c;s++){const l=a.layers[s],d=t.LayerManager.getLayer(l);d?d.setVisible(!d.getVisible()):t.addOnlineLayer(l)}}});else{const r=e.value.indexOf(a.name);r>=0?e.value.splice(r,1):e.value.push(a.name);const i=a.layers.length;for(let c=0;c<i;c++){const s=a.layers[c],l=t.LayerManager.getLayer(s);l?l.setVisible(!l.getVisible()):t.addOnlineLayer(s)}}}M(()=>{});const n={layersList:y,checkedList:e,getSelectedStyle:m,selectedStyle:_,doClick:p};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),P={class:"LayerSwitch"};function T(x,u,y,e,m,_){const p=E("Icon");return v(),h("div",P,[o(L,{round:"",color:"secondary"},{default:f(()=>[o(p,{icon:"ion:layers",color:"#fff"}),o(w,{cover:"",anchor:"center left",style:{"min-height":"80px",overflow:"hidden"}},{default:f(()=>[o(O,{class:"row no-wrap",style:{"min-height":"80px",overflow:"hidden"}},{default:f(()=>[(v(),h(Q,null,j(e.layersList,(n,a)=>o(S,{key:n.name,clickable:"",class:"column items-center",style:B(e.checkedList.indexOf(n.name)>=0?"border: 1px solid #f00":""),onClick:t=>e.doClick(n)},{default:f(()=>[o(g,{style:{width:"70px",height:"100%"}},{default:f(()=>[o(b,{src:n.image},null,8,["src"])]),_:2},1024),o(g,null,{default:f(()=>[W($(n.name),1)]),_:2},1024)]),_:2},1032,["style","onClick"])),64))]),_:1})]),_:1})]),_:1})])}const G=F(N,[["render",T],["__scopeId","data-v-c79a58b0"],["__file","LayerSwitchWidget.vue"]]);export{G as default};
