import{n as x,o as I,q as W}from"./vendor-Cm8vbQLD.js";import{d as D,_ as M}from"./index-C-w6kMP4.js";import{B as c,f as E,n as k}from"./xframelib-exp-Dokv845S.js";import{m as S}from"./xgis-ol-exp-CTawL6iO.js";import{W as b}from"./WidgetsEvent-e0lOKT5_.js";import{d as X,r as v,y as F,A as H,H as P,Y as Q,a6 as g,X as u,I as f,a0 as L,$ as B,ad as V,a4 as q,aa as A,J as N}from"./@vue-exp-CxZKVZL7.js";import"./@hprose-exp-DksTqdcd.js";import"./vue-router-exp-BoJcrdOF.js";import"./axios-exp-B_zfNCMU.js";import"./@iconify/vue-exp-CNvCUaPp.js";const O=X({__name:"BasicLayerManagerWidget",setup(C,{expose:m}){let a=v(""),t="BasicLayerManagerWidget",r="";function p(e){r=e.id}function i(e){t=e.pid,e.pid&&D(b.WidgetClosed,t)}function o(e){let n="";return a.value&&e.id===a.value&&(n="cardSelected"),n}function _(e){const n=a.value;if(a.value=e.id,c.XMap){const h=c.XMap;if(n){const l=S.find(s=>s.id===n);l&&l.layers?.length>0&&l.layers.forEach(s=>{h.LayerManager.deleteLayerByID(s)}),e.layers.forEach(s=>{h.addOnlineLayer(s)})}}}F(()=>{c.XMap&&(a.value="TDT_VEC")});const d=v(!0);function y(e=!1){d.value=e,r&&e&&k.openWindowPanel(r)}m({changeVisible:y,isShow:d});const w={get itemSelected(){return a},set itemSelected(e){a=e},get widgetID(){return t},set widgetID(e){t=e},get windowID(){return r},set windowID(e){r=e},loadedHandle:p,doClosePanel:i,getSelectedStyle:o,selectItem:_,isShow:d,changeVisible:y,get XWindow(){return E},get BasicLayerList(){return S}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),T={class:"row q-col-gutter-sm"},j={class:"text-center textContent"};function z(C,m,a,t,r,p){return H((u(),Q(t.XWindow,{isDark:!0,top:"10px",left:"10px",nWidth:"280px",hHeight:"350px",title:"在线影像底图",icon:"img/basicimage/arcgis_img.png",pid:"imageBaseLayerWidget",onLoaded:t.loadedHandle,onClose:t.doClosePanel},{default:g(()=>[f(W,{style:{height:"100%"}},{default:g(()=>[L("div",T,[(u(!0),B(N,null,V(t.BasicLayerList,(i,o)=>(u(),B("div",{class:"col-4",key:o},[f(x,{class:q(["cardContent",t.getSelectedStyle(i)]),onClick:_=>t.selectItem(i)},{default:g(()=>[f(I,{src:i.img,height:"75px"},null,8,["src"]),L("div",j,A(i.label),1)]),_:2},1032,["class","onClick"])]))),128))])]),_:1})]),_:1},512)),[[P,t.isShow]])}const re=M(O,[["render",z],["__scopeId","data-v-bc0b72d3"],["__file","BasicLayerManagerWidget.vue"]]);export{re as default};
