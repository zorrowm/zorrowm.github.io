import{K as l}from"./vendor-DEnSXaZk.js";import{r as m}from"./xgis-ol-exp-B_x7d6gL.js";import{F as a}from"./xframelib-exp-DUbArU78.js";import{u as c}from"./vue-router-exp-CLDoDjFh.js";import{d as f,r as d,b as u,B as y,O as M,P as L}from"./@vue-exp-DhuHfG86.js";import"./ol-exp-DNVUl0aT.js";import"./@iconify/vue-exp-DcFsj1aI.js";import"./axios-exp-C7rfqWEd.js";const k=f({__name:"WMTSLayerURLWidget",setup(T){const n=c();d();let i="s:test1",o,r;u(()=>{if(a.XMap){const e=a.XMap,t=n.query.layer;t&&(i=t);const p=m.getTDTTileGrid(!1);o=e.WMTSTool.addWMTSLayer(i,"C",a.Config.ServiceURL.WMTSService,p,m.getProjection({epsg:"EPSG:4326",prjExtent:[-180,-90,180,90]}),"default","KVP","image/jpeg")}});function s(){if(o){const e=a.XMap;r?(e.map.removeLayer(r),r=void 0):r=e.WMTSTool.addWMTSDebugLayer(o)}}return y(()=>{if(o){const e=a.XMap;e.LayerManager.deleteLayer(o),r&&(e.map.removeLayer(r),r=void 0)}}),(e,t)=>(M(),L(l,{color:"primary",label:"加载/移除网格层",onClick:s}))}});export{k as default};
