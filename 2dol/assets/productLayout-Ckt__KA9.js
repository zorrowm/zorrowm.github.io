import{C as N,G as b}from"./vendor-DLGs6WCJ.js";import{e as V,d as g,r as p,b as x,S as I,P as d,U as _,c as l,a8 as P,a3 as i,X as y,V as c,a as D,D as W,Q as B,$ as w}from"./@vue-exp-Mkau1HGZ.js";import{_ as S,b as R,c as H}from"./index-Dy2WIICa.js";import{B as L,h as C,N as U}from"./xframelib-exp-BL-NWzRk.js";import"./monaco-editor-exp-B01XOe8A.js";import"./vue-router-exp-LDq1UUA0.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-DwwUNauw.js";const u=V({lat:39.9087,lng:116.3974,city:"北京市",addr:"天安门"});let f;function k(){return new Promise((r,a)=>{f||(f=new qq.maps.Geolocation("TR5BZ-6UY64-Z66UV-DUU4Q-2HNOZ-LCFES","小冰天气")),f?.getLocation(t=>{u.addr=t.addr,u.city=t.city,u.lat=t.lat,u.lng=t.lng,r(t)},()=>{a()},{timeout:2e4,failTipFlag:!0})})}const q=g({__name:"LocationWeather",setup(r,{expose:a}){a();const t=p(),e=p();x(async()=>{const o=await k();o&&(t.value=o)});const n={currentPosition:t,weatherNow:e};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),M={class:"row justify-center q-gutter-x-md"},Q={key:0,class:"row items-center"},j={key:1,class:"row items-center q-gutter-x-sm"};function E(r,a,t,e,n,o){const s=I("Icon");return d(),_("div",M,[e.currentPosition?(d(),_("span",Q,[l(s,{icon:"ic:baseline-location-on"}),P(" "+i(e.currentPosition.city+" "+e.currentPosition.addr),1)])):y("",!0),e.weatherNow?(d(),_("div",j,[c("span",null,i(e.weatherNow?.text),1),c("span",null,i(e.weatherNow?.temp)+"°",1),c("span",null,i(e.weatherNow?.windDir),1),c("span",null,i(e.weatherNow?.windScale)+"级",1)])):y("",!0)])}const F=S(q,[["render",E],["__file","LocationWeather.vue"]]),O=g({name:"productLayout"}),T=g({...O,setup(r,{expose:a}){a();const t=R(),e=p(t),n=p("productLayout"),o=H(),s=D(()=>o.headerSetting.show?o.headerSetting.height:0);x(()=>{L.Loading("end"),C.setCssVar("--center-pointer-events","none"),C.setCssVar("--header-top-height",s.value+"px")}),W(()=>{});function v(m=!1){layoutManager||(layoutManager=L.LayoutMap.get("productLayout")),layoutManager?.changeWidgetVisible("frontLayoutWidget",m)}const h={widgetCofig:t,configRef:e,layoutIDRef:n,appState:o,topHeaderHeight:s,changeLayoutWidgetVisible:v,LocationWeather:F,get LayoutContainer(){return U}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}});function Z(r,a,t,e,n,o){return d(),B(b,{view:"hHh lpR fFf"},{default:w(()=>[l(N,null,{default:w(()=>[l(e.LocationWeather,{class:"absolute-top-right q-mr-sm shadow-1",style:{"font-size":"12px"}}),l(e.LayoutContainer,{widgetConfig:e.configRef,layoutID:e.layoutIDRef},null,8,["widgetConfig","layoutID"])]),_:1})]),_:1})}const te=S(T,[["render",Z],["__scopeId","data-v-c81b9fb5"],["__file","productLayout.vue"]]);export{te as default};
