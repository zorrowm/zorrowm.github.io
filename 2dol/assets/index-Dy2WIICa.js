const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-D3gXidiX.js","./xframelib-exp-BL-NWzRk.js","./@vue-exp-Mkau1HGZ.js","./axios-exp-C7rfqWEd.js","./vendor-DLGs6WCJ.js","./vendor-DVDLgBjF.css","./@iconify/vue-exp-DwwUNauw.js","./xframelib-exp-254NBRTd.css","./monaco-editor-exp-B01XOe8A.js","./monaco-editor-exp-B7uS4J0T.css","./vue-router-exp-LDq1UUA0.js","./index-EyI6pOvm.css","./testView-Bs50fOo5.js","./testView-CC2Ayt0M.css","./index-CNk6ISHw.js","./index-Cul4oFtg.css","./help-omfCxg1x.js","./md-editor-v3-exp-CFZyfjU3.js","./md-editor-v3-exp-l5tLToum.css","./help-r80FPUh8.css","./index-db7crvN0.js","./layoutTool-B1JdyxBA.js","./index-D6VMgkCX.css","./productLayout-Ckt__KA9.js","./productLayout-CxL_lju8.css","./404-DD4vROQW.js","./404-BgEe9KI_.css","./index-B7DD_gS4.js","./index-DLp5_ad_.js","./index-B56C-rGq.js","./index-CPWB4hEf.js","./urlUtils-C3lKEPoB.js","./index-BDH1Pu0Q.css","./OneLoginPortal-gOWmiIr_.js","./OneLoginPortal-DYd93NbP.css","./XMapWidget-Do5-OIca.js","./xgis-ol-exp-CUkajMJM.js","./ol-exp-B7umSeRp.js","./ol-exp-CB3xFKxh.css","./xgis-ol-exp-hnSYzxCN.css","./XMapWidget-b04vBSkU.css","./BasicLayerManagerWidget-DXCY5d_P.js","./BasicLayerManagerWidget-BNqKao2W.css","./MeasureToolBarWidget-BGw0x2rf.js","./DrawToolBarWidget-Cmpxi8ys.js","./MapPrintDialogWidget-m_2Duod9.js","./MapPrintDialogWidget-O9YCfRlG.css","./MapVideoRecorderWidget-naS0V9n0.js","./MapVideoRecorderWidget-D6UCe6bu.css","./LayerControlMenuWidget-CYwHyHDj.js","./WMTSImageLayerWidget-CE2IkaWV.js","./OGCWMTSLayerWidget-By3qmyrd.js","./WMTSLayerURLWidget-DWXu0Rld.js","./SwipeToolBarWidget-CPkzBsBr.js","./SwipeToolBarWidget-C15nbi1t.css","./WMTSLoadPanelWidget-AurY0lSP.js","./WMTSLoadPanelWidget-Cq_a5THH.css","./MVTLoadPanelWidget-B5mLFZwf.js","./MVTLayerWidget-q5eC2hir.js","./MVTLayerWidget-LMOFQVgL.css","./StyleJsonMapWidget-CNusEobB.js","./StyleJsonMapWidget-CUssadZ6.css","./MVTDataWidget-C9j6Djv1.js","./MVTDataWidget-DmJM6cq9.css","./ShpDataWidget-uTWjBFkO.js","./twoMapScreenWidget-B2n-v2Jd.js","./twoMapScreenWidget-B2X_5f1q.css","./HeaderTitleWidget-tBW7o9-M.js","./HeaderTitleWidget-BTCv8Nqz.css","./BottomMenuWidget-BpmAOIGF.js","./BottomMenuWidget-B3Gz2U5Y.css","./StatusWidget-CYaWg4xw.js","./StatusWidget-UvyLnd-O.css","./index-peyAT6po.js","./index-BkUZscEG.css","./BaiduMapWidget-BxQ_DwX5.js","./BaiduMapWidget-fLFfw6_c.css","./index-C72fPc5F.js","./index-D5EULSnE.css","./StartMapInitWidget-BwRYE1S2.js","./StartMapInitWidget-8W79llC_.css","./ClipInteractionWidget-DZ3hk0wR.js","./ClipInteractionWidget-CI6LmFUt.css","./FisheyeMap-CP02xu09.js","./FisheyeMap-C9NadhjZ.css","./ContextMenuWidget-U0FZMIR0.js","./MapPrintWidget-BkkTagp5.js","./MapPrintWidget-DYWPVnMK.css","./SwipeMap-eYD3zScf.js","./SwipeMap-BSY-pUzH.css","./ClipPolygon-B4X2gjR9.js","./zhezhaotest-FsVvAOE7.js","./PolygonZheZhao-Df4z0jF-.js","./CropMaskExtWidget-CuMrRR85.js","./CropMaskExtWidget-Cpl5ywBt.css","./LayerManager-CgjjMnJL.js","./index-C-08rnd2.js","./index-B9rRjv6J.css","./LoadWMTS-QtgeZK0U.js","./LoadMultiWMTS-BOMJsHmY.js","./MapBasicTool-ItZNop18.js","./LocationWidget-BT1VfQh7.js","./LocationWidget-BBLmXdC0.css","./GeoimageLayerWidget-BrKzAOOm.js","./GeoimageLayerWidget-D6JaZu-6.css","./StaticimageLayerWidget-CGvCWT-_.js","./StaticimageLayerWidget-D8r_b4ut.css","./PerspectiveMapWidget-D1u75gfA.js","./PerspectiveMapWidget-jDWjmid3.css","./GeojsonDataWidget-DOjQNTRe.js","./OGCWMSLayerWidget-cZ2ETwUX.js","./Building3DWidget-DF-LrOve.js","./MainMapWidget-CKtq3OcY.js","./MainMapWidget-DoAv-oTK.css","./OLXMapWidget-6B3FceX3.js","./OLXMapWidget-CTui2EcG.css","./XMapViewWidget-DrHcdUu-.js","./SystemsEvent-DUQCZw_Q.js","./XMapViewWidget-BuSqyZyG.css","./ZoomFullControlWidget-Bz_ESVzB.js","./MapOverviewWidget-CN6_qlgM.js","./TargetControlWidget-2C1vp-Te.js","./DistanceLegendWidget-b-3wbRMq.js","./PopupTooltipWidget-kj735PtM.js","./LayerSwitchWidget-C-xrWvc1.js","./LayerSwitchWidget-BeuhSchj.css","./LogoTitleWidget-BFwMdATx.js","./LogoTitleWidget-0pPzeAwU.css","./TopMenuWidget-DQcxja2-.js","./TopMenuWidget-ZY-NlMIP.css","./FrontLayoutContainerWidget-DilPt8OW.js","./FrontLayoutContainerWidget-CQG7Wlgb.css","./ModalContainerWidget-J88Ww97r.js","./initXframe-DqIDamUB.js","./directives-8ZZT3_LB.js"])))=>i.map(i=>d[i]);
import{_ as i}from"./monaco-editor-exp-B01XOe8A.js";import{d as pe,ac as me,w as fe,b as ge,D as _e,P as he,Q as ye,S as Le,n as We,m as ve,f as Ee}from"./@vue-exp-Mkau1HGZ.js";import{i as D,j as Ie,t as L,n as be,o as De,p as Me,Q as Re,q as Se,D as Te,v as Oe,w as Pe,N as Ae}from"./vendor-DLGs6WCJ.js";import{B as s,Y as ke,s as B,Z as Ve,L as Be,h as K,a as Ce,_ as Z,M as we,H as Fe,D as xe,b as He,P as $e,c as Q,z as J,d as Ne,e as n,f as Ue,A as je}from"./xframelib-exp-BL-NWzRk.js";import{i as qe,c as Ge,a as Xe}from"./vue-router-exp-LDq1UUA0.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-DwwUNauw.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();const ee={SatusMessage:"statusmessage",LoadingMessage:"loadingMessage"};function C(e,t){s.EventBus.on(e,t)}function w(e,t){s.EventBus.off(e,t)}function ro(e,t){s.EventBus.emit(e,t)}function ze(e){s.EventBus.emit(ee.SatusMessage,e)}function ao(e){s.EventBus.on(ee.SatusMessage,e)}let F=!1;function te(e="end"){if(e==="end")setTimeout(()=>{document.getElementById("apploading")?.remove()},300),F=!0;else if(e)if(F){const t=`加载Widget：${e}……`;ze(t)}else{const t=document.getElementById("app-loading-info");t&&(t.innerHTML=`正在加载：${e}……`)}}function x(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.head.appendChild(t)}const H={ModalContainerWidget_LoadModal:"ModalContainerWidget_LoadModal",ModalContainerWidget_CloseModal:"ModalContainerWidget_CloseModal",WidgetClosed:"WidgetClosed"},Ye=pe({name:"App",setup(){function e(r){if(!r.isExceptionInfo){const o=`${r.message}
$${r.result}`;s.Message.warn(o)}s.Logger().warn(r,"请求错误")}me(()=>{s.Loading("App.vue"),s.Config.Enables&&(s.Config.Enables.TurfAsync&&x("./js/turf-async/index.js"),s.Config.Enables.CesiumOfflineCache&&x("./js/CesiumOfflineCache.min.js"))}),fe(()=>Be.isLock,r=>{s.Logger().debug("监听状态变化",r)}),ge(()=>{ke(),s.Logger().debug("监听了000000000"),C(B.AxiosRequestErrorEvent,e),C(H.WidgetClosed,t)});function t(r){if(r){const o=s.getLayoutManager(r);o&&o.unloadWidget(r)}}_e(()=>{Ve(),s.Logger().debug("卸载了000000000"),w(B.AxiosRequestErrorEvent,e),w(H.WidgetClosed,t)})}}),Ke=(e,t)=>{const r=e.__vccOpts||e;for(const[o,a]of t)r[o]=a;return r};function Ze(e,t,r,o,a,l){const d=Le("router-view");return he(),ye(d)}const W=Ke(Ye,[["render",Ze],["__file","App.vue"]]);var oe=(e=>(e.SIDEBAR="sidebar",e.MIX_SIDEBAR="mix-sidebar",e.MIX="mix",e.TOP_MENU="top-menu",e))(oe||{}),ie=(e=>(e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.VERTICAL_RIGHT="vertical-right",e.INLINE="inline",e))(ie||{}),m=(e=>(e[e.Widget=0]="Widget",e[e.Route=1]="Route",e[e.URL=2]="URL",e[e.Action=3]="Action",e))(m||{});const Qe={leftDrawerOpen:!0,reloadFlag:!0,showTabMenu:!0,TabMenuHeight:30,showBreadCrumbs:!0,leftCollapsed:!1,overlayMenu:!1,layoutContentHeight:700,layoutContentWidth:600,showSettingButton:!0,openKeepAlive:!0,useErrorHandle:!1,showLogo:!0,showFooter:!0,footerHeight:20,headerSetting:{fixed:!0,show:!0,height:64,centerTitle:!0,showFullScreen:!0,showCollapseIcon:!0,showNotice:!0},menuSetting:{collapsed:!1,minWidth:48,menuWidth:250,accordion:!0,mode:ie.HORIZONTAL,type:oe.SIDEBAR}},E="PROJ_SETTINGS_KEY",I=new Z("",sessionStorage),$={...Qe},Je=D("app",{state:()=>{I?.remove(E);const t=I.get(E)||$,r=t.headerSetting?.height??64,a=t.showFooter?t.footerHeight:0;t.layoutContentHeight=document.body.clientHeight-a-r,t.leftCollapsed=t.menuSetting?.collapsed;let l=0;return t.leftCollapsed?l=t.menuSetting?.minWidth:l=t.menuSetting?.menuWidth??250,t.layoutContentWidth=document.body.clientWidth-l,t},getters:{layoutHeaderHeight(e){return e.headerSetting.height??64},layoutFooterHeight(e){return e.showFooter?e.footerHeight:0},layoutSiderWidth(e){return!e.menuSetting||!e.menuSetting.show?0:e.menuSetting.collapsed?e.menuSetting.minWidth:e.menuSetting.menuWidth??250}},actions:{async reloadPage(e=0){this.reloadFlag=!1,await We(),e?setTimeout(()=>{this.reloadFlag=!0},e):this.reloadFlag=!0},getCacheStore(){let e=I.get(E);return e||(e=$),e},saveCacheStore(){I.set(E,this.$state)},clear(){I?.remove(E)},setProjectConfig(e){e&&(Ce(this.$state,e),this.saveCacheStore())},setMenuSetting(e){this.setProjectConfig({menuSetting:e})},toggleCollapse(){this.leftCollapsed=!this.leftCollapsed,this.menuSetting.collapsed=this.leftCollapsed,this.layoutContentWidth=document.body.clientWidth-this.layoutSiderWidth,this.saveCacheStore();const e=new Event("resize");window.dispatchEvent(e)},resizeHandler(){this.layoutContentWidth=document.body.clientWidth-this.layoutSiderWidth,this.layoutContentHeight=document.body.clientHeight-this.layoutFooterHeight-this.layoutHeaderHeight,this.saveCacheStore()}}});function et(){Je().resizeHandler()}K.windowResizeHandler(et);const tt=D("asyncRoute",{state:()=>({menus:[],keepAliveComponents:[]}),getters:{},actions:{setRoutes(e){this.menus=e}}});function ot(e){for(const t in e)return e[t]}const it=D("breadCrumbs",{state:()=>({breadcrumbs:[]}),getters:{getBreadCrumbs(e){return e.breadcrumbs}},actions:{setBreadcurmbs(e,t){const r=[];for(let a=0;a<e.length;a++){const l={title:e[a].meta.title,name:e[a].name,fullPath:e[a].path,icon:e[a].meta.icon,keepAlive:e[a].meta.keepAlive};r.push(l)}const o=r.length-1;Object.keys(t).length&&(r[o].title+="："+ot(t)),this.breadcrumbs=r}}}),rt={path:"/bigscreen",name:"bigscreen",component:()=>i(()=>import("./index-D3gXidiX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url),meta:{title:"",keepAlive:!0},children:[{path:"/bigscreen/test",name:"test",meta:{title:"routes.home",icon:"icon-Home-Filled"},component:()=>i(()=>import("./testView-Bs50fOo5.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10,13]),import.meta.url)}]},at="GIS-OpenLayers",nt="0.0.1",lt="2024-11-06,基于Openlayers开发的二维GIS平台系统",st="GIS-OpenLayers",dt="zorrowm <zorrowm@126.com>",ct="module",ut={lint:"eslint --fix --ext .ts,.vue ./",format:'prettier --write "**/*.{ts,vue,scss,html,md,json}" --ignore-path .gitignore',dev:"cross-env DEBUG=vite:deps VITE_CJS_IGNORE_WARNING=true  quasar dev",build:"quasar build","build:pwa":"quasar build -m pwa",clean:"quasar clean && rimraf components.d.ts package-lock.json pnpm-lock.yaml && rimraf node_modules/.q-cache"},pt={"@loaders.gl/core":"^4.3.3","@loaders.gl/shapefile":"^4.3.3","@loaders.gl/zip":"^4.3.3","@microsoft/signalr":"^8.0.7","@quasar/extras":"^1.16.15","@vueuse/core":"^12.0.0",comlink:"^4.4.2",dexie:"^4.0.10",echarts:"^5.5.1","floating-vue":"5.2.2","lodash-es":"^4.17.21","md-editor-v3":"^5.0.2","monaco-editor":"^0.52.0",nprogress:"1.0.0-1",ol:"^10.3.1","ol-ext":"^4.0.24",pinia:"^2.3.0",quasar:"^2.17.4",shpjs:"^6.1.0",vue:"^3.5.13","vue-router":"^4.5.0","vue-types":"^5.1.3",xframelib:"^0.8.7","xgis-ol":"^0.4.1"},mt={"@iconify/vue":"^4.2.0","@quasar/app-vite":"2.0.1","@rollup/plugin-alias":"^5.1.1","@types/node":"^22.10.1","@types/nprogress":"^0.2.3","@typescript-eslint/eslint-plugin":"^8.17.0","@typescript-eslint/parser":"^8.17.0","@vue-macros/volar":"^0.30.7","@vue/compiler-sfc":"^3.5.13",autoprefixer:"^10.4.20","cross-env":"^7.0.3",dotenv:"^16.4.7",eslint:"^9.16.0","eslint-config-prettier":"^9.1.0","eslint-plugin-simple-import-sort":"^12.1.1","eslint-plugin-vue":"^9.32.0",prettier:"^3.4.2",prismjs:"^1.29.0",rimraf:"^6.0.1","rollup-plugin-copy":"^3.5.0","rollup-plugin-visualizer":"^5.12.0",sass:"^1.82.0",typescript:"^5.7.2","unplugin-vue-components":"^0.27.5","unplugin-vue-define-options":"^1.5.2","vite-plugin-checker":"^0.8.0","vite-plugin-fs":"^1.1.0","vite-plugin-vue-inspector":"^5.3.1","vite-plugin-webworker-service":"^1.1.0","vite-tsconfig-paths":"^5.1.4"},ft={node:"^24 || ^22 || ^20 || ^18",npm:">= 6.13.4",yarn:">= 1.21.1"},gt={name:at,version:nt,description:lt,productName:st,author:dt,type:ct,private:!0,scripts:ut,dependencies:pt,devDependencies:mt,engines:ft},{name:_t,version:ht}=gt,re={pkg:{name:_t,version:ht},lastBuildTime:Ie.formatDate("YYYY-MM-DD HH:mm:ss")};function yt(){const{pkg:e}=re,t=`${e.name}_${e.version}`;return K.MD5(t)}function no(){const{pkg:e}=re;return e}function ae(e,t="/"){if(e)return e.startsWith("/")?e.startsWith(t)?e:`${t}${e}`:t==="/"?`${t}${e}`:`${t}/${e}`}function N(e,t){e.getRoutes().find(a=>a.path==="/")||e.addRoute({name:"/",path:"/",redirect:t.path})}function ne(e){const t=[];let r=[];return Object.keys(e).forEach(o=>{const a=e[o];a&&r.push(...a)}),r=r.sort((o,a)=>{let l=0,d=0;return o.meta&&(o.meta.index!=null?l=Number(o.meta.index):l=100),a.meta&&(a.meta.index!=null?d=Number(a.meta.index):d=100),l-d}),t.push(...r),r.length=0,t}function le(e,t=!1){const r=[];let o=[];return Object.keys(e).forEach(a=>{const l=e[a];l&&o.push(...l)}),t&&(o=o.sort((a,l)=>{let d=0,u=0;return a.index!=null&&(d=Number(a.index)),l.index!=null&&(u=Number(l.index)),d-u})),r.push(...o),o.length=0,r}const Lt=[{path:"apiexamples",name:"apiexamples",component:()=>i(()=>import("./index-CNk6ISHw.js"),__vite__mapDeps([14,8,9,4,2,5,1,3,6,7,10,15]),import.meta.url),meta:{index:4,title:"查询-api示例",hidden:!0,isSystem:!0}},{path:"mdhelp",name:"mdhelp",component:()=>i(()=>import("./help-omfCxg1x.js"),__vite__mapDeps([16,4,2,5,10,17,18,1,3,6,7,8,9,19]),import.meta.url),meta:{index:5,title:"帮助文档"}}],Wt=[{path:"index",name:"index",component:()=>i(()=>import("./index-db7crvN0.js"),__vite__mapDeps([20,8,9,2,1,3,4,5,6,7,21,10,22]),import.meta.url),meta:{index:1,title:"首页",hidden:!0,isSystem:!0}}],vt=Object.assign({"./apiexample.ts":Lt,"./home.ts":Wt}),U=ne(vt),j="/",Et={path:j,name:"Product",component:()=>i(()=>import("./productLayout-Ckt__KA9.js"),__vite__mapDeps([23,4,2,5,1,3,6,7,8,9,10,24]),import.meta.url),redirect:ae(U[0]?.path,j),meta:{title:"",hidden:!0,isSystem:!0,keepAlive:!0},children:U},q="error",It={path:"/:pathMatch(.*)*",name:"NotFound",meta:{index:99,title:"不存在",hidden:!0,isSystem:!0}},bt={path:"/error",name:q,redirect:"/error/404",meta:{index:80,title:"错误页",hidden:!0,isSystem:!0},children:[{path:"404",name:`${q}-404`,meta:{title:"404",hidden:!0,isSystem:!0},component:()=>i(()=>import("./404-DD4vROQW.js"),__vite__mapDeps([25,4,2,5,1,3,6,7,8,9,10,26]),import.meta.url)}]},Dt=[It,bt],Mt={path:"/help/:name",name:"help",meta:{title:"相关内部系统功能",isSystem:!0},component:()=>i(()=>import("./index-B7DD_gS4.js"),__vite__mapDeps([27,10,2,1,3,4,5,6,7,8,9]),import.meta.url)},Rt=[Mt],St=[{path:"/redirect/:path*",name:"Redirect",component:{},meta:{index:70,title:"重定向",icon:"SettingOutlined",hidden:!0,isSystem:!0},children:[{path:"",name:"Redirect2",component:()=>i(()=>import("./index-DLp5_ad_.js"),__vite__mapDeps([28,10,2,8,9,4,5,1,3,6,7]),import.meta.url),meta:{title:"重定向",hidden:!0,keepAlive:!1}}]}],Tt=[{path:"/login",name:"login",meta:{index:10,title:"系统登录",isSystem:!0},component:()=>i(()=>import("./index-B56C-rGq.js"),__vite__mapDeps([29,4,2,5,1,3,6,7,10,8,9]),import.meta.url)},{path:"/onelogin",name:"onelogin",meta:{index:11,title:"统一登录",isSystem:!0},component:()=>i(()=>import("./index-CPWB4hEf.js"),__vite__mapDeps([30,4,2,5,1,3,6,7,31,10,8,9,32]),import.meta.url)},{path:"/onelogin-portal",name:"onelogin-portal",meta:{index:12,title:"统一验证导航页",isSystem:!0},component:()=>i(()=>import("./OneLoginPortal-gOWmiIr_.js"),__vite__mapDeps([33,4,2,5,10,1,3,6,7,8,9,34]),import.meta.url)}],Ot=Object.assign({"./error.ts":Dt,"./help.ts":Rt,"./redirect.ts":St,"./shared.ts":Tt}),Pt=ne(Ot);async function At(e){const t=await we(e).catch(r=>{s.Message.warn(`token验证失败:${r.message}!`)});return t?(V().init(t.data),Fe(t.data.doubletoken),!0):!1}L.configure({showSpinner:!1});const M="/login",kt="/";function Vt(e){const t=s.Config.UI?.SiteTitle;return e?`${e} - ${t}`:`${t}`}function G(e){return e==="NotFound"?!1:se(ce,e)}function se(e,t){let r=!1;const o=e.length;for(let a=0;a<o;a++){const l=e[a];if(r=l.name==t,r)break;if(l.children&&(r=se(l.children,t),r))break}return r}function de(e,t,r=""){let o=!1;const a=e.length;for(let l=0;l<a;l++){const d=e[l];let u=d.path;if(u.startsWith("/")||(u=`${r}/${u}`),o=u==t,o)break;if(t.startsWith(u)&&d.children&&(o=de(d.children,t,u),o))break}return o}function Bt(e){let t="";const r=it();e.beforeEach((o,a,l)=>{L.start();const d=o.name;t=o.path;const u=V();if(d==="NotFound"&&!de(b,t)){l({path:"/error",query:{url:o.path}});return}if(xe()){const c=He();if(!s.User&&u.id&&($e(),d==="NotFound"&&c&&c.routes&&c.routes.length>0)){const g=z();if(g){s.User=u.id;let _;g.forEach(h=>{_||(_=h),e.addRoute(h)}),_&&N(e,_),o.name=void 0,l(o)}return}if(d==="login")l({path:kt}),L.done();else{const g=e.hasRoute(d);(G(d)||g)&&(!c&&d==="NotFound"?(Q(),J(),l({path:M,query:{redirect:o.fullPath},replace:!0})):(l(),r.setBreadcurmbs(o.matched,o.query)),L.done())}}else{const c=o.query?.tk?.toString();if(c)At(c).then(g=>{if(g){const _=yt(),h=u.DefaultMaxRoleLevel===0;Ne(_,h).then(()=>{const v=z();if(v){let f;if(v.forEach(y=>{f||(f=y),e.addRoute(y)}),f&&N(e,f),o.query.redirect){const y=o.query.redirect;y.startsWith("http")?window.open(y,"_self"):l({path:y})}else l({path:o.path});return}}).catch(()=>{s.Message.warn("获取用户功能权限失败！"),l()})}else{s.Logger().debug("验证外部的tk参数失败！");const _=s.Config.ServiceURL.UILoginURL;if(_){const h=document.URL;window.open(_+"?redirect="+h,"_self")}else{let h=o.fullPath;o.query.redirect&&(h=o.query.redirect),l({path:M,query:{redirect:h},replace:!0})}L.done()}});else if(G(d))l(),r.setBreadcurmbs(o.matched,o.query);else{const g=s.Config.ServiceURL.UILoginURL;if(g){const _=document.URL;window.open(g+"?redirect="+_,"_self")}else l({path:M,query:{redirect:o.fullPath},replace:!0});L.done()}}}),e.afterEach((o,a,l)=>{const d=tt();document.title=Vt(o.meta.title),qe(l)&&s.Logger().debug("failed navigation",l);const u=d.keepAliveComponents,p=o.matched.find(c=>c.name==o.name)?.components?.default.name;if(p&&!u?.includes(p)&&o.meta?.keepAlive)u.push(p);else if(!o.meta?.keepAlive||o.name=="Redirect"){const c=d.keepAliveComponents.findIndex(g=>g==p);c!=-1&&u?.splice(c,1)}L.done()}),e.onError(o=>{s.Message.err("加载视图错误:"+o.message),s.Logger().debug(o,"路由错误"),e.push("/error/404")})}te("Router路由");const b=[],X=[Et,rt,...Pt],ce=s.Config.UI.IsNoLogin?[...b,...X]:X,R=be(function(){const t=Ge({scrollBehavior:()=>({left:0,top:0}),routes:ce,history:Xe("/./")});return s.Config.UI?.IsNoLogin||Bt(t),t}),Ct=[{name:"图层树",index:2,icon:"vaadin:file-tree",path:"layerManageWidget",type:m.Widget},{name:"在线底图服务",index:3,icon:"gis:map-play",path:"BasicLayerManagerWidget",type:m.Widget,unload:!0},{name:"服务加载",index:4,icon:"gis:map-route",path:"serviceLoadMenuWidget",type:m.Widget,children:[{name:"OGC WMTS加载",path:"WMTSLoadPanelWidget",icon:"gis:wmts",type:m.Widget,unload:!0},{name:"MVT矢量切片服务",path:"MVTLoadPanelWidget",icon:"gis:mvt",type:m.Widget,unload:!0}]},{name:"卷帘分析",index:5,icon:"gis:map-play",path:"swipeToolBar",type:m.Widget,unload:!0},{name:"两屏对比",index:6,icon:"bi:layout-split",path:"twoMapScreen",type:m.Widget,unload:!0},{name:"天气-测试",index:8,path:"weatherMenuWidget",type:m.Widget,children:[{name:"雨",icon:"bi:cloud-rain-fill",path:"rainWidget",type:m.Widget,unload:!0},{name:"雪",icon:"bi:cloud-snow-fill",path:"snowWidget",type:m.Widget,unload:!0},{name:"雾",icon:"bi:cloud-fog-fill",path:"fog1Widget",type:m.Widget,unload:!0},{name:"云",icon:"bi:cloud-fill",path:"cloudWidget",type:m.Widget,unload:!0},{name:"风",icon:"ph:wind-fill",path:"windyWidget",type:m.Widget},{name:"太阳",icon:"bi:sun-fill",path:"sunWidget",type:m.Widget},{name:"大气",icon:"icon-atmosphere",path:"atmosphereWidget",type:m.Widget}]}],wt=[{name:"地图工具",index:1,icon:"gis:globe-gear",path:"linkMenuWidget",type:m.Widget,unload:!0,children:[{name:"量算工具",icon:"gis:measure",path:"measureToolWidget",type:m.Widget,unload:!0},{name:"绘制工具",path:"drawToolBarWidget",icon:"material-symbols:draw-outline",type:m.Widget,unload:!0},{name:"态势标绘",path:"plotMapWidget",icon:"clarity:scatter-plot-outline-alerted",type:m.Widget,unload:!0},{name:"视频录制",path:"mapVideoRecorder",icon:"ph:file-video-thin",type:m.Widget,unload:!0},{name:"截图打印",path:"mapPrintDialog",icon:"dashicons:printer",type:m.Widget,unload:!0}]}],Ft=Object.assign({"./mapother.ts":Ct,"./maptoolbar.ts":wt}),lo=le(Ft,!0),xt=[{layoutID:"bigScreenLayout",id:"XMapWidget",label:"OL地图组件",container:n.centerBack,component:()=>i(()=>import("./XMapWidget-Do5-OIca.js"),__vite__mapDeps([35,1,2,3,4,5,6,7,36,37,38,39,8,9,10,40]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"BasicLayerManagerWidget",label:"底图管理组件",container:n.centerBack,component:()=>i(()=>import("./BasicLayerManagerWidget-DXCY5d_P.js"),__vite__mapDeps([41,4,2,5,1,3,6,7,36,37,38,39,8,9,10,42]),import.meta.url),afterid:"XMapWidget",preload:!1},{layoutID:"bigScreenLayout",id:"measureToolWidget",label:"量算工具",container:n.centerBack,component:()=>i(()=>import("./MeasureToolBarWidget-BGw0x2rf.js"),__vite__mapDeps([43,36,2,6,37,4,5,38,39,1,3,7,8,9,10]),import.meta.url),afterid:"XMapWidget",preload:!1,layout:{position:"absolute",right:"0px",top:"70px"}},{layoutID:"bigScreenLayout",id:"drawToolBarWidget",label:"绘制工具",container:n.centerBack,component:()=>i(()=>import("./DrawToolBarWidget-Cmpxi8ys.js"),__vite__mapDeps([44,36,2,6,37,4,5,38,39,1,3,7,8,9,10]),import.meta.url),afterid:"XMapWidget",preload:!1,layout:{position:"absolute",right:"100px",top:"100px"}},{layoutID:"bigScreenLayout",id:"mapPrintDialog",label:"Print打印对话框",container:n.centerBack,component:()=>i(()=>import("./MapPrintDialogWidget-m_2Duod9.js"),__vite__mapDeps([45,1,2,3,4,5,6,7,8,9,10,46]),import.meta.url),afterid:"XMapWidget",preload:!1},{layoutID:"bigScreenLayout",id:"mapVideoRecorder",label:"Video视频录制",container:n.centerBack,component:()=>i(()=>import("./MapVideoRecorderWidget-naS0V9n0.js"),__vite__mapDeps([47,37,4,2,5,38,1,3,6,7,8,9,10,48]),import.meta.url),afterid:"XMapWidget",preload:!1},{layoutID:"bigScreenLayout",id:"layerManageWidget",label:"图层管理",container:n.centerBack,component:()=>i(()=>import("./LayerControlMenuWidget-CYwHyHDj.js"),__vite__mapDeps([49,1,2,3,4,5,6,7,36,37,38,39,8,9,10]),import.meta.url),afterid:"XMapWidget",preload:!1},{layoutID:"bigScreenLayout",id:"WMTSImageLayerWidget",label:"加载影像WMTS数据",container:n.centerBack,component:()=>i(()=>import("./WMTSImageLayerWidget-CE2IkaWV.js"),__vite__mapDeps([50,1,2,3,4,5,6,7,10,8,9]),import.meta.url),afterid:"XMapWidget",preload:!1},{layoutID:"bigScreenLayout",id:"OGCWMTSLayerWidget",label:"OGC GetCapabilities加载影像WMTS数据",container:n.centerBack,component:()=>i(()=>import("./OGCWMTSLayerWidget-By3qmyrd.js"),__vite__mapDeps([51,36,2,6,37,4,5,38,39,1,3,7,10,8,9]),import.meta.url),afterid:"XMapWidget",preload:!1},{layoutID:"bigScreenLayout",id:"WMTSLayerURLWidget",label:"URL加载影像WMTS数据",container:n.centerBack,component:()=>i(()=>import("./WMTSLayerURLWidget-DWXu0Rld.js"),__vite__mapDeps([52,4,2,5,36,6,37,38,39,1,3,7,10,8,9]),import.meta.url),afterid:"XMapWidget",preload:!1},{layoutID:"bigScreenLayout",id:"swipeToolBar",label:"卷帘工具",container:n.centerBack,component:()=>i(()=>import("./SwipeToolBarWidget-CPkzBsBr.js"),__vite__mapDeps([53,36,2,6,37,4,5,38,39,1,3,7,8,9,10,54]),import.meta.url),afterid:"XMapWidget",preload:!1,layout:{top:"280px",right:"15px",height:"130px"}},{layoutID:"bigScreenLayout",id:"WMTSLoadPanelWidget",label:"多种方式加载WMTS",container:n.centerBack,component:()=>i(()=>import("./WMTSLoadPanelWidget-AurY0lSP.js"),__vite__mapDeps([55,4,2,5,1,3,6,7,36,37,38,39,8,9,10,56]),import.meta.url),afterid:"XMapWidget",preload:!1},{layoutID:"bigScreenLayout",id:"MVTLoadPanelWidget",label:"加载矢量切片/电子地图",container:n.centerBack,component:()=>i(()=>import("./MVTLoadPanelWidget-B5mLFZwf.js"),__vite__mapDeps([57,4,2,5,1,3,6,7,58,36,37,38,39,10,8,9,59,60,61,62,63]),import.meta.url),afterid:"XMapWidget",preload:!1},{layoutID:"bigScreenLayout",id:"loadShpDataWidget",label:"shp矢量数据加载",container:n.centerBack,component:()=>i(()=>import("./ShpDataWidget-uTWjBFkO.js"),__vite__mapDeps([64,4,2,5,37,38,1,3,6,7,8,9,10]),import.meta.url),afterid:"XMapWidget",preload:!1},{layoutID:"bigScreenLayout",id:"twoMapScreen",label:"分屏地图",container:n.centerBack,component:()=>i(()=>import("./twoMapScreenWidget-B2n-v2Jd.js"),__vite__mapDeps([65,1,2,3,4,5,6,7,37,38,36,39,8,9,10,66]),import.meta.url),preload:!1}],Ht=[{layoutID:"bigScreenLayout",id:"headerTitleWidget",label:"头部栏",container:n.top,component:()=>i(()=>import("./HeaderTitleWidget-tBW7o9-M.js"),__vite__mapDeps([67,4,2,5,1,3,6,7,8,9,10,68]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"bottomMenuWidget",container:n.bottom,component:()=>i(()=>import("./BottomMenuWidget-BpmAOIGF.js"),__vite__mapDeps([69,4,2,5,31,1,3,6,7,10,8,9,70]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"statusWidget",container:n.bottom,component:()=>i(()=>import("./StatusWidget-CYaWg4xw.js"),__vite__mapDeps([71,1,2,3,4,5,6,7,8,9,10,72]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"linkMenuWidget",container:n.centerBack,component:()=>i(()=>import("./index-peyAT6po.js"),__vite__mapDeps([73,2,1,3,4,5,6,7,10,8,9,74]),import.meta.url),preload:!1},{layoutID:"bigScreenLayout",id:"weatherMenuWidget",container:n.centerBack,component:()=>i(()=>import("./index-peyAT6po.js"),__vite__mapDeps([73,2,1,3,4,5,6,7,10,8,9,74]),import.meta.url),preload:!1},{layoutID:"bigScreenLayout",id:"serviceLoadMenuWidget",label:"服务加载菜单栏",container:n.centerBack,component:()=>i(()=>import("./index-peyAT6po.js"),__vite__mapDeps([73,2,1,3,4,5,6,7,10,8,9,74]),import.meta.url),preload:!1}],$t=[{layoutID:"frontLayoutWidget",id:"BaiduMapWidget",label:"百度地图初始化",container:n.centerBack,component:()=>i(()=>import("./BaiduMapWidget-BxQ_DwX5.js"),__vite__mapDeps([75,36,2,6,37,4,5,38,39,8,9,1,3,7,10,76]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MultiMapWidget",label:"多屏地图",container:n.centerBack,component:()=>i(()=>import("./index-C72fPc5F.js"),__vite__mapDeps([77,1,2,3,4,5,6,7,37,38,36,39,8,9,10,78]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"StartMapInitWidget",label:"最简单的地图初始化",container:n.centerBack,component:()=>i(()=>import("./StartMapInitWidget-BwRYE1S2.js"),__vite__mapDeps([79,36,2,6,37,4,5,38,39,8,9,1,3,7,10,80]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"ClipInteractionWidget",label:"鱼眼实现ol-ext",container:n.centerBack,component:()=>i(()=>import("./ClipInteractionWidget-DZ3hk0wR.js"),__vite__mapDeps([81,4,2,5,37,38,1,3,6,7,8,9,10,82]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"FisheyeMap",label:"鱼眼地图",container:n.centerBack,component:()=>i(()=>import("./FisheyeMap-CP02xu09.js"),__vite__mapDeps([83,36,2,6,37,4,5,38,39,1,3,7,8,9,10,84]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"contextmenuWidget",label:"右键菜单",container:n.centerBack,component:()=>i(()=>import("./ContextMenuWidget-U0FZMIR0.js"),__vite__mapDeps([85,1,2,3,4,5,6,7,36,37,38,39,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"mapPrintWidget",label:"Print打印输出",container:n.centerBack,component:()=>i(()=>import("./MapPrintWidget-BkkTagp5.js"),__vite__mapDeps([86,1,2,3,4,5,6,7,8,9,10,87]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"mapPrintDialogWidget",label:"Print打印对话框",container:n.centerBack,component:()=>i(()=>import("./MapPrintDialogWidget-m_2Duod9.js"),__vite__mapDeps([45,1,2,3,4,5,6,7,8,9,10,46]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"mapVideoRecorderWidget",label:"Video视频录制",container:n.centerBack,component:()=>i(()=>import("./MapVideoRecorderWidget-naS0V9n0.js"),__vite__mapDeps([47,37,4,2,5,38,1,3,6,7,8,9,10,48]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"SwipeMap",label:"卷帘地图",container:n.centerBack,component:()=>i(()=>import("./SwipeMap-eYD3zScf.js"),__vite__mapDeps([88,36,2,6,37,4,5,38,39,1,3,7,8,9,10,89]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"ClipPolygonLayer",label:"裁切图层",container:n.centerBack,component:()=>i(()=>import("./ClipPolygon-B4X2gjR9.js"),__vite__mapDeps([90,37,4,2,5,38,1,3,6,7,91,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"PolygonZheZhao",label:"遮罩图层",container:n.centerBack,component:()=>i(()=>import("./PolygonZheZhao-Df4z0jF-.js"),__vite__mapDeps([92,37,4,2,5,38,1,3,6,7,91,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"CropMaskExt",label:"ol扩展Mask遮罩图层",container:n.centerBack,component:()=>i(()=>import("./CropMaskExtWidget-CuMrRR85.js"),__vite__mapDeps([93,4,2,5,37,38,1,3,6,7,91,8,9,10,94]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LayerManager",label:"图层管理",container:n.centerBack,component:()=>i(()=>import("./LayerManager-CgjjMnJL.js"),__vite__mapDeps([95,2,8,9,4,5,1,3,6,7,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"InterestPointsLayer",label:"兴趣点图层",container:n.centerBack,component:()=>i(()=>import("./index-C-08rnd2.js"),__vite__mapDeps([96,37,4,2,5,38,36,6,39,8,9,1,3,7,10,97]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LoadWMTSLayer",label:"加载WMTS图层",container:n.centerBack,component:()=>i(()=>import("./LoadWMTS-QtgeZK0U.js"),__vite__mapDeps([98,2,8,9,4,5,1,3,6,7,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LoadMultiWMTS",label:"加载多个WMTS",container:n.centerBack,component:()=>i(()=>import("./LoadMultiWMTS-BOMJsHmY.js"),__vite__mapDeps([99,2,8,9,4,5,1,3,6,7,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"MapBasicTool",label:"基础工具",container:n.centerBack,component:()=>i(()=>import("./MapBasicTool-ItZNop18.js"),__vite__mapDeps([100,2,8,9,4,5,1,3,6,7,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LocationWidget",label:"定位工具",container:n.centerBack,component:()=>i(()=>import("./LocationWidget-BT1VfQh7.js"),__vite__mapDeps([101,4,2,5,36,6,37,38,39,1,3,7,8,9,10,102]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"DrawToolBarWidget",label:"绘制工具",container:n.centerBack,component:()=>i(()=>import("./DrawToolBarWidget-Cmpxi8ys.js"),__vite__mapDeps([44,36,2,6,37,4,5,38,39,1,3,7,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"MeasureToolBarWidget",label:"量算工具",container:n.centerBack,component:()=>i(()=>import("./MeasureToolBarWidget-BGw0x2rf.js"),__vite__mapDeps([43,36,2,6,37,4,5,38,39,1,3,7,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"SwipeToolBar",label:"卷帘工具",container:n.centerBack,component:()=>i(()=>import("./SwipeToolBarWidget-CPkzBsBr.js"),__vite__mapDeps([53,36,2,6,37,4,5,38,39,1,3,7,8,9,10,54]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"GeoimageLayerWidget",label:"GeoImage图层",container:n.centerBack,component:()=>i(()=>import("./GeoimageLayerWidget-BrKzAOOm.js"),__vite__mapDeps([103,1,2,3,4,5,6,7,37,38,8,9,10,104]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"StaticimageLayerWidget",label:"StaticImage转投影图层",container:n.centerBack,component:()=>i(()=>import("./StaticimageLayerWidget-CGvCWT-_.js"),__vite__mapDeps([105,1,2,3,4,5,6,7,37,38,8,9,10,106]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"PerspectiveMapWidget",label:"地图倾斜",container:n.centerBack,component:()=>i(()=>import("./PerspectiveMapWidget-D1u75gfA.js"),__vite__mapDeps([107,4,2,5,37,38,8,9,1,3,6,7,10,108]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"GeojsonDataWidget",label:"加载Geojson数据",container:n.centerBack,component:()=>i(()=>import("./GeojsonDataWidget-DOjQNTRe.js"),__vite__mapDeps([109,37,4,2,5,38,1,3,6,7,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"WMTSImageLayerWidget",label:"加载影像WMTS数据",container:n.centerBack,component:()=>i(()=>import("./WMTSImageLayerWidget-CE2IkaWV.js"),__vite__mapDeps([50,1,2,3,4,5,6,7,10,8,9]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"OGCWMTSLayerWidget",label:"OGC GetCapabilities加载影像WMTS数据",container:n.centerBack,component:()=>i(()=>import("./OGCWMTSLayerWidget-By3qmyrd.js"),__vite__mapDeps([51,36,2,6,37,4,5,38,39,1,3,7,10,8,9]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"WMTSLayerURLWidget",label:"URL加载影像WMTS数据",container:n.centerBack,component:()=>i(()=>import("./WMTSLayerURLWidget-DWXu0Rld.js"),__vite__mapDeps([52,4,2,5,36,6,37,38,39,1,3,7,10,8,9]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"MVTLayerWidget",label:"加载MVT矢量瓦片数据服务",container:n.centerBack,component:()=>i(()=>import("./MVTLayerWidget-q5eC2hir.js"),__vite__mapDeps([58,4,2,5,36,6,37,38,39,1,3,7,10,8,9,59]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"MVTDataWidget",label:"加载展示单张MVT矢量瓦片数据",container:n.centerBack,component:()=>i(()=>import("./MVTDataWidget-C9j6Djv1.js"),__vite__mapDeps([62,1,2,3,4,5,6,7,37,38,8,9,10,63]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"StyleJsonMapWidget",label:"通过StyleJSON地图样式文档加载电子地图",container:n.centerBack,component:()=>i(()=>import("./StyleJsonMapWidget-CNusEobB.js"),__vite__mapDeps([60,4,2,5,36,6,37,38,39,1,3,7,8,9,10,61]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"OGCWMSLayerWidget",label:"OGC URL加载WMS数据",container:n.centerBack,component:()=>i(()=>import("./OGCWMSLayerWidget-cZ2ETwUX.js"),__vite__mapDeps([110,1,2,3,4,5,6,7,10,37,38,8,9]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"building3DWidget",label:"建筑物3D渲染图层",container:n.centerBack,component:()=>i(()=>import("./Building3DWidget-DF-LrOve.js"),__vite__mapDeps([111,37,4,2,5,38,1,3,6,7,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"ShpDataWidget",label:"shp矢量数据加载",container:n.centerBack,component:()=>i(()=>import("./ShpDataWidget-uTWjBFkO.js"),__vite__mapDeps([64,4,2,5,37,38,1,3,6,7,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1}],Nt=[{layoutID:"frontLayoutWidget",id:"FrontXMapWidget",label:"XMapWidget根据MapConfig.json构建地图",container:n.centerBack,component:()=>i(()=>import("./XMapWidget-Do5-OIca.js"),__vite__mapDeps([35,1,2,3,4,5,6,7,36,37,38,39,8,9,10,40]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"FrontMainMapWidget",label:"OL地图组件",container:n.centerBack,component:()=>i(()=>import("./MainMapWidget-CKtq3OcY.js"),__vite__mapDeps([112,1,2,3,4,5,6,7,36,37,38,39,8,9,10,113]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"FrontOLXMapWidget",label:"OLXMap地图组件",container:n.centerBack,component:()=>i(()=>import("./OLXMapWidget-6B3FceX3.js"),__vite__mapDeps([114,1,2,3,4,5,6,7,36,37,38,39,8,9,10,115]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"FrontXMapViewWidget",label:"XMapView地图组件",container:n.centerBack,component:()=>i(()=>import("./XMapViewWidget-DrHcdUu-.js"),__vite__mapDeps([116,4,2,5,10,1,3,6,7,36,37,38,39,117,8,9,118]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"ZoomFullControlWidget",label:"缩放工具栏",container:n.centerBack,component:()=>i(()=>import("./ZoomFullControlWidget-Bz_ESVzB.js"),__vite__mapDeps([119,36,2,6,37,4,5,38,39,1,3,7,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1,layout:{position:"absolute",top:"20px",right:"20px",zIndex:20}},{layoutID:"frontLayoutWidget",id:"MapOverviewWidget",label:"地图缩略图",container:n.centerBack,component:()=>i(()=>import("./MapOverviewWidget-CN6_qlgM.js"),__vite__mapDeps([120,1,2,3,4,5,6,7,37,38,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"targetControlWidget",label:"十字中心",container:n.centerBack,component:()=>i(()=>import("./TargetControlWidget-2C1vp-Te.js"),__vite__mapDeps([121,1,2,3,4,5,6,7,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"distanceLegendWidget",label:"地图比例尺",container:n.centerBack,component:()=>i(()=>import("./DistanceLegendWidget-b-3wbRMq.js"),__vite__mapDeps([122,1,2,3,4,5,6,7,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"BasicLayerManagerWidget",label:"底图管理组件",container:n.centerBack,component:()=>i(()=>import("./BasicLayerManagerWidget-DXCY5d_P.js"),__vite__mapDeps([41,4,2,5,1,3,6,7,36,37,38,39,8,9,10,42]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"PopupTooltipWidget",label:"Popup提示框",container:n.centerBack,component:()=>i(()=>import("./PopupTooltipWidget-kj735PtM.js"),__vite__mapDeps([123,37,4,2,5,38,1,3,6,7,36,39,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LayerSwitchWidget",label:"图层切换",container:n.centerBack,component:()=>i(()=>import("./LayerSwitchWidget-C-xrWvc1.js"),__vite__mapDeps([124,4,2,5,1,3,6,7,8,9,10,125]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"layerControlMenuWidget",label:"图层管理树",container:n.centerBack,component:()=>i(()=>import("./LayerControlMenuWidget-CYwHyHDj.js"),__vite__mapDeps([49,1,2,3,4,5,6,7,36,37,38,39,8,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1}],Ut=[{layoutID:"productLayout",id:"LogoTitleWidget",label:"头部栏",container:n.top,component:()=>i(()=>import("./LogoTitleWidget-BFwMdATx.js"),__vite__mapDeps([126,4,2,5,1,3,6,7,8,9,10,127]),import.meta.url),preload:!0},{layoutID:"productLayout",id:"TopMenuWidget",label:"头部菜单栏",container:n.top,component:()=>i(()=>import("./TopMenuWidget-DQcxja2-.js"),__vite__mapDeps([128,4,2,5,1,3,6,7,10,31,21,8,9,129]),import.meta.url),preload:!0},{layoutID:"productLayout",id:"frontLayoutWidget",label:"前端弹框容器",container:n.centerFront,component:()=>i(()=>import("./FrontLayoutContainerWidget-DilPt8OW.js"),__vite__mapDeps([130,4,2,5,10,1,3,6,7,8,9,131]),import.meta.url),preload:!1},{layoutID:"productLayout",id:"ModalContainerWidget",label:"弹框容器",container:n.top,component:()=>i(()=>import("./ModalContainerWidget-J88Ww97r.js"),__vite__mapDeps([132,4,2,5,1,3,6,7,8,9,10]),import.meta.url),preload:!0}],jt=Object.assign({"./bigScreen-OL.ts":xt,"./bigScreen.ts":Ht,"./examples-OL.ts":$t,"./olwidgets.ts":Nt,"./productLayout.ts":Ut}),k=le(jt,!1);function ue(){return V().DefaultMaxRoleLevel}function z(){const e=s.Config.UI.IsNoLogin?b:je(b,ue());return!s.Config.UI.IsNoLogin&&!s.CorrectRoute&&(e?.forEach(t=>{t.children&&t.children.length>0&&(t.redirect=ae(t.children[0].path,t.path))}),s.CorrectRoute=!0),e}const S=[];function qt(){const e=["portalLayout","bigScreenLayout","productLayout"];return S.length===0&&k.forEach(t=>{const r=t.layoutID;r&&e.indexOf(r)>=0&&S.push(t)}),S}function so(){let e;if(s.Config.UI.IsNoLogin)e=k;else{const t=ue();t===-1?e=qt():e=Ue(k,t)}return s.WidgetConfigList||(s.WidgetConfigList=e),e}const T="USER_SYS_KEY",O=new Z("",sessionStorage),V=D("user",{state:()=>O.get(T)||{},getters:{DefaultMaxRole(e){const t=e.roles?.[0];let r="普通用户";switch(t?.level){case 0:r="超级管理员";break;case 1:r="管理员";break;case 2:r="普通用户";break}return r},DefaultMaxRoleLevel(e){const t=e.roles?.[0];let r=-1;return t&&(r=t.level),r},AdminSystemList(e){const t=[];return e.roles?.forEach(r=>{(r.level===0||r.level===1)&&r.syslist&&r.syslist.forEach(o=>{t.findIndex(l=>l.id===o.id)<0&&t.push(o)})}),t}},actions:{init(e){this.id=e.id,this.name=e.name,this.doubletoken=e.doubletoken,this.roles=e.roles,this.bindid=e.bindid,O.set(T,{id:e.id,name:e.name,roles:e.roles})},getCurrentSystemRole(e){const t=this.roles;if(t){for(const r of t)if(r.syslist?.find(a=>a.id===e))return r}},clear(){this.id=void 0,this.name=void 0,this.doubletoken=void 0,this.roles=void 0,this.bindid=void 0,O.remove(T),Q(),J()}}}),P=De(()=>(te("PiniaStore"),Me()));async function Gt(e,t){const r=e(W);r.use(Re,t);const o=typeof P=="function"?await P({}):P;r.use(o);const a=ve(typeof R=="function"?await R({store:o}):R);return o.use(({store:l})=>{l.router=a}),{app:r,store:o,router:a}}const Xt={config:{},lang:Se,plugins:{Dialog:Te,AppFullscreen:Oe,Loading:Pe,Notify:Ae}};let A=typeof W.preFetch=="function"?W.preFetch:W.__c!==void 0&&typeof W.__c.preFetch=="function"?W.__c.preFetch:!1;function Y(e,t){const r=e?e.matched?e:t.resolve(e).route:t.currentRoute.value;if(!r)return[];const o=r.matched.filter(a=>a.components!==void 0);return o.length===0?[]:Array.prototype.concat.apply([],o.map(a=>Object.keys(a.components).map(l=>{const d=a.components[l];return{path:a.path,c:d}})))}function zt({router:e,store:t,publicPath:r}){e.beforeResolve((o,a,l)=>{const d=window.location.href.replace(window.location.origin,""),u=Y(o,e),p=Y(a,e);let c=!1;const g=u.filter((f,y)=>c||(c=!p[y]||p[y].c!==f.c||f.path.indexOf("/:")>-1)).filter(f=>f.c!==void 0&&(typeof f.c.preFetch=="function"||f.c.__c!==void 0&&typeof f.c.__c.preFetch=="function")).map(f=>f.c.__c!==void 0?f.c.__c.preFetch:f.c.preFetch);if(A!==!1&&(g.unshift(A),A=!1),g.length===0)return l();let _=!1;const h=f=>{_=!0,l(f)},v=()=>{_===!1&&l()};g.reduce((f,y)=>f.then(()=>_===!1&&y({store:t,currentRoute:o,previousRoute:a,redirect:h,urlPath:d,publicPath:r})),Promise.resolve()).then(v).catch(f=>{v()})})}const Yt="/./";async function Kt({app:e,router:t,store:r},o){let a=!1;const l=p=>{try{return t.resolve(p).href}catch{}return Object(p)===p?null:p},d=p=>{if(a=!0,typeof p=="string"&&/^https?:\/\//.test(p)){window.location.href=p;return}const c=l(p);c!==null&&(window.location.href=c,window.location.reload())},u=window.location.href.replace(window.location.origin,"");for(let p=0;a===!1&&p<o.length;p++)try{await o[p]({app:e,router:t,store:r,ssrContext:null,redirect:d,urlPath:u,publicPath:Yt})}catch(c){if(c&&c.url){d(c.url);return}return}a!==!0&&(e.use(t),zt({router:t,store:r}),e.mount("#q-app"))}Gt(Ee,Xt).then(e=>{const[t,r]=Promise.allSettled!==void 0?["allSettled",o=>o.map(a=>{if(a.status!=="rejected")return a.value.default})]:["all",o=>o.map(a=>a.default)];return Promise[t]([i(()=>import("./initXframe-DqIDamUB.js"),__vite__mapDeps([133,8,9,4,2,5,6,1,3,7,10]),import.meta.url),i(()=>import("./directives-8ZZT3_LB.js"),__vite__mapDeps([134,4,2,5,1,3,6,7]),import.meta.url)]).then(o=>{const a=r(o).filter(l=>typeof l=="function");Kt(e,a)})});export{te as E,m as M,C as O,H as W,Ke as _,no as a,so as b,Je as c,ro as d,w as e,ao as f,yt as g,le as h,b as i,At as j,z as k,N as l,lo as m,Et as p,V as u,k as w};
