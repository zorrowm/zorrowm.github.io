import{a5 as P,aq as O,F as Q,T,H as U,G as H}from"./vendor-BjjxFmO4.js";import{d as D,r as l,w as X,S as R,U as a,V as b,O as F,a6 as E,D as W,K as z,c as i,_ as g,a2 as A,C as j,R as G,ab as K}from"./@vue-exp-18LRBxdm.js";import{_ as k,w as J}from"./index-Dxssf89i.js";import{u as Y,b as Z}from"./vue-router-exp-CvNwyAs-.js";import{c as ee,D as I,o as te,e as oe,F as h,q as ne}from"./xframelib-exp-B5TZbF78.js";import{e as ae}from"./monaco-editor-exp-BNK_u0iZ.js";import{F as ie}from"./FullScreen-g-QvofVV.js";import"./ol-exp-BZzGrai6.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-C65O8cJc.js";const se={class:"split-wrapper"},le={class:"left-content"},re={class:"right-content"},de=D({__name:"index",props:{leftWidth:P().def("0px")},setup(L){const y=L,s=l(null);let d,u;X(()=>y.leftWidth,o=>{o&&s.value&&(s.value.style.width=o)});const C=O(function(o){s.value&&(s.value.style.width=u+o.clientX-d+"px")},20),w=()=>{document.documentElement.style.userSelect="unset",document.documentElement.removeEventListener("mousemove",C),document.documentElement.removeEventListener("mouseup",w),ee.dispatchWindowResize()},x=o=>{d=o.clientX,s.value&&(u=parseInt(window.getComputedStyle(s.value).width,10)),document.documentElement.style.userSelect="none",document.documentElement.addEventListener("mousemove",C),document.documentElement.addEventListener("mouseup",w)};return(o,r)=>(F(),R("div",se,[a("div",{ref_key:"scalable",ref:s,class:"scalable"},[a("div",le,[b(o.$slots,"left-content",{},()=>[r[0]||(r[0]=E("右边内容区"))],!0)]),a("div",{ref:"separator",class:"separator",onMousedown:x},r[1]||(r[1]=[a("i",null,null,-1),a("i",null,null,-1)]),544)],512),a("div",re,[b(o.$slots,"right-content",{},()=>[r[2]||(r[2]=E("右边内容区"))],!0)])]))}}),ue=k(de,[["__scopeId","data-v-d3df8b51"]]),ce={class:"frontcontainer"},fe={class:"editorBar row justify-center items-middle"},me={class:"q-mr-md q-gutter-md"},ve={class:"rightBtn q-px-sm"},S="frontLayoutWidget",pe=D({__name:"FrontLayoutContainerWidget",setup(L,{expose:y}){const s=Y(),d=Z(),u=l(),w=l(J),x=l(S);let o;I("","widgetsList.txt").then(e=>{e.data&&(o=te(e.data))});function r(){_.value=!1,m.value=!1,v.value="",h.gui&&(h.gui.destroy(),h.gui=void 0);const e=d.query?.wid;if(e){const t=h.LayoutMap.get(S);t&&(e=="MapViewerWidget"?t.unloadWidget(e.toString()):(t.unloadWidget(e.toString()),setTimeout(()=>{t.unloadWidget("MapViewerWidget")},500)))}s.push({query:void 0})}const _=l(!0);function M(e=!1){_.value=e}y({changeVisible:M,isShow:_});const c=l("0px"),f=l(""),m=l(!1),v=l("");async function V(){if(c.value==="0px"?c.value="40%":c.value="0px",m.value=!m.value,m.value&&!v.value){const e=d.query?.wid?.toString();if(e&&o){const t=o.find(n=>n.layoutID==="frontLayoutWidget"&&n.id===e);if(t){f.value=t.path;const n="./code"+t.path;I(n,void 0,void 0,void 0,"text").then(p=>{v.value=p.data,v.value&&N()}).catch(p=>{})}}}}function $(){c.value="0px",m.value=!1}function q(e){const t=e.lastIndexOf("/")+1;let n=e.substring(t);return n=decodeURI(n.split("?")[0]),n}function B(){if(f.value){const e=q(f.value);ne(h.Axios,"code"+f.value,e)}}function N(){const e=document.getElementById("container");e&&(window.MonacoEnvironment={getWorkerUrl:function(t,n){return""}},ae.create(e,{value:v.value,language:"typescript",lineNumbers:"on",readOnly:!0,readOnlyMessage:{value:"不可以修改哦",supportThemeIcons:!0,supportHtml:!0},automaticLayout:!0,minimap:{enabled:!1},overviewRulerLanes:0,scrollbar:{horizontal:"hidden",handleMouseWheel:!0}}))}return(e,t)=>{const n=G("Icon"),p=K("tooltip");return W((F(),R("div",ce,[i(H,{view:"hHh lpR fFf"},{default:g(()=>[i(Q,null,{default:g(()=>[i(ue,{style:{height:"100vh",width:"100%"},leftWidth:c.value},{"left-content":g(()=>[a("div",{id:"container",ref_key:"containerRef",ref:u,style:{height:"100%",width:"100%"}},[a("div",fe,[a("div",null,A(f.value),1),i(T),a("div",me,[W(i(n,{icon:"ant-design:download-outlined",onClick:B},null,512),[[p,"下载vue文件"]]),i(ie,{target:u.value},null,8,["target"]),W(i(n,{icon:"ant-design:close-circle-outlined",onClick:$},null,512),[[p,"关闭代码页"]])])])],512)]),"right-content":g(()=>[i(j(oe),{widgetConfig:w.value,layoutID:x.value,enableRouterView:!1},{default:g(()=>[a("div",ve,[a("span",{class:"cursor-pointer",title:"关闭",onClick:r,style:{"margin-right":"10px"}},[i(n,{icon:"ant-design:close-circle-outlined",width:"32",style:{color:"white !important"}})]),i(U,{flat:"",onClick:t[0]||(t[0]=ge=>V()),label:"查看代码",dense:"",icon:"menu"})])]),_:1},8,["widgetConfig","layoutID"])]),_:1},8,["leftWidth"])]),_:1})]),_:1})],512)),[[z,_.value]])}}}),Ie=k(pe,[["__scopeId","data-v-de10b10d"]]);export{Ie as default};
