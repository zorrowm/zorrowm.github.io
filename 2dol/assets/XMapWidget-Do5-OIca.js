import{m as M,B as n}from"./xframelib-exp-BL-NWzRk.js";import{a as x,z as y,N as h,U as v,q as L,k as C}from"./xgis-ol-exp-CUkajMJM.js";import{d as T,r as p,a as w,b as k,U as b,V as d,c as r,E as j,L as B,P as I}from"./@vue-exp-Mkau1HGZ.js";import{_ as R}from"./index-Dy2WIICa.js";import"./axios-exp-C7rfqWEd.js";import"./vendor-DLGs6WCJ.js";import"./@iconify/vue-exp-DwwUNauw.js";import"./ol-exp-B7umSeRp.js";import"./monaco-editor-exp-B01XOe8A.js";import"./vue-router-exp-LDq1UUA0.js";const S=T({__name:"XMapWidget",setup(u,{expose:s}){s();const o=p(),e=p(!1),i=[{},{id:"other",label:"更多功能",icon:"ic:round-other-houses"},{id:"test",label:"测试功能",icon:"ic:twotone-10k"}],c=[{},{name:"测试一下",icon:"gis:layer-up",value:"upMove2"},{name:"Test",icon:"gis:layer-down",value:"downMove2"}];function f(l){n.Message.info("点击了菜单："+l.label)}const _=w(()=>h.layerTree);k(async()=>{const a=(await M("","DefaultMapConfig.json").catch(g=>{n.Message.warn("加载地图初始化配置DefaultMapConfig.json失败！"+g.Message)})).data;a.projInfo&&(a.viewOptions.Projection=x.getProjection(a.projInfo));const t=y.initByMapConfig(a);o.value=t,e.value=!!t.LayerManager,n.XMap=t});const m={mapRef:o,hasLayerTree:e,menuList:i,contextMenuList:c,doItemClick:f,isLayerTreeShow:_,get ZoomFullBar(){return v},get ContextMenu(){return L},get LayerTree(){return C}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),N={class:"MainMapWidget"},P={id:"map",class:"mapstyle"},W={class:"layerTreeContainer"};function X(u,s,o,e,i,c){return I(),b("div",N,[d("div",P,[r(e.ZoomFullBar,{xmap:e.mapRef,hasLayerTree:e.hasLayerTree,class:"q-gutter-y-xs xmap-zoombar"},null,8,["xmap","hasLayerTree"]),r(e.ContextMenu,{xmap:e.mapRef,target:"map",moreMenuList:e.menuList,onItemClicked:e.doItemClick},null,8,["xmap"])]),j(d("div",W,[r(e.LayerTree,{xmap:e.mapRef,moreContextMenu:e.contextMenuList},null,8,["xmap"])],512),[[B,e.isLayerTreeShow]])])}const G=R(S,[["render",X],["__scopeId","data-v-439798d8"],["__file","XMapWidget.vue"]]);export{G as default};
