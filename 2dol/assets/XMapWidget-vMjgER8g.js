import{d as v,r as c,a as M,b as _,O as g,S as h,U as p,c as s,C as n,D as x,K as y}from"./@vue-exp-18LRBxdm.js";import{D as C,F as r}from"./xframelib-exp-B5TZbF78.js";import{r as w,A as L,U as T,R as j,M as D}from"./xgis-ol-exp-CshjZaOS.js";import{_ as b}from"./index-Dxssf89i.js";import"./axios-exp-C7rfqWEd.js";import"./vendor-BjjxFmO4.js";import"./ol-exp-BZzGrai6.js";import"./@iconify/vue-exp-C65O8cJc.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./vue-router-exp-CvNwyAs-.js";const k={class:"MainMapWidget"},I={id:"map",class:"mapstyle"},R={class:"layerTreeContainer"},S=v({__name:"XMapWidget",setup(B){const e=c(),i=c(!1),l=[{},{id:"other",label:"更多功能",icon:"ic:round-other-houses"},{id:"test",label:"测试功能",icon:"ic:twotone-10k"}],m=[{},{name:"测试一下",icon:"gis:layer-up",value:"upMove2"},{name:"Test",icon:"gis:layer-down",value:"downMove2"}];function u(o){r.Message.info("点击了菜单："+o.label)}const d=M(()=>e.value&&e.value.mapMenuState.layerTree);return _(async()=>{const a=(await C("","DefaultMapConfig.json").catch(f=>{r.Message.warn("加载地图初始化配置DefaultMapConfig.json失败！"+f.Message)})).data;a.projInfo&&(a.viewOptions.Projection=w.getProjection(a.projInfo));const t=L.initByMapConfig(a);e.value=t,i.value=!!t.LayerManager,r.XMap=t}),(o,a)=>(g(),h("div",k,[p("div",I,[s(n(T),{xmap:e.value,hasLayerTree:i.value,class:"q-gutter-y-xs xmap-zoombar"},null,8,["xmap","hasLayerTree"]),s(n(j),{xmap:e.value,target:"map",moreMenuList:l,onItemClicked:u},null,8,["xmap"])]),x(p("div",R,[s(n(D),{xmap:e.value,moreContextMenu:m},null,8,["xmap"])],512),[[y,d.value]])]))}}),E=b(S,[["__scopeId","data-v-45180523"]]);export{E as default};
