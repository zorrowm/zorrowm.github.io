import{G as m,b as f,a as g,S as d,h as x,i as u}from"./ol-exp-DNVUl0aT.js";import{F as S}from"./xframelib-exp-DUbArU78.js";import{t as b}from"./zhezhaotest-FsVvAOE7.js";import{d as C,b as w,B as y}from"./@vue-exp-DhuHfG86.js";import"./vendor-DEnSXaZk.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-DcFsj1aI.js";const V=C({__name:"ClipPolygon",setup(_){return w(()=>{const o=S.XMap,n=o.map.getLayers().getArray(),s=n[0],c=n[1],p=o.MapView.getProjection();var l=new m().readFeatures(b,{dataProjection:"EPSG:4326",featureProjection:p});const e=new f({style:null,source:new g({features:l})});e.getSource().on("addfeature",function(){s.setExtent(e.getSource().getExtent()),c.setExtent(e.getSource().getExtent())});const i=new d({fill:new x({color:"black"})});s.on("postrender",function(t){const r=u(t);t.context.globalCompositeOperation="destination-in",e.getSource().forEachFeature(function(a){r.drawFeature(a,i)}),t.context.globalCompositeOperation="source-over"}),c.on("postrender",function(t){const r=u(t);t.context.globalCompositeOperation="destination-in",e.getSource().forEachFeature(function(a){r.drawFeature(a,i)}),t.context.globalCompositeOperation="source-over"})}),y(()=>{}),(o,n)=>null}});export{V as default};
