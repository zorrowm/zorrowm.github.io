import{F as r}from"./xframelib-exp-B5TZbF78.js";import{y as d,z as l,A as _,G as g,B as x,K as M,E as v,a as y,b as S}from"./ol-exp-BZzGrai6.js";import{d as V,r as h,b as D,B as E,O as G,S as L,U as f,a2 as P}from"./@vue-exp-18LRBxdm.js";import{_ as T}from"./index-Dxssf89i.js";import"./axios-exp-C7rfqWEd.js";import"./vendor-BjjxFmO4.js";import"./@iconify/vue-exp-C65O8cJc.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./vue-router-exp-CvNwyAs-.js";const B={class:"rightPanel"},I=V({__name:"MVTDataWidget",setup(X){const s=h("");let e;const p=new d({formatConstructors:[l,_,g,x,M,v]}),u=function(a){const t=[];if(r.XMap.map.forEachFeatureAtPixel(a,function(o){t.push(o)}),t.length>0){const o=[];let n,c;for(n=0,c=t.length;n<c;++n){const m=JSON.stringify(t[n].getProperties());m&&o.push(m)}s.value=o.join(", ")||"&nbsp"}else s.value="&nbsp;"};return D(()=>{if(r.XMap){const a=r.XMap;a.map.addInteraction(p),p.on("addfeatures",function(t){const i=new y({features:t.features});e&&a.map.removeLayer(e),e=a.map.addLayer(new S({source:i})),a.map.getView().fit(i.getExtent())}),a.map.on("click",function(t){u(t.pixel)})}}),E(()=>{e&&r.XMap.map.removeLayer(e)}),(a,t)=>(G(),L("div",B,[t[0]||(t[0]=f("h4",null,"拖拽MVT瓦片预览（支持EPSG:4326 或 EPSG:3857的MVT瓦片数据）",-1)),f("span",null,P(s.value),1)]))}}),K=T(I,[["__scopeId","data-v-aaa56dea"]]);export{K as default};
