import{a2 as A,a3 as H,_ as F,a1 as N,a7 as q,K,a8 as P}from"./vendor-DEnSXaZk.js";import{O as D,d as j,M as p,m as z,_ as T}from"./index-9YwdlOdB.js";import{O as Y}from"./urlUtils-CU1zZs0H.js";import{b as G,u as J}from"./vue-router-exp-CLDoDjFh.js";import{y as L,F as E}from"./xframelib-exp-DUbArU78.js";import{d as U,r as b,b as X,B as Z,O as n,S as f,F as v,a5 as x,P as w,_,c as M,D as O,Y as C,a6 as I,a2 as ee,K as te,U as V}from"./@vue-exp-DhuHfG86.js";import"./ol-exp-DNVUl0aT.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-DcFsj1aI.js";const ae={class:"row gt-xs q-ma-auto q-gutter-xs flex-center"},Q=U({__name:"index",props:{data:{},layoutManager:{}},setup(s){const l=s,i=b(l.data),c=G();J();function y(e){if(e.children){let o=!1;if(e.children.forEach(t=>{if(t.selected){o=!0;return}}),o)return" pagemenuActive"}else if(e.selected)return"pagemenuActive";return""}const d=b();function u(e,o){const t=e.label;if(d.value)d.value.label!=t&&(d.value.state=!1),d.value=e,e.state=o;else{d.value=e,e.state=o;return}}let h;function W(e){if(e.path&&e.path)switch(e.type){case p.Route:e.blank?Y(c,e.path,{}):c.push({path:e.path});break;case p.URL:window.open(e.path,"_blank");break;case p.Action:E.EventBus.emit("IWidgetMenu.Action",e);break;case p.Widget:const o=l.layoutManager;h=e,e.selected?(e.selected=!1,e.unload?o.unloadWidget(e.path):o.changeWidgetVisible(e.path,!1)):(e.selected=!0,o.isWidgetLoaded(e.path)?o.changeWidgetVisible(e.path,!0):o.loadWidget(e.path));break}}function S(e){if(e&&e.layoutID===l.layoutManager.getLayoutID()){const t=e.widgetID;if(h&&h.path===t&&!h.selected)return;const $=i.value.length;let a;for(let g=0;g<$;g++){const r=i.value[g];if(r.type===p.Widget){if(r.path===t){a=r;break}else if(r.children){const R=r.children.length;for(let k=0;k<R;k++){const B=r.children[k];if(B.path===t){a=B;break}}}if(a)break}}a&&a.selected&&(a.selected=!1)}}return X(()=>{D(L.WidgetUnLoadedEvent,S)}),Z(()=>{j(L.WidgetUnLoadedEvent,S)}),(e,o)=>(n(),f("div",ae,[(n(!0),f(v,null,x(i.value,(t,$)=>(n(),f(v,{key:t.name},[t.path?(n(),w(K,{key:1,color:"white",flat:"",label:t.name,class:C(t.selected?"pagemenuActive":""),onClick:a=>W(t),onMouseover:a=>u(t,!1)},null,8,["label","class","onClick","onMouseover"])):(n(),w(q,{key:0,"model-value":t.state,"onUpdate:modelValue":a=>t.state=a,color:"white","transition-show":"flip-right","transition-hide":"flip-left",flat:"",label:t.name,class:C(y(t)),onMouseover:a=>u(t,!0)},{default:_(()=>[M(N,{style:{"min-width":"100px"},onMouseover:a=>u(t,!0),onMouseleave:a=>u(t,!1)},{default:_(()=>[(n(!0),f(v,null,x(t.children,(a,g)=>(n(),f(v,{key:a.name},[O((n(),w(A,{clickable:"",class:C(y(a)),onClick:r=>W(a)},{default:_(()=>[M(H,null,{default:_(()=>[I(ee(a.name),1)]),_:2},1024)]),_:2},1032,["class","onClick"])),[[P]]),M(F)],64))),128))]),_:2},1032,["onMouseover","onMouseleave"])]),_:2},1032,["model-value","onUpdate:modelValue","label","class","onMouseover"]))],64))),128))]))}}),m="bottomMenuWidget",oe=U({name:m,components:{BottomMainMenu:Q},props:{},setup(){const s=b(E.LayoutMap.get("bigScreenLayout")),l=b(!0);function i(c){c.name===m&&(l.value=c.visible)}return D(L.WidgetVisibleChanged,i),{isVisible:l,menuSetting:z,dpLayoutManager:s}}}),ne={ref:"footerMenu",class:"footer"},se={class:"layoutfooter"},le={class:"menuContainer"};function re(s,l,i,c,y,d){const u=Q;return O((n(),f("div",ne,[V("div",se,[V("div",le,[M(u,{data:s.menuSetting,layoutManager:s.dpLayoutManager},null,8,["data","layoutManager"])])])],512)),[[te,s.isVisible]])}const Me=T(oe,[["render",re],["__scopeId","data-v-8b21ede0"]]);export{Me as default};
