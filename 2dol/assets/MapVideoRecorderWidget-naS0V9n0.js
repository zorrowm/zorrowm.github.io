import{o as u}from"./ol-exp-B7umSeRp.js";import{B as a,V as n}from"./xframelib-exp-BL-NWzRk.js";import{d as v,b as _,D as f,U as C,V as r,P as g}from"./@vue-exp-Mkau1HGZ.js";import{_ as V}from"./index-Dy2WIICa.js";import"./vendor-DLGs6WCJ.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-DwwUNauw.js";import"./monaco-editor-exp-B01XOe8A.js";import"./vue-router-exp-LDq1UUA0.js";const B=v({__name:"MapVideoRecorderWidget",setup(l,{expose:t}){t();let e;_(()=>{const o=a.XMap;o.MapView.getProjection(),e=new u,e&&o.map.addControl(e),e.on("stop",function(c){const s=document.querySelector("video");s.src=c.videoURL;const m=document.getElementById("video");n.addClass(m,"visible");const p=document.getElementById("map");n.removeClass(p,"recording")}),e.on("start",function(c){const s=document.getElementById("map");n.addClass(s,"recording")}),e.on("error",console.log)});function i(){const o=document.getElementById("video");n.removeClass(o,"visible")}f(()=>{if(a.XMap){const o=a.XMap;e&&o.map.removeControl(e)}});const d={get videoControl(){return e},set videoControl(o){e=o},closeVideo:i};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}});function M(l,t,e,i,d,o){return g(),C("div",null,[r("div",{id:"video"},[r("div",null,[t[0]||(t[0]=r("video",{controls:""},null,-1)),r("span",{onClick:i.closeVideo},"âœ–")])])])}const S=V(B,[["render",M],["__file","MapVideoRecorderWidget.vue"]]);export{S as default};
