import{$ as F,a0 as h}from"./vendor-DLGs6WCJ.js";import{G as y,a as g,b as S}from"./ol-exp-B7umSeRp.js";import{B as l}from"./xframelib-exp-BL-NWzRk.js";import{d as E,r as j,D as x,U as D,c as w,P as V}from"./@vue-exp-Mkau1HGZ.js";import{_ as B}from"./index-Dy2WIICa.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-DwwUNauw.js";import"./monaco-editor-exp-B01XOe8A.js";import"./vue-router-exp-LDq1UUA0.js";const L=E({__name:"ShpDataWidget",setup(p,{expose:r}){r();const a=j(null);let e;function n(t){if(Array.isArray(t)&&t.length===1){const i=t[0];if(i.name.endsWith(".zip")){const s=new FileReader;s.readAsArrayBuffer(i),s.onload=function(){var f=this.result;const u=l.XMap,c=u.MapView.getProjection();F(f).then(function(d){const m=new y().readFeatures(d,{dataProjection:"EPSG:4326",featureProjection:c}),_=new g({features:m});e=new S({source:_}),e&&u.map.addLayer(e)})}}}}x(()=>{e&&l.XMap.map.removeLayer(e)});const o={files:a,get geojsonLayer(){return e},set geojsonLayer(t){e=t},seletFilesHandle:n};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),P={class:"row flex-center"};function A(p,r,a,e,n,o){return V(),D("div",P,[w(h,{modelValue:e.files,"onUpdate:modelValue":[r[0]||(r[0]=t=>e.files=t),e.seletFilesHandle],label:`上传文件（或拖拽文件）ShapeFile的zip压缩包\r
      中文属性存在乱码问题\r
      `,filled:"",multiple:"",style:{width:"400px"},"input-style":"height:150px"},null,8,["modelValue"])])}const N=B(L,[["render",A],["__file","ShpDataWidget.vue"]]);export{N as default};
