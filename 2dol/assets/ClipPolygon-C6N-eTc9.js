import{G as d,b as y,V as C,d as F,e as S,g as _,F as b,f as w,L,M as E}from"./ol-exp-DuIEpEAh.js";import{B as O}from"./xframelib-exp-Dokv845S.js";import{t as v}from"./zhezhaotest-DjReuYCD.js";import{d as M,y as P,z as h}from"./@vue-exp-CxZKVZL7.js";import{_ as G}from"./index-3mXAM2d5.js";import"./vendor-Cm8vbQLD.js";import"./@hprose-exp-DksTqdcd.js";import"./axios-exp-B_zfNCMU.js";import"./@iconify/vue-exp-CNvCUaPp.js";import"./vue-router-exp-BoJcrdOF.js";const R=M({__name:"ClipPolygon",setup(x,{expose:m}){m();let s;function g(){var o=new d().readFeatures(v),a=o[0],r=c(a.getGeometry()),n=new b({geometry:r});s&&s.getSource().addFeature(n)}function c(o){var a=[-180,-90,180,90],r=w(a);let n=!1;o instanceof E&&(n=!0);var p=o.getCoordinates();return p.forEach(t=>{let i=t[0];n||(i=t);const e=new L(i);r.appendLinearRing(e)}),r}P(()=>{const a=O.XMap.map.getLayers().getArray(),r=a[0],n=a[1];var p=new d().readFeatures(v);const t=new y({style:null,source:new C({features:p})});t.getSource().on("addfeature",function(){r.setExtent(t.getSource().getExtent()),n.setExtent(t.getSource().getExtent())});const i=new F({fill:new S({color:"black"})});r.on("postrender",function(e){const l=_(e);e.context.globalCompositeOperation="destination-in",t.getSource().forEachFeature(function(f){l.drawFeature(f,i)}),e.context.globalCompositeOperation="source-over"}),n.on("postrender",function(e){const l=_(e);e.context.globalCompositeOperation="destination-in",t.getSource().forEachFeature(function(f){l.drawFeature(f,i)}),e.context.globalCompositeOperation="source-over"})}),h(()=>{});const u={get converLayer(){return s},set converLayer(o){s=o},loadJson:g,erase:c};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}});function V(x,m,s,g,c,u){return null}const q=G(R,[["render",V],["__file","ClipPolygon.vue"]]);export{q as default};
