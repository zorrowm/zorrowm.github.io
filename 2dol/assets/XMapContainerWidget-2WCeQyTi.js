import{b as m,_ as u}from"./index-9YwdlOdB.js";import{g as M,F as o,e as y}from"./xframelib-exp-DUbArU78.js";import{r as _,A as C}from"./xgis-ol-exp-B_x7d6gL.js";import{d as v,r as t,b as W,w as I,O as w,S as L,U as h,c as D,C as j}from"./@vue-exp-DhuHfG86.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./vendor-DEnSXaZk.js";import"./ol-exp-DNVUl0aT.js";import"./vue-router-exp-CLDoDjFh.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-DcFsj1aI.js";const x={class:"MainMapContainerWidget"},R={id:"map",class:"mapstyle"},T=v({__name:"XMapContainerWidget",setup(B){const r=t(),g=t(!1),f=m(),d=t(f),n=t("mapLayout");function p(){const i=n.value,a=o.LayoutMap.get(i);a?a.loadWidget("MapproxyWidget"):setTimeout(()=>{p()},100)}return W(async()=>{const a=(await M("DefaultMapConfig.json").catch(e=>{o.Message.warn("加载地图初始化配置DefaultMapConfig.json失败！"+e.Message)})).data;a.projInfo&&(a.viewOptions.Projection=_.getProjection(a.projInfo));const s=C.initByMapConfig(a);r.value=s,o.XMap=s,p(),g.value=!!s.LayerManager,I(()=>r.value?.mapMenuState.layerTree,e=>{const l=n.value,c=o.LayoutMap.get(l);e!=null&&(e?c?.loadWidget("mapLayerTreeWidget"):c?.unloadWidget("mapLayerTreeWidget"))})}),(i,a)=>(w(),L("div",x,[h("div",R,[D(j(y),{widgetConfig:d.value,layoutID:n.value},null,8,["widgetConfig","layoutID"])])]))}}),E=u(T,[["__scopeId","data-v-6b1a4a69"]]);export{E as default};
