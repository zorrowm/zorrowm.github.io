import{a0 as _,a1 as h,a2 as v,a3 as f,I as x,K as L}from"./vendor-DEnSXaZk.js";import{F as w}from"./xframelib-exp-DUbArU78.js";import{d as O,r as S,a as b,b as k,O as y,S as p,c as i,_ as d,F as V,a5 as I,X as M,a6 as C,a2 as Q,R as j}from"./@vue-exp-DhuHfG86.js";import{_ as B}from"./index-9YwdlOdB.js";import"./ol-exp-DNVUl0aT.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-DcFsj1aI.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./vue-router-exp-CLDoDjFh.js";const F={class:"LayerSwitch"},E=O({__name:"LayerSwitchWidget",setup(N){const m=[{name:"影像",layers:["img_w","cia_w"],image:"img/img.jpg",isOnly:!0},{name:"矢量",layers:["vec_w","cva_w"],image:"img/vec.jpg",isOnly:!0},{name:"地形",layers:["ter_w","cta_w"],image:"img/ter.jpg",isOnly:!0},{name:"OSM",layers:["osm"],image:"img/osm.png",isOnly:!1}],n=S(["矢量"]);function u(e){return n.value.indexOf(e.name)>=0?"border: 1px solid #f00":""}b(()=>u);function g(e){const t=w.XMap;if(t)if(e.isOnly)m.forEach(l=>{if(l.isOnly===e.isOnly)if(l.name!=e.name){const a=n.value.indexOf(l.name);if(a>=0){n.value.splice(a,1);const r=l.layers.length;for(let s=0;s<r;s++){const o=l.layers[s],c=t.LayerManager.getLayer(o);c&&c.getVisible()&&c.setVisible(!1)}}}else{const a=n.value.indexOf(e.name);a>=0?n.value.splice(a,1):n.value.push(e.name);const r=e.layers.length;for(let s=0;s<r;s++){const o=e.layers[s],c=t.LayerManager.getLayer(o);c?c.setVisible(!c.getVisible()):t.addOnlineLayer(o)}}});else{const l=n.value.indexOf(e.name);l>=0?n.value.splice(l,1):n.value.push(e.name);const a=e.layers.length;for(let r=0;r<a;r++){const s=e.layers[r],o=t.LayerManager.getLayer(s);o?o.setVisible(!o.getVisible()):t.addOnlineLayer(s)}}}return k(()=>{}),(e,t)=>{const l=j("Icon");return y(),p("div",F,[i(L,{round:"",color:"secondary"},{default:d(()=>[i(l,{icon:"ion:layers",color:"#fff"}),i(_,{cover:"",anchor:"center left",style:{"min-height":"80px",overflow:"hidden"}},{default:d(()=>[i(h,{class:"row no-wrap",style:{"min-height":"80px",overflow:"hidden"}},{default:d(()=>[(y(),p(V,null,I(m,(a,r)=>i(v,{key:a.name,clickable:"",class:"column items-center",style:M(n.value.indexOf(a.name)>=0?"border: 1px solid #f00":""),onClick:s=>g(a)},{default:d(()=>[i(f,{style:{width:"70px",height:"100%"}},{default:d(()=>[i(x,{src:a.image},null,8,["src"])]),_:2},1024),i(f,null,{default:d(()=>[C(Q(a.name),1)]),_:2},1024)]),_:2},1032,["style","onClick"])),64))]),_:1})]),_:1})]),_:1})])}}}),A=B(E,[["__scopeId","data-v-c79a58b0"]]);export{A as default};
