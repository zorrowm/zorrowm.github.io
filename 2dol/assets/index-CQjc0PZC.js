const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-C33P7j3o.js","./xframelib-exp-Dmuc0LeW.js","./@vue-exp-DTehQd6t.js","./axios-exp-B_zfNCMU.js","./vendor-h8ZYNSbd.js","./@hprose-exp-CjxVQ5zB.js","./vendor-BOfeNwJc.css","./@iconify/vue-exp-Ct1khs4G.js","./xframelib-exp-DEz_MDSr.css","./monaco-editor-exp-B01XOe8A.js","./monaco-editor-exp-B7uS4J0T.css","./vue-router-exp-B0kidEOa.js","./index-X9CojdPu.css","./testView-COciIuQ5.js","./testView-CC2Ayt0M.css","./index-CfnYO7CZ.js","./index-Cul4oFtg.css","./help-7n8BbC6K.js","./md-editor-v3-exp-CZahtCsT.js","./md-editor-v3-exp-l5tLToum.css","./help-r80FPUh8.css","./index-BWn5EHOD.js","./layoutTool-BmMbKTZr.js","./index-D6VMgkCX.css","./productLayout-DAgQF9XT.js","./productLayout-CxL_lju8.css","./404-Cn-77o39.js","./404-BgEe9KI_.css","./index-BY9AXTut.js","./index-WEr_Mx9I.js","./index-DeZSDr-h.js","./index-Bqqz900F.js","./urlUtils-CsDZbjaj.js","./index-BDH1Pu0Q.css","./OneLoginPortal-DlLk2kBu.js","./OneLoginPortal-DYd93NbP.css","./XMapWidget-BnQ__fbG.js","./xgis-ol-exp-B8mY6ifK.js","./ol-exp-DFAlSNM7.js","./ol-exp-CB3xFKxh.css","./xgis-ol-exp-DBVW4iRy.css","./XMapWidget-DEB7k_JU.css","./BasicLayerManagerWidget-CmxLoy8X.js","./WidgetsEvent-e0lOKT5_.js","./BasicLayerManagerWidget-BNqKao2W.css","./HeaderTitleWidget-NLo_vyLg.js","./HeaderTitleWidget-BTCv8Nqz.css","./BottomMenuWidget-C_4yRBXg.js","./BottomMenuWidget-CY6LmxE6.css","./StatusWidget-D0qEaXJD.js","./StatusWidget-CCVmjuh1.css","./MenuBarWidget-CyPCxEFq.js","./index-Cdz-qBx5.js","./index-CXUXtD_t.css","./MenuBarWidget-BMsKQenf.css","./linkMenuWidget-DYazBtza.js","./WidgetUtils-BOATXQ23.js","./linkMenuWidget-CTSzCAPP.css","./templateMenuWidget-CS-6MoYQ.js","./templateMenuWidget-CnPoQf3P.css","./flyMenuWidget-DJxASwjy.js","./flyMenuWidget-CGACCzNq.css","./weatherMenuWidget-CRCSmQUV.js","./weatherMenuWidget-4eWBVCoA.css","./BaiduMapWidget-CsOP4Dem.js","./BaiduMapWidget-fLFfw6_c.css","./index-CXXdO6IM.js","./index-COvghPAU.css","./StartMapInitWidget-CQe4UQ9N.js","./StartMapInitWidget-8W79llC_.css","./ClipInteractionWidget-_9TJyPCC.js","./ClipInteractionWidget-CI6LmFUt.css","./FisheyeMap-B4v91h-B.js","./FisheyeMap-C9NadhjZ.css","./ContextMenuWidget-CPMZ6hL5.js","./SwipeMap-CZE56Z1j.js","./SwipeMap-BSY-pUzH.css","./ClipPolygon-B7Js5hoK.js","./zhezhaotest-DjReuYCD.js","./PolygonZheZhao-DDCuYqul.js","./CropMaskExtWidget-BRdNmOTz.js","./CropMaskExtWidget-Cpl5ywBt.css","./LayerManager-noj6_00-.js","./index-BKUX2543.js","./index-B9rRjv6J.css","./LoadWMTS-nJJVweCB.js","./LoadMultiWMTS-UUYkg7y8.js","./MapBasicTool-DwmFYSee.js","./LocationWidget-POB5B7xH.js","./LocationWidget-BBLmXdC0.css","./DrawToolBarWidget-B8L3sP-a.js","./MeasureToolBarWidget-B7PjD79Y.js","./SwipeToolBarWidget-H03gJ3HF.js","./SwipeToolBarWidget-C15nbi1t.css","./GeoimageLayerWidget-Css03qnH.js","./GeoimageLayerWidget-D6JaZu-6.css","./StaticimageLayerWidget-DbU5OS2d.js","./StaticimageLayerWidget-D8r_b4ut.css","./PerspectiveMapWidget-hLB2IOf1.js","./PerspectiveMapWidget-jDWjmid3.css","./GeojsonDataWidget-B2omwGlo.js","./WMTSImageLayerWidget-BQC3yylb.js","./OGCWMTSLayerWidget-waifWqGY.js","./WMTSLayerURLWidget-CStY9lvh.js","./MVTLayerWidget-DGZF88sF.js","./MVTLayerWidget-B-FjXBYW.css","./MVTDataWidget-A0HKMKWM.js","./MVTDataWidget-DmJM6cq9.css","./StyleJsonMapWidget-2DcFqhAg.js","./StyleJsonMapWidget-CUssadZ6.css","./MainMapWidget-q8IuJBa3.js","./MainMapWidget-DoAv-oTK.css","./OLXMapWidget-Bfg7BW29.js","./OLXMapWidget-CTui2EcG.css","./XMapViewWidget-eUIo_6Q4.js","./SystemsEvent-DUQCZw_Q.js","./XMapViewWidget-BUEFymOT.css","./ZoomFullControlWidget-myibMq9x.js","./MapOverviewWidget-BgABpMxc.js","./TargetControlWidget-lC_wJb6b.js","./DistanceLegendWidget-CfF2uGYY.js","./PopupTooltipWidget-COUWmq-B.js","./LayerSwitchWidget-DZku5tML.js","./LayerSwitchWidget-BeS12ws0.css","./LayerControlMenuWidget-BRyTZ6JJ.js","./LogoTitleWidget-DVNhodGD.js","./LogoTitleWidget-0pPzeAwU.css","./TopMenuWidget-B3m26QJb.js","./TopMenuWidget-ZY-NlMIP.css","./FrontLayoutContainerWidget-BuZsK7gX.js","./FrontLayoutContainerWidget-CT70Rd0U.css","./ModalContainerWidget-BPzAhBjV.js","./initXframe-DixjYSek.js","./directives-CzoHxguE.js"])))=>i.map(i=>d[i]);
import{_ as n}from"./monaco-editor-exp-B01XOe8A.js";import{d as le,R as ce,b as de,D as ue,X as pe,Y as me,_ as fe,n as ge,m as _e,f as he}from"./@vue-exp-DTehQd6t.js";import{f as b,h as ye,t as L,i as Le,j as ve,n as We,Q as Ee,o as Ie,D as Re,p as be,q as De,N as Me}from"./vendor-h8ZYNSbd.js";import{B as c,Z as Se,s as w,Q as Oe,h as G,l as Ae,w as X,D as Te,j as Pe,L as ke,r as Ve,M as we,A as Y,a as z,b as Be,c as s,d as Ce,$ as Fe}from"./xframelib-exp-Dmuc0LeW.js";import{i as xe,c as $e,a as He}from"./vue-router-exp-B0kidEOa.js";import"./@hprose-exp-CjxVQ5zB.js";import"./axios-exp-B_zfNCMU.js";import"./@iconify/vue-exp-Ct1khs4G.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const K={SatusMessage:"statusmessage",LoadingMessage:"loadingMessage"};function Ne(e,t){c.EventBus.on(e,t)}function Ue(e,t){c.EventBus.off(e,t)}function oo(e,t){c.EventBus.emit(e,t)}function je(e){c.EventBus.emit(K.SatusMessage,e)}function io(e){c.EventBus.on(K.SatusMessage,e)}let B=!1;function Q(e="end"){if(e==="end")setTimeout(()=>{document.getElementById("apploading")?.remove()},300),B=!0;else if(e)if(B){const t=`加载Widget：${e}……`;je(t)}else{const t=document.getElementById("app-loading-info");t&&(t.innerHTML=`正在加载：${e}……`)}}function qe(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.head.appendChild(t)}const Ge=le({name:"App",setup(){function e(t){if(!t.isExceptionInfo){const r=`${t.message}
$${t.result}`;c.Message.warn(r)}c.Logger().warn(t,"请求错误")}ce(()=>{c.Loading("App.vue"),c.Config.Enables&&c.Config.Enables.TurfAsync&&qe("./js/turf-async/index.js")}),de(()=>{Se(),Ne(w.AxiosRequestErrorEvent,e)}),ue(()=>{Oe(),Ue(w.AxiosRequestErrorEvent,e)})}}),Xe=(e,t)=>{const r=e.__vccOpts||e;for(const[o,i]of t)r[o]=i;return r};function Ye(e,t,r,o,i,a){const l=fe("router-view");return pe(),me(l)}const v=Xe(Ge,[["render",Ye],["__file","App.vue"]]);var Z=(e=>(e.SIDEBAR="sidebar",e.MIX_SIDEBAR="mix-sidebar",e.MIX="mix",e.TOP_MENU="top-menu",e))(Z||{}),J=(e=>(e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.VERTICAL_RIGHT="vertical-right",e.INLINE="inline",e))(J||{}),f=(e=>(e[e.Widget=0]="Widget",e[e.Route=1]="Route",e[e.URL=2]="URL",e[e.Action=3]="Action",e))(f||{});const ze={leftDrawerOpen:!0,reloadFlag:!0,showTabMenu:!0,TabMenuHeight:30,showBreadCrumbs:!0,leftCollapsed:!1,overlayMenu:!1,layoutContentHeight:700,layoutContentWidth:600,showSettingButton:!0,openKeepAlive:!0,useErrorHandle:!1,showLogo:!0,showFooter:!0,footerHeight:20,headerSetting:{fixed:!0,show:!0,height:64,centerTitle:!0,showFullScreen:!0,showCollapseIcon:!0,showNotice:!0},menuSetting:{collapsed:!1,minWidth:48,menuWidth:250,accordion:!0,mode:J.HORIZONTAL,type:Z.SIDEBAR}},E="PROJ_SETTINGS_KEY",I=new X("",sessionStorage),C={...ze},Ke=b("app",{state:()=>{I?.remove(E);const t=I.get(E)||C,r=t.headerSetting?.height??64,i=t.showFooter?t.footerHeight:0;t.layoutContentHeight=document.body.clientHeight-i-r,t.leftCollapsed=t.menuSetting?.collapsed;let a=0;return t.leftCollapsed?a=t.menuSetting?.minWidth:a=t.menuSetting?.menuWidth??250,t.layoutContentWidth=document.body.clientWidth-a,t},getters:{layoutHeaderHeight(e){return e.headerSetting.height??64},layoutFooterHeight(e){return e.showFooter?e.footerHeight:0},layoutSiderWidth(e){return!e.menuSetting||!e.menuSetting.show?0:e.menuSetting.collapsed?e.menuSetting.minWidth:e.menuSetting.menuWidth??250}},actions:{async reloadPage(e=0){this.reloadFlag=!1,await ge(),e?setTimeout(()=>{this.reloadFlag=!0},e):this.reloadFlag=!0},getCacheStore(){let e=I.get(E);return e||(e=C),e},saveCacheStore(){I.set(E,this.$state)},clear(){I?.remove(E)},setProjectConfig(e){e&&(Ae(this.$state,e),this.saveCacheStore())},setMenuSetting(e){this.setProjectConfig({menuSetting:e})},toggleCollapse(){this.leftCollapsed=!this.leftCollapsed,this.menuSetting.collapsed=this.leftCollapsed,this.layoutContentWidth=document.body.clientWidth-this.layoutSiderWidth,this.saveCacheStore();const e=new Event("resize");window.dispatchEvent(e)},resizeHandler(){this.layoutContentWidth=document.body.clientWidth-this.layoutSiderWidth,this.layoutContentHeight=document.body.clientHeight-this.layoutFooterHeight-this.layoutHeaderHeight,this.saveCacheStore()}}});function Qe(){Ke().resizeHandler()}G.windowResizeHandler(Qe);const Ze=b("asyncRoute",{state:()=>({menus:[],keepAliveComponents:[]}),getters:{},actions:{setRoutes(e){this.menus=e}}});function Je(e){for(const t in e)return e[t]}const et=b("breadCrumbs",{state:()=>({breadcrumbs:[]}),getters:{getBreadCrumbs(e){return e.breadcrumbs}},actions:{setBreadcurmbs(e,t){const r=[];for(let i=0;i<e.length;i++){const a={title:e[i].meta.title,name:e[i].name,fullPath:e[i].path,icon:e[i].meta.icon,keepAlive:e[i].meta.keepAlive};r.push(a)}const o=r.length-1;Object.keys(t).length&&(r[o].title+="："+Je(t)),this.breadcrumbs=r}}}),tt={path:"/bigscreen",name:"bigscreen",component:()=>n(()=>import("./index-C33P7j3o.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]),import.meta.url),meta:{title:"",keepAlive:!0},children:[{path:"/bigscreen/test",name:"test",meta:{title:"routes.home",icon:"icon-Home-Filled"},component:()=>n(()=>import("./testView-COciIuQ5.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,10,11,14]),import.meta.url)}]},ot="GIS-OpenLayers",it="0.0.1",rt="2024-11-06,基于Openlayers开发的二维GIS平台系统",nt="GIS-OpenLayers",at="zorrowm <zorrowm@126.com>",st="module",lt={lint:"eslint --fix --ext .ts,.vue ./",format:'prettier --write "**/*.{ts,vue,scss,html,md,json}" --ignore-path .gitignore',dev:"cross-env DEBUG=vite:deps VITE_CJS_IGNORE_WARNING=true  quasar dev",build:"quasar build","build:pwa":"quasar build -m pwa",clean:"quasar clean && rimraf components.d.ts package-lock.json pnpm-lock.yaml && rimraf node_modules/.q-cache"},ct={"@microsoft/signalr":"^8.0.7","@quasar/extras":"^1.16.12","@vueuse/core":"^11.2.0",comlink:"^4.4.1",dexie:"^4.0.9",echarts:"^5.5.1","floating-vue":"5.2.2","lodash-es":"^4.17.21","md-editor-v3":"^5.0.2","monaco-editor":"^0.52.0",nprogress:"1.0.0-1",ol:"^10.2.1","ol-ext":"^4.0.24",pinia:"^2.2.6",quasar:"^2.17.1",vue:"^3.5.12","vue-router":"^4.4.5","vue-types":"^5.1.3",xframelib:"^0.8.3","xgis-ol":"^0.3.6"},dt={"@iconify/vue":"^4.1.2","@quasar/app-vite":"2.0.0-beta.24","@rollup/plugin-alias":"^5.1.1","@types/node":"^22.9.0","@types/nprogress":"^0.2.3","@typescript-eslint/eslint-plugin":"^8.13.0","@typescript-eslint/parser":"^8.13.0","@vue-macros/volar":"^0.30.5","@vue/compiler-sfc":"^3.5.12",autoprefixer:"^10.4.20","cross-env":"^7.0.3",dotenv:"^16.4.5",eslint:"^9.14.0","eslint-config-prettier":"^9.1.0","eslint-plugin-simple-import-sort":"^12.1.1","eslint-plugin-vue":"^9.30.0",prettier:"^3.3.3",prismjs:"^1.29.0",rimraf:"^6.0.1","rollup-plugin-copy":"^3.5.0","rollup-plugin-visualizer":"^5.12.0",sass:"^1.80.6",typescript:"^5.6.3","unplugin-vue-components":"^0.27.4","unplugin-vue-define-options":"^1.5.2","vite-plugin-checker":"^0.8.0","vite-plugin-fs":"^1.1.0","vite-plugin-vue-inspector":"^5.2.0","vite-plugin-webworker-service":"^1.1.0","vite-tsconfig-paths":"^5.1.0"},ut={node:"^24 || ^22 || ^20 || ^18",npm:">= 6.13.4",yarn:">= 1.21.1"},pt={name:ot,version:it,description:rt,productName:nt,author:at,type:st,private:!0,scripts:lt,dependencies:ct,devDependencies:dt,engines:ut},{name:mt,version:ft}=pt,ee={pkg:{name:mt,version:ft},lastBuildTime:ye.formatDate("YYYY-MM-DD HH:mm:ss")};function gt(){const{pkg:e}=ee,t=`${e.name}_${e.version}`;return G.MD5(t)}function ro(){const{pkg:e}=ee;return e}function te(e,t="/"){if(e)return e.startsWith("/")?e.startsWith(t)?e:`${t}${e}`:t==="/"?`${t}${e}`:`${t}/${e}`}function F(e,t){e.getRoutes().find(i=>i.path==="/")||e.addRoute({name:"/",path:"/",redirect:t.path})}function oe(e){const t=[];let r=[];return Object.keys(e).forEach(o=>{const i=e[o];i&&r.push(...i)}),r=r.sort((o,i)=>{let a=0,l=0;return o.meta&&(o.meta.index!=null?a=Number(o.meta.index):a=100),i.meta&&(i.meta.index!=null?l=Number(i.meta.index):l=100),a-l}),t.push(...r),r.length=0,t}function ie(e,t=!1){const r=[];let o=[];return Object.keys(e).forEach(i=>{const a=e[i];a&&o.push(...a)}),t&&(o=o.sort((i,a)=>{let l=0,u=0;return i.index!=null&&(l=Number(i.index)),a.index!=null&&(u=Number(a.index)),l-u})),r.push(...o),o.length=0,r}const _t=[{path:"apiexamples",name:"apiexamples",component:()=>n(()=>import("./index-CfnYO7CZ.js"),__vite__mapDeps([15,9,10,4,5,2,6,1,3,7,8,11,16]),import.meta.url),meta:{index:4,title:"查询-api示例",hidden:!0,isSystem:!0}},{path:"mdhelp",name:"mdhelp",component:()=>n(()=>import("./help-7n8BbC6K.js"),__vite__mapDeps([17,4,5,2,6,11,18,19,1,3,7,8,9,10,20]),import.meta.url),meta:{index:5,title:"帮助文档"}}],ht=[{path:"index",name:"index",component:()=>n(()=>import("./index-BWn5EHOD.js"),__vite__mapDeps([21,9,10,2,1,3,4,5,6,7,8,22,11,23]),import.meta.url),meta:{index:1,title:"首页",hidden:!0,isSystem:!0}}],yt=Object.assign({"./apiexample.ts":_t,"./home.ts":ht}),x=oe(yt),$="/",Lt={path:$,name:"Product",component:()=>n(()=>import("./productLayout-DAgQF9XT.js"),__vite__mapDeps([24,4,5,2,6,1,3,7,8,9,10,11,25]),import.meta.url),redirect:te(x[0]?.path,$),meta:{title:"",hidden:!0,isSystem:!0,keepAlive:!0},children:x},H="error",vt={path:"/:pathMatch(.*)*",name:"NotFound",meta:{index:99,title:"不存在",hidden:!0,isSystem:!0}},Wt={path:"/error",name:H,redirect:"/error/404",meta:{index:80,title:"错误页",hidden:!0,isSystem:!0},children:[{path:"404",name:`${H}-404`,meta:{title:"404",hidden:!0,isSystem:!0},component:()=>n(()=>import("./404-Cn-77o39.js"),__vite__mapDeps([26,4,5,2,6,1,3,7,8,9,10,11,27]),import.meta.url)}]},Et=[vt,Wt],It={path:"/help/:name",name:"help",meta:{title:"相关内部系统功能",isSystem:!0},component:()=>n(()=>import("./index-BY9AXTut.js"),__vite__mapDeps([28,11,2,1,3,4,5,6,7,8,9,10]),import.meta.url)},Rt=[It],bt=[{path:"/redirect/:path*",name:"Redirect",component:{},meta:{index:70,title:"重定向",icon:"SettingOutlined",hidden:!0,isSystem:!0},children:[{path:"",name:"Redirect2",component:()=>n(()=>import("./index-WEr_Mx9I.js"),__vite__mapDeps([29,11,2,9,10,4,5,6,1,3,7,8]),import.meta.url),meta:{title:"重定向",hidden:!0,keepAlive:!1}}]}],Dt=[{path:"/login",name:"login",meta:{index:10,title:"系统登录",isSystem:!0},component:()=>n(()=>import("./index-DeZSDr-h.js"),__vite__mapDeps([30,4,5,2,6,1,3,7,8,11,9,10]),import.meta.url)},{path:"/onelogin",name:"onelogin",meta:{index:11,title:"统一登录",isSystem:!0},component:()=>n(()=>import("./index-Bqqz900F.js"),__vite__mapDeps([31,4,5,2,6,1,3,7,8,32,11,9,10,33]),import.meta.url)},{path:"/onelogin-portal",name:"onelogin-portal",meta:{index:12,title:"统一验证导航页",isSystem:!0},component:()=>n(()=>import("./OneLoginPortal-DlLk2kBu.js"),__vite__mapDeps([34,4,5,2,6,11,1,3,7,8,9,10,35]),import.meta.url)}],Mt=Object.assign({"./error.ts":Et,"./help.ts":Rt,"./redirect.ts":bt,"./shared.ts":Dt}),St=oe(Mt);async function Ot(e){const t=await Te(e).catch(r=>{c.Message.warn(`token验证失败:${r.message}!`)});return t?(V().init(t.data),Pe(t.data.doubletoken),!0):!1}L.configure({showSpinner:!1});const D="/login",At="/";function Tt(e){const t=c.Config.UI?.SiteTitle;return e?`${e} - ${t}`:`${t}`}function N(e){return e==="NotFound"?!1:re(ae,e)}function re(e,t){let r=!1;const o=e.length;for(let i=0;i<o;i++){const a=e[i];if(r=a.name==t,r)break;if(a.children&&(r=re(a.children,t),r))break}return r}function ne(e,t,r=""){let o=!1;const i=e.length;for(let a=0;a<i;a++){const l=e[a];let u=l.path;if(u.startsWith("/")||(u=`${r}/${u}`),o=u==t,o)break;if(t.startsWith(u)&&l.children&&(o=ne(l.children,t,u),o))break}return o}function Pt(e){let t="";const r=et();e.beforeEach((o,i,a)=>{L.start();const l=o.name;t=o.path;const u=V();if(l==="NotFound"&&!ne(R,t)){a({path:"/error",query:{url:o.path}});return}if(ke()){const d=Ve();if(!c.User&&u.id&&(we(),l==="NotFound"&&d&&d.routes&&d.routes.length>0)){const g=j();if(g){c.User=u.id;let _;g.forEach(h=>{_||(_=h),e.addRoute(h)}),_&&F(e,_),o.name=void 0,a(o)}return}if(l==="login")a({path:At}),L.done();else{const g=e.hasRoute(l);(N(l)||g)&&(!d&&l==="NotFound"?(Y(),z(),a({path:D,query:{redirect:o.fullPath},replace:!0})):(a(),r.setBreadcurmbs(o.matched,o.query)),L.done())}}else{const d=o.query?.tk?.toString();if(d)Ot(d).then(g=>{if(g){const _=gt(),h=u.DefaultMaxRoleLevel===0;Be(_,h).then(()=>{const W=j();if(W){let m;if(W.forEach(y=>{m||(m=y),e.addRoute(y)}),m&&F(e,m),o.query.redirect){const y=o.query.redirect;y.startsWith("http")?window.open(y,"_self"):a({path:y})}else a({path:o.path});return}}).catch(()=>{c.Message.warn("获取用户功能权限失败！"),a()})}else{c.Logger().debug("验证外部的tk参数失败！");const _=c.Config.ServiceURL.UILoginURL;if(_){const h=document.URL;window.open(_+"?redirect="+h,"_self")}else{let h=o.fullPath;o.query.redirect&&(h=o.query.redirect),a({path:D,query:{redirect:h},replace:!0})}L.done()}});else if(N(l))a(),r.setBreadcurmbs(o.matched,o.query);else{const g=c.Config.ServiceURL.UILoginURL;if(g){const _=document.URL;window.open(g+"?redirect="+_,"_self")}else a({path:D,query:{redirect:o.fullPath},replace:!0});L.done()}}}),e.afterEach((o,i,a)=>{const l=Ze();document.title=Tt(o.meta.title),xe(a)&&c.Logger().debug("failed navigation",a);const u=l.keepAliveComponents,p=o.matched.find(d=>d.name==o.name)?.components?.default.name;if(p&&!u?.includes(p)&&o.meta?.keepAlive)u.push(p);else if(!o.meta?.keepAlive||o.name=="Redirect"){const d=l.keepAliveComponents.findIndex(g=>g==p);d!=-1&&u?.splice(d,1)}L.done()}),e.onError(o=>{c.Message.err("加载视图错误:"+o.message),c.Logger().debug(o,"路由错误"),e.push("/error/404")})}Q("Router路由");const R=[],U=[Lt,tt,...St],ae=c.Config.UI.IsNoLogin?[...R,...U]:U,M=Le(function(){const t=$e({scrollBehavior:()=>({left:0,top:0}),routes:ae,history:He("/./")});return c.Config.UI?.IsNoLogin||Pt(t),t}),kt=[{name:"图层树",index:2,icon:"vaadin:file-tree",path:"layerManagerWidget",type:f.Widget},{name:"专题地图",index:3,icon:"gis:map-route",path:"layerManagerWidget",type:f.Widget},{name:"在线地图服务",index:4,icon:"gis:map-play",path:"BasicLayerManagerWidget",type:f.Widget,unload:!0},{name:"天气-测试",index:5,path:"weatherMenuWidget",type:f.Widget,children:[{name:"雨",icon:"bi:cloud-rain-fill",path:"rainWidget",type:f.Widget,unload:!0},{name:"雪",icon:"bi:cloud-snow-fill",path:"snowWidget",type:f.Widget,unload:!0},{name:"雾",icon:"bi:cloud-fog-fill",path:"fog1Widget",type:f.Widget,unload:!0},{name:"云",icon:"bi:cloud-fill",path:"cloudWidget",type:f.Widget,unload:!0},{name:"风",icon:"ph:wind-fill",path:"windyWidget",type:f.Widget},{name:"太阳",icon:"bi:sun-fill",path:"sunWidget",type:f.Widget},{name:"大气",icon:"icon-atmosphere",path:"atmosphereWidget",type:f.Widget}]}],Vt=[{name:"地图工具",index:1,icon:"gis:globe-gear",path:"linkMenuWidget",type:f.Widget,unload:!0,children:[{name:"测量工具",icon:"gis:measure",path:"flyMenuWidget",type:f.Widget,children:[{name:"test1",path:"flyRoamingWidget1",type:f.Widget,unload:!0},{name:"test2",path:"SimulationWidget2",type:f.Widget,unload:!0}]},{name:"量算工具",icon:"gis:measure",path:"measureToolWidget",type:f.Widget,unload:!0},{name:"标绘工具",path:"drawToolWidget",icon:"material-symbols:draw-outline",type:f.Widget,unload:!0},{name:"态势标绘",path:"plotMapWidget",icon:"clarity:scatter-plot-outline-alerted",type:f.Widget,unload:!0},{name:"截图/视频",path:"photoVideoWidget",icon:"ph:file-video-thin",type:f.Widget,unload:!0}]}],wt=Object.assign({"./mapother.ts":kt,"./maptoolbar.ts":Vt}),no=ie(wt,!0),Bt=[{layoutID:"bigScreenLayout",id:"XMapWidget",label:"OL地图组件",container:s.centerBack,component:()=>n(()=>import("./XMapWidget-BnQ__fbG.js"),__vite__mapDeps([36,1,2,3,4,5,6,7,8,37,38,39,40,9,10,11,41]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"BasicLayerManagerWidget",label:"底图管理组件",container:s.centerBack,component:()=>n(()=>import("./BasicLayerManagerWidget-CmxLoy8X.js"),__vite__mapDeps([42,4,5,2,6,1,3,7,8,37,38,39,40,43,9,10,11,44]),import.meta.url),afterid:"XMapWidget",preload:!1}],Ct=[{layoutID:"bigScreenLayout",id:"headerTitleWidget",label:"头部栏",container:s.top,component:()=>n(()=>import("./HeaderTitleWidget-NLo_vyLg.js"),__vite__mapDeps([45,4,5,2,6,1,3,7,8,9,10,11,46]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"bottomMenuWidget",container:s.bottom,component:()=>n(()=>import("./BottomMenuWidget-C_4yRBXg.js"),__vite__mapDeps([47,4,5,2,6,32,1,3,7,8,11,9,10,48]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"statusWidget",container:s.bottom,component:()=>n(()=>import("./StatusWidget-D0qEaXJD.js"),__vite__mapDeps([49,1,2,3,4,5,6,7,8,9,10,11,50]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"menuBarWidget",container:s.centerBack,afterid:"cesiumWidget",component:()=>n(()=>import("./MenuBarWidget-CyPCxEFq.js"),__vite__mapDeps([51,52,2,1,3,4,5,6,7,8,11,53,9,10,54]),import.meta.url),preload:!0},{layoutID:"bigScreenLayout",id:"linkMenuWidget",container:s.centerBack,component:()=>n(()=>import("./linkMenuWidget-DYazBtza.js"),__vite__mapDeps([55,52,2,1,3,4,5,6,7,8,11,53,56,9,10,57]),import.meta.url),preload:!1},{layoutID:"bigScreenLayout",id:"templateMenuWidget",container:s.centerBack,component:()=>n(()=>import("./templateMenuWidget-CS-6MoYQ.js"),__vite__mapDeps([58,52,2,1,3,4,5,6,7,8,11,53,56,9,10,59]),import.meta.url),preload:!1},{layoutID:"bigScreenLayout",id:"flyMenuWidget",container:s.centerBack,component:()=>n(()=>import("./flyMenuWidget-DJxASwjy.js"),__vite__mapDeps([60,52,2,1,3,4,5,6,7,8,11,53,56,9,10,61]),import.meta.url),preload:!1},{layoutID:"bigScreenLayout",id:"weatherMenuWidget",container:s.centerBack,afterid:"cesiumWidget",component:()=>n(()=>import("./weatherMenuWidget-CRCSmQUV.js"),__vite__mapDeps([62,52,2,1,3,4,5,6,7,8,11,53,56,9,10,63]),import.meta.url),preload:!1}],Ft=[{layoutID:"frontLayoutWidget",id:"BaiduMapWidget",label:"百度地图初始化",container:s.centerBack,component:()=>n(()=>import("./BaiduMapWidget-CsOP4Dem.js"),__vite__mapDeps([64,37,2,7,38,4,5,6,39,40,9,10,1,3,8,11,65]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"MultiMapWidget",label:"多屏地图",container:s.centerBack,component:()=>n(()=>import("./index-CXXdO6IM.js"),__vite__mapDeps([66,1,2,3,4,5,6,7,8,38,39,37,40,9,10,11,67]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"StartMapInitWidget",label:"最简单的地图初始化",container:s.centerBack,component:()=>n(()=>import("./StartMapInitWidget-CQe4UQ9N.js"),__vite__mapDeps([68,37,2,7,38,4,5,6,39,40,9,10,1,3,8,11,69]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"ClipInteractionWidget",label:"鱼眼实现ol-ext",container:s.centerBack,component:()=>n(()=>import("./ClipInteractionWidget-_9TJyPCC.js"),__vite__mapDeps([70,4,5,2,6,38,39,1,3,7,8,9,10,11,71]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"FisheyeMap",label:"鱼眼地图",container:s.centerBack,component:()=>n(()=>import("./FisheyeMap-B4v91h-B.js"),__vite__mapDeps([72,37,2,7,38,4,5,6,39,40,1,3,8,9,10,11,73]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"contextmenuWidget",label:"右键菜单",container:s.centerBack,component:()=>n(()=>import("./ContextMenuWidget-CPMZ6hL5.js"),__vite__mapDeps([74,1,2,3,4,5,6,7,8,37,38,39,40,9,10,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"SwipeMap",label:"卷帘地图",container:s.centerBack,component:()=>n(()=>import("./SwipeMap-CZE56Z1j.js"),__vite__mapDeps([75,37,2,7,38,4,5,6,39,40,1,3,8,9,10,11,76]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"ClipPolygonLayer",label:"裁切图层",container:s.centerBack,component:()=>n(()=>import("./ClipPolygon-B7Js5hoK.js"),__vite__mapDeps([77,38,4,5,2,6,39,1,3,7,8,78,9,10,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"PolygonZheZhao",label:"遮罩图层",container:s.centerBack,component:()=>n(()=>import("./PolygonZheZhao-DDCuYqul.js"),__vite__mapDeps([79,38,4,5,2,6,39,1,3,7,8,78,9,10,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"CropMaskExt",label:"ol扩展Mask遮罩图层",container:s.centerBack,component:()=>n(()=>import("./CropMaskExtWidget-BRdNmOTz.js"),__vite__mapDeps([80,4,5,2,6,38,39,1,3,7,8,78,9,10,11,81]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LayerManager",label:"图层管理",container:s.centerBack,component:()=>n(()=>import("./LayerManager-noj6_00-.js"),__vite__mapDeps([82,2,9,10,4,5,6,1,3,7,8,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"InterestPointsLayer",label:"兴趣点图层",container:s.centerBack,component:()=>n(()=>import("./index-BKUX2543.js"),__vite__mapDeps([83,38,4,5,2,6,39,37,7,40,9,10,1,3,8,11,84]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LoadWMTSLayer",label:"加载WMTS图层",container:s.centerBack,component:()=>n(()=>import("./LoadWMTS-nJJVweCB.js"),__vite__mapDeps([85,2,9,10,4,5,6,1,3,7,8,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LoadMultiWMTS",label:"加载多个WMTS",container:s.centerBack,component:()=>n(()=>import("./LoadMultiWMTS-UUYkg7y8.js"),__vite__mapDeps([86,2,9,10,4,5,6,1,3,7,8,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"MapBasicTool",label:"基础工具",container:s.centerBack,component:()=>n(()=>import("./MapBasicTool-DwmFYSee.js"),__vite__mapDeps([87,2,9,10,4,5,6,1,3,7,8,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LocationWidget",label:"定位工具",container:s.centerBack,component:()=>n(()=>import("./LocationWidget-POB5B7xH.js"),__vite__mapDeps([88,4,5,2,6,37,7,38,39,40,1,3,8,9,10,11,89]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"DrawToolBarWidget",label:"绘制工具",container:s.centerBack,component:()=>n(()=>import("./DrawToolBarWidget-B8L3sP-a.js"),__vite__mapDeps([90,37,2,7,38,4,5,6,39,40,1,3,8,9,10,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"MeasureToolBarWidget",label:"量算工具",container:s.centerBack,component:()=>n(()=>import("./MeasureToolBarWidget-B7PjD79Y.js"),__vite__mapDeps([91,37,2,7,38,4,5,6,39,40,1,3,8,9,10,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"SwipeToolBar",label:"卷帘工具",container:s.centerBack,component:()=>n(()=>import("./SwipeToolBarWidget-H03gJ3HF.js"),__vite__mapDeps([92,37,2,7,38,4,5,6,39,40,1,3,8,9,10,11,93]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"GeoimageLayerWidget",label:"GeoImage图层",container:s.centerBack,component:()=>n(()=>import("./GeoimageLayerWidget-Css03qnH.js"),__vite__mapDeps([94,1,2,3,4,5,6,7,8,38,39,9,10,11,95]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"StaticimageLayerWidget",label:"StaticImage转投影图层",container:s.centerBack,component:()=>n(()=>import("./StaticimageLayerWidget-DbU5OS2d.js"),__vite__mapDeps([96,1,2,3,4,5,6,7,8,38,39,9,10,11,97]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"PerspectiveMapWidget",label:"地图倾斜",container:s.centerBack,component:()=>n(()=>import("./PerspectiveMapWidget-hLB2IOf1.js"),__vite__mapDeps([98,4,5,2,6,38,39,9,10,1,3,7,8,11,99]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"GeojsonDataWidget",label:"加载Geojson数据",container:s.centerBack,component:()=>n(()=>import("./GeojsonDataWidget-B2omwGlo.js"),__vite__mapDeps([100,38,4,5,2,6,39,1,3,7,8,9,10,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"WMTSImageLayerWidget",label:"加载影像WMTS数据",container:s.centerBack,component:()=>n(()=>import("./WMTSImageLayerWidget-BQC3yylb.js"),__vite__mapDeps([101,1,2,3,4,5,6,7,8,11,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"OGCWMTSLayerWidget",label:"OGC GetCapabilities加载影像WMTS数据",container:s.centerBack,component:()=>n(()=>import("./OGCWMTSLayerWidget-waifWqGY.js"),__vite__mapDeps([102,1,2,3,4,5,6,7,8,11,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"WMTSLayerURLWidget",label:"URL加载影像WMTS数据",container:s.centerBack,component:()=>n(()=>import("./WMTSLayerURLWidget-CStY9lvh.js"),__vite__mapDeps([103,4,5,2,6,37,7,38,39,40,1,3,8,11,9,10]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"MVTLayerWidget",label:"加载MVT矢量瓦片数据服务",container:s.centerBack,component:()=>n(()=>import("./MVTLayerWidget-DGZF88sF.js"),__vite__mapDeps([104,4,5,2,6,37,7,38,39,40,1,3,8,11,9,10,105]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"MVTDataWidget",label:"加载展示单张MVT矢量瓦片数据",container:s.centerBack,component:()=>n(()=>import("./MVTDataWidget-A0HKMKWM.js"),__vite__mapDeps([106,1,2,3,4,5,6,7,8,38,39,9,10,11,107]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"StyleJsonMapWidget",label:"通过StyleJSON地图样式文档加载电子地图",container:s.centerBack,component:()=>n(()=>import("./StyleJsonMapWidget-2DcFqhAg.js"),__vite__mapDeps([108,4,5,2,6,37,7,38,39,40,1,3,8,9,10,11,109]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1}],xt=[{layoutID:"frontLayoutWidget",id:"FrontXMapWidget",label:"XMapWidget根据MapConfig.json构建地图",container:s.centerBack,component:()=>n(()=>import("./XMapWidget-BnQ__fbG.js"),__vite__mapDeps([36,1,2,3,4,5,6,7,8,37,38,39,40,9,10,11,41]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"FrontMainMapWidget",label:"OL地图组件",container:s.centerBack,component:()=>n(()=>import("./MainMapWidget-q8IuJBa3.js"),__vite__mapDeps([110,1,2,3,4,5,6,7,8,37,38,39,40,9,10,11,111]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"FrontOLXMapWidget",label:"OLXMap地图组件",container:s.centerBack,component:()=>n(()=>import("./OLXMapWidget-Bfg7BW29.js"),__vite__mapDeps([112,1,2,3,4,5,6,7,8,37,38,39,40,9,10,11,113]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"FrontXMapViewWidget",label:"XMapView地图组件",container:s.centerBack,component:()=>n(()=>import("./XMapViewWidget-eUIo_6Q4.js"),__vite__mapDeps([114,4,5,2,6,11,1,3,7,8,37,38,39,40,115,9,10,116]),import.meta.url),preload:!1},{layoutID:"frontLayoutWidget",id:"ZoomFullControlWidget",label:"缩放工具栏",container:s.centerBack,component:()=>n(()=>import("./ZoomFullControlWidget-myibMq9x.js"),__vite__mapDeps([117,37,2,7,38,4,5,6,39,40,1,3,8,9,10,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1,layout:{position:"absolute",top:"20px",right:"20px",zIndex:20}},{layoutID:"frontLayoutWidget",id:"MapOverviewWidget",label:"地图缩略图",container:s.centerBack,component:()=>n(()=>import("./MapOverviewWidget-BgABpMxc.js"),__vite__mapDeps([118,1,2,3,4,5,6,7,8,38,39,9,10,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"targetControlWidget",label:"十字中心",container:s.centerBack,component:()=>n(()=>import("./TargetControlWidget-lC_wJb6b.js"),__vite__mapDeps([119,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"distanceLegendWidget",label:"地图比例尺",container:s.centerBack,component:()=>n(()=>import("./DistanceLegendWidget-CfF2uGYY.js"),__vite__mapDeps([120,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"BasicLayerManagerWidget",label:"底图管理组件",container:s.centerBack,component:()=>n(()=>import("./BasicLayerManagerWidget-CmxLoy8X.js"),__vite__mapDeps([42,4,5,2,6,1,3,7,8,37,38,39,40,43,9,10,11,44]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"PopupTooltipWidget",label:"Popup提示框",container:s.centerBack,component:()=>n(()=>import("./PopupTooltipWidget-COUWmq-B.js"),__vite__mapDeps([121,38,4,5,2,6,39,1,3,7,8,37,40,9,10,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"LayerSwitchWidget",label:"图层切换",container:s.centerBack,component:()=>n(()=>import("./LayerSwitchWidget-DZku5tML.js"),__vite__mapDeps([122,4,5,2,6,9,10,1,3,7,8,11,123]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1},{layoutID:"frontLayoutWidget",id:"layerControlMenuWidget",label:"图层管理树",container:s.centerBack,component:()=>n(()=>import("./LayerControlMenuWidget-BRyTZ6JJ.js"),__vite__mapDeps([124,2,9,10,4,5,6,1,3,7,8,11]),import.meta.url),afterid:"FrontMainMapWidget",preload:!1}],$t=[{layoutID:"productLayout",id:"LogoTitleWidget",label:"头部栏",container:s.top,component:()=>n(()=>import("./LogoTitleWidget-DVNhodGD.js"),__vite__mapDeps([125,4,5,2,6,1,3,7,8,9,10,11,126]),import.meta.url),preload:!0},{layoutID:"productLayout",id:"TopMenuWidget",label:"头部菜单栏",container:s.top,component:()=>n(()=>import("./TopMenuWidget-B3m26QJb.js"),__vite__mapDeps([127,4,5,2,6,1,3,7,8,11,32,22,43,9,10,128]),import.meta.url),preload:!0},{layoutID:"productLayout",id:"frontLayoutWidget",label:"前端弹框容器",container:s.centerFront,component:()=>n(()=>import("./FrontLayoutContainerWidget-BuZsK7gX.js"),__vite__mapDeps([129,4,5,2,6,11,1,3,7,8,9,10,130]),import.meta.url),preload:!1},{layoutID:"productLayout",id:"ModalContainerWidget",label:"弹框容器",container:s.top,component:()=>n(()=>import("./ModalContainerWidget-BPzAhBjV.js"),__vite__mapDeps([131,4,5,2,6,43,1,3,7,8,9,10,11]),import.meta.url),preload:!0}],Ht=Object.assign({"./bigScreen-OL.ts":Bt,"./bigScreen.ts":Ct,"./examples-OL.ts":Ft,"./olwidgets.ts":xt,"./productLayout.ts":$t}),k=ie(Ht,!1);function se(){return V().DefaultMaxRoleLevel}function j(){const e=c.Config.UI.IsNoLogin?R:Fe(R,se());return!c.Config.UI.IsNoLogin&&!c.CorrectRoute&&(e?.forEach(t=>{t.children&&t.children.length>0&&(t.redirect=te(t.children[0].path,t.path))}),c.CorrectRoute=!0),e}const S=[];function Nt(){const e=["portalLayout","bigScreenLayout","productLayout"];return S.length===0&&k.forEach(t=>{const r=t.layoutID;r&&e.indexOf(r)>=0&&S.push(t)}),S}function ao(){let e;if(c.Config.UI.IsNoLogin)e=k;else{const t=se();t===-1?e=Nt():e=Ce(k,t)}return c.WidgetConfigList||(c.WidgetConfigList=e),e}const O="USER_SYS_KEY",A=new X("",sessionStorage),V=b("user",{state:()=>A.get(O)||{},getters:{DefaultMaxRole(e){const t=e.roles?.[0];let r="普通用户";switch(t?.level){case 0:r="超级管理员";break;case 1:r="管理员";break;case 2:r="普通用户";break}return r},DefaultMaxRoleLevel(e){const t=e.roles?.[0];let r=-1;return t&&(r=t.level),r},AdminSystemList(e){const t=[];return e.roles?.forEach(r=>{(r.level===0||r.level===1)&&r.syslist&&r.syslist.forEach(o=>{t.findIndex(a=>a.id===o.id)<0&&t.push(o)})}),t}},actions:{init(e){this.id=e.id,this.name=e.name,this.doubletoken=e.doubletoken,this.roles=e.roles,this.bindid=e.bindid,A.set(O,{id:e.id,name:e.name,roles:e.roles})},getCurrentSystemRole(e){const t=this.roles;if(t){for(const r of t)if(r.syslist?.find(i=>i.id===e))return r}},clear(){this.id=void 0,this.name=void 0,this.doubletoken=void 0,this.roles=void 0,this.bindid=void 0,A.remove(O),Y(),z()}}}),T=ve(()=>(Q("PiniaStore"),We()));async function Ut(e,t){const r=e(v);r.use(Ee,t);const o=typeof T=="function"?await T({}):T;r.use(o);const i=_e(typeof M=="function"?await M({store:o}):M);return o.use(({store:a})=>{a.router=i}),{app:r,store:o,router:i}}const jt={config:{},lang:Ie,plugins:{Dialog:Re,AppFullscreen:be,Loading:De,Notify:Me}};let P=typeof v.preFetch=="function"?v.preFetch:v.__c!==void 0&&typeof v.__c.preFetch=="function"?v.__c.preFetch:!1;function q(e,t){const r=e?e.matched?e:t.resolve(e).route:t.currentRoute.value;if(!r)return[];const o=r.matched.filter(i=>i.components!==void 0);return o.length===0?[]:Array.prototype.concat.apply([],o.map(i=>Object.keys(i.components).map(a=>{const l=i.components[a];return{path:i.path,c:l}})))}function qt({router:e,store:t,publicPath:r}){e.beforeResolve((o,i,a)=>{const l=window.location.href.replace(window.location.origin,""),u=q(o,e),p=q(i,e);let d=!1;const g=u.filter((m,y)=>d||(d=!p[y]||p[y].c!==m.c||m.path.indexOf("/:")>-1)).filter(m=>m.c!==void 0&&(typeof m.c.preFetch=="function"||m.c.__c!==void 0&&typeof m.c.__c.preFetch=="function")).map(m=>m.c.__c!==void 0?m.c.__c.preFetch:m.c.preFetch);if(P!==!1&&(g.unshift(P),P=!1),g.length===0)return a();let _=!1;const h=m=>{_=!0,a(m)},W=()=>{_===!1&&a()};g.reduce((m,y)=>m.then(()=>_===!1&&y({store:t,currentRoute:o,previousRoute:i,redirect:h,urlPath:l,publicPath:r})),Promise.resolve()).then(W).catch(m=>{W()})})}const Gt="/./";async function Xt({app:e,router:t,store:r},o){let i=!1;const a=p=>{try{return t.resolve(p).href}catch{}return Object(p)===p?null:p},l=p=>{if(i=!0,typeof p=="string"&&/^https?:\/\//.test(p)){window.location.href=p;return}const d=a(p);d!==null&&(window.location.href=d,window.location.reload())},u=window.location.href.replace(window.location.origin,"");for(let p=0;i===!1&&p<o.length;p++)try{await o[p]({app:e,router:t,store:r,ssrContext:null,redirect:l,urlPath:u,publicPath:Gt})}catch(d){if(d&&d.url){l(d.url);return}return}i!==!0&&(e.use(t),qt({router:t,store:r}),e.mount("#q-app"))}Ut(he,jt).then(e=>{const[t,r]=Promise.allSettled!==void 0?["allSettled",o=>o.map(i=>{if(i.status!=="rejected")return i.value.default})]:["all",o=>o.map(i=>i.default)];return Promise[t]([n(()=>import("./initXframe-DixjYSek.js"),__vite__mapDeps([132,9,10,4,5,2,6,7,1,3,8,11]),import.meta.url),n(()=>import("./directives-CzoHxguE.js"),__vite__mapDeps([133,4,5,2,6,1,3,7,8]),import.meta.url)]).then(o=>{const i=r(o).filter(a=>typeof a=="function");Xt(e,i)})});export{Q as E,f as M,Ne as O,Xe as _,ro as a,ao as b,Ke as c,oo as d,io as e,Ue as f,gt as g,ie as h,R as i,Ot as j,j as k,F as l,no as m,Lt as p,V as u,k as w};
