import{ao as q,ap as X,aq as z,F as A,a4 as H,K,G as j}from"./vendor-DEnSXaZk.js";import{d as b,r,w as G,S as M,U as a,V as E,O as k,a6 as F,a as J,R as V,ab as B,D as W,P as $,K as Y,c as s,_ as y,a2 as Z,C as ee}from"./@vue-exp-DhuHfG86.js";import{_ as x,w as te}from"./index-9YwdlOdB.js";import{b as oe,u as ne}from"./vue-router-exp-CLDoDjFh.js";import{c as L,D,o as le,e as ie,F as C,q as ae}from"./xframelib-exp-DUbArU78.js";import{e as se}from"./monaco-editor-exp-BNK_u0iZ.js";import"./ol-exp-DNVUl0aT.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-DcFsj1aI.js";const re={class:"split-wrapper"},ue={class:"left-content"},ce={class:"right-content"},de=b({__name:"index",props:{leftWidth:q().def("0px")},setup(i){const f=i,t=r(null);let c,m;G(()=>f.leftWidth,n=>{n&&t.value&&(t.value.style.width=n)});const I=X(function(n){t.value&&(t.value.style.width=m+n.clientX-c+"px")},20),d=()=>{document.documentElement.style.userSelect="unset",document.documentElement.removeEventListener("mousemove",I),document.documentElement.removeEventListener("mouseup",d),L.dispatchWindowResize()},v=n=>{c=n.clientX,t.value&&(m=parseInt(window.getComputedStyle(t.value).width,10)),document.documentElement.style.userSelect="none",document.documentElement.addEventListener("mousemove",I),document.documentElement.addEventListener("mouseup",d)};return(n,u)=>(k(),M("div",re,[a("div",{ref_key:"scalable",ref:t,class:"scalable"},[a("div",ue,[E(n.$slots,"left-content",{},()=>[u[0]||(u[0]=F("右边内容区"))],!0)]),a("div",{ref:"separator",class:"separator",onMousedown:v},u[1]||(u[1]=[a("i",null,null,-1),a("i",null,null,-1)]),544)],512),a("div",ce,[E(n.$slots,"right-content",{},()=>[u[2]||(u[2]=F("右边内容区"))],!0)])]))}}),fe=x(de,[["__scopeId","data-v-d3df8b51"]]),me=b({name:"FullScreen",props:{target:z(),color:q()},setup(i){function f(){t.value?(L.exitFullScreen(),t.value=!1):(L.requestFullScreen(i.target),t.value=!0)}const t=r(!1);return{getTitle:J(()=>t.value?"退出全屏":"全屏"),isFullscreen:t,toggle:f}}});function ve(i,f,t,c,m,I){const d=V("Icon"),v=B("tooltip");return i.isFullscreen?W((k(),$(d,{key:1,icon:"ant-design:fullscreen-exit-outlined",color:i.color,onClick:i.toggle},null,8,["color","onClick"])),[[v,i.getTitle,void 0,{right:!0}]]):W((k(),$(d,{key:0,icon:"ant-design:fullscreen-outlined",color:i.color,onClick:i.toggle},null,8,["color","onClick"])),[[v,i.getTitle,void 0,{right:!0}]])}const pe=x(me,[["render",ve],["__scopeId","data-v-c8c965ee"]]),ge={class:"frontcontainer"},he={class:"editorBar row justify-center items-middle"},we={class:"q-mr-md q-gutter-md"},_e={class:"rightBtn q-px-sm"},R="frontLayoutWidget",ye=b({__name:"FrontLayoutContainerWidget",setup(i,{expose:f}){const t=oe(),c=ne(),m=r(),d=r(te),v=r(R);let n;D("","widgetsList.txt").then(e=>{e.data&&(n=le(e.data))});function u(){S.value=!1,h.value=!1,w.value="",C.gui&&(C.gui.destroy(),C.gui=void 0);const e=c.query?.wid;if(e){const o=C.LayoutMap.get(R);o&&(e=="MapViewerWidget"?o.unloadWidget(e.toString()):(o.unloadWidget(e.toString()),setTimeout(()=>{o.unloadWidget("MapViewerWidget")},500)))}t.push({query:void 0})}const S=r(!0);function N(e=!1){S.value=e}f({changeVisible:N,isShow:S});const p=r("0px"),g=r(""),h=r(!1),w=r("");async function P(){if(p.value==="0px"?p.value="40%":p.value="0px",h.value=!h.value,h.value&&!w.value){const e=c.query?.wid?.toString();if(e&&n){const o=n.find(l=>l.layoutID==="frontLayoutWidget"&&l.id===e);if(o){g.value=o.path;const l="./code"+o.path;D(l,void 0,void 0,void 0,"text").then(_=>{w.value=_.data,w.value&&U()}).catch(_=>{})}}}}function T(){p.value="0px",h.value=!1}function O(e){const o=e.lastIndexOf("/")+1;let l=e.substring(o);return l=decodeURI(l.split("?")[0]),l}function Q(){if(g.value){const e=O(g.value);ae(C.Axios,"code"+g.value,e)}}function U(){const e=document.getElementById("container");e&&(window.MonacoEnvironment={getWorkerUrl:function(o,l){return""}},se.create(e,{value:w.value,language:"typescript",lineNumbers:"on",readOnly:!0,readOnlyMessage:{value:"不可以修改哦",supportThemeIcons:!0,supportHtml:!0},automaticLayout:!0,minimap:{enabled:!1},overviewRulerLanes:0,scrollbar:{horizontal:"hidden",handleMouseWheel:!0}}))}return(e,o)=>{const l=V("Icon"),_=B("tooltip");return W((k(),M("div",ge,[s(j,{view:"hHh lpR fFf"},{default:y(()=>[s(A,null,{default:y(()=>[s(fe,{style:{height:"100vh",width:"100%"},leftWidth:p.value},{"left-content":y(()=>[a("div",{id:"container",ref_key:"containerRef",ref:m,style:{height:"100%",width:"100%"}},[a("div",he,[a("div",null,Z(g.value),1),s(H),a("div",we,[W(s(l,{icon:"ant-design:download-outlined",onClick:Q},null,512),[[_,"下载vue文件"]]),s(pe,{target:m.value},null,8,["target"]),W(s(l,{icon:"ant-design:close-circle-outlined",onClick:T},null,512),[[_,"关闭代码页"]])])])],512)]),"right-content":y(()=>[s(ee(ie),{widgetConfig:d.value,layoutID:v.value,enableRouterView:!1},{default:y(()=>[a("div",_e,[a("span",{class:"cursor-pointer",title:"关闭",onClick:u,style:{"margin-right":"10px"}},[s(l,{icon:"ant-design:close-circle-outlined",width:"32",style:{color:"white !important"}})]),s(K,{flat:"",onClick:o[0]||(o[0]=Ce=>P()),label:"查看代码",dense:"",icon:"menu"})])]),_:1},8,["widgetConfig","layoutID"])]),_:1},8,["leftWidth"])]),_:1})]),_:1})],512)),[[Y,S.value]])}}}),$e=x(ye,[["__scopeId","data-v-de10b10d"]]);export{$e as default};
