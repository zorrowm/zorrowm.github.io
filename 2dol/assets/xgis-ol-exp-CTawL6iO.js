import{$ as Tn,a0 as Ae,I as nt,a as wr,r as $,p as y,w as re,h as m,B as $t,q as He,G as eb,y as xt,C as ds,S as tb,i as nb,d as Ii,a3 as Sr,a2 as Cn,Y as Cr,a1 as So,a6 as kr,X as Dt,m as um,A as xn,n as We,z as cm,T as ib,v as Pi,D as Kr,x as we,g as _n,R as Ph,M as dm,F as ir,u as tn,ad as rb,J as Zp,aa as ob,_ as Wn,H as xl,c as ab,t as bi}from"./@vue-exp-CxZKVZL7.js";import{p as Qp}from"./vendor-Cm8vbQLD.js";import{I as Hi}from"./@iconify/vue-exp-CNvCUaPp.js";class di{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}var $o="propertychange";class eu{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function Ci(t,e){return t>e?1:t<e?-1:0}function jc(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if(typeof n=="function"){for(let r=1;r<i;++r){const o=t[r];if(o===e)return r;if(o<e)return n(e,t[r-1],o)>0?r-1:r}return i-1}if(n>0){for(let r=1;r<i;++r)if(t[r]<e)return r-1;return i-1}if(n<0){for(let r=1;r<i;++r)if(t[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function sb(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function oi(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let r=0;r<i;r++)t[t.length]=n[r]}function rr(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function No(){return!0}function ia(){return!1}function jo(){}function hm(t){let e,n,i;return function(){const r=Array.prototype.slice.call(arguments);return n&&this===i&&rr(r,n)||(i=this,n=r,e=t.apply(this,arguments)),e}}function hs(t){for(const e in t)delete t[e]}function Ho(t){let e;for(e in t)return!1;return!e}class tu extends eu{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(n)||r.push(n)}dispatchEvent(e){const n=typeof e=="string",i=n?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const o=n?new di(e):e;o.target||(o.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});let l;i in a||(a[i]=0,s[i]=0),++a[i];for(let c=0,u=r.length;c<u;++c)if(l="handleEvent"in r[c]?r[c].handleEvent(o):r[c].call(this,o),l===!1||o.propagationStopped){l=!1;break}if(--a[i]==0){let c=s[i];for(delete s[i];c--;)this.removeEventListener(i,jo);delete a[i]}return l}disposeInternal(){this.listeners_&&hs(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,n){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const r=i.indexOf(n);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=jo,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}}var At="change",lb="error",Hc="contextmenu",Ga="click",ub="dblclick",wl="keydown",pm="keypress",cb="load",Jp="touchmove",Aa="wheel";function Qe(t,e,n,i,r){if(r){const a=n;n=function(){t.removeEventListener(e,n),a.apply(i??this,arguments)}}else i&&i!==t&&(n=n.bind(i));const o={target:t,type:e,listener:n};return t.addEventListener(e,n),o}function Sl(t,e,n,i){return Qe(t,e,n,i,!0)}function bt(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),hs(t))}class Oa extends tu{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(At)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Qe(this,e[o],n);return r}return Qe(this,e,n)}onceInternal(e,n){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let o=0;o<r;++o)i[o]=Sl(this,e[o],n)}else i=Sl(this,e,n);return n.ol_key=i,i}unInternal(e,n){const i=n.ol_key;if(i)ti(i);else if(Array.isArray(e))for(let r=0,o=e.length;r<o;++r)this.removeEventListener(e[r],n);else this.removeEventListener(e,n)}}function ti(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)bt(t[e]);else bt(t)}function lt(){throw new Error("Unimplemented abstract method.")}Oa.prototype.on,Oa.prototype.once,Oa.prototype.un;let db=0;function pt(t){return t.ol_uid||(t.ol_uid=String(++db))}class ef extends di{constructor(e,n,i){super(e),this.key=n,this.oldValue=i}}class On extends Oa{constructor(e){super(),this.on,this.once,this.un,pt(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new ef(i,e,n)),i=$o,this.hasListener(i)&&this.dispatchEvent(new ef(i,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,i){const r=this.values_||(this.values_={});if(i)r[e]=n;else{const o=r[e];r[e]=n,o!==n&&this.notify(e,o)}}setProperties(e,n){for(const i in e)this.set(i,e[i],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],Ho(this.values_)&&(this.values_=null),n||this.notify(e,i)}}}var Rr="add",Fr="remove";const tf="length";class ks extends di{constructor(e,n,i){super(e),this.element=n,this.index=i}}class Mn extends On{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,i=e.length;n<i;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)e(n[i],i,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(tf)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new ks(Rr,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)if(n[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new ks(Fr,n,e)),n}setAt(e,n){if(e>=this.getLength())return void this.insertAt(e,n);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new ks(Fr,i,e)),this.dispatchEvent(new ks(Rr,n,e))}updateLength_(){this.set(tf,this.array_.length)}assertUnique_(e,n){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==n)throw new Error("Duplicate item added to a unique collection")}}var Ts="opacity",Lu="visible",nf="extent",qu="zIndex",Iu="maxResolution",Pu="minResolution",Ru="maxZoom",Fu="minZoom",Au="source",rf="map";function ct(t,e){if(!t)throw new Error(e)}function St(t,e,n){return Math.min(Math.max(t,e),n)}function hb(t,e,n,i,r,o){const a=r-n,s=o-i;if(a!==0||s!==0){const l=((t-n)*a+(e-i)*s)/(a*a+s*s);l>1?(n=r,i=o):l>0&&(n+=a*l,i+=s*l)}return ki(t,e,n,i)}function ki(t,e,n,i){const r=n-t,o=i-e;return r*r+o*o}function Ar(t){return t*Math.PI/180}function Or(t,e){const n=t%e;return n*e<0?n+e:n}function Sn(t,e,n){return t+n*(e-t)}function ps(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function of(t,e){return Math.round(ps(t,e))}function Es(t,e){return Math.floor(ps(t,e))}function Ms(t,e){return Math.ceil(ps(t,e))}class fm extends On{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[Ts]=e.opacity!==void 0?e.opacity:1,ct(typeof n[Ts]=="number","Layer opacity must be a number"),n[Lu]=e.visible===void 0||e.visible,n[qu]=e.zIndex,n[Iu]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Pu]=e.minResolution!==void 0?e.minResolution:0,n[Fu]=e.minZoom!==void 0?e.minZoom:-1/0,n[Ru]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0||e},i=this.getZIndex();return n.opacity=St(Math.round(100*this.getOpacity())/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i!==void 0||n.managed?i:1/0,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return lt()}getLayerStatesArray(e){return lt()}getExtent(){return this.get(nf)}getMaxResolution(){return this.get(Iu)}getMinResolution(){return this.get(Pu)}getMinZoom(){return this.get(Fu)}getMaxZoom(){return this.get(Ru)}getOpacity(){return this.get(Ts)}getSourceState(){return lt()}getVisible(){return this.get(Lu)}getZIndex(){return this.get(qu)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(nf,e)}setMaxResolution(e){this.set(Iu,e)}setMinResolution(e){this.set(Pu,e)}setMaxZoom(e){this.set(Ru,e)}setMinZoom(e){this.set(Fu,e)}setOpacity(e){ct(typeof e=="number","Layer opacity must be a number"),this.set(Ts,e)}setVisible(e){this.set(Lu,e)}setZIndex(e){this.set(qu,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}var Gc="prerender",Wc="postrender",gm="precompose",pb="postcompose",Ou="rendercomplete",wi=0,Dr=1,zn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};const Rh=256,Go={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Zi{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Go[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const fs=6378137,Co=Math.PI*fs,fb=[-Co,-Co,Co,Co],gb=[-180,-85,180,85],Ls=fs*Math.log(Math.tan(Math.PI/2));class to extends Zi{constructor(e){super({code:e,units:"m",extent:fb,global:!0,worldExtent:gb,getPointResolution:function(n,i){return n/Math.cosh(i[1]/fs)}})}}const af=[new to("EPSG:3857"),new to("EPSG:102100"),new to("EPSG:102113"),new to("EPSG:900913"),new to("http://www.opengis.net/def/crs/EPSG/0/3857"),new to("http://www.opengis.net/gml/srs/epsg.xml#3857")];function vb(t,e,n,i){const r=t.length;n=n>1?n:2,i=i??n,e===void 0&&(e=n>2?t.slice():new Array(r));for(let o=0;o<r;o+=i){e[o]=Co*t[o]/180;let a=fs*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));a>Ls?a=Ls:a<-Ls&&(a=-Ls),e[o+1]=a}return e}function mb(t,e,n,i){const r=t.length;n=n>1?n:2,i=i??n,e===void 0&&(e=n>2?t.slice():new Array(r));for(let o=0;o<r;o+=i)e[o]=180*t[o]/Co,e[o+1]=360*Math.atan(Math.exp(t[o+1]/fs))/Math.PI-90;return e}const sf=[-180,-90,180,90],yb=6378137*Math.PI/180;class cr extends Zi{constructor(e,n){super({code:e,units:"degrees",extent:sf,axisOrientation:n,global:!0,metersPerUnit:yb,worldExtent:sf})}}const lf=[new cr("CRS:84"),new cr("EPSG:4326","neu"),new cr("urn:ogc:def:crs:OGC:1.3:CRS84"),new cr("urn:ogc:def:crs:OGC:2:84"),new cr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new cr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new cr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Yc={},Io={};function Wo(t,e,n){const i=t.getCode(),r=e.getCode();i in Io||(Io[i]={}),Io[i][r]=n}function vm(t,e){let n;return t in Io&&e in Io[t]&&(n=Io[t][e]),n}var uf=0,Cl=1,Xc=2,Uc=4,Kc=8,Zc=16;function Qc(t){const e=_b();for(let n=0,i=t.length;n<i;++n)Da(e,t[n]);return e}function Fh(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function mm(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Zr(t,e,n){let i,r;return i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,i*i+r*r}function Yo(t,e){return Ah(t,e[0],e[1])}function Tr(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Ah(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Jc(t,e){const n=t[0],i=t[1],r=t[2],o=t[3],a=e[0],s=e[1];let l=uf;return a<n?l|=Zc:a>r&&(l|=Uc),s<i?l|=Kc:s>o&&(l|=Xc),l===uf&&(l=Cl),l}function _b(){return[1/0,1/0,-1/0,-1/0]}function si(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function ra(t){return si(1/0,1/0,-1/0,-1/0,t)}function ym(t,e){const n=t[0],i=t[1];return si(n,i,n,i,e)}function Oh(t,e,n,i,r){return bm(ra(r),t,e,n,i)}function Wa(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function _m(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Da(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function bm(t,e,n,i,r){for(;n<i;n+=r)bb(t,e[n],e[n+1]);return t}function bb(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Dh(t,e){let n;return n=e(nu(t)),n||(n=e(iu(t)),n||(n=e(ru(t)),n||(n=e(or(t)),n||!1)))}function Ya(t){let e=0;return gs(t)||(e=Je(t)*Jt(t)),e}function nu(t){return[t[0],t[1]]}function iu(t){return[t[2],t[1]]}function li(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function xb(t,e){let n;if(e==="bottom-left")n=nu(t);else if(e==="bottom-right")n=iu(t);else if(e==="top-left")n=or(t);else{if(e!=="top-right")throw new Error("Invalid corner");n=ru(t)}return n}function ed(t,e,n,i,r){const[o,a,s,l,c,u,d,h]=function(p,f,v,w){const b=f*w[0]/2,x=f*w[1]/2,g=Math.cos(v),_=Math.sin(v),S=b*g,C=b*_,T=x*g,L=x*_,z=p[0],I=p[1];return[z-S+L,I-C-T,z-S-L,I-C+T,z+S-L,I+C+T,z+S+L,I+C-T,z-S+L,I-C-T]}(t,e,n,i);return si(Math.min(o,s,c,d),Math.min(a,l,u,h),Math.max(o,s,c,d),Math.max(a,l,u,h),r)}function Jt(t){return t[3]-t[1]}function Yn(t,e,n){const i=n||[1/0,1/0,-1/0,-1/0];return hn(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):ra(i),i}function or(t){return[t[0],t[3]]}function ru(t){return[t[2],t[3]]}function Je(t){return t[2]-t[0]}function hn(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function gs(t){return t[2]<t[0]||t[3]<t[1]}function wb(t,e,n,i){if(gs(t))return ra(n);let r=[];r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]],e(r,r,2);const o=[],a=[];for(let s=0,l=r.length;s<l;s+=2)o.push(r[s]),a.push(r[s+1]);return function(s,l,c){return si(Math.min.apply(null,s),Math.min.apply(null,l),Math.max.apply(null,s),Math.max.apply(null,l),c)}(o,a,n)}function xm(t,e){const n=e.getExtent(),i=li(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const r=Je(n),o=Math.floor((i[0]-n[0])/r)*r;t[0]-=o,t[2]-=o}return t}function zh(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];xm(t,e);const r=Je(i);if(Je(t)>r&&!n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+r,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-r,t[3]]]}return[t]}function kl(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function Bh(t,e){const n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function wm(t,e){const n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function df(t,e){return Math.sqrt(wm(t,e))}function hf(t,e){return function(n,i,r){return n?i.replace("{x}",n[0].toFixed(r)).replace("{y}",n[1].toFixed(r)):""}(t,"{x}, {y}",e)}function Sm(t,e){if(e.canWrapX()){const n=Je(e.getExtent()),i=Cm(t,e,n);i&&(t[0]-=i*n)}return t}function Cm(t,e,n){const i=e.getExtent();let r=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||Je(i),r=Math.floor((t[0]-i[0])/n)),r}const Vh=63710088e-1;function Xa(t,e,n){n=n||Vh;const i=Ar(t[1]),r=Ar(e[1]),o=(r-i)/2,a=Ar(e[0]-t[0])/2,s=Math.sin(o)*Math.sin(o)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))}function Du(t,e){let n=0;for(let i=0,r=t.length;i<r-1;++i)n+=Xa(t[i],t[i+1],e);return n}function km(t,e){const n=(e=e||{}).radius||Vh,i=e.projection||"EPSG:3857",r=t.getType();r!=="GeometryCollection"&&(t=t.clone().transform(i,"EPSG:4326"));let o,a,s,l,c,u,d=0;switch(r){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":o=t.getCoordinates(),d=Du(o,n);break;case"MultiLineString":case"Polygon":for(o=t.getCoordinates(),s=0,l=o.length;s<l;++s)d+=Du(o[s],n);break;case"MultiPolygon":for(o=t.getCoordinates(),s=0,l=o.length;s<l;++s)for(a=o[s],c=0,u=a.length;c<u;++c)d+=Du(a[c],n);break;case"GeometryCollection":{const h=t.getGeometries();for(s=0,l=h.length;s<l;++s)d+=km(h[s],e);break}default:throw new Error("Unsupported geometry type: "+r)}return d}function qs(t,e){let n=0;const i=t.length;let r=t[i-1][0],o=t[i-1][1];for(let a=0;a<i;a++){const s=t[a][0],l=t[a][1];n+=Ar(s-r)*(2+Math.sin(Ar(o))+Math.sin(Ar(l))),r=s,o=l}return n*e*e/2}function Tm(t,e){const n=(e=e||{}).radius||Vh,i=e.projection||"EPSG:3857",r=t.getType();r!=="GeometryCollection"&&(t=t.clone().transform(i,"EPSG:4326"));let o,a,s,l,c,u,d=0;switch(r){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(o=t.getCoordinates(),d=Math.abs(qs(o[0],n)),s=1,l=o.length;s<l;++s)d-=Math.abs(qs(o[s],n));break;case"MultiPolygon":for(o=t.getCoordinates(),s=0,l=o.length;s<l;++s)for(a=o[s],d+=Math.abs(qs(a[0],n)),c=1,u=a.length;c<u;++c)d-=Math.abs(qs(a[c],n));break;case"GeometryCollection":{const h=t.getGeometries();for(s=0,l=h.length;s<l;++s)d+=Tm(h[s],e);break}default:throw new Error("Unsupported geometry type: "+r)}return d}function Em(...t){}let td=!0;function $h(t,e){if(e!==void 0)for(let n=0,i=t.length;n<i;++n)e[n]=t[n];else e=t.slice();return e}function Mm(t,e){if(e!==void 0&&t!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function Nh(t){(function(e,n){Yc[e]=n})(t.getCode(),t),Wo(t,t,$h)}function It(t){return typeof t=="string"?Yc[e=t]||Yc[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function Tl(t,e,n,i){let r;const o=(t=It(t)).getPointResolutionFunc();if(o){if(r=o(e,n),i&&i!==t.getUnits()){const a=t.getMetersPerUnit();a&&(r=r*a/Go[i])}}else{const a=t.getUnits();if(a=="degrees"&&!i||i=="degrees")r=e;else{const s=jh(t,It("EPSG:4326"));if(s===Mm&&a!=="degrees")r=e*t.getMetersPerUnit();else{let c=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];c=s(c,c,2),r=(Xa(c.slice(0,2),c.slice(2,4))+Xa(c.slice(4,6),c.slice(6,8)))/2}const l=i?Go[i]:t.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function nd(t){(function(e){e.forEach(Nh)})(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Wo(e,n,$h)})})}function zu(t,e){return t?typeof t=="string"?It(t):t:It(e)}function pf(t){return function(e,n,i,r){const o=e.length;i=i!==void 0?i:2,r=r??i,n=n!==void 0?n:new Array(o);for(let a=0;a<o;a+=r){const s=t(e.slice(a,a+i)),l=s.length;for(let c=0,u=r;c<u;++c)n[a+c]=c>=l?e[a+c]:s[c]}return n}}function Sb(t,e,n,i){const r=It(t),o=It(e);Wo(r,o,pf(n)),Wo(o,r,pf(i))}function Bu(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||jh(t,e)===$h)&&n}function jh(t,e){let n=vm(t.getCode(),e.getCode());return n||(n=Mm),n}function Ua(t,e){return jh(It(t),It(e))}function ko(t,e,n){return Ua(e,n)(t,void 0,t.length)}function id(t,e){return t}function $n(t,e){return td&&!kl(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(td=!1,Em("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function Lm(t,e){return t}function Gi(t,e){return t}function ff(t,e,n){return function(i){let r,o;if(t.canWrapX()){const a=t.getExtent(),s=Je(a);o=Cm(i=i.slice(0),t,s),o&&(i[0]=i[0]-o*s),i[0]=St(i[0],a[0],a[2]),i[1]=St(i[1],a[1],a[3]),r=n(i)}else r=n(i);return o&&e.canWrapX()&&(r[0]+=o*Je(e.getExtent())),r}}var gf,vf,mf;function yf(t,e,n){return function(i,r,o,a,s){if(!i)return;if(!r&&!e)return i;const l=e?0:o[0]*r,c=e?0:o[1]*r,u=s?s[0]:0,d=s?s[1]:0;let h=t[0]+l/2+u,p=t[2]-l/2+u,f=t[1]+c/2+d,v=t[3]-c/2+d;h>p&&(h=(p+h)/2,p=h),f>v&&(f=(v+f)/2,v=f);let w=St(i[0],h,p),b=St(i[1],f,v);if(a&&n&&r){const x=30*r;w+=-x*Math.log(1+Math.max(0,h-i[0])/x)+x*Math.log(1+Math.max(0,i[0]-p)/x),b+=-x*Math.log(1+Math.max(0,f-i[1])/x)+x*Math.log(1+Math.max(0,i[1]-v)/x)}return[w,b]}}function Cb(t){return t}function rd(t,e,n,i){const r=Je(e)/n[0],o=Jt(e)/n[1];return i?Math.min(t,Math.max(r,o)):Math.min(t,Math.min(r,o))}function od(t,e,n){let i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),St(i,n/2,2*e)}function _f(t,e,n,i,r){return n=n===void 0||n,function(o,a,s,l){if(o!==void 0){const c=i?rd(t,i,s,r):t;return n&&l?od(o,c,e):St(o,e,c)}}}function Hh(t){if(t!==void 0)return 0}function bf(t){if(t!==void 0)return t}function qm(t){return Math.pow(t,3)}function oa(t){return 1-qm(1-t)}function kb(t){return 3*t*t-2*t*t*t}function Tb(t){return t}nd(af),nd(lf),gf=af,vf=vb,mf=mb,lf.forEach(function(t){gf.forEach(function(e){Wo(t,e,vf),Wo(e,t,mf)})});new Array(6);function Eb(t,e){const n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=e[0],c=e[1],u=e[2],d=e[3],h=e[4],p=e[5];return t[0]=n*l+r*c,t[1]=i*l+o*c,t[2]=n*u+r*d,t[3]=i*u+o*d,t[4]=n*h+r*p+a,t[5]=i*h+o*p+s,t}function Wt(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function Li(t,e,n,i,r,o,a,s){const l=Math.sin(o),c=Math.cos(o);return t[0]=i*c,t[1]=r*l,t[2]=-i*l,t[3]=r*c,t[4]=a*i*c-s*i*l+e,t[5]=a*r*l+s*r*c+n,t}function Im(t,e){const n=(i=e)[0]*i[3]-i[1]*i[2];var i;ct(n!==0,"Transformation matrix cannot be inverted");const r=e[0],o=e[1],a=e[2],s=e[3],l=e[4],c=e[5];return t[0]=s/n,t[1]=-o/n,t[2]=-a/n,t[3]=r/n,t[4]=(a*c-s*l)/n,t[5]=-(r*c-o*l)/n,t}const xf=[1e6,1e6,1e6,1e6,2,2];function Wi(t,e,n,i,r,o,a){o=o||[],a=a||2;let s=0;for(let l=e;l<n;l+=i){const c=t[l],u=t[l+1];o[s++]=r[0]*c+r[2]*u+r[4],o[s++]=r[1]*c+r[3]*u+r[5];for(let d=2;d<a;d++)o[s++]=t[l+d]}return o&&o.length!=s&&(o.length=s),o}function Gh(t,e,n,i,r,o,a){a=a||[];const s=Math.cos(r),l=Math.sin(r),c=o[0],u=o[1];let d=0;for(let h=e;h<n;h+=i){const p=t[h]-c,f=t[h+1]-u;a[d++]=c+p*s-f*l,a[d++]=u+p*l+f*s;for(let v=h+2;v<h+i;++v)a[d++]=t[v]}return a&&a.length!=d&&(a.length=d),a}const wf=[1,0,0,1,0,0];class Pm extends On{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=hm((e,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return lt()}closestPointXY(e,n,i,r){return lt()}containsXY(e,n){const i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return lt()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&ra(n),this.extentRevision_=this.getRevision()}return function(n,i){return i?(i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i):n}(this.extent_,e)}rotate(e,n){lt()}scale(e,n,i){lt()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return lt()}getType(){return lt()}applyTransform(e){lt()}intersectsExtent(e){return lt()}translate(e,n){lt()}transform(e,n){const i=It(e),r=i.getUnits()=="tile-pixels"?function(o,a,s){const l=i.getExtent(),c=i.getWorldExtent(),u=Jt(c)/Jt(l);return Li(wf,c[0],c[3],u,-u,0,0,0),Wi(o,0,o.length,s,wf,a),Ua(i,n)(o,a,s)}:Ua(i,n);return this.applyTransform(r),this}}class ar extends Pm{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Oh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return lt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=El(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){lt()}setLayout(e,n,i){let r;if(e)r=El(e);else{for(let o=0;o<i;++o){if(n.length===0)return this.layout="XY",void(this.stride=2);n=n[0]}r=n.length,e=function(o){let a;return o==2?a="XY":o==3?a="XYZ":o==4&&(a="XYZM"),a}(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();Gh(i,0,i.length,r,e,n,i),this.changed()}}scale(e,n,i){n===void 0&&(n=e),i||(i=li(this.getExtent()));const r=this.getFlatCoordinates();if(r){const o=this.getStride();(function(a,s,l,c,u,d,h,p){p=p||[];const f=h[0],v=h[1];let w=0;for(let b=s;b<l;b+=c){const x=a[b]-f,g=a[b+1]-v;p[w++]=f+u*x,p[w++]=v+d*g;for(let _=b+2;_<b+c;++_)p[w++]=a[_]}p&&p.length!=w&&(p.length=w)})(r,0,r.length,o,e,n,i,r),this.changed()}}translate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();(function(o,a,s,l,c,u,d){d=d||[];let h=0;for(let p=a;p<s;p+=l){d[h++]=o[p]+c,d[h++]=o[p+1]+u;for(let f=p+2;f<p+l;++f)d[h++]=o[f]}d&&d.length!=h&&(d.length=h)})(i,0,i.length,r,e,n,i),this.changed()}}}function El(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function Sf(t,e,n,i,r,o,a){const s=t[e],l=t[e+1],c=t[n]-s,u=t[n+1]-l;let d;if(c===0&&u===0)d=e;else{const h=((r-s)*c+(o-l)*u)/(c*c+u*u);if(h>1)d=n;else{if(h>0){for(let p=0;p<i;++p)a[p]=Sn(t[e+p],t[n+p],h);return void(a.length=i)}d=e}}for(let h=0;h<i;++h)a[h]=t[d+h];a.length=i}function Wh(t,e,n,i,r){let o=t[e],a=t[e+1];for(e+=i;e<n;e+=i){const s=t[e],l=t[e+1],c=ki(o,a,s,l);c>r&&(r=c),o=s,a=l}return r}function Yh(t,e,n,i,r){for(let o=0,a=n.length;o<a;++o){const s=n[o];r=Wh(t,e,s,i,r),e=s}return r}function Xh(t,e,n,i,r,o,a,s,l,c,u){if(e==n)return c;let d,h;if(r===0){if(h=ki(a,s,t[e],t[e+1]),h<c){for(d=0;d<i;++d)l[d]=t[e+d];return l.length=i,h}return c}u=u||[NaN,NaN];let p=e+i;for(;p<n;)if(Sf(t,p-i,p,i,a,s,u),h=ki(a,s,u[0],u[1]),h<c){for(c=h,d=0;d<i;++d)l[d]=u[d];l.length=i,p+=i}else p+=i*Math.max((Math.sqrt(h)-Math.sqrt(c))/r|0,1);if(o&&(Sf(t,n-i,e,i,a,s,u),h=ki(a,s,u[0],u[1]),h<c)){for(c=h,d=0;d<i;++d)l[d]=u[d];l.length=i}return c}function Uh(t,e,n,i,r,o,a,s,l,c,u){u=u||[NaN,NaN];for(let d=0,h=n.length;d<h;++d){const p=n[d];c=Xh(t,e,p,i,r,o,a,s,l,c,u),e=p}return c}function Rm(t,e,n,i){for(let r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}function ou(t,e,n,i){for(let r=0,o=n.length;r<o;++r){const a=n[r];for(let s=0;s<i;++s)t[e++]=a[s]}return e}function Kh(t,e,n,i,r){r=r||[];let o=0;for(let a=0,s=n.length;a<s;++a){const l=ou(t,e,n[a],i);r[o++]=l,e=l}return r.length=o,r}function au(t,e,n,i,r,o,a){const s=(n-e)/i;if(s<3){for(;e<n;e+=i)o[a++]=t[e],o[a++]=t[e+1];return a}const l=new Array(s);l[0]=1,l[s-1]=1;const c=[e,n-i];let u=0;for(;c.length>0;){const d=c.pop(),h=c.pop();let p=0;const f=t[h],v=t[h+1],w=t[d],b=t[d+1];for(let x=h+i;x<d;x+=i){const g=hb(t[x],t[x+1],f,v,w,b);g>p&&(u=x,p=g)}p>r&&(l[(u-e)/i]=1,h+i<u&&c.push(h,u),u+i<d&&c.push(u,d))}for(let d=0;d<s;++d)l[d]&&(o[a++]=t[e+d*i],o[a++]=t[e+d*i+1]);return a}function Fm(t,e,n,i,r,o,a,s){for(let l=0,c=n.length;l<c;++l){const u=n[l];a=au(t,e,u,i,r,o,a),s.push(a),e=u}return a}function mr(t,e){return e*Math.round(t/e)}function Mb(t,e,n,i,r,o,a){if(e==n)return a;let s,l,c=mr(t[e],r),u=mr(t[e+1],r);e+=i,o[a++]=c,o[a++]=u;do if(s=mr(t[e],r),l=mr(t[e+1],r),(e+=i)==n)return o[a++]=s,o[a++]=l,a;while(s==c&&l==u);for(;e<n;){const d=mr(t[e],r),h=mr(t[e+1],r);if(e+=i,d==s&&h==l)continue;const p=s-c,f=l-u,v=d-c,w=h-u;p*w==f*v&&(p<0&&v<p||p==v||p>0&&v>p)&&(f<0&&w<f||f==w||f>0&&w>f)?(s=d,l=h):(o[a++]=s,o[a++]=l,c=s,u=l,s=d,l=h)}return o[a++]=s,o[a++]=l,a}function Zh(t,e,n,i,r,o,a,s){for(let l=0,c=n.length;l<c;++l){const u=n[l];a=Mb(t,e,u,i,r,o,a),s.push(a),e=u}return a}function Yi(t,e,n,i,r){r=r!==void 0?r:[];let o=0;for(let a=e;a<n;a+=i)r[o++]=t.slice(a,a+i);return r.length=o,r}function Ka(t,e,n,i,r){r=r!==void 0?r:[];let o=0;for(let a=0,s=n.length;a<s;++a){const l=n[a];r[o++]=Yi(t,e,l,i,r[o]),e=l}return r.length=o,r}function ad(t,e,n,i,r){r=r!==void 0?r:[];let o=0;for(let a=0,s=n.length;a<s;++a){const l=n[a];r[o++]=l.length===1&&l[0]===e?[]:Ka(t,e,l,i,r[o]),e=l[l.length-1]}return r.length=o,r}function Am(t,e,n,i){let r=0;const o=t[n-i],a=t[n-i+1];let s=0,l=0;for(;e<n;e+=i){const c=t[e]-o,u=t[e+1]-a;r+=l*c-s*u,s=c,l=u}return r/2}function Om(t,e,n,i){let r=0;for(let o=0,a=n.length;o<a;++o){const s=n[o];r+=Am(t,e,s,i),e=s}return r}class Za extends ar{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n===void 0||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}clone(){return new Za(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,i,r){return r<Zr(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Wh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,r))}getArea(){return Am(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Yi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=au(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Za(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ou(this.flatCoordinates,0,e,this.stride),this.changed()}}class ai extends ar{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new ai(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){const o=this.flatCoordinates,a=ki(e,n,o[0],o[1]);if(a<r){const s=this.stride;for(let l=0;l<s;++l)i[l]=o[l];return i.length=s,a}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return ym(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Ah(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Rm(this.flatCoordinates,0,e,this.stride),this.changed()}}function Lb(t,e,n,i,r){return!Dh(r,function(o){return!Er(t,e,n,i,o[0],o[1])})}function Er(t,e,n,i,r,o){let a=0,s=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const c=t[e],u=t[e+1];l<=o?u>o&&(c-s)*(o-l)-(r-s)*(u-l)>0&&a++:u<=o&&(c-s)*(o-l)-(r-s)*(u-l)<0&&a--,s=c,l=u}return a!==0}function Qh(t,e,n,i,r,o){if(n.length===0||!Er(t,e,n[0],i,r,o))return!1;for(let a=1,s=n.length;a<s;++a)if(Er(t,n[a-1],n[a],i,r,o))return!1;return!0}function Jh(t,e,n,i,r,o,a){let s,l,c,u,d,h,p;const f=r[o+1],v=[];for(let x=0,g=n.length;x<g;++x){const _=n[x];for(u=t[_-i],h=t[_-i+1],s=e;s<_;s+=i)d=t[s],p=t[s+1],(f<=h&&p<=f||h<=f&&f<=p)&&(c=(f-h)/(p-h)*(d-u)+u,v.push(c)),u=d,h=p}let w=NaN,b=-1/0;for(v.sort(Ci),u=v[0],s=1,l=v.length;s<l;++s){d=v[s];const x=Math.abs(d-u);x>b&&(c=(u+d)/2,Qh(t,e,n,i,c,f)&&(w=c,b=x)),u=d}return isNaN(w)&&(w=r[o]),a?(a.push(w,f,b),a):[w,f,b]}function Dm(t,e,n,i,r){let o=[];for(let a=0,s=n.length;a<s;++a){const l=n[a];o=Jh(t,e,l,i,r,2*a,o),e=l[l.length-1]}return o}function zm(t,e,n,i,r){let o;for(e+=i;e<n;e+=i)if(o=r(t.slice(e-i,e),t.slice(e,e+i)),o)return o;return!1}function su(t,e,n,i,r){const o=bm([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!hn(r,o)&&(!!Tr(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||zm(t,e,n,i,function(a,s){return function(l,c,u){let d=!1;const h=Jc(l,c),p=Jc(l,u);if(h===Cl||p===Cl)d=!0;else{const f=l[0],v=l[1],w=l[2],b=l[3],x=c[0],g=c[1],_=u[0],S=u[1],C=(S-g)/(_-x);let T,L;p&Xc&&!(h&Xc)&&(T=_-(S-b)/C,d=T>=f&&T<=w),d||!(p&Uc)||h&Uc||(L=S-(_-w)*C,d=L>=v&&L<=b),d||!(p&Kc)||h&Kc||(T=_-(S-v)/C,d=T>=f&&T<=w),d||!(p&Zc)||h&Zc||(L=S-(_-f)*C,d=L>=v&&L<=b)}return d}(r,a,s)}))}function Bm(t,e,n,i,r){return!!su(t,e,n,i,r)||!!Er(t,e,n,i,r[0],r[1])||!!Er(t,e,n,i,r[0],r[3])||!!Er(t,e,n,i,r[2],r[1])||!!Er(t,e,n,i,r[2],r[3])}function Vm(t,e,n,i,r){if(!Bm(t,e,n[0],i,r))return!1;if(n.length===1)return!0;for(let o=1,a=n.length;o<a;++o)if(Lb(t,n[o-1],n[o],i,r)&&!su(t,n[o-1],n[o],i,r))return!1;return!0}function qb(t,e,n,i){for(;e<n-i;){for(let r=0;r<i;++r){const o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function ep(t,e,n,i){let r=0,o=t[n-i],a=t[n-i+1];for(;e<n;e+=i){const s=t[e],l=t[e+1];r+=(s-o)*(l+a),o=s,a=l}return r===0?void 0:r>0}function $m(t,e,n,i,r){r=r!==void 0&&r;for(let o=0,a=n.length;o<a;++o){const s=n[o],l=ep(t,e,s,i);if(o===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=s}return!0}function sd(t,e,n,i,r){r=r!==void 0&&r;for(let o=0,a=n.length;o<a;++o){const s=n[o],l=ep(t,e,s,i);(o===0?r&&l||!r&&!l:r&&!l||!r&&l)&&qb(t,e,s,i),e=s}return e}function Cf(t,e,n,i,r){for(let o=0,a=n.length;o<a;++o)e=sd(t,e,n[o],i,r);return e}function Ib(t,e){const n=[];let i,r=0,o=0;for(let a=0,s=e.length;a<s;++a){const l=e[a],c=ep(t,r,l,2);if(i===void 0&&(i=c),c===i)n.push(e.slice(o,a+1));else{if(n.length===0)continue;n[n.length-1].push(e[o])}o=a+1,r=l}return n}class Pn extends ar{constructor(e,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?oi(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Pn(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<Zr(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Yh(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Uh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,r))}containsXY(e,n){return Qh(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return Om(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),sd(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Ka(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=li(this.getExtent());this.flatInteriorPoint_=Jh(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new ai(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Za(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,i=this.ends_,r=[];let o=0;for(let a=0,s=i.length;a<s;++a){const l=i[a],c=new Za(n.slice(o,l),e);r.push(c),o=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;$m(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=sd(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=Zh(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new Pn(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return Vm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Kh(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function kf(t){if(gs(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new Pn(o,"XY",[o.length])}function Is(t,e){setTimeout(function(){t(e)},0)}function Pb(t){return!(t.sourceCenter&&t.targetCenter&&!kl(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function Vu(t,e,n,i,r){const o=Math.cos(-r);let a=Math.sin(-r),s=t[0]*o-t[1]*a,l=t[1]*o+t[0]*a;return s+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,a=-a,[s*o-l*a,l*o+s*a]}var Ln=class extends On{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=zu(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&function(e){td=e!==void 0}(),t.center&&(t.center=$n(t.center,this.projection_)),t.extent&&(t.extent=Gi(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const a in zn)delete e[a];this.setProperties(e,!0);const n=function(a){let s,l,c,u=a.minZoom!==void 0?a.minZoom:0,d=a.maxZoom!==void 0?a.maxZoom:28;const h=a.zoomFactor!==void 0?a.zoomFactor:2,p=a.multiWorld!==void 0&&a.multiWorld,f=a.smoothResolutionConstraint===void 0||a.smoothResolutionConstraint,v=a.showFullExtent!==void 0&&a.showFullExtent,w=zu(a.projection,"EPSG:3857"),b=w.getExtent();let x=a.constrainOnlyCenter,g=a.extent;if(p||g||!w.isGlobal()||(x=!1,g=b),a.resolutions!==void 0){const _=a.resolutions;l=_[u],c=_[d]!==void 0?_[d]:_[_.length-1],s=a.constrainResolution?function(S,C,T,L){return C=C===void 0||C,function(z,I,R,P){if(z!==void 0){const q=S[0],k=S[S.length-1],M=T?rd(q,T,R,L):q;if(P)return C?od(z,M,k):St(z,k,M);const E=Math.min(M,z),O=Math.floor(jc(S,E,I));return S[O]>M&&O<S.length-1?S[O+1]:S[O]}}}(_,f,!x&&g,v):_f(l,c,f,!x&&g,v)}else{const _=(b?Math.max(Je(b),Jt(b)):360*Go.degrees/w.getMetersPerUnit())/Rh/Math.pow(2,0),S=_/Math.pow(2,28);l=a.maxResolution,l!==void 0?u=0:l=_/Math.pow(h,u),c=a.minResolution,c===void 0&&(c=a.maxZoom!==void 0?a.maxResolution!==void 0?l/Math.pow(h,d):_/Math.pow(h,d):S),d=u+Math.floor(Math.log(l/c)/Math.log(h)),c=l/Math.pow(h,d-u),s=a.constrainResolution?function(C,T,L,z,I,R){return z=z===void 0||z,L=L!==void 0?L:0,function(P,q,k,M){if(P!==void 0){const E=I?rd(T,I,k,R):T;if(M)return z?od(P,E,L):St(P,L,E);const O=1e-9,j=Math.ceil(Math.log(T/E)/Math.log(C)-O),V=-q*(.5-O)+.5,B=Math.min(E,P),G=Math.floor(Math.log(T/B)/Math.log(C)+V),J=Math.max(j,G);return St(T/Math.pow(C,J),L,E)}}}(h,l,c,f,!x&&g,v):_f(l,c,f,!x&&g,v)}return{constraint:s,maxResolution:l,minResolution:c,minZoom:u,zoomFactor:h}}(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;const i=function(a){if(a.extent!==void 0){const l=a.smoothExtentConstraint===void 0||a.smoothExtentConstraint;return yf(a.extent,a.constrainOnlyCenter,l)}const s=zu(a.projection,"EPSG:3857");if(a.multiWorld!==!0&&s.isGlobal()){const l=s.getExtent().slice();return l[0]=-1/0,l[2]=1/0,yf(l,!1,!1)}return Cb}(t),r=n.constraint,o=function(a){if(a.enableRotation===void 0||a.enableRotation){const s=a.constrainRotation;return s===void 0||s===!0?function(l){const c=Ar(5);return function(u,d){return d||u===void 0?u:Math.abs(u)<=c?0:u}}():s===!1?bf:typeof s=="number"?function(l){const c=2*Math.PI/l;return function(u,d){return d?u:u!==void 0?u=Math.floor(u/c+.5)*c:void 0}}(s):bf}return Hh}(t);this.constraints_={center:i,resolution:r,rotation:o},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const n=this.getCenterInternal();if(n){const i=t||[0,0,0,0];e=e||[0,0,0,0];const r=this.getResolution(),o=r/2*(i[3]-e[3]+e[1]-i[1]),a=r/2*(i[0]-e[0]+e[2]-i[2]);this.setCenterInternal([n[0]+o,n[1]-a])}}getUpdatedOptions_(t){const e=this.getProperties();return e.resolution!==void 0?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let n=0;n<e.length;++n){let i=arguments[n];i.center&&(i=Object.assign({},i),i.center=$n(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=$n(i.anchor,this.getProjection())),e[n]=i}this.animateInternal.apply(this,e)}animateInternal(t){let e,n=arguments.length;n>1&&typeof arguments[n-1]=="function"&&(e=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const c=arguments[i];c.center&&this.setCenterInternal(c.center),c.zoom!==void 0?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),c.rotation!==void 0&&this.setRotation(c.rotation)}if(i===n)return void(e&&Is(e,!0));let r=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_;const l=[];for(;i<n;++i){const c=arguments[i],u={start:r,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||kb,callback:e};if(c.center&&(u.sourceCenter=o,u.targetCenter=c.center.slice(),o=u.targetCenter),c.zoom!==void 0?(u.sourceResolution=a,u.targetResolution=this.getResolutionForZoom(c.zoom),a=u.targetResolution):c.resolution&&(u.sourceResolution=a,u.targetResolution=c.resolution,a=u.targetResolution),c.rotation!==void 0){u.sourceRotation=s;const d=Or(c.rotation-s+Math.PI,2*Math.PI)-Math.PI;u.targetRotation=s+d,s=u.targetRotation}Pb(u)?u.complete=!0:r+=u.duration,l.push(u)}this.animations_.push(l),this.setHint(wi,1),this.updateAnimations_()}getAnimating(){return this.hints_[wi]>0}getInteracting(){return this.hints_[Dr]>0}cancelAnimations(){let t;this.setHint(wi,-this.hints_[wi]);for(let e=0,n=this.animations_.length;e<n;++e){const i=this.animations_[e];if(i[0].callback&&Is(i[0].callback,!1),!t)for(let r=0,o=i.length;r<o;++r){const a=i[r];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let n=this.animations_.length-1;n>=0;--n){const i=this.animations_[n];let r=!0;for(let o=0,a=i.length;o<a;++o){const s=i[o];if(s.complete)continue;const l=t-s.start;let c=s.duration>0?l/s.duration:1;c>=1?(s.complete=!0,c=1):r=!1;const u=s.easing(c);if(s.sourceCenter){const d=s.sourceCenter[0],h=s.sourceCenter[1],p=s.targetCenter[0],f=s.targetCenter[1];this.nextCenter_=s.targetCenter;const v=d+u*(p-d),w=h+u*(f-h);this.targetCenter_=[v,w]}if(s.sourceResolution&&s.targetResolution){const d=u===1?s.targetResolution:s.sourceResolution+u*(s.targetResolution-s.sourceResolution);if(s.anchor){const h=this.getViewportSize_(this.getRotation()),p=this.constraints_.resolution(d,0,h,!0);this.targetCenter_=this.calculateCenterZoom(p,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=d,this.applyTargetState_(!0)}if(s.sourceRotation!==void 0&&s.targetRotation!==void 0){const d=u===1?Or(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+u*(s.targetRotation-s.sourceRotation);if(s.anchor){const h=this.constraints_.rotation(d,!0);this.targetCenter_=this.calculateCenterRotate(h,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=d}if(this.applyTargetState_(!0),e=!0,!s.complete)break}if(r){this.animations_[n]=null,this.setHint(wi,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=i[0].callback;o&&Is(o,!0)}}this.animations_=this.animations_.filter(Boolean),e&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let n;const i=this.getCenterInternal();var r,o;return i!==void 0&&(n=[i[0]-e[0],i[1]-e[1]],Bh(n,t-this.getRotation()),o=e,(r=n)[0]+=+o[0],r[1]+=+o[1]),n}calculateCenterZoom(t,e){let n;const i=this.getCenterInternal(),r=this.getResolution();return i!==void 0&&r!==void 0&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]),n}getViewportSize_(t){const e=this.viewportSize_;if(t){const n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&id(t,this.getProjection())}getCenterInternal(){return this.get(zn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){return Lm(this.calculateExtentInternal(t),this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();ct(e,"The view center is not defined");const n=this.getResolution();ct(n!==void 0,"The view resolution is not defined");const i=this.getRotation();return ct(i!==void 0,"The view rotation is not defined"),ed(e,n,i,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(zn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal(Gi(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const n=Je(t)/e[0],i=Jt(t)/e[1];return Math.max(n,i)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(e/n)/Math.log(t);return function(r){return e/Math.pow(t,r*i)}}getRotation(){return this.get(zn.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/e;return function(o){return Math.log(n/o)/e/r}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),n=this.getRotation();let i=this.getCenterInternal();const r=this.padding_;if(r){const o=this.getViewportSizeMinusPadding_();i=Vu(i,this.getViewportSize_(),[o[0]/2+r[3],o[1]/2+r[0]],e,n)}return{center:i.slice(0),projection:t!==void 0?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const e=this.getResolution();return e!==void 0&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,n,i=this.minZoom_||0;if(this.resolutions_){const r=jc(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)}getResolutionForZoom(t){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const e=St(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,St(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let n;if(ct(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t))ct(!gs(t),"Cannot fit empty extent provided as `geometry`"),n=kf(Gi(t,this.getProjection()));else if(t.getType()==="Circle"){const i=Gi(t.getExtent(),this.getProjection());n=kf(i),n.rotate(this.getRotation(),li(i))}else n=t;this.fitInternal(n,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),n=Math.cos(e),i=Math.sin(-e),r=t.getFlatCoordinates(),o=t.getStride();let a=1/0,s=1/0,l=-1/0,c=-1/0;for(let u=0,d=r.length;u<d;u+=o){const h=r[u]*n-r[u+1]*i,p=r[u]*i+r[u+1]*n;a=Math.min(a,h),s=Math.min(s,p),l=Math.max(l,h),c=Math.max(c,p)}return[a,s,l,c]}fitInternal(t,e){let n=(e=e||{}).size;n||(n=this.getViewportSizeMinusPadding_());const i=e.padding!==void 0?e.padding:[0,0,0,0],r=e.nearest!==void 0&&e.nearest;let o;o=e.minResolution!==void 0?e.minResolution:e.maxZoom!==void 0?this.getResolutionForZoom(e.maxZoom):0;const a=this.rotatedExtentForGeometry(t);let s=this.getResolutionForExtentInternal(a,[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]);s=isNaN(s)?o:Math.max(s,o),s=this.getConstrainedResolution(s,r?0:1);const l=this.getRotation(),c=Math.sin(l),u=Math.cos(l),d=li(a);d[0]+=(i[1]-i[3])/2*s,d[1]+=(i[0]-i[2])/2*s;const h=d[0]*u-d[1]*c,p=d[1]*u+d[0]*c,f=this.getConstrainedCenter([h,p],s),v=e.callback?e.callback:jo;e.duration!==void 0?this.animateInternal({resolution:s,center:f,duration:e.duration,easing:e.easing},v):(this.targetResolution_=s,this.targetCenter_=f,this.applyTargetState_(!1,!0),Is(v,!0))}centerOn(t,e,n){this.centerOnInternal($n(t,this.getProjection()),e,n)}centerOnInternal(t,e,n){this.setCenterInternal(Vu(t,e,n,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,n,i){let r;const o=this.padding_;if(o&&t){const a=this.getViewportSizeMinusPadding_(-n),s=Vu(t,i,[a[0]/2+o[3],a[1]/2+o[0]],e,n);r=[t[0]-s[0],t[1]-s[1]]}return r}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const e=id(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&$n(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=$n(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&$n(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,r,n),a=this.constraints_.center(this.targetCenter_,o,r,n,this.calculateCenterShift(this.targetCenter_,o,i,r));this.get(zn.ROTATION)!==i&&this.set(zn.ROTATION,i),this.get(zn.RESOLUTION)!==o&&(this.set(zn.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),a&&this.get(zn.CENTER)&&kl(this.get(zn.CENTER),a)||this.set(zn.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,n){t=t!==void 0?t:200;const i=e||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,i,o),s=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,r,o));if(t===0&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=r,this.targetCenter_=s,void this.applyTargetState_();n=n||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===r&&this.getCenterInternal()&&kl(this.getCenterInternal(),s)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:s,resolution:a,duration:t,easing:oa,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Dr,1)}endInteraction(t,e,n){n=n&&$n(n,this.getProjection()),this.endInteractionInternal(t,e,n)}endInteractionInternal(t,e,n){this.getInteracting()&&(this.setHint(Dr,-1),this.resolveConstraints(t,e,n))}getConstrainedCenter(t,e){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}getConstrainedZoom(t,e){const n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}getConstrainedResolution(t,e){e=e||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}};class lu extends fm{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Au,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get(Au)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||this.getSource().getState()!=="ready"||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(bt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Qe(e,At,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let n;const i=this.getMapInternal();let r;!e&&i&&(e=i.getView()),n=e instanceof Ln?{viewState:e.getState(),extent:e.calculateExtent()}:e,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray()),r=n.layerStatesArray?n.layerStatesArray.find(a=>a.layer===this):this.getLayerState();const o=this.getExtent();return tp(r,n.viewState)&&(!o||hn(o,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];const n=this.getSource()?.getAttributions();if(!n)return[];let i=n(e instanceof Ln?e.getViewStateAndExtent():e);return Array.isArray(i)||(i=[i]),i}render(e,n){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(rf,e)}getMapInternal(){return this.get(rf)}setMap(e){this.mapPrecomposeKey_&&(bt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(bt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Qe(e,gm,this.handlePrecompose_,this),this.mapRenderKey_=Qe(this,At,e.render,e),this.changed())}handlePrecompose_(e){const n=e.frameState.layerStatesArray,i=this.getLayerState(!1);ct(!n.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(i)}setSource(e){this.set(Au,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function tp(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}function Nm(t,e,n=0,i=t.length-1,r=Rb){for(;i>n;){if(i-n>600){const l=i-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1);Nm(t,e,Math.max(n,Math.floor(e-c*d/l+h)),Math.min(i,Math.floor(e+(l-c)*d/l+h)),r)}const o=t[e];let a=n,s=i;for(fa(t,n,e),r(t[i],o)>0&&fa(t,n,i);a<s;){for(fa(t,a,s),a++,s--;r(t[a],o)<0;)a++;for(;r(t[s],o)>0;)s--}r(t[n],o)===0?fa(t,n,s):(s++,fa(t,s,i)),s<=e&&(n=s+1),e<=s&&(i=s-1)}}function fa(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function Rb(t,e){return t<e?-1:t>e?1:0}class jm{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const i=[];if(!Rs(e,n))return i;const r=this.toBBox,o=[];for(;n;){for(let a=0;a<n.children.length;a++){const s=n.children[a],l=n.leaf?r(s):s;Rs(e,l)&&(n.leaf?i.push(s):Nu(e,l)?this._all(s,i):o.push(s))}n=o.pop()}return i}collides(e){let n=this.data;if(!Rs(e,n))return!1;const i=[];for(;n;){for(let r=0;r<n.children.length;r++){const o=n.children[r],a=n.leaf?this.toBBox(o):o;if(Rs(e,a)){if(n.leaf||Nu(e,a))return!0;i.push(o)}}n=i.pop()}return!1}load(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=bo([]),this}remove(e,n){if(!e)return this;let i=this.data;const r=this.toBBox(e),o=[],a=[];let s,l,c;for(;i||o.length;){if(i||(i=o.pop(),l=o[o.length-1],s=a.pop(),c=!0),i.leaf){const u=Fb(e,i.children,n);if(u!==-1)return i.children.splice(u,1),o.push(i),this._condense(o),this}c||i.leaf||!Nu(i,r)?l?(s++,i=l.children[s],c=!1):i=null:(o.push(i),a.push(s),s=0,l=i,i=i.children[0])}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,r){const o=i-n+1;let a,s=this._maxEntries;if(o<=s)return a=bo(e.slice(n,i+1)),no(a,this.toBBox),a;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),a=bo([]),a.leaf=!1,a.height=r;const l=Math.ceil(o/s),c=l*Math.ceil(Math.sqrt(s));Tf(e,n,i,c,this.compareMinX);for(let u=n;u<=i;u+=c){const d=Math.min(u+c-1,i);Tf(e,u,d,l,this.compareMinY);for(let h=u;h<=d;h+=l){const p=Math.min(h+l-1,d);a.children.push(this._build(e,h,p,r-1))}}return no(a,this.toBBox),a}_chooseSubtree(e,n,i,r){for(;r.push(n),!n.leaf&&r.length-1!==i;){let o,a=1/0,s=1/0;for(let l=0;l<n.children.length;l++){const c=n.children[l],u=$u(c),d=Db(e,c)-u;d<s?(s=d,a=u<a?u:a,o=c):d===s&&u<a&&(a=u,o=c)}n=o||n.children[0]}return n}_insert(e,n,i){const r=i?e:this.toBBox(e),o=[],a=this._chooseSubtree(r,this.data,n,o);for(a.children.push(e),Ea(a,r);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(r,o,n)}_split(e,n){const i=e[n],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);const a=this._chooseSplitIndex(i,o,r),s=bo(i.children.splice(a,i.children.length-a));s.height=i.height,s.leaf=i.leaf,no(i,this.toBBox),no(s,this.toBBox),n?e[n-1].children.push(s):this._splitRoot(i,s)}_splitRoot(e,n){this.data=bo([e,n]),this.data.height=e.height+1,this.data.leaf=!1,no(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let r,o=1/0,a=1/0;for(let s=n;s<=i-n;s++){const l=Ta(e,0,s,this.toBBox),c=Ta(e,s,i,this.toBBox),u=zb(l,c),d=$u(l)+$u(c);u<o?(o=u,r=s,a=d<a?d:a):u===o&&d<a&&(a=d,r=s)}return r||i-n}_chooseSplitAxis(e,n,i){const r=e.leaf?this.compareMinX:Ab,o=e.leaf?this.compareMinY:Ob;this._allDistMargin(e,n,i,r)<this._allDistMargin(e,n,i,o)&&e.children.sort(r)}_allDistMargin(e,n,i,r){e.children.sort(r);const o=this.toBBox,a=Ta(e,0,n,o),s=Ta(e,i-n,i,o);let l=Ps(a)+Ps(s);for(let c=n;c<i-n;c++){const u=e.children[c];Ea(a,e.leaf?o(u):u),l+=Ps(a)}for(let c=i-n-1;c>=n;c--){const u=e.children[c];Ea(s,e.leaf?o(u):u),l+=Ps(s)}return l}_adjustParentBBoxes(e,n,i){for(let r=i;r>=0;r--)Ea(n[r],e)}_condense(e){for(let n,i=e.length-1;i>=0;i--)e[i].children.length===0?i>0?(n=e[i-1].children,n.splice(n.indexOf(e[i]),1)):this.clear():no(e[i],this.toBBox)}}function Fb(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function no(t,e){Ta(t,0,t.children.length,e,t)}function Ta(t,e,n,i,r){r||(r=bo(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=e;o<n;o++){const a=t.children[o];Ea(r,t.leaf?i(a):a)}return r}function Ea(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Ab(t,e){return t.minX-e.minX}function Ob(t,e){return t.minY-e.minY}function $u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Ps(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Db(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function zb(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function Nu(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Rs(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function bo(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Tf(t,e,n,i,r){const o=[e,n];for(;o.length;){if((n=o.pop())-(e=o.pop())<=i)continue;const a=e+Math.ceil((n-e)/i/2)*i;Nm(t,a,e,n,r),o.push(e,a,a,n)}}var er=0,Xo=1,Nt=2,Po=3;function Ef(t){return t[0]>0&&t[1]>0}function Hm(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function an(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class uu{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=an(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new uu({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return lt()}getImage(e){return lt()}getHitDetectionImage(){return lt()}getPixelRatio(e){return 1}getImageState(){return lt()}getImageSize(){return lt()}getOrigin(){return lt()}getSize(){return lt()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=an(e)}listenImageChange(e){lt()}load(){lt()}unlistenImageChange(e){lt()}ready(){return Promise.resolve()}}var Qa={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},nn={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};nn.max=nn.whitepoint[2].D65,nn.rgb=function(t,e){e=e||nn.whitepoint[2].E;var n,i,r,o=t[0]/e[0],a=t[1]/e[1],s=t[2]/e[2];return i=-.96924363628087*o+1.87596750150772*a+.041555057407175*s,r=.055630079696993*o+-.20397695888897*a+1.056971514242878*s,n=(n=3.240969941904521*o+-1.537383177570093*a+-.498610760293*s)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1)),255*(r=Math.min(Math.max(0,r),1))]},Qa.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,r=t[2]/255,o=.21263900587151*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.71516867876775*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.072192315360733*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92),a=.019330818715591*n+.11919477979462*i+.95053215224966*r;return[(.41239079926595*n+.35758433938387*i+.18048078840183*r)*(e=e||nn.whitepoint[2].E)[0],o*e[1],a*e[2]]};var ld={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,r,o,a,s,l,c,u,d;return o=t[0],a=t[1],s=t[2],o===0?[0,0,0]:(e=e||"D65",n=n||2,i=a/(13*o)+4*(c=nn.whitepoint[n][e][0])/(c+15*(u=nn.whitepoint[n][e][1])+3*(d=nn.whitepoint[n][e][2]))||0,r=s/(13*o)+9*u/(c+15*u+3*d)||0,[9*(l=o>8?u*Math.pow((o+16)/116,3):u*o*.0011070564598794539)*i/(4*r)||0,l,l*(12-3*i-20*r)/(4*r)||0])}};nn.luv=function(t,e,n){var i,r,o,a,s,l,c,u,d,h,p;e=e||"D65",n=n||2,h=4*(c=nn.whitepoint[n][e][0])/(c+15*(u=nn.whitepoint[n][e][1])+3*(d=nn.whitepoint[n][e][2])),p=9*u/(c+15*u+3*d),i=4*(a=t[0])/(a+15*(s=t[1])+3*(l=t[2]))||0,r=9*s/(a+15*s+3*l)||0;var f=s/u;return[o=f<=.008856451679035631?903.2962962962961*f:116*Math.pow(f,1/3)-16,13*o*(i-h),13*o*(r-p)]};var Gm={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]},xyz:function(t){return ld.xyz(Gm.luv(t))}};ld.lchuv=function(t){var e=t[0],n=t[1],i=t[2],r=Math.sqrt(n*n+i*i),o=360*Math.atan2(i,n)/2/Math.PI;return o<0&&(o+=360),[e,r,o]},nn.lchuv=function(t){return ld.lchuv(nn.luv(t))};var Mf={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Lf={red:0,orange:60,yellow:120,green:180,blue:240,purple:300},ju={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,n,i,r,o,a=t[0]/360,s=t[1]/100,l=t[2]/100,c=0;if(s===0)return[o=255*l,o,o];for(e=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];c<3;)(i=a+1/3*-(c-1))<0?i++:i>1&&i--,o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[c++]=255*o;return r}};function Bb(t){var e;Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var n=function(o){var a,s,l=[],c=1;if(typeof o=="number")return{space:"rgb",values:[o>>>16,(65280&o)>>>8,255&o],alpha:1};if(typeof o=="number")return{space:"rgb",values:[o>>>16,(65280&o)>>>8,255&o],alpha:1};if(o=String(o).toLowerCase(),Mf[o])l=Mf[o].slice(),s="rgb";else if(o==="transparent")c=0,s="rgb",l=[0,0,0];else if(o[0]==="#"){var u=o.slice(1),d=u.length;c=1,d<=4?(l=[parseInt(u[0]+u[0],16),parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16)],d===4&&(c=parseInt(u[3]+u[3],16)/255)):(l=[parseInt(u[0]+u[1],16),parseInt(u[2]+u[3],16),parseInt(u[4]+u[5],16)],d===8&&(c=parseInt(u[6]+u[7],16)/255)),l[0]||(l[0]=0),l[1]||(l[1]=0),l[2]||(l[2]=0),s="rgb"}else if(a=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(o)){var h=a[1],p=(s=h.replace(/a$/,""))==="cmyk"?4:s==="gray"?1:3;l=a[2].trim().split(/\s*[,\/]\s*|\s+/),s==="color"&&(s=l.shift()),l=l.map(function(f,v){if(f[f.length-1]==="%")return f=parseFloat(f)/100,v===3?f:s==="rgb"?255*f:s[0]==="h"?100*f:s[0]!=="l"||v?s==="lab"?125*f:s==="lch"?v<2?150*f:360*f:s[0]!=="o"||v?s==="oklab"?.4*f:s==="oklch"?v<2?.4*f:360*f:f:f:100*f;if(s[v]==="h"||v===2&&s[s.length-1]==="h"){if(Lf[f]!==void 0)return Lf[f];if(f.endsWith("deg"))return parseFloat(f);if(f.endsWith("turn"))return 360*parseFloat(f);if(f.endsWith("grad"))return 360*parseFloat(f)/400;if(f.endsWith("rad"))return 180*parseFloat(f)/Math.PI}return f==="none"?0:parseFloat(f)}),c=l.length>p?l.pop():1}else/[0-9](?:\s|\/|,)/.test(o)&&(l=o.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),s=o.match(/([a-z])/gi)?.join("")?.toLowerCase()||"rgb");return{space:s,values:l,alpha:c}}(t);if(!n.space)return[];const i=n.space[0]==="h"?ju.min:Qa.min,r=n.space[0]==="h"?ju.max:Qa.max;return(e=Array(3))[0]=Math.min(Math.max(n.values[0],i[0]),r[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),r[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),r[2]),n.space[0]==="h"&&(e=ju.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}Qa.hsl=function(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return s===a?e=0:i===s?e=(r-o)/l:r===s?e=2+(o-i)/l:o===s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s===a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]};const np=[NaN,NaN,NaN,0],ga={};let Hu=0;function Vb(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function qf(t){const e=nn.lchuv(Qa.xyz(t));return e[3]=t[3],e}function ip(t){if(t==="none")return np;if(ga.hasOwnProperty(t))return ga[t];if(Hu>=1024){let n=0;for(const i in ga)3&n++||(delete ga[i],--Hu)}const e=Bb(t);if(e.length!==4)throw new Error('failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('failed to parse "'+t+'" as color');return Wm(e),ga[t]=e,++Hu,e}function Ja(t){return Array.isArray(t)?t:ip(t)}function Wm(t){return t[0]=St(t[0]+.5|0,0,255),t[1]=St(t[1]+.5|0,0,255),t[2]=St(t[2]+.5|0,0,255),t[3]=St(t[3],0,1),t}function rp(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(t[3]===void 0?1:Math.round(1e3*t[3])/1e3)+")"}const Xi=typeof navigator<"u"&&navigator.userAgent!==void 0?navigator.userAgent.toLowerCase():"",$b=Xi.includes("firefox");Xi.includes("safari")&&!Xi.includes("chrom")&&(Xi.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Xi));const Nb=Xi.includes("webkit")&&!Xi.includes("edge"),Ym=Xi.includes("macintosh"),Xm=typeof devicePixelRatio<"u"?devicePixelRatio:1,Um=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Km=typeof Image<"u"&&Image.prototype.decode,Zm=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function Rt(t,e,n,i){let r;return r=n&&n.length?n.shift():Um?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",i)}let Gu;function Ml(){return Gu||(Gu=Rt(1,1)),Gu}function Uo(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function jb(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function Hb(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function If(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function Qm(t){for(;t.lastChild;)t.lastChild.remove()}function Gb(t,e){return e&&(t.src=e),t.src&&Km?new Promise((n,i)=>t.decode().then(()=>n(t)).catch(r=>t.complete&&t.width?n(t):i(r))):function(n,i){return new Promise((r,o)=>{function a(){l(),r(n)}function s(){l(),o(new Error("Image load error"))}function l(){n.removeEventListener("load",a),n.removeEventListener("error",s)}n.addEventListener("load",a),n.addEventListener("error",s)})}(t)}function Wu(t,e,n){return e+":"+t+":"+(n?Ja(n):"null")}const ni=new class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const n=this.cache_[e];3&t++||n.hasListener()||(delete this.cache_[e],delete this.patternCache_[e],--this.cacheSize_)}}}get(t,e,n){const i=Wu(t,e,n);return i in this.cache_?this.cache_[i]:null}getPattern(t,e,n){const i=Wu(t,e,n);return i in this.patternCache_?this.patternCache_[i]:null}set(t,e,n,i,r){const o=Wu(t,e,n),a=o in this.cache_;this.cache_[o]=i,r&&(i.getImageState()===er&&i.load(),i.getImageState()===Xo?i.ready().then(()=>{this.patternCache_[o]=Ml().createPattern(i.getImage(1),"repeat")}):this.patternCache_[o]=Ml().createPattern(i.getImage(1),"repeat")),a||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}};let va=null;class Wb extends tu{constructor(e,n,i,r,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=r===void 0?er:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Nt){va||(va=Rt(1,1,void 0,{willReadFrequently:!0})),va.drawImage(this.image_,0,0);try{va.getImageData(0,0,1,1),this.tainted_=!1}catch{va=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(At)}handleImageError_(){this.imageState_=Po,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Nt,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],i=Rt(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===er){this.image_||this.initializeImage_(),this.imageState_=Xo;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&Gb(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Nt)return;const n=this.image_,i=Rt(Math.ceil(n.width*e),Math.ceil(n.height*e)),r=i.canvas;var o;i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=typeof(o=this.color_)=="string"?o:rp(o),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===Nt||this.imageState_===Po)e();else{const n=()=>{this.imageState_!==Nt&&this.imageState_!==Po||(this.removeEventListener(At,n),e())};this.addEventListener(At,n)}})),this.ready_}}function op(t,e,n,i,r,o){let a=e===void 0?void 0:ni.get(e,n,r);return a||(a=new Wb(t,t&&"src"in t?t.src||void 0:e,n,i,r),ni.set(e,n,r,a,o)),o&&a&&!ni.getPattern(e,n,r)&&ni.set(e,n,r,a,o),a}function ii(t){return t?Array.isArray(t)?rp(t):typeof t=="object"&&"src"in t?function(e){if(!e.offset||!e.size)return ni.getPattern(e.src,"anonymous",e.color);const n=e.src+":"+e.offset,i=ni.getPattern(n,void 0,e.color);if(i)return i;const r=ni.get(e.src,"anonymous",null);if(r.getImageState()!==Nt)return null;const o=Rt(e.size[0],e.size[1]);return o.drawImage(r.getImage(1),e.offset[0],e.offset[1],e.size[0],e.size[1],0,0,e.size[0],e.size[1]),op(o.canvas,n,void 0,Nt,e.color,!0),ni.getPattern(n,void 0,e.color)}(t):t:null}const Fs="ol-hidden",vs="ol-unselectable",ap="ol-control",Pf="ol-collapsed",Yb=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),Rf=["style","variant","weight","size","lineHeight","family"],Jm=function(t){const e=t.match(Yb);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=Rf.length;i<r;++i){const o=e[i+1];o!==void 0&&(n[Rf[i]]=o)}return n.families=n.family.split(/,\s?/),n},e0="10px sans-serif",vn="#000",Ko="round",Ti=[],Zo="round",es="#000",ts="center",Ll="middle",Mr=[0,0,0,0],vi=new On;let ud,xo=null;const cd={},Xb=function(){const t="32px ",e=["monospace","serif"],n=e.length,i="wmytzilWMYTZIL@#/&?$%10";let r,o;function a(l,c,u){let d=!0;for(let h=0;h<n;++h){const p=e[h];if(o=ql(l+" "+c+" "+t+p,i),u!=p){const f=ql(l+" "+c+" "+t+u+","+p,i);d=d&&f!=o}}return!!d}function s(){let l=!0;const c=vi.getKeys();for(let u=0,d=c.length;u<d;++u){const h=c[u];if(vi.get(h)<100){const[p,f,v]=h.split(`
`);a(p,f,v)?(hs(cd),xo=null,ud=void 0,vi.set(h,100)):(vi.set(h,vi.get(h)+1,!0),l=!1)}}l&&(clearInterval(r),r=void 0)}return function(l){const c=Jm(l);if(!c)return;const u=c.families;for(let d=0,h=u.length;d<h;++d){const p=u[d],f=c.style+`
`+c.weight+`
`+p;vi.get(f)===void 0&&(vi.set(f,100,!0),a(c.style,c.weight,p)||(vi.set(f,0,!0),r===void 0&&(r=setInterval(s,32))))}}}(),Ub=function(){let t;return function(e){let n=cd[e];if(n==null){if(Um){const i=Jm(e),r=t0(e,"g");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);cd[e]=n}return n}}();function t0(t,e){return xo||(xo=Rt(1,1)),t!=ud&&(xo.font=t,ud=xo.font),xo.measureText(e)}function ql(t,e){return t0(t,e).width}function Ff(t,e,n){if(e in n)return n[e];const i=e.split(`
`).reduce((r,o)=>Math.max(r,ql(t,o)),0);return n[e]=i,i}function Kb(t,e,n,i,r,o,a,s,l,c,u){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=d=>d.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(l,c),t.scale(u[0],u[1]),function(d,h){const p=d.contextInstructions;for(let f=0,v=p.length;f<v;f+=2)Array.isArray(p[f+1])?h[p[f]].apply(h,p[f+1]):h[p[f]]=p[f+1]}(i,t)):u[0]<0||u[1]<0?(t.translate(l,c),t.scale(u[0],u[1]),t.drawImage(i,r,o,a,s,0,0,a,s)):t.drawImage(i,r,o,a,s,l,c,a*u[0],s*u[1]),t.restore()}class tr extends uu{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0&&e.rotateWithView,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Xo:Nt,this.imageState_===Xo&&this.ready().then(()=>this.imageState_=Nt),this.render()}clone(){const e=this.getScale(),n=new tr({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-n[0]/i[0],e[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let n=this.canvases_[e];if(!n){const i=this.renderOptions_,r=Rt(i.size*e,i.size*e);this.draw_(i,r,e),n=r.canvas,this.canvases_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,i){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){const x=r;r=o,o=x}const a=this.radius2_===void 0?this.points_:2*this.points_,s=2*Math.PI/a,l=o*Math.sin(s),c=r-Math.sqrt(o*o-l*l),u=Math.sqrt(l*l+c*c),d=u/l;if(e==="miter"&&d<=i)return d*n;const h=n/2/d,p=n/2*(c/u),f=Math.sqrt((r+h)*(r+h)+p*p)-r;if(this.radius2_===void 0||e==="bevel")return 2*f;const v=r*Math.sin(s),w=o-Math.sqrt(r*r-v*v),b=Math.sqrt(v*v+w*w)/v;if(b<=i){const x=b*n/2-o-r;return 2*Math.max(f,x)}return 2*f}createRenderOptions(){let e,n=Ko,i=Zo,r=0,o=null,a=0,s=0;this.stroke_&&(e=ii(this.stroke_.getColor()??es),s=this.stroke_.getWidth()??1,o=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset()??0,i=this.stroke_.getLineJoin()??Zo,n=this.stroke_.getLineCap()??Ko,r=this.stroke_.getMiterLimit()??10);const l=this.calculateLineJoinSize_(i,s,r),c=Math.max(this.radius,this.radius2_||0);return{strokeStyle:e,strokeWidth:s,size:Math.ceil(2*c+l),lineCap:n,lineDash:o,lineDashOffset:a,lineJoin:i,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,i){if(n.scale(i,i),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=vn),n.fillStyle=ii(r),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=Ja(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(n=Rt(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const i=this.radius;if(n===1/0)e.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const o=this.angle_-Math.PI/2,a=2*Math.PI/n;for(let s=0;s<n;s++){const l=o+s*a,c=s%2==0?i:r;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=vn,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class ui extends tr{constructor(e){super({points:1/0,fill:(e=e||{radius:5}).fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0&&e.rotateWithView,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new ui({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius=e,this.render()}}class Yt{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new Yt({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=op(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===er&&n.load(),n.getImageState()===Xo&&(this.patternImage_=n)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class Bt{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Bt({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class Pt{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=Of,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Pt({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Of,this.geometry_=e}setZIndex(e){this.zIndex_=e}}let Yu=null;function Af(t,e){if(!Yu){const n=new Yt({color:"rgba(255,255,255,0.4)"}),i=new Bt({color:"#3399CC",width:1.25});Yu=[new Pt({image:new ui({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return Yu}function Of(t){return t.getGeometry()}function Df(t,e,n,i){return n!==void 0&&i!==void 0?[n/t,i/e]:n!==void 0?n/t:i!==void 0?i/e:1}class cu extends uu{constructor(e){const n=(e=e||{}).opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,o=e.rotateWithView!==void 0&&e.rotateWithView;super({opacity:n,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const a=e.img!==void 0?e.img:null;let s,l=e.src;if(ct(!(l!==void 0&&a),"`image` and `src` cannot be provided at the same time"),l!==void 0&&l.length!==0||!a||(l=a.src||pt(a)),ct(l!==void 0&&l.length>0,"A defined and non-empty `src` or `image` must be provided"),ct(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`"),e.src!==void 0?s=er:a!==void 0&&(s="complete"in a?a.complete?a.src?Nt:er:Xo:Nt),this.color_=e.color!==void 0?Ja(e.color):null,this.iconImage_=op(a,l,this.crossOrigin_,s,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{const d=this.getImage(1);if(d.width&&d.height)c=d.width,u=d.height;else if(d instanceof HTMLImageElement){this.initialOptions_=e;const h=()=>{if(this.unlistenImageChange(h),!this.initialOptions_)return;const p=this.iconImage_.getSize();this.setScale(Df(p[0],p[1],e.width,e.height))};return void this.listenImageChange(h)}}c!==void 0&&this.setScale(Df(c,u,e.width,e.height))}}clone(){let e,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new cu({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),this.anchorOrigin_!="top-right"&&this.anchorOrigin_!="bottom-right"||(e[0]=-e[0]+r[0]),this.anchorOrigin_!="bottom-left"&&this.anchorOrigin_!="bottom-right"||(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),this.offsetOrigin_!="top-right"&&this.offsetOrigin_!="bottom-right"||(e[0]=i[0]-n[0]-e[0]),this.offsetOrigin_!="bottom-left"&&this.offsetOrigin_!="bottom-right"||(e[1]=i[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:this.iconImage_.getImageState()==Nt?this.iconImage_.getSize()[0]*e[0]:void 0}getHeight(){const e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:this.iconImage_.getImageState()==Nt?this.iconImage_.getSize()[1]*e[1]:void 0}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(At,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(At,e)}ready(){return this.iconImage_.ready()}}class Ro{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=an(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Yt({color:"#333"}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Ro({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=an(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let aa=0;const dn=1<<aa++,Ze=1<<aa++,mn=1<<aa++,Hn=1<<aa++,jr=1<<aa++,Ma=1<<aa++,As=Math.pow(2,6)-1,sp={[dn]:"boolean",[Ze]:"number",[mn]:"string",[Hn]:"color",[jr]:"number[]",[Ma]:"size"},Zb=Object.keys(sp).map(Number).sort(Ci);function La(t){const e=[];for(const n of Zb)qa(t,n)&&e.push(sp[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function qa(t,e){return(t&e)===e}function Oi(t,e){return t===e}class Vt{constructor(e,n){if(!function(i){return i in sp}(e))throw new Error(`literal expressions must have a specific type, got ${La(e)}`);this.type=e,this.value=n}}class Qb{constructor(e,n,...i){this.type=e,this.operator=n,this.args=i}}function n0(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function Ut(t,e,n){switch(typeof t){case"boolean":if(Oi(e,mn))return new Vt(mn,t?"true":"false");if(!qa(e,dn))throw new Error(`got a boolean, but expected ${La(e)}`);return new Vt(dn,t);case"number":if(Oi(e,Ma))return new Vt(Ma,an(t));if(Oi(e,dn))return new Vt(dn,!!t);if(Oi(e,mn))return new Vt(mn,t.toString());if(!qa(e,Ze))throw new Error(`got a number, but expected ${La(e)}`);return new Vt(Ze,t);case"string":if(Oi(e,Hn))return new Vt(Hn,ip(t));if(Oi(e,dn))return new Vt(dn,!!t);if(!qa(e,mn))throw new Error(`got a string, but expected ${La(e)}`);return new Vt(mn,t)}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(t.length===0)throw new Error("empty expression");if(typeof t[0]=="string")return function(i,r,o){const a=i[0],s=a1[a];if(!s)throw new Error(`unknown operator: ${a}`);return s(i,r,o)}(t,e,n);for(const i of t)if(typeof i!="number")throw new Error("expected an array of numbers");if(Oi(e,Ma)){if(t.length!==2)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new Vt(Ma,t)}if(Oi(e,Hn)){if(t.length===3)return new Vt(Hn,[...t,1]);if(t.length===4)return new Vt(Hn,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!qa(e,jr))throw new Error(`got an array of numbers, but expected ${La(e)}`);return new Vt(jr,t)}const dd="get",hd="var",i0="concat",r0="geometry-type",Jb="line-metric",pd="any",fd="all",gd="!",o0="resolution",e1="zoom",t1="time",vd="==",md="!=",yd=">",_d=">=",bd="<",xd="<=",wd="*",Sd="/",Cd="+",kd="-",Td="clamp",Ed="%",Md="^",Ld="abs",qd="floor",Id="ceil",Pd="round",Rd="sin",Fd="cos",Ad="atan",Od="sqrt",a0="match",Dd="between",s0="interpolate",zd="coalesce",l0="case",Bd="in",Vd="number",$d="string",n1="array",i1="color",u0="id",r1="band",o1="palette",Nd="to-string",jd="has",a1={[dd]:Ve(Ne(1,1/0),zf),[hd]:Ve(Ne(1,1),function(t,e,n){const i=t[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return n.variables.add(i),[new Vt(mn,i)]}),[jd]:Ve(Ne(1,1/0),zf),[u0]:Ve(function(t,e,n){n.featureId=!0},io),[i0]:Ve(Ne(2,1/0),dt(mn)),[r0]:Ve(function(t,e,n){n.geometryType=!0},io),[Jb]:Ve(io),[o0]:Ve(io),[e1]:Ve(io),[t1]:Ve(io),[pd]:Ve(Ne(2,1/0),dt(dn)),[fd]:Ve(Ne(2,1/0),dt(dn)),[gd]:Ve(Ne(1,1),dt(dn)),[vd]:Ve(Ne(2,2),dt(As)),[md]:Ve(Ne(2,2),dt(As)),[yd]:Ve(Ne(2,2),dt(Ze)),[_d]:Ve(Ne(2,2),dt(Ze)),[bd]:Ve(Ne(2,2),dt(Ze)),[xd]:Ve(Ne(2,2),dt(Ze)),[wd]:Ve(Ne(2,1/0),Bf),[zd]:Ve(Ne(2,1/0),Bf),[Sd]:Ve(Ne(2,2),dt(Ze)),[Cd]:Ve(Ne(2,1/0),dt(Ze)),[kd]:Ve(Ne(2,2),dt(Ze)),[Td]:Ve(Ne(3,3),dt(Ze)),[Ed]:Ve(Ne(2,2),dt(Ze)),[Md]:Ve(Ne(2,2),dt(Ze)),[Ld]:Ve(Ne(1,1),dt(Ze)),[qd]:Ve(Ne(1,1),dt(Ze)),[Id]:Ve(Ne(1,1),dt(Ze)),[Pd]:Ve(Ne(1,1),dt(Ze)),[Rd]:Ve(Ne(1,1),dt(Ze)),[Fd]:Ve(Ne(1,1),dt(Ze)),[Ad]:Ve(Ne(1,2),dt(Ze)),[Od]:Ve(Ne(1,1),dt(Ze)),[a0]:Ve(Ne(4,1/0),Vf,function(t,e,n){const i=t.length-1,r=mn|Ze|dn,o=Ut(t[1],r,n),a=Ut(t[t.length-1],e,n),s=new Array(i-2);for(let l=0;l<i-2;l+=2){try{const c=Ut(t[l+2],o.type,n);s[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{const c=Ut(t[l+3],a.type,n);s[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[o,...s,a]}),[Dd]:Ve(Ne(3,3),dt(Ze)),[s0]:Ve(Ne(6,1/0),Vf,function(t,e,n){const i=t[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);r=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const o=new Vt(Ze,r);let a;try{a=Ut(t[2],Ze,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}const s=new Array(t.length-3);for(let l=0;l<s.length;l+=2){try{const c=Ut(t[l+3],Ze,n);s[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{const c=Ut(t[l+4],e,n);s[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[o,a,...s]}),[l0]:Ve(Ne(3,1/0),function(t,e,n){const i=t[0],r=t.length-1;if(r%2==0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)},function(t,e,n){const i=Ut(t[t.length-1],e,n),r=new Array(t.length-1);for(let o=0;o<r.length-1;o+=2){try{const a=Ut(t[o+1],dn,n);r[o]=a}catch(a){throw new Error(`failed to parse argument ${o} of case expression: ${a.message}`)}try{const a=Ut(t[o+2],i.type,n);r[o+1]=a}catch(a){throw new Error(`failed to parse argument ${o+1} of case expression: ${a.message}`)}}return r[r.length-1]=i,r}),[Bd]:Ve(Ne(2,2),function(t,e,n){let i,r=t[2];if(!Array.isArray(r))throw new Error('the second argument for the "in" operator must be an array');if(typeof r[0]=="string"){if(r[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(r[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');r=r[1],i=mn}else i=Ze;const o=new Array(r.length);for(let a=0;a<o.length;a++)try{const s=Ut(r[a],i,n);o[a]=s}catch(s){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${s.message}`)}return[Ut(t[1],i,n),...o]}),[Vd]:Ve(Ne(1,1/0),dt(As)),[$d]:Ve(Ne(1,1/0),dt(As)),[n1]:Ve(Ne(1,1/0),dt(Ze)),[i1]:Ve(Ne(1,4),dt(Ze)),[r1]:Ve(Ne(1,3),dt(Ze)),[o1]:Ve(Ne(2,2),function(t,e,n){let i;try{i=Ut(t[1],Ze,n)}catch(a){throw new Error(`failed to parse first argument in palette expression: ${a.message}`)}const r=t[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const o=new Array(r.length);for(let a=0;a<o.length;a++){let s;try{s=Ut(r[a],Hn,n)}catch(l){throw new Error(`failed to parse color at index ${a} in palette expression: ${l.message}`)}if(!(s instanceof Vt))throw new Error(`the palette color at index ${a} must be a literal value`);o[a]=s}return[i,...o]}),[Nd]:Ve(Ne(1,1),dt(dn|Ze|mn|Hn))};function zf(t,e,n){const i=t.length-1,r=new Array(i);for(let o=0;o<i;++o){const a=t[o+1];switch(typeof a){case"number":r[o]=new Vt(Ze,a);break;case"string":r[o]=new Vt(mn,a);break;default:throw new Error(`expected a string key or numeric array index for a get operation, got ${a}`)}o===0&&n.properties.add(String(a))}return r}function io(t,e,n){const i=t[0];if(t.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function Ne(t,e){return function(n,i,r){const o=n[0],a=n.length-1;if(t===e){if(a!==t)throw new Error(`expected ${t} argument${t===1?"":"s"} for ${o}, got ${a}`)}else if(a<t||a>e)throw new Error(`expected ${e===1/0?`${t} or more`:`${t} to ${e}`} arguments for ${o}, got ${a}`)}}function Bf(t,e,n){const i=t.length-1,r=new Array(i);for(let o=0;o<i;++o){const a=Ut(t[o+1],e,n);r[o]=a}return r}function dt(t){return function(e,n,i){const r=e.length-1,o=new Array(r);for(let a=0;a<r;++a){const s=Ut(e[a+1],t,i);o[a]=s}return o}}function Vf(t,e,n){const i=t[0],r=t.length-1;if(r%2==1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function Ve(...t){return function(e,n,i){const r=e[0];let o;for(let a=0;a<t.length;a++){const s=t[a](e,n,i);if(a==t.length-1){if(!s)throw new Error("expected last argument validator to return the parsed args");o=s}}return new Qb(n,r,...o)}}function c0(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return c0(t.getGeometries()[0]);default:return""}}function Ri(t,e,n){return Bn(Ut(t,e,n))}function Bn(t,e){if(t instanceof Vt){if(t.type===Hn&&typeof t.value=="string"){const i=ip(t.value);return function(){return i}}return function(){return t.value}}const n=t.operator;switch(n){case Vd:case $d:case zd:return function(i){const r=i.operator,o=i.args.length,a=new Array(o);for(let s=0;s<o;++s)a[s]=Bn(i.args[s]);switch(r){case zd:return s=>{for(let l=0;l<o;++l){const c=a[l](s);if(c!=null)return c}throw new Error("Expected one of the values to be non-null")};case Vd:case $d:return s=>{for(let l=0;l<o;++l){const c=a[l](s);if(typeof c===r)return c}throw new Error(`Expected one of the values to be a ${r}`)};default:throw new Error(`Unsupported assertion operator ${r}`)}}(t);case dd:case hd:case jd:return function(i){const r=i.args[0],o=r.value;switch(i.operator){case dd:return a=>{const s=i.args;let l=a.properties[o];for(let c=1,u=s.length;c<u;++c)l=l[s[c].value];return l};case hd:return a=>a.variables[o];case jd:return a=>{const s=i.args;if(!(o in a.properties))return!1;let l=a.properties[o];for(let c=1,u=s.length;c<u;++c){const d=s[c].value;if(!l||!Object.hasOwn(l,d))return!1;l=l[d]}return!0};default:throw new Error(`Unsupported accessor operator ${i.operator}`)}}(t);case u0:return i=>i.featureId;case r0:return i=>i.geometryType;case i0:{const i=t.args.map(r=>Bn(r));return r=>"".concat(...i.map(o=>o(r).toString()))}case o0:return i=>i.resolution;case pd:case fd:case Dd:case Bd:case gd:return function(i){const r=i.operator,o=i.args.length,a=new Array(o);for(let s=0;s<o;++s)a[s]=Bn(i.args[s]);switch(r){case pd:return s=>{for(let l=0;l<o;++l)if(a[l](s))return!0;return!1};case fd:return s=>{for(let l=0;l<o;++l)if(!a[l](s))return!1;return!0};case Dd:return s=>{const l=a[0](s),c=a[1](s),u=a[2](s);return l>=c&&l<=u};case Bd:return s=>{const l=a[0](s);for(let c=1;c<o;++c)if(l===a[c](s))return!0;return!1};case gd:return s=>!a[0](s);default:throw new Error(`Unsupported logical operator ${r}`)}}(t);case vd:case md:case bd:case xd:case yd:case _d:return function(i){const r=i.operator,o=Bn(i.args[0]),a=Bn(i.args[1]);switch(r){case vd:return s=>o(s)===a(s);case md:return s=>o(s)!==a(s);case bd:return s=>o(s)<a(s);case xd:return s=>o(s)<=a(s);case yd:return s=>o(s)>a(s);case _d:return s=>o(s)>=a(s);default:throw new Error(`Unsupported comparison operator ${r}`)}}(t);case wd:case Sd:case Cd:case kd:case Td:case Ed:case Md:case Ld:case qd:case Id:case Pd:case Rd:case Fd:case Ad:case Od:return function(i){const r=i.operator,o=i.args.length,a=new Array(o);for(let s=0;s<o;++s)a[s]=Bn(i.args[s]);switch(r){case wd:return s=>{let l=1;for(let c=0;c<o;++c)l*=a[c](s);return l};case Sd:return s=>a[0](s)/a[1](s);case Cd:return s=>{let l=0;for(let c=0;c<o;++c)l+=a[c](s);return l};case kd:return s=>a[0](s)-a[1](s);case Td:return s=>{const l=a[0](s),c=a[1](s);if(l<c)return c;const u=a[2](s);return l>u?u:l};case Ed:return s=>a[0](s)%a[1](s);case Md:return s=>Math.pow(a[0](s),a[1](s));case Ld:return s=>Math.abs(a[0](s));case qd:return s=>Math.floor(a[0](s));case Id:return s=>Math.ceil(a[0](s));case Pd:return s=>Math.round(a[0](s));case Rd:return s=>Math.sin(a[0](s));case Fd:return s=>Math.cos(a[0](s));case Ad:return o===2?s=>Math.atan2(a[0](s),a[1](s)):s=>Math.atan(a[0](s));case Od:return s=>Math.sqrt(a[0](s));default:throw new Error(`Unsupported numeric operator ${r}`)}}(t);case l0:return function(i){const r=i.args.length,o=new Array(r);for(let a=0;a<r;++a)o[a]=Bn(i.args[a]);return a=>{for(let s=0;s<r-1;s+=2)if(o[s](a))return o[s+1](a);return o[r-1](a)}}(t);case a0:return function(i){const r=i.args.length,o=new Array(r);for(let a=0;a<r;++a)o[a]=Bn(i.args[a]);return a=>{const s=o[0](a);for(let l=1;l<r;l+=2)if(s===o[l](a))return o[l+1](a);return o[r-1](a)}}(t);case s0:return function(i){const r=i.args.length,o=new Array(r);for(let a=0;a<r;++a)o[a]=Bn(i.args[a]);return a=>{const s=o[0](a),l=o[1](a);let c,u;for(let d=2;d<r;d+=2){const h=o[d](a);let p=o[d+1](a);const f=Array.isArray(p);if(f&&(p=Vb(p)),h>=l)return d===2?p:f?s1(s,l,c,u,h,p):Ia(s,l,c,u,h,p);c=h,u=p}return u}}(t);case Nd:return function(i){const r=i.operator,o=i.args.length,a=new Array(o);for(let s=0;s<o;++s)a[s]=Bn(i.args[s]);if(r===Nd)return s=>{const l=a[0](s);return i.args[0].type===Hn?rp(l):l.toString()};throw new Error(`Unsupported convert operator ${r}`)}(t);default:throw new Error(`Unsupported operator ${n}`)}}function Ia(t,e,n,i,r,o){const a=r-n;if(a===0)return i;const s=e-n;return i+(t===1?s/a:(Math.pow(t,s)-1)/(Math.pow(t,a)-1))*(o-i)}function s1(t,e,n,i,r,o){if(r-n===0)return i;const a=qf(i),s=qf(o);let l=s[2]-a[2];return l>180?l-=360:l<-180&&(l+=360),Wm(function(c){const u=nn.rgb(Gm.xyz(c));return u[3]=c[3],u}([Ia(t,e,n,a[0],r,s[0]),Ia(t,e,n,a[1],r,s[1]),a[2]+Ia(t,e,n,0,r,l),Ia(t,e,n,i[3],r,o[3])]))}function l1(t){return!0}function u1(t){const e=n0(),n=function(r,o){const a=r.length,s=new Array(a);for(let l=0;l<a;++l){const c=r[l],u="filter"in c?Ri(c.filter,dn,o):l1;let d;if(Array.isArray(c.style)){const h=c.style.length;d=new Array(h);for(let p=0;p<h;++p)d[p]=Hd(c.style[p],o)}else d=[Hd(c.style,o)];s[l]={filter:u,styles:d}}return function(l){const c=[];let u=!1;for(let d=0;d<a;++d)if((0,s[d].filter)(l)&&(!r[d].else||!u)){u=!0;for(const h of s[d].styles){const p=h(l);p&&c.push(p)}}return c}}(t,e),i={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(r,o){if(i.properties=r.getPropertiesInternal(),i.resolution=o,e.featureId){const a=r.getId();i.featureId=a!==void 0?a:null}return e.geometryType&&(i.geometryType=c0(r.getGeometry())),n(i)}}function $f(t){const e=n0(),n=t.length,i=new Array(n);for(let a=0;a<n;++a)i[a]=Hd(t[a],e);const r={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},o=new Array(n);return function(a,s){if(r.properties=a.getPropertiesInternal(),r.resolution=s,e.featureId){const c=a.getId();r.featureId=c!==void 0?c:null}let l=0;for(let c=0;c<n;++c){const u=i[c](r);u&&(o[l]=u,l+=1)}return o.length=l,o}}function Hd(t,e){const n=ma(t,"",e),i=ya(t,"",e),r=function(l,c){const u="text-",d=xi(l,u+"value",c);if(!d)return null;const h=ma(l,u,c),p=ma(l,u+"background-",c),f=ya(l,u,c),v=ya(l,u+"background-",c),w=xi(l,u+"font",c),b=fn(l,u+"max-angle",c),x=fn(l,u+"offset-x",c),g=fn(l,u+"offset-y",c),_=_a(l,u+"overflow",c),S=xi(l,u+"placement",c),C=fn(l,u+"repeat",c),T=Ds(l,u+"scale",c),L=_a(l,u+"rotate-with-view",c),z=fn(l,u+"rotation",c),I=xi(l,u+"align",c),R=xi(l,u+"justify",c),P=xi(l,u+"baseline",c),q=d0(l,u+"padding",c),k=Bs(l,u+"declutter-mode"),M=new Ro({declutterMode:k});return function(E){if(M.setText(d(E)),h&&M.setFill(h(E)),p&&M.setBackgroundFill(p(E)),f&&M.setStroke(f(E)),v&&M.setBackgroundStroke(v(E)),w&&M.setFont(w(E)),b&&M.setMaxAngle(b(E)),x&&M.setOffsetX(x(E)),g&&M.setOffsetY(g(E)),_&&M.setOverflow(_(E)),S){const O=S(E);if(O!=="point"&&O!=="line")throw new Error("Expected point or line for text-placement");M.setPlacement(O)}if(C&&M.setRepeat(C(E)),T&&M.setScale(T(E)),L&&M.setRotateWithView(L(E)),z&&M.setRotation(z(E)),I){const O=I(E);if(O!=="left"&&O!=="center"&&O!=="right"&&O!=="end"&&O!=="start")throw new Error("Expected left, right, center, start, or end for text-align");M.setTextAlign(O)}if(R){const O=R(E);if(O!=="left"&&O!=="right"&&O!=="center")throw new Error("Expected left, right, or center for text-justify");M.setJustify(O)}if(P){const O=P(E);if(O!=="bottom"&&O!=="top"&&O!=="middle"&&O!=="alphabetic"&&O!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");M.setTextBaseline(O)}return q&&M.setPadding(q(E)),M}}(t,e),o=function(l,c){return"icon-src"in l?function(u,d){const h="icon-",p=h+"src",f=h0(u[p],p),v=Os(u,h+"anchor",d),w=Ds(u,h+"scale",d),b=fn(u,h+"opacity",d),x=Os(u,h+"displacement",d),g=fn(u,h+"rotation",d),_=_a(u,h+"rotate-with-view",d),S=jf(u,h+"anchor-origin"),C=Hf(u,h+"anchor-x-units"),T=Hf(u,h+"anchor-y-units"),L=function(O,j){const V=O[j];if(V!==void 0)return p0(V,j)}(u,h+"color"),z=function(O,j){const V=O[j];if(V!==void 0){if(typeof V!="string")throw new Error(`Expected a string for ${j}`);return V}}(u,h+"cross-origin"),I=function(O,j){const V=O[j];if(V!==void 0)return ms(V,j)}(u,h+"offset"),R=jf(u,h+"offset-origin"),P=zs(u,h+"width"),q=zs(u,h+"height"),k=function(O,j){const V=O[j];if(V!==void 0){if(typeof V=="number")return an(V);if(!Array.isArray(V))throw new Error(`Expected a number or size array for ${j}`);if(V.length!==2||typeof V[0]!="number"||typeof V[1]!="number")throw new Error(`Expected a number or size array for ${j}`);return V}}(u,h+"size"),M=Bs(u,h+"declutter-mode"),E=new cu({src:f,anchorOrigin:S,anchorXUnits:C,anchorYUnits:T,color:L,crossOrigin:z,offset:I,offsetOrigin:R,height:q,width:P,size:k,declutterMode:M});return function(O){return b&&E.setOpacity(b(O)),x&&E.setDisplacement(x(O)),g&&E.setRotation(g(O)),_&&E.setRotateWithView(_(O)),w&&E.setScale(w(O)),v&&E.setAnchor(v(O)),E}}(l,c):"shape-points"in l?function(u,d){const h="shape-",p=h+"points",f=h+"radius",v=Wd(u[p],p),w=Wd(u[f],f),b=ma(u,h,d),x=ya(u,h,d),g=Ds(u,h+"scale",d),_=Os(u,h+"displacement",d),S=fn(u,h+"rotation",d),C=_a(u,h+"rotate-with-view",d),T=zs(u,h+"radius2"),L=zs(u,h+"angle"),z=Bs(u,h+"declutter-mode"),I=new tr({points:v,radius:w,radius2:T,angle:L,declutterMode:z});return function(R){return b&&I.setFill(b(R)),x&&I.setStroke(x(R)),_&&I.setDisplacement(_(R)),S&&I.setRotation(S(R)),C&&I.setRotateWithView(C(R)),g&&I.setScale(g(R)),I}}(l,c):"circle-radius"in l?function(u,d){const h="circle-",p=ma(u,h,d),f=ya(u,h,d),v=fn(u,h+"radius",d),w=Ds(u,h+"scale",d),b=Os(u,h+"displacement",d),x=fn(u,h+"rotation",d),g=_a(u,h+"rotate-with-view",d),_=Bs(u,h+"declutter-mode"),S=new ui({radius:5,declutterMode:_});return function(C){return v&&S.setRadius(v(C)),p&&S.setFill(p(C)),f&&S.setStroke(f(C)),b&&S.setDisplacement(b(C)),x&&S.setRotation(x(C)),g&&S.setRotateWithView(g(C)),w&&S.setScale(w(C)),S}}(l,c):null}(t,e),a=fn(t,"z-index",e);if(!(n||i||r||o||Ho(t)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const s=new Pt;return function(l){let c=!0;if(n){const u=n(l);u&&(c=!1),s.setFill(u)}if(i){const u=i(l);u&&(c=!1),s.setStroke(u)}if(r){const u=r(l);u&&(c=!1),s.setText(u)}if(o){const u=o(l);u&&(c=!1),s.setImage(u)}return a&&s.setZIndex(a(l)),c?null:s}}function ma(t,e,n){let i;if(e+"fill-pattern-src"in t)i=function(o,a,s){const l=xi(o,a+"pattern-src",s),c=Nf(o,a+"pattern-offset",s),u=Nf(o,a+"pattern-size",s),d=Gd(o,a+"color",s);return function(h){return{src:l(h),offset:c&&c(h),size:u&&u(h),color:d&&d(h)}}}(t,e+"fill-",n);else{if(t[e+"fill-color"]==="none")return o=>null;i=Gd(t,e+"fill-color",n)}if(!i)return null;const r=new Yt;return function(o){const a=i(o);return a===np?null:(r.setColor(a),r)}}function ya(t,e,n){const i=fn(t,e+"stroke-width",n),r=Gd(t,e+"stroke-color",n);if(!i&&!r)return null;const o=xi(t,e+"stroke-line-cap",n),a=xi(t,e+"stroke-line-join",n),s=d0(t,e+"stroke-line-dash",n),l=fn(t,e+"stroke-line-dash-offset",n),c=fn(t,e+"stroke-miter-limit",n),u=new Bt;return function(d){if(r){const h=r(d);if(h===np)return null;u.setColor(h)}if(i&&u.setWidth(i(d)),o){const h=o(d);if(h!=="butt"&&h!=="round"&&h!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(h)}if(a){const h=a(d);if(h!=="bevel"&&h!=="round"&&h!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(h)}return s&&u.setLineDash(s(d)),l&&u.setLineDashOffset(l(d)),c&&u.setMiterLimit(c(d)),u}}function fn(t,e,n){if(!(e in t))return;const i=Ri(t[e],Ze,n);return function(r){return Wd(i(r),e)}}function xi(t,e,n){if(!(e in t))return null;const i=Ri(t[e],mn,n);return function(r){return h0(i(r),e)}}function _a(t,e,n){if(!(e in t))return null;const i=Ri(t[e],dn,n);return function(r){const o=i(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${e}`);return o}}function Gd(t,e,n){if(!(e in t))return null;const i=Ri(t[e],Hn,n);return function(r){return p0(i(r),e)}}function d0(t,e,n){if(!(e in t))return null;const i=Ri(t[e],jr,n);return function(r){return ms(i(r),e)}}function Os(t,e,n){if(!(e in t))return null;const i=Ri(t[e],jr,n);return function(r){const o=ms(i(r),e);if(o.length!==2)throw new Error(`Expected two numbers for ${e}`);return o}}function Nf(t,e,n){if(!(e in t))return null;const i=Ri(t[e],jr,n);return function(r){return f0(i(r),e)}}function Ds(t,e,n){if(!(e in t))return null;const i=Ri(t[e],jr|Ze,n);return function(r){return function(o,a){return typeof o=="number"?o:f0(o,a)}(i(r),e)}}function zs(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function jf(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function Hf(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function Bs(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function ms(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if(typeof t[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function h0(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function Wd(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function p0(t,e){if(typeof t=="string")return t;const n=ms(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function f0(t,e){const n=ms(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}const Gf="renderOrder";class g0 extends lu{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0&&e.updateWhileAnimating,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Gf)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const i=this.getDeclutter();!(i in e.declutter)&&(e.declutter[i]=new jm(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(Gf,e)}setStyle(e){this.style_=e===void 0?Af:e;const n=function(i){if(i===void 0)return Af;if(!i)return null;if(typeof i=="function"||i instanceof Pt)return i;if(!Array.isArray(i))return $f([i]);if(i.length===0)return[];const r=i.length,o=i[0];if(o instanceof Pt){const a=new Array(r);for(let s=0;s<r;++s){const l=i[s];if(!(l instanceof Pt))throw new Error("Expected a list of style instances");a[s]=l}return a}if("style"in o){const a=new Array(r);for(let s=0;s<r;++s){const l=i[s];if(!("style"in l))throw new Error("Expected a list of rules with a style property");a[s]=l}return u1(a)}return $f(i)}(e);this.styleFunction_=e===null?void 0:function(i){let r;if(typeof i=="function")r=i;else{let o;Array.isArray(i)?o=i:(ct(typeof i.getZIndex=="function","Expected an `Style` or an array of `Style`"),o=[i]),r=function(){return o}}return r}(n),this.changed()}}class c1 extends eu{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){lt()}calculateMatrices2D(e){const n=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;Li(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Im(r,i)}forEachFeatureAtCoordinate(e,n,i,r,o,a,s,l){let c;const u=n.viewState;function d(_,S,C,T){return o.call(a,S,_?C:null,T)}const h=u.projection,p=Sm(e.slice(),h),f=[[0,0]];if(h.canWrapX()&&r){const _=Je(h.getExtent());f.push([-_,0],[_,0])}const v=n.layerStatesArray,w=v.length,b=[],x=[];for(let _=0;_<f.length;_++)for(let S=w-1;S>=0;--S){const C=v[S],T=C.layer;if(T.hasRenderer()&&tp(C,u)&&s.call(l,T)){const L=T.getRenderer(),z=T.getSource();if(L&&z){const I=z.getWrapX()?p:e,R=d.bind(null,C.managed);x[0]=I[0]+f[_][0],x[1]=I[1]+f[_][1],c=L.forEachFeatureAtCoordinate(x,n,i,R,b)}if(c)return c}}if(b.length===0)return;const g=1/b.length;return b.forEach((_,S)=>_.distanceSq+=S*g),b.sort((_,S)=>_.distanceSq-S.distanceSq),b.some(_=>c=_.callback(_.feature,_.layer,_.geometry)),c}hasFeatureAtCoordinate(e,n,i,r,o,a){return this.forEachFeatureAtCoordinate(e,n,i,r,No,this,o,a)!==void 0}getMap(){return this.map_}renderFrame(e){lt()}scheduleExpireIconCache(e){ni.canExpireCache()&&e.postRenderFunctions.push(d1)}}function d1(t,e){ni.expire()}class v0 extends di{constructor(e,n,i,r){super(e),this.inversePixelTransform=n,this.frameState=i,this.context=r}}class h1 extends c1{constructor(e){super(e),this.fontChangeListenerKey_=Qe(vi,$o,e.redrawText,e),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=vs+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const i=this.getMap();if(i.hasListener(e)){const r=new v0(e,void 0,n);i.dispatchEvent(r)}}disposeInternal(){bt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent(gm,e);const n=e.layerStatesArray.sort((a,s)=>a.zIndex-s.zIndex);n.some(a=>a.layer instanceof g0&&a.layer.getDeclutter())&&(e.declutter={});const i=e.viewState;this.children_.length=0;const r=[];let o=null;for(let a=0,s=n.length;a<s;++a){const l=n[a];e.layerIndex=a;const c=l.layer,u=c.getSourceState();if(!tp(l,i)||u!="ready"&&u!="undefined"){c.unrender();continue}const d=c.render(e,o);d&&(d!==o&&(this.children_.push(d),o=d),r.push(l))}this.declutter(e,r),function(a,s){const l=a.childNodes;for(let c=0;;++c){const u=l[c],d=s[c];if(!u&&!d)break;u!==d&&(u?d?a.insertBefore(d,u):(a.removeChild(u),--c):a.appendChild(d))}}(this.element_,this.children_),this.dispatchRenderEvent(pb,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let i=n.length-1;i>=0;--i){const r=n[i],o=r.layer;o.getDeclutter()&&o.renderDeclutter(e,r)}n.forEach(i=>i.layer.renderDeferred(e))}}}class Ni extends di{constructor(e,n){super(e),this.layer=n}}const Xu="layers";class Qo extends fm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let i=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Xu,this.handleLayersChanged_),i?Array.isArray(i)?i=new Mn(i.slice(),{unique:!0}):ct(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new Mn(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(bt),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Qe(e,Rr,this.handleLayersAdd_,this),Qe(e,Fr,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(bt);hs(this.listenerKeys_);const n=e.getArray();for(let i=0,r=n.length;i<r;i++){const o=n[i];this.registerLayerListeners_(o),this.dispatchEvent(new Ni("addlayer",o))}this.changed()}registerLayerListeners_(e){const n=[Qe(e,$o,this.handleLayerChange_,this),Qe(e,At,this.handleLayerChange_,this)];e instanceof Qo&&n.push(Qe(e,"addlayer",this.handleLayerGroupAdd_,this),Qe(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[pt(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new Ni("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Ni("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new Ni("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,i=pt(n);this.listenerKeys_[i].forEach(bt),delete this.listenerKeys_[i],this.dispatchEvent(new Ni("removelayer",n)),this.changed()}getLayers(){return this.get(Xu)}setLayers(e){const n=this.getLayers();if(n){const i=n.getArray();for(let r=0,o=i.length;r<o;++r)this.dispatchEvent(new Ni("removelayer",i[r]))}this.set(Xu,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],i=n.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(n)});const r=this.getLayerState();let o=r.zIndex;e||r.zIndex!==void 0||(o=0);for(let a=i,s=n.length;a<s;a++){const l=n[a];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=Yn(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=o)}return n}getSourceState(){return"ready"}}class wo extends di{constructor(e,n,i){super(e),this.map=n,this.frameState=i!==void 0?i:null}}class _i extends wo{constructor(e,n,i,r,o,a){super(e,n,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0&&r,this.activePointers=a}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}var ht={SINGLECLICK:"singleclick",CLICK:Ga,DBLCLICK:ub,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},p1="pointermove",m0="pointerdown";class f1 extends tu{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Qe(i,m0,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Qe(i,p1,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Jp,this.boundHandleTouchMove_,!!Zm&&{passive:!1})}emulateClick_(e){let n=new _i(ht.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new _i(ht.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new _i(ht.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const n=e,i=n.pointerId;if(n.type==ht.POINTERUP||n.type==ht.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else n.type!=ht.POINTERDOWN&&n.type!=ht.POINTERMOVE||(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new _i(ht.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(bt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new _i(ht.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Qe(i,ht.POINTERMOVE,this.handlePointerMove_,this),Qe(i,ht.POINTERUP,this.handlePointerUp_,this),Qe(this.element_,ht.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Qe(this.element_.getRootNode(),ht.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new _i(ht.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new _i(ht.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;n&&!n.defaultPrevented||typeof e.cancelable=="boolean"&&e.cancelable!==!0||e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(bt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Jp,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(bt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(bt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}var lp="postrender",g1="movestart",v1="moveend",Wf="loadstart",Yf="loadend",Vs="layergroup",Uu="size",$s="target",ba="view";const Yd=1/0;class m1{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,hs(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,i=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){ct(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=Yd&&(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,i=this.priorities_,r=n.length,o=n[e],a=i[e],s=e;for(;e<r>>1;){const l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<r&&i[c]<i[l]?c:l;n[e]=n[u],i[e]=i[u],e=u}n[e]=o,i[e]=a,this.siftDown_(s,e)}siftDown_(e,n){const i=this.elements_,r=this.priorities_,o=i[n],a=r[n];for(;n>e;){const s=this.getParentIndex_(n);if(!(r[s]>a))break;i[n]=i[s],r[n]=r[s],n=s}i[n]=o,r[n]=a}reprioritize(){const e=this.priorityFunction_,n=this.elements_,i=this.priorities_;let r=0;const o=n.length;let a,s,l;for(s=0;s<o;++s)a=n[s],l=e(a),l==Yd?delete this.queuedElements_[this.keyFunction_(a)]:(i[r]=l,n[r++]=a);n.length=r,i.length=r,this.heapify_()}}var yn=0,Hr=1,rn=2,bn=3,Qt=4;class y1 extends m1{constructor(e,n){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(At,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,i=n.getState();if(i===rn||i===bn||i===Qt){i!==bn&&n.removeEventListener(At,this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i=0;for(;this.tilesLoading_<e&&i<n&&this.getCount()>0;){const r=this.dequeue()[0],o=r.getKey();r.getState()!==yn||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load())}}}class Qr extends On{constructor(e){super();const n=e.element;!n||e.target||n.style.pointerEvents||(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let n=0,i=this.listenerKeys.length;n<i;++n)bt(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_??e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==jo&&this.listenerKeys.push(Qe(e,lp,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class _1 extends Qr{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed===void 0||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible===void 0||e.collapsible,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const n=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:n+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"",a=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=a):this.collapseLabel_=o;const s=e.label!==void 0?e.label:"i";typeof s=="string"?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=r):this.label_=s;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Ga,this.handleClick_.bind(this),!1);const c=n+" "+vs+" "+ap+(this.collapsed_&&this.collapsible_?" "+Pf:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=this.getMap().getAllLayers(),i=new Set(n.flatMap(r=>r.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){const r=!n.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(i)}async updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const n=await Promise.all(this.collectSourceAttributions_(e).map(r=>{return o=()=>r,function(){let a;try{a=o()}catch(s){return Promise.reject(s)}return a instanceof Promise?a:Promise.resolve(a)}();var o})),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!rr(n,this.renderedAttributions_)){Qm(this.ulElement_);for(let r=0,o=n.length;r<o;++r){const a=document.createElement("li");a.innerHTML=n[r],this.ulElement_.appendChild(a)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Pf),this.collapsed_?If(this.collapseLabel_,this.label_):If(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class b1 extends Qr{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const o=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=n+"-reset",a.setAttribute("type","button"),a.title=o,a.appendChild(this.label_),a.addEventListener(Ga,this.handleClick_.bind(this),!1);const s=n+" "+vs+" "+ap,l=this.element;l.className=s,l.appendChild(a),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide===void 0||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Fs)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const n=e.getRotation();n!==void 0&&(this.duration_>0&&n%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:oa}):e.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Fs);o||i!==0?o&&i!==0&&this.element.classList.remove(Fs):this.element.classList.add(Fs)}this.label_.style.transform=r}this.rotation_=i}}class x1 extends Qr{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",a=e.zoomInLabel!==void 0?e.zoomInLabel:"+",s=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=r,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof a=="string"?document.createTextNode(a):a),u.addEventListener(Ga,this.handleClick_.bind(this,i),!1);const d=document.createElement("button");d.className=o,d.setAttribute("type","button"),d.title=c,d.appendChild(typeof s=="string"?document.createTextNode(s):s),d.addEventListener(Ga,this.handleClick_.bind(this,-i),!1);const h=n+" "+vs+" "+ap,p=this.element;p.className=h,p.appendChild(u),p.appendChild(d),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const n=this.getMap().getView();if(!n)return;const i=n.getZoom();if(i!==void 0){const r=n.getConstrainedZoom(i+e);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:r,duration:this.duration_,easing:oa})):n.setZoom(r)}}}var Xd="active";class ys extends On{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Xd)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Xd,e)}setMap(e){this.map_=e}}function up(t,e,n,i){const r=t.getZoom();if(r===void 0)return;const o=t.getConstrainedZoom(r+e),a=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:i!==void 0?i:250,easing:oa})}class y0 extends ys{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==ht.DBLCLICK){const i=e.originalEvent,r=e.map,o=e.coordinate,a=i.shiftKey?-this.delta_:this.delta_;up(r.getView(),a,o,this.duration_),i.preventDefault(),n=!0}return!n}}class sr extends ys{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==ht.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==ht.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==ht.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==ht.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function cp(t){const e=t.length;let n=0,i=0;for(let r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return{clientX:n/e,clientY:i/e}}function Ud(t){const e=arguments;return function(n){let i=!0;for(let r=0,o=e.length;r<o&&(i=i&&e[r](n),i);++r);return i}}const w1=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},_0=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return!(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")||function(i){const r=i.map.getTargetElement(),o=r.getRootNode(),a=i.map.getOwnerDocument().activeElement;return o instanceof ShadowRoot?o.host.contains(a):r.contains(a)}(t)},Kd=No,b0=function(t){const e=t.originalEvent;return e.button==0&&!(Nb&&Ym&&e.ctrlKey)},S1=ia,dp=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},x0=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},w0=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},Ku=function(t){const e=t.originalEvent;return ct(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},C1=function(t){const e=t.originalEvent;return ct(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class k1 extends sr{constructor(e){super({stopDown:ia}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:Ud(dp,C1);this.condition_=e.onFocusOnly?Ud(_0,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,r=n.getEventPixel(cp(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();(function(s,l){s[0]*=l,s[1]*=l})(o,a.getResolution()),Bh(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),a=i.getCenterInternal(),s=n.getPixelFromCoordinateInternal(a),l=n.getCoordinateFromPixelInternal([s[0]-r*Math.cos(o),s[1]-r*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:oa})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const n=e.map.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class T1 extends sr{constructor(e){e=e||{},super({stopDown:ia}),this.condition_=e.condition?e.condition:w1,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Ku(e))return;const n=e.map,i=n.getView();if(i.getConstraints().rotation===Hh)return;const r=n.getSize(),o=e.pixel,a=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){const s=a-this.lastAngle_;i.adjustRotationInternal(-s)}this.lastAngle_=a}handleUpEvent(e){return Ku(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Ku(e)&&b0(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class E1 extends eu{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],n[0])+i,r.top=Math.min(e[1],n[1])+i,r.width=Math.abs(n[0]-e[0])+i,r.height=Math.abs(n[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new Pn([i])}getGeometry(){return this.geometry_}}const M1="boxstart",L1="boxdrag",q1="boxend",Zu="boxcancel";class xa extends di{constructor(e,n,i){super(e),this.coordinate=n,this.mapBrowserEvent=i}}class I1 extends sr{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new E1(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??b0,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,i){const r=i[0]-n[0],o=i[1]-n[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new xa(L1,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new xa(n?q1:Zu,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new xa(M1,e.coordinate,e)),!0)}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new xa(Zu,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new xa(Zu,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class P1 extends I1{constructor(e){super({condition:(e=e||{}).condition?e.condition:x0,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0&&e.out}onBoxEnd(e){const n=this.getMap().getView();let i=this.getGeometry();if(this.out_){const r=n.rotatedExtentForGeometry(i),o=n.getResolutionForExtentInternal(r),a=n.getResolution()/o;i=i.clone(),i.scale(a*a)}n.fitInternal(i,{duration:this.duration_,easing:oa})}}var Xf="ArrowLeft",R1="ArrowUp",Uf="ArrowRight",Kf="ArrowDown";class F1 extends ys{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return dp(n)&&w0(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==wl){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==Kf||r==Xf||r==Uf||r==R1)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let s=0,l=0;r==Kf?l=-a:r==Xf?s=-a:r==Uf?s=a:l=a;const c=[s,l];Bh(c,o.getRotation()),function(u,d,h){const p=u.getCenterInternal();if(p){const f=[p[0]+d[0],p[1]+d[1]];u.animateInternal({duration:h!==void 0?h:250,easing:Tb,center:u.getConstrainedCenter(f)})}}(o,c,this.duration_),i.preventDefault(),n=!0}}return!n}}class A1 extends ys{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!function(i){const r=i.originalEvent;return Ym?r.metaKey:r.ctrlKey}(n)&&w0(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==wl||e.type==pm){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){const o=e.map,a=r==="+"?this.delta_:-this.delta_;up(o.getView(),a,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}class O1{constructor(e,n,i){this.decay_=e,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[n+2]-this.points_[i+2];if(r<1e3/60)return!1;const o=this.points_[n]-this.points_[i],a=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class D1 extends ys{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor===void 0||e.useAnchor,this.constrainResolution_=e.constrainResolution!==void 0&&e.constrainResolution;const n=e.condition?e.condition:Kd;this.condition_=e.onFocusOnly?Ud(_0,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Aa)return!0;const n=e.map,i=e.originalEvent;let r;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel),e.type==Aa&&(r=i.deltaY,$b&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=Xm),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),r===0)return!1;this.lastDelta_=r;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const a=n.getView();if(this.mode_==="trackpad"&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_?n.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=o,!1;this.totalDelta_+=r;const s=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),s),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let i=-St(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),up(n,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class z1 extends sr{constructor(e){const n=e=e||{};n.stopDown||(n.stopDown=ia),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const i=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=o;const a=e.map,s=a.getView();s.getConstraints().rotation!==Hh&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(cp(this.targetPointers))),this.rotating_&&(a.render(),s.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class B1 extends sr{constructor(e){const n=e=e||{};n.stopDown||(n.stopDown=ia),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const i=this.targetPointers[0],r=this.targetPointers[1],o=i.clientX-r.clientX,a=i.clientY-r.clientY,s=Math.sqrt(o*o+a*a);this.lastDistance_!==void 0&&(n=this.lastDistance_/s),this.lastDistance_=s;const l=e.map,c=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(cp(this.targetPointers))),l.render(),c.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const n=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function S0(t){t instanceof lu?t.setMapInternal(null):t instanceof Qo&&t.getLayers().forEach(S0)}function C0(t,e){if(t instanceof lu)t.setMapInternal(e);else if(t instanceof Qo){const n=t.getLayers().getArray();for(let i=0,r=n.length;i<r;++i)C0(n[i],e)}}var du=class extends On{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=function(i){let r=null;i.keyboardEventTarget!==void 0&&(r=typeof i.keyboardEventTarget=="string"?document.getElementById(i.keyboardEventTarget):i.keyboardEventTarget);const o={},a=i.layers&&typeof i.layers.getLayers=="function"?i.layers:new Qo({layers:i.layers});let s,l,c;return o[Vs]=a,o[$s]=i.target,o[ba]=i.view instanceof Ln?i.view:new Ln,i.controls!==void 0&&(Array.isArray(i.controls)?s=new Mn(i.controls.slice()):(ct(typeof i.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),s=i.controls)),i.interactions!==void 0&&(Array.isArray(i.interactions)?l=new Mn(i.interactions.slice()):(ct(typeof i.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),l=i.interactions)),i.overlays!==void 0?Array.isArray(i.overlays)?c=new Mn(i.overlays.slice()):(ct(typeof i.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),c=i.overlays):c=new Mn,{controls:s,interactions:l,keyboardEventTarget:r,overlays:c,values:o}}(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:Xm,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=e.controls||function(i){i=i||{};const r=new Mn;return(i.zoom===void 0||i.zoom)&&r.push(new x1(i.zoomOptions)),(i.rotate===void 0||i.rotate)&&r.push(new b1(i.rotateOptions)),(i.attribution===void 0||i.attribution)&&r.push(new _1(i.attributionOptions)),r}(),this.interactions=e.interactions||function(i){i=i||{};const r=new Mn,o=new O1(-.005,.05,100);return(i.altShiftDragRotate===void 0||i.altShiftDragRotate)&&r.push(new T1),(i.doubleClickZoom===void 0||i.doubleClickZoom)&&r.push(new y0({delta:i.zoomDelta,duration:i.zoomDuration})),(i.dragPan===void 0||i.dragPan)&&r.push(new k1({onFocusOnly:i.onFocusOnly,kinetic:o})),(i.pinchRotate===void 0||i.pinchRotate)&&r.push(new z1),(i.pinchZoom===void 0||i.pinchZoom)&&r.push(new B1({duration:i.zoomDuration})),(i.keyboard===void 0||i.keyboard)&&(r.push(new F1),r.push(new A1({delta:i.zoomDelta,duration:i.zoomDuration}))),(i.mouseWheelZoom===void 0||i.mouseWheelZoom)&&r.push(new D1({onFocusOnly:i.onFocusOnly,duration:i.zoomDuration})),(i.shiftDragZoom===void 0||i.shiftDragZoom)&&r.push(new P1({duration:i.zoomDuration})),r}({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new y1(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Vs,this.handleLayerGroupChanged_),this.addChangeListener(ba,this.handleViewChanged_),this.addChangeListener(Uu,this.handleSizeChanged_),this.addChangeListener($s,this.handleTargetChanged_),this.setProperties(e.values);const n=this;!t.view||t.view instanceof Ln||t.view.then(function(i){n.setView(new Ln(i))}),this.controls.addEventListener(Rr,i=>{i.element.setMap(this)}),this.controls.addEventListener(Fr,i=>{i.element.setMap(null)}),this.interactions.addEventListener(Rr,i=>{i.element.setMap(this)}),this.interactions.addEventListener(Fr,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(Rr,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(Fr,i=>{const r=i.element.getId();r!==void 0&&delete this.overlayIdIndex_[r.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){C0(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,n){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(t),r=(n=n!==void 0?n:{}).hitTolerance!==void 0?n.hitTolerance:0,o=n.layerFilter!==void 0?n.layerFilter:No,a=n.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,a,e,null,o,null)}getFeaturesAtPixel(t,e){const n=[];return this.forEachFeatureAtPixel(t,function(i){n.push(i)},e),n}getAllLayers(){const t=[];return function e(n){n.forEach(function(i){i instanceof Qo?e(i.getLayers()):t.push(i)})}(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(t),i=(e=e!==void 0?e:{}).layerFilter!==void 0?e.layerFilter:No,r=e.hitTolerance!==void 0?e.hitTolerance:0,o=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,o,i,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_.getBoundingClientRect(),n=this.getSize(),i=e.width/n[0],r=e.height/n[1],o="changedTouches"in t?t.changedTouches[0]:t;return[(o.clientX-e.left)/i,(o.clientY-e.top)/r]}getTarget(){return this.get($s)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return id(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?Wt(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return e!==void 0?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Vs)}setLayers(t){const e=this.getLayerGroup();if(t instanceof Mn)return void e.setLayers(t);const n=e.getLayers();n.clear(),n.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const i=t[e];if(!i.visible)continue;const r=i.layer.getRenderer();if(r&&!r.ready)return!0;const o=i.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(t){const e=$n(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?Wt(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Uu)}getView(){return this.get(ba)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,n,i){return function(r,o,a,s,l){if(!r||!(a in r.wantedTiles)||!r.wantedTiles[a][o.getKey()])return Yd;const c=r.viewState.center,u=s[0]-c[0],d=s[1]-c[1];return 65536*Math.log(l)+Math.sqrt(u*u+d*d)/l}(this.frameState_,t,e,n,i)}handleBrowserEvent(t,e){e=e||t.type;const n=new _i(e,this,t);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,n=e.type;if(n===m0||n===Aa||n===wl){const i=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=e.target,a=r instanceof ShadowRoot?r.host===o?r.host.ownerDocument:r:r===i?i.documentElement:r;if(this.overlayContainerStopEvent_.contains(o)||!a.contains(o))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const i=this.getInteractions().getArray().slice();for(let r=i.length-1;r>=0;r--){const o=i[r];if(!(o.getMap()!==this||!o.getActive()||!this.getTargetElement())&&(!o.handleEvent(t)||t.propagationStopped))break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let i=this.maxTilesLoading_,r=i;if(t){const o=t.viewHints;if(o[wi]||o[Dr]){const a=Date.now()-t.time>8;i=a?0:8,r=a?0:2}}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,r))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(Ou)&&this.renderer_.dispatchRenderEvent(Ou,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new wo(Yf,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new wo(Wf,this,t))));const n=this.postRenderFunctions_;for(let i=0,r=n.length;i<r;++i)n[i](this,t);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let n=0,i=this.targetChangeHandlerKeys_.length;n<i;++n)bt(this.targetChangeHandlerKeys_[n]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Hc,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Aa,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const n=this.targetElement_.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.unobserve(n.host),this.setSize(void 0)}const t=this.getTarget(),e=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=e,e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new h1(this)),this.mapBrowserEventHandler_=new f1(this,this.moveTolerance_);for(const r in ht)this.mapBrowserEventHandler_.addEventListener(ht[r],this.handleMapBrowserEvent.bind(this));let n;if(this.viewport_.addEventListener(Hc,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Aa,this.boundHandleBrowserEvent_,!!Zm&&{passive:!1}),this.keyboardEventTarget_)n=this.keyboardEventTarget_;else{const r=e.getRootNode();n=r instanceof ShadowRoot?r.host:e}this.targetChangeHandlerKeys_=[Qe(n,wl,this.handleBrowserEvent,this),Qe(n,pm,this.handleBrowserEvent,this)];const i=e.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(bt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(bt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Qe(t,$o,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Qe(t,At,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(bt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Ni("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Qe(t,$o,this.render,this),Qe(t,At,this.render,this),Qe(t,"addlayer",this.handleLayerAdd_,this),Qe(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){S0(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),n=this.getView(),i=this.frameState_;let r=null;if(e!==void 0&&Ef(e)&&n&&n.isDef()){const o=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=n.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:ed(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:pt(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const s=isNaN(a.nextRotation)?a.rotation:a.nextRotation;r.nextExtent=ed(a.nextCenter,a.nextResolution,s,e)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),i&&(!this.previousExtent_||!gs(this.previousExtent_)&&!Wa(r.extent,this.previousExtent_))&&(this.dispatchEvent(new wo(g1,this,i)),this.previousExtent_=ra(this.previousExtent_)),this.previousExtent_&&!r.viewHints[wi]&&!r.viewHints[Dr]&&!Wa(r.extent,this.previousExtent_)&&(this.dispatchEvent(new wo(v1,this,r)),mm(r.extent,this.previousExtent_))),this.dispatchEvent(new wo(lp,this,r)),this.renderComplete_=(this.hasListener(Wf)||this.hasListener(Yf)||this.hasListener(Ou))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new Ni("removelayer",e)),this.set(Vs,t)}setSize(t){this.set(Uu,t)}setTarget(t){this.set($s,t)}setView(t){if(!t||t instanceof Ln)return void this.set(ba,t);this.set(ba,new Ln);const e=this;t.then(function(n){e.setView(new Ln(n))})}updateSize(){const t=this.getTargetElement();let e;if(t){const i=getComputedStyle(t),r=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),o=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);isNaN(r)||isNaN(o)||(e=[Math.max(0,r),Math.max(0,o)],!Ef(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&Em("No map visible because the map container's width or height are 0."))}const n=this.getSize();!e||n&&rr(e,n)||(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(t){const e=this.getView();e&&e.setViewportSize(t)}},Zf="preload",Qf="useInterimTilesOnError";class V1 extends lu{constructor(e){e=e||{};const n=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError===void 0||e.useInterimTilesOnError)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Zf)}setPreload(e){this.set(Zf,e)}getUseInterimTilesOnError(){return this.get(Qf)}setUseInterimTilesOnError(e){this.set(Qf,e)}getData(e){return super.getData(e)}}class $1 extends Oa{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=5}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return lt()}getData(e){return null}prepareFrame(e){return lt()}renderFrame(e,n){return lt()}forEachFeatureAtCoordinate(e,n,i,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;n.getState()!==Nt&&n.getState()!==Po||this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=Nt&&n!=Po&&e.addEventListener(At,this.boundHandleImageChange_),n==er&&(e.load(),n=e.getState()),n==Nt}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class k0{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Ml(),{get:(e,n)=>{if(typeof Ml()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,i),!0)})}pushMethodArgs_=(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this);pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let i=0,r=n.length;i<r;++i){const o=n[i];if(typeof o=="function"){o(e);continue}const a=n[++i];if(typeof e[o]=="function")e[o](...a);else{if(typeof a=="function"){e[o]=a(e);continue}e[o]=a}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const Jf=[];let ro=null;class T0 extends $1{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,n,i){let r;ro||(ro=Rt(1,1,void 0,{willReadFrequently:!0})),ro.clearRect(0,0,1,1);try{ro.drawImage(e,n,i,1,1,0,0,1,1),r=ro.getImageData(0,0,1,1).data}catch{return ro=null,null}return r}getBackground(e){let n=this.getLayer().getBackground();return typeof n=="function"&&(n=n(e.viewState.resolution)),n||void 0}useContainer(e,n,i){const r=this.getLayer().getClassName();let o,a;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&rr(Ja(e.style.backgroundColor),Ja(i)))){const s=e.firstElementChild;s instanceof HTMLCanvasElement&&(a=s.getContext("2d"))}if(a&&a.canvas.style.transform===n?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=r;let s=o.style;s.position="absolute",s.width="100%",s.height="100%",a=Rt();const l=a.canvas;o.appendChild(l),s=l.style,s.position="absolute",s.left="0",s.transformOrigin="top left",this.container=o,this.context=a}this.containerReused||!i||this.container.style.backgroundColor||(this.container.style.backgroundColor=i)}clipUnrotated(e,n,i){const r=or(i),o=ru(i),a=iu(i),s=nu(i);Wt(n.coordinateToPixelTransform,r),Wt(n.coordinateToPixelTransform,o),Wt(n.coordinateToPixelTransform,a),Wt(n.coordinateToPixelTransform,s);const l=this.inversePixelTransform;Wt(l,r),Wt(l,o),Wt(l,a),Wt(l,s),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.clip()}prepareContainer(e,n){const i=e.extent,r=e.viewState.resolution,o=e.viewState.rotation,a=e.pixelRatio,s=Math.round(Je(i)/r*a),l=Math.round(Jt(i)/r*a);Li(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/a,1/a,o,-s/2,-l/2),Im(this.inversePixelTransform,this.pixelTransform);const c=function(u){return"matrix("+u.map((d,h)=>Math.round(d*xf[h])/xf[h]).join(", ")+")"}(this.pixelTransform);if(this.useContainer(n,c,this.getBackground(e)),!this.containerReused){const u=this.context.canvas;u.width!=s||u.height!=l?(u.width=s,u.height=l):this.context.clearRect(0,0,s,l),c!==u.style.transform&&(u.style.transform=c)}}dispatchRenderEvent_(e,n,i){const r=this.getLayer();if(r.hasListener(e)){const o=new v0(e,this.inversePixelTransform,i,n);r.dispatchEvent(o)}}preRender(e,n){this.frameState=n,n.declutter||this.dispatchRenderEvent_(Gc,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(Wc,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new k0),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Gc,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Wc,this.context,e))}getRenderTransform(e,n,i,r,o,a,s){const l=o/2,c=a/2,u=r/n,d=-u,h=-e[0]+s,p=-e[1];return Li(this.tempTransform,l,c,u,d,-i,h,p)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class hp extends tu{constructor(e,n,i){super(),i=i||{},this.tileCoord=e,this.state=n,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(At)}release(){this.state===bn&&this.setState(Qt)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==bn&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){lt()}getAlpha(e,n){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(i){if(i===-1)return 1}else i=n,this.transitionStarts_[e]=i;const r=n-i+1e3/60;return r>=this.transition_?1:qm(r/this.transition_)}inTransition(e){return!!this.transition_&&this.transitionStarts_[e]!==-1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function Il(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}const N1=new Error("disposed");let oo=null;const j1=[256,256];class Zd extends hp{constructor(e){const n=yn;super(e.tileCoord,n,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=Il(this.data_);return e?[e.width,e.height]:j1}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==yn&&this.state!==bn)return;this.state=Hr,this.changed();const e=this;this.loader_().then(function(n){e.data_=n,e.state=rn,e.changed()}).catch(function(n){e.error_=n,e.state=bn,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(N1),this.controller_=null),super.disposeInternal()}}class E0 extends hp{constructor(e,n,i,r,o,a){super(e,n,a),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=rn,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=bn,this.unlistenImage_(),this.image_=function(){const e=Rt(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=rn:this.state=Qt,this.unlistenImage_(),this.changed()}load(){this.state==bn&&(this.state=yn,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==yn&&(this.state=Hr,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(e,n,i){const r=e;let o=!0,a=!1,s=!1;const l=[Sl(r,cb,function(){s=!0,a||n()})];return r.src&&Km?(a=!0,r.decode().then(function(){o&&n()}).catch(function(c){o&&(s?n():i())})):l.push(Sl(r,lb,i)),function(){o=!1,l.forEach(bt)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}class H1{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();){const n=this.pop();n instanceof eu&&n.dispose()}}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const i=this.entries_[e];return ct(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const n=this.entries_[e];return ct(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n,i=0;for(n=this.newest_;n;n=n.older)e[i++]=n.key_;return e}getValues(){const e=new Array(this.count_);let n,i=0;for(n=this.newest_;n;n=n.older)e[i++]=n.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){ct(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}class M0{constructor(e,n,i,r,o,a){this.sourceProj_=e,this.targetProj_=n;let s={};const l=Ua(this.targetProj_,this.sourceProj_);this.transformInv_=function(x){const g=x[0]+"/"+x[1];return s[g]||(s[g]=l(x)),s[g]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Je(r)>=Je(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Je(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Je(this.targetProj_.getExtent()):null;const c=or(i),u=ru(i),d=iu(i),h=nu(i),p=this.transformInv_(c),f=this.transformInv_(u),v=this.transformInv_(d),w=this.transformInv_(h),b=10+(a?Math.max(0,Math.ceil(Math.log2(Ya(i)/(a*a*256*256)))):0);if(this.addQuad_(c,u,d,h,p,f,v,w,b),this.wrapsXInSource_){let x=1/0;this.triangles_.forEach(function(g,_,S){x=Math.min(x,g.source[0][0],g.source[1][0],g.source[2][0])}),this.triangles_.forEach(g=>{if(Math.max(g.source[0][0],g.source[1][0],g.source[2][0])-x>this.sourceWorldWidth_/2){const _=[[g.source[0][0],g.source[0][1]],[g.source[1][0],g.source[1][1]],[g.source[2][0],g.source[2][1]]];_[0][0]-x>this.sourceWorldWidth_/2&&(_[0][0]-=this.sourceWorldWidth_),_[1][0]-x>this.sourceWorldWidth_/2&&(_[1][0]-=this.sourceWorldWidth_),_[2][0]-x>this.sourceWorldWidth_/2&&(_[2][0]-=this.sourceWorldWidth_);const S=Math.min(_[0][0],_[1][0],_[2][0]);Math.max(_[0][0],_[1][0],_[2][0])-S<this.sourceWorldWidth_/2&&(g.source=_)}})}s={}}addTriangle_(e,n,i,r,o,a){this.triangles_.push({source:[r,o,a],target:[e,n,i]})}addQuad_(e,n,i,r,o,a,s,l,c){const u=Qc([o,a,s,l]),d=this.sourceWorldWidth_?Je(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&d>.5&&d<1;let f=!1;if(c>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(f=Je(Qc([e,n,i,r]))/this.targetWorldWidth_>.25||f),!p&&this.sourceProj_.isGlobal()&&d&&(f=d>.25||f)),!f&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!hn(u,this.maxSourceExtent_))return;let v=0;if(!(f||isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1]))){if(c>0)f=!0;else if(v=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(a[0])&&isFinite(a[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1),v!=1&&v!=2&&v!=4&&v!=8)return}if(c>0){if(!f){const w=[(e[0]+i[0])/2,(e[1]+i[1])/2],b=this.transformInv_(w);let x;p?x=(Or(o[0],h)+Or(s[0],h))/2-Or(b[0],h):x=(o[0]+s[0])/2-b[0];const g=(o[1]+s[1])/2-b[1];f=x*x+g*g>this.errorThresholdSquared_}if(f){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const w=[(n[0]+i[0])/2,(n[1]+i[1])/2],b=this.transformInv_(w),x=[(r[0]+e[0])/2,(r[1]+e[1])/2],g=this.transformInv_(x);this.addQuad_(e,n,w,x,o,a,b,g,c-1),this.addQuad_(x,w,i,r,g,b,s,l,c-1)}else{const w=[(e[0]+n[0])/2,(e[1]+n[1])/2],b=this.transformInv_(w),x=[(i[0]+r[0])/2,(i[1]+r[1])/2],g=this.transformInv_(x);this.addQuad_(e,w,x,r,o,b,g,l,c-1),this.addQuad_(w,n,i,x,b,a,s,g,c-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&v||this.addTriangle_(e,i,r,o,s,l),14&v||this.addTriangle_(e,i,n,o,s,a),v&&(13&v||this.addTriangle_(n,r,e,a,l,o),7&v||this.addTriangle_(n,r,i,a,l,s))}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(n,i,r){const o=n.source;Da(e,o[0]),Da(e,o[1]),Da(e,o[2])}),e}getTriangles(){return this.triangles_}}let Qu;const Si=[];function eg(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function Ju(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function tg(t,e,n,i){const r=ko(n,e,t);let o=Tl(e,i,n);const a=e.getMetersPerUnit();a!==void 0&&(o*=a);const s=t.getMetersPerUnit();s!==void 0&&(o/=s);const l=t.getExtent();if(!l||Yo(l,r)){const c=Tl(t,o,r)/o;isFinite(c)&&c>0&&(o/=c)}return o}function L0(t,e,n,i){const r=li(n);let o=tg(t,e,r,i);return(!isFinite(o)||o<=0)&&Dh(n,function(a){return o=tg(t,e,a,i),isFinite(o)&&o>0}),o}function q0(t,e,n,i,r,o,a,s,l,c,u,d,h,p){const f=Rt(Math.round(n*t),Math.round(n*e),Si);if(d||(f.imageSmoothingEnabled=!1),l.length===0)return f.canvas;function v(S){return Math.round(S*n)/n}f.scale(n,n),f.globalCompositeOperation="lighter";const w=[1/0,1/0,-1/0,-1/0];let b;l.forEach(function(S,C,T){_m(w,S.extent)});const x=n/i,g=(d?1:1+Math.pow(2,-24))/x;if(!h||l.length!==1||c!==0){if(b=Rt(Math.round(Je(w)*x),Math.round(Jt(w)*x),Si),d||(b.imageSmoothingEnabled=!1),r&&p){const S=(r[0]-w[0])*x,C=-(r[3]-w[3])*x,T=Je(r)*x,L=Jt(r)*x;b.rect(S,C,T,L),b.clip()}l.forEach(function(S,C,T){if(S.image.width>0&&S.image.height>0){if(S.clipExtent){b.save();const P=(S.clipExtent[0]-w[0])*x,q=-(S.clipExtent[3]-w[3])*x,k=Je(S.clipExtent)*x,M=Jt(S.clipExtent)*x;b.rect(d?P:Math.round(P),d?q:Math.round(q),d?k:Math.round(P+k)-Math.round(P),d?M:Math.round(q+M)-Math.round(q)),b.clip()}const L=(S.extent[0]-w[0])*x,z=-(S.extent[3]-w[3])*x,I=Je(S.extent)*x,R=Jt(S.extent)*x;b.drawImage(S.image,c,c,S.image.width-2*c,S.image.height-2*c,d?L:Math.round(L),d?z:Math.round(z),d?I:Math.round(L+I)-Math.round(L),d?R:Math.round(z+R)-Math.round(z)),S.clipExtent&&b.restore()}})}const _=or(a);return s.getTriangles().forEach(function(S,C,T){const L=S.source,z=S.target;let I=L[0][0],R=L[0][1],P=L[1][0],q=L[1][1],k=L[2][0],M=L[2][1];const E=v((z[0][0]-_[0])/o),O=v(-(z[0][1]-_[1])/o),j=v((z[1][0]-_[0])/o),V=v(-(z[1][1]-_[1])/o),B=v((z[2][0]-_[0])/o),G=v(-(z[2][1]-_[1])/o),J=I,oe=R;I=0,R=0,P-=J,q-=oe,k-=J,M-=oe;const te=function(A){const D=A.length;for(let W=0;W<D;W++){let se=W,fe=Math.abs(A[W][W]);for(let pe=W+1;pe<D;pe++){const ce=Math.abs(A[pe][W]);ce>fe&&(fe=ce,se=pe)}if(fe===0)return null;const le=A[se];A[se]=A[W],A[W]=le;for(let pe=W+1;pe<D;pe++){const ce=-A[pe][W]/A[W][W];for(let ke=W;ke<D+1;ke++)W==ke?A[pe][ke]=0:A[pe][ke]+=ce*A[W][ke]}}const K=new Array(D);for(let W=D-1;W>=0;W--){K[W]=A[W][D]/A[W][W];for(let se=W-1;se>=0;se--)A[se][D]-=A[se][W]*K[W]}return K}([[P,q,0,0,j-E],[k,M,0,0,B-E],[0,0,P,q,V-O],[0,0,k,M,G-O]]);if(!te)return;if(f.save(),f.beginPath(),function(){if(Qu===void 0){const A=Rt(6,6,Si);A.globalCompositeOperation="lighter",A.fillStyle="rgba(210, 0, 0, 0.75)",eg(A,4,5,4,0),eg(A,4,5,0,5);const D=A.getImageData(0,0,3,3).data;Qu=Ju(D,0)||Ju(D,4)||Ju(D,8),Uo(A),Si.push(A.canvas)}return Qu}()||!d){f.moveTo(j,V);const A=4,D=E-j,K=O-V;for(let W=0;W<A;W++)f.lineTo(j+v((W+1)*D/A),V+v(W*K/(A-1))),W!=A-1&&f.lineTo(j+v((W+1)*D/A),V+v((W+1)*K/(A-1)));f.lineTo(B,G)}else f.moveTo(j,V),f.lineTo(E,O),f.lineTo(B,G);let H;if(f.clip(),f.transform(te[0],te[2],te[1],te[3],E,O),f.translate(w[0]-J,w[3]-oe),b)H=b.canvas,f.scale(g,-g);else{const A=l[0],D=A.extent;H=A.image,f.scale(Je(D)/H.width,-Jt(D)/H.height)}f.drawImage(H,0,0),f.restore()}),b&&(Uo(b),Si.push(b.canvas)),u&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,s.getTriangles().forEach(function(S,C,T){const L=S.target,z=(L[0][0]-_[0])/o,I=-(L[0][1]-_[1])/o,R=(L[1][0]-_[0])/o,P=-(L[1][1]-_[1])/o,q=(L[2][0]-_[0])/o,k=-(L[2][1]-_[1])/o;f.beginPath(),f.moveTo(R,P),f.lineTo(z,I),f.lineTo(q,k),f.closePath(),f.stroke()}),f.restore()),f.canvas}class G1 extends Zd{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const n=e.sourceProj,i=n.getExtent(),r=e.sourceTileGrid.getExtent();this.clipExtent_=n.canWrapX()?r?Yn(i,r):i:r;const o=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),a=this.targetTileGrid_.getExtent();let s=this.sourceTileGrid_.getExtent();const l=a?Yn(o,a):o;if(Ya(l)===0)return void(this.state=Qt);i&&(s=s?Yn(s,i):i);const c=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),u=e.targetProj,d=L0(n,u,l,c);if(!isFinite(d)||d<=0)return void(this.state=Qt);const h=e.errorThreshold!==void 0?e.errorThreshold:.5;if(this.triangulation_=new M0(n,u,l,s,d*h,c),this.triangulation_.getTriangles().length===0)return void(this.state=Qt);this.sourceZ_=this.sourceTileGrid_.getZForResolution(d);let p=this.triangulation_.calculateSourceExtent();if(s&&(n.canWrapX()?(p[1]=St(p[1],s[1],s[3]),p[3]=St(p[3],s[1],s[3])):p=Yn(p,s)),Ya(p)){let f=0,v=0;n.canWrapX()&&(f=Je(i),v=Math.floor((p[0]-i[0])/f)),zh(p.slice(),n,!0).forEach(w=>{const b=this.sourceTileGrid_.getTileRangeForExtentAndZ(w,this.sourceZ_),x=e.getTileFunction;for(let g=b.minX;g<=b.maxX;g++)for(let _=b.minY;_<=b.maxY;_++){const S=x(this.sourceZ_,g,_,this.pixelRatio_);if(S){const C=v*f;this.sourceTiles_.push({tile:S,offset:C})}}++v}),this.sourceTiles_.length===0&&(this.state=Qt)}else this.state=Qt}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const e=[];let n=!1;if(this.sourceTiles_.forEach(p=>{const f=p.tile;if(!f||f.getState()!==rn)return;const v=f.getSize(),w=this.gutter_;let b;const x=(g=f.getData())instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof Float32Array||g instanceof DataView?g:null;var g;x?b=x:(n=!0,b=function(O){oo||(oo=Rt(O.width,O.height,void 0,{willReadFrequently:!0}));const j=oo.canvas,V=O.width;j.width!==V&&(j.width=V);const B=O.height;return j.height!==B&&(j.height=B),oo.clearRect(0,0,V,B),oo.drawImage(O,0,0),oo.getImageData(0,0,V,B).data}(Il(f.getData())));const _=[v[0]+2*w,v[1]+2*w],S=b instanceof Float32Array,C=_[0]*_[1],T=S?Float32Array:Uint8ClampedArray,L=new T(b.buffer),z=T.BYTES_PER_ELEMENT,I=z*L.length/C,R=L.byteLength/_[1],P=Math.floor(R/z/_[0]),q=C*P;let k=L;if(L.length!==q){k=new T(q);let O=0,j=0;const V=_[0]*P;for(let B=0;B<_[1];++B){for(let G=0;G<V;++G)k[O++]=L[j+G];j+=R/z}}const M=this.sourceTileGrid_.getTileCoordExtent(f.tileCoord);M[0]+=p.offset,M[2]+=p.offset;const E=this.clipExtent_?.slice();E&&(E[0]+=p.offset,E[2]+=p.offset),e.push({extent:M,clipExtent:E,data:new Uint8ClampedArray(k.buffer),dataType:T,bytesPerPixel:I,pixelSize:_})}),this.sourceTiles_.length=0,e.length===0)return this.state=bn,void this.changed();const i=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(i),o=typeof r=="number"?r:r[0],a=typeof r=="number"?r:r[1],s=this.targetTileGrid_.getResolution(i),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);let u,d;const h=e[0].bytesPerPixel;for(let p=Math.ceil(h/3)-1;p>=0;--p){const f=[];for(let _=0,S=e.length;_<S;++_){const C=e[_],T=C.data,L=C.pixelSize,z=L[0],I=L[1],R=Rt(z,I,Si),P=R.createImageData(z,I),q=P.data;let k=3*p;for(let M=0,E=q.length;M<E;M+=4)q[M]=T[k],q[M+1]=T[k+1],q[M+2]=T[k+2],q[M+3]=255,k+=h;R.putImageData(P,0,0),f.push({extent:C.extent,clipExtent:C.clipExtent,image:R.canvas})}const v=q0(o,a,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),s,c,this.triangulation_,f,this.gutter_,!1,!1,!1);for(let _=0,S=f.length;_<S;++_){const C=f[_].image.getContext("2d");Uo(C),Si.push(C.canvas)}const w=v.getContext("2d"),b=w.getImageData(0,0,v.width,v.height);Uo(w),Si.push(v),u||(d=new Uint8ClampedArray(h*b.width*b.height),u=new e[0].dataType(d.buffer));const x=b.data;let g=3*p;for(let _=0,S=x.length;_<S;_+=4)x[_+3]===255?(d[g]=x[_],d[g+1]=x[_+1],d[g+2]=x[_+2]):(d[g]=0,d[g+1]=0,d[g+2]=0),g+=h}if(n){const p=Rt(o,a),f=new ImageData(u,o);p.putImageData(f,0,0),this.reprojData_=p.canvas}else this.reprojData_=u;this.reprojSize_=[Math.round(o*this.pixelRatio_),Math.round(a*this.pixelRatio_)],this.state=rn,this.changed()}load(){if(this.state!==yn&&this.state!==bn)return;this.state=Hr,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i!==yn&&i!==Hr)return;e++;const r=Qe(n,At,()=>{const o=n.getState();o!=rn&&o!=bn&&o!=Qt||(bt(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n}){n.getState()==yn&&n.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(bt),this.sourcesListenerKeys_=null}}class Qd extends hp{constructor(e,n,i,r,o,a,s,l,c,u,d,h){super(o,yn,h),this.renderEdges_=d!==void 0&&d,this.pixelRatio_=s,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=a||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const p=r.getTileCoordExtent(this.wrappedTileCoord_),f=this.targetTileGrid_.getExtent();let v=this.sourceTileGrid_.getExtent();const w=f?Yn(p,f):p;if(Ya(w)===0)return void(this.state=Qt);const b=e.getExtent();b&&(v=v?Yn(v,b):b);const x=r.getResolution(this.wrappedTileCoord_[0]),g=L0(e,i,w,x);if(!isFinite(g)||g<=0)return void(this.state=Qt);const _=u!==void 0?u:.5;if(this.triangulation_=new M0(e,i,w,v,g*_,x),this.triangulation_.getTriangles().length===0)return void(this.state=Qt);this.sourceZ_=n.getZForResolution(g);let S=this.triangulation_.calculateSourceExtent();if(v&&(e.canWrapX()?(S[1]=St(S[1],v[1],v[3]),S[3]=St(S[3],v[1],v[3])):S=Yn(S,v)),Ya(S)){let C=0,T=0;e.canWrapX()&&(C=Je(b),T=Math.floor((S[0]-b[0])/C)),zh(S.slice(),e,!0).forEach(L=>{const z=n.getTileRangeForExtentAndZ(L,this.sourceZ_);for(let I=z.minX;I<=z.maxX;I++)for(let R=z.minY;R<=z.maxY;R++){const P=c(this.sourceZ_,I,R,s);if(P){const q=T*C;this.sourceTiles_.push({tile:P,offset:q})}}++T}),this.sourceTiles_.length===0&&(this.state=Qt)}else this.state=Qt}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{const i=n.tile;if(i&&i.getState()==rn){const r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=n.offset,r[2]+=n.offset;const o=this.clipExtent_?.slice();o&&(o[0]+=n.offset,o[2]+=n.offset),e.push({extent:r,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=bn;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],a=this.targetTileGrid_.getResolution(n),s=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=q0(r,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=rn}this.changed()}load(){if(this.state==yn){this.state=Hr,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i==yn||i==Hr){e++;const r=Qe(n,At,o=>{const a=n.getState();a!=rn&&a!=bn&&a!=Qt||(bt(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,r){n.getState()==yn&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(bt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Uo(this.canvas_.getContext("2d")),Si.push(this.canvas_),this.canvas_=null),super.release()}}class pp{constructor(e,n,i,r){this.minX=e,this.maxX=n,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function ao(t,e,n,i,r){return r!==void 0?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new pp(t,e,n,i)}function Pl(t,e,n,i){return i!==void 0?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function I0(t){return function(e,n,i){return(n<<e)+i}(t[0],t[1],t[2])}function ec(t,e,n,i){return`${t},${function(r,o,a){return r+"/"+o+"/"+a}(e,n,i)}`}function tc(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const i=t[n],r=i.has(e);return r||i.add(e),!r}function W1(t,e,n){const i=t[n];return!!i&&i.delete(e)}function ng(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=Yn(e,Gi(n.extent,t.viewState.projection)));const i=n.layer.getRenderSource();if(!i.getWrapX()){const r=i.getTileGridForProjection(t.viewState.projection).getExtent();r&&(e=Yn(e,r))}return e}class Y1 extends T0{constructor(e,n){super(e),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=[1/0,1/0,-1/0,-1/0],this.tempTileRange_=new pp(0,0,0,0),this.tempTileCoord_=Pl(0,0,0);const i=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new H1(i),this.renderedProjection_=void 0,this.maxStaleKeys=.5*i}getTileCache(){return this.tileCache_}getOrCreateTile(e,n,i,r){const o=this.tileCache_,a=this.getLayer().getSource(),s=ec(a.getKey(),e,n,i);let l;if(o.containsKey(s))l=o.get(s);else{if(l=a.getTile(e,n,i,r.pixelRatio,r.viewState.projection),!l)return null;o.set(s,l)}return l}getTile(e,n,i,r){return this.getOrCreateTile(e,n,i,r)||null}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),r=Wt(n.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!Yo(o,r))return null;const a=n.viewState,s=i.getRenderSource(),l=s.getTileGridForProjection(a.projection),c=s.getTilePixelRatio(n.pixelRatio);for(let u=l.getZForResolution(a.resolution);u>=l.getMinZoom();--u){const d=l.getTileCoordForCoordAndZ(r,u),h=this.getTile(u,d[1],d[2],n);if(!h||h.getState()!==rn)continue;const p=l.getOrigin(u),f=an(l.getTileSize(u)),v=l.getResolution(u);let w;if(h instanceof E0||h instanceof Qd)w=h.getImage();else if(!(h instanceof Zd)||(w=Il(h.getData()),!w))continue;const b=Math.floor(c*((r[0]-p[0])/v-d[1]*f[0])),x=Math.floor(c*((p[1]-r[1])/v-d[2]*f[1])),g=Math.round(c*s.getGutterForProjection(a.projection));return this.getImageData(w,b+g,x+g)}return null}prepareFrame(e){this.renderedProjection_?e.viewState.projection!==this.renderedProjection_&&(this.tileCache_.clear(),this.renderedProjection_=e.viewState.projection):this.renderedProjection_=e.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const i=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,n,i,r,o){const a=e.viewState,s=this.getLayer(),l=s.getRenderSource(),c=l.getTileGridForProjection(a.projection),u=pt(l);u in e.wantedTiles||(e.wantedTiles[u]={});const d=e.wantedTiles[u],h=s.getMapInternal(),p=Math.max(i-o,c.getMinZoom(),c.getZForResolution(Math.min(s.getMaxResolution(),h?h.getView().getResolutionForZoom(Math.max(s.getMinZoom(),0)):c.getResolution(0)),l.zDirection));for(let f=i;f>=p;--f){const v=c.getTileRangeForExtentAndZ(n,f,this.tempTileRange_),w=c.getResolution(f);for(let b=v.minX;b<=v.maxX;++b)for(let x=v.minY;x<=v.maxY;++x){const g=this.getTile(f,b,x,e);if(!g||!tc(r,g,f))continue;const _=g.getKey();if(d[_]=!0,g.getState()===yn&&!e.tileQueue.isKeyQueued(_)){const S=Pl(f,b,x,this.tempTileCoord_);e.tileQueue.enqueue([g,u,c.getTileCoordCenter(S),w])}}}}findStaleTile_(e,n){const i=this.tileCache_,r=e[0],o=e[1],a=e[2],s=this.getStaleKeys();for(let l=0;l<s.length;++l){const c=ec(s[l],r,o,a);if(i.containsKey(c)){const u=i.get(c);if(u.getState()===rn)return u.endTransition(pt(this)),tc(n,u,r),!0}}return!1}findAltTiles_(e,n,i,r){const o=e.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!o)return!1;let a=!0;const s=this.tileCache_,l=this.getLayer().getRenderSource().getKey();for(let c=o.minX;c<=o.maxX;++c)for(let u=o.minY;u<=o.maxY;++u){const d=ec(l,i,c,u);let h=!1;if(s.containsKey(d)){const p=s.get(d);p.getState()===rn&&(tc(r,p,i),h=!0)}h||(a=!1)}return a}renderFrame(e,n){this.renderComplete=!0;const i=e.layerStatesArray[e.layerIndex],r=e.viewState,o=r.projection,a=r.resolution,s=r.center,l=e.pixelRatio,c=this.getLayer(),u=c.getSource(),d=u.getRevision(),h=u.getTileGridForProjection(o),p=h.getZForResolution(a,u.zDirection),f=h.getResolution(p),v=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==v&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=v):this.renderedSourceKey_=v;let w=e.extent;const b=u.getTilePixelRatio(l);this.prepareContainer(e,n);const x=this.context.canvas.width,g=this.context.canvas.height,_=i.extent&&Gi(i.extent);_&&(w=Yn(w,Gi(i.extent)));const S=f*x/2/b,C=f*g/2/b,T=[s[0]-S,s[1]-C,s[0]+S,s[1]+C],L={};this.renderedTiles.length=0;const z=c.getPreload();if(e.nextExtent){const V=h.getZForResolution(r.nextResolution,u.zDirection),B=ng(e,e.nextExtent);this.enqueueTiles(e,B,V,L,z)}const I=ng(e,w);if(this.enqueueTiles(e,I,p,L,0),z>0&&setTimeout(()=>{this.enqueueTiles(e,I,p-1,L,z-1)},0),!(p in L))return this.container;const R=pt(this),P=e.time;for(const V of L[p]){const B=V.getState();if((V instanceof Qd||V instanceof G1)&&B===Qt)continue;const G=V.tileCoord;if(B===rn&&V.getAlpha(R,P)===1){V.endTransition(R);continue}if(this.renderComplete=!1,this.findStaleTile_(G,L)){W1(L,V,p),e.animate=!0;continue}if(this.findAltTiles_(h,G,p+1,L))continue;const J=h.getMinZoom();for(let oe=p-1;oe>=J&&!this.findAltTiles_(h,G,oe,L);--oe);}const q=f/a*l/b,k=this.getRenderContext(e);Li(this.tempTransform,x/2,g/2,q,q,0,-x/2,-g/2),i.extent&&this.clipUnrotated(k,e,_),u.getInterpolate()||(k.imageSmoothingEnabled=!1),this.preRender(k,e);const M=Object.keys(L).map(Number);let E;M.sort(Ci);const O=[],j=[];for(let V=M.length-1;V>=0;--V){const B=M[V],G=u.getTilePixelSize(B,l,o),J=h.getResolution(B)/f,oe=G[0]*J*q,te=G[1]*J*q,H=h.getTileCoordForCoordAndZ(or(T),B),A=h.getTileCoordExtent(H),D=Wt(this.tempTransform,[b*(A[0]-T[0])/f,b*(T[3]-A[3])/f]),K=b*u.getGutterForProjection(o);for(const W of L[B]){if(W.getState()!==rn)continue;const se=W.tileCoord,fe=H[1]-se[1],le=Math.round(D[0]-(fe-1)*oe),pe=H[2]-se[2],ce=Math.round(D[1]-(pe-1)*te),ke=Math.round(D[0]-fe*oe),Ce=Math.round(D[1]-pe*te),he=le-ke,Se=ce-Ce,Te=M.length===1;let ze=!1;E=[ke,Ce,ke+he,Ce,ke+he,Ce+Se,ke,Ce+Se];for(let ie=0,me=O.length;ie<me;++ie)if(!Te&&B<j[ie]){const X=O[ie];hn([ke,Ce,ke+he,Ce+Se],[X[0],X[3],X[4],X[7]])&&(ze||(k.save(),ze=!0),k.beginPath(),k.moveTo(E[0],E[1]),k.lineTo(E[2],E[3]),k.lineTo(E[4],E[5]),k.lineTo(E[6],E[7]),k.moveTo(X[6],X[7]),k.lineTo(X[4],X[5]),k.lineTo(X[2],X[3]),k.lineTo(X[0],X[1]),k.clip())}O.push(E),j.push(B),this.drawTile(W,e,ke,Ce,he,Se,K,Te),ze&&k.restore(),this.renderedTiles.unshift(W),this.updateUsedTiles(e.usedTiles,u,W)}}return this.renderedRevision=d,this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!Wa(this.renderedExtent_,T),this.renderedExtent_=T,this.renderedPixelRatio=l,this.renderedProjection=o,this.postRender(this.context,e),i.extent&&k.restore(),k.imageSmoothingEnabled=!0,e.postRenderFunctions.push((V,B)=>{const G=pt(u),J=B.wantedTiles[G],oe=J?Object.keys(J).length:0;this.updateCacheSize(oe),this.tileCache_.expireCache()}),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,2*e)}drawTile(e,n,i,r,o,a,s,l){let c;if(e instanceof Zd){if(c=Il(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;const u=this.getRenderContext(n),d=pt(this),h=n.layerStatesArray[n.layerIndex],p=h.opacity*(l?e.getAlpha(d,n.time):1),f=p!==u.globalAlpha;f&&(u.save(),u.globalAlpha=p),u.drawImage(c,s,s,c.width-2*s,c.height-2*s,i,r,o,a),f&&u.restore(),p!==h.opacity?n.animate=!0:l&&e.endTransition(d)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,n,i){const r=pt(n);r in e||(e[r]={}),e[r][i.getKey()]=!0}}class Kt extends V1{constructor(e){super(e)}createRenderer(){return new Y1(this,{cacheSize:this.getCacheSize()})}}var X1="tileloadstart",U1="tileloadend",K1="tileloaderror";class P0 extends On{constructor(e){super(),this.projection=It(e.projection),this.attributions_=ig(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,r){n.viewResolver=i,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=ig(e),this.changed()}setState(e){this.state_=e,this.changed()}}function ig(t){return t?typeof t=="function"?t:(Array.isArray(t)||(t=[t]),e=>t):null}const so=[0,0,0];class Fo{constructor(e){let n;if(this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,ct(function(r,o,a){const s=o||Ci;return r.every(function(l,c){if(c===0)return!0;const u=s(r[c-1],l);return!(u>0||u===0)})}(this.resolutions_,(r,o)=>o-r),"`resolutions` must be sorted in descending order"),!e.origins)for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(n){if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}else n=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,ct(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i===void 0||this.origin_||this.origins_||(this.origin_=or(i)),ct(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,ct(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Rh,ct(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,o)=>{const a=new pp(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const s=this.getTileRangeForExtentAndZ(i,o);a.minX=Math.max(s.minX,a.minX),a.maxX=Math.min(s.maxX,a.maxX),a.minY=Math.max(s.minY,a.minY),a.maxY=Math.min(s.maxY,a.maxY)}return a}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,n,i){const r=this.getTileRangeForExtentAndZ(e,n);for(let o=r.minX,a=r.maxX;o<=a;++o)for(let s=r.minY,l=r.maxY;s<=l;++s)i([n,o,s])}forEachTileCoordParentTileRange(e,n,i,r){let o,a,s,l=null,c=e[0]-1;for(this.zoomFactor_===2?(a=e[1],s=e[2]):l=this.getTileCoordExtent(e,r);c>=this.minZoom;){if(a!==void 0&&s!==void 0?(a=Math.floor(a/2),s=Math.floor(s/2),o=ao(a,a,s,s,i)):o=this.getTileRangeForExtentAndZ(l,c,i),n(c,o))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const o=2*e[1],a=2*e[2];return ao(o,o+1,a,a+1,n)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const r=e[0],o=e[1],a=e[2];if(n===r)return ao(o,a,o,a,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-r),c=Math.floor(o*l),u=Math.floor(a*l);return n<r?ao(c,c,u,u,i):ao(c,Math.floor(l*(o+1))-1,u,Math.floor(l*(a+1))-1,i)}const s=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,n,i)}getTileRangeForExtentAndZ(e,n,i){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,so);const r=so[1],o=so[2];return this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,so),ao(r,so[1],o,so[2],i)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=an(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*r[0]*i,n[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,n){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=an(this.getTileSize(e[0]),this.tmpSize_),a=i[0]+e[1]*o[0]*r,s=i[1]-(e[2]+1)*o[1]*r;return si(a,s,a+o[0]*r,s+o[1]*r,n)}getTileCoordForCoordAndResolution(e,n,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,i)}getTileCoordForXYAndResolution_(e,n,i,r,o){const a=this.getZForResolution(i),s=i/this.getResolution(a),l=this.getOrigin(a),c=an(this.getTileSize(a),this.tmpSize_);let u=s*(e-l[0])/i/c[0],d=s*(l[1]-n)/i/c[1];return r?(u=Ms(u,5)-1,d=Ms(d,5)-1):(u=Es(u,5),d=Es(d,5)),Pl(a,u,d,o)}getTileCoordForXYAndZ_(e,n,i,r,o){const a=this.getOrigin(i),s=this.getResolution(i),l=an(this.getTileSize(i),this.tmpSize_);let c=(e-a[0])/s/l[0],u=(a[1]-n)/s/l[1];return r?(c=Ms(c,5)-1,u=Ms(u,5)-1):(c=Es(c,5),u=Es(u,5)),Pl(i,c,u,o)}getTileCoordForCoordAndZ(e,n,i){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){return St(jc(this.resolutions_,e,n||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return Bm(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,i=new Array(n);for(let r=this.minZoom;r<n;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}}class Z1 extends Fo{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}function R0(t){let e=t.getDefaultTileGrid();return e||(e=function(n,i,r,o){const a=fp(n);return function(s,l,c,u){u=u!==void 0?u:"top-left";const d=F0(s,l,c);return new Fo({extent:s,origin:xb(s,u),resolutions:d,tileSize:c})}(a,i,r,o)}(t),t.setDefaultTileGrid(e)),e}function Q1(t){const e=t||{},n=e.extent||It("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:F0(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Fo(i)}function F0(t,e,n,i){e=e!==void 0?e:42,n=an(n!==void 0?n:Rh);const r=Jt(t),o=Je(t);i=i>0?i:Math.max(o/n[0],r/n[1]);const a=e+1,s=new Array(a);for(let l=0;l<a;++l)s[l]=i/Math.pow(2,l);return s}function fp(t){let e=(t=It(t)).getExtent();if(!e){const n=180*Go.degrees/t.getMetersPerUnit();e=si(-n,-n,n,n)}return e}class J1 extends P0{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&an(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=e.key||pt(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,i,r,o){return lt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:R0(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,i){const r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(n),a=an(r.getTileSize(e),this.tmpSize);return o==1?a:Hm(a,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=function(r,o,a){const s=o[0],l=r.getTileCoordCenter(o),c=fp(a);if(!Yo(c,l)){const u=Je(c),d=Math.ceil((c[0]-l[0])/u);return l[0]+=u*d,r.getTileCoordForCoordAndZ(l,s)}return o}(i,e,n)),function(r,o){const a=r[0],s=r[1],l=r[2];if(o.getMinZoom()>a||a>o.getMaxZoom())return!1;const c=o.getFullTileRange(a);return!c||c.containsXY(s,l)}(e,i)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class ex extends di{constructor(e,n){super(e),this.tile=n}}function Jd(t,e){const n=[];Object.keys(e).forEach(function(r){e[r]!==null&&e[r]!==void 0&&n.push(r+"="+encodeURIComponent(e[r]))});const i=n.join("&");return t=t.replace(/[?&]$/,""),(t+=t.includes("?")?"&":"?")+i}const tx=/\{z\}/g,nx=/\{x\}/g,ix=/\{y\}/g,rx=/\{-y\}/g;function A0(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let o;for(o=i;o<=r;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}function ox(t,e){return function(n,i,r){if(!n)return;let o;const a=n[0];if(e){const s=e.getFullTileRange(a);s&&(o=s.getHeight()-1)}return function(s,l,c,u,d){return s.replace(tx,l.toString()).replace(nx,c.toString()).replace(ix,u.toString()).replace(rx,function(){if(d===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(d-u).toString()})}(t,a,n[1],n[2],o)}}function eh(t){return t.length===1?t[0]:function(e,n,i){if(!e)return;const r=Or(I0(e),t.length);return t[r](e,n,i)}}class gp extends J1{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===gp.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,i=pt(n),r=n.getState();let o;r==Hr?(this.tileLoadingKeys_[i]=!0,o=X1):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=r==bn?K1:r==rn?U1:void 0),o!=null&&this.dispatchEvent(new ex(o,n))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,n!==void 0?this.setKey(n):this.changed()}setUrl(e){const n=A0(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(function(i,r){const o=i.length,a=new Array(o);for(let s=0;s<o;++s)a[s]=ox(i[s],r);return eh(a)}(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,i){}}class hu extends gp{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ax,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate===void 0||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:E0,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!Bu(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||Bu(n,e)))return this.tileGrid;const i=pt(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=R0(e)),this.tileGridForProjection[i]}createTile_(e,n,i,r,o,a){const s=[e,n,i],l=this.getTileCoordForTileUrlFunction(s,o),c=l?this.tileUrlFunction(l,r,o):void 0,u=new this.tileClass(s,c!==void 0?yn:Qt,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=a,u.addEventListener(At,this.handleTileChange.bind(this)),u}getTile(e,n,i,r,o){const a=this.getProjection();if(!a||!o||Bu(a,o))return this.getTileInternal(e,n,i,r,a||o);const s=[e,n,i],l=this.getKey(),c=this.getTileGridForProjection(a),u=this.getTileGridForProjection(o),d=this.getTileCoordForTileUrlFunction(s,o),h=new Qd(a,c,o,u,s,d,this.getTilePixelRatio(r),this.getGutter(),(p,f,v,w)=>this.getTileInternal(p,f,v,w,a),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return h.key=l,h}getTileInternal(e,n,i,r,o){const a=this.getKey();return this.createTile_(e,n,i,r,o,a)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,n){const i=It(e);if(i){const r=pt(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}}function ax(t,e){t.getImage().src=e}class Jr extends hu{constructor(e){const n=(e=e||{}).projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:Q1({extent:fp(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}class ji extends On{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new ji(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(bt(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Qe(e,At,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?function(n){if(typeof n=="function")return n;let i;return Array.isArray(n)?i=n:(ct(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),i=[n]),function(){return i}}(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}class rg{constructor(e){this.rbush_=new jm(e),this.items_={}}insert(e,n){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(i),this.items_[pt(n)]=i}load(e,n){const i=new Array(n.length);for(let r=0,o=n.length;r<o;r++){const a=e[r],s=n[r],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};i[r]=l,this.items_[pt(s)]=l}this.rbush_.load(i)}remove(e){const n=pt(e),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(e,n){const i=this.items_[pt(n)];Wa([i.minX,i.minY,i.maxX,i.maxY],e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(e){return e.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let i;for(let r=0,o=e.length;r<o;r++)if(i=n(e[r]),i)return i;return i}isEmpty(){return Ho(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return si(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class pu extends ar{constructor(e,n,i){super(),i!==void 0&&n===void 0?this.setFlatCoordinates(i,e):(n=n||0,this.setCenterAndRadius(e,n,i))}clone(){const e=new pu(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){const o=this.flatCoordinates,a=e-o[0],s=n-o[1],l=a*a+s*s;if(l<r){if(l===0)for(let c=0;c<this.stride;++c)i[c]=o[c];else{const c=this.getRadius()/Math.sqrt(l);i[0]=o[0]+c*a,i[1]=o[1]+c*s;for(let u=2;u<this.stride;++u)i[u]=o[u]}return i.length=this.stride,l}return r}containsXY(e,n){const i=this.flatCoordinates,r=e-i[0],o=n-i[1];return r*r+o*o<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const n=this.flatCoordinates,i=n[this.stride]-n[0];return si(n[0]-i,n[1]-i,n[0]+i,n[1]+i,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],n=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+n*n}getType(){return"Circle"}intersectsExtent(e){if(hn(e,this.getExtent())){const n=this.getCenter();return e[0]<=n[0]&&e[2]>=n[0]||e[1]<=n[1]&&e[3]>=n[1]||Dh(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const n=this.stride,i=this.flatCoordinates[n]-this.flatCoordinates[0],r=e.slice();r[n]=r[0]+i;for(let o=1;o<n;++o)r[n+o]=e[o];this.setFlatCoordinates(this.layout,r),this.changed()}setCenterAndRadius(e,n,i){this.setLayout(i,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const r=this.flatCoordinates;let o=Rm(r,0,e,this.stride);r[o++]=r[0]+n;for(let a=1,s=this.stride;a<s;++a)r[o++]=r[a];r.length=o,this.changed()}getCoordinates(){return null}setCoordinates(e,n){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,n){const i=this.getCenter(),r=this.getStride();this.setCenter(Gh(i,0,i.length,r,e,n,i)),this.changed()}}pu.prototype.transform;class Rl extends Pm{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(bt),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)this.changeEventsKeys_.push(Qe(e[n],At,this.changed,this))}clone(){const e=new Rl(nc(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,n,i,r){if(r<Zr(this.getExtent(),e,n))return r;const o=this.geometries_;for(let a=0,s=o.length;a<s;++a)r=o[a].closestPointXY(e,n,i,r);return r}containsXY(e,n){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)if(i[r].containsXY(e,n))return!0;return!1}computeExtent(e){ra(e);const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)_m(e,n[i].getExtent());return e}getGeometries(){return nc(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].getType()===this.getType()?e=e.concat(n[i].getGeometriesArrayRecursive()):e.push(n[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],i=this.geometries_;let r=!1;for(let o=0,a=i.length;o<a;++o){const s=i[o],l=s.getSimplifiedGeometry(e);n.push(l),l!==s&&(r=!0)}return r?new Rl(n):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)if(n[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].rotate(e,n);this.changed()}scale(e,n,i){i||(i=li(this.getExtent()));const r=this.geometries_;for(let o=0,a=r.length;o<a;++o)r[o].scale(e,n,i);this.changed()}setGeometries(e){this.setGeometriesArray(nc(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].applyTransform(e);this.changed()}translate(e,n){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function nc(t){return t.map(e=>e.clone())}function Fl(t,e,n,i,r,o,a){let s,l;const c=(n-e)/i;if(c===1)s=e;else if(c===2)s=e,l=r;else if(c!==0){let u=t[e],d=t[e+1],h=0;const p=[0];for(let w=e+i;w<n;w+=i){const b=t[w],x=t[w+1];h+=Math.sqrt((b-u)*(b-u)+(x-d)*(x-d)),p.push(h),u=b,d=x}const f=r*h,v=function(w,b,x){let g,_;x=x||Ci;let S=0,C=w.length,T=!1;for(;S<C;)g=S+(C-S>>1),_=+x(w[g],b),_<0?S=g+1:(C=g,T=!_);return T?S:~S}(p,f);v<0?(l=(f-p[-v-2])/(p[-v-1]-p[-v-2]),s=e+(-v-2)*i):s=e+v*i}a=a>1?a:2,o=o||new Array(a);for(let u=0;u<a;++u)o[u]=s===void 0?NaN:l===void 0?t[s+u]:Sn(t[s+u],t[s+i+u],l);return o}function th(t,e,n,i,r,o){if(n==e)return null;let a;if(r<t[e+i-1])return o?(a=t.slice(e,e+i),a[i-1]=r,a):null;if(t[n-1]<r)return o?(a=t.slice(n-i,n),a[i-1]=r,a):null;if(r==t[e+i-1])return t.slice(e,e+i);let s=e/i,l=n/i;for(;s<l;){const d=s+l>>1;r<t[(d+1)*i-1]?l=d:s=d+1}const c=t[s*i-1];if(r==c)return t.slice((s-1)*i,(s-1)*i+i);const u=(r-c)/(t[(s+1)*i-1]-c);a=[];for(let d=0;d<i-1;++d)a.push(Sn(t[(s-1)*i+d],t[s*i+d],u));return a.push(r),a}function O0(t,e,n,i){let r=t[e],o=t[e+1],a=0;for(let s=e+i;s<n;s+=i){const l=t[s],c=t[s+1];a+=Math.sqrt((l-r)*(l-r)+(c-o)*(c-o)),r=l,o=c}return a}class Xn extends ar{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n===void 0||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}appendCoordinate(e){oi(this.flatCoordinates,e),this.changed()}clone(){const e=new Xn(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<Zr(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Wh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,i,r))}forEachSegment(e){return zm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0&&n,th(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return Yi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return Fl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return O0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=au(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Xn(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return su(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ou(this.flatCoordinates,0,e,this.stride),this.changed()}}class ns extends ar{constructor(e,n,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{const r=e,o=[],a=[];for(let l=0,c=r.length;l<c;++l)oi(o,r[l].getFlatCoordinates()),a.push(o.length);const s=r.length===0?this.getLayout():r[0].getLayout();this.setFlatCoordinates(s,o),this.ends_=a}}appendLineString(e){oi(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new ns(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<Zr(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Yh(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Uh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,i,r))}getCoordinateAtM(e,n,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0&&n,i=i!==void 0&&i,function(r,o,a,s,l,c,u){if(u)return th(r,o,a[a.length-1],s,l,c);let d;if(l<r[s-1])return c?(d=r.slice(0,s),d[s-1]=l,d):null;if(r[r.length-1]<l)return c?(d=r.slice(r.length-s),d[s-1]=l,d):null;for(let h=0,p=a.length;h<p;++h){const f=a[h];if(o!=f){if(l<r[o+s-1])return null;if(l<=r[f-1])return th(r,o,f,s,l,!1);o=f}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,n,i))}getCoordinates(){return Ka(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Xn(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,i=this.layout,r=[];let o=0;for(let a=0,s=n.length;a<s;++a){const l=n[a],c=new Xn(e.slice(o,l),i);r.push(c),o=l}return r}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let i=0;const r=this.ends_,o=this.stride;for(let a=0,s=r.length;a<s;++a){const l=r[a];oi(e,Fl(n,i,l,o,.5)),i=l}return e}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=Fm(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,i),new ns(n,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return function(n,i,r,o,a){for(let s=0,l=r.length;s<l;++s){if(su(n,i,r[s],o,a))return!0;i=r[s]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Kh(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class fu extends ar{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){oi(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new fu(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){if(r<Zr(this.getExtent(),e,n))return r;const o=this.flatCoordinates,a=this.stride;for(let s=0,l=o.length;s<l;s+=a){const c=ki(e,n,o[s],o[s+1]);if(c<r){r=c;for(let u=0;u<a;++u)i[u]=o[s+u];i.length=a}}return r}getCoordinates(){return Yi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates.length/this.stride;return e<0||n<=e?null:new ai(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,i=this.stride,r=[];for(let o=0,a=e.length;o<a;o+=i){const s=new ai(e.slice(o,o+i),n);r.push(s)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,i=this.stride;for(let r=0,o=n.length;r<o;r+=i)if(Ah(e,n[r],n[r+1]))return!0;return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ou(this.flatCoordinates,0,e,this.stride),this.changed()}}function D0(t,e,n,i){const r=[];let o=[1/0,1/0,-1/0,-1/0];for(let a=0,s=n.length;a<s;++a){const l=n[a];o=Oh(t,e,l[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return r}class is extends ar{constructor(e,n,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){const r=e,o=[],a=[];for(let s=0,l=r.length;s<l;++s){const c=r[s],u=o.length,d=c.getEnds();for(let h=0,p=d.length;h<p;++h)d[h]+=u;oi(o,c.getFlatCoordinates()),a.push(d)}n=r.length===0?this.getLayout():r[0].getLayout(),e=o,i=a}n!==void 0&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}appendPolygon(e){let n;if(this.flatCoordinates){const i=this.flatCoordinates.length;oi(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let r=0,o=n.length;r<o;++r)n[r]+=i}else this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let r=0;r<e;++r)n[r]=this.endss_[r].slice();const i=new is(this.flatCoordinates.slice(),this.layout,n);return i.applyProperties(this),i}closestPointXY(e,n,i,r){return r<Zr(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(o,a,s,l,c){for(let u=0,d=s.length;u<d;++u){const h=s[u];c=Yh(o,a,h,l,c),a=h[h.length-1]}return c}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(o,a,s,l,c,u,d,h,p,f,v){v=v||[NaN,NaN];for(let w=0,b=s.length;w<b;++w){const x=s[w];f=Uh(o,a,x,l,c,u,d,h,p,f,v),a=x[x.length-1]}return f}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,i,r))}containsXY(e,n){return function(i,r,o,a,s,l){if(o.length===0)return!1;for(let c=0,u=o.length;c<u;++c){const d=o[c];if(Qh(i,r,d,a,s,l))return!0;r=d[d.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return function(e,n,i,r){let o=0;for(let a=0,s=i.length;a<s;++a){const l=i[a];o+=Om(e,n,l,r),n=l[l.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Cf(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,ad(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=D0(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Dm(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new fu(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;(function(n,i,r,o,a){for(let s=0,l=r.length;s<l;++s){const c=r[s];if(!$m(n,i,c,o,a))return!1;c.length&&(i=c[c.length-1])}return!0})(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Cf(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=function(r,o,a,s,l,c,u,d){for(let h=0,p=a.length;h<p;++h){const f=a[h],v=[];u=Zh(r,o,f,s,l,c,u,v),d.push(v),o=f[f.length-1]}return u}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,i),new is(n,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const o=this.endss_[e-1];n=o[o.length-1]}const i=this.endss_[e].slice(),r=i[i.length-1];if(n!==0)for(let o=0,a=i.length;o<a;++o)i[o]-=n;return new Pn(this.flatCoordinates.slice(n,r),this.layout,i)}getPolygons(){const e=this.layout,n=this.flatCoordinates,i=this.endss_,r=[];let o=0;for(let a=0,s=i.length;a<s;++a){const l=i[a].slice(),c=l[l.length-1];if(o!==0)for(let d=0,h=l.length;d<h;++d)l[d]-=o;const u=new Pn(n.slice(o,c),e,l);r.push(u),o=c}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return function(n,i,r,o,a){for(let s=0,l=r.length;s<l;++s){const c=r[s];if(Vm(n,i,c,o,a))return!0;i=c[c.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=function(r,o,a,s,l){l=l||[];let c=0;for(let u=0,d=a.length;u<d;++u){const h=Kh(r,o,a[u],s,l[c]);h.length===0&&(h[0]=o),l[c++]=h,o=h[h.length-1]}return l.length=c,l}(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const r=i[i.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}}const og=[1,0,0,1,0,0];class Nn{constructor(e,n,i,r,o,a){this.styleFunction,this.extent_,this.id_=a,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?ym(this.flatCoordinates_):Oh(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=li(this.getExtent());this.flatInteriorPoints_=Jh(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=Ib(this.flatCoordinates_,this.ends_),n=D0(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=Dm(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Fl(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let n=0;const i=this.ends_;for(let r=0,o=i.length;r<o;++r){const a=i[r],s=Fl(e,n,a,2,.5);oi(this.flatMidpoints_,s),n=a}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){const n=(e=It(e)).getExtent(),i=e.getWorldExtent();if(n&&i){const r=Jt(i)/Jt(n);Li(og,i[0],i[3],r,-r,0,0,0),Wi(this.flatCoordinates_,0,this.flatCoordinates_.length,2,og,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Nn(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=hm((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const i=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":i.length=au(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=Fm(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=Zh(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r)}return r&&(this.simplifiedGeometry_=new Nn(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}Nn.prototype.getFlatCoordinates=Nn.prototype.getOrientedFlatCoordinates;var Ns="addfeature",sx="changefeature",lx="clear",ic="removefeature",ux="featuresloadstart",cx="featuresloadend",dx="featuresloaderror";function hx(t,e){return[[-1/0,-1/0,1/0,1/0]]}function px(t,e,n,i,r,o,a){const s=new XMLHttpRequest;s.open("GET",typeof t=="function"?t(n,i,r):t,!0),e.getType()=="arraybuffer"&&(s.responseType="arraybuffer"),s.withCredentials=!1,s.onload=function(l){if(!s.status||s.status>=200&&s.status<300){const c=e.getType();try{let u;c=="text"||c=="json"?u=s.responseText:c=="xml"?u=s.responseXML||s.responseText:c=="arraybuffer"&&(u=s.response),u?o(e.readFeatures(u,{extent:n,featureProjection:r}),e.readProjection(u)):a()}catch{a()}}else a()},s.onerror=a,s.send()}function ag(t,e){return function(n,i,r,o,a){const s=this;px(t,e,n,i,r,function(l,c){s.addFeatures(l),o!==void 0&&o(l)},a||jo)}}class Di extends di{constructor(e,n,i){super(e),this.feature=n,this.features=i}}class gu extends P0{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX===void 0||e.wrapX}),this.on,this.once,this.un,this.loader_=jo,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0||e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(ct(this.format_,"`format` must be set when `url` is set"),this.loader_=ag(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:hx;const n=e.useSpatialIndex===void 0||e.useSpatialIndex;let i,r;this.featuresRtree_=n?new rg:null,this.loadedExtentsRtree_=new rg,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),n||i!==void 0||(i=new Mn(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=pt(e);if(!this.addToIndex_(n,e))return void(this.featuresCollection_&&this.featuresCollection_.remove(e));this.setupChangeEvents_(n,e);const i=e.getGeometry();if(i){const r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new Di(Ns,e))}setupChangeEvents_(e,n){n instanceof Nn||(this.featureChangeKeys_[e]=[Qe(n,At,this.handleFeatureChange_,this),Qe(n,$o,this.handleFeatureChange_,this)])}addToIndex_(e,n){let i=!0;if(n.getId()!==void 0){const r=String(n.getId());if(r in this.idIndex_)if(n instanceof Nn){const o=this.idIndex_[r];o instanceof Nn?Array.isArray(o)?o.push(n):this.idIndex_[r]=[o,n]:i=!1}else i=!1;else this.idIndex_[r]=n}return i&&(ct(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],i=[],r=[];for(let o=0,a=e.length;o<a;o++){const s=e[o],l=pt(s);this.addToIndex_(l,s)&&i.push(s)}for(let o=0,a=i.length;o<a;o++){const s=i[o],l=pt(s);this.setupChangeEvents_(l,s);const c=s.getGeometry();if(c){const u=c.getExtent();n.push(u),r.push(s)}else this.nullGeometryFeatures_[l]=s}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(Ns))for(let o=0,a=i.length;o<a;o++)this.dispatchEvent(new Di(Ns,i[o]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(Ns,function(i){n||(n=!0,e.push(i.feature),n=!1)}),this.addEventListener(ic,function(i){n||(n=!0,e.remove(i.feature),n=!1)}),e.addEventListener(Rr,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),e.addEventListener(Fr,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(bt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=r=>{this.removeFeatureInternal(r)};this.featuresRtree_.forEach(i);for(const r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new Di(lx);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){const o=r.getGeometry();if(o instanceof Nn||o.intersectsCoordinate(e))return n(r)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(i){const r=i.getGeometry();if(r instanceof Nn||r.intersectsExtent(e)){const o=n(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Ho(this.nullGeometryFeatures_)||oi(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){n.push(i)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=zh(e,n);return[].concat(...i.map(r=>this.featuresRtree_.getInExtent(r)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const i=e[0],r=e[1];let o=null;const a=[NaN,NaN];let s=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||No,this.featuresRtree_.forEachInExtent(l,function(c){if(n(c)){const u=c.getGeometry(),d=s;if(s=u instanceof Nn?0:u.closestPointXY(i,r,a,s),s<d){o=c;const h=Math.sqrt(s);l[0]=i-h,l[1]=r-h,l[2]=i+h,l[3]=r+h}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,i=pt(n),r=n.getGeometry();if(r){const a=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,n)):this.featuresRtree_&&this.featuresRtree_.update(a,n)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);const o=n.getId();if(o!==void 0){const a=o.toString();this.idIndex_[a]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[a]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new Di(sx,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:pt(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Ho(this.nullGeometryFeatures_):!this.featuresCollection_||this.featuresCollection_.getLength()===0}loadFeatures(e,n,i){const r=this.loadedExtentsRtree_,o=this.strategy_(e,n,i);for(let a=0,s=o.length;a<s;++a){const l=o[a];r.forEachInExtent(l,function(c){return Tr(c.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Di(ux)),this.loader_.call(this,l,n,i,c=>{--this.loadingExtentsCount_,this.dispatchEvent(new Di(cx,void 0,c))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Di(dx))}),r.insert(l,{extent:l.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let i;n.forEachInExtent(e,function(r){if(Wa(r.extent,e))return i=r,!0}),i&&n.remove(i)}removeFeatures(e){let n=!1;for(let i=0,r=e.length;i<r;++i)n=this.removeFeatureInternal(e[i])||n;n&&this.changed()}removeFeature(e){e&&this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=pt(e);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[n]?.forEach(bt),delete this.featureChangeKeys_[n];const i=e.getId();if(i!==void 0){const r=i.toString(),o=this.idIndex_[r];o===e?delete this.idIndex_[r]:Array.isArray(o)&&(o.splice(o.indexOf(e),1),o.length===1&&(this.idIndex_[r]=o[0]))}return delete this.uidIndex_[n],this.hasListener(ic)&&this.dispatchEvent(new Di(ic,e)),!0}removeFromIdIndex_(e){for(const n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n];break}}setLoader(e){this.loader_=e}setUrl(e){ct(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(ag(e,this.format_))}}var sg=class extends Jr{constructor(t){let e;e=(t=t||{}).attributions!==void 0?t.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];const n=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",i=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:e,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:n,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:i,wrapX:t.wrapX,zDirection:t.zDirection})}},fx=class extends hu{constructor(t){super({attributions:(t=t||{}).attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:t.wrapX===void 0||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.params_=Object.assign({},t.params),this.hidpi_=t.hidpi===void 0||t.hidpi,this.tmpExtent_=[1/0,1/0,-1/0,-1/0],this.setKey(this.getKeyForParams_())}getKeyForParams_(){let t=0;const e=[];for(const n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")}getParams(){return this.params_}getRequestUrl_(t,e,n,i,r,o){const a=this.urls;if(!a)return;let s;return a.length==1?s=a[0]:s=a[Or(I0(t),a.length)],function(l,c,u,d,h,p){const f=h.getCode().split(/:(?=\d+$)/).pop(),v=u/d,w=[of(Je(c)/v,4),of(Jt(c)/v,4)];return p.SIZE=w[0]+","+w[1],p.BBOX=c.join(","),p.BBOXSR=f,p.IMAGESR=f,p.DPI=Math.round(p.DPI?p.DPI*d:90*d),Jd(l.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),p)}(s,n,(this.tileGrid||this.getTileGridForProjection(r)).getResolution(t[0]),i,r,o)}getTilePixelRatio(t){return this.hidpi_?t:1}updateParams(t){Object.assign(this.params_,t),this.setKey(this.getKeyForParams_())}tileUrlFunction(t,e,n){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(n)),i.getResolutions().length<=t[0])return;e==1||this.hidpi_||(e=1);const r=i.getTileCoordExtent(t,this.tmpExtent_);let o=an(i.getTileSize(t[0]),this.tmpSize);e!=1&&(o=Hm(o,e,this.tmpSize));const a={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object.assign(a,this.params_),this.getRequestUrl_(t,o,r,e,n,a)}};class gx extends Jr{constructor(e){super({projection:(e=e||{}).projection,tileGrid:e.tileGrid,wrapX:e.wrapX===void 0||e.wrapX,zDirection:e.zDirection,url:e.template||"z:{z} x:{x} y:{y}",tileLoadFunction:(n,i)=>{const r=n.getTileCoord()[0],o=an(this.tileGrid.getTileSize(r)),a=Rt(o[0],o[1]);a.strokeStyle="grey",a.strokeRect(.5,.5,o[0]+.5,o[1]+.5),a.fillStyle="grey",a.strokeStyle="white",a.textAlign="center",a.textBaseline="middle",a.font="24px sans-serif",a.lineWidth=4,a.strokeText(i,o[0]/2,o[1]/2,o[0]),a.fillText(i,o[0]/2,o[1]/2,o[0]),n.setImage(a.canvas)}})}}class lo extends hu{constructor(e){const n=e.requestEncoding!==void 0?e.requestEncoding:"KVP",i=e.tileGrid;let r=e.urls;r===void 0&&e.url!==void 0&&(r=A0(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:r,wrapX:e.wrapX!==void 0&&e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.version_=e.version!==void 0?e.version:"1.0.0",this.format_=e.format!==void 0?e.format:"image/jpeg",this.dimensions_=e.dimensions!==void 0?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=n,this.setKey(this.getKeyForDimensions_()),r&&r.length>0&&(this.tileUrlFunction=eh(r.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const n=e.join(`
`);this.setTileUrlFunction(eh(e.map(this.createFromWMTSTemplate.bind(this))),n)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const e=this.urls?this.urls.slice(0):[];for(const n in this.dimensions_)e.push(n+"-"+this.dimensions_[n]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const n=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};n=="KVP"&&Object.assign(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=n=="KVP"?Jd(e,i):e.replace(/\{(\w+?)\}/g,function(a,s){return s.toLowerCase()in i?i[s.toLowerCase()]:a});const r=this.tileGrid,o=this.dimensions_;return function(a,s,l){if(!a)return;const c={TileMatrix:r.getMatrixId(a[0]),TileCol:a[1],TileRow:a[2]};Object.assign(c,o);let u=e;return u=n=="KVP"?Jd(u,c):u.replace(/\{(\w+?)\}/g,function(d,h){return c[h]}),u}}}const rs="BD:09",z0=(t="BD:09")=>{let e=It(t);return e||(Nh(new Zi({code:"BD:09",extent:[-2003772637e-2,-1170804166e-2,2003772637e-2,1247410417e-2],units:"m",axisOrientation:"neu",global:!1})),e)};class Lr extends hu{constructor(e){const n=e||{},i=n.tileGrid||Lr.getTileGrid(n.projection||"EPSG:3857"),r={projection:n.projection===rs?z0(rs):"EPSG:3857",tileGrid:i,tileUrlFunction:function(o){if(!o)return"";let a=o[0],s=o[1],l=-o[2]-1,c=s<0?"M"+-s:s,u=l<0?"M"+-l:l;return n.key&&n.key!=="vec"?`https://maponline0.bdimg.com/starpic/?qt=satepc&u=x=${c};y=${u};z=${a};v=009;type=sate&fm=46&app=webearth2&v=009&udt=20241109`:"http://online3.map.bdimg.com/onlinelabel/?qt=tile&x="+c+"&y="+u+"&z="+a+"&styles=pl&udt=20151021&scaler=1&p=1"}};super(r)}static getTileGrid(e){return e==="EPSG:4326"||e==="EPSG:4490"?Lr.default4326TileGrid():e==="BD:09"?Lr.defaultBD09TileGrid():Lr.default3857TileGrid()}static default4326TileGrid(){const e=[],n=[];for(let i=1;i<19;i+=1)e.push(1.40625/2**i),n.push(i);return new Fo({extent:[-180,-90,180,90],resolutions:e,origin:[-180,90],matrixIds:n,minZoom:1})}static default3857TileGrid(){const e=[],n=[];for(let i=1;i<19;i+=1)e[i]=Math.pow(2,18-i),n.push(i);return new Fo({resolutions:e,matrixIds:n,origin:[0,0],minZoom:1})}static defaultBD09TileGrid(){const e=[];for(let n=1;n<19;n+=1)e[n]=Math.pow(2,18-n);return new Fo({resolutions:e,origin:[0,0],minZoom:1})}}var js=[75,60,45,30,15,0],lg=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function vx(t){var e=function(n){var i,r;n.lng=function(s,l,c){for(;s>c;)s-=c-l;for(;s<l;)s+=c-l;return s}(n.lng,-180,180),n.lat=function(s,l,c){return s=Math.max(s,l),s=Math.min(s,c),s}(n.lat,-74,74),i=new To(n.lng,n.lat);for(var o=0;o<js.length;o++)if(i.lat>=js[o]){r=lg[o];break}if(!r){for(o=js.length-1;o>=0;o--)if(i.lat<=-js[o]){r=lg[o];break}}var a=function(s,l){if(s&&l){var c=l[0]+l[1]*Math.abs(s.lng),u=Math.abs(s.lat)/l[9],d=l[2]+l[3]*u+l[4]*u*u+l[5]*u*u*u+l[6]*u*u*u*u+l[7]*u*u*u*u*u+l[8]*u*u*u*u*u*u;return new To(c*=s.lng<0?-1:1,d*=s.lat<0?-1:1)}}(n,r);return n=new To(a.lng.toFixed(2),a.lat.toFixed(2)),n}(new To(t[0],t[1]));return[e.lng,e.lat]}function To(t,e){isNaN(t)&&(t=ug(t),t=isNaN(t)?0:t),cg(t)&&(t=parseFloat(t)),isNaN(e)&&(e=ug(e),e=isNaN(e)?0:e),cg(e)&&(e=parseFloat(e)),this.lng=t,this.lat=e}function ug(t){var e,n,i,r,o="",a="",s="",l=0;if(!t||/[^A-Za-z0-9\+\/\=]/g.exec(t))return t;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do e=cf.indexOf(t.charAt(l++))<<2|(i=cf.indexOf(t.charAt(l++)))>>4,n=(15&i)<<4|(r=cf.indexOf(t.charAt(l++)))>>2,a=(3&r)<<6|(s=cf.indexOf(t.charAt(l++))),o+=String.fromCharCode(e),r!=64&&(o+=String.fromCharCode(n)),s!=64&&(o+=String.fromCharCode(a)),e=n=a="",i=r=s="";while(l<t.length);return o}function cg(t){return typeof t=="string"}function N2(t="map"){const e=z0(rs);return new du({controls:[],target:t,layers:[new Kt({source:new Lr({key:"img",projection:rs}),visible:!0})],view:new Ln({projection:e,center:vx([120.098926,29.343227]),maxZoom:20,minZoom:5,zoom:8})})}function mx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function B0(t,e,n){return n&&mx(t,n),t}function fl(){return(fl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function dg(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function V0(t,e){if(t==null)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)e.indexOf(n=o[i])>=0||(r[n]=t[n]);return r}function hg(t){return((e=t)!=null&&typeof e=="object"&&Array.isArray(e)===!1)==1&&Object.prototype.toString.call(t)==="[object Object]";var e}To.isInRange=function(t){return t&&t.lng<=180&&t.lng>=-180&&t.lat<=74&&t.lat>=-74},To.prototype.equals=function(t){return t&&lat==t.lat&&lng==t.lng};var $0=Object.prototype,N0=$0.toString,yx=$0.hasOwnProperty,j0=/^\s*function (\w+)/;function pg(t){var e,n=(e=t?.type)!==null&&e!==void 0?e:t;if(n){var i=n.toString().match(j0);return i?i[1]:""}return""}var Gr=function(t){var e,n;return hg(t)!==!1&&typeof(e=t.constructor)=="function"&&hg(n=e.prototype)!==!1&&n.hasOwnProperty("isPrototypeOf")!==!1},_x=function(t){return t},cn=_x,os=function(t,e){return yx.call(t,e)},bx=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},Jo=Array.isArray||function(t){return N0.call(t)==="[object Array]"},ea=function(t){return N0.call(t)==="[object Function]"},Al=function(t){return Gr(t)&&os(t,"_vueTypes_name")},H0=function(t){return Gr(t)&&(os(t,"type")||["_vueTypes_name","validator","default","required"].some(function(e){return os(t,e)}))};function vp(t,e){return Object.defineProperty(t.bind(e),"__original",{value:t})}function qr(t,e,n){var i;n===void 0&&(n=!1);var r=!0,o="";i=Gr(t)?t:{type:t};var a=Al(i)?i._vueTypes_name+" - ":"";if(H0(i)&&i.type!==null){if(i.type===void 0||i.type===!0||!i.required&&e===void 0)return r;Jo(i.type)?(r=i.type.some(function(d){return qr(d,e,!0)===!0}),o=i.type.map(function(d){return pg(d)}).join(" or ")):r=(o=pg(i))==="Array"?Jo(e):o==="Object"?Gr(e):o==="String"||o==="Number"||o==="Boolean"||o==="Function"?function(d){if(d==null)return"";var h=d.constructor.toString().match(j0);return h?h[1]:""}(e)===o:e instanceof i.type}if(!r){var s=a+'value "'+e+'" should be of type "'+o+'"';return n===!1?(cn(s),!1):s}if(os(i,"validator")&&ea(i.validator)){var l=cn,c=[];if(cn=function(d){c.push(d)},r=i.validator(e),cn=l,!r){var u=(c.length>1?"* ":"")+c.join(`
* `);return c.length=0,n===!1?(cn(u),r):u}}return r}function wn(t,e){var n=Object.defineProperties(e,{_vueTypes_name:{value:t,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(r){return r!==void 0||this.default?ea(r)||qr(this,r,!0)===!0?(this.default=Jo(r)?function(){return[].concat(r)}:Gr(r)?function(){return Object.assign({},r)}:r,this):(cn(this._vueTypes_name+' - invalid default value: "'+r+'"'),this):this}}}),i=n.validator;return ea(i)&&(n.validator=vp(i,n)),n}function ri(t,e){var n=wn(t,e);return Object.defineProperty(n,"validate",{value:function(i){return ea(this.validator)&&cn(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=vp(i,this),this}})}function fg(t,e,n){var i,r,o=(i=e,r={},Object.getOwnPropertyNames(i).forEach(function(d){r[d]=Object.getOwnPropertyDescriptor(i,d)}),Object.defineProperties({},r));if(o._vueTypes_name=t,!Gr(n))return o;var a,s,l=n.validator,c=V0(n,["validator"]);if(ea(l)){var u=o.validator;u&&(u=(s=(a=u).__original)!==null&&s!==void 0?s:a),o.validator=vp(u?function(d){return u.call(this,d)&&l.call(this,d)}:l,o)}return Object.assign(o,c)}function gl(t){return t.replace(/^(?!\s*$)/gm,"  ")}var Ei=function(){return ri("boolean",{type:Boolean})},as=function(){return ri("string",{type:String})},nh=function(){return ri("number",{type:Number})},ih=function(){return ri("array",{type:Array})},mp=function(){return ri("object",{type:Object})};function yp(t){if(!Jo(t))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var e=!1,n=[],i=0;i<t.length;i+=1){var r=t[i];if(H0(r)){if(Al(r)&&r._vueTypes_name==="oneOf"){n=n.concat(r.type);continue}if(ea(r.validator)&&(e=!0),r.type!==!0&&r.type){n=n.concat(r.type);continue}}n.push(r)}return n=n.filter(function(o,a){return n.indexOf(o)===a}),wn("oneOfType",e?{type:n,validator:function(o){var a=[],s=t.some(function(l){var c=qr(Al(l)&&l._vueTypes_name==="oneOf"?l.type||null:l,o,!0);return typeof c=="string"&&a.push(c),c===!0});return s||cn("oneOfType - provided value does not match any of the "+a.length+` passed-in validators:
`+gl(a.join(`
`))),s}}:{type:n})}var Qn=function(){function t(){}return t.extend=function(e){var n=this;if(Jo(e))return e.forEach(function(d){return n.extend(d)}),this;var i=e.name,r=e.validate,o=r!==void 0&&r,a=e.getter,s=a!==void 0&&a,l=V0(e,["name","validate","getter"]);if(os(this,i))throw new TypeError('[VueTypes error]: Type "'+i+'" already defined');var c,u=l.type;return Al(u)?(delete l.type,Object.defineProperty(this,i,s?{get:function(){return fg(i,u,l)}}:{value:function(){var d,h=fg(i,u,l);return h.validator&&(h.validator=(d=h.validator).bind.apply(d,[h].concat([].slice.call(arguments)))),h}})):(c=s?{get:function(){var d=Object.assign({},l);return o?ri(i,d):wn(i,d)},enumerable:!0}:{value:function(){var d,h,p=Object.assign({},l);return d=o?ri(i,p):wn(i,p),p.validator&&(d.validator=(h=p.validator).bind.apply(h,[d].concat([].slice.call(arguments)))),d},enumerable:!0},Object.defineProperty(this,i,c))},B0(t,null,[{key:"any",get:function(){return ri("any",{})}},{key:"func",get:function(){return ri("function",{type:Function}).def(this.defaults.func)}},{key:"bool",get:function(){return Ei().def(this.defaults.bool)}},{key:"string",get:function(){return as().def(this.defaults.string)}},{key:"number",get:function(){return nh().def(this.defaults.number)}},{key:"array",get:function(){return ih().def(this.defaults.array)}},{key:"object",get:function(){return mp().def(this.defaults.object)}},{key:"integer",get:function(){return wn("integer",{type:Number,validator:function(e){return bx(e)}}).def(this.defaults.integer)}},{key:"symbol",get:function(){return wn("symbol",{validator:function(e){return typeof e=="symbol"}})}}]),t}();Qn.defaults={},Qn.custom=function(t,e){if(e===void 0&&(e="custom validation failed"),typeof t!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return wn(t.name||"<<anonymous function>>",{validator:function(n){var i=t(n);return i||cn(this._vueTypes_name+" - "+e),i}})},Qn.oneOf=function(t){if(!Jo(t))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var e='oneOf - value should be one of "'+t.join('", "')+'".',n=t.reduce(function(i,r){if(r!=null){var o=r.constructor;i.indexOf(o)===-1&&i.push(o)}return i},[]);return wn("oneOf",{type:n.length>0?n:void 0,validator:function(i){var r=t.indexOf(i)!==-1;return r||cn(e),r}})},Qn.instanceOf=function(t){return wn("instanceOf",{type:t})},Qn.oneOfType=yp,Qn.arrayOf=function(t){return wn("arrayOf",{type:Array,validator:function(e){var n,i=e.every(function(r){return(n=qr(t,r,!0))===!0});return i||cn(`arrayOf - value validation error:
`+gl(n)),i}})},Qn.objectOf=function(t){return wn("objectOf",{type:Object,validator:function(e){var n,i=Object.keys(e).every(function(r){return(n=qr(t,e[r],!0))===!0});return i||cn(`objectOf - value validation error:
`+gl(n)),i}})},Qn.shape=function(t){var e=Object.keys(t),n=e.filter(function(r){var o;return!!(!((o=t[r])===null||o===void 0)&&o.required)}),i=wn("shape",{type:Object,validator:function(r){var o=this;if(!Gr(r))return!1;var a=Object.keys(r);if(n.length>0&&n.some(function(l){return a.indexOf(l)===-1})){var s=n.filter(function(l){return a.indexOf(l)===-1});return cn(s.length===1?'shape - required property "'+s[0]+'" is not defined.':'shape - required properties "'+s.join('", "')+'" are not defined.'),!1}return a.every(function(l){if(e.indexOf(l)===-1)return o._vueTypes_isLoose===!0||(cn('shape - shape definition does not include a "'+l+'" property. Allowed keys: "'+e.join('", "')+'".'),!1);var c=qr(t[l],r[l],!0);return typeof c=="string"&&cn('shape - "'+l+`" property validation error:
 `+gl(c)),c===!0})}});return Object.defineProperty(i,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(i,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),i},Qn.utils={validate:function(t,e){return qr(e,t,!0)===!0},toType:function(t,e,n){return n===void 0&&(n=!1),n?ri(t,e):wn(t,e)}},function(t){function e(){return t.apply(this,arguments)||this}dg(e,t)}(function(t){var e;return t===void 0&&(t={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(e=function(n){function i(){return n.apply(this,arguments)||this}return dg(i,n),B0(i,null,[{key:"sensibleDefaults",get:function(){return fl({},this.defaults)},set:function(r){this.defaults=r!==!1?fl({},r!==!0?r:t):{}}}]),i}(Qn)).defaults=fl({},t),e}());const Zt={LAYER_ORDER_CHANGED:"LAYER_ORDER_CHANGED",LAYER_LOCATE:"LAYER_LOCATE",LAYER_OPACITY_CHANGED:"LAYER_OPACITY_CHANGED",LAYER_VISIBLE_CHANGED:"LAYER_VISIBLE_CHANGED",LAYER_ADDED:"LAYER_ADDED",LAYER_REMOVED:"LAYER_REMOVED",LAYER_COPY:"LAYER_COPY",LAYER_ITEMS_CHANGED:"LAYER_ITEMS_CHANGED",LAYER_ITEM_UPDATED:"LAYER_ITEM_UPDATED",LAYER_SWIPE_CHANGED:"LAYER_SWIPE_CHANGED",MAP_SYNC_VIEW:"MAP_SYNC_VIEW",MAP_SYNC_VIEW_END:"MAP_SYNC_VIEW_END",MAP_ZOOM_CHANGED:"MAP_ZOOM_CHANGED",MAP_MESSAGE_INFO:"MAP_MESSAGE_INFO",LAYER_TREE_CONTEXT_MENU:"LAYER_TREE_CONTEXT_MENU"};class G0{mapID;mapGroup;data;target;constructor(e,n){this.mapID=e,this.mapGroup=n}}function W0(t){return{all:t=t||new Map,on(e,n){const i=t?.get(e);i&&i.push(n)||t?.set(e,[n])},off(e,n){const i=t?.get(e);i&&i.splice(i.indexOf(n)>>>0,1)},emit(e,n){(t?.get(e)||[]).slice().map(i=>{i(n)}),(t?.get("*")||[]).slice().map(i=>{i(e,n)})}}}W0();class xx{eventBus;constructor(){this.eventBus=W0()}eventEmit(e,n){this.eventBus.emit(e,n)}eventOn(e,n){this.eventBus.on(e,n)}eventOff(e,n){this.eventBus.off(e,n)}}const Ol=new xx,vl=0,Y0=1,X0=2,U0=3,Vn=4,rh=5,yr=6,oh=7,K0=8,_p=9,za=10,zr=11,Z0=12,Hs=[K0],Ui=[Z0],Ir=[Y0],gg=[U0];class Q0{drawCustom(e,n,i,r,o){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,i){}drawFeature(e,n,i){}drawGeometryCollection(e,n,i){}drawLineString(e,n,i){}drawMultiLineString(e,n,i){}drawMultiPoint(e,n,i){}drawMultiPolygon(e,n,i){}drawPoint(e,n,i){}drawPolygon(e,n,i){}drawText(e,n,i){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class Pa extends Q0{constructor(e,n,i,r){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(i){return i*n})}appendFlatPointCoordinates(e,n){const i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates;let a=o.length;for(let s=0,l=e.length;s<l;s+=n)r[0]=e[s],r[1]=e[s+1],Yo(i,r)&&(o[a++]=r[0],o[a++]=r[1]);return a}appendFlatLineCoordinates(e,n,i,r,o,a){const s=this.coordinates;let l=s.length;const c=this.getBufferedMaxExtent();a&&(n+=r);let u=e[n],d=e[n+1];const h=this.tmpCoordinate_;let p,f,v,w=!0;for(p=n+r;p<i;p+=r)h[0]=e[p],h[1]=e[p+1],v=Jc(c,h),v!==f?(w&&(s[l++]=u,s[l++]=d,w=!1),s[l++]=h[0],s[l++]=h[1]):v===Cl?(s[l++]=h[0],s[l++]=h[1],w=!1):w=!0,u=h[0],d=h[1],f=v;return(o&&w||p===n+r)&&(s[l++]=u,s[l++]=d),l}drawCustomCoordinates_(e,n,i,r,o){for(let a=0,s=i.length;a<s;++a){const l=i[a],c=this.appendFlatLineCoordinates(e,n,l,r,!1,!1);o.push(c),n=l}return n}drawCustom(e,n,i,r,o){this.beginGeometry(e,n,o);const a=e.getType(),s=e.getStride(),l=this.coordinates.length;let c,u,d,h,p;switch(a){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),h=[];const f=e.getEndss();p=0;for(let v=0,w=f.length;v<w;++v){const b=[];p=this.drawCustomCoordinates_(c,p,f[v],s,b),h.push(b)}this.instructions.push([Vn,l,h,e,i,ad,o]),this.hitDetectionInstructions.push([Vn,l,h,e,r||i,ad,o]);break;case"Polygon":case"MultiLineString":d=[],c=a=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),p=this.drawCustomCoordinates_(c,0,e.getEnds(),s,d),this.instructions.push([Vn,l,d,e,i,Ka,o]),this.hitDetectionInstructions.push([Vn,l,d,e,r||i,Ka,o]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,s,!1,!1),this.instructions.push([Vn,l,u,e,i,Yi,o]),this.hitDetectionInstructions.push([Vn,l,u,e,r||i,Yi,o]);break;case"MultiPoint":c=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,s),u>l&&(this.instructions.push([Vn,l,u,e,i,Yi,o]),this.hitDetectionInstructions.push([Vn,l,u,e,r||i,Yi,o]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([Vn,l,u,e,i,void 0,o]),this.hitDetectionInstructions.push([Vn,l,u,e,r||i,void 0,o])}this.endGeometry(n)}beginGeometry(e,n,i){this.beginGeometryInstruction1_=[vl,n,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[vl,n,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;let n;e.reverse();const i=e.length;let r,o,a=-1;for(n=0;n<i;++n)r=e[n],o=r[0],o==oh?a=n:o==vl&&(r[2]=n,sb(this.hitDetectionInstructions,a,n),a=-1)}setFillStrokeStyle(e,n){const i=this.state;if(e){const r=e.getColor();i.fillPatternScale=r&&typeof r=="object"&&"src"in r?this.pixelRatio:1,i.fillStyle=ii(r||vn)}else i.fillStyle=void 0;if(n){const r=n.getColor();i.strokeStyle=ii(r||es);const o=n.getLineCap();i.lineCap=o!==void 0?o:Ko;const a=n.getLineDash();i.lineDash=a?a.slice():Ti;const s=n.getLineDashOffset();i.lineDashOffset=s||0;const l=n.getLineJoin();i.lineJoin=l!==void 0?l:Zo;const c=n.getWidth();i.lineWidth=c!==void 0?c:1;const u=n.getMiterLimit();i.miterLimit=u!==void 0?u:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const n=e.fillStyle,i=[za,n];return typeof n!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[zr,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const i=e.fillStyle;typeof i=="string"&&e.currentFillStyle==i||(i!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,n){const i=e.strokeStyle,r=e.lineCap,o=e.lineDash,a=e.lineDashOffset,s=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||o!=e.currentLineDash&&!rr(e.currentLineDash,o)||e.currentLineDashOffset!=a||e.currentLineJoin!=s||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(i!==void 0&&n.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=o,e.currentLineDashOffset=a,e.currentLineJoin=s,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[oh,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=mm(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Fh(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class vg extends Pa{constructor(e,n,i,r){super(e,n,i,r)}drawFlatCoordinatess_(e,n,i,r){const o=this.state,a=o.fillStyle!==void 0,s=o.strokeStyle!==void 0,l=i.length;this.instructions.push(Ir),this.hitDetectionInstructions.push(Ir);for(let c=0;c<l;++c){const u=i[c],d=this.coordinates.length,h=this.appendFlatLineCoordinates(e,n,u,r,!0,!s),p=[_p,d,h];this.instructions.push(p),this.hitDetectionInstructions.push(p),s&&(this.instructions.push(gg),this.hitDetectionInstructions.push(gg)),n=u}return a&&(this.instructions.push(Hs),this.hitDetectionInstructions.push(Hs)),s&&(this.instructions.push(Ui),this.hitDetectionInstructions.push(Ui)),n}drawCircle(e,n,i){const r=this.state,o=r.fillStyle,a=r.strokeStyle;if(o===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([za,vn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([zr,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ti,0]);const s=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,l,!1,!1);const u=[X0,c];this.instructions.push(Ir,u),this.hitDetectionInstructions.push(Ir,u),r.fillStyle!==void 0&&(this.instructions.push(Hs),this.hitDetectionInstructions.push(Hs)),r.strokeStyle!==void 0&&(this.instructions.push(Ui),this.hitDetectionInstructions.push(Ui)),this.endGeometry(n)}drawPolygon(e,n,i){const r=this.state,o=r.fillStyle,a=r.strokeStyle;if(o===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([za,vn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([zr,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ti,0]);const s=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,s,c),this.endGeometry(n)}drawMultiPolygon(e,n,i){const r=this.state,o=r.fillStyle,a=r.strokeStyle;if(o===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([za,vn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([zr,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ti,0]);const s=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride();let u=0;for(let d=0,h=s.length;d<h;++d)u=this.drawFlatCoordinatess_(l,u,s[d],c);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let i=0,r=n.length;i<r;++i)n[i]=mr(n[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function wx(t,e,n,i,r){const o=[];let a=n,s=0,l=e.slice(n,2);for(;s<t&&a+r<i;){const[c,u]=l.slice(-2),d=e[a+r],h=e[a+r+1],p=Math.sqrt((d-c)*(d-c)+(h-u)*(h-u));if(s+=p,s>=t){const f=(t-s+p)/p,v=Sn(c,d,f),w=Sn(u,h,f);l.push(v,w),o.push(l),l=[v,w],s==t&&(a+=r),s=0}else if(s<t)l.push(e[a+r],e[a+r+1]),a+=r;else{const f=p-s,v=Sn(c,d,f/p),w=Sn(u,h,f/p);l.push(v,w),o.push(l),l=[v,w],s=0,a+=r}}return s>0&&o.push(l),o}function Sx(t,e,n,i,r){let o,a,s,l,c,u,d,h,p,f,v=n,w=n,b=0,x=0,g=n;for(a=n;a<i;a+=r){const _=e[a],S=e[a+1];c!==void 0&&(p=_-c,f=S-u,l=Math.sqrt(p*p+f*f),d!==void 0&&(x+=s,o=Math.acos((d*p+h*f)/(s*l)),o>t&&(x>b&&(b=x,v=g,w=a),x=0,g=a-r)),s=l,d=p,h=f),c=_,u=S}return x+=l,x>b?[g,a]:[v,w]}const Dl={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Cx={Circle:vg,Default:Pa,Image:class extends Pa{constructor(t,e,n,i){super(t,e,n,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e,n){if(!this.image_||this.maxExtent&&!Yo(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(i,r);this.instructions.push([yr,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([yr,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e,n){if(!this.image_)return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),r=[];for(let s=0,l=i.length;s<l;s+=t.getStride())this.maxExtent&&!Yo(this.maxExtent,i.slice(s,s+2))||r.push(i[s],i[s+1]);const o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,2);this.instructions.push([yr,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([yr,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const n=t.getAnchor(),i=t.getSize(),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}},LineString:class extends Pa{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinates_(t,e,n,i){const r=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),a=[_p,r,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n}drawLineString(t,e,n){const i=this.state,r=i.strokeStyle,o=i.lineWidth;if(r===void 0||o===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([zr,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Ti,0],Ir);const a=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(a,0,a.length,s),this.hitDetectionInstructions.push(Ui),this.endGeometry(e)}drawMultiLineString(t,e,n){const i=this.state,r=i.strokeStyle,o=i.lineWidth;if(r===void 0||o===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([zr,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Ti,0],Ir);const a=t.getEnds(),s=t.getFlatCoordinates(),l=t.getStride();let c=0;for(let u=0,d=a.length;u<d;++u)c=this.drawFlatCoordinates_(s,c,a[u],l);this.hitDetectionInstructions.push(Ui),this.endGeometry(e)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Ui),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(Ui),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(Ir)}},Polygon:vg,Text:class extends Pa{constructor(t,e,n,i){super(t,e,n,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[vn]={fillStyle:vn},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e,n){const i=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!i&&!r)return;const a=this.coordinates;let s=a.length;const l=t.getType();let c=null,u=t.getStride();if(o.placement!=="line"||l!="LineString"&&l!="MultiLineString"&&l!="Polygon"&&l!="MultiPolygon"){let d=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=t.getFlatCoordinates();break;case"LineString":c=t.getFlatMidpoint();break;case"Circle":c=t.getCenter();break;case"MultiLineString":c=t.getFlatMidpoints(),u=2;break;case"Polygon":c=t.getFlatInteriorPoint(),o.overflow||d.push(c[2]/this.resolution),u=3;break;case"MultiPolygon":const b=t.getFlatInteriorPoints();c=[];for(let x=0,g=b.length;x<g;x+=3)o.overflow||d.push(b[x+2]/this.resolution),c.push(b[x],b[x+1]);if(c.length===0)return;u=2}const h=this.appendFlatPointCoordinates(c,u);if(h===s)return;if(d&&(h-s)/2!=c.length/u){let b=s/2;d=d.filter((x,g)=>{const _=a[2*(b+g)]===c[g*u]&&a[2*(b+g)+1]===c[g*u+1];return _||--b,_})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&this.updateFillStyle(this.state,this.createFill),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e,n);let p=o.padding;if(p!=Mr&&(o.scale[0]<0||o.scale[1]<0)){let b=o.padding[0],x=o.padding[1],g=o.padding[2],_=o.padding[3];o.scale[0]<0&&(x=-x,_=-_),o.scale[1]<0&&(b=-b,g=-g),p=[b,x,g,_]}const f=this.pixelRatio;this.instructions.push([yr,s,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,p==Mr?Mr:p.map(function(b){return b*f}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]);const v=1/f,w=this.state.fillStyle;o.backgroundFill&&(this.state.fillStyle=vn,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([yr,s,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[v,v],NaN,this.declutterMode_,this.declutterImageWithText_,p,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?vn:this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]),o.backgroundFill&&(this.state.fillStyle=w,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(e)}else{if(!hn(this.maxExtent,t.getExtent()))return;let d;if(c=t.getFlatCoordinates(),l=="LineString")d=[c.length];else if(l=="MultiLineString")d=t.getEnds();else if(l=="Polygon")d=t.getEnds().slice(0,1);else if(l=="MultiPolygon"){const v=t.getEndss();d=[];for(let w=0,b=v.length;w<b;++w)d.push(v[w][0])}this.beginGeometry(t,e,n);const h=o.repeat,p=h?void 0:o.textAlign;let f=0;for(let v=0,w=d.length;v<w;++v){let b;b=h?wx(h*this.resolution,c,f,d[v],u):[c.slice(f,d[v])];for(let x=0,g=b.length;x<g;++x){const _=b[x];let S=0,C=_.length;if(p==null){const L=Sx(o.maxAngle,_,0,_.length,2);S=L[0],C=L[1]}for(let L=S;L<C;L+=u)a.push(_[L],_[L+1]);const T=a.length;f=d[v],this.drawChars_(s,T),s=T}}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||ts,justify:e.justify,textBaseline:e.textBaseline||Ll,scale:e.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(t,e){const n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();const s=this.pixelRatio,l=Dl[i.textBaseline],c=this.textOffsetY_*s,u=this.text_,d=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([rh,t,e,l,i.overflow,a,i.maxAngle,s,c,r,d*s,u,o,1,this.declutterMode_]),this.hitDetectionInstructions.push([rh,t,e,l,i.overflow,a&&vn,i.maxAngle,s,c,r,d*s,u,o,1/s,this.declutterMode_])}setTextStyle(t,e){let n,i,r;if(t){const o=t.getFill();o?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=ii(o.getColor()||vn)):(i=null,this.textFillState_=i);const a=t.getStroke();if(a){r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const p=a.getLineDash(),f=a.getLineDashOffset(),v=a.getWidth(),w=a.getMiterLimit();r.lineCap=a.getLineCap()||Ko,r.lineDash=p?p.slice():Ti,r.lineDashOffset=f===void 0?0:f,r.lineJoin=a.getLineJoin()||Zo,r.lineWidth=v===void 0?1:v,r.miterLimit=w===void 0?10:w,r.strokeStyle=ii(a.getColor()||es)}else r=null,this.textStrokeState_=r;n=this.textState_;const s=t.getFont()||e0;Xb(s);const l=t.getScaleArray();n.overflow=t.getOverflow(),n.font=s,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.repeat=t.getRepeat(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||Ll,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||Mr,n.scale=l===void 0?[1,1]:l;const c=t.getOffsetX(),u=t.getOffsetY(),d=t.getRotateWithView(),h=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=c===void 0?0:c,this.textOffsetY_=u===void 0?0:u,this.textRotateWithView_=d!==void 0&&d,this.textRotation_=h===void 0?0:h,this.strokeKey_=r?(typeof r.strokeStyle=="string"?r.strokeStyle:pt(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?typeof i.fillStyle=="string"?i.fillStyle:"|"+pt(i.fillStyle):""}else this.text_="";this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}};class kx{constructor(e,n,i,r){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const i=this.buildersByZIndex_[n];for(const r in i){const o=i[r].finish();e[n][r]=o}}return e}getBuilder(e,n){const i=e!==void 0?e.toString():"0";let r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let o=r[n];return o===void 0&&(o=new Cx[n](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=o),o}}function Tx(t,e,n,i,r,o,a,s,l,c,u,d){let h=t[e],p=t[e+1],f=0,v=0,w=0,b=0;function x(){f=h,v=p,h=t[e+=i],p=t[e+1],b+=w,w=Math.sqrt((h-f)*(h-f)+(p-v)*(p-v))}do x();while(e<n-i&&b+w<o);let g=w===0?0:(o-b)/w;const _=Sn(f,h,g),S=Sn(v,p,g),C=e-i,T=b,L=o+s*l(c,r,u);for(;e<n-i&&b+w<L;)x();g=w===0?0:(L-b)/w;const z=Sn(f,h,g),I=Sn(v,p,g);let R;if(d){const E=[_,S,z,I];Gh(E,0,4,2,d,E,E),R=E[0]>E[2]}else R=_>z;const P=Math.PI,q=[],k=C+i===e;let M;if(w=0,b=T,h=t[e=C],p=t[e+1],k){x(),M=Math.atan2(p-v,h-f),R&&(M+=M>0?-P:P);const E=(z+_)/2,O=(I+S)/2;return q[0]=[E,O,(L-o)/2,M,r],q}for(let E=0,O=(r=r.replace(/\n/g," ")).length;E<O;){x();let j=Math.atan2(p-v,h-f);if(R&&(j+=j>0?-P:P),M!==void 0){let te=j-M;if(te+=te>P?-2*P:te<-P?2*P:0,Math.abs(te)>a)return null}M=j;const V=E;let B=0;for(;E<O;++E){const te=s*l(c,r[R?O-E-1:E],u);if(e+i<n&&b+w<o+B+te/2)break;B+=te}if(E===V)continue;const G=R?r.substring(O-V,O-E):r.substring(V,E);g=w===0?0:(o+B/2-b)/w;const J=Sn(f,h,g),oe=Sn(v,p,g);q.push([J,oe,B/2,j,G]),o+=B}return q}const uo=[1/0,1/0,-1/0,-1/0],zi=[],pi=[],fi=[],Bi=[];function mg(t){return t[3].declutterBox}const yg=new RegExp("[-----]");function rc(t,e){return e==="start"?e=yg.test(t)?"right":"left":e==="end"&&(e=yg.test(t)?"left":"right"),Dl[e]}function Ex(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class Mx{constructor(e,n,i,r,o){this.overlaps=i,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new k0:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,i,r){const o=e+n+i+r;if(this.labels_[o])return this.labels_[o];const a=r?this.strokeStates[r]:null,s=i?this.fillStates[i]:null,l=this.textStates[n],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],d=l.justify?Dl[l.justify]:rc(Array.isArray(e)?e[0]:e,l.textAlign||ts),h=r&&a.lineWidth?a.lineWidth:0,p=Array.isArray(e)?e:String(e).split(`
`).reduce(Ex,[]),{width:f,height:v,widths:w,heights:b,lineWidths:x}=function(O,j){const V=[],B=[],G=[];let J=0,oe=0,te=0,H=0;for(let A=0,D=j.length;A<=D;A+=2){const K=j[A];if(K===`
`||A===D){J=Math.max(J,oe),G.push(oe),oe=0,te+=H,H=0;continue}const W=j[A+1]||O.font,se=ql(W,K);V.push(se),oe+=se;const fe=Ub(W);B.push(fe),H=Math.max(H,fe)}return{width:J,height:te,widths:V,heights:B,lineWidths:G}}(l,p),g=f+h,_=[],S=(g+2)*u[0],C=(v+h)*u[1],T={width:S<0?Math.floor(S):Math.ceil(S),height:C<0?Math.floor(C):Math.ceil(C),contextInstructions:_};u[0]==1&&u[1]==1||_.push("scale",u),r&&(_.push("strokeStyle",a.strokeStyle),_.push("lineWidth",h),_.push("lineCap",a.lineCap),_.push("lineJoin",a.lineJoin),_.push("miterLimit",a.miterLimit),_.push("setLineDash",[a.lineDash]),_.push("lineDashOffset",a.lineDashOffset)),i&&_.push("fillStyle",s.fillStyle),_.push("textBaseline","middle"),_.push("textAlign","center");const L=.5-d;let z=d*g+L*h;const I=[],R=[];let P,q=0,k=0,M=0,E=0;for(let O=0,j=p.length;O<j;O+=2){const V=p[O];if(V===`
`){k+=q,q=0,z=d*g+L*h,++E;continue}const B=p[O+1]||l.font;B!==P&&(r&&I.push("font",B),i&&R.push("font",B),P=B),q=Math.max(q,b[M]);const G=[V,z+L*w[M]+d*(w[M]-x[E]),.5*(h+q)+k];z+=w[M],r&&I.push("strokeText",G),i&&R.push("fillText",G),++M}return Array.prototype.push.apply(_,I),Array.prototype.push.apply(_,R),this.labels_[o]=T,T}replayTextBackground_(e,n,i,r,o,a,s){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,o),e.lineTo.apply(e,n),a&&(this.alignAndScaleFill_=a[2],this.fill_(e)),s&&(this.setStrokeStyle_(e,s),e.stroke())}calculateImageOrLabelDimensions_(e,n,i,r,o,a,s,l,c,u,d,h,p,f,v,w){let b=i-(s*=h[0]),x=r-(l*=h[1]);const g=o+c>e?e-c:o,_=a+u>n?n-u:a,S=f[3]+g*h[0]+f[1],C=f[0]+_*h[1]+f[2],T=b-f[3],L=x-f[0];let z;return(v||d!==0)&&(zi[0]=T,Bi[0]=T,zi[1]=L,pi[1]=L,pi[0]=T+S,fi[0]=pi[0],fi[1]=L+C,Bi[1]=fi[1]),d!==0?(z=Li([1,0,0,1,0,0],i,r,1,1,d,-i,-r),Wt(z,zi),Wt(z,pi),Wt(z,fi),Wt(z,Bi),si(Math.min(zi[0],pi[0],fi[0],Bi[0]),Math.min(zi[1],pi[1],fi[1],Bi[1]),Math.max(zi[0],pi[0],fi[0],Bi[0]),Math.max(zi[1],pi[1],fi[1],Bi[1]),uo)):si(Math.min(T,T+S),Math.min(L,L+C),Math.max(T,T+S),Math.max(L,L+C),uo),p&&(b=Math.round(b),x=Math.round(x)),{drawImageX:b,drawImageY:x,drawImageW:g,drawImageH:_,originX:c,originY:u,declutterBox:{minX:uo[0],minY:uo[1],maxX:uo[2],maxY:uo[3],value:w},canvasTransform:z,scale:h}}replayImageOrLabel_(e,n,i,r,o,a,s){const l=!(!a&&!s),c=r.declutterBox,u=s?s[2]*r.scale[0]/2:0;return c.minX-u<=n[0]&&c.maxX+u>=0&&c.minY-u<=n[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(e,zi,pi,fi,Bi,a,s),Kb(e,r.canvasTransform,o,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){const n=this.alignAndScaleFill_;if(n){const i=Wt(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,i,r){const o=this.textStates[n],a=this.createLabel(e,n,r,i),s=this.strokeStates[i],l=this.pixelRatio,c=rc(Array.isArray(e)?e[0]:e,o.textAlign||ts),u=Dl[o.textBaseline||Ll],d=s&&s.lineWidth?s.lineWidth:0;return{label:a,anchorX:c*(a.width/l-2*o.scale[0])+2*(.5-c)*d,anchorY:u*a.height/l+2*(.5-u)*d}}execute_(e,n,i,r,o,a,s,l){const c=this.zIndexContext_;let u;var d,h;this.pixelCoordinates_&&rr(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Wi(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),d=this.renderedTransform_,h=i,d[0]=h[0],d[1]=h[1],d[2]=h[2],d[3]=h[3],d[4]=h[4],d[5]=h[5]);let p=0;const f=r.length;let v,w,b,x,g,_,S,C,T,L,z,I,R,P=0,q=0,k=0,M=null,E=null;const O=this.coordinateCache_,j=this.viewRotation_,V=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,B={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:j},G=this.instructions!=r||this.overlaps?0:200;let J,oe,te,H;for(;p<f;){const A=r[p];switch(A[0]){case vl:J=A[1],H=A[3],J.getGeometry()?s===void 0||hn(s,H.getExtent())?++p:p=A[2]+1:p=A[2],c&&(c.zIndex=A[4]);break;case Y0:q>G&&(this.fill_(e),q=0),k>G&&(e.stroke(),k=0),q||k||(e.beginPath(),g=NaN,_=NaN),++p;break;case X0:P=A[1];const D=u[P],K=u[P+1],W=u[P+2]-D,se=u[P+3]-K,fe=Math.sqrt(W*W+se*se);e.moveTo(D+fe,K),e.arc(D,K,fe,0,2*Math.PI,!0),++p;break;case U0:e.closePath(),++p;break;case Vn:P=A[1],v=A[2];const le=A[3],pe=A[4],ce=A[5];B.geometry=le,B.feature=J,p in O||(O[p]=[]);const ke=O[p];ce?ce(u,P,v,2,ke):(ke[0]=u[P],ke[1]=u[P+1],ke.length=2),c&&(c.zIndex=A[6]),pe(ke,B),++p;break;case yr:P=A[1],v=A[2],T=A[3],w=A[4],b=A[5];let Ce=A[6];const he=A[7],Se=A[8],Te=A[9],ze=A[10];let ie=A[11];const me=A[12];let X=A[13];x=A[14]||"declutter";const ve=A[15];if(!T&&A.length>=20){L=A[19],z=A[20],I=A[21],R=A[22];const ee=this.drawLabelWithPointPlacement_(L,z,I,R);T=ee.label,A[3]=T;const ne=A[23];w=(ee.anchorX-ne)*this.pixelRatio,A[4]=w;const ye=A[24];b=(ee.anchorY-ye)*this.pixelRatio,A[5]=b,Ce=T.height,A[6]=Ce,X=T.width,A[13]=X}let Le,De,Be,Q;A.length>25&&(Le=A[25]),A.length>17?(De=A[16],Be=A[17],Q=A[18]):(De=Mr,Be=!1,Q=!1),ze&&V?ie+=j:ze||V||(ie-=j);let de=0;for(;P<v;P+=2){if(Le&&Le[de++]<X/this.pixelRatio)continue;const ee=this.calculateImageOrLabelDimensions_(T.width,T.height,u[P],u[P+1],X,Ce,w,b,Se,Te,ie,me,o,De,Be||Q,J),ne=[e,n,T,ee,he,Be?M:null,Q?E:null];if(l){let ye,ue,Ie,Fe,at;if(ve){const yt=v-P;if(!ve[yt]){ve[yt]={args:ne,declutterMode:x};continue}const st=ve[yt];ye=st.args,ue=st.declutterMode,delete ve[yt],Ie=mg(ye)}if(!ye||ue==="declutter"&&l.collides(Ie)||(Fe=!0),x==="declutter"&&l.collides(ee.declutterBox)||(at=!0),ue==="declutter"&&x==="declutter"){const yt=Fe&&at;Fe=yt,at=yt}Fe&&(ue!=="none"&&l.insert(Ie),this.replayImageOrLabel_.apply(this,ye)),at&&(x!=="none"&&l.insert(ee.declutterBox),this.replayImageOrLabel_.apply(this,ne))}else this.replayImageOrLabel_.apply(this,ne)}++p;break;case rh:const _e=A[1],Re=A[2],Ge=A[3],mt=A[4];R=A[5];const qe=A[6],tt=A[7],Tt=A[8];I=A[9];const Z=A[10];L=A[11],z=A[12];const Ee=[A[13],A[13]];x=A[14]||"declutter";const be=this.textStates[z],ge=be.font,xe=[be.scale[0]*tt,be.scale[1]*tt];let F;ge in this.widths_?F=this.widths_[ge]:(F={},this.widths_[ge]=F);const N=O0(u,_e,Re,2),U=Math.abs(xe[0])*Ff(ge,L,F);if(mt||U<=N){const ee=Tx(u,_e,Re,2,L,(N-U)*rc(L,this.textStates[z].textAlign),qe,Math.abs(xe[0]),Ff,ge,F,V?0:this.viewRotation_);e:if(ee){const ne=[];let ye,ue,Ie,Fe,at;if(I)for(ye=0,ue=ee.length;ye<ue;++ye){at=ee[ye],Ie=at[4],Fe=this.createLabel(Ie,z,"",I),w=at[2]+(xe[0]<0?-Z:Z),b=Ge*Fe.height+2*(.5-Ge)*Z*xe[1]/xe[0]-Tt;const yt=this.calculateImageOrLabelDimensions_(Fe.width,Fe.height,at[0],at[1],Fe.width,Fe.height,w,b,0,0,at[3],Ee,!1,Mr,!1,J);if(l&&x==="declutter"&&l.collides(yt.declutterBox))break e;ne.push([e,n,Fe,yt,1,null,null])}if(R)for(ye=0,ue=ee.length;ye<ue;++ye){at=ee[ye],Ie=at[4],Fe=this.createLabel(Ie,z,R,""),w=at[2],b=Ge*Fe.height-Tt;const yt=this.calculateImageOrLabelDimensions_(Fe.width,Fe.height,at[0],at[1],Fe.width,Fe.height,w,b,0,0,at[3],Ee,!1,Mr,!1,J);if(l&&x==="declutter"&&l.collides(yt.declutterBox))break e;ne.push([e,n,Fe,yt,1,null,null])}l&&x!=="none"&&l.load(ne.map(mg));for(let yt=0,st=ne.length;yt<st;++yt)this.replayImageOrLabel_.apply(this,ne[yt])}}++p;break;case oh:if(a!==void 0){J=A[1];const ee=a(J,H,x);if(ee)return ee}++p;break;case K0:G?q++:this.fill_(e),++p;break;case _p:for(P=A[1],v=A[2],oe=u[P],te=u[P+1],e.moveTo(oe,te),g=oe+.5|0,_=te+.5|0,P+=2;P<v;P+=2)oe=u[P],te=u[P+1],S=oe+.5|0,C=te+.5|0,P!=v-2&&S===g&&C===_||(e.lineTo(oe,te),g=S,_=C);++p;break;case za:M=A,this.alignAndScaleFill_=A[2],q&&(this.fill_(e),q=0,k&&(e.stroke(),k=0)),e.fillStyle=A[1],++p;break;case zr:E=A,k&&(e.stroke(),k=0),this.setStrokeStyle_(e,A),++p;break;case Z0:G?k++:e.stroke(),++p;break;default:++p}}q&&this.fill_(e),k&&e.stroke()}execute(e,n,i,r,o,a){this.viewRotation_=r,this.execute_(e,n,i,this.instructions,o,void 0,void 0,a)}executeHitDetection(e,n,i,r,o){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,r,o)}}const Eo=["Polygon","Circle","LineString","Image","Text","Default"],J0=["Image","Text"],Lx=Eo.filter(t=>!J0.includes(t));class qx{constructor(e,n,i,r,o,a,s){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,s)}clip(e,n){const i=this.getClipCoords(n);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,n){for(const i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);const o=e[i];for(const a in o){const s=o[a];r[a]=new Mx(this.resolution_,this.pixelRatio_,this.overlaps_,s,n)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const i=this.executorsByZIndex_[n];for(let r=0,o=e.length;r<o;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,n,i,r,o,a){const s=2*(r=Math.round(r))+1,l=Li(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-i,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=Rt(s,s,void 0,{willReadFrequently:!0}));const u=this.hitDetectionContext_;let d;u.canvas.width!==s||u.canvas.height!==s?(u.canvas.width=s,u.canvas.height=s):c||u.clearRect(0,0,s,s),this.renderBuffer_!==void 0&&(d=[1/0,1/0,-1/0,-1/0],Da(d,e),Fh(d,n*(this.renderBuffer_+r),d));const h=function(S){if(oc[S]!==void 0)return oc[S];const C=2*S+1,T=S*S,L=new Array(T+1);for(let I=0;I<=S;++I)for(let R=0;R<=S;++R){const P=I*I+R*R;if(P>T)break;let q=L[P];q||(q=[],L[P]=q),q.push(4*((S+I)*C+(S+R))+3),I>0&&q.push(4*((S-I)*C+(S+R))+3),R>0&&(q.push(4*((S+I)*C+(S-R))+3),I>0&&q.push(4*((S-I)*C+(S-R))+3))}const z=[];for(let I=0,R=L.length;I<R;++I)L[I]&&z.push(...L[I]);return oc[S]=z,z}(r);let p;function f(S,C,T){const L=u.getImageData(0,0,s,s).data;for(let z=0,I=h.length;z<I;z++)if(L[h[z]]>0){if(!a||T==="none"||p!=="Image"&&p!=="Text"||a.includes(S)){const R=(h[z]-3)/4,P=r-R%s,q=r-(R/s|0),k=o(S,C,P*P+q*q);if(k)return k}u.clearRect(0,0,s,s);break}}const v=Object.keys(this.executorsByZIndex_).map(Number);let w,b,x,g,_;for(v.sort(Ci),w=v.length-1;w>=0;--w){const S=v[w].toString();for(x=this.executorsByZIndex_[S],b=Eo.length-1;b>=0;--b)if(p=Eo[b],g=x[p],g!==void 0&&(_=g.executeHitDetection(u,l,i,f,d),_))return _}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const i=n[0],r=n[1],o=n[2],a=n[3],s=[i,r,i,a,o,a,o,r];return Wi(s,0,8,2,e,s),s}isEmpty(){return Ho(this.executorsByZIndex_)}execute(e,n,i,r,o,a,s){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(Ci),a=a||Eo;const c=Eo.length;let u,d,h,p,f;for(s&&l.reverse(),u=0,d=l.length;u<d;++u){const v=l[u].toString();for(f=this.executorsByZIndex_[v],h=0,p=a.length;h<p;++h){const w=a[h],b=f[w];if(b!==void 0){const x=s===null?void 0:b.getZIndexContext(),g=x?x.getContext():e,_=this.maxExtent_&&w!=="Image"&&w!=="Text";if(_&&(g.save(),this.clip(g,i)),x&&w!=="Text"&&w!=="Image"?x.pushFunction(S=>b.execute(S,n,i,r,o,s)):b.execute(g,n,i,r,o,s),_&&g.restore(),x){x.offset();const S=l[u]*c+h;this.deferredZIndexContexts_[S]||(this.deferredZIndexContexts_[S]=[]),this.deferredZIndexContexts_[S].push(x)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(Ci);for(let i=0,r=n.length;i<r;++i)e[n[i]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),e[n[i]].length=0}}const oc={};class ey extends Q0{constructor(e,n,i,r,o,a,s){super(),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.transformRotation_=r?ps(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=a,this.userTransform_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(e,n,i,r){if(!this.image_)return;const o=Wi(e,n,i,r,this.transform_,this.pixelCoordinates_),a=this.context_,s=this.tmpLocalTransform_,l=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,d=o.length;u<d;u+=2){const h=o[u]-this.imageAnchorX_,p=o[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const f=h+this.imageAnchorX_,v=p+this.imageAnchorY_;Li(s,f,v,1,1,c,-f,-v),a.save(),a.transform.apply(a,s),a.translate(f,v),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.restore()}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,p,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=l)}drawText_(e,n,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=Wi(e,n,i,r,this.transform_,this.pixelCoordinates_),a=this.context_;let s=this.textRotation_;for(this.transformRotation_===0&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);n<i;n+=r){const l=o[n]+this.textOffsetX_,c=o[n+1]+this.textOffsetY_;s!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(a.save(),a.translate(l-this.textOffsetX_,c-this.textOffsetY_),a.rotate(s),a.translate(this.textOffsetX_,this.textOffsetY_),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.restore()):(this.textStrokeState_&&a.strokeText(this.text_,l,c),this.textFillState_&&a.fillText(this.text_,l,c))}}moveToLineTo_(e,n,i,r,o){const a=this.context_,s=Wi(e,n,i,r,this.transform_,this.pixelCoordinates_);a.moveTo(s[0],s[1]);let l=s.length;o&&(l-=2);for(let c=2;c<l;c+=2)a.lineTo(s[c],s[c+1]);return o&&a.closePath(),i}drawRings_(e,n,i,r){for(let o=0,a=i.length;o<a;++o)n=this.moveToLineTo_(e,n,i[o],r,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),hn(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=function(s,l,c){const u=s.getFlatCoordinates();if(!u)return null;const d=s.getStride();return Wi(u,0,u.length,d,l,c)}(e,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],r=n[3]-n[1],o=Math.sqrt(i*i+r*r),a=this.context_;a.beginPath(),a.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}drawFeature(e,n){const i=n.getGeometryFunction()(e);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let i=0,r=n.length;i<r;++i)this.drawGeometry(n[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),hn(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(hn(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,r=e.getFlatCoordinates();let o=0;const a=e.getEnds(),s=e.getStride();i.beginPath();for(let l=0,c=a.length;l<c;++l)o=this.moveToLineTo_(r,o,a[l],s,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),hn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),hn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getOrientedFlatCoordinates();let r=0;const o=e.getEndss(),a=e.getStride();n.beginPath();for(let s=0,l=o.length;s<l;++s){const c=o[s];r=this.drawRings_(i,r,c,a)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,n.lineCap=e.lineCap),rr(i.lineDash,e.lineDash)||n.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:ts;i?(i.font!=e.font&&(i.font=e.font,n.font=e.font),i.textAlign!=r&&(i.textAlign=r,n.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=r,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(e){const i=e.getColor();this.fillState_={fillStyle:ii(i||vn)}}else this.fillState_=null;if(n){const i=n.getColor(),r=n.getLineCap(),o=n.getLineDash(),a=n.getLineDashOffset(),s=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit(),u=o||Ti;this.strokeState_={lineCap:r!==void 0?r:Ko,lineDash:this.pixelRatio_===1?u:u.map(d=>d*this.pixelRatio_),lineDashOffset:(a||0)*this.pixelRatio_,lineJoin:s!==void 0?s:Zo,lineWidth:(l!==void 0?l:1)*this.pixelRatio_,miterLimit:c!==void 0?c:10,strokeStyle:ii(i||es)}}else this.strokeState_=null}setImageStyle(e){let n;if(!e||!(n=e.getSize()))return void(this.image_=null);const i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const a=e.getScaleArray();this.imageScale_=[a[0]*this.pixelRatio_/i,a[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(e){if(e){const n=e.getFill();if(n){const p=n.getColor();this.textFillState_={fillStyle:ii(p||vn)}}else this.textFillState_=null;const i=e.getStroke();if(i){const p=i.getColor(),f=i.getLineCap(),v=i.getLineDash(),w=i.getLineDashOffset(),b=i.getLineJoin(),x=i.getWidth(),g=i.getMiterLimit();this.textStrokeState_={lineCap:f!==void 0?f:Ko,lineDash:v||Ti,lineDashOffset:w||0,lineJoin:b!==void 0?b:Zo,lineWidth:x!==void 0?x:1,miterLimit:g!==void 0?g:10,strokeStyle:ii(p||es)}}else this.textStrokeState_=null;const r=e.getFont(),o=e.getOffsetX(),a=e.getOffsetY(),s=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),d=e.getTextAlign(),h=e.getTextBaseline();this.textState_={font:r!==void 0?r:e0,textAlign:d!==void 0?d:ts,textBaseline:h!==void 0?h:Ll},this.text_=u!==void 0?Array.isArray(u)?u.reduce((p,f,v)=>p+(v%2?" ":f),""):u:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=a!==void 0?this.pixelRatio_*a:0,this.textRotateWithView_=s!==void 0&&s,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}else this.text_=""}}const ei=.5;function Ix(t,e,n,i,r,o,a,s,l){const c=r,u=Rt(t[0]*ei,t[1]*ei);u.imageSmoothingEnabled=!1;const d=u.canvas,h=new ey(u,ei,r,null,a,s,null),p=n.length,f=Math.floor(16777215/p),v={};for(let b=1;b<=p;++b){const x=n[b-1],g=x.getStyleFunction()||i;if(!g)continue;let _=g(x,o);if(!_)continue;Array.isArray(_)||(_=[_]);const S=(b*f).toString(16).padStart(7,"#00000");for(let C=0,T=_.length;C<T;++C){const L=_[C],z=L.getGeometryFunction()(x);if(!z||!hn(c,z.getExtent()))continue;const I=L.clone(),R=I.getFill();R&&R.setColor(S);const P=I.getStroke();P&&(P.setColor(S),P.setLineDash(null)),I.setText(void 0);const q=L.getImage();if(q){const O=q.getImageSize();if(!O)continue;const j=Rt(O[0],O[1],void 0,{alpha:!1}),V=j.canvas;j.fillStyle=S,j.fillRect(0,0,V.width,V.height),I.setImage(new cu({img:V,anchor:q.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:q.getOrigin(),opacity:1,size:q.getSize(),scale:q.getScale(),rotation:q.getRotation(),rotateWithView:q.getRotateWithView()}))}const k=I.getZIndex()||0;let M=v[k];M||(M={},v[k]=M,M.Polygon=[],M.Circle=[],M.LineString=[],M.Point=[]);const E=z.getType();if(E==="GeometryCollection"){const O=z.getGeometriesArrayRecursive();for(let j=0,V=O.length;j<V;++j){const B=O[j];M[B.getType().replace("Multi","")].push(B,I)}}else M[E.replace("Multi","")].push(z,I)}}const w=Object.keys(v).map(Number).sort(Ci);for(let b=0,x=w.length;b<x;++b){const g=v[w[b]];for(const _ in g){const S=g[_];for(let C=0,T=S.length;C<T;C+=2){h.setStyle(S[C+1]);for(let L=0,z=e.length;L<z;++L)h.setTransform(e[L]),h.drawGeometry(S[C])}}}return u.getImageData(0,0,d.width,d.height)}function Px(t,e,n){const i=[];if(n){const r=Math.floor(Math.round(t[0])*ei),o=Math.floor(Math.round(t[1])*ei),a=4*(St(r,0,n.width-1)+St(o,0,n.height-1)*n.width),s=n.data[a],l=n.data[a+1],c=n.data[a+2]+256*(l+256*s),u=Math.floor(16777215/e.length);c&&c%u==0&&i.push(e[c/u-1])}return i}const ty={Point:function(t,e,n,i,r,o){const a=n.getImage(),s=n.getText(),l=s&&s.getText(),c=o&&a&&l?{}:void 0;if(a){if(a.getImageState()!=Nt)return;const u=t.getBuilder(n.getZIndex(),"Image");u.setImageStyle(a,c),u.drawPoint(e,i,r)}if(l){const u=t.getBuilder(n.getZIndex(),"Text");u.setTextStyle(s,c),u.drawText(e,i,r)}},LineString:function(t,e,n,i,r){const o=n.getStroke();if(o){const s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(e,i,r)}const a=n.getText();if(a&&a.getText()){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(a),s.drawText(e,i,r)}},Polygon:function(t,e,n,i,r){const o=n.getFill(),a=n.getStroke();if(o||a){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(o,a),l.drawPolygon(e,i,r)}const s=n.getText();if(s&&s.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(e,i,r)}},MultiPoint:function(t,e,n,i,r,o){const a=n.getImage(),s=a&&a.getOpacity()!==0,l=n.getText(),c=l&&l.getText(),u=o&&s&&c?{}:void 0;if(s){if(a.getImageState()!=Nt)return;const d=t.getBuilder(n.getZIndex(),"Image");d.setImageStyle(a,u),d.drawMultiPoint(e,i,r)}if(c){const d=t.getBuilder(n.getZIndex(),"Text");d.setTextStyle(l,u),d.drawText(e,i,r)}},MultiLineString:function(t,e,n,i,r){const o=n.getStroke();if(o){const s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,i,r)}const a=n.getText();if(a&&a.getText()){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(a),s.drawText(e,i,r)}},MultiPolygon:function(t,e,n,i,r){const o=n.getFill(),a=n.getStroke();if(a||o){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(o,a),l.drawMultiPolygon(e,i,r)}const s=n.getText();if(s&&s.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(e,i,r)}},GeometryCollection:function(t,e,n,i,r,o){const a=e.getGeometriesArray();let s,l;for(s=0,l=a.length;s<l;++s)(0,ty[a[s].getType()])(t,a[s],n,i,r,o)},Circle:function(t,e,n,i,r){const o=n.getFill(),a=n.getStroke();if(o||a){const l=t.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(o,a),l.drawCircle(e,i,r)}const s=n.getText();if(s&&s.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(e,i)}}};function Rx(t,e){return parseInt(pt(t),10)-parseInt(pt(e),10)}function _g(t,e){const n=ny(t,e);return n*n}function ny(t,e){return .5*t/e}function bg(t,e,n,i,r,o,a,s){const l=[],c=n.getImage();if(c){let h=!0;const p=c.getImageState();p==Nt||p==Po?h=!1:p==er&&c.load(),h&&l.push(c.ready())}const u=n.getFill();u&&u.loading()&&l.push(u.ready());const d=l.length>0;return d&&Promise.all(l).then(()=>r(null)),function(h,p,f,v,w,b,x){const g=f.getGeometryFunction()(p);if(!g)return;const _=g.simplifyTransformed(v,w);f.getRenderer()?iy(h,_,f,p,x):(0,ty[_.getType()])(h,_,f,p,x,b)}(t,e,n,i,o,a,s),d}function iy(t,e,n,i,r){if(e.getType()=="GeometryCollection"){const o=e.getGeometries();for(let a=0,s=o.length;a<s;++a)iy(t,o[a],n,i,r);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer(),r)}class Fx extends T0{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,i){const r=n.extent,o=n.viewState,a=o.center,s=o.resolution,l=o.projection,c=o.rotation,u=l.getExtent(),d=this.getLayer().getSource(),h=this.getLayer().getDeclutter(),p=n.pixelRatio,f=n.viewHints,v=!(f[wi]||f[Dr]),w=this.context,b=Math.round(Je(r)/s*p),x=Math.round(Jt(r)/s*p),g=d.getWrapX()&&l.canWrapX(),_=g?Je(u):null,S=g?Math.ceil((r[2]-u[2])/_)+1:1;let C=g?Math.floor((r[0]-u[0])/_):0;do{let T=this.getRenderTransform(a,s,0,p,b,x,C*_);n.declutter&&(T=T.slice(0)),e.execute(w,[w.canvas.width,w.canvas.height],T,c,v,i===void 0?Eo:i?J0:Lx,i?h&&n.declutter[h]:void 0)}while(++C<S)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Rt(this.context.canvas.width,this.context.canvas.height,Jf))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Uo(this.context),Jf.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){this.replayGroup_&&this.getLayer().getDeclutter()&&this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,n){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const r=e.viewState;this.prepareContainer(e,n);const o=this.context,a=this.replayGroup_;let s=a&&!a.isEmpty();if(!s&&!(this.getLayer().hasListener(Gc)||this.getLayer().hasListener(Wc)))return null;if(this.setDrawContext_(),this.preRender(o,e),r.projection,this.clipped_=!1,s&&i.extent&&this.clipping){const l=Gi(i.extent);s=hn(l,e.extent),this.clipped_=s&&!Tr(l,e.extent),this.clipped_&&this.clipUnrotated(o,e,l)}return s&&this.renderWorlds(a,e,!this.getLayer().getDeclutter()&&void 0),!e.declutter&&this.clipped_&&o.restore(),this.postRender(o,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,a=this.renderedRotation_,s=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],d=i[0]*ei,h=i[1]*ei;u.push(this.getRenderTransform(r,o,a,ei,d,h,0).slice());const p=c.getSource(),f=s.getExtent();if(p.getWrapX()&&s.canWrapX()&&!Tr(f,l)){let v=l[0];const w=Je(f);let b,x=0;for(;v<f[0];)--x,b=w*x,u.push(this.getRenderTransform(r,o,a,ei,d,h,b).slice()),v+=w;for(x=0,v=l[2];v>f[2];)++x,b=w*x,u.push(this.getRenderTransform(r,o,a,ei,d,h,b).slice()),v-=w}this.hitDetectionImageData_=Ix(i,u,this.renderedFeatures_,c.getStyleFunction(),l,o,a,_g(o,this.renderedPixelRatio_))}n(Px(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,i,r,o){if(!this.replayGroup_)return;const a=n.viewState.resolution,s=n.viewState.rotation,l=this.getLayer(),c={},u=function(f,v,w){const b=pt(f),x=c[b];if(x){if(x!==!0&&w<x.distanceSq){if(w===0)return c[b]=!0,o.splice(o.lastIndexOf(x),1),r(f,l,v);x.geometry=v,x.distanceSq=w}}else{if(w===0)return c[b]=!0,r(f,l,v);o.push(c[b]={feature:f,layer:l,geometry:v,distanceSq:w,callback:r})}};let d;const h=[this.replayGroup_],p=this.getLayer().getDeclutter();return h.some(f=>d=f.forEachFeatureAtCoordinate(e,a,s,i,u,p&&n.declutter[p]?n.declutter[p].all().map(v=>v.value):null)),d}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),i=n.getSource();if(!i)return!1;const r=e.viewHints[wi],o=e.viewHints[Dr],a=n.getUpdateWhileAnimating(),s=n.getUpdateWhileInteracting();if(this.ready&&!a&&r||!s&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,c=e.viewState,u=c.projection,d=c.resolution,h=e.pixelRatio,p=n.getRevision(),f=n.getRenderBuffer();let v=n.getRenderOrder();v===void 0&&(v=Rx);const w=c.center.slice(),b=Fh(l,f*d),x=b.slice(),g=[b.slice()],_=u.getExtent();if(i.getWrapX()&&u.canWrapX()&&!Tr(_,e.extent)){const q=Je(_),k=Math.max(Je(b)/2,q);b[0]=_[0]-k,b[2]=_[2]+k,Sm(w,u);const M=xm(g[0],u);M[0]<_[0]&&M[2]<_[2]?g.push([M[0]+q,M[1],M[2]+q,M[3]]):M[0]>_[0]&&M[2]>_[2]&&g.push([M[0]-q,M[1],M[2]-q,M[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedRevision_==p&&this.renderedRenderOrder_==v&&this.renderedFrameDeclutter_===!!e.declutter&&Tr(this.wrappedRenderedExtent_,b))return rr(this.renderedExtent_,x)||(this.hitDetectionImageData_=null,this.renderedExtent_=x),this.renderedCenter_=w,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const S=new kx(ny(d,h),b,d,h);for(let q=0,k=g.length;q<k;++q)i.loadFeatures(g[q],d,u);const C=_g(d,h);let T=!0;const L=(q,k)=>{let M;const E=q.getStyleFunction()||n.getStyleFunction();if(E&&(M=E(q,d)),M){const O=this.renderFeature(q,C,M,S,void 0,this.getLayer().getDeclutter(),k);T=T&&!O}},z=Lm(b),I=i.getFeaturesInExtent(z);v&&I.sort(v);for(let q=0,k=I.length;q<k;++q)L(I[q],q);this.renderedFeatures_=I,this.ready=T;const R=S.finish(),P=new qx(b,d,h,i.getOverlaps(),R,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=d,this.renderedRevision_=p,this.renderedRenderOrder_=v,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=x,this.wrappedRenderedExtent_=b,this.renderedCenter_=w,this.renderedProjection_=u,this.renderedPixelRatio_=h,this.replayGroup_=P,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,i,r,o,a,s){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let c=0,u=i.length;c<u;++c)l=bg(r,e,i[c],n,this.boundHandleStyleImageChange_,o,a,s)||l;else l=bg(r,e,i,n,this.boundHandleStyleImageChange_,o,a,s);return l}}var vu=class extends g0{constructor(t){super(t)}createRenderer(){return new Fx(this)}},Ax=class extends Qr{constructor(t){t=t||{};var e=document.createElement("div");super({element:e,target:t.target});var n=this;if(this.minZoom=t.minZoom||0,this.maxZoom=t.maxZoom||18,this.rotation=t.rotation,t.target)this.panel_=t.target;else{e.classList.add("ol-overview","ol-unselectable","ol-control","ol-collapsed"),/top/.test(t.align)&&e.classList.add("ol-control-top"),/right/.test(t.align)&&e.classList.add("ol-control-right");var i=document.createElement("button");i.setAttribute("type","button"),i.addEventListener("touchstart",function(o){n.toggleMap(),o.preventDefault()}),i.addEventListener("click",function(){n.toggleMap()}),e.appendChild(i),this.panel_=document.createElement("div"),this.panel_.classList.add("panel"),e.appendChild(this.panel_)}this.ovmap_=new du({controls:new Mn,interactions:new Mn,target:this.panel_,view:new Ln({zoom:2,center:[0,0],projection:t.projection}),layers:t.layers}),this.oview_=this.ovmap_.getView(),this.extentLayer=new vu({name:"Cache extent",source:new gu,style:t.style||[new Pt({image:new ui({fill:new Yt({color:"rgba(255,0,0, 1)"}),stroke:new Bt({width:7,color:"rgba(255,0,0, 0.8)"}),radius:5}),stroke:new Bt({width:5,color:"rgba(255,0,0,0.8)"})})]}),this.ovmap_.addLayer(this.extentLayer);var r=function(o,a){var s=3*o*Math.PI/2,l=-1/a,c=Math.cos(s)*Math.pow(2,l);return function(u){return u=1-Math.cos(u*Math.PI/2),1-Math.cos(s*u)*Math.pow(2,l*u)+c*u}};this.ovmap_.addInteraction(new sr({handleDownEvent:function(o){return t.panAnimation!==!1?t.panAnimation=="elastic"||t.elasticPan?n.getMap().getView().animate({center:o.coordinate,easing:r(2,.3),duration:1e3}):n.getMap().getView().animate({center:o.coordinate,duration:300}):n.getMap().getView().setCenter(o.coordinate),!1}}))}getOverviewMap(){return this.ovmap_}toggleMap(){this.element.classList.toggle("ol-collapsed"),this.ovmap_.updateSize(),this.setView()}setPosition(t){/top/.test(t)?this.element.classList.add("ol-control-top"):this.element.classList.remove("ol-control-top"),/right/.test(t)?this.element.classList.add("ol-control-right"):this.element.classList.remove("ol-control-right")}setMap(t){if(this._listener)for(let e in this._listener)ti(this._listener[e]);this._listener={},super.setMap(t),t&&(this._listener.map=t.on("change:view",function(){this._listener.view&&ti(this._listener.view),t.getView()&&(this._listener.view=t.getView().on("propertychange",this.setView.bind(this)),this.setView())}.bind(this)),this._listener.view=t.getView().on("propertychange",this.setView.bind(this)),this.setView())}calcExtent_(t){var e=this.getMap();if(e){var n=this.extentLayer.getSource();n.clear();var i=new ji,r=e.getSize(),o=e.getView().getResolution(),a=e.getView().getRotation(),s=e.getView().getCenter();if(o){var l=o*r[0]/2,c=o*r[1]/2,u=this.oview_.getResolution();if(l/u>5||c/u>5){var d,h,p,f=Math.cos(a),v=Math.sin(a);for(t=[[-l,-c],[-l,c],[l,c],[l,-c]],d=0;d<4;++d)h=t[d][0],p=t[d][1],t[d][0]=s[0]+h*f-p*v,t[d][1]=s[1]+h*v+p*f;i.setGeometry(new Pn([t]))}else i.setGeometry(new ai(s));n.addFeature(i)}}}setView(t){if(!t)return this.setView({key:"rotation"}),this.setView({key:"resolution"}),void this.setView({key:"center"});switch(t.key){case"rotation":this.rotation?this.oview_.setRotation(this.getMap().getView().getRotation()):this.oview_.getRotation()&&this.oview_.setRotation(0);break;case"center":var e=this.getMap().getView().calculateExtent(this.getMap().getSize()),n=this.oview_.calculateExtent(this.ovmap_.getSize());(e[0]<n[0]||e[1]<n[1]||e[2]>n[2]||e[3]>n[3])&&this.oview_.setCenter(this.getMap().getView().getCenter());break;case"resolution":var i=2*Math.round(this.oview_.getZoomForResolution(this.getMap().getView().getResolution())/2)-4;i=Math.min(this.maxZoom,Math.max(this.minZoom,i)),this.oview_.setZoom(i)}this.calcExtent_()}},Ox=class extends Qr{constructor(t){(t=t||{}).typing===void 0&&(t.typing=300);var e=document.createElement("DIV"),n=(t.className||"")+" ol-scale";t.target||(n+=" ol-unselectable ol-control"),super({element:e,target:t.target}),this._input=document.createElement("INPUT"),this._input.value="-",e.setAttribute("class",n),t.editable===!1&&(this._input.readOnly=!0),e.appendChild(this._input),this._input.addEventListener("change",this.setScale.bind(this)),this.set("ppi",t.ppi||96)}setMap(t){this._listener&&ti(this._listener),this._listener=null,super.setMap(t),t&&(this._listener=t.on("moveend",this.getScale.bind(this)))}getScale(){var t=this.getMap();if(t){var e=function(n,i){var r=n.getView(),o=r.getProjection(),a=r.getCenter(),s=n.getPixelFromCoordinate(a);s[1]+=1;var l=n.getCoordinateFromPixel(s),c=Xa(ko(a,o,"EPSG:4326"),ko(l,o,"EPSG:4326"));return c*((i||96)/.0254)}(t,this.get("ppi"));return this._input.value=this.formatScale(e),e}}formatScale(t){return"1 / "+(t=t>100?100*Math.round(t/100):Math.round(t)).toLocaleString()}setScale(t){var e=this.getMap();e&&t&&(t.target&&(t=t.target.value),function(n,i,r){if(n&&i){var o=i;if(typeof i=="string"&&((o=(i=i.replace(":","/").split("/"))[1])||(o=i[0]||""),o=o.replace(/[^\d]/g,""),o=parseInt(o),i[1])){var a=parseInt(i[0]);a&&(o/=a)}if(!o)return;var s=n.getView(),l=s.getProjection(),c=s.getCenter(),u=n.getPixelFromCoordinate(c);u[1]+=1;var d=n.getCoordinateFromPixel(u),h=Xa(ko(c,l,"EPSG:4326"),ko(d,l,"EPSG:4326"));h*=(r||96)/.0254,s.setResolution(s.getResolution()*o/h)}}(e,t,this.get("ppi"))),this.getScale()}};function Dx(t){const e=t.frameState,n=Eb(t.inversePixelTransform.slice(),e.coordinateToPixelTransform);return new ey(t.context,e.pixelRatio,e.extent,n,e.viewState.rotation)}var zx=class extends Qr{constructor(t){super(t=t||{}),this.setStyle(t.style)}setMap(t){this.getCanvas(t);var e=this.getMap();if(this._listener&&(ti(this._listener),this._listener=null),super.setMap(t),e)try{e.renderSync()}catch{}t&&(this._listener=t.on("postcompose",this._draw.bind(this)))}getCanvas(t){return function(e){if(!e)return null;var n=e.getViewport().getElementsByClassName("ol-fixedoverlay")[0];return n||(e.getViewport().querySelector(".ol-layers")?((n=document.createElement("canvas")).className="ol-fixedoverlay",e.getViewport().querySelector(".ol-layers").after(n),e.on("precompose",function(i){n.width=e.getSize()[0]*i.frameState.pixelRatio,n.height=e.getSize()[1]*i.frameState.pixelRatio})):n=e.getViewport().querySelector("canvas")),n}(t)}getContext(t){var e=t.context;if(!e&&this.getMap()){var n=this.getMap().getViewport().getElementsByClassName("ol-fixedoverlay")[0];e=n?n.getContext("2d"):null}return e}setStyle(t){this._style=t||new Pt({})}getStyle(){return this._style}getStroke(){return this._style.getStroke()||this._style.setStroke(new Bt({color:"#000",width:1.25})),this._style.getStroke()}getFill(){return this._style.getFill()||this._style.setFill(new Yt({color:"#fff"})),this._style.getFill()}getTextStroke(){var t=this._style.getText();return t||(t=new Ro({})),t.getStroke()||t.setStroke(new Bt({color:"#fff",width:3})),t.getStroke()}getTextFill(){var t=this._style.getText();return t||(t=new Ro({})),t.getFill()||t.setFill(new Yt({color:"#fff"})),t.getFill()}getTextFont(){var t=this._style.getText();return t||(t=new Ro({})),t.getFont()||t.setFont("12px sans-serif"),t.getFont()}_draw(){}},Bx=class extends zx{constructor(t){var e=(t=t||{}).style||[new Pt({image:new tr({points:4,radius:11,radius1:0,radius2:0,snapToPixel:!0,stroke:new Bt({color:"#fff",width:3})})}),new Pt({image:new tr({points:4,radius:11,radius1:0,radius2:0,snapToPixel:!0,stroke:new Bt({color:"#000",width:1})})})];e instanceof Array||(e=[e]);var n=document.createElement("div");n.className="ol-target ol-unselectable ol-control",super({element:n,style:e,target:t.target}),this.composite=t.composite||"",this.setVisible(t.visible!==!1)}setStyle(t){t instanceof Array||(t=[t]),super.setStyle(t)}setVisible(t){if(this.set("visible",t),this.getMap())try{this.getMap().renderSync()}catch{}}getVisible(){return this.get("visible")}_draw(t){var e=this.getContext(t);if(e&&this.getMap()&&this.getVisible()){var n=t.frameState.pixelRatio;e.save(),e.scale(n,n);var i=e.canvas.width/2/n,r=e.canvas.height/2/n,o=new ai(this.getMap().getCoordinateFromPixel([i,r]));this.composite&&(e.globalCompositeOperation=this.composite);for(var a=0;a<this._style.length;a++){var s=this._style[a];if(s instanceof Pt){var l=t.vectorContext;l||(l=Dx({inversePixelTransform:[1,0,0,1,0,0],context:e,frameState:{pixelRatio:n,extent:t.frameState.extent,coordinateToPixelTransform:t.frameState.coordinateToPixelTransform,viewState:t.frameState.viewState}})),l.setStyle(s),l.drawGeometry(o)}}e.restore()}}},Vx=class extends sr{constructor(t){super({handleDownEvent:function(e){return this._setPosition(e)},handleMoveEvent:function(e){return this._setPosition(e)}}),this.layers_=[],this.precomposeBind_=this.precompose_.bind(this),this.postcomposeBind_=this.postcompose_.bind(this),t=t||{},this.pos=!1,this.radius=t.radius||100,t.layers&&this.addLayer(t.layers),this.setActive(!0)}setMap(t){var e;if(this.getMap()){for(e=0;e<this.layers_.length;e++)this.layers_[e].un(["precompose","prerender"],this.precomposeBind_),this.layers_[e].un(["postcompose","postrender"],this.postcomposeBind_);try{this.getMap().renderSync()}catch{}}if(super.setMap(t),t){for(e=0;e<this.layers_.length;e++)this.layers_[e].on(["precompose","prerender"],this.precomposeBind_),this.layers_[e].on(["postcompose","postrender"],this.postcomposeBind_);try{t.renderSync()}catch{}}}setRadius(t){if(this.radius=t,this.getMap())try{this.getMap().renderSync()}catch{}}getRadius(){return this.radius}addLayer(t){t instanceof Array||(t=[t]);for(var e=0;e<t.length;e++){if(this.getMap()){t[e].on(["precompose","prerender"],this.precomposeBind_),t[e].on(["postcompose","postrender"],this.postcomposeBind_);try{this.getMap().renderSync()}catch{}}this.layers_.push(t[e])}}removeLayers(){this.removeLayer(this.layers_)}removeLayer(t){t instanceof Array||(t=[t]);for(var e=0;e<t.length;e++){var n;for(n=0;n<this.layers_.length&&this.layers_[n]!==t[e];n++);n!=this.layers_.length&&this.getMap()&&(this.layers_[n].un(["precompose","prerender"],this.precomposeBind_),this.layers_[n].un(["postcompose","postrender"],this.postcomposeBind_),this.layers_.splice(n,1))}if(this.getMap())try{this.getMap().renderSync()}catch{}}setPosition(t){if(this.getMap()){this.pos=this.getMap().getPixelFromCoordinate(t);try{this.getMap().renderSync()}catch{}}}getPosition(){return this.pos?this.getMap().getCoordinateFromPixel(this.pos):null}setPixelPosition(t){if(this.pos=t,this.getMap())try{this.getMap().renderSync()}catch{}}getPixelPosition(){return this.pos}_setPosition(t){if((t.type!=="pointermove"||this.get("action")!=="onclick")&&(t.pixel&&(this.pos=t.pixel),this.getMap()))try{this.getMap().renderSync()}catch{}}precompose_(t){if(this.getActive()){var e=t.context,n=t.frameState.pixelRatio;e.save(),e.beginPath();var i=[this.pos[0],this.pos[1]],r=this.radius,o=t.inversePixelTransform;o?r=(i=[i[0]*o[0]-i[1]*o[1]+o[4],-i[0]*o[2]+i[1]*o[3]+o[5]])[0]-((this.pos[0]-r)*o[0]-this.pos[1]*o[1]+o[4]):(i[0]*=n,i[1]*=n,r*=n),e.arc(i[0],i[1],r,0,2*Math.PI),e.clip()}}postcompose_(t){this.getActive()&&t.context.restore()}setActive(t){if(t!==this.getActive()&&(super.setActive(t),this.layers_)){var e;if(t)for(e=0;e<this.layers_.length;e++)this.layers_[e].on(["precompose","prerender"],this.precomposeBind_),this.layers_[e].on(["postcompose","postrender"],this.postcomposeBind_);else for(e=0;e<this.layers_.length;e++)this.layers_[e].un(["precompose","prerender"],this.precomposeBind_),this.layers_[e].un(["postcompose","postrender"],this.postcomposeBind_);if(this.getMap())try{this.getMap().renderSync()}catch{}}}};const ac="element",sc="map",lc="offset",Gs="position",uc="positioning";class ah extends On{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst===void 0||e.insertFirst,this.stopEvent=e.stopEvent===void 0||e.stopEvent,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(ac,this.handleElementChanged),this.addChangeListener(sc,this.handleMapChanged),this.addChangeListener(lc,this.handleOffsetChanged),this.addChangeListener(Gs,this.handlePositionChanged),this.addChangeListener(uc,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(ac)}getId(){return this.id}getMap(){return this.get(sc)||null}getOffset(){return this.get(lc)}getPosition(){return this.get(Gs)}getPositioning(){return this.get(uc)}handleElementChanged(){Qm(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),bt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=Qe(e,lp,this.render,this),this.updatePixelPosition();const n=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(ac,e)}setMap(e){this.set(sc,e)}setOffset(e){this.set(lc,e)}setPosition(e){this.set(Gs,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Gs))return;const i=this.getRect(n.getTargetElement(),n.getSize()),r=this.getElement(),o=this.getRect(r,[jb(r),Hb(r)]),a=(e=e||{}).margin===void 0?20:e.margin;if(!Tr(i,o)){const s=o[0]-i[0],l=i[2]-o[2],c=o[1]-i[1],u=i[3]-o[3],d=[0,0];if(s<0?d[0]=s-a:l<0&&(d[0]=Math.abs(l)+a),c<0?d[1]=c-a:u<0&&(d[1]=Math.abs(u)+a),d[0]!==0||d[1]!==0){const h=n.getView().getCenterInternal(),p=n.getPixelFromCoordinateInternal(h);if(!p)return;const f=[p[0]+d[0],p[1]+d[1]],v=e.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(f),duration:v.duration,easing:v.easing})}}}getRect(e,n){const i=e.getBoundingClientRect(),r=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[r,o,r+n[0],o+n[1]]}setPositioning(e){this.set(uc,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),n=this.getPosition();if(!e||!e.isRendered()||!n)return void this.setVisible(!1);const i=e.getPixelFromCoordinate(n),r=e.getSize();this.updateRenderedPosition(i,r)}updateRenderedPosition(e,n){const i=this.element.style,r=this.getOffset(),o=this.getPositioning();this.setVisible(!0);let a="0%",s="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?a="-100%":o!="bottom-center"&&o!="center-center"&&o!="top-center"||(a="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?s="-100%":o!="center-left"&&o!="center-center"&&o!="center-right"||(s="-50%");const l=`translate(${a}, ${s}) translate(${Math.round(e[0]+r[0])+"px"}, ${Math.round(e[1]+r[1])+"px"})`;this.rendered.transform_!=l&&(this.rendered.transform_=l,i.transform=l)}getOptions(){return this.options}}const cc="units",$x=[1,2,5],wa=25.4/.28;var Nx=class extends Qr{constructor(t){t=t||{};const e=document.createElement("div");e.style.pointerEvents="none",super({element:e,render:t.render,target:t.target}),this.on,this.once,this.un;const n=t.className!==void 0?t.className:t.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=n+"-inner",this.element.className=n+" "+vs,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=t.minWidth!==void 0?t.minWidth:64,this.maxWidth_=t.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(cc,this.handleUnitsChanged_),this.setUnits(t.units||"metric"),this.scaleBar_=t.bar||!1,this.scaleBarSteps_=t.steps||4,this.scaleBarText_=t.text||!1,this.dpi_=t.dpi||void 0}getUnits(){return this.get(cc)}handleUnitsChanged_(){this.updateElement_()}setUnits(t){this.set(cc,t)}setDpi(t){this.dpi_=t}updateElement_(){const t=this.viewState_;if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=t.center,n=t.projection,i=this.getUnits(),r=i=="degrees"?"degrees":"m";let o=Tl(n,t.resolution,e,r);const a=this.minWidth_*(this.dpi_||wa)/wa,s=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||wa)/wa:void 0;let l=a*o,c="";if(i=="degrees"){const x=Go.degrees;l*=x,l<x/60?(c="",o*=3600):l<x?(c="",o*=60):c=""}else if(i=="imperial")l<.9144?(c="in",o/=.0254):l<1609.344?(c="ft",o/=.3048):(c="mi",o/=1609.344);else if(i=="nautical")o/=1852,c="NM";else if(i=="metric")l<1e-6?(c="nm",o*=1e9):l<.001?(c="m",o*=1e6):l<1?(c="mm",o*=1e3):l<1e3?c="m":(c="km",o/=1e3);else{if(i!="us")throw new Error("Invalid units");l<.9144?(c="in",o*=39.37):l<1609.344?(c="ft",o/=.30480061):(c="mi",o/=1609.3472)}let u,d,h,p,f,v,w=3*Math.floor(Math.log(a*o)/Math.log(10));for(;;){h=Math.floor(w/3);const x=Math.pow(10,h);if(u=$x[(w%3+3)%3]*x,d=Math.round(u/o),isNaN(d))return this.element.style.display="none",void(this.renderedVisible_=!1);if(s!==void 0&&d>=s){u=p,d=f,h=v;break}if(d>=a)break;p=u,f=d,v=h,++w}const b=this.scaleBar_?this.createScaleBar(d,u,c):u.toFixed(h<0?-h:0)+" "+c;this.renderedHTML_!=b&&(this.innerElement_.innerHTML=b,this.renderedHTML_=b),this.renderedWidth_!=d&&(this.innerElement_.style.width=d+"px",this.renderedWidth_=d),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(t,e,n){const i=this.getScaleForResolution(),r=i<1?Math.round(1/i).toLocaleString()+" : 1":"1 : "+Math.round(i).toLocaleString(),o=this.scaleBarSteps_,a=t/o,s=[this.createMarker("absolute")];for(let l=0;l<o;++l){const c=l%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";s.push(`<div><div class="ol-scale-singlebar ${c}" style="width: ${a}px;"></div>`+this.createMarker("relative")+(l%2==0||o===2?this.createStepText(l,t,!1,e,n):"")+"</div>")}return s.push(this.createStepText(o,t,!0,e,n)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${t}px;">`+r+"</div>":"")+s.join("")}createMarker(t){return`<div class="ol-scale-step-marker" style="position: ${t}; top: ${t==="absolute"?3:-10}px;"></div>`}createStepText(t,e,n,i,r){const o=(t===0?0:Math.round(i/this.scaleBarSteps_*t*100)/100)+(t===0?"":" "+r);return`<div class="ol-scale-step-text" style="margin-left: ${t===0?-3:e/this.scaleBarSteps_*-1}px;text-align: ${t===0?"left":"center"};min-width: ${t===0?0:e/this.scaleBarSteps_*2}px;left: ${n?e+"px":"unset"};">`+o+"</div>"}getScaleForResolution(){return Tl(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(1e3/25.4)*(this.dpi_||wa)}render(t){const e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}};const xg="drawstart",jx="drawend",Hx="drawabort";class Ws extends di{constructor(e,n){super(e),this.feature=n}}function Ys(t,e){return ki(t[0],t[1],e[0],e[1])}function Mo(t,e){const n=t.length;return e<0?t[e+n]:e>=n?t[e-n]:t[e]}function Xs(t,e,n){let i,r;e<n?(i=e,r=n):(i=n,r=e);const o=Math.ceil(i),a=Math.floor(r);if(o>a)return Ys(Lo(t,i),Lo(t,r));let s=0;i<o&&(s+=Ys(Lo(t,i),Mo(t,o))),a<r&&(s+=Ys(Mo(t,a),Lo(t,r)));for(let l=o;l<a-1;++l)s+=Ys(Mo(t,l),Mo(t,l+1));return s}function ry(t,e,n){if(e instanceof Xn)Us(t,e.getCoordinates(),!1,n);else if(e instanceof ns){const i=e.getCoordinates();for(let r=0,o=i.length;r<o;++r)Us(t,i[r],!1,n)}else if(e instanceof Pn){const i=e.getCoordinates();for(let r=0,o=i.length;r<o;++r)Us(t,i[r],!0,n)}else if(e instanceof is){const i=e.getCoordinates();for(let r=0,o=i.length;r<o;++r){const a=i[r];for(let s=0,l=a.length;s<l;++s)Us(t,a[s],!0,n)}}else if(e instanceof Rl){const i=e.getGeometries();for(let r=0;r<i.length;++r)ry(t,i[r],n)}}const dc={index:-1,endIndex:NaN};function Us(t,e,n,i){const r=t[0],o=t[1];for(let a=0,s=e.length-1;a<s;++a){const l=oy(r,o,e[a],e[a+1]);if(l.squaredDistance===0){const c=a+l.along;return void i.push({coordinates:e,ring:n,startIndex:c,endIndex:c})}}}const hc={along:0,squaredDistance:0};function oy(t,e,n,i){const r=n[0],o=n[1],a=i[0]-r,s=i[1]-o;let l=0,c=r,u=o;return a===0&&s===0||(l=St(((t-r)*a+(e-o)*s)/(a*a+s*s),0,1),c+=a*l,u+=s*l),hc.along=l,hc.squaredDistance=ps(ki(t,e,c,u),10),hc}function Lo(t,e){const n=t.length;let i=Math.floor(e);const r=e-i;i>=n?i-=n:i<0&&(i+=n);let o=i+1;o>=n&&(o-=n);const a=t[i],s=a[0],l=a[1],c=t[o];return[s+(c[0]-s)*r,l+(c[1]-l)*r]}function Gx(){const t=function(){const e={},n=[255,255,255,1],i=[0,153,255,1];return e.Polygon=[new Pt({fill:new Yt({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new Pt({stroke:new Bt({color:n,width:5})}),new Pt({stroke:new Bt({color:i,width:3})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new Pt({image:new ui({radius:6,fill:new Yt({color:i}),stroke:new Bt({color:n,width:1.5})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}();return function(e,n){return t[e.getGeometry().getType()]}}var zl,qn,Ba=class extends sr{constructor(t){const e=t;e.stopDown||(e.stopDown=ia),super(e),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=t.source?t.source:null,this.features_=t.features?t.features:null,this.snapTolerance_=t.snapTolerance?t.snapTolerance:12,this.type_=t.type,this.mode_=function(i){switch(i){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+i)}}(this.type_),this.stopClick_=!!t.stopClick,this.minPoints_=t.minPoints?t.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:t.maxPoints?t.maxPoints:1/0,this.finishCondition_=t.finishCondition?t.finishCondition:No,this.geometryLayout_=t.geometryLayout?t.geometryLayout:"XY";let n=t.geometryFunction;if(!n){const i=this.mode_;if(i==="Circle")n=(r,o,a)=>{const s=o||new pu([NaN,NaN]),l=$n(r[0]),c=wm(l,$n(r[r.length-1]));return s.setCenterAndRadius(l,Math.sqrt(c),this.geometryLayout_),s};else{let r;i==="Point"?r=ai:i==="LineString"?r=Xn:i==="Polygon"&&(r=Pn),n=(o,a,s)=>(a?i==="Polygon"?o[0].length?a.setCoordinates([o[0].concat([o[0][0]])],this.geometryLayout_):a.setCoordinates([],this.geometryLayout_):a.setCoordinates(o,this.geometryLayout_):a=new r(o,this.geometryLayout_),a)}}this.geometryFunction_=n,this.dragVertexDelay_=t.dragVertexDelay!==void 0?t.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.overlay_=new vu({source:new gu({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:Gx(),updateWhileInteracting:!0}),this.geometryName_=t.geometryName,this.condition_=t.condition?t.condition:dp,this.freehandCondition_,t.freehand?this.freehandCondition_=Kd:this.freehandCondition_=t.freehandCondition?t.freehandCondition:x0,this.traceCondition_,this.setTrace(t.trace||!1),this.traceState_={active:!1},this.traceSource_=t.traceSource||t.source||null,this.addChangeListener(Xd,this.updateState_)}setTrace(t){let e;e=t?t===!0?Kd:t:S1,this.traceCondition_=e}setMap(t){super.setMap(t),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(t){t.originalEvent.type===Hc&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(t);let e=t.type===ht.POINTERMOVE,n=!0;return!this.freehand_&&this.lastDragTime_&&t.type===ht.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&t.type===ht.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(t.coordinate),n=!1):this.freehand_&&t.type===ht.POINTERDOWN?n=!1:e&&this.getPointerCount()<2?(n=t.type===ht.POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):(t.originalEvent.pointerType==="mouse"||t.type===ht.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(t)):t.type===ht.DBLCLICK&&(n=!1),super.handleEvent(t)&&n}handleDownEvent(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new _i(ht.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))},this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(t){if(!this.traceSource_||!this.traceCondition_(t))return;if(this.traceState_.active)return void this.deactivateTrace_();const e=this.getMap(),n=Qc([e.getCoordinateFromPixel([t.pixel[0]-this.snapTolerance_,t.pixel[1]+this.snapTolerance_]),e.getCoordinateFromPixel([t.pixel[0]+this.snapTolerance_,t.pixel[1]-this.snapTolerance_])]),i=this.traceSource_.getFeaturesInExtent(n);if(i.length===0)return;const r=function(o,a){const s=[];for(let l=0;l<a.length;++l)ry(o,a[l].getGeometry(),s);return s}(t.coordinate,i);r.length&&(this.traceState_={active:!0,startPx:t.pixel.slice(),targets:r,targetIndex:-1})}addOrRemoveTracedCoordinates_(t,e){const n=t.startIndex<=t.endIndex;n===t.startIndex<=e?n&&e>t.endIndex||!n&&e<t.endIndex?this.addTracedCoordinates_(t,t.endIndex,e):(n&&e<t.endIndex||!n&&e>t.endIndex)&&this.removeTracedCoordinates_(e,t.endIndex):(this.removeTracedCoordinates_(t.startIndex,t.endIndex),this.addTracedCoordinates_(t,t.startIndex,e))}removeTracedCoordinates_(t,e){if(t===e)return;let n=0;if(t<e){const i=Math.ceil(t);let r=Math.floor(e);r===e&&(r-=1),n=r-i+1}else{const i=Math.floor(t);let r=Math.ceil(e);r===e&&(r+=1),n=i-r+1}n>0&&this.removeLastPoints_(n)}addTracedCoordinates_(t,e,n){if(e===n)return;const i=[];if(e<n){const r=Math.ceil(e);let o=Math.floor(n);o===n&&(o-=1);for(let a=r;a<=o;++a)i.push(Mo(t.coordinates,a))}else{const r=Math.floor(e);let o=Math.ceil(n);o===n&&(o+=1);for(let a=r;a>=o;--a)i.push(Mo(t.coordinates,a))}i.length&&this.appendCoordinates(i)}updateTrace_(t){const e=this.traceState_;if(!e.active||e.targetIndex===-1&&df(e.startPx,t.pixel)<this.snapTolerance_)return;const n=function(a,s,l,c){const u=a[0],d=a[1];let h=1/0,p=-1,f=NaN;for(let b=0;b<s.targets.length;++b){const x=s.targets[b],g=x.coordinates;let _,S=1/0;for(let C=0;C<g.length-1;++C){const T=oy(u,d,g[C],g[C+1]);T.squaredDistance<S&&(S=T.squaredDistance,_=C+T.along)}S<h&&(h=S,x.ring&&s.targetIndex===b&&(x.endIndex>x.startIndex?_<x.startIndex&&(_+=g.length):x.endIndex<x.startIndex&&_>x.startIndex&&(_-=g.length)),f=_,p=b)}const v=s.targets[p];let w=v.ring;if(s.targetIndex===p&&w){const b=Lo(v.coordinates,f);df(l.getPixelFromCoordinate(b),s.startPx)>c&&(w=!1)}if(w){const b=v.coordinates,x=b.length,g=v.startIndex,_=f;if(g<_){const S=Xs(b,g,_);Xs(b,g,_-x)<S&&(f-=x)}else{const S=Xs(b,g,_);Xs(b,g,_+x)<S&&(f+=x)}}return dc.index=p,dc.endIndex=f,dc}(t.coordinate,e,this.getMap(),this.snapTolerance_);if(e.targetIndex!==n.index){if(e.targetIndex!==-1){const s=e.targets[e.targetIndex];this.removeTracedCoordinates_(s.startIndex,s.endIndex)}const a=e.targets[n.index];this.addTracedCoordinates_(a,a.startIndex,n.endIndex)}else{const a=e.targets[e.targetIndex];this.addOrRemoveTracedCoordinates_(a,n.endIndex)}e.targetIndex=n.index;const i=e.targets[e.targetIndex];i.endIndex=n.endIndex;const r=Lo(i.coordinates,i.endIndex),o=this.getMap().getPixelFromCoordinate(r);t.coordinate=r,t.pixel=[Math.round(o[0]),Math.round(o[1])]}handleUpEvent(t){let e=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);const n=this.traceState_.active;if(this.toggleTraceState_(t),this.shouldHandle_){const i=!this.finishCoordinate_;i&&this.startDrawing_(t.coordinate),!i&&this.freehand_?this.finishDrawing():this.freehand_||i&&this.mode_!=="Point"||(this.atFinish_(t.pixel,n)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing()}return!e&&this.stopClick_&&t.preventDefault(),e}handlePointerMove_(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const e=this.downPx_,n=t.pixel,i=e[0]-n[0],r=e[1]-n[1],o=i*i+r*r;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(t),this.modifyDrawing_(t.coordinate)):this.createOrUpdateSketchPoint_(t.coordinate.slice())}atFinish_(t,e){let n=!1;if(this.sketchFeature_){let i=!1,r=[this.finishCoordinate_];const o=this.mode_;if(o==="Point")n=!0;else if(o==="Circle")n=this.sketchCoords_.length===2;else if(o==="LineString")i=!e&&this.sketchCoords_.length>this.minPoints_;else if(o==="Polygon"){const a=this.sketchCoords_;i=a[0].length>this.minPoints_,r=[a[0][0],a[0][a[0].length-2]],r=e?[a[0][0]]:[a[0][0],a[0][a[0].length-2]]}if(i){const a=this.getMap();for(let s=0,l=r.length;s<l;s++){const c=r[s],u=a.getPixelFromCoordinate(c),d=t[0]-u[0],h=t[1]-u[1],p=this.freehand_?1:this.snapTolerance_;if(n=Math.sqrt(d*d+h*h)<=p,n){this.finishCoordinate_=c;break}}}}return n}createOrUpdateSketchPoint_(t){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(t):(this.sketchPoint_=new ji(new ai(t)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(t){this.sketchLine_||(this.sketchLine_=new ji);const e=t.getLinearRing(0);let n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),n.changed()):(n=new Xn(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(n))}startDrawing_(t){const e=this.getMap().getView().getProjection(),n=El(this.geometryLayout_);for(;t.length<n;)t.push(0);this.finishCoordinate_=t,this.mode_==="Point"?this.sketchCoords_=t.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new ji(new Xn(this.sketchLineCoords_)));const i=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new ji,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new Ws(xg,this.sketchFeature_))}modifyDrawing_(t){const e=this.getMap(),n=this.sketchFeature_.getGeometry(),i=e.getView().getProjection(),r=El(this.geometryLayout_);let o,a;for(;t.length<r;)t.push(0);this.mode_==="Point"?a=this.sketchCoords_:this.mode_==="Polygon"?(o=this.sketchCoords_[0],a=o[o.length-1],this.atFinish_(e.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(o=this.sketchCoords_,a=o[o.length-1]),a[0]=t[0],a[1]=t[1],this.geometryFunction_(this.sketchCoords_,n,i),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(t),n.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(n):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(t){const e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection();let i,r;const o=this.mode_;return o==="LineString"||o==="Circle"?(this.finishCoordinate_=t.slice(),r=this.sketchCoords_,r.length>=this.maxPoints_&&(this.freehand_?r.pop():i=!0),r.push(t.slice()),this.geometryFunction_(r,e,n)):o==="Polygon"&&(r=this.sketchCoords_[0],r.length>=this.maxPoints_&&(this.freehand_?r.pop():i=!0),r.push(t.slice()),i&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,e,n)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),i?this.finishDrawing():this.sketchFeature_}removeLastPoints_(t){if(!this.sketchFeature_)return;const e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),i=this.mode_;for(let r=0;r<t;++r){let o;if(i==="LineString"||i==="Circle"){if(o=this.sketchCoords_,o.splice(-2,1),o.length>=2){this.finishCoordinate_=o[o.length-2].slice();const a=this.finishCoordinate_.slice();o[o.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(o,e,n),e.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if(i==="Polygon"){o=this.sketchCoords_[0],o.splice(-2,1);const a=this.sketchLine_.getGeometry();if(o.length>=2){const s=o[o.length-2].slice();o[o.length-1]=s,this.createOrUpdateSketchPoint_(s)}a.setCoordinates(o),this.geometryFunction_(this.sketchCoords_,e,n)}if(o.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const t=this.abortDrawing_();if(!t)return null;let e=this.sketchCoords_;const n=t.getGeometry(),i=this.getMap().getView().getProjection();return this.mode_==="LineString"?(e.pop(),this.geometryFunction_(e,n,i)):this.mode_==="Polygon"&&(e[0].pop(),this.geometryFunction_(e,n,i),e=n.getCoordinates()),this.type_==="MultiPoint"?t.setGeometry(new fu([e])):this.type_==="MultiLineString"?t.setGeometry(new ns([e])):this.type_==="MultiPolygon"&&t.setGeometry(new is([e])),this.dispatchEvent(new Ws(jx,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t),t}abortDrawing_(){this.finishCoordinate_=null;const t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),t}abortDrawing(){const t=this.abortDrawing_();t&&this.dispatchEvent(new Ws(Hx,t))}appendCoordinates(t){const e=this.mode_,n=!this.sketchFeature_;let i;if(n&&this.startDrawing_(t[0]),e==="LineString"||e==="Circle")i=this.sketchCoords_;else{if(e!=="Polygon")return;i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}n&&i.shift(),i.pop();for(let o=0;o<t.length;o++)this.addToDrawing_(t[o]);const r=t[t.length-1];this.sketchFeature_=this.addToDrawing_(r),this.modifyDrawing_(r)}extend(t){const e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();const n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new ji(new ai(n)),this.updateSketchFeatures_(),this.dispatchEvent(new Ws(xg,this.sketchFeature_))}updateSketchFeatures_(){const t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);const e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)}updateState_(){const t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)}};(function(t){t.Point="Point",t.LineString="LineString",t.LinearRing="LinearRing",t.Polygon="Polygon",t.MultiPoint="MultiPoint",t.MultiLineString="MultiLineString",t.MultiPolygon="MultiPolygon",t.GeometryCollection="GeometryCollection",t.Circle="Circle",t.Hand="Hand"})(zl||(zl={}));class Wx{xmap;drawLayer;draw;drawStyle;constructor(e){if(this.xmap=e,e&&!this.drawLayer){const n=new gu,i=new Pt({fill:new Yt({color:"rgba(0, 0, 255, 0.1)"}),stroke:new Bt({color:"#0000ff",width:2}),image:new ui({radius:7,fill:new Yt({color:"#00f"})})});this.drawLayer=new vu({source:n,style:i}),e.map?.addLayer(this.drawLayer)}}setDrawVectorIndex=e=>{this.drawLayer.setZIndex(e)};setDrawLayer(e){if(e){const n=e;if(n)this.drawLayer=n;else{const i=e;this.xmap&&(this.drawLayer=this.xmap.map?.getLayers().item[i])}}}get DrawSource(){return this.drawLayer.getSource()}changeDrawType(e,n=void 0){this.clearInteraction(),n&&(this.drawStyle=n),this.drawStyle||(this.drawStyle=new Pt({fill:new Yt({color:"rgba(0, 255, 255, 0.5)"}),stroke:new Bt({color:"#ff0000",width:2}),image:new ui({radius:7,fill:new Yt({color:"#f00"})})})),this.draw=new Ba({source:this.DrawSource,type:e===zl.Hand?"LineString":e.toString(),style:this.drawStyle,freehand:e===zl.Hand,snapTolerance:50}),this.xmap.map?.addInteraction(this.draw)}clearInteraction(){const e=this.xmap.map;e&&this.draw&&(e.removeInteraction(this.draw),e.getInteractions().getArray()?.forEach(n=>{n instanceof Ba&&e.removeInteraction(n)}))}clearLastDraw(){this.draw&&(()=>{const e=this.DrawSource.getFeatures();e.length!==0&&this.DrawSource.removeFeature(e[e.length-1])})()}clearboard(){this.draw&&this.DrawSource.clear()}}class wg{map;sketch;helpTooltipElement;helpTooltip;measureTooltipElement;measureTooltip;continuePolygonMsg="";continueLineMsg="";draw;source;measureLayer;doubleClickZoom;isInited=!1;tooltipArray=[];sphereOptions;constructor(e){this.map=e,this.init()}init(){const e=this.map.getView();this.sphereOptions={projection:e.getProjection()},this.createHelpTooltip(),this.createMeasureTooltip(),this.doubleClickZoom=this.map.getInteractions().getArray().find(n=>n instanceof y0),this.map.on("pointermove",this.pointerMoveHandler.bind(this)),this.map.getViewport().addEventListener("mouseout",this.mouseoutHandler.bind(this)),this.source=new gu,this.measureLayer=new vu({source:this.source,style:new Pt({fill:new Yt({color:"rgba(255, 255, 255, 0.2)"}),stroke:new Bt({color:"#ffcc33",width:2}),image:new ui({radius:7,fill:new Yt({color:"#ffcc33"})})})}),this.measureLayer.set("name","measurelayer"),this.map.addLayer(this.measureLayer),this.isInited=!0}mouseoutHandler(){this.helpTooltipElement.classList.add("hidden")}createHelpTooltip(){this.helpTooltipElement&&this.helpTooltipElement.parentNode?.removeChild(this.helpTooltipElement),this.helpTooltipElement=document.createElement("div"),this.helpTooltipElement.className="myol-tooltip hidden",this.helpTooltip=new ah({element:this.helpTooltipElement,offset:[15,0],positioning:"center-left"}),this.map.addOverlay(this.helpTooltip),this.tooltipArray.push(this.helpTooltipElement)}createMeasureTooltip(){this.measureTooltipElement&&this.measureTooltipElement.parentNode?.removeChild(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="myol-tooltip myol-tooltip-measure",this.measureTooltip=new ah({element:this.measureTooltipElement,offset:[0,-15],positioning:"bottom-center"}),this.map.addOverlay(this.measureTooltip),this.tooltipArray.push(this.measureTooltipElement)}listener;formatLength(e){let n,i=km(e,this.sphereOptions);return n=i>100?Math.round(i/1e3*100)/100+" km":Math.round(100*i)/100+" m",n}formatArea(e){let n,i=Tm(e,this.sphereOptions);return n=i>1e4?Math.round(i/1e6*100)/100+" km<sup>2</sup>":Math.round(100*i)/100+" m<sup>2</sup>",n}geometryChanged(e){let n,i=e.target,r="";i instanceof Pn?(r=this.formatArea(i),n=i.getInteriorPoint().getCoordinates()):i instanceof Xn&&(r=this.formatLength(i),n=i.getLastCoordinate()),this.measureTooltipElement&&(this.measureTooltipElement.innerHTML=r),this.measureTooltip.setPosition(n)}pointerMoveHandler(e){if(e.dragging)return;let n="";if(this.sketch){let i=this.sketch.getGeometry();i instanceof Pn?n=this.continuePolygonMsg:i instanceof Xn&&(n=this.continueLineMsg)}this.helpTooltipElement.innerHTML=n,this.helpTooltip.setPosition(e.coordinate),this.helpTooltipElement.classList.remove("hidden")}addInteraction(e="area"){this.isInited||this.init(),this.map&&this.map.getInteractions().getArray()?.forEach(i=>{i instanceof Ba&&this.map.removeInteraction(i)});const n=e=="area"?"Polygon":"LineString";this.draw=new Ba({source:this.source,type:n,style:new Pt({fill:new Yt({color:"rgba(255, 255, 255, 0.2)"}),stroke:new Bt({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new ui({radius:5,stroke:new Bt({color:"rgba(0, 0, 0, 0.7)"}),fill:new Yt({color:"rgba(255, 255, 255, 0.2)"})})})}),this.map.addInteraction(this.draw),this.draw.on("drawstart",this.drawStartHander.bind(this)),this.draw.on("drawend",this.drawEndHander.bind(this))}drawStartHander(e){this.sketch=e.feature,this.listener=this.sketch.getGeometry().on("change",this.geometryChanged.bind(this))}drawEndHander(){this.measureTooltipElement.className="myol-tooltip myol-tooltip-static",this.measureTooltip.setOffset([0,-7]),this.sketch=null,this.measureTooltipElement=null,this.createMeasureTooltip(),ti(this.listener)}removeInteraction(){this.draw&&this.map.removeInteraction(this.draw),this.map.getInteractions().getArray()?.forEach(e=>{e instanceof Ba&&this.map.removeInteraction(e)}),this.helpTooltipElement&&this.helpTooltipElement.parentNode?.removeChild(this.helpTooltipElement),this.measureTooltipElement&&this.measureTooltipElement.parentNode?.removeChild(this.measureTooltipElement),this.tooltipArray.forEach(e=>{e.parentNode?.removeChild(e)}),this.tooltipArray=[],this.helpTooltip&&this.map.removeOverlay(this.helpTooltip),this.measureTooltip&&this.map.removeOverlay(this.measureTooltip),this.measureLayer&&this.map.removeLayer(this.measureLayer),this.map.getLayers()?.forEach(e=>{e.get("name")==="measurelayer"&&this.map.removeLayer(e)}),this.map.un("pointermove",this.pointerMoveHandler.bind(this)),this.map.getViewport().removeEventListener("mouseout",this.mouseoutHandler.bind(this)),this.doubleClickZoom&&this.map.addInteraction(this.doubleClickZoom),this.isInited=!1}}function Vi(t,e){return Wt(t.inversePixelTransform,e.slice(0))}(function(t){t[t.RollHorizonl=0]="RollHorizonl",t[t.RollVertical=1]="RollVertical",t[t.FishEye=2]="FishEye"})(qn||(qn={}));class sh{container;xmap;swipeLayer;SwipeType=qn.RollHorizonl;circleRadius=50;swipeValueX=0;swipeValueY=0;divHeight=0;divWidth=0;line=void 0;preRenderKey;postRenderKey;IsLoaded=!1;constructor(e,n){this.container=e,this.xmap=n,e&&(e.addEventListener("mousemove",this.rollSwipeLayerbak.bind(this)),this.line=document.createElement("div"),e.insertBefore(this.line,e.firstElementChild),this.divWidth=e.clientWidth,this.divHeight=e.clientHeight)}rollSwipeLayerbak(e){const n=e.offsetX,i=e.offsetY;if(this.changeSwipe(n,i),this.line)switch(this.SwipeType){case qn.RollHorizonl:this.line.removeAttribute("className"),this.line.removeAttribute("class"),this.line.setAttribute("className","horizonaldivider"),this.line.setAttribute("class","horizonaldivider");const r=n;this.line.style.height=this.divHeight+"px",this.line.style.width="4px",this.line.style.left=r+"px",this.line.style.removeProperty("top");break;case qn.RollVertical:this.line.removeAttribute("className"),this.line.removeAttribute("class"),this.line.setAttribute("className","verticaldivider"),this.line.setAttribute("class","verticaldivider");const o=i;this.line.style.height="4px",this.line.style.removeProperty("left"),this.line.style.width=this.divWidth+"px",this.line.style.top=o+"px"}}setSwipeLayer(e){if(this.swipeLayer&&(ti(this.postRenderKey),ti(this.preRenderKey)),typeof e=="number"){const n=e;if(this.xmap){const i=this.xmap.map?.getLayers();this.swipeLayer=i?.getArray()[n]}}else{const n=e;this.swipeLayer=n}this.swipeLayer&&(this.preRenderKey=this.swipeLayer.on("prerender",this.preRenderHandler.bind(this)),this.postRenderKey=this.swipeLayer.on("postrender",this.postRenderHandler.bind(this)),this.IsLoaded=!0)}preRenderHandler(e){const n=this.xmap.map?.getSize();if(n===void 0)return;const i=e.context;switch(i.save(),i.beginPath(),this.SwipeType){case qn.RollHorizonl:const r=this.swipeValueX,o=Vi(e,[r,0]),a=Vi(e,[n[0],0]),s=Vi(e,[r,n[1]]),l=Vi(e,n);i.moveTo(o[0],o[1]),i.lineTo(s[0],s[1]),i.lineTo(l[0],l[1]),i.lineTo(a[0],a[1]),i.closePath();break;case qn.RollVertical:const c=this.swipeValueY,u=Vi(e,[0,c]),d=Vi(e,[n[0],c]),h=Vi(e,[0,n[1]]),p=Vi(e,n);i.moveTo(u[0],u[1]),i.lineTo(h[0],h[1]),i.lineTo(p[0],p[1]),i.lineTo(d[0],d[1]),i.closePath();break;case qn.FishEye:const f=this.swipeValueX,v=this.swipeValueY;i.arc(f,v,this.circleRadius,0,2*Math.PI,!1),i.stroke()}i.clip()}postRenderHandler(e){e.context.restore()}changeSwipeType(e,n=50){this.SwipeType=e,e===qn.FishEye?(n>0&&(this.circleRadius=n),this.line.style.display="none"):(this.line.style.display="unset",this.line.style.removeProperty("display"))}changeSwipe(e,n){this.swipeValueX=e,this.swipeValueY=n,this.xmap&&this.xmap.map?.render()}load(){this.swipeLayer&&(this.preRenderKey=this.swipeLayer.on("prerender",this.preRenderHandler.bind(this)),this.postRenderKey=this.swipeLayer.on("postrender",this.postRenderHandler.bind(this)),this.IsLoaded=!0),this.container&&(this.container.addEventListener("mousemove",this.rollSwipeLayerbak.bind(this)),this.container.insertBefore(this.line,this.container.firstElementChild))}unload(){this.swipeLayer&&(ti(this.postRenderKey),ti(this.preRenderKey),this.IsLoaded=!1),this.container&&(this.container.removeEventListener("mousemove",this.rollSwipeLayerbak.bind(this)),this.container.contains(this.line)&&this.container.removeChild(this.line))}}const Yx=Object.prototype.toString;function bp(t,e){return Yx.call(t)===`[object ${e}]`}const Xx=t=>t!=null&&t!==null&&bp(t,"Object");function Sg(t){return bp(t,"Number")}function Va(t){return bp(t,"String")}function ay(t,e){var n=e-t,i=Math.random();return t+Math.round(i*n)}function co(){let t=[];const e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var n=0;n<36;n++){const r=Math.floor(16*Math.random());t[n]=e.substring(r,r+1)}t[14]="4";const i=3&Number(t[19])|8;return t[19]=e.substring(i,i+1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}function Ux(){const t=window.document;var e=document.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.webkitExitFullscreen;if(e)e.call(document);else if(typeof window.ActiveXObject<"u"){var n=new window.ActiveXObject("WScript.Shell");n!==null&&n.SendKeys("{F11}")}}function Cg(t=window.document.documentElement){let e=t;var n=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(n)n.call(e);else if(typeof window.ActiveXObject<"u"){var i=new window.ActiveXObject("WScript.Shell");i!==null&&i.SendKeys("{F11}")}}function sy(){const t=new Event("resize");window.dispatchEvent(t)}function lh(t={},e={}){let n;for(n in e)t[n]=Xx(t[n])?lh(t[n],e[n]):t[n]=e[n];return t}function Kx(t,e,n){let i=document.createElement(t);return i.className=e,n&&n.appendChild(i),i}class Zx{xmap;map;mapEventBus;target;swipeLayerIndex;MapLayers=new Map;constructor(e,n){this.xmap=e;const i=e.map;i&&(this.map=i,this.mapEventBus=Ol,this.initEventListener()),this.target=n}get SwipeLayerIndex(){return this.swipeLayerIndex}changeSwipeLayerByID(e){if(this.MapLayers.has(e)){const n=this.MapLayers.keys,i=Array.from(n).findIndex(r=>r===e);i>0&&(this.swipeLayerIndex=i)}}changeSwipeLayerIndex(e){e<this.MapLayers.keys.length&&e>=0&&(this.swipeLayerIndex=e)}initEventListener(){this.mapEventBus.eventOn(Zt.LAYER_OPACITY_CHANGED,this.layerOpacityHandler.bind(this)),this.mapEventBus.eventOn(Zt.LAYER_VISIBLE_CHANGED,this.layerVisibleHandler.bind(this)),this.mapEventBus.eventOn(Zt.LAYER_LOCATE,this.layerLocateHandler.bind(this)),this.mapEventBus.eventOn(Zt.LAYER_ORDER_CHANGED,this.layerOrderHandler.bind(this)),this.mapEventBus.eventOn(Zt.LAYER_REMOVED,this.removeLayer.bind(this)),this.mapEventBus.eventOn(Zt.LAYER_COPY,this.copyLayer.bind(this)),this.mapEventBus.eventOn(Zt.LAYER_SWIPE_CHANGED,this.changeSwipeLayerID.bind(this))}removeLayer(e){if(e.mapID!=this.target)return;const{id:n}=e.data;if(this.MapLayers.has(n)){const i=this.MapLayers.get(n);i&&(this.map.removeLayer(i),this.MapLayers.delete(n))}}copyLayer(e){if(e.mapID!=this.target)return;const{id:n,newid:i,ids:r}=e.data;if(this.MapLayers.has(n)){const o=this.MapLayers.get(n);if(o){const a={...o};for(let s of this.MapLayers.values())this.map.removeLayer(s);a.set("lyrID",i),this.MapLayers.set(i,a),r.forEach(s=>{const l=this.MapLayers.get(s);this.map.addLayer(l)})}}}changeSwipeLayerID(e){if(e.mapID!=this.target)return;const{id:n,index:i}=e.data;this.MapLayers.has(n)&&(this.swipeLayerIndex=i)}layerVisibleHandler(e){if(e.mapID!=this.target)return;const{id:n,visible:i}=e.data;if(this.MapLayers.has(n)){const r=this.MapLayers.get(n);r&&r.setVisible(i)}}layerOpacityHandler(e){if(e.mapID!=this.target)return;const{id:n,opacity:i}=e.data;if(this.MapLayers.has(n)){const r=this.MapLayers.get(n);r&&r.setOpacity(i)}}layerOrderHandler(e){if(e.mapID===this.target){const{id:n,index:i,newindex:r}=e.data;this.xmap.changeLayerOrder(i,r)}}layerLocateHandler(e){const n=this.MapLayers.get(e);if(n){const i=n.getSource()?.getProjection(),r=n.get("bounds");if(r)this.xmap.zoomToExtent(r);else{const o=n.get("center");if(o){let a=n.get("level");const s=[o[0],o[1]];o.length===3&&(a=o[2]),this.xmap.zoomToCenter(s,a)}else this.xmap.zoomTo(n.getExtent(),i)}}}hasLayer(e){return this.MapLayers.has(e)}getLayer(e){if(this.MapLayers.has(e))return this.MapLayers.get(e)}changeLayerOpacity(e,n=1){const i=this.getLayer(e);i&&i.setOpacity(n)}changeLayerVisible(e,n=!0){const i=this.getLayer(e);i&&i.setVisible(n)}deleteLayerByID(e){const n=this.getLayer(e);return!!n&&(this.map.removeLayer(n),this.MapLayers.delete(e),!0)}deleteLayerByIndex(e){const n=this.map.getLayers()[e];if(n){let i;for(let r of this.MapLayers)if(r[1]===n){i=r[0];break}i&&this.MapLayers.delete(i),this.map.removeLayer(n)}}deleteLayer(e){if(e){let n;for(let i of this.MapLayers)if(i[1]===e){n=i[0];break}n&&this.MapLayers.delete(n),this.map.removeLayer(e)}}clearLayers(){this.MapLayers.forEach((e,n)=>{this.map.removeLayer(e)}),this.MapLayers.clear()}newEvtArgs(e,n=null){const i=new G0(this.target,"map");return i.data=e,i.target=n,i}registerLayer(e,n){this.MapLayers.set(n.id,e),n&&this.mapEventBus?.eventEmit(Zt.LAYER_ADDED,this.newEvtArgs(n))}}class rt{static prjMap=new Map;static tileGridMap=new Map;static EPSG4326Extent=[-180,-90,180,90];static EPSG3857Extent=[-2003750834e-2,-2003750834e-2,2003750834e-2,2003750834e-2];static getProjection(e){const n="EPSG:3857";let i;if(e&&e.epsg){if(i=rt.prjMap.get(e.epsg),i)return i;if(i=It(e.epsg),!i){if(!e.proj4)throw Error("Prj4j");Qp.defs(e.epsg,e.proj4),function(r){const o=Object.keys(r.defs),a=o.length;let s,l;for(s=0;s<a;++s){const c=o[s];if(!It(c)){const u=r.defs(c);let d=u.units;d||u.projName!=="longlat"||(d="degrees"),Nh(new Zi({code:c,axisOrientation:u.axis,metersPerUnit:u.to_meter,units:d}))}}for(s=0;s<a;++s){const c=o[s],u=It(c);for(l=0;l<a;++l){const d=o[l],h=It(d);if(!vm(c,d))if(r.defs[c]===r.defs[d])nd([u,h]);else{const p=r(c,d);Sb(u,h,ff(u,h,p.forward),ff(h,u,p.inverse))}}}}(Qp),i=new Zi({code:e.epsg,extent:e.prjExtent})}i&&rt.prjMap.set(e.epsg,i)}else i=rt.prjMap.get(n),i||(i=new Zi({code:n}),rt.prjMap.set(n,i));return i}static toLonLat(e,n){return rt.transformCoordinate(e,n,"EPSG:4326")}static fromLonLat(e,n){return rt.transformCoordinate(e,"EPSG:4326",n)}static fromLonLatCoordinate(e,n){return rt.transformCoordinate(e,"EPSG:4326",n)}static transformCoordinate(e,n,i){return ko(e,n,i)}static getExtentFrom4326(e,n="EPSG:3857"){return rt.getExtentFromTransform(e,"EPSG:4326",n)}static transformExtent(e,n,i="EPSG:3857"){rt.getExtentFromTransform(e,n,i)}static getExtentFromTransform(e,n,i="EPSG:3857"){return wb(e,Ua(n,i))}static transformGeometry(e,n,i="EPSG:3857"){return e.transform(n,i)}static createWMTSTileGrid(e){const n=e.rule,i=rt.tileGridMap.get(n);if(i)return i;const r=[],o=[];let a=10;for(let u in e.resolutions){const d=Number(u);r[d]=u,o[d]=e.resolutions[u],a=Math.min(d,a)}if(a>0)for(let u=a;u>0;u--){let d=u-1;r[d]==null&&o[u]!=null&&(r[d]=d.toString(),o[d]=2*o[u])}let s=256;s=Array.isArray(e.tileSize)?e.tileSize[0]:e.tileSize;const l={origin:e.origin,extent:e.extent,resolutions:o,matrixIds:r,tileSize:s},c=new Z1(l);return rt.tileGridMap.set(n,c),c}static getTDTTileGrid(e=!0){const n=e?"W":"C",i=rt.tileGridMap.get(n);if(i)return i;const r=e?rt.EPSG3857Extent:rt.EPSG4326Extent,o=Je(r)/256,a={};for(var s=1;s<22;++s)a[s.toString()]=o/Math.pow(2,s);const l={rule:n,origin:or(r),resolutions:a,tileSize:[256,256]},c=rt.createWMTSTileGrid(l);return c&&rt.tileGridMap.set(n,c),c}}class Qx{tdtKeys=[];xmap;constructor(e,n){e&&(this.xmap=e,this.tdtKeys=[...n])}setTDTKeys(e){e&&e.length>0&&(this.tdtKeys=[...this.tdtKeys,...e])}addWMTSLayerByOptions2(e,n,i,r){const o=co(),a="grid",s=i.layer;i.crossOrigin="anonymous",n.source=new lo(i);const l={lyrID:o,lyrName:i.layer,lyrType:a};n.properties?n.properties=lh(n.properties,l):n.properties=l;const c=new Kt(n);e.map.addLayer(c);const u={id:o,name:s,alias:r,minZoom:n.minZoom??1,maxZoom:n.maxZoom??24,visible:n.visible??!0,opacity:n.opacity??1,type:a};return e.registerLayer(c,u),c}addWMTSLayerByOptions(e,n,i){const r=co(),o="grid",a=n.layer;n.crossOrigin="anonymous",e.source=new lo(n);const s={lyrID:r,lyrName:n.layer,lyrType:o};e.properties?e.properties=lh(e.properties,s):e.properties=s;const l=new Kt(e);this.xmap.map.addLayer(l);const c={id:r,name:a,alias:i,minZoom:e.minZoom??1,maxZoom:e.maxZoom??24,visible:e.visible??!0,opacity:e.opacity??1,type:o};return this.xmap.registerLayer(l,c),l}addWMTSLayer2(e,n,i,r,o,a,s,l,c){const u=a??this.xmap.map.getView().getProjection(),d=o??rt.getTDTTileGrid(!0),h=co(),p="grid",f=new Kt({opacity:1,source:new lo({crossOrigin:"anonymous",layer:n,matrixSet:i,format:"image/png",projection:u,url:r,tileGrid:d,style:s??"default",wrapX:!0}),minZoom:l,maxZoom:c,properties:{lyrID:h,lyrName:n,lyrType:p}});this.xmap.map.addLayer(f);const v={id:h,name:n,alias:e,minZoom:l,maxZoom:c,visible:!0,opacity:1,type:p};return this.xmap.registerLayer(f,v),f}addWMTSLayer(e,n,i,r,o,a,s="KVP",l="image/png"){const c=o??this.xmap.map.getView().getProjection(),u=r??rt.getTDTTileGrid(!0),d=co(),h="grid",p=new Kt({opacity:1,source:new lo({crossOrigin:"anonymous",layer:e,matrixSet:n,format:l,projection:c,requestEncoding:s,url:i,tileGrid:u,style:a??"default",wrapX:!0}),properties:{lyrID:d,lyrName:e,lyrType:h}});this.xmap.map.addLayer(p);const f={id:d,name:e,minZoom:1,maxZoom:24,visible:!0,opacity:1,type:h};return this.xmap.registerLayer(p,f),p}addWMTSLayerSelf(e,n){const i=e.prjInfo,r=rt.getProjection(i),o=e.tileSchema,a=rt.createWMTSTileGrid(o),s={minZoom:e.minlevel,maxZoom:e.maxlevel,opacity:1,visible:!0,properties:{bounds:e.bounds,center:e.center,level:e.level}},l={tileGrid:a,projection:r,layer:n,style:e.style||"default",matrixSet:o.rule,url:e.tileUrl,format:"image/png"},c=this.addWMTSLayerByOptions(s,l);return this.xmap.map&&e.bounds&&this.xmap.zoomToExtent(e.bounds),c}getTDTAlias(e){let n="";switch(e){case"vec_c":case"vec_w":case"img_c":case"img_w":n="";break;case"cva_c":case"cva_w":n="";break;case"cia_c":case"cia_w":n="";break;case"ter_c":case"ter_w":n="";break;case"cta_c":case"cta_w":n=""}return n}addTDTLayer(e="img_c",n){if(!this.xmap||!this.xmap.map)throw Error("XMap");const i=this.xmap.map;if(e.indexOf("_")<0)return;const r=e.split("_"),o=r[0],a=r[1],s=a==="w"||a==="W",l=rt.getTDTTileGrid(s),c=s?"EPSG:3857":"EPSG:4326",u=this.getTDTUrls(e,this.tdtKeys);let d="grid";(o==="cva"||o==="cia")&&(d="symbol");const h=e,p=new Kt({source:new lo({crossOrigin:"anonymous",urls:u,layer:o,style:"default",matrixSet:a,format:"tiles",wrapX:!0,projection:c,tileGrid:l}),minZoom:1,maxZoom:18,properties:{center:[108.95,34.5],level:10,bounds:[-180,-90,180,90],lyrID:h,lyrName:e,lyrType:d,lyrGroup:""}});i.addLayer(p);const f={id:h,name:e,alias:`${n}[${e}]`,group:"",minZoom:1,maxZoom:18,visible:!0,opacity:1,type:d};return this.xmap.registerLayer(p,f),p}addTDTLayerOnly(e,n){if(!this.xmap||!this.xmap.map)throw Error("XMap");const i=this.xmap;if(e.indexOf("_")<0)return;const r=e.split("_"),o=r[0],a=r[1],s=a==="w"||a==="W",l=rt.getTDTTileGrid(s),c=s?"EPSG:3857":"EPSG:4326",u=this.getTDTUrls(e,this.tdtKeys);let d="grid";(o==="cva"||o==="cia")&&(d="symbol");const h=co(),p=new Kt({source:new lo({crossOrigin:"anonymous",urls:u,layer:o,style:"default",matrixSet:a,format:"tiles",wrapX:!0,projection:c,tileGrid:l}),minZoom:1,maxZoom:18,properties:{lyrID:h,lyrName:e,lyrType:d,lyrGroup:""}});return i.map.addLayer(p),p}getTDTUrls(e,n){const i=[],r=n.length;if(r===0)return i;let o=n[0];for(let a=0;a<8;a++){r>1&&(o=n[ay(0,r-1)]);const s=`https://t${a}.tianditu.gov.cn/${e}/wmts?tk=${o}`;i.push(s)}return i}addWMTSDebugLayer(e){const n=e.getSource();return this.addTileDebugLayer(n.getTileGrid(),n.getProjection())}addTileDebugLayer(e,n){if(!this.xmap||!this.xmap.map)return;const i=new Kt({source:new gx({projection:n,tileGrid:e}),properties:{lyrID:"debugLayer",lyrName:"debugLayer",lyrType:"grid"}});return this.xmap.map.addLayer(i),i}addLocalTDTLayerXYZ(e,n){e&&n.forEach(i=>{this.addSingleLocalTDTLayerXYZ(e,i)})}addSingleLocalTDTLayerXYZ(e,n){const i=e;if(i){const r=n.toLocaleLowerCase(),o=this.getTDTAlias(r),a=r.split("_"),s=a[0],l=a[1],c=It(l==="w"||l==="W"?"EPSG:3857":"EPSG:4326");let u="grid";(s==="cva"||s==="cia")&&(u="symbol");const d=co(),h=i.replace("{layerName}",r),p=new Kt({source:new Jr({url:h,projection:c}),minZoom:1,maxZoom:18,properties:{center:[108.95,34.5],level:10,bounds:[-180,-90,180,90],lyrID:d,lyrName:r,lyrType:u,lyrGroup:""}});this.xmap.map.addLayer(p);const f={id:d,name:r,alias:`${o}[${r}]`,group:"",minZoom:1,maxZoom:18,visible:!0,opacity:1,type:u};this.xmap.registerLayer(p,f)}}}const Jx={img:"https://server.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer",vec:"https://services.arcgisonline.com/arcgis/rest/services/World_Street_Map/MapServer",ter:"https://server.arcgisonline.com/arcgis/rest/services/services/World_Physical_Ma/MapServer"},ew={img:"ArcGIS",vec:"ArcGIS",ter:"ArcGIS"};class tw{static createLayer(e){const n="arcgis",i=e.toLocaleLowerCase(),r=Jx[i];if(!r)return;const o=ew[i],a=`${n}_${i}`,s="grid";return{layer:new Kt({source:new fx({url:r,projection:"EPSG:3857"}),properties:{center:[108.95,34.5],level:8,bounds:[-180,-90,180,90],lyrID:a,lyrName:a,lyrType:s,lyrGroup:n}}),layerItem:{id:a,name:a,alias:o,group:n,minZoom:0,maxZoom:23,visible:!0,opacity:1,type:s}}}}const nw={img:"",vec:""};class iw{static createLayer(e){const n="baidu",i=e.toLocaleLowerCase(),r=nw[i];if(!r)return;const o=`${n}_${i}`;return{layer:new Kt({source:new Lr({key:e,projection:rs}),properties:{center:[108.95,34.5],level:8,bounds:[-180,-90,180,90],lyrID:o,lyrName:o,lyrType:"grid",lyrGroup:n}}),layerItem:{id:o,name:o,alias:r,group:n,minZoom:1,maxZoom:20,visible:!0,opacity:1,type:"grid"}}}}const rw={img:"https://webst0{1-4}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",vec:"https://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}",ter:"https://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=8&x={x}&y={y}&z={z}"},ow={img:"",vec:"",ter:""};class aw{static createLayer(e){const n="google",i=e.toLocaleLowerCase(),r=rw[i];if(!r)return;const o=ow[i],a=`${n}_${i}`,s="grid";return{layer:new Kt({source:new Jr({url:r,wrapX:!1,projection:"EPSG:4326"}),properties:{center:[108.95,34.5],level:8,bounds:[-180,-90,180,90],lyrID:a,lyrName:a,lyrType:s,lyrGroup:n}}),layerItem:{id:a,name:a,alias:o,group:n,minZoom:1,maxZoom:18,visible:!0,opacity:1,type:s}}}}const sw={img:"https://www.google.com.hk/maps/vt?lyrs=s&x={x}&y={y}&z={z}",vec:"https://www.google.com.hk/maps/vt?lyrs=m&x={x}&y={y}&z={z}",cva:"https://www.google.com.hk/maps/vt?lyrs=h&x={x}&y={y}&z={z}",ter:"https://www.google.com.hk/maps/vt?lyrs=t,r&x={x}&y={y}&z={z}",img_cia:"https://www.google.com.hk/maps/vt?lyrs=y&x={x}&y={y}&z={z}"},lw={img:"",vec:"",cva:"",ter:"",img_cia:"+"};class uw{static createLayer(e){const n="google",i=e.toLocaleLowerCase(),r=sw[i];if(!r)return;const o=lw[i],a=`${n}_${i}`;return{layer:new Kt({source:new Jr({url:r,projection:"EPSG:3857"}),properties:{center:[108.95,34.5],level:8,bounds:[-180,-90,180,90],lyrID:a,lyrName:a,lyrType:"grid",lyrGroup:n}}),layerItem:{id:a,name:a,alias:o,group:n,minZoom:1,maxZoom:20,visible:!0,opacity:1,type:"grid"}}}}const cw={img:"https://api.mapbox.com/styles/v1/mapbox/satellite-v9/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZGF2aWRnb256YWxlenBlcmV6ODEiLCJhIjoiY2xmd2RoamNsMDJ0ZTNjbzk1cTV5bmo5NyJ9.hSZux6zOenlV7TDy4amnaw",vec:"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZGF2aWRnb256YWxlenBlcmV6ODEiLCJhIjoiY2xmd2RoamNsMDJ0ZTNjbzk1cTV5bmo5NyJ9.hSZux6zOenlV7TDy4amnaw"},dw={img:"Mapbox",vec:"Mapbox"};class hw{static createLayer(e){const n="mapbox",i=e.toLocaleLowerCase(),r=cw[i];if(!r)return;const o=dw[i],a=`${n}_${i}`;return{layer:new Kt({source:new Jr({url:r,projection:"EPSG:3857"}),properties:{center:[108.95,34.5],level:8,bounds:[-180,-90,180,90],lyrID:a,lyrName:a,lyrType:"grid",lyrGroup:n}}),layerItem:{id:a,name:a,alias:o,group:n,minZoom:1,maxZoom:20,visible:!0,opacity:1,type:"grid"}}}}const pw={img:"https://p{1-3}.map.gtimg.com/sateTiles/{z}/{sx}/{sy}/{x}_{reverseY}.jpg?version=400",vec:"https://rt{1-3}.map.gtimg.com/tile?z={z}&x={x}&y={reverseY}&styleid=1&scene=0&version=347"},fw={img:"",vec:""};class gw{static createLayer(e){const n="qq",i=e.toLocaleLowerCase(),r=pw[i];if(!r)return;const o=fw[i],a=`${n}_${i}`;return{layer:new Kt({source:new Jr({url:r,projection:"EPSG:3857"}),properties:{center:[108.95,34.5],level:8,bounds:[-180,-90,180,90],lyrID:a,lyrName:a,lyrType:"grid",lyrGroup:n}}),layerItem:{id:a,name:a,alias:o,group:n,minZoom:1,maxZoom:18,visible:!0,opacity:1,type:"grid"}}}}const j2=[{id:"OSM_VEC",label:"OSM",type:"osm",img:"/img/basicimage/osm.png",layers:["osm"]},{id:"TDT_VEC",label:"-",type:"tdt",img:"/img/basicimage/tdt_vec.png",layers:["vec_w","cva_w"]},{id:"TDT_IMG",label:"-",type:"tdt",img:"/img/basicimage/tdt_img.png",layers:["img_w","cia_w"]},{id:"TDT_TER",label:"",type:"tdt",img:"/img/basicimage/tdt_ter_cta.png",layers:["ter_w","cta_w"]},{id:"ARCGIS_IMG",label:"ArcGIS",type:"arcgis",img:"/img/basicimage/arcgis_img.png",layers:["arcgis_img"]},{id:"ARCGIS_VEC",label:"ArcGIS",type:"arcgis",img:"/img/basicimage/arcgis_vec.png",layers:["arcgis_vec"]},{id:"ARCGIS_TER",label:"ArcGIS",type:"arcgis",img:"/img/basicimage/arcgis_ter.png",layers:["arcgis_ter"]},{id:"Mapbox_VEC",label:"Mapbox",type:"mapbox",img:"/img/basicimage/mapbox_vec.png",layers:["mapbox_vec"]},{id:"Mapbox_IMG",label:"Mapboxv9",type:"mapbox",img:"/img/basicimage/mapbox_img.png",layers:["mapbox_img"]},{id:"Google_VEC",label:"",type:"google",img:"/img/basicimage/google_vec.png",layers:["google_vec"]},{id:"Google_IMG",label:"",type:"google",img:"/img/basicimage/google_img.png",layers:["google_img"]},{id:"Google_IMG_CIA",label:"+",type:"google",img:"/img/basicimage/google_img_cia.png",layers:["google_img_cia"]},{id:"Google_TER",label:"",type:"google",img:"/img/basicimage/google_ter.png",layers:["google_ter"]},{id:"Google_VEC_CVA",label:"",type:"google",img:"/img/basicimage/google_cva.png",layers:["google_cva"]},{id:"BING_VEC",label:"Bing",type:"bing",img:"/img/basicimage/basic_bingimg.jpg",layers:["bing_vec"]},{id:"BING_IMG",label:"Bing",type:"bing",img:"/img/basicimage/basic_tdtimg.jpg",layers:["bing_img"]},{id:"GD_VEC",label:"",type:"gaode",img:"/img/basicimage/gaode_vec.png",layers:["gaode_vec"]},{id:"GD_IMG",label:"",type:"gaode",img:"/img/basicimage/gaode_img.png",layers:["gaode_img"]},{id:"QQ_VEC",label:"",type:"qq",img:"/img/basicimage/qq_vec.png",layers:["qq_vec"]},{id:"QQ_IMG",label:"",type:"qq",img:"/img/basicimage/qq_img.png",layers:["qq_img"]},{id:"BAIDU_VEC",label:"",type:"baidu",img:"/img/basicimage/baidu_vec.png",layers:["baidu_vec"]},{id:"BAIDU_IMG",label:"",type:"baidu",img:"/img/basicimage/baidu_img.png",layers:["baidu_img"]}];class sa{target;_TDTKeys=["1eafc8f4338343058a4876033f55b7b6","587e4b30b61cde5c55680135140dc980","fac3d52ef3ed4f1d18a79a9776dcf4f4","5f2cd4464e3dff59e381d6716cebbc80","f7b2c7226b59e6578deb7ae495d34526","fdcb5a9013aab146c4d9d6339359cc3e","1eafc8f4338343058a4876033f55b7b6"];map;mapEventBus=Ol;isMainSync=!1;digits=4;defaultHomeView={zoom:5,center:[116.46229441189399,40.24876149]};mapGroup="map";_targetContainer="";postionStatusHTMLElement;postionStatus={postion:"",zoom:"",center:"",epsgInfo:"EPSG:3857"};currentPosition;positionProjection=It("EPSG:4326");layerManager;isInitSuccess=!1;_WMTSTool;InteractionsDiction=new Map;ControlsDiction=new Map;isInternet=!0;static initByMapConfig(e){const n=new sa(e.id,e.group,e.hasLayerManager);return e.projInfo&&(e.viewOptions.Projection=rt.getProjection(e.projInfo)),n.initMapView(e.viewOptions),e.layers&&(e.isInternet===!1&&(n.isInternet=!1),e.layers.forEach(i=>{n.isInternet?n.addOnlineLayer(i):n.addOnlineLayer(i,e.tdtXYZLocalURL)})),e.controls&&e.controls.forEach(i=>{n.addDefaultControl(i)}),e.interactions&&e.interactions.forEach(i=>{n.addDefaultInteraction(i)}),n}constructor(e="map",n="map",i=!1){this.target=e,this.mapGroup=n;const r=document.getElementById(e);this._targetContainer=e+"_Container",r&&(this.isInitSuccess=!0),this.map=new du({target:this.isInitSuccess?this.target:void 0}),this.map.on("moveend",this.onMoveEnd.bind(this)),i&&(this.layerManager=new Zx(this,this.target)),this.postionStatusHTMLElement=Kx("div","ol-mouse-position xmap-position",r),this.map.on("pointermove",this.pointerMoveHandler.bind(this)),this.map.on("moveend",this.onMapMoveEndHandler.bind(this))}mapPrj;pointerMoveHandler(e){this.currentPosition=[...e.coordinate];let n=e.coordinate;const i=this.MapView.getProjection();n=rt.toLonLat(n,i);const r=hf(n,this.digits);this.postionStatus.postion=`${r}`,this.refreshPostionStatus()}onMapMoveEndHandler(e){const n=this.MapView,i=n.getZoom();this.postionStatus.zoom=`${i.toFixed(1)}`;let r=n.getCenter();r=rt.toLonLat(r,n.getProjection());const o=hf(r,this.digits);this.postionStatus.center=`${o}`,this.refreshPostionStatus()}refreshPostionStatus(){this.postionStatusHTMLElement&&(this.postionStatusHTMLElement.innerHTML=`${this.postionStatus.epsgInfo} ${this.postionStatus.zoom} ${this.postionStatus.center} ${this.postionStatus.postion}`)}get targetContainer(){return this._targetContainer}get CurrentPosition(){return this.currentPosition}get WMTSTool(){return this._WMTSTool||(this._WMTSTool=new Qx(this,this._TDTKeys)),this._WMTSTool}initMapView(e){this.isInitSuccess||this.map.setTarget(this.target),e.projection||(e.projection="EPSG:3857"),e.center&&(this.defaultHomeView.center=[...e.center]),e.zoom&&(this.defaultHomeView.zoom=e.zoom),e.center=rt.fromLonLat(e.center,e.projection),Va(e.projection)||e.projection===void 0?this.postionStatus.epsgInfo=e.projection??"EPSG:3857":this.postionStatus.epsgInfo=e.projection.getCode();const n=new Ln(e);return this.setView(n),n}get TDTKey(){const e=ay(0,this._TDTKeys.length-1);return this._TDTKeys[e]}set TDTKeys(e){e&&e.length>0&&this._TDTKeys.push(...e)}addOnlineLayer(e,n=""){const i=e.toLocaleLowerCase();if(i.endsWith("_c")||i.endsWith("_w")){const r=this.WMTSTool.getTDTAlias(i);r&&(this.isInternet?this.WMTSTool.addTDTLayer(i,r):n&&this.WMTSTool.addSingleLocalTDTLayerXYZ(n,i))}else{if(!this.isInternet)throw Error("");if(i==="osm"){const r="grid",o=new Kt({source:new sg,properties:{center:[108.95,34.5],level:8,bounds:[-180,-90,180,90],lyrID:i,lyrName:"osm",lyrType:r,lyrGroup:"osm"}});this.map.addLayer(o);const a={id:i,name:i,alias:"",group:i,minZoom:1,maxZoom:18,visible:!0,opacity:1,type:"grid"};this.registerLayer(o,a)}else{const r=i.indexOf("_"),o=i.substring(0,r),a=i.substring(r+1);let s;switch(o){case"arcgis":s=tw.createLayer(a);break;case"gaode":s=aw.createLayer(a);break;case"google":s=uw.createLayer(a);break;case"baidu":s=iw.createLayer(a);break;case"mapbox":s=hw.createLayer(a);break;case"qq":s=gw.createLayer(a)}if(s){const{layer:l,layerItem:c}=s;this.map.addLayer(l),this.registerLayer(l,c)}}}}get LayerManager(){return this.layerManager}removeLayer(e){return this.map.removeLayer(e)}changeLayerOrder(e,n){const i=this.map.getLayers(),r=i.removeAt(e);r&&i.insertAt(n,r)}addDefaultControl(e){const n=e.key.toLocaleLowerCase(),i=this.DefaultControlKeys[n];if(i)switch(i){case"target":const r=new Bt({color:"red",width:2}),o=[new Pt({image:new tr({points:4,radius:11,radius2:0,stroke:new Bt({color:"#fff",width:3})})}),new Pt({image:new tr({points:4,radius:11,radius2:0,stroke:r})})],a=new Bx({style:o,composite:""});e.options.visible===!1&&a.setVisible(!1),this.addControlExt(i,a);break;case"overview":const s=this.map.getLayers(),l=s.getArray(),c=[];e.options?.layers&&e.options.layers.forEach(f=>{if(Va(f)){const v=s.get(f);v&&c.push(v)}else Sg(f)&&f<l.length&&c.push(l[f])}),c.length===0&&c.push(new Kt({source:new sg}));const u=this.MapView.getProjection(),d=new Ax({layers:c,minZoom:1,maxZoom:12,rotation:!0,align:"right",projection:u});e.options?.align&&d.setPosition(e.options?.align),this.addControlExt(i,d);break;case"scale":const h=new Ox;this.addControlExt(i,h);break;case"scaleline":const p=new Nx;this.addControlExt(i,p)}}addDefaultInteraction(e){if(e.key==="FishEyeClip"){const n=this.map.getLayers(),i=n.getArray(),r=e.options.radius??100,o=[];e.options?.layers&&e.options.layers.forEach(s=>{if(Va(s)){const l=n.get(s);l&&o.push(l)}else Sg(s)&&s<i.length&&o.push(i[s])});const a=new Vx({radius:r,layers:o});e.options?.active===!1&&a.setActive(!1),this.addInteractionExt(e.key,a)}}dispose(){this.layerManager&&(this.layerManager.clearLayers(),this.layerManager=void 0),this.swipe&&(this.swipe.unload(),this.swipe=void 0),this.clearControlExt(),this.clearInteractionExt(),this.map&&(this.MapView.un("change:resolution",this.onResolutionChanged.bind(this)),this.map.un("moveend",this.onMoveEnd.bind(this)),this.map.un("pointermove",this.pointerMoveHandler.bind(this)),this.map.un("moveend",this.onMapMoveEndHandler.bind(this)),this.map.dispose(),this.map=void 0)}setView(e){const n=this.map.getView();n&&n.un("change:resolution",this.onResolutionChanged.bind(this)),e&&(this.map.setView(e),e.on("change:resolution",this.onResolutionChanged.bind(this)))}get MapView(){return this.map.getView()}registerLayer(e,n){this.layerManager&&this.layerManager.registerLayer(e,n)}zoomTo(e,n){if(this.map){const i=this.map.getView(),r=i.getProjection();let o=e;n&&(o=rt.getExtentFromTransform(e,n,r));const a=i.getResolutionForExtent(o,this.map.getSize());i.setResolution(a),i.setCenter(li(o))}}zoomToExtent(e){const n=this.MapView,i=n?.getProjection();if(i){const r=rt.getExtentFrom4326(e,i),o=n.getResolutionForExtent(r,this.map.getSize());n.setResolution(o);const a=li(r);n.setCenter(a)}}zoomToCenter(e,n){const i=this.MapView;if(e){const r=rt.fromLonLatCoordinate(e,i.getProjection());i.setCenter(r),n!=null&&n>0&&i.setZoom(n)}}goHomeView(){this.zoomToCenter(this.defaultHomeView.center,this.defaultHomeView.zoom)}newEvtArgs(e,n=null){const i=new G0(this.target,this.mapGroup);return i.data=e,i.target=n,i}enableMapSyncView(){this.mapEventBus.eventOn(Zt.MAP_SYNC_VIEW,this.mapSyncView.bind(this)),this.mapEventBus.eventOn(Zt.MAP_SYNC_VIEW_END,this.mapSyncViewEnd.bind(this))}disableMapSyncView(){this.mapEventBus.eventOff(Zt.MAP_SYNC_VIEW,this.mapSyncView.bind(this)),this.mapEventBus.eventOff(Zt.MAP_SYNC_VIEW_END,this.mapSyncViewEnd.bind(this))}mapSyncView(e){if(e.mapGroup===this.mapGroup&&e.mapID!=this.target){const{zoom:n,x:i,y:r}=e.data;this.isMainSync=!0,this.map.un("moveend",this.onMoveEnd.bind(this));const o=this.map.getView();o.setZoom(n),o.setCenter([i,r]),setTimeout(()=>{const a=this.newEvtArgs();this.mapEventBus.eventEmit(Zt.MAP_SYNC_VIEW_END,a)},200)}}mapSyncViewEnd(e){e.mapGroup===this.mapGroup&&(e.mapID!=this.target?this.isMainSync=!1:(this.isMainSync=!1,this.map.on("moveend",this.onMoveEnd.bind(this))))}onMoveEnd(e){if(!this.isMainSync){this.isMainSync=!0;const n=e.map.getView(),i=n.getZoom(),[r,o]=n.getCenter(),a=this.newEvtArgs({zoom:i,x:r,y:o},null);this.mapEventBus.eventEmit(Zt.MAP_SYNC_VIEW,a)}}onResolutionChanged(e){const n=this.map.getView();if(n){let i=n.getZoom();const r=this.newEvtArgs(i,null);this.mapEventBus.eventEmit(Zt.MAP_ZOOM_CHANGED,r),this.postionStatus.zoom=`${i.toFixed(1)}`,this.refreshPostionStatus()}}swipe;get RollSwipe(){if(!this.swipe){const e=document.getElementById(this.target);this.swipe=new sh(e,this)}return this.swipe}DefaultInteractionKeys={FishEyeClip:"FishEyeClip"};addInteractionExt(e,n){return!(!n||!e||this.InteractionsDiction.has(e))&&(this.map.addInteraction(n),this.InteractionsDiction.set(e,n),!0)}containsInteractionExt(e){return this.InteractionsDiction.has(e)}getInteractionExt(e){return this.InteractionsDiction.get(e)}removeInteractionExt(e){if(this.InteractionsDiction.has(e)){const n=this.InteractionsDiction.get(e);this.map.removeInteraction(n)}}clearInteractionExt(){this.InteractionsDiction.size>0&&(this.InteractionsDiction.forEach((e,n)=>{this.map.removeInteraction(e)}),this.InteractionsDiction.clear())}DefaultControlKeys={overview:"overview",target:"target",scale:"scale",scaleline:"scaleline"};addControlExt(e,n){return!(!n||!e||this.ControlsDiction.has(e))&&(this.map.addControl(n),this.ControlsDiction.set(e,n),!0)}containsControlExt(e){return this.ControlsDiction.has(e)}getControlExt(e){return this.ControlsDiction.get(e)}removeControlExt(e){if(this.ControlsDiction.has(e)){const n=this.ControlsDiction.get(e);this.map.removeControl(n)}}clearControlExt(){this.ControlsDiction.size>0&&(this.ControlsDiction.forEach((e,n)=>{this.map.removeControl(e)}),this.ControlsDiction.clear())}}typeof TextDecoder>"u"||new TextDecoder("utf-8");var kg;(function(t){t[t.grid=0]="grid",t[t.mvt=1]="mvt",t[t.symbol=2]="symbol",t[t.vector=3]="vector",t[t.json=4]="json"})(kg||(kg={}));var uh=Ii({name:"drawtool",props:{xmap:sa},components:{Icon:Hi},setup(t){let e,n=t.xmap;return xt(()=>{}),re(()=>t.xmap,i=>{n=i}),{changeType:function(i){!e&&n&&(e=new Wx(n));const r=i;e?.changeDrawType(r)},clearPic:function(){e?.clearLastDraw()},clearboard:function(){e?.clearboard(),e?.clearInteraction()}}}});const vw={class:"tool-container drawToolList"},mw={title:""},yw={title:""},_w={title:""},bw={title:""},xw={title:""},ww={title:""};uh.render=function(t,e,n,i,r,o){const a=Wn("Icon");return Dt(),Tn("ul",vw,[Ae("li",{onClick:e[0]||(e[0]=s=>t.changeType("Point"))},[Ae("span",mw,[nt(a,{icon:"gis:point"})])]),Ae("li",{onClick:e[1]||(e[1]=s=>t.changeType("LineString"))},[Ae("span",yw,[nt(a,{icon:"gis:polyline"})])]),Ae("li",{onClick:e[2]||(e[2]=s=>t.changeType("Polygon"))},[Ae("span",_w,[nt(a,{icon:"gis:polygon-o"})])]),Ae("li",{onClick:e[3]||(e[3]=s=>t.changeType("Hand"))},[Ae("span",bw,[nt(a,{icon:"gis:route-start"})])]),Ae("li",{onClick:e[4]||(e[4]=(...s)=>t.clearPic&&t.clearPic(...s))},[Ae("span",xw,[nt(a,{icon:"ant-design:undo-outlined"})])]),Ae("li",{onClick:e[5]||(e[5]=(...s)=>t.clearboard&&t.clearboard(...s))},[Ae("span",ww,[nt(a,{icon:"ant-design:clear-outlined"})])])])},uh.__file="src/components/MapTools/drawToolBar.vue";var ch=Ii({name:"MeasureToolBar",props:{xmap:sa},components:{Icon:Hi},setup(t){let e,n=t.xmap;return re(()=>t.xmap,i=>{n=i}),{measureLine:()=>{!e&&n?.map&&(e=new wg(n.map)),e?.addInteraction("line")},measureArea:()=>{!e&&n?.map&&(e=new wg(n.map)),e?.addInteraction("area")},unloadMeasure:()=>{e&&e.removeInteraction()}}}});const Sw={class:"tool-container measureToolList"},Cw={title:""},kw={title:""},Tw={title:""};ch.render=function(t,e,n,i,r,o){const a=Wn("Icon");return Dt(),Tn("ul",Sw,[Ae("li",{onClick:e[0]||(e[0]=(...s)=>t.measureLine&&t.measureLine(...s))},[Ae("span",Cw,[nt(a,{icon:"gis:measure-line"})])]),Ae("li",{onClick:e[1]||(e[1]=(...s)=>t.measureArea&&t.measureArea(...s))},[Ae("span",kw,[nt(a,{icon:"gis:measure-area"})])]),Ae("li",{onClick:e[2]||(e[2]=(...s)=>t.unloadMeasure&&t.unloadMeasure(...s))},[Ae("span",Tw,[nt(a,{icon:"ant-design:clear-outlined"})])])])},ch.__file="src/components/MapTools/measureToolBar.vue";const gn=wr({layerTree:!1,dataPanel:!0,location:!1,drawTool:!1,measureTool:!1,swipeTool:!1,otherTool:!1});function jt(t,e,n,i){return Object.defineProperty(t,e,{get:n,set:i,enumerable:!0}),t}function ly(t,e){for(const n in e)jt(t,n,e[n]);return t}var dh,Rn=$(!1),Tg="ontouchstart"in window||window.navigator.maxTouchPoints>0,Eg=navigator.userAgent||navigator.vendor||window.opera,je={userAgent:Eg,is:function(t){const e=t.toLowerCase(),n=function(a){return/(ipad)/.exec(a)||/(ipod)/.exec(a)||/(windows phone)/.exec(a)||/(iphone)/.exec(a)||/(kindle)/.exec(a)||/(silk)/.exec(a)||/(android)/.exec(a)||/(win)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||/(cros)/.exec(a)||/(playbook)/.exec(a)||/(bb)/.exec(a)||/(blackberry)/.exec(a)||[]}(e),i=function(a,s){const l=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(a)||/(opr)[\/]([\w.]+)/.exec(a)||/(vivaldi)[\/]([\w.]+)/.exec(a)||/(chrome|crios)[\/]([\w.]+)/.exec(a)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(a)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(a)||/(firefox|fxios)[\/]([\w.]+)/.exec(a)||/(webkit)[\/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(a)||[];return{browser:l[5]||l[3]||l[1]||"",version:l[4]||l[2]||"0",platform:s[0]||""}}(e,n),r={mobile:!1,desktop:!1,cordova:!1,capacitor:!1,nativeMobile:!1,electron:!1,bex:!1,linux:!1,mac:!1,win:!1,cros:!1,chrome:!1,firefox:!1,opera:!1,safari:!1,vivaldi:!1,edge:!1,edgeChromium:!1,ie:!1,webkit:!1,android:!1,ios:!1,ipad:!1,iphone:!1,ipod:!1,kindle:!1,winphone:!1,blackberry:!1,playbook:!1,silk:!1};i.browser&&(r[i.browser]=!0,r.version=i.version,r.versionNumber=parseInt(i.version,10)),i.platform&&(r[i.platform]=!0);const o=r.android||r.ios||r.bb||r.blackberry||r.ipad||r.iphone||r.ipod||r.kindle||r.playbook||r.silk||r["windows phone"];if(o===!0||e.indexOf("mobile")!==-1?r.mobile=!0:r.desktop=!0,r["windows phone"]&&(r.winphone=!0,delete r["windows phone"]),r.edga||r.edgios||r.edg?(r.edge=!0,i.browser="edge"):r.crios?(r.chrome=!0,i.browser="chrome"):r.fxios&&(r.firefox=!0,i.browser="firefox"),(r.ipod||r.ipad||r.iphone)&&(r.ios=!0),r.vivaldi&&(i.browser="vivaldi",r.vivaldi=!0),(r.chrome||r.opr||r.safari||r.vivaldi||r.mobile===!0&&r.ios!==!0&&o!==!0)&&(r.webkit=!0),r.opr&&(i.browser="opera",r.opera=!0),r.safari&&(r.blackberry||r.bb?(i.browser="blackberry",r.blackberry=!0):r.playbook?(i.browser="playbook",r.playbook=!0):r.android?(i.browser="android",r.android=!0):r.kindle?(i.browser="kindle",r.kindle=!0):r.silk&&(i.browser="silk",r.silk=!0)),r.name=i.browser,r.platform=i.platform,e.indexOf("electron")!==-1)r.electron=!0;else if(document.location.href.indexOf("-extension://")!==-1)r.bex=!0;else{if(window.Capacitor!==void 0?(r.capacitor=!0,r.nativeMobile=!0,r.nativeMobileWrapper="capacitor"):window._cordovaNative===void 0&&window.cordova===void 0||(r.cordova=!0,r.nativeMobile=!0,r.nativeMobileWrapper="cordova"),Rn.value===!0&&(dh={is:{...r}}),Tg===!0&&r.mac===!0&&(r.desktop===!0&&r.safari===!0||r.nativeMobile===!0&&r.android!==!0&&r.ios!==!0&&r.ipad!==!0)){delete r.mac,delete r.desktop;const a=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(r,{mobile:!0,ios:!0,platform:a,[a]:!0})}r.mobile!==!0&&window.navigator.userAgentData&&window.navigator.userAgentData.mobile&&(delete r.desktop,r.mobile=!0)}return r}(Eg),has:{touch:Tg},within:{iframe:window.self!==window.top}},hh={install(t){const{$q:e}=t;Rn.value===!0?(t.onSSRHydrated.push(()=>{Object.assign(e.platform,je),Rn.value=!1}),e.platform=wr(this)):e.platform=this}};{let t;jt(je.has,"webStorage",()=>{if(t!==void 0)return t;try{if(window.localStorage)return t=!0,!0}catch{}return t=!1,!1}),Object.assign(hh,je),Rn.value===!0&&(Object.assign(hh,dh,{has:{touch:!1,webStorage:!1},within:{iframe:!1}}),dh=null)}var Ew=hh;function ae(t){return um(Ii(t))}function Un(t){return um(t)}var lr=(t,e)=>{const n=wr(t);for(const i in t)jt(e,i,()=>n[i],r=>{n[i]=r});return e},_t={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const t=Object.defineProperty({},"passive",{get(){Object.assign(_t,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,t),window.removeEventListener("qtest",null,t)}catch{}function zt(){}function mu(t){return t.button===0}function pn(t){return t.touches&&t.touches[0]?t=t.touches[0]:t.changedTouches&&t.changedTouches[0]?t=t.changedTouches[0]:t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),{top:t.clientY,left:t.clientX}}function kt(t){t.stopPropagation()}function Ht(t){t.cancelable!==!1&&t.preventDefault()}function $e(t){t.cancelable!==!1&&t.preventDefault(),t.stopPropagation()}function Ao(t,e){if(t===void 0||e===!0&&t.__dragPrevented===!0)return;const n=e===!0?i=>{i.__dragPrevented=!0,i.addEventListener("dragstart",Ht,_t.notPassiveCapture)}:i=>{delete i.__dragPrevented,i.removeEventListener("dragstart",Ht,_t.notPassiveCapture)};t.querySelectorAll("a, img").forEach(n)}function Lt(t,e,n){const i=`__q_${e}_evt`;t[i]=t[i]!==void 0?t[i].concat(n):n,n.forEach(r=>{r[0].addEventListener(r[1],t[r[2]],_t[r[3]])})}function sn(t,e){const n=`__q_${e}_evt`;t[n]!==void 0&&(t[n].forEach(i=>{i[0].removeEventListener(i[1],t[i[2]],_t[i[3]])}),t[n]=void 0)}function la(t,e=250,n){let i=null;function r(){const o=arguments;i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,t.apply(this,o)},e)}return r.cancel=()=>{i!==null&&clearTimeout(i)},r}var pc=["sm","md","lg","xl"],{passive:Mg}=_t;lr({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:zt,setDebounce:zt,install({$q:t,onSSRHydrated:e}){if(t.screen=this,this.__installed===!0)return void(t.config.screen!==void 0&&(t.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0)));const{visualViewport:n}=window,i=n||window,r=document.scrollingElement||document.documentElement,o=n===void 0||je.is.mobile===!0?()=>[Math.max(window.innerWidth,r.clientWidth),Math.max(window.innerHeight,r.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-r.clientWidth,n.height*n.scale+window.innerHeight-r.clientHeight],a=t.config.screen!==void 0&&t.config.screen.bodyClasses===!0;this.__update=d=>{const[h,p]=o();if(p!==this.height&&(this.height=p),h!==this.width)this.width=h;else if(d!==!0)return;let f=this.sizes;this.gt.xs=h>=f.sm,this.gt.sm=h>=f.md,this.gt.md=h>=f.lg,this.gt.lg=h>=f.xl,this.lt.sm=h<f.sm,this.lt.md=h<f.md,this.lt.lg=h<f.lg,this.lt.xl=h<f.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,f=(this.xs===!0?"xs":this.sm===!0&&"sm")||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",f!==this.name&&(a===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${f}`)),this.name=f)};let s,l={},c=16;this.setSizes=d=>{pc.forEach(h=>{d[h]!==void 0&&(l[h]=d[h])})},this.setDebounce=d=>{c=d};const u=()=>{const d=getComputedStyle(document.body);d.getPropertyValue("--q-size-sm")&&pc.forEach(h=>{this.sizes[h]=parseInt(d.getPropertyValue(`--q-size-${h}`),10)}),this.setSizes=h=>{pc.forEach(p=>{h[p]&&(this.sizes[p]=h[p])}),this.__update(!0)},this.setDebounce=h=>{s!==void 0&&i.removeEventListener("resize",s,Mg),s=h>0?la(this.__update,h):this.__update,i.addEventListener("resize",s,Mg)},this.setDebounce(c),Object.keys(l).length!==0?(this.setSizes(l),l=void 0):this.__update(),a===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};Rn.value===!0?e.push(u):u()}});var un=lr({isActive:!1,mode:!1},{__media:void 0,set(t){un.mode=t,t==="auto"?(un.__media===void 0&&(un.__media=window.matchMedia("(prefers-color-scheme: dark)"),un.__updateMedia=()=>{un.set("auto")},un.__media.addListener(un.__updateMedia)),t=un.__media.matches):un.__media!==void 0&&(un.__media.removeListener(un.__updateMedia),un.__media=void 0),un.isActive=t===!0,document.body.classList.remove("body--"+(t===!0?"light":"dark")),document.body.classList.add("body--"+(t===!0?"dark":"light"))},toggle(){un.set(un.isActive===!1)},install({$q:t,ssrContext:e}){const{dark:n}=t.config;t.dark=this,this.__installed!==!0&&this.set(n!==void 0&&n)}});function Wr(t){return t!==Object(t)||t.isComposing===!0||t.qKeyEvent===!0}function Fn(t,e){return Wr(t)!==!0&&[].concat(e).includes(t.keyCode)}var ph={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:t=>t?`Expand "${t}"`:"Expand",collapse:t=>t?`Collapse "${t}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:t=>t===1?"1 record selected.":(t===0?"No":t)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(t,e,n)=>t+"-"+e+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function Lg(){const t=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof t=="string")return t.split(/[-_]/).map((e,n)=>n===0?e.toLowerCase():n>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase()).join("-")}var _r=lr({__qLang:{}},{getLocale:Lg,set(t=ph,e){const n={...t,rtl:t.rtl===!0,getLocale:Lg};if(n.set=_r.set,_r.__langConfig===void 0||_r.__langConfig.noHtmlAttrs!==!0){const i=document.documentElement;i.setAttribute("dir",n.rtl===!0?"rtl":"ltr"),i.setAttribute("lang",n.isoName)}Object.assign(_r.__qLang,n)},install({$q:t,lang:e,ssrContext:n}){t.lang=_r.__qLang,_r.__langConfig=t.config.lang,this.__installed===!0?e!==void 0&&this.set(e):(this.props=new Proxy(this.__qLang,{get(){return Reflect.get(...arguments)},ownKeys:i=>Reflect.ownKeys(i).filter(r=>r!=="set"&&r!=="getLocale")}),this.set(e||ph))}}),uy=_r,Mw={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},qg=lr({iconMapFn:null,__qIconSet:{}},{set(t,e){const n={...t};n.set=qg.set,Object.assign(qg.__qIconSet,n)},install({$q:t,iconSet:e,ssrContext:n}){t.config.iconMapFn!==void 0&&(this.iconMapFn=t.config.iconMapFn),t.iconSet=this.__qIconSet,jt(t,"iconMapFn",()=>this.iconMapFn,i=>{this.iconMapFn=i}),this.__installed===!0?e!==void 0&&this.set(e):(this.props=new Proxy(this.__qIconSet,{get(){return Reflect.get(...arguments)},ownKeys:i=>Reflect.ownKeys(i).filter(r=>r!=="set")}),this.set(e||Mw))}}),Ig="_q_t_",cy="_q_s_",Yr="_q_l_",Pg="_q_pc_",dy="_q_f_",hy="_q_fo_",py="_q_tabs_",Rg="_q_u_";function ut(){}var Fg={};function Gn(t,e){if(t===e)return!0;if(t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,i;if(t.constructor===Array){if(n=t.length,n!==e.length)return!1;for(i=n;i--!=0;)if(Gn(t[i],e[i])!==!0)return!1;return!0}if(t.constructor===Map){if(t.size!==e.size)return!1;let o=t.entries();for(i=o.next();i.done!==!0;){if(e.has(i.value[0])!==!0)return!1;i=o.next()}for(o=t.entries(),i=o.next();i.done!==!0;){if(Gn(i.value[1],e.get(i.value[0]))!==!0)return!1;i=o.next()}return!0}if(t.constructor===Set){if(t.size!==e.size)return!1;const o=t.entries();for(i=o.next();i.done!==!0;){if(e.has(i.value[0])!==!0)return!1;i=o.next()}return!0}if(t.buffer!=null&&t.buffer.constructor===ArrayBuffer){if(n=t.length,n!==e.length)return!1;for(i=n;i--!=0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const r=Object.keys(t).filter(o=>t[o]!==void 0);if(n=r.length,n!==Object.keys(e).filter(o=>e[o]!==void 0).length)return!1;for(i=n;i--!=0;){const o=r[i];if(Gn(t[o],e[o])!==!0)return!1}return!0}return t!=t&&e!=e}function on(t){return t!==null&&typeof t=="object"&&Array.isArray(t)!==!0}function fh(t){return Object.prototype.toString.call(t)==="[object Date]"}function ss(t){return typeof t=="number"&&isFinite(t)}function fy(t,e){const n=ab(t);n.config.globalProperties=e.config.globalProperties;const{reload:i,...r}=e._context;return Object.assign(n._context,r),n}var Ag=["B","KB","MB","GB","TB","PB"];function gh(t,e=1){let n=0;for(;parseInt(t,10)>=1024&&n<Ag.length-1;)t/=1024,++n;return`${t.toFixed(e)}${Ag[n]}`}function vt(t,e,n){return n<=e?e:Math.min(n,Math.max(e,t))}function Bl(t,e,n){if(n<=e)return e;const i=n-e+1;let r=e+(t-e)%i;return r<e&&(r=i+r),r===0?0:r}function ot(t,e=2,n="0"){if(t==null)return t;const i=""+t;return i.length>=e?i:new Array(e-i.length+1).join(n)+i}var vh=XMLHttpRequest,Og=vh.prototype.open,Lw=["top","right","bottom","left"],Ks=[],Zs=0,qw=ae({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:t=>Lw.includes(t)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(t,{emit:e}){const{proxy:n}=we(),i=$(0),r=$(!1),o=$(!0);let a,s=0,l=null;const c=y(()=>`q-loading-bar q-loading-bar--${t.position}`+(t.color!==void 0?` bg-${t.color}`:"")+(o.value===!0?"":" no-transition")),u=y(()=>t.position==="top"||t.position==="bottom"),d=y(()=>u.value===!0?"height":"width"),h=y(()=>{const g=r.value,_=function({p:S,pos:C,active:T,horiz:L,reverse:z,dir:I}){let R=1,P=1;return L===!0?(z===!0&&(R=-1),C==="bottom"&&(P=-1),{transform:`translate3d(${R*(S-100)}%,${T?0:-200*P}%,0)`}):(z===!0&&(P=-1),C==="right"&&(R=-1),{transform:`translate3d(${T?0:I*R*-200}%,${P*(S-100)}%,0)`})}({p:i.value,pos:t.position,active:g,horiz:u.value,reverse:n.$q.lang.rtl===!0&&["top","bottom"].includes(t.position)?t.reverse===!1:t.reverse,dir:n.$q.lang.rtl===!0?-1:1});return _[d.value]=t.size,_.opacity=g?1:0,_}),p=y(()=>r.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":i.value}:{"aria-hidden":"true"});function f(g=300){const _=a;return a=Math.max(0,g)||0,s++,s>1?(_===0&&g>0?b():l!==null&&_>0&&g<=0&&(clearTimeout(l),l=null),s):(l!==null&&clearTimeout(l),e("start"),i.value=0,l=setTimeout(()=>{l=null,o.value=!0,g>0&&b()},r._value===!0?500:1),r._value!==!0&&(r.value=!0,o.value=!1),s)}function v(g){return s>0&&(i.value=function(_,S){return typeof S!="number"&&(S=_<25?3*Math.random()+3:_<65?3*Math.random():_<85?2*Math.random():_<99?.6:0),vt(_+S,0,100)}(i.value,g)),s}function w(){if(s=Math.max(0,s-1),s>0)return s;l!==null&&(clearTimeout(l),l=null),e("stop");const g=()=>{o.value=!0,i.value=100,l=setTimeout(()=>{l=null,r.value=!1},1e3)};return i.value===0?l=setTimeout(g,1):g(),s}function b(){i.value<100&&(l=setTimeout(()=>{l=null,v(),b()},a))}let x;return xt(()=>{var g;t.skipHijack!==!0&&(x=!0,g={start:f,stop:w,hijackFilter:y(()=>t.hijackFilter||null)},Zs++,Ks.push(g),Zs>1||(vh.prototype.open=function(_,S){const C=[];this.addEventListener("loadstart",()=>{Ks.forEach(T=>{T.hijackFilter.value!==null&&T.hijackFilter.value(S)!==!0||(T.start(),C.push(T.stop))})},{once:!0}),this.addEventListener("loadend",()=>{C.forEach(T=>{T()})},{once:!0}),Og.apply(this,arguments)}))}),He(()=>{l!==null&&clearTimeout(l),x===!0&&function(g){Ks=Ks.filter(_=>_.start!==g),(Zs=Math.max(0,Zs-1))===0&&(vh.prototype.open=Og)}(f)}),Object.assign(n,{start:f,stop:w,increment:v}),()=>m("div",{class:c.value,style:h.value,...p.value})}}),mh={xs:18,sm:24,md:32,lg:38,xl:46},Fi={size:String};function Ai(t,e=mh){return y(()=>t.size!==void 0?{fontSize:t.size in e?`${e[t.size]}px`:t.size}:null)}function Me(t,e){return t!==void 0&&t()||e}function _s(t,e){if(t!==void 0){const n=t();if(n!=null)return n.slice()}return e}function qt(t,e){return t!==void 0?e.concat(t()):e}function xp(t,e){return t===void 0?e:e!==void 0?e.concat(t()):t()}function An(t,e,n,i,r,o){e.key=i+r;const a=m(t,e,n);return r===!0?xn(a,o()):a}var Dg="0 0 24 24",zg=t=>t,fc=t=>`ionicons ${t}`,gy={"mdi-":t=>`mdi ${t}`,"icon-":zg,"bt-":t=>`bt ${t}`,"eva-":t=>`eva ${t}`,"ion-md":fc,"ion-ios":fc,"ion-logo":fc,"iconfont ":zg,"ti-":t=>`themify-icon ${t}`,"bi-":t=>`bootstrap-icons ${t}`},vy={o_:"-outlined",r_:"-round",s_:"-sharp"},my={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},Iw=new RegExp("^("+Object.keys(gy).join("|")+")"),Pw=new RegExp("^("+Object.keys(vy).join("|")+")"),Bg=new RegExp("^("+Object.keys(my).join("|")+")"),Rw=/^[Mm]\s?[-+]?\.?\d/,Fw=/^img:/,Aw=/^svguse:/,Ow=/^ion-/,Dw=/^(fa-(classic|sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /,et=ae({name:"QIcon",props:{...Fi,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=we(),i=Ai(t),r=y(()=>"q-icon"+(t.left===!0?" on-left":"")+(t.right===!0?" on-right":"")+(t.color!==void 0?` text-${t.color}`:"")),o=y(()=>{let a,s=t.name;if(s==="none"||!s)return{none:!0};if(n.iconMapFn!==null){const u=n.iconMapFn(s);if(u!==void 0){if(u.icon===void 0)return{cls:u.cls,content:u.content!==void 0?u.content:" "};if(s=u.icon,s==="none"||!s)return{none:!0}}}if(Rw.test(s)===!0){const[u,d=Dg]=s.split("|");return{svg:!0,viewBox:d,nodes:u.split("&&").map(h=>{const[p,f,v]=h.split("@@");return m("path",{style:f,d:p,transform:v})})}}if(Fw.test(s)===!0)return{img:!0,src:s.substring(4)};if(Aw.test(s)===!0){const[u,d=Dg]=s.split("|");return{svguse:!0,src:u.substring(7),viewBox:d}}let l=" ";const c=s.match(Iw);if(c!==null)a=gy[c[1]](s);else if(Dw.test(s)===!0)a=s;else if(Ow.test(s)===!0)a=`ionicons ion-${n.platform.is.ios===!0?"ios":"md"}${s.substring(3)}`;else if(Bg.test(s)===!0){a="notranslate material-symbols";const u=s.match(Bg);u!==null&&(s=s.substring(6),a+=my[u[1]]),l=s}else{a="notranslate material-icons";const u=s.match(Pw);u!==null&&(s=s.substring(2),a+=vy[u[1]]),l=s}return{cls:a,content:l}});return()=>{const a={class:r.value,style:i.value,"aria-hidden":"true",role:"presentation"};return o.value.none===!0?m(t.tag,a,Me(e.default)):o.value.img===!0?m(t.tag,a,qt(e.default,[m("img",{src:o.value.src})])):o.value.svg===!0?m(t.tag,a,qt(e.default,[m("svg",{viewBox:o.value.viewBox||"0 0 24 24"},o.value.nodes)])):o.value.svguse===!0?m(t.tag,a,qt(e.default,[m("svg",{viewBox:o.value.viewBox},[m("use",{"xlink:href":o.value.src})])])):(o.value.cls!==void 0&&(a.class+=" "+o.value.cls),m(t.tag,a,qt(e.default,[o.value.content])))}}});ae({name:"QAvatar",props:{...Fi,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(t,{slots:e}){const n=Ai(t),i=y(()=>"q-avatar"+(t.color?` bg-${t.color}`:"")+(t.textColor?` text-${t.textColor} q-chip--colored`:"")+(t.square===!0?" q-avatar--square":t.rounded===!0?" rounded-borders":"")),r=y(()=>t.fontSize?{fontSize:t.fontSize}:null);return()=>{const o=t.icon!==void 0?[m(et,{name:t.icon})]:void 0;return m("div",{class:i.value,style:n.value},[m("div",{class:"q-avatar__content row flex-center overflow-hidden",style:r.value},xp(e.default,o))])}}});var zw=["top","middle","bottom"];ae({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:t=>zw.includes(t)}},setup(t,{slots:e}){const n=y(()=>t.align!==void 0?{verticalAlign:t.align}:null),i=y(()=>{const r=t.outline===!0&&t.color||t.textColor;return`q-badge flex inline items-center no-wrap q-badge--${t.multiLine===!0?"multi":"single"}-line`+(t.outline===!0?" q-badge--outline":t.color!==void 0?` bg-${t.color}`:"")+(r!==void 0?` text-${r}`:"")+(t.floating===!0?" q-badge--floating":"")+(t.rounded===!0?" q-badge--rounded":"")+(t.transparent===!0?" q-badge--transparent":"")});return()=>m("div",{class:i.value,style:n.value,role:"status","aria-label":t.label},qt(e.default,t.label!==void 0?[t.label]:[]))}});var Ue={dark:{type:Boolean,default:null}};function Ke(t,e){return y(()=>t.dark===null?e.dark.isActive:t.dark)}ae({name:"QBanner",props:{...Ue,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=we(),i=Ke(t,n),r=y(()=>"q-banner row items-center"+(t.dense===!0?" q-banner--dense":"")+(i.value===!0?" q-banner--dark q-dark":"")+(t.rounded===!0?" rounded-borders":"")),o=y(()=>"q-banner__actions row items-center justify-end col-"+(t.inlineActions===!0?"auto":"all"));return()=>{const a=[m("div",{class:"q-banner__avatar col-auto row items-center self-start"},Me(e.avatar)),m("div",{class:"q-banner__content col text-body2"},Me(e.default))],s=Me(e.action);return s!==void 0&&a.push(m("div",{class:o.value},s)),m("div",{class:r.value+(t.inlineActions===!1&&s!==void 0?" q-banner--top-padding":""),role:"alert"},a)}}}),ae({name:"QBar",props:{...Ue,dense:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=we(),i=Ke(t,n),r=y(()=>`q-bar row no-wrap items-center q-bar--${t.dense===!0?"dense":"standard"}  q-bar--${i.value===!0?"dark":"light"}`);return()=>m("div",{class:r.value,role:"toolbar"},Me(e.default))}});var yy={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},Bw=Object.keys(yy),wp={align:{type:String,validator:t=>Bw.includes(t)}};function Sp(t){return y(()=>{const e=t.align===void 0?t.vertical===!0?"stretch":"left":t.align;return`${t.vertical===!0?"items":"justify"}-${yy[e]}`})}function ml(t){if(Object(t.$parent)===t.$parent)return t.$parent;let{parent:e}=t.$;for(;Object(e)===e;){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function _y(t,e){typeof e.type=="symbol"?Array.isArray(e.children)===!0&&e.children.forEach(n=>{_y(t,n)}):t.add(e)}function Cp(t){const e=new Set;return t.forEach(n=>{_y(e,n)}),Array.from(e)}function kp(t){return t.appContext.config.globalProperties.$router!==void 0}function Qi(t){return t.isUnmounted===!0||t.isDeactivated===!0}var Vw=["",!0];function Vg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}function $g(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ng(t,e){return Array.isArray(e)===!0?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function $w(t,e){return Array.isArray(t)===!0?Ng(t,e):Array.isArray(e)===!0?Ng(e,t):t===e}ae({name:"QBreadcrumbs",props:{...wp,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:t=>["none","xs","sm","md","lg","xl"].includes(t),default:"sm"}},setup(t,{slots:e}){const n=Sp(t),i=y(()=>`flex items-center ${n.value}${t.gutter==="none"?"":` q-gutter-${t.gutter}`}`),r=y(()=>t.separatorColor?` text-${t.separatorColor}`:""),o=y(()=>` text-${t.activeColor}`);return()=>{if(e.default===void 0)return;const a=Cp(Me(e.default));if(a.length===0)return;let s=1;const l=[],c=a.filter(d=>d.type!==void 0&&d.type.name==="QBreadcrumbsEl").length,u=e.separator!==void 0?e.separator:()=>t.separator;return a.forEach(d=>{if(d.type!==void 0&&d.type.name==="QBreadcrumbsEl"){const h=s<c,p=(h===!0?"":" q-breadcrumbs--last")+((d.props!==null&&Vw.includes(d.props.disable))!==!0&&h===!0?o.value:"");s++,l.push(m("div",{class:`flex items-center${p}`},[d])),h===!0&&l.push(m("div",{class:"q-breadcrumbs__separator"+r.value},u()))}else l.push(d)}),m("div",{class:"q-breadcrumbs"},[m("div",{class:i.value},l)])}}});var by={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},bs={...by,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function yu({fallbackTag:t,useDisableForRouterLinkProps:e=!0}={}){const n=we(),{props:i,proxy:r,emit:o}=n,a=kp(n),s=y(()=>i.disable!==!0&&i.href!==void 0),l=y(e===!0?()=>a===!0&&i.disable!==!0&&s.value!==!0&&i.to!==void 0&&i.to!==null&&i.to!=="":()=>a===!0&&s.value!==!0&&i.to!==void 0&&i.to!==null&&i.to!==""),c=y(()=>l.value===!0?x(i.to):null),u=y(()=>c.value!==null),d=y(()=>s.value===!0||u.value===!0),h=y(()=>i.type==="a"||d.value===!0?"a":i.tag||t||"div"),p=y(()=>s.value===!0?{href:i.href,target:i.target}:u.value===!0?{href:c.value.href,target:i.target}:{}),f=y(()=>{if(u.value===!1)return-1;const{matched:_}=c.value,{length:S}=_,C=_[S-1];if(C===void 0)return-1;const T=r.$route.matched;if(T.length===0)return-1;const L=T.findIndex($g.bind(null,C));if(L!==-1)return L;const z=Vg(_[S-2]);return S>1&&Vg(C)===z&&T[T.length-1].path!==z?T.findIndex($g.bind(null,_[S-2])):L}),v=y(()=>u.value===!0&&f.value!==-1&&function(_,S){for(const C in S){const T=S[C],L=_[C];if(typeof T=="string"){if(T!==L)return!1}else if(Array.isArray(L)===!1||L.length!==T.length||T.some((z,I)=>z!==L[I]))return!1}return!0}(r.$route.params,c.value.params)),w=y(()=>v.value===!0&&f.value===r.$route.matched.length-1&&function(_,S){if(Object.keys(_).length!==Object.keys(S).length)return!1;for(const C in _)if($w(_[C],S[C])===!1)return!1;return!0}(r.$route.params,c.value.params)),b=y(()=>u.value===!0?w.value===!0?` ${i.exactActiveClass} ${i.activeClass}`:i.exact===!0?"":v.value===!0?` ${i.activeClass}`:"":"");function x(_){try{return r.$router.resolve(_)}catch{}return null}function g(_,{returnRouterError:S,to:C=i.to,replace:T=i.replace}={}){if(i.disable===!0)return _.preventDefault(),Promise.resolve(!1);if(_.metaKey||_.altKey||_.ctrlKey||_.shiftKey||_.button!==void 0&&_.button!==0||i.target==="_blank")return Promise.resolve(!1);_.preventDefault();const L=r.$router[T===!0?"replace":"push"](C);return S===!0?L:L.then(()=>{}).catch(()=>{})}return{hasRouterLink:u,hasHrefLink:s,hasLink:d,linkTag:h,resolvedLink:c,linkIsActive:v,linkIsExactActive:w,linkClass:b,linkAttrs:p,getLink:x,navigateToRouterLink:g,navigateOnClick:function(_){if(u.value===!0){const S=C=>g(_,C);o("click",_,S),_.defaultPrevented!==!0&&S()}else o("click",_)}}}ae({name:"QBreadcrumbsEl",props:{...bs,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(t,{slots:e}){const{linkTag:n,linkAttrs:i,linkClass:r,navigateOnClick:o}=yu(),a=y(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(t.disable!==!0?"q-link--focusable"+r.value:"q-breadcrumbs__el--disable"),...i.value,onClick:o})),s=y(()=>"q-breadcrumbs__el-icon"+(t.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const l=[];return t.icon!==void 0&&l.push(m(et,{class:s.value,name:t.icon})),t.label!==void 0&&l.push(t.label),m(n.value,{...a.value},qt(e.default,l))}}});var Et={size:{type:[String,Number],default:"1em"},color:String};function Mt(t){return{cSize:y(()=>t.size in mh?`${mh[t.size]}px`:t.size),classes:y(()=>"q-spinner"+(t.color?` text-${t.color}`:""))}}var Zn=ae({name:"QSpinner",props:{...Et,thickness:{type:Number,default:5}},setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value+" q-spinner-mat",width:e.value,height:e.value,viewBox:"25 25 50 50"},[m("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":t.thickness,"stroke-miterlimit":"10"})])}});function Vl(t){if(t===window)return{top:0,left:0};const{top:e,left:n}=t.getBoundingClientRect();return{top:e,left:n}}function ta(t){return t===window?window.innerHeight:t.getBoundingClientRect().height}function yh(t,e){const n=t.style;for(const i in e)n[i]=e[i]}function xy(t,e){if(t==null||t.contains(e)===!0)return!0;for(let n=t.nextElementSibling;n!==null;n=n.nextElementSibling)if(n.contains(e))return!0;return!1}function wy(t,e=250){let n,i=!1;return function(){return i===!1&&(i=!0,setTimeout(()=>{i=!1},e),n=t.apply(this,arguments)),n}}function jg(t,e,n,i){n.modifiers.stop===!0&&kt(t);const r=n.modifiers.color;let o=n.modifiers.center;o=o===!0||i===!0;const a=document.createElement("span"),s=document.createElement("span"),l=pn(t),{left:c,top:u,width:d,height:h}=e.getBoundingClientRect(),p=Math.sqrt(d*d+h*h),f=p/2,v=(d-p)/2+"px",w=o?v:l.left-c-f+"px",b=(h-p)/2+"px",x=o?b:l.top-u-f+"px";s.className="q-ripple__inner",yh(s,{height:`${p}px`,width:`${p}px`,transform:`translate3d(${w},${x},0) scale3d(.2,.2,1)`,opacity:0}),a.className="q-ripple"+(r?" text-"+r:""),a.setAttribute("dir","ltr"),a.appendChild(s),e.appendChild(a);const g=()=>{a.remove(),clearTimeout(_)};n.abort.push(g);let _=setTimeout(()=>{s.classList.add("q-ripple__inner--enter"),s.style.transform=`translate3d(${v},${b},0) scale3d(1,1,1)`,s.style.opacity=.2,_=setTimeout(()=>{s.classList.remove("q-ripple__inner--enter"),s.classList.add("q-ripple__inner--leave"),s.style.opacity=0,_=setTimeout(()=>{a.remove(),n.abort.splice(n.abort.indexOf(g),1)},275)},250)},50)}function Hg(t,{modifiers:e,value:n,arg:i}){const r=Object.assign({},t.cfg.ripple,e,n);t.modifiers={early:r.early===!0,stop:r.stop===!0,center:r.center===!0,color:r.color||i,keyCodes:[].concat(r.keyCodes||13)}}var _u=Un({name:"ripple",beforeMount(t,e){const n=e.instance.$.appContext.config.globalProperties.$q.config||{};if(n.ripple===!1)return;const i={cfg:n,enabled:e.value!==!1,modifiers:{},abort:[],start(r){i.enabled===!0&&r.qSkipRipple!==!0&&r.type===(i.modifiers.early===!0?"pointerdown":"click")&&jg(r,t,i,r.qKeyEvent===!0)},keystart:wy(r=>{i.enabled===!0&&r.qSkipRipple!==!0&&Fn(r,i.modifiers.keyCodes)===!0&&r.type==="key"+(i.modifiers.early===!0?"down":"up")&&jg(r,t,i,!0)},300)};Hg(i,e),t.__qripple=i,Lt(i,"main",[[t,"pointerdown","start","passive"],[t,"click","start","passive"],[t,"keydown","keystart","passive"],[t,"keyup","keystart","passive"]])},updated(t,e){if(e.oldValue!==e.value){const n=t.__qripple;n!==void 0&&(n.enabled=e.value!==!1,n.enabled===!0&&Object(e.value)===e.value&&Hg(n,e))}},beforeUnmount(t){const e=t.__qripple;e!==void 0&&(e.abort.forEach(n=>{n()}),sn(e,"main"),delete t._qripple)}}),$l={none:0,xs:4,sm:8,md:16,lg:24,xl:32},Nw={xs:8,sm:10,md:14,lg:20,xl:24},jw=["button","submit","reset"],Hw=/[^\s]\/[^\s]/,Sy=["flat","outline","push","unelevated"];function Tp(t,e){return t.flat===!0?"flat":t.outline===!0?"outline":t.push===!0?"push":t.unelevated===!0?"unelevated":e}function Cy(t){const e=Tp(t);return e!==void 0?{[e]:!0}:{}}var Ep={...Fi,...by,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...Sy.reduce((t,e)=>(t[e]=Boolean)&&t,{}),square:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...wp.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean},Gw={...Ep,round:Boolean},{passiveCapture:En}=_t,ho=null,po=null,fo=null,it=ae({name:"QBtn",props:{...Gw,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(t,{slots:e,emit:n}){const{proxy:i}=we(),{classes:r,style:o,innerClasses:a,attributes:s,hasLink:l,linkTag:c,navigateOnClick:u,isActionable:d}=function(k){const M=Ai(k,Nw),E=Sp(k),{hasRouterLink:O,hasLink:j,linkTag:V,linkAttrs:B,navigateOnClick:G}=yu({fallbackTag:"button"}),J=y(()=>{const K=k.fab===!1&&k.fabMini===!1?M.value:{};return k.padding!==void 0?Object.assign({},K,{padding:k.padding.split(/\s+/).map(W=>W in $l?$l[W]+"px":W).join(" "),minWidth:"0",minHeight:"0"}):K}),oe=y(()=>k.rounded===!0||k.fab===!0||k.fabMini===!0),te=y(()=>k.disable!==!0&&k.loading!==!0),H=y(()=>te.value===!0?k.tabindex||0:-1),A=y(()=>Tp(k,"standard")),D=y(()=>{const K={tabindex:H.value};return j.value===!0?Object.assign(K,B.value):jw.includes(k.type)===!0&&(K.type=k.type),V.value==="a"?(k.disable===!0?K["aria-disabled"]="true":K.href===void 0&&(K.role="button"),O.value!==!0&&Hw.test(k.type)===!0&&(K.type=k.type)):k.disable===!0&&(K.disabled="",K["aria-disabled"]="true"),k.loading===!0&&k.percentage!==void 0&&Object.assign(K,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":k.percentage}),K});return{classes:y(()=>{let K;k.color!==void 0?K=k.flat===!0||k.outline===!0?`text-${k.textColor||k.color}`:`bg-${k.color} text-${k.textColor||"white"}`:k.textColor&&(K=`text-${k.textColor}`);const W=k.round===!0?"round":"rectangle"+(oe.value===!0?" q-btn--rounded":k.square===!0?" q-btn--square":"");return`q-btn--${A.value} q-btn--${W}`+(K!==void 0?" "+K:"")+(te.value===!0?" q-btn--actionable q-focusable q-hoverable":k.disable===!0?" disabled":"")+(k.fab===!0?" q-btn--fab":k.fabMini===!0?" q-btn--fab-mini":"")+(k.noCaps===!0?" q-btn--no-uppercase":"")+(k.dense===!0?" q-btn--dense":"")+(k.stretch===!0?" no-border-radius self-stretch":"")+(k.glossy===!0?" glossy":"")+(k.square?" q-btn--square":"")}),style:J,innerClasses:y(()=>E.value+(k.stack===!0?" column":" row")+(k.noWrap===!0?" no-wrap text-no-wrap":"")+(k.loading===!0?" q-btn__content--hidden":"")),attributes:D,hasLink:j,linkTag:V,navigateOnClick:G,isActionable:te}}(t),h=$(null),p=$(null);let f,v=null,w=null;const b=y(()=>t.label!==void 0&&t.label!==null&&t.label!==""),x=y(()=>t.disable!==!0&&t.ripple!==!1&&{keyCodes:l.value===!0?[13,32]:[13],...t.ripple===!0?{}:t.ripple}),g=y(()=>({center:t.round})),_=y(()=>{const k=Math.max(0,Math.min(100,t.percentage));return k>0?{transition:"transform 0.6s",transform:`translateX(${k-100}%)`}:{}}),S=y(()=>{if(t.loading===!0)return{onMousedown:q,onTouchstart:q,onClick:q,onKeydown:q,onKeyup:q};if(d.value===!0){const k={onClick:T,onKeydown:L,onMousedown:I};return i.$q.platform.has.touch===!0&&(k[`onTouchstart${t.onTouchstart!==void 0?"":"Passive"}`]=z),k}return{onClick:$e}}),C=y(()=>({ref:h,class:"q-btn q-btn-item non-selectable no-outline "+r.value,style:o.value,...s.value,...S.value}));function T(k){if(h.value!==null){if(k!==void 0){if(k.defaultPrevented===!0)return;const M=document.activeElement;if(t.type==="submit"&&M!==document.body&&h.value.contains(M)===!1&&M.contains(h.value)===!1){h.value.focus();const E=()=>{document.removeEventListener("keydown",$e,!0),document.removeEventListener("keyup",E,En),h.value!==null&&h.value.removeEventListener("blur",E,En)};document.addEventListener("keydown",$e,!0),document.addEventListener("keyup",E,En),h.value.addEventListener("blur",E,En)}}u(k)}}function L(k){h.value!==null&&(n("keydown",k),Fn(k,[13,32])===!0&&po!==h.value&&(po!==null&&P(),k.defaultPrevented!==!0&&(h.value.focus(),po=h.value,h.value.classList.add("q-btn--active"),document.addEventListener("keyup",R,!0),h.value.addEventListener("blur",R,En)),$e(k)))}function z(k){h.value!==null&&(n("touchstart",k),k.defaultPrevented!==!0&&(ho!==h.value&&(ho!==null&&P(),ho=h.value,v=k.target,v.addEventListener("touchcancel",R,En),v.addEventListener("touchend",R,En)),f=!0,w!==null&&clearTimeout(w),w=setTimeout(()=>{w=null,f=!1},200)))}function I(k){h.value!==null&&(k.qSkipRipple=f===!0,n("mousedown",k),k.defaultPrevented!==!0&&fo!==h.value&&(fo!==null&&P(),fo=h.value,h.value.classList.add("q-btn--active"),document.addEventListener("mouseup",R,En)))}function R(k){if(h.value!==null&&(k===void 0||k.type!=="blur"||document.activeElement!==h.value)){if(k!==void 0&&k.type==="keyup"){if(po===h.value&&Fn(k,[13,32])===!0){const M=new MouseEvent("click",k);M.qKeyEvent=!0,k.defaultPrevented===!0&&Ht(M),k.cancelBubble===!0&&kt(M),h.value.dispatchEvent(M),$e(k),k.qKeyEvent=!0}n("keyup",k)}P()}}function P(k){const M=p.value;k===!0||ho!==h.value&&fo!==h.value||M===null||M===document.activeElement||(M.setAttribute("tabindex",-1),M.focus()),ho===h.value&&(v!==null&&(v.removeEventListener("touchcancel",R,En),v.removeEventListener("touchend",R,En)),ho=v=null),fo===h.value&&(document.removeEventListener("mouseup",R,En),fo=null),po===h.value&&(document.removeEventListener("keyup",R,!0),h.value!==null&&h.value.removeEventListener("blur",R,En),po=null),h.value!==null&&h.value.classList.remove("q-btn--active")}function q(k){$e(k),k.qSkipRipple=!0}return He(()=>{P(!0)}),Object.assign(i,{click:k=>{d.value===!0&&T(k)}}),()=>{let k=[];t.icon!==void 0&&k.push(m(et,{name:t.icon,left:t.stack!==!0&&b.value===!0,role:"img"})),b.value===!0&&k.push(m("span",{class:"block"},[t.label])),k=qt(e.default,k),t.iconRight!==void 0&&t.round===!1&&k.push(m(et,{name:t.iconRight,right:t.stack!==!0&&b.value===!0,role:"img"}));const M=[m("span",{class:"q-focus-helper",ref:p})];return t.loading===!0&&t.percentage!==void 0&&M.push(m("span",{class:"q-btn__progress absolute-full overflow-hidden"+(t.darkPercentage===!0?" q-btn__progress--dark":"")},[m("span",{class:"q-btn__progress-indicator fit block",style:_.value})])),M.push(m("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+a.value},k)),t.loading!==null&&M.push(m($t,{name:"q-transition--fade"},()=>t.loading===!0?[m("span",{key:"loading",class:"absolute-full flex flex-center"},e.loading!==void 0?e.loading():[m(Zn)])]:null)),xn(m(c.value,C.value,M),[[_u,x.value,void 0,g.value]])}}}),ky=ae({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:e}){const n=y(()=>{const i=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>t[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return"q-btn-group row no-wrap"+(i.length!==0?" "+i:"")+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>m("div",{class:n.value},Me(e.default))}});function Kn(){if(window.getSelection!==void 0){const t=window.getSelection();t.empty!==void 0?t.empty():t.removeAllRanges!==void 0&&(t.removeAllRanges(),Ew.is.mobile!==!0&&t.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}var Ty={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Ey={...Ty,contextMenu:Boolean};function Mp({showing:t,avoidEmit:e,configureAnchorEl:n}){const{props:i,proxy:r,emit:o}=we(),a=$(null);let s=null;function l(h){return a.value!==null&&(h===void 0||h.touches===void 0||h.touches.length<=1)}const c={};function u(){sn(c,"anchor")}function d(){if(i.target===!1||i.target===""||r.$el.parentNode===null)a.value=null;else if(i.target===!0)(function(h){for(a.value=h;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;n()})(r.$el.parentNode);else{let h=i.target;if(typeof i.target=="string")try{h=document.querySelector(i.target)}catch{h=void 0}h!=null?(a.value=h.$el||h,n()):a.value=null}}return n===void 0&&(Object.assign(c,{hide(h){r.hide(h)},toggle(h){r.toggle(h),h.qAnchorHandled=!0},toggleKey(h){Fn(h,13)===!0&&c.toggle(h)},contextClick(h){r.hide(h),Ht(h),We(()=>{r.show(h),h.qAnchorHandled=!0})},prevent:Ht,mobileTouch(h){if(c.mobileCleanup(h),l(h)!==!0)return;r.hide(h),a.value.classList.add("non-selectable");const p=h.target;Lt(c,"anchor",[[p,"touchmove","mobileCleanup","passive"],[p,"touchend","mobileCleanup","passive"],[p,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,r.show(h),h.qAnchorHandled=!0},300)},mobileCleanup(h){a.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),t.value===!0&&h!==void 0&&Kn()}}),n=function(h=i.contextMenu){if(i.noParentEvent===!0||a.value===null)return;let p;p=h===!0?r.$q.platform.is.mobile===!0?[[a.value,"touchstart","mobileTouch","passive"]]:[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],Lt(c,"anchor",p)}),re(()=>i.contextMenu,h=>{a.value!==null&&(u(),n(h))}),re(()=>i.target,()=>{a.value!==null&&u(),d()}),re(()=>i.noParentEvent,h=>{a.value!==null&&(h===!0?u():n())}),xt(()=>{d(),e!==!0&&i.modelValue===!0&&a.value===null&&o("update:modelValue",!1)}),He(()=>{s!==null&&clearTimeout(s),u()}),{anchorEl:a,canShow:l,anchorEvents:c}}function My(t,e){const n=$(null);let i;function r(s,l){const c=(l!==void 0?"add":"remove")+"EventListener",u=l!==void 0?l:i;s!==window&&s[c]("scroll",u,_t.passive),window[c]("scroll",u,_t.passive),i=l}function o(){n.value!==null&&(r(n.value),n.value=null)}const a=re(()=>t.noParentEvent,()=>{n.value!==null&&(o(),e())});return He(a),{localScrollTarget:n,unconfigureScrollTarget:o,changeScrollEvent:r}}var ua={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},ca=["beforeShow","show","beforeHide","hide"];function da({showing:t,canShow:e,hideOnRouteChange:n,handleShow:i,handleHide:r,processOnMount:o}){const a=we(),{props:s,emit:l,proxy:c}=a;let u;function d(b){if(s.disable===!0||b!==void 0&&b.qAnchorHandled===!0||e!==void 0&&e(b)!==!0)return;const x=s["onUpdate:modelValue"]!==void 0;x===!0&&(l("update:modelValue",!0),u=b,We(()=>{u===b&&(u=void 0)})),s.modelValue!==null&&x!==!1||h(b)}function h(b){t.value!==!0&&(t.value=!0,l("beforeShow",b),i!==void 0?i(b):l("show",b))}function p(b){if(s.disable===!0)return;const x=s["onUpdate:modelValue"]!==void 0;x===!0&&(l("update:modelValue",!1),u=b,We(()=>{u===b&&(u=void 0)})),s.modelValue!==null&&x!==!1||f(b)}function f(b){t.value!==!1&&(t.value=!1,l("beforeHide",b),r!==void 0?r(b):l("hide",b))}function v(b){s.disable===!0&&b===!0?s["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):b===!0!==t.value&&(b===!0?h:f)(u)}re(()=>s.modelValue,v),n!==void 0&&kp(a)===!0&&re(()=>c.$route.fullPath,()=>{n.value===!0&&t.value===!0&&p()}),o===!0&&xt(()=>{v(s.modelValue)});const w={show:d,hide:p,toggle:function(b){t.value===!0?p(b):d(b)}};return Object.assign(c,w),w}var Pr=[],ls=[];function Ly(t){ls=ls.filter(e=>e!==t)}function Gg(t){Ly(t),ls.length===0&&Pr.length!==0&&(Pr[Pr.length-1](),Pr=[])}function ha(t){ls.length===0?t():Pr.push(t)}var Oo=[],$a=[],Ww=1,br=document.body;function Lp(t,e){const n=document.createElement("div");if(n.id=e!==void 0?`q-portal--${e}--${Ww++}`:t,Fg.globalNodes!==void 0){const i=Fg.globalNodes.class;i!==void 0&&(n.className=i)}return br.appendChild(n),Oo.push(n),$a.push(e),n}function qy(t){const e=Oo.indexOf(t);Oo.splice(e,1),$a.splice(e,1),t.remove()}var Do=[];function Iy(t,e){do{if(t.$options.name==="QMenu"){if(t.hide(e),t.$props.separateClosePopup===!0)return ml(t)}else if(t.__qPortal===!0){const n=ml(t);return n!==void 0&&n.$options.name==="QPopupProxy"?(t.hide(e),n):t}t=ml(t)}while(t!=null)}var Yw=ae({name:"QPortal",setup:(t,{slots:e})=>()=>e.default()});function qp(t,e,n,i){const r=$(!1),o=$(!1);let a=null;const s={},l=i==="dialog"&&function(u){for(u=u.parent;u!=null;){if(u.type.name==="QGlobalDialog")return!0;if(u.type.name==="QDialog"||u.type.name==="QMenu")return!1;u=u.parent}return!1}(t);function c(u){if(o.value=!1,u!==!0)return;Gg(s),r.value=!1;const d=Do.indexOf(t.proxy);d!==-1&&Do.splice(d,1),a!==null&&(qy(a),a=null)}return cm(()=>{c(!0)}),t.proxy.__qPortal=!0,jt(t.proxy,"contentEl",()=>e.value),{showPortal:function(u){if(u===!0)return Gg(s),void(o.value=!0);var d;o.value=!1,r.value===!1&&(l===!1&&a===null&&(a=Lp(!1,i)),r.value=!0,Do.push(t.proxy),Ly(d=s),ls.push(d))},hidePortal:c,portalIsActive:r,portalIsAccessible:o,renderPortal:()=>l===!0?n():r.value===!0?[m(ib,{to:a},m(Yw,n))]:void 0}}var Br={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function bu(t,e=()=>{},n=()=>{}){return{transitionProps:y(()=>{const i=`q-transition--${t.transitionShow||e()}`,r=`q-transition--${t.transitionHide||n()}`;return{appear:!0,enterFromClass:`${i}-enter-from`,enterActiveClass:`${i}-enter-active`,enterToClass:`${i}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}}),transitionStyle:y(()=>`--q-transition-duration: ${t.transitionDuration}ms`)}}function zo(){let t;const e=we();function n(){t=void 0}return Pi(n),He(n),{removeTick:n,registerTick(i){t=i,We(()=>{t===i&&(Qi(e)===!1&&t(),t=void 0)})}}}function qi(){let t=null;const e=we();function n(){t!==null&&(clearTimeout(t),t=null)}return Pi(n),He(n),{removeTimeout:n,registerTimeout(i,r){n(),Qi(e)===!1&&(t=setTimeout(()=>{t=null,i()},r))}}}var gc,eo=[Element,String],Xw=[null,document,document.body,document.scrollingElement,document.documentElement];function ci(t,e){let n=function(i){if(i==null)return;if(typeof i=="string")try{return document.querySelector(i)||void 0}catch{return}const r=tn(i);return r?r.$el||r:void 0}(e);if(n===void 0){if(t==null)return window;n=t.closest(".scroll,.scroll-y,.overflow-auto")}return Xw.includes(n)?window:n}function Qs(t){return(t===window?document.body:t).scrollHeight}function Ji(t){return t===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:t.scrollTop}function xu(t){return t===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:t.scrollLeft}function Py(t,e,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],r=Ji(t);n<=0?r!==e&&_h(t,e):requestAnimationFrame(o=>{const a=o-i,s=r+(e-r)/Math.max(a,n)*a;_h(t,s),s!==e&&Py(t,e,n-a,o)})}function Ry(t,e,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],r=xu(t);n<=0?r!==e&&bh(t,e):requestAnimationFrame(o=>{const a=o-i,s=r+(e-r)/Math.max(a,n)*a;bh(t,s),s!==e&&Ry(t,e,n-a,o)})}function _h(t,e){t!==window?t.scrollTop=e:window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,e)}function bh(t,e){t!==window?t.scrollLeft=e:window.scrollTo(e,window.pageYOffset||window.scrollY||document.body.scrollTop||0)}function Bo(t,e,n){n?Py(t,e,n):_h(t,e)}function vc(t,e,n){n?Ry(t,e,n):bh(t,e)}function yl(){if(gc!==void 0)return gc;const t=document.createElement("p"),e=document.createElement("div");yh(t,{width:"100%",height:"200px"}),yh(e,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);const n=t.offsetWidth;e.style.overflow="scroll";let i=t.offsetWidth;return n===i&&(i=e.clientWidth),e.remove(),gc=n-i}function Uw(t,e=!0){return!(!t||t.nodeType!==Node.ELEMENT_NODE)&&(e?t.scrollHeight>t.clientHeight&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-y"])):t.scrollWidth>t.clientWidth&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-x"])))}var na,Vr=[];function Kw(t){na=t.keyCode===27}function Zw(){na===!0&&(na=!1)}function Qw(t){na===!0&&(na=!1,Fn(t,27)===!0&&Vr[Vr.length-1](t))}function Fy(t){window[t]("keydown",Kw),window[t]("blur",Zw),window[t]("keyup",Qw),na=!1}function Ay(t){je.is.desktop===!0&&(Vr.push(t),Vr.length===1&&Fy("addEventListener"))}function Nl(t){const e=Vr.indexOf(t);e!==-1&&(Vr.splice(e,1),Vr.length===0&&Fy("removeEventListener"))}var $r=[];function Oy(t){$r[$r.length-1](t)}function Dy(t){je.is.desktop===!0&&($r.push(t),$r.length===1&&document.body.addEventListener("focusin",Oy))}function xh(t){const e=$r.indexOf(t);e!==-1&&($r.splice(e,1),$r.length===0&&document.body.removeEventListener("focusin",Oy))}var Wg,Yg,{notPassiveCapture:jl}=_t,Nr=[];function Hl(t){const e=t.target;if(e===void 0||e.nodeType===8||e.classList.contains("no-pointer-events")===!0)return;let n=Do.length-1;for(;n>=0;){const i=Do[n].$;if(i.type.name!=="QTooltip"){if(i.type.name!=="QDialog")break;if(i.props.seamless!==!0)return;n--}else n--}for(let i=Nr.length-1;i>=0;i--){const r=Nr[i];if(r.anchorEl.value!==null&&r.anchorEl.value.contains(e)!==!1||e!==document.body&&(r.innerRef.value===null||r.innerRef.value.contains(e)!==!1))return;t.qClickOutside=!0,r.onClickOutside(t)}}function zy(t){Nr.push(t),Nr.length===1&&(document.addEventListener("mousedown",Hl,jl),document.addEventListener("touchstart",Hl,jl))}function Gl(t){const e=Nr.findIndex(n=>n===t);e!==-1&&(Nr.splice(e,1),Nr.length===0&&(document.removeEventListener("mousedown",Hl,jl),document.removeEventListener("touchstart",Hl,jl)))}function Wl(t){const e=t.split(" ");return e.length===2&&(["top","center","bottom"].includes(e[0])!==!0?!1:["left","middle","right","start","end"].includes(e[1])===!0||!1)}function By(t){return!t||t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}var wh={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};function Yl(t,e){const n=t.split(" ");return{vertical:n[0],horizontal:wh[`${n[1]}#${e===!0?"rtl":"ltr"}`]}}function Xg(t,e,n,i){return{top:t[n.vertical]-e[i.vertical],left:t[n.horizontal]-e[i.horizontal]}}function Ip(t,e=0){if(t.targetEl===null||t.anchorEl===null||e>5)return;if(t.targetEl.offsetHeight===0||t.targetEl.offsetWidth===0)return void setTimeout(()=>{Ip(t,e+1)},10);const{targetEl:n,offset:i,anchorEl:r,anchorOrigin:o,selfOrigin:a,absoluteOffset:s,fit:l,cover:c,maxHeight:u,maxWidth:d}=t;if(je.is.ios===!0&&window.visualViewport!==void 0){const L=document.body.style,{offsetLeft:z,offsetTop:I}=window.visualViewport;z!==Wg&&(L.setProperty("--q-pe-left",z+"px"),Wg=z),I!==Yg&&(L.setProperty("--q-pe-top",I+"px"),Yg=I)}const{scrollLeft:h,scrollTop:p}=n,f=s===void 0?function(L,z){let{top:I,left:R,right:P,bottom:q,width:k,height:M}=L.getBoundingClientRect();return z!==void 0&&(I-=z[1],R-=z[0],q+=z[1],P+=z[0],k+=z[0],M+=z[1]),{top:I,bottom:q,height:M,left:R,right:P,width:k,middle:R+(P-R)/2,center:I+(q-I)/2}}(r,c===!0?[0,0]:i):function(L,z,I){let{top:R,left:P}=L.getBoundingClientRect();return R+=z.top,P+=z.left,I!==void 0&&(R+=I[1],P+=I[0]),{top:R,bottom:R+1,height:1,left:P,right:P+1,width:1,middle:P,center:R}}(r,s,i);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:d,maxHeight:u,visibility:"visible"});const{offsetWidth:v,offsetHeight:w}=n,{elWidth:b,elHeight:x}=l===!0||c===!0?{elWidth:Math.max(f.width,v),elHeight:c===!0?Math.max(f.height,w):w}:{elWidth:v,elHeight:w};let g={maxWidth:d,maxHeight:u};l!==!0&&c!==!0||(g.minWidth=f.width+"px",c===!0&&(g.minHeight=f.height+"px")),Object.assign(n.style,g);const _={top:0,center:(C=x)/2,bottom:C,left:0,middle:(S=b)/2,right:S};var S,C;let T=Xg(f,_,o,a);if(s===void 0||i===void 0)mc(T,f,_,o,a);else{const{top:L,left:z}=T;mc(T,f,_,o,a);let I=!1;if(T.top!==L){I=!0;const R=2*i[1];f.center=f.top-=R,f.bottom-=R+2}if(T.left!==z){I=!0;const R=2*i[0];f.middle=f.left-=R,f.right-=R+2}I===!0&&(T=Xg(f,_,o,a),mc(T,f,_,o,a))}g={top:T.top+"px",left:T.left+"px"},T.maxHeight!==void 0&&(g.maxHeight=T.maxHeight+"px",f.height>T.maxHeight&&(g.minHeight=g.maxHeight)),T.maxWidth!==void 0&&(g.maxWidth=T.maxWidth+"px",f.width>T.maxWidth&&(g.minWidth=g.maxWidth)),Object.assign(n.style,g),n.scrollTop!==p&&(n.scrollTop=p),n.scrollLeft!==h&&(n.scrollLeft=h)}function mc(t,e,n,i,r){const o=n.bottom,a=n.right,s=yl(),l=window.innerHeight-s,c=document.body.clientWidth;if(t.top<0||t.top+o>l)if(r.vertical==="center")t.top=e[i.vertical]>l/2?Math.max(0,l-o):0,t.maxHeight=Math.min(o,l);else if(e[i.vertical]>l/2){const u=Math.min(l,i.vertical==="center"?e.center:i.vertical===r.vertical?e.bottom:e.top);t.maxHeight=Math.min(o,u),t.top=Math.max(0,u-o)}else t.top=Math.max(0,i.vertical==="center"?e.center:i.vertical===r.vertical?e.top:e.bottom),t.maxHeight=Math.min(o,l-t.top);if(t.left<0||t.left+a>c)if(t.maxWidth=Math.min(a,c),r.horizontal==="middle")t.left=e[i.horizontal]>c/2?Math.max(0,c-a):0;else if(e[i.horizontal]>c/2){const u=Math.min(c,i.horizontal==="middle"?e.middle:i.horizontal===r.horizontal?e.right:e.left);t.maxWidth=Math.min(a,u),t.left=Math.max(0,u-t.maxWidth)}else t.left=Math.max(0,i.horizontal==="middle"?e.middle:i.horizontal===r.horizontal?e.left:e.right),t.maxWidth=Math.min(a,c-t.left)}["left","middle","right"].forEach(t=>{wh[`${t}#ltr`]=t,wh[`${t}#rtl`]=t});var yc,xs=ae({name:"QMenu",inheritAttrs:!1,props:{...Ey,...ua,...Ue,...Br,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Wl},self:{type:String,validator:Wl},offset:{type:Array,validator:By},scrollTarget:eo,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...ca,"click","escapeKey"],setup(t,{slots:e,emit:n,attrs:i}){let r,o,a,s=null;const l=we(),{proxy:c}=l,{$q:u}=c,d=$(null),h=$(!1),p=y(()=>t.persistent!==!0&&t.noRouteDismiss!==!0),f=Ke(t,u),{registerTick:v,removeTick:w}=zo(),{registerTimeout:b}=qi(),{transitionProps:x,transitionStyle:g}=bu(t),{localScrollTarget:_,changeScrollEvent:S,unconfigureScrollTarget:C}=My(t,G),{anchorEl:T,canShow:L}=Mp({showing:h}),{hide:z}=da({showing:h,canShow:L,handleShow:function(A){if(s=t.noRefocus===!1?document.activeElement:null,Dy(oe),I(),G(),r=void 0,A!==void 0&&(t.touchPosition||t.contextMenu)){const D=pn(A);if(D.left!==void 0){const{top:K,left:W}=T.value.getBoundingClientRect();r={left:D.left-W,top:D.top-K}}}o===void 0&&(o=re(()=>u.screen.width+"|"+u.screen.height+"|"+t.self+"|"+t.anchor+"|"+u.lang.rtl,H)),t.noFocus!==!0&&document.activeElement.blur(),v(()=>{H(),t.noFocus!==!0&&V()}),b(()=>{u.platform.is.ios===!0&&(a=t.autoClose,d.value.click()),H(),I(!0),n("show",A)},t.transitionDuration)},handleHide:function(A){w(),R(),B(!0),s===null||A!==void 0&&A.qClickOutside===!0||(((A&&A.type.indexOf("key")===0?s.closest('[tabindex]:not([tabindex^="-"])'):void 0)||s).focus(),s=null),b(()=>{R(!0),n("hide",A)},t.transitionDuration)},hideOnRouteChange:p,processOnMount:!0}),{showPortal:I,hidePortal:R,renderPortal:P}=qp(l,d,function(){return m($t,x.value,()=>h.value===!0?m("div",{role:"menu",...i,ref:d,tabindex:-1,class:["q-menu q-position-engine scroll"+E.value,i.class],style:[i.style,g.value],...O.value},Me(e.default)):null)},"menu"),q={anchorEl:T,innerRef:d,onClickOutside(A){if(t.persistent!==!0&&h.value===!0)return z(A),(A.type==="touchstart"||A.target.classList.contains("q-dialog__backdrop"))&&$e(A),!0}},k=y(()=>Yl(t.anchor||(t.cover===!0?"center middle":"bottom start"),u.lang.rtl)),M=y(()=>t.cover===!0?k.value:Yl(t.self||"top start",u.lang.rtl)),E=y(()=>(t.square===!0?" q-menu--square":"")+(f.value===!0?" q-menu--dark q-dark":"")),O=y(()=>t.autoClose===!0?{onClick:J}:{}),j=y(()=>h.value===!0&&t.persistent!==!0);function V(){ha(()=>{let A=d.value;A&&A.contains(document.activeElement)!==!0&&(A=A.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||A.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||A.querySelector("[autofocus], [data-autofocus]")||A,A.focus({preventScroll:!0}))})}function B(A){r=void 0,o!==void 0&&(o(),o=void 0),A!==!0&&h.value!==!0||(xh(oe),C(),Gl(q),Nl(te)),A!==!0&&(s=null)}function G(){T.value===null&&t.scrollTarget===void 0||(_.value=ci(T.value,t.scrollTarget),S(_.value,H))}function J(A){a!==!0?(Iy(c,A),n("click",A)):a=!1}function oe(A){j.value===!0&&t.noFocus!==!0&&xy(d.value,A.target)!==!0&&V()}function te(A){n("escapeKey"),z(A)}function H(){Ip({targetEl:d.value,offset:t.offset,anchorEl:T.value,anchorOrigin:k.value,selfOrigin:M.value,absoluteOffset:r,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}return re(j,A=>{A===!0?(Ay(te),zy(q)):(Nl(te),Gl(q))}),He(B),Object.assign(c,{focus:V,updatePosition:H}),P}}),Js=0,Xt=new Array(256);for(let t=0;t<256;t++)Xt[t]=(t+256).toString(16).substring(1);var Jw=(()=>{const t=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(t!==void 0){if(t.randomBytes!==void 0)return t.randomBytes;if(t.getRandomValues!==void 0)return e=>{const n=new Uint8Array(e);return t.getRandomValues(n),n}}return e=>{const n=[];for(let i=e;i>0;i--)n.push(Math.floor(256*Math.random()));return n}})();function us(){(yc===void 0||Js+16>4096)&&(Js=0,yc=Jw(4096));const t=Array.prototype.slice.call(yc,Js,Js+=16);return t[6]=15&t[6]|64,t[8]=63&t[8]|128,Xt[t[0]]+Xt[t[1]]+Xt[t[2]]+Xt[t[3]]+"-"+Xt[t[4]]+Xt[t[5]]+"-"+Xt[t[6]]+Xt[t[7]]+"-"+Xt[t[8]]+Xt[t[9]]+"-"+Xt[t[10]]+Xt[t[11]]+Xt[t[12]]+Xt[t[13]]+Xt[t[14]]+Xt[t[15]]}function Ug(t,e){return t??(e===!0?`f_${us()}`:null)}function wu({getValue:t,required:e=!0}={}){if(Rn.value===!0){const i=$(t!==void 0?(n=t())==null?null:n:null);return e===!0&&i.value===null&&xt(()=>{i.value=`f_${us()}`}),t!==void 0&&re(t,r=>{i.value=Ug(r,e)}),i}var n;return t!==void 0?y(()=>Ug(t(),e)):$(`f_${us()}`)}var eS=Object.keys(Ep),tS=ae({name:"QBtnDropdown",props:{...Ep,...Br,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(t,{slots:e,emit:n}){const{proxy:i}=we(),r=$(t.modelValue),o=$(null),a=wu(),s=y(()=>{const g={"aria-expanded":r.value===!0?"true":"false","aria-haspopup":"true","aria-controls":a.value,"aria-label":t.toggleAriaLabel||i.$q.lang.label[r.value===!0?"collapse":"expand"](t.label)};return(t.disable===!0||t.split===!1&&t.disableMainBtn===!0||t.disableDropdown===!0)&&(g["aria-disabled"]="true"),g}),l=y(()=>"q-btn-dropdown__arrow"+(r.value===!0&&t.noIconAnimation===!1?" rotate-180":"")+(t.split===!1?" q-btn-dropdown__arrow-container":"")),c=y(()=>Cy(t)),u=y(()=>function(g){return eS.reduce((_,S)=>{const C=g[S];return C!==void 0&&(_[S]=C),_},{})}(t));function d(g){r.value=!0,n("beforeShow",g)}function h(g){n("show",g),n("update:modelValue",!0)}function p(g){r.value=!1,n("beforeHide",g)}function f(g){n("hide",g),n("update:modelValue",!1)}function v(g){n("click",g)}function w(g){kt(g),x(),n("click",g)}function b(g){o.value!==null&&o.value.show(g)}function x(g){o.value!==null&&o.value.hide(g)}return re(()=>t.modelValue,g=>{o.value!==null&&o.value[g?"show":"hide"]()}),re(()=>t.split,x),Object.assign(i,{show:b,hide:x,toggle:function(g){o.value!==null&&o.value.toggle(g)}}),xt(()=>{t.modelValue===!0&&b()}),()=>{const g=[m(et,{class:l.value,name:t.dropdownIcon||i.$q.iconSet.arrow.dropdown})];return t.disableDropdown!==!0&&g.push(m(xs,{ref:o,id:a.value,class:t.contentClass,style:t.contentStyle,cover:t.cover,fit:!0,persistent:t.persistent,noRouteDismiss:t.noRouteDismiss,autoClose:t.autoClose,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,separateClosePopup:!0,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,onBeforeShow:d,onShow:h,onBeforeHide:p,onHide:f},e.default)),t.split===!1?m(it,{class:"q-btn-dropdown q-btn-dropdown--simple",...u.value,...s.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:v},{default:()=>Me(e.label,[]).concat(g),loading:e.loading}):m(ky,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:t.rounded,square:t.square,...c.value,glossy:t.glossy,stretch:t.stretch},()=>[m(it,{class:"q-btn-dropdown--current",...u.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:w},{default:e.label,loading:e.loading}),m(it,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...s.value,...c.value,disable:t.disable===!0||t.disableDropdown===!0,rounded:t.rounded,color:t.color,textColor:t.textColor,dense:t.dense,size:t.size,padding:t.padding,ripple:t.ripple},()=>g)])}}}),Dn={name:String};function ws(t){return y(()=>({type:"hidden",name:t.name,value:t.modelValue}))}function ur(t={}){return(e,n,i)=>{e[n](m("input",{class:"hidden"+(i||""),...t.value}))}}function Pp(t){return y(()=>t.name||t.for)}ae({name:"QBtnToggle",props:{...Dn,modelValue:{required:!0},options:{type:Array,required:!0,validator:t=>t.every(e=>("label"in e||"icon"in e||"slot"in e)&&"value"in e)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(t,{slots:e,emit:n}){const i=y(()=>t.options.find(u=>u.value===t.modelValue)!==void 0),r=ur(y(()=>({type:"hidden",name:t.name,value:t.modelValue}))),o=y(()=>Cy(t)),a=y(()=>({rounded:t.rounded,dense:t.dense,...o.value})),s=y(()=>t.options.map((u,d)=>{const{attrs:h,value:p,slot:f,...v}=u;return{slot:f,props:{key:d,"aria-pressed":p===t.modelValue?"true":"false",...h,...v,...a.value,disable:t.disable===!0||v.disable===!0,color:p===t.modelValue?l(v,"toggleColor"):l(v,"color"),textColor:p===t.modelValue?l(v,"toggleTextColor"):l(v,"textColor"),noCaps:l(v,"noCaps")===!0,noWrap:l(v,"noWrap")===!0,size:l(v,"size"),padding:l(v,"padding"),ripple:l(v,"ripple"),stack:l(v,"stack")===!0,stretch:l(v,"stretch")===!0,onClick(w){(function(b,x,g){t.readonly!==!0&&(t.modelValue===b?t.clearable===!0&&(n("update:modelValue",null,null),n("clear")):n("update:modelValue",b,x),n("click",g))})(p,u,w)}}}}));function l(u,d){return u[d]===void 0?t[d]:u[d]}function c(){const u=s.value.map(d=>m(it,d.props,d.slot!==void 0?e[d.slot]:void 0));return t.name!==void 0&&t.disable!==!0&&i.value===!0&&r(u,"push"),qt(e.default,u)}return()=>m(ky,{class:"q-btn-toggle",...o.value,rounded:t.rounded,stretch:t.stretch,glossy:t.glossy,spread:t.spread},c)}});var Vy=ae({name:"QCard",props:{...Ue,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=we(),i=Ke(t,n),r=y(()=>"q-card"+(i.value===!0?" q-card--dark q-dark":"")+(t.bordered===!0?" q-card--bordered":"")+(t.square===!0?" q-card--square no-border-radius":"")+(t.flat===!0?" q-card--flat no-shadow":""));return()=>m(t.tag,{class:r.value},Me(e.default))}}),xr=ae({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(t,{slots:e}){const n=y(()=>"q-card__section q-card__section--"+(t.horizontal===!0?"horiz row no-wrap":"vert"));return()=>m(t.tag,{class:n.value},Me(e.default))}}),nS=ae({name:"QCardActions",props:{...wp,vertical:Boolean},setup(t,{slots:e}){const n=Sp(t),i=y(()=>`q-card__actions ${n.value} q-card__actions--${t.vertical===!0?"vert column":"horiz row"}`);return()=>m("div",{class:i.value},Me(e.default))}}),Rp={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},iS=Object.keys(Rp);function Xl(t){const e={};for(const n of iS)t[n]===!0&&(e[n]=!0);return Object.keys(e).length===0?Rp:(e.horizontal===!0?e.left=e.right=!0:e.left===!0&&e.right===!0&&(e.horizontal=!0),e.vertical===!0?e.up=e.down=!0:e.up===!0&&e.down===!0&&(e.vertical=!0),e.horizontal===!0&&e.vertical===!0&&(e.all=!0),e)}Rp.all=!0;var rS=["INPUT","TEXTAREA"];function Ul(t,e){return e.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof e.handler=="function"&&rS.includes(t.target.nodeName.toUpperCase())===!1&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(e.uid)===-1)}function oS(t){const e=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((n,i)=>{const r=parseFloat(n);r&&(e[i]=r)}),e}var aS=Un({name:"touch-swipe",beforeMount(t,{value:e,arg:n,modifiers:i}){if(i.mouse!==!0&&je.has.touch!==!0)return;const r=i.mouseCapture===!0?"Capture":"",o={handler:e,sensitivity:oS(n),direction:Xl(i),noop:zt,mouseStart(a){Ul(a,o)&&mu(a)&&(Lt(o,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(a,!0))},touchStart(a){if(Ul(a,o)){const s=a.target;Lt(o,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),o.start(a)}},start(a,s){je.is.firefox===!0&&Ao(t,!0);const l=pn(a);o.event={x:l.left,y:l.top,time:Date.now(),mouse:s===!0,dir:!1}},move(a){if(o.event===void 0)return;if(o.event.dir!==!1)return void $e(a);const s=Date.now()-o.event.time;if(s===0)return;const l=pn(a),c=l.left-o.event.x,u=Math.abs(c),d=l.top-o.event.y,h=Math.abs(d);if(o.event.mouse!==!0){if(u<o.sensitivity[1]&&h<o.sensitivity[1])return void o.end(a)}else{if(window.getSelection().toString()!=="")return void o.end(a);if(u<o.sensitivity[2]&&h<o.sensitivity[2])return}const p=u/s,f=h/s;o.direction.vertical===!0&&u<h&&u<100&&f>o.sensitivity[0]&&(o.event.dir=d<0?"up":"down"),o.direction.horizontal===!0&&u>h&&h<100&&p>o.sensitivity[0]&&(o.event.dir=c<0?"left":"right"),o.direction.up===!0&&u<h&&d<0&&u<100&&f>o.sensitivity[0]&&(o.event.dir="up"),o.direction.down===!0&&u<h&&d>0&&u<100&&f>o.sensitivity[0]&&(o.event.dir="down"),o.direction.left===!0&&u>h&&c<0&&h<100&&p>o.sensitivity[0]&&(o.event.dir="left"),o.direction.right===!0&&u>h&&c>0&&h<100&&p>o.sensitivity[0]&&(o.event.dir="right"),o.event.dir!==!1?($e(a),o.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Kn(),o.styleCleanup=v=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const w=()=>{document.body.classList.remove("no-pointer-events--children")};v===!0?setTimeout(w,50):w()}),o.handler({evt:a,touch:o.event.mouse!==!0,mouse:o.event.mouse,direction:o.event.dir,duration:s,distance:{x:u,y:h}})):o.end(a)},end(a){o.event!==void 0&&(sn(o,"temp"),je.is.firefox===!0&&Ao(t,!1),o.styleCleanup!==void 0&&o.styleCleanup(!0),a!==void 0&&o.event.dir!==!1&&$e(a),o.event=void 0)}};if(t.__qtouchswipe=o,i.mouse===!0){const a=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";Lt(o,"main",[[t,"mousedown","mouseStart",`passive${a}`]])}je.has.touch===!0&&Lt(o,"main",[[t,"touchstart","touchStart","passive"+(i.capture===!0?"Capture":"")],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchswipe;n!==void 0&&(e.oldValue!==e.value&&(typeof e.value!="function"&&n.end(),n.handler=e.value),n.direction=Xl(e.modifiers))},beforeUnmount(t){const e=t.__qtouchswipe;e!==void 0&&(sn(e,"main"),sn(e,"temp"),je.is.firefox===!0&&Ao(t,!1),e.styleCleanup!==void 0&&e.styleCleanup(),delete t.__qtouchswipe)}});function Ss(){let t=Object.create(null);return{getCache:(e,n)=>t[e]===void 0?t[e]=typeof n=="function"?n():n:t[e],setCache(e,n){t[e]=n},hasCache:e=>Object.hasOwnProperty.call(t,e),clearCache(e){e!==void 0?delete t[e]:t=Object.create(null)}}}var Fp={name:{required:!0},disable:Boolean},Kg={setup:(t,{slots:e})=>()=>m("div",{class:"q-panel scroll",role:"tabpanel"},Me(e.default))},Ap={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Op=["update:modelValue","beforeTransition","transition"];function Dp(){const{props:t,emit:e,proxy:n}=we(),{getCache:i}=Ss(),{registerTimeout:r}=qi();let o,a;const s=$(null),l=$(null);function c(I){const R=t.vertical===!0?"up":"left";T((n.$q.lang.rtl===!0?-1:1)*(I.direction===R?1:-1))}const u=y(()=>[[aS,c,void 0,{horizontal:t.vertical!==!0,vertical:t.vertical,mouse:!0}]]),d=y(()=>t.transitionPrev||"slide-"+(t.vertical===!0?"down":"right")),h=y(()=>t.transitionNext||"slide-"+(t.vertical===!0?"up":"left")),p=y(()=>`--q-transition-duration: ${t.transitionDuration}ms`),f=y(()=>typeof t.modelValue=="string"||typeof t.modelValue=="number"?t.modelValue:String(t.modelValue)),v=y(()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax})),w=y(()=>t.keepAliveInclude!==void 0||t.keepAliveExclude!==void 0);function b(){T(1)}function x(){T(-1)}function g(I){e("update:modelValue",I)}function _(I){return I!=null&&I!==""}function S(I){return o.findIndex(R=>R.props.name===I&&R.props.disable!==""&&R.props.disable!==!0)}function C(I){const R=I!==0&&t.animated===!0&&s.value!==-1?"q-transition--"+(I===-1?d.value:h.value):null;l.value!==R&&(l.value=R)}function T(I,R=s.value){let P=R+I;for(;P!==-1&&P<o.length;){const q=o[P];if(q!==void 0&&q.props.disable!==""&&q.props.disable!==!0)return C(I),a=!0,e("update:modelValue",q.props.name),void setTimeout(()=>{a=!1});P+=I}t.infinite===!0&&o.length!==0&&R!==-1&&R!==o.length&&T(I,I===-1?o.length:-1)}function L(){const I=S(t.modelValue);return s.value!==I&&(s.value=I),!0}function z(){const I=_(t.modelValue)===!0&&L()&&o[s.value];return t.keepAlive===!0?[m(dm,v.value,[m(w.value===!0?i(f.value,()=>({...Kg,name:f.value})):Kg,{key:f.value,style:p.value},()=>I)])]:[m("div",{class:"q-panel scroll",style:p.value,key:f.value,role:"tabpanel"},[I])]}return re(()=>t.modelValue,(I,R)=>{const P=_(I)===!0?S(I):-1;a!==!0&&C(P===-1?0:P<S(R)?-1:1),s.value!==P&&(s.value=P,e("beforeTransition",I,R),r(()=>{e("transition",I,R)},t.transitionDuration))}),Object.assign(n,{next:b,previous:x,goTo:g}),{panelIndex:s,panelDirectives:u,updatePanelsList:function(I){return o=Cp(Me(I.default,[])).filter(R=>R.props!==null&&R.props.slot===void 0&&_(R.props.name)===!0),o.length},updatePanelIndex:L,getPanelContent:function(){if(o.length!==0)return t.animated===!0?[m($t,{name:l.value},z)]:z()},getEnabledPanels:function(){return o.filter(I=>I.props.disable!==""&&I.props.disable!==!0)},getPanels:function(){return o},isValidPanelName:_,keepAliveProps:v,needsUniqueKeepAliveWrapper:w,goToPanelByOffset:T,goToPanel:g,nextPanel:b,previousPanel:x}}var _c=0,zp={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Bp=["update:fullscreen","fullscreen"];function Vp(){const t=we(),{props:e,emit:n,proxy:i}=t;let r,o;const a=$(!1);function s(){a.value===!0?c():l()}function l(){a.value!==!0&&(a.value=!0,o=i.$el.parentNode,o.replaceChild(r,i.$el),document.body.appendChild(i.$el),++_c===1&&document.body.classList.add("q-body--fullscreen-mixin"))}function c(){a.value===!0&&(o.replaceChild(i.$el,r),a.value=!1,(_c=Math.max(0,_c-1))===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),i.$el.scrollIntoView!==void 0&&setTimeout(()=>{i.$el.scrollIntoView()})))}return kp(t)===!0&&re(()=>i.$route.fullPath,()=>{e.noRouteFullscreenExit!==!0&&c()}),re(()=>e.fullscreen,u=>{a.value!==u&&s()}),re(a,u=>{n("update:fullscreen",u),n("fullscreen",u)}),Ph(()=>{r=document.createElement("span")}),xt(()=>{e.fullscreen===!0&&l()}),He(c),Object.assign(i,{toggleFullscreen:s,setFullscreen:l,exitFullscreen:c}),{inFullscreen:a,toggleFullscreen:s}}var sS=["top","right","bottom","left"],lS=["regular","flat","outline","push","unelevated"];function $y(t,e){const n=$(null);return{refocusTargetEl:y(()=>t.disable===!0?null:m("span",{ref:n,class:"no-outline",tabindex:-1})),refocusTarget:function(i){const r=e.value;i!==void 0&&i.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():n.value!==null&&(i===void 0||r!==null&&r.contains(i.target)===!0)&&n.value.focus()}}}ae({name:"QCarousel",props:{...Ue,...Ap,...zp,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:t=>lS.includes(t),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:t=>sS.includes(t)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Bp,...Op],setup(t,{slots:e}){const{proxy:{$q:n}}=we(),i=Ke(t,n);let r,o=null;const{updatePanelsList:a,getPanelContent:s,panelDirectives:l,goToPanel:c,previousPanel:u,nextPanel:d,getEnabledPanels:h,panelIndex:p}=Dp(),{inFullscreen:f}=Vp(),v=y(()=>f.value!==!0&&t.height!==void 0?{height:t.height}:{}),w=y(()=>t.vertical===!0?"vertical":"horizontal"),b=y(()=>t.navigationPosition||(t.vertical===!0?"right":"bottom")),x=y(()=>`q-carousel q-panel-parent q-carousel--with${t.padding===!0?"":"out"}-padding`+(f.value===!0?" fullscreen":"")+(i.value===!0?" q-carousel--dark q-dark":"")+(t.arrows===!0?` q-carousel--arrows-${w.value}`:"")+(t.navigation===!0?` q-carousel--navigation-${b.value}`:"")),g=y(()=>{const z=[t.prevIcon||n.iconSet.carousel[t.vertical===!0?"up":"left"],t.nextIcon||n.iconSet.carousel[t.vertical===!0?"down":"right"]];return t.vertical===!1&&n.lang.rtl===!0?z.reverse():z}),_=y(()=>t.navigationIcon||n.iconSet.carousel.navigationIcon),S=y(()=>t.navigationActiveIcon||_.value),C=y(()=>({color:t.controlColor,textColor:t.controlTextColor,round:!0,[t.controlType]:!0,dense:!0}));function T(){const z=ss(t.autoplay)===!0?Math.abs(t.autoplay):5e3;o!==null&&clearTimeout(o),o=setTimeout(()=>{o=null,z>=0?d():u()},z)}function L(z,I){return m("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${z} q-carousel__navigation--${b.value}`+(t.controlColor!==void 0?` text-${t.controlColor}`:"")},[m("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},h().map(I))])}return re(()=>t.modelValue,()=>{t.autoplay&&T()}),re(()=>t.autoplay,z=>{z?T():o!==null&&(clearTimeout(o),o=null)}),xt(()=>{t.autoplay&&T()}),He(()=>{o!==null&&clearTimeout(o)}),()=>(r=a(e),m("div",{class:x.value,style:v.value},[An("div",{class:"q-carousel__slides-container"},s(),"sl-cont",t.swipeable,()=>l.value)].concat(function(){const z=[];if(t.navigation===!0){const I=e["navigation-icon"]!==void 0?e["navigation-icon"]:P=>m(it,{key:"nav"+P.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${P.active===!0?"":"in"}active`,...P.btnProps,onClick:P.onClick}),R=r-1;z.push(L("buttons",(P,q)=>{const k=P.props.name,M=p.value===q;return I({index:q,maxIndex:R,name:k,active:M,btnProps:{icon:M===!0?S.value:_.value,size:"sm",...C.value},onClick:()=>{c(k)}})}))}else if(t.thumbnails===!0){const I=t.controlColor!==void 0?` text-${t.controlColor}`:"";z.push(L("thumbnails",R=>{const P=R.props;return m("img",{key:"tmb#"+P.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${P.name===t.modelValue?"":"in"}active`+I,src:P.imgSrc||P["img-src"],onClick:()=>{c(P.name)}})}))}return t.arrows===!0&&p.value>=0&&((t.infinite===!0||p.value>0)&&z.push(m("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${w.value} absolute flex flex-center`},[m(it,{icon:g.value[0],...C.value,onClick:u})])),(t.infinite===!0||p.value<r-1)&&z.push(m("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${w.value} absolute flex flex-center`},[m(it,{icon:g.value[1],...C.value,onClick:d})]))),qt(e.control,z)}())))}}),ae({name:"QCarouselSlide",props:{...Fp,imgSrc:String},setup(t,{slots:e}){const n=y(()=>t.imgSrc?{backgroundImage:`url("${t.imgSrc}")`}:{});return()=>m("div",{class:"q-carousel__slide",style:n.value},Me(e.default))}}),ae({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:t=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(t)},offset:{type:Array,default:()=>[18,18],validator:t=>t.length===2}},setup(t,{slots:e}){const n=y(()=>`q-carousel__control absolute absolute-${t.position}`),i=y(()=>({margin:`${t.offset[1]}px ${t.offset[0]}px`}));return()=>m("div",{class:n.value,style:i.value},Me(e.default))}}),ae({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(t,{slots:e}){const n=y(()=>t.sent===!0?"sent":"received"),i=y(()=>`q-message-text-content q-message-text-content--${n.value}`+(t.textColor!==void 0?` text-${t.textColor}`:"")),r=y(()=>`q-message-text q-message-text--${n.value}`+(t.bgColor!==void 0?` text-${t.bgColor}`:"")),o=y(()=>"q-message-container row items-end no-wrap"+(t.sent===!0?" reverse":"")),a=y(()=>t.size!==void 0?`col-${t.size}`:""),s=y(()=>({msg:t.textHtml===!0?"innerHTML":"textContent",stamp:t.stampHtml===!0?"innerHTML":"textContent",name:t.nameHtml===!0?"innerHTML":"textContent",label:t.labelHtml===!0?"innerHTML":"textContent"}));function l(c,u){const d=u===!0?c.length>1?h=>h:h=>m("div",[h]):h=>m("div",{[s.value.msg]:h});return c.map((h,p)=>{return m("div",{key:p,class:r.value},[m("div",{class:i.value},(f=d(h),e.stamp!==void 0?[f,m("div",{class:"q-message-stamp"},e.stamp())]:t.stamp?[f,m("div",{class:"q-message-stamp",[s.value.stamp]:t.stamp})]:[f]))]);var f})}return()=>{const c=[];e.avatar!==void 0?c.push(e.avatar()):t.avatar!==void 0&&c.push(m("img",{class:`q-message-avatar q-message-avatar--${n.value}`,src:t.avatar,"aria-hidden":"true"}));const u=[];e.name!==void 0?u.push(m("div",{class:`q-message-name q-message-name--${n.value}`},e.name())):t.name!==void 0&&u.push(m("div",{class:`q-message-name q-message-name--${n.value}`,[s.value.name]:t.name})),e.default!==void 0?u.push(l(Cp(e.default()),!0)):t.text!==void 0&&u.push(l(t.text)),c.push(m("div",{class:a.value},u));const d=[];return e.label!==void 0?d.push(m("div",{class:"q-message-label"},e.label())):t.label!==void 0&&d.push(m("div",{class:"q-message-label",[s.value.label]:t.label})),d.push(m("div",{class:o.value},c)),m("div",{class:`q-message q-message-${n.value}`},d)}}});var Ny={xs:30,sm:35,md:40,lg:50,xl:60},jy={...Ue,...Fi,...Dn,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Hy=["update:modelValue"];function Gy(t,e){const{props:n,slots:i,emit:r,proxy:o}=we(),{$q:a}=o,s=Ke(n,a),l=$(null),{refocusTargetEl:c,refocusTarget:u}=$y(n,l),d=Ai(n,Ny),h=y(()=>n.val!==void 0&&Array.isArray(n.modelValue)),p=y(()=>{const I=bi(n.val);return h.value===!0?n.modelValue.findIndex(R=>bi(R)===I):-1}),f=y(()=>h.value===!0?p.value!==-1:bi(n.modelValue)===bi(n.trueValue)),v=y(()=>h.value===!0?p.value===-1:bi(n.modelValue)===bi(n.falseValue)),w=y(()=>f.value===!1&&v.value===!1),b=y(()=>n.disable===!0?-1:n.tabindex||0),x=y(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(s.value===!0?` q-${t}--dark`:"")+(n.dense===!0?` q-${t}--dense`:"")+(n.leftLabel===!0?" reverse":"")),g=y(()=>{const I=f.value===!0?"truthy":v.value===!0?"falsy":"indet",R=n.color===void 0||n.keepColor!==!0&&(t==="toggle"?f.value!==!0:v.value===!0)?"":` text-${n.color}`;return`q-${t}__inner relative-position non-selectable q-${t}__inner--${I}${R}`}),_=ur(y(()=>{const I={type:"checkbox"};return n.name!==void 0&&Object.assign(I,{".checked":f.value,"^checked":f.value===!0?"checked":void 0,name:n.name,value:h.value===!0?n.val:n.trueValue}),I})),S=y(()=>{const I={tabindex:b.value,role:t==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":w.value===!0?"mixed":f.value===!0?"true":"false"};return n.disable===!0&&(I["aria-disabled"]="true"),I});function C(I){I!==void 0&&($e(I),u(I)),n.disable!==!0&&r("update:modelValue",function(){if(h.value===!0){if(f.value===!0){const R=n.modelValue.slice();return R.splice(p.value,1),R}return n.modelValue.concat([n.val])}if(f.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else{if(v.value!==!0)return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}return n.indeterminateValue}(),I)}function T(I){I.keyCode!==13&&I.keyCode!==32||$e(I)}function L(I){I.keyCode!==13&&I.keyCode!==32||C(I)}const z=e(f,w);return Object.assign(o,{toggle:C}),()=>{const I=z();n.disable!==!0&&_(I,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const R=[m("div",{class:g.value,style:d.value,"aria-hidden":"true"},I)];c.value!==null&&R.push(c.value);const P=n.label!==void 0?qt(i.default,[n.label]):Me(i.default);return P!==void 0&&R.push(m("div",{class:`q-${t}__label q-anchor--skip`},P)),m("div",{ref:l,class:x.value,...S.value,onClick:C,onKeydown:T,onKeyup:L},R)}}var Na=ae({name:"QCheckbox",props:jy,emits:Hy,setup(t){const e=m("div",{key:"svg",class:"q-checkbox__bg absolute"},[m("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[m("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),m("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);return Gy("checkbox",function(n,i){const r=y(()=>(n.value===!0?t.checkedIcon:i.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>r.value!==null?[m("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[m(et,{class:"q-checkbox__icon",name:r.value})])]:[e]})}}),uS={xs:8,sm:10,md:14,lg:20,xl:24},Wy=ae({name:"QChip",props:{...Ue,...Fi,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=we(),r=Ke(t,i),o=Ai(t,uS),a=y(()=>t.selected===!0||t.icon!==void 0),s=y(()=>t.selected===!0?t.iconSelected||i.iconSet.chip.selected:t.icon),l=y(()=>t.iconRemove||i.iconSet.chip.remove),c=y(()=>t.disable===!1&&(t.clickable===!0||t.selected!==null)),u=y(()=>{const v=t.outline===!0&&t.color||t.textColor;return"q-chip row inline no-wrap items-center"+(t.outline===!1&&t.color!==void 0?` bg-${t.color}`:"")+(v?` text-${v} q-chip--colored`:"")+(t.disable===!0?" disabled":"")+(t.dense===!0?" q-chip--dense":"")+(t.outline===!0?" q-chip--outline":"")+(t.selected===!0?" q-chip--selected":"")+(c.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(t.square===!0?" q-chip--square":"")+(r.value===!0?" q-chip--dark q-dark":"")}),d=y(()=>{const v=t.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0};return{chip:v,remove:{...v,role:"button","aria-hidden":"false","aria-label":t.removeAriaLabel||i.lang.label.remove}}});function h(v){v.keyCode===13&&p(v)}function p(v){t.disable||(n("update:selected",!t.selected),n("click",v))}function f(v){v.keyCode!==void 0&&v.keyCode!==13||($e(v),t.disable===!1&&(n("update:modelValue",!1),n("remove")))}return()=>{if(t.modelValue===!1)return;const v={class:u.value,style:o.value};return c.value===!0&&Object.assign(v,d.value.chip,{onClick:p,onKeyup:h}),An("div",v,function(){const w=[];c.value===!0&&w.push(m("div",{class:"q-focus-helper"})),a.value===!0&&w.push(m(et,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const b=t.label!==void 0?[m("div",{class:"ellipsis"},[t.label])]:void 0;return w.push(m("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},xp(e.default,b))),t.iconRight&&w.push(m(et,{class:"q-chip__icon q-chip__icon--right",name:t.iconRight})),t.removable===!0&&w.push(m(et,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:l.value,...d.value.remove,onClick:f,onKeyup:f})),w}(),"ripple",t.ripple!==!1&&t.disable!==!0,()=>[[_u,t.ripple]])}}}),$p={...Fi,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:t=>t>=0&&t<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Yy=100*Math.PI,cS=Math.round(1e3*Yy)/1e3,Xy=ae({name:"QCircularProgress",props:{...$p,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=we(),i=Ai(t),r=y(()=>{const p=(n.lang.rtl===!0?-1:1)*t.angle;return{transform:t.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-p}deg)`:`rotate3d(0, 0, 1, ${p-90}deg)`}}),o=y(()=>t.instantFeedback!==!0&&t.indeterminate!==!0?{transition:`stroke-dashoffset ${t.animationSpeed}ms ease 0s, stroke ${t.animationSpeed}ms ease`}:""),a=y(()=>100/(1-t.thickness/2)),s=y(()=>`${a.value/2} ${a.value/2} ${a.value} ${a.value}`),l=y(()=>vt(t.value,t.min,t.max)),c=y(()=>t.max-t.min),u=y(()=>t.thickness/2*a.value),d=y(()=>{const p=(t.max-l.value)/c.value,f=t.rounded===!0&&l.value<t.max&&p<.25?u.value/2*(1-p/.25):0;return Yy*p+f});function h({thickness:p,offset:f,color:v,cls:w,rounded:b}){return m("circle",{class:"q-circular-progress__"+w+(v!==void 0?` text-${v}`:""),style:o.value,fill:"transparent",stroke:"currentColor","stroke-width":p,"stroke-dasharray":cS,"stroke-dashoffset":f,"stroke-linecap":b,cx:a.value,cy:a.value,r:50})}return()=>{const p=[];t.centerColor!==void 0&&t.centerColor!=="transparent"&&p.push(m("circle",{class:`q-circular-progress__center text-${t.centerColor}`,fill:"currentColor",r:50-u.value/2,cx:a.value,cy:a.value})),t.trackColor!==void 0&&t.trackColor!=="transparent"&&p.push(h({cls:"track",thickness:u.value,offset:0,color:t.trackColor})),p.push(h({cls:"circle",thickness:u.value,offset:d.value,color:t.color,rounded:t.rounded===!0?"round":void 0}));const f=[m("svg",{class:"q-circular-progress__svg",style:r.value,viewBox:s.value,"aria-hidden":"true"},p)];return t.showValue===!0&&f.push(m("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:t.fontSize}},e.default!==void 0?e.default():[m("div",l.value)])),m("div",{class:`q-circular-progress q-circular-progress--${t.indeterminate===!0?"in":""}determinate`,style:i.value,role:"progressbar","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.indeterminate===!0?void 0:l.value},xp(e.internal,f))}}});function bc(t,e,n){const i=pn(t);let r,o=i.left-e.event.x,a=i.top-e.event.y,s=Math.abs(o),l=Math.abs(a);const c=e.direction;c.horizontal===!0&&c.vertical!==!0?r=o<0?"left":"right":c.horizontal!==!0&&c.vertical===!0?r=a<0?"up":"down":c.up===!0&&a<0?(r="up",s>l&&(c.left===!0&&o<0?r="left":c.right===!0&&o>0&&(r="right"))):c.down===!0&&a>0?(r="down",s>l&&(c.left===!0&&o<0?r="left":c.right===!0&&o>0&&(r="right"))):c.left===!0&&o<0?(r="left",s<l&&(c.up===!0&&a<0?r="up":c.down===!0&&a>0&&(r="down"))):c.right===!0&&o>0&&(r="right",s<l&&(c.up===!0&&a<0?r="up":c.down===!0&&a>0&&(r="down")));let u=!1;if(r===void 0&&n===!1){if(e.event.isFirst===!0||e.event.lastDir===void 0)return{};r=e.event.lastDir,u=!0,r==="left"||r==="right"?(i.left-=o,s=0,o=0):(i.top-=a,l=0,a=0)}return{synthetic:u,payload:{evt:t,touch:e.event.mouse!==!0,mouse:e.event.mouse===!0,position:i,direction:r,isFirst:e.event.isFirst,isFinal:n===!0,duration:Date.now()-e.event.time,distance:{x:s,y:l},offset:{x:o,y:a},delta:{x:i.left-e.event.lastX,y:i.top-e.event.lastY}}}}var dS=0,In=Un({name:"touch-pan",beforeMount(t,{value:e,modifiers:n}){if(n.mouse!==!0&&je.has.touch!==!0)return;function i(o,a){n.mouse===!0&&a===!0?$e(o):(n.stop===!0&&kt(o),n.prevent===!0&&Ht(o))}const r={uid:"qvtp_"+dS++,handler:e,modifiers:n,direction:Xl(n),noop:zt,mouseStart(o){Ul(o,r)&&mu(o)&&(Lt(r,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),r.start(o,!0))},touchStart(o){if(Ul(o,r)){const a=o.target;Lt(r,"temp",[[a,"touchmove","move","notPassiveCapture"],[a,"touchcancel","end","passiveCapture"],[a,"touchend","end","passiveCapture"]]),r.start(o)}},start(o,a){if(je.is.firefox===!0&&Ao(t,!0),r.lastEvt=o,a===!0||n.stop===!0){if(r.direction.all!==!0&&(a!==!0||r.modifiers.mouseAllDir!==!0&&r.modifiers.mousealldir!==!0)){const c=o.type.indexOf("mouse")!==-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&Ht(c),o.cancelBubble===!0&&kt(c),Object.assign(c,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[r.uid]:o.qClonedBy.concat(r.uid)}),r.initialEvent={target:o.target,event:c}}kt(o)}const{left:s,top:l}=pn(o);r.event={x:s,y:l,time:Date.now(),mouse:a===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:l}},move(o){if(r.event===void 0)return;const a=pn(o),s=a.left-r.event.x,l=a.top-r.event.y;if(s===0&&l===0)return;r.lastEvt=o;const c=r.event.mouse===!0,u=()=>{let p;i(o,c),n.preserveCursor!==!0&&n.preservecursor!==!0&&(p=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),c===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Kn(),r.styleCleanup=f=>{if(r.styleCleanup=void 0,p!==void 0&&(document.documentElement.style.cursor=p),document.body.classList.remove("non-selectable"),c===!0){const v=()=>{document.body.classList.remove("no-pointer-events--children")};f!==void 0?setTimeout(()=>{v(),f()},50):v()}else f!==void 0&&f()}};if(r.event.detected===!0){r.event.isFirst!==!0&&i(o,r.event.mouse);const{payload:p,synthetic:f}=bc(o,r,!1);return void(p!==void 0&&(r.handler(p)===!1?r.end(o):(r.styleCleanup===void 0&&r.event.isFirst===!0&&u(),r.event.lastX=p.position.left,r.event.lastY=p.position.top,r.event.lastDir=f===!0?void 0:p.direction,r.event.isFirst=!1)))}if(r.direction.all===!0||c===!0&&(r.modifiers.mouseAllDir===!0||r.modifiers.mousealldir===!0))return u(),r.event.detected=!0,void r.move(o);const d=Math.abs(s),h=Math.abs(l);d!==h&&(r.direction.horizontal===!0&&d>h||r.direction.vertical===!0&&d<h||r.direction.up===!0&&d<h&&l<0||r.direction.down===!0&&d<h&&l>0||r.direction.left===!0&&d>h&&s<0||r.direction.right===!0&&d>h&&s>0?(r.event.detected=!0,r.move(o)):r.end(o,!0))},end(o,a){if(r.event!==void 0){if(sn(r,"temp"),je.is.firefox===!0&&Ao(t,!1),a===!0)r.styleCleanup!==void 0&&r.styleCleanup(),r.event.detected!==!0&&r.initialEvent!==void 0&&r.initialEvent.target.dispatchEvent(r.initialEvent.event);else if(r.event.detected===!0){r.event.isFirst===!0&&r.handler(bc(o===void 0?r.lastEvt:o,r).payload);const{payload:s}=bc(o===void 0?r.lastEvt:o,r,!0),l=()=>{r.handler(s)};r.styleCleanup!==void 0?r.styleCleanup(l):l()}r.event=void 0,r.initialEvent=void 0,r.lastEvt=void 0}}};if(t.__qtouchpan=r,n.mouse===!0){const o=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";Lt(r,"main",[[t,"mousedown","mouseStart",`passive${o}`]])}je.has.touch===!0&&Lt(r,"main",[[t,"touchstart","touchStart","passive"+(n.capture===!0?"Capture":"")],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchpan;n!==void 0&&(e.oldValue!==e.value&&(typeof value!="function"&&n.end(),n.handler=e.value),n.direction=Xl(e.modifiers))},beforeUnmount(t){const e=t.__qtouchpan;e!==void 0&&(e.event!==void 0&&e.end(),sn(e,"main"),sn(e,"temp"),je.is.firefox===!0&&Ao(t,!1),e.styleCleanup!==void 0&&e.styleCleanup(),delete t.__qtouchpan)}}),Zg="q-slider__marker-labels",hS=t=>({value:t}),pS=({marker:t})=>m("div",{key:t.value,style:t.style,class:t.classes},t.label),Np=[34,37,40,33,39,38],Uy={...Ue,...Dn,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Ky=["pan","update:modelValue","change"];function Zy({updateValue:t,updatePosition:e,getDragging:n,formAttrs:i}){const{props:r,emit:o,slots:a,proxy:{$q:s}}=we(),l=Ke(r,s),c=ur(i),u=$(!1),d=$(!1),h=$(!1),p=$(!1),f=y(()=>r.vertical===!0?"--v":"--h"),v=y(()=>"-"+(r.switchLabelSide===!0?"switched":"standard")),w=y(()=>r.vertical===!0?r.reverse===!0:r.reverse!==(s.lang.rtl===!0)),b=y(()=>isNaN(r.innerMin)===!0||r.innerMin<r.min?r.min:r.innerMin),x=y(()=>isNaN(r.innerMax)===!0||r.innerMax>r.max?r.max:r.innerMax),g=y(()=>r.disable!==!0&&r.readonly!==!0&&b.value<x.value),_=y(()=>{if(r.step===0)return ve=>ve;const X=(String(r.step).trim().split(".")[1]||"").length;return ve=>parseFloat(ve.toFixed(X))}),S=y(()=>r.step===0?1:r.step),C=y(()=>g.value===!0?r.tabindex||0:-1),T=y(()=>r.max-r.min),L=y(()=>x.value-b.value),z=y(()=>se(b.value)),I=y(()=>se(x.value)),R=y(()=>r.vertical===!0?w.value===!0?"bottom":"top":w.value===!0?"right":"left"),P=y(()=>r.vertical===!0?"height":"width"),q=y(()=>r.vertical===!0?"width":"height"),k=y(()=>r.vertical===!0?"vertical":"horizontal"),M=y(()=>{const X={role:"slider","aria-valuemin":b.value,"aria-valuemax":x.value,"aria-orientation":k.value,"data-step":r.step};return r.disable===!0?X["aria-disabled"]="true":r.readonly===!0&&(X["aria-readonly"]="true"),X}),E=y(()=>`q-slider q-slider${f.value} q-slider--${u.value===!0?"":"in"}active inline no-wrap `+(r.vertical===!0?"row":"column")+(r.disable===!0?" disabled":" q-slider--enabled"+(g.value===!0?" q-slider--editable":""))+(h.value==="both"?" q-slider--focus":"")+(r.label||r.labelAlways===!0?" q-slider--label":"")+(r.labelAlways===!0?" q-slider--label-always":"")+(l.value===!0?" q-slider--dark":"")+(r.dense===!0?" q-slider--dense q-slider--dense"+f.value:""));function O(X){const ve="q-slider__"+X;return`${ve} ${ve}${f.value} ${ve}${f.value}${v.value}`}function j(X){const ve="q-slider__"+X;return`${ve} ${ve}${f.value}`}const V=y(()=>{const X=r.selectionColor||r.color;return"q-slider__selection absolute"+(X!==void 0?` text-${X}`:"")}),B=y(()=>j("markers")+" absolute overflow-hidden"),G=y(()=>j("track-container")),J=y(()=>O("pin")),oe=y(()=>O("label")),te=y(()=>O("text-container")),H=y(()=>O("marker-labels-container")+(r.markerLabelsClass!==void 0?` ${r.markerLabelsClass}`:"")),A=y(()=>"q-slider__track relative-position no-outline"+(r.trackColor!==void 0?` bg-${r.trackColor}`:"")),D=y(()=>{const X={[q.value]:r.trackSize};return r.trackImg!==void 0&&(X.backgroundImage=`url(${r.trackImg}) !important`),X}),K=y(()=>"q-slider__inner absolute"+(r.innerTrackColor!==void 0?` bg-${r.innerTrackColor}`:"")),W=y(()=>{const X=I.value-z.value,ve={[R.value]:100*z.value+"%",[P.value]:X===0?"2px":100*X+"%"};return r.innerTrackImg!==void 0&&(ve.backgroundImage=`url(${r.innerTrackImg}) !important`),ve});function se(X){return T.value===0?0:(X-r.min)/T.value}const fe=y(()=>ss(r.markers)===!0?r.markers:S.value),le=y(()=>{const X=[],ve=fe.value,Le=r.max;let De=r.min;do X.push(De),De+=ve;while(De<Le);return X.push(Le),X}),pe=y(()=>{const X=` ${Zg}${f.value}-`;return Zg+`${X}${r.switchMarkerLabelsSide===!0?"switched":"standard"}${X}${w.value===!0?"rtl":"ltr"}`}),ce=y(()=>r.markerLabels===!1?null:function(X){if(X===!1)return null;if(X===!0)return le.value.map(hS);if(typeof X=="function")return le.value.map(Le=>{const De=X(Le);return on(De)===!0?{...De,value:Le}:{value:Le,label:De}});const ve=({value:Le})=>Le>=r.min&&Le<=r.max;return Array.isArray(X)===!0?X.map(Le=>on(Le)===!0?Le:{value:Le}).filter(ve):Object.keys(X).map(Le=>{const De=X[Le],Be=Number(Le);return on(De)===!0?{...De,value:Be}:{value:Be,label:De}}).filter(ve)}(r.markerLabels).map((X,ve)=>({index:ve,value:X.value,label:X.label||X.value,classes:pe.value+(X.classes!==void 0?" "+X.classes:""),style:{...he(X.value),...X.style||{}}}))),ke=y(()=>({markerList:ce.value,markerMap:Se.value,classes:pe.value,getStyle:he})),Ce=y(()=>{const X=L.value===0?"2px":100*fe.value/L.value;return{...W.value,backgroundSize:r.vertical===!0?`2px ${X}%`:`${X}% 2px`}});function he(X){return{[R.value]:100*(X-r.min)/T.value+"%"}}const Se=y(()=>{if(r.markerLabels===!1)return null;const X={};return ce.value.forEach(ve=>{X[ve.value]=ve}),X}),Te=y(()=>[[In,ze,void 0,{[k.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function ze(X){X.isFinal===!0?(p.value!==void 0&&(e(X.evt),X.touch===!0&&t(!0),p.value=void 0,o("pan","end")),u.value=!1,h.value=!1):X.isFirst===!0?(p.value=n(X.evt),e(X.evt),t(),u.value=!0,o("pan","start")):(e(X.evt),t())}function ie(){h.value=!1}function me(){d.value=!1,u.value=!1,t(!0),ie(),document.removeEventListener("mouseup",me,!0)}return He(()=>{document.removeEventListener("mouseup",me,!0)}),{state:{active:u,focus:h,preventFocus:d,dragging:p,editable:g,classes:E,tabindex:C,attributes:M,roundValueFn:_,keyStep:S,trackLen:T,innerMin:b,innerMinRatio:z,innerMax:x,innerMaxRatio:I,positionProp:R,sizeProp:P,isReversed:w},methods:{onActivate:function(X){e(X,n(X)),t(),d.value=!0,u.value=!0,document.addEventListener("mouseup",me,!0)},onMobileClick:function(X){e(X,n(X)),t(!0)},onBlur:ie,onKeyup:function(X){Np.includes(X.keyCode)&&t(!0)},getContent:function(X,ve,Le,De){const Be=[];r.innerTrackColor!=="transparent"&&Be.push(m("div",{key:"inner",class:K.value,style:W.value})),r.selectionColor!=="transparent"&&Be.push(m("div",{key:"selection",class:V.value,style:X.value})),r.markers!==!1&&Be.push(m("div",{key:"marker",class:B.value,style:Ce.value})),De(Be);const Q=[An("div",{key:"trackC",class:G.value,tabindex:ve.value,...Le.value},[m("div",{class:A.value,style:D.value},Be)],"slide",g.value,()=>Te.value)];return r.markerLabels!==!1&&Q[r.switchMarkerLabelsSide===!0?"unshift":"push"](m("div",{key:"markerL",class:H.value},function(){if(a["marker-label-group"]!==void 0)return a["marker-label-group"](ke.value);const de=a["marker-label"]||pS;return ce.value.map(_e=>de({marker:_e,...ke.value}))}())),Q},getThumbRenderFn:function(X){const ve=y(()=>d.value!==!1||h.value!==X.focusValue&&h.value!=="both"?"":" q-slider--focus"),Le=y(()=>`q-slider__thumb q-slider__thumb${f.value} q-slider__thumb${f.value}-${w.value===!0?"rtl":"ltr"} absolute non-selectable`+ve.value+(X.thumbColor.value!==void 0?` text-${X.thumbColor.value}`:"")),De=y(()=>({width:r.thumbSize,height:r.thumbSize,[R.value]:100*X.ratio.value+"%",zIndex:h.value===X.focusValue?2:void 0})),Be=y(()=>X.labelColor.value!==void 0?` text-${X.labelColor.value}`:""),Q=y(()=>function(_e){if(r.vertical===!0)return null;const Re=s.lang.rtl!==r.reverse?1-_e:_e;return{transform:`translateX(calc(${2*Re-1} * ${r.thumbSize} / 2 + ${50-100*Re}%))`}}(X.ratio.value)),de=y(()=>"q-slider__text"+(X.labelTextColor.value!==void 0?` text-${X.labelTextColor.value}`:""));return()=>{const _e=[m("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[m("path",{d:r.thumbPath})]),m("div",{class:"q-slider__focus-ring fit"})];return r.label!==!0&&r.labelAlways!==!0||(_e.push(m("div",{class:J.value+" absolute fit no-pointer-events"+Be.value},[m("div",{class:oe.value,style:{minWidth:r.thumbSize}},[m("div",{class:te.value,style:Q.value},[m("span",{class:de.value},X.label.value)])])])),r.name!==void 0&&r.disable!==!0&&c(_e,"push")),m("div",{class:Le.value,style:De.value,...X.getNodeData()},_e)}},convertRatioToModel:function(X){const{min:ve,max:Le,step:De}=r;let Be=ve+X*(Le-ve);if(De>0){const Q=(Be-b.value)%De;Be+=(Math.abs(Q)>=De/2?(Q<0?-1:1)*De:0)-Q}return Be=_.value(Be),vt(Be,b.value,x.value)},convertModelToRatio:se,getDraggingRatio:function(X,ve){const Le=pn(X),De=r.vertical===!0?vt((Le.top-ve.top)/ve.height,0,1):vt((Le.left-ve.left)/ve.width,0,1);return vt(w.value===!0?1-De:De,z.value,I.value)}}}}var fS=()=>({}),go=ae({name:"QSlider",props:{...Uy,modelValue:{required:!0,default:null,validator:t=>typeof t=="number"||t===null},labelValue:[String,Number]},emits:Ky,setup(t,{emit:e}){const{proxy:{$q:n}}=we(),{state:i,methods:r}=Zy({updateValue:f,updatePosition:function(b,x=i.dragging.value){const g=r.getDraggingRatio(b,x);s.value=r.convertRatioToModel(g),a.value=t.snap!==!0||t.step===0?g:r.convertModelToRatio(s.value)},getDragging:function(){return o.value.getBoundingClientRect()},formAttrs:ws(t)}),o=$(null),a=$(0),s=$(0);function l(){s.value=t.modelValue===null?i.innerMin.value:vt(t.modelValue,i.innerMin.value,i.innerMax.value)}re(()=>`${t.modelValue}|${i.innerMin.value}|${i.innerMax.value}`,l),l();const c=y(()=>r.convertModelToRatio(s.value)),u=y(()=>i.active.value===!0?a.value:c.value),d=y(()=>{const b={[i.positionProp.value]:100*i.innerMinRatio.value+"%",[i.sizeProp.value]:100*(u.value-i.innerMinRatio.value)+"%"};return t.selectionImg!==void 0&&(b.backgroundImage=`url(${t.selectionImg}) !important`),b}),h=r.getThumbRenderFn({focusValue:!0,getNodeData:fS,ratio:u,label:y(()=>t.labelValue!==void 0?t.labelValue:s.value),thumbColor:y(()=>t.thumbColor||t.color),labelColor:y(()=>t.labelColor),labelTextColor:y(()=>t.labelTextColor)}),p=y(()=>i.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:r.onMobileClick}:{onMousedown:r.onActivate,onFocus:v,onBlur:r.onBlur,onKeydown:w,onKeyup:r.onKeyup});function f(b){s.value!==t.modelValue&&e("update:modelValue",s.value),b===!0&&e("change",s.value)}function v(){i.focus.value=!0}function w(b){if(!Np.includes(b.keyCode))return;$e(b);const x=([34,33].includes(b.keyCode)?10:1)*i.keyStep.value,g=([34,37,40].includes(b.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*(t.vertical===!0?-1:1)*x;s.value=vt(i.roundValueFn.value(s.value+g),i.innerMin.value,i.innerMax.value),f()}return()=>{const b=r.getContent(d,i.tabindex,p,x=>{x.push(h())});return m("div",{ref:o,class:i.classes.value+(t.modelValue===null?" q-slider--no-value":""),...i.attributes.value,"aria-valuenow":t.modelValue},b)}}});function Qy(){const t=$(!Rn.value);return t.value===!1&&xt(()=>{t.value=!0}),{isHydrated:t}}var Jy=typeof ResizeObserver<"u",Qg=Jy===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Xr=ae({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:e}){let n,i=null,r={width:-1,height:-1};function o(l){l===!0||t.debounce===0||t.debounce==="0"?a():i===null&&(i=setTimeout(a,t.debounce))}function a(){if(i!==null&&(clearTimeout(i),i=null),n){const{offsetWidth:l,offsetHeight:c}=n;l===r.width&&c===r.height||(r={width:l,height:c},e("resize",r))}}const{proxy:s}=we();if(s.trigger=o,Jy===!0){let l;const c=u=>{n=s.$el.parentNode,n?(l=new ResizeObserver(o),l.observe(n),a()):u!==!0&&We(()=>{c(!0)})};return xt(()=>{c()}),He(()=>{i!==null&&clearTimeout(i),l!==void 0&&(l.disconnect!==void 0?l.disconnect():n&&l.unobserve(n))}),zt}{let l=function(){i!==null&&(clearTimeout(i),i=null),d!==void 0&&(d.removeEventListener!==void 0&&d.removeEventListener("resize",o,_t.passive),d=void 0)},c=function(){l(),n&&n.contentDocument&&(d=n.contentDocument.defaultView,d.addEventListener("resize",o,_t.passive),a())};const{isHydrated:u}=Qy();let d;return xt(()=>{We(()=>{n=s.$el,n&&c()})}),He(l),()=>{if(u.value===!0)return m("object",{class:"q--avoid-card-border",style:Qg.style,tabindex:-1,type:"text/html",data:Qg.url,"aria-hidden":"true",onLoad:c})}}}}),cs=!1;{const t=document.createElement("div");t.setAttribute("dir","rtl"),Object.assign(t.style,{width:"1px",height:"1px",overflow:"auto"});const e=document.createElement("div");Object.assign(e.style,{width:"1000px",height:"1px"}),document.body.appendChild(t),t.appendChild(e),t.scrollLeft=-1e3,cs=t.scrollLeft>=0,t.remove()}function gS(t,e,n){const i=n===!0?["left","right"]:["top","bottom"];return`absolute-${e===!0?i[0]:i[1]}${t?` text-${t}`:""}`}var vS=["left","center","right","justify"],Jg=ae({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:t=>vS.includes(t)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(t,{slots:e,emit:n}){const{proxy:i}=we(),{$q:r}=i,{registerTick:o}=zo(),{registerTick:a}=zo(),{registerTick:s}=zo(),{registerTimeout:l,removeTimeout:c}=qi(),{registerTimeout:u,removeTimeout:d}=qi(),h=$(null),p=$(null),f=$(t.modelValue),v=$(!1),w=$(!0),b=$(!1),x=$(!1),g=[],_=$(0),S=$(!1);let C,T=null,L=null;const z=y(()=>({activeClass:t.activeClass,activeColor:t.activeColor,activeBgColor:t.activeBgColor,indicatorClass:gS(t.indicatorColor,t.switchIndicator,t.vertical),narrowIndicator:t.narrowIndicator,inlineLabel:t.inlineLabel,noCaps:t.noCaps})),I=y(()=>{const he=_.value,Se=f.value;for(let Te=0;Te<he;Te++)if(g[Te].name.value===Se)return!0;return!1}),R=y(()=>`q-tabs__content--align-${v.value===!0?"left":x.value===!0?"justify":t.align}`),P=y(()=>`q-tabs row no-wrap items-center q-tabs--${v.value===!0?"":"not-"}scrollable q-tabs--${t.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${t.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${t.mobileArrows===!0?"":"out"}-arrows`+(t.dense===!0?" q-tabs--dense":"")+(t.shrink===!0?" col-shrink":"")+(t.stretch===!0?" self-stretch":"")),q=y(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+R.value+(t.contentClass!==void 0?` ${t.contentClass}`:"")),k=y(()=>t.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),M=y(()=>t.vertical!==!0&&r.lang.rtl===!0),E=y(()=>cs===!1&&M.value===!0);function O({name:he,setCurrent:Se,skipEmit:Te}){f.value!==he&&(Te!==!0&&t["onUpdate:modelValue"]!==void 0&&n("update:modelValue",he),Se!==!0&&t["onUpdate:modelValue"]!==void 0||(function(ze,ie){const me=ze!=null&&ze!==""?g.find(ve=>ve.name.value===ze):null,X=ie!=null&&ie!==""?g.find(ve=>ve.name.value===ie):null;if(Ce===!0)Ce=!1;else if(me&&X){const ve=me.tabIndicatorRef.value,Le=X.tabIndicatorRef.value;T!==null&&(clearTimeout(T),T=null),ve.style.transition="none",ve.style.transform="none",Le.style.transition="none",Le.style.transform="none";const De=ve.getBoundingClientRect(),Be=Le.getBoundingClientRect();Le.style.transform=t.vertical===!0?`translate3d(0,${De.top-Be.top}px,0) scale3d(1,${Be.height?De.height/Be.height:1},1)`:`translate3d(${De.left-Be.left}px,0,0) scale3d(${Be.width?De.width/Be.width:1},1,1)`,s(()=>{T=setTimeout(()=>{T=null,Le.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Le.style.transform="none"},70)})}X&&v.value===!0&&B(X.rootRef.value)}(f.value,he),f.value=he))}function j(){o(()=>{V({width:h.value.offsetWidth,height:h.value.offsetHeight})})}function V(he){if(k.value===void 0||p.value===null)return;const Se=he[k.value.container],Te=Math.min(p.value[k.value.scroll],Array.prototype.reduce.call(p.value.children,(ie,me)=>ie+(me[k.value.content]||0),0)),ze=Se>0&&Te>Se;v.value=ze,ze===!0&&a(G),x.value=Se<parseInt(t.breakpoint,10)}function B(he){const{left:Se,width:Te,top:ze,height:ie}=p.value.getBoundingClientRect(),me=he.getBoundingClientRect();let X=t.vertical===!0?me.top-ze:me.left-Se;if(X<0)return p.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(X),void G();X+=t.vertical===!0?me.height-ie:me.width-Te,X>0&&(p.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(X),G())}function G(){const he=p.value;if(he===null)return;const Se=he.getBoundingClientRect(),Te=t.vertical===!0?he.scrollTop:Math.abs(he.scrollLeft);M.value===!0?(w.value=Math.ceil(Te+Se.width)<he.scrollWidth-1,b.value=Te>0):(w.value=Te>0,b.value=t.vertical===!0?Math.ceil(Te+Se.height)<he.scrollHeight:Math.ceil(Te+Se.width)<he.scrollWidth)}function J(he){L!==null&&clearInterval(L),L=setInterval(()=>{(function(Se){const Te=p.value,{get:ze,set:ie}=A.value;let me=!1,X=ze(Te);const ve=Se<X?-1:1;return X+=5*ve,X<0?(me=!0,X=0):(ve===-1&&X<=Se||ve===1&&X>=Se)&&(me=!0,X=Se),ie(Te,X),G(),me})(he)===!0&&H()},5)}function oe(){J(E.value===!0?Number.MAX_SAFE_INTEGER:0)}function te(){J(E.value===!0?0:Number.MAX_SAFE_INTEGER)}function H(){L!==null&&(clearInterval(L),L=null)}re(M,G),re(()=>t.modelValue,he=>{O({name:he,setCurrent:!0,skipEmit:!0})}),re(()=>t.outsideArrows,j);const A=y(()=>E.value===!0?{get:he=>Math.abs(he.scrollLeft),set:(he,Se)=>{he.scrollLeft=-Se}}:t.vertical===!0?{get:he=>he.scrollTop,set:(he,Se)=>{he.scrollTop=Se}}:{get:he=>he.scrollLeft,set:(he,Se)=>{he.scrollLeft=Se}});function D(he,Se){for(const Te in he)if(he[Te]!==Se[Te])return!1;return!0}function K(){let he=null,Se={matchedLen:0,queryDiff:9999,hrefLen:0};const Te=g.filter(X=>X.routeData!==void 0&&X.routeData.hasRouterLink.value===!0),{hash:ze,query:ie}=i.$route,me=Object.keys(ie).length;for(const X of Te){const ve=X.routeData.exact.value===!0;if(X.routeData[ve===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Le,query:De,matched:Be,href:Q}=X.routeData.resolvedLink.value,de=Object.keys(De).length;if(ve===!0){if(Le!==ze||de!==me||D(ie,De)===!1)continue;he=X.name.value;break}if(Le!==""&&Le!==ze||de!==0&&D(De,ie)===!1)continue;const _e={matchedLen:Be.length,queryDiff:me-de,hrefLen:Q.length-Le.length};if(_e.matchedLen>Se.matchedLen)he=X.name.value,Se=_e;else if(_e.matchedLen===Se.matchedLen){if(_e.queryDiff<Se.queryDiff)he=X.name.value,Se=_e;else if(_e.queryDiff!==Se.queryDiff)continue;_e.hrefLen>Se.hrefLen&&(he=X.name.value,Se=_e)}}he!==null||g.some(X=>X.routeData===void 0&&X.name.value===f.value)!==!0?O({name:he,setCurrent:!0}):Ce=!1}function W(he){if(c(),S.value!==!0&&h.value!==null&&he.target&&typeof he.target.closest=="function"){const Se=he.target.closest(".q-tab");Se&&h.value.contains(Se)===!0&&(S.value=!0,v.value===!0&&B(Se))}}function se(){l(()=>{S.value=!1},30)}function fe(){pe.avoidRouteWatcher===!1?u(K):d()}function le(){if(C===void 0){const he=re(()=>i.$route.fullPath,fe);C=()=>{he(),C=void 0}}}const pe={currentModel:f,tabProps:z,hasFocus:S,hasActiveTab:I,registerTab:function(he){g.push(he),_.value++,j(),he.routeData===void 0||i.$route===void 0?u(()=>{if(v.value===!0){const Se=f.value,Te=Se!=null&&Se!==""?g.find(ze=>ze.name.value===Se):null;Te&&B(Te.rootRef.value)}}):(le(),he.routeData.hasRouterLink.value===!0&&fe())},unregisterTab:function(he){g.splice(g.indexOf(he),1),_.value--,j(),C!==void 0&&he.routeData!==void 0&&(g.every(Se=>Se.routeData===void 0)===!0&&C(),fe())},verifyRouteModel:fe,updateModel:O,onKbdNavigate:function(he,Se){const Te=Array.prototype.filter.call(p.value.children,ve=>ve===Se||ve.matches&&ve.matches(".q-tab.q-focusable")===!0),ze=Te.length;if(ze===0)return;if(he===36)return B(Te[0]),Te[0].focus(),!0;if(he===35)return B(Te[ze-1]),Te[ze-1].focus(),!0;const ie=he===(t.vertical===!0?38:37),me=he===(t.vertical===!0?40:39),X=ie===!0?-1:me===!0?1:void 0;if(X!==void 0){const ve=M.value===!0?-1:1,Le=Te.indexOf(Se)+X*ve;return Le>=0&&Le<ze&&(B(Te[Le]),Te[Le].focus({preventScroll:!0})),!0}},avoidRouteWatcher:!1};function ce(){T!==null&&clearTimeout(T),H(),C!==void 0&&C()}let ke,Ce;return ir(py,pe),He(ce),Pi(()=>{ke=C!==void 0,ce()}),Kr(()=>{ke===!0&&(le(),Ce=!0,fe()),j()}),()=>m("div",{ref:h,class:P.value,role:"tablist",onFocusin:W,onFocusout:se},[m(Xr,{onResize:V}),m("div",{ref:p,class:q.value,onScroll:G},Me(e.default)),m(et,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(w.value===!0?"":" q-tabs__arrow--faded"),name:t.leftIcon||r.iconSet.tabs[t.vertical===!0?"up":"left"],onMousedownPassive:oe,onTouchstartPassive:oe,onMouseupPassive:H,onMouseleavePassive:H,onTouchendPassive:H}),m(et,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(b.value===!0?"":" q-tabs__arrow--faded"),name:t.rightIcon||r.iconSet.tabs[t.vertical===!0?"down":"right"],onMousedownPassive:te,onTouchstartPassive:te,onMouseupPassive:H,onMouseleavePassive:H,onTouchendPassive:H})])}}),mS=0,e_=["click","keydown"],t_={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>"t_"+mS++},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function n_(t,e,n,i){const r=_n(py,ut);if(r===ut)return ut;const{proxy:o}=we(),a=$(null),s=$(null),l=$(null),c=y(()=>t.disable!==!0&&t.ripple!==!1&&Object.assign({keyCodes:[13,32],early:!0},t.ripple===!0?{}:t.ripple)),u=y(()=>r.currentModel.value===t.name),d=y(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(u.value===!0?" q-tab--active"+(r.tabProps.value.activeClass?" "+r.tabProps.value.activeClass:"")+(r.tabProps.value.activeColor?` text-${r.tabProps.value.activeColor}`:"")+(r.tabProps.value.activeBgColor?` bg-${r.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(t.icon&&t.label&&r.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(t.noCaps===!0||r.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(t.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(i!==void 0?i.linkClass.value:"")),h=y(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(r.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(t.contentClass!==void 0?` ${t.contentClass}`:"")),p=y(()=>t.disable===!0||r.hasFocus.value===!0||u.value===!1&&r.hasActiveTab.value===!0?-1:t.tabindex||0);function f(b,x){if(x!==!0&&a.value!==null&&a.value.focus(),t.disable!==!0){if(i===void 0)return r.updateModel({name:t.name}),void n("click",b);if(i.hasRouterLink.value===!0){const g=(_={})=>{let S;const C=_.to===void 0||Gn(_.to,t.to)===!0?r.avoidRouteWatcher=us():null;return i.navigateToRouterLink(b,{..._,returnRouterError:!0}).catch(T=>{S=T}).then(T=>{if(C===r.avoidRouteWatcher&&(r.avoidRouteWatcher=!1,S===void 0&&(T===void 0||T.message!==void 0&&T.message.startsWith("Avoided redundant navigation")===!0)&&r.updateModel({name:t.name})),_.returnRouterError===!0)return S!==void 0?Promise.reject(S):T})};return n("click",b,g),void(b.defaultPrevented!==!0&&g())}n("click",b)}else i!==void 0&&i.hasRouterLink.value===!0&&$e(b)}function v(b){Fn(b,[13,32])?f(b,!0):Wr(b)!==!0&&b.keyCode>=35&&b.keyCode<=40&&b.altKey!==!0&&b.metaKey!==!0&&r.onKbdNavigate(b.keyCode,o.$el)===!0&&$e(b),n("keydown",b)}const w={name:y(()=>t.name),rootRef:s,tabIndicatorRef:l,routeData:i};return He(()=>{r.unregisterTab(w)}),xt(()=>{r.registerTab(w)}),{renderTab:function(b,x){const g={ref:s,class:d.value,tabindex:p.value,role:"tab","aria-selected":u.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:f,onKeydown:v,...x};return xn(m(b,g,function(){const _=r.tabProps.value.narrowIndicator,S=[],C=m("div",{ref:l,class:["q-tab__indicator",r.tabProps.value.indicatorClass]});t.icon!==void 0&&S.push(m(et,{class:"q-tab__icon",name:t.icon})),t.label!==void 0&&S.push(m("div",{class:"q-tab__label"},t.label)),t.alert!==!1&&S.push(t.alertIcon!==void 0?m(et,{class:"q-tab__alert-icon",color:t.alert!==!0?t.alert:void 0,name:t.alertIcon}):m("div",{class:"q-tab__alert"+(t.alert!==!0?` text-${t.alert}`:"")})),_===!0&&S.push(C);const T=[m("div",{class:"q-focus-helper",tabindex:-1,ref:a}),m("div",{class:h.value},qt(e.default,S))];return _===!1&&T.push(C),T}()),[[_u,c.value]])},$tabs:r}}var Sa=ae({name:"QTab",props:t_,emits:e_,setup(t,{slots:e,emit:n}){const{renderTab:i}=n_(t,e,n);return()=>i("div")}}),yS=ae({name:"QTabPanels",props:{...Ap,...Ue},emits:Op,setup(t,{slots:e}){const n=we(),i=Ke(t,n.proxy.$q),{updatePanelsList:r,getPanelContent:o,panelDirectives:a}=Dp(),s=y(()=>"q-tab-panels q-panel-parent"+(i.value===!0?" q-tab-panels--dark q-dark":""));return()=>(r(e),An("div",{class:s.value},o(),"pan",t.swipeable,()=>a.value))}}),xc=ae({name:"QTabPanel",props:Fp,setup:(t,{slots:e})=>()=>m("div",{class:"q-tab-panel",role:"tabpanel"},Me(e.default))}),ev=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,tv=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,nv=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,el=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,tl=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,_l={date:t=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t),time:t=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(t),fulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(t),timeOrFulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(t),email:t=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),hexColor:t=>ev.test(t),hexaColor:t=>tv.test(t),hexOrHexaColor:t=>nv.test(t),rgbColor:t=>el.test(t),rgbaColor:t=>tl.test(t),rgbOrRgbaColor:t=>el.test(t)||tl.test(t),hexOrRgbColor:t=>ev.test(t)||el.test(t),hexaOrRgbaColor:t=>tv.test(t)||tl.test(t),anyColor:t=>nv.test(t)||el.test(t)||tl.test(t)},_S=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function iv({r:t,g:e,b:n,a:i}){const r=i!==void 0;if(t=Math.round(t),e=Math.round(e),n=Math.round(n),t>255||e>255||n>255||r&&i>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return i=r?(256|Math.round(255*i/100)).toString(16).slice(1):"","#"+(n|e<<8|t<<16|1<<24).toString(16).slice(1)+i}function rv({r:t,g:e,b:n,a:i}){return`rgb${i!==void 0?"a":""}(${t},${e},${n}${i!==void 0?","+i/100:""})`}function i_(t){if(typeof t!="string")throw new TypeError("Expected a string");(t=t.replace(/^#/,"")).length===3?t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:t.length===4&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16);return t.length>6?{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:Math.round((255&e)/2.55)}:{r:e>>16,g:e>>8&255,b:255&e}}function ov({h:t,s:e,v:n,a:i}){let r,o,a;e/=100,n/=100,t/=360;const s=Math.floor(6*t),l=6*t-s,c=n*(1-e),u=n*(1-l*e),d=n*(1-(1-l)*e);switch(s%6){case 0:r=n,o=d,a=c;break;case 1:r=u,o=n,a=c;break;case 2:r=c,o=n,a=d;break;case 3:r=c,o=u,a=n;break;case 4:r=d,o=c,a=n;break;case 5:r=n,o=c,a=u}return{r:Math.round(255*r),g:Math.round(255*o),b:Math.round(255*a),a:i}}function wc({r:t,g:e,b:n,a:i}){const r=Math.max(t,e,n),o=Math.min(t,e,n),a=r-o,s=r===0?0:a/r,l=r/255;let c;switch(r){case o:c=0;break;case t:c=e-n+a*(e<n?6:0),c/=6*a;break;case e:c=n-t+2*a,c/=6*a;break;case n:c=t-e+4*a,c/=6*a}return{h:Math.round(360*c),s:Math.round(100*s),v:Math.round(100*l),a:i}}function av(t){if(typeof t!="string")throw new TypeError("Expected a string");const e=t.replace(/ /g,""),n=_S.exec(e);if(n===null)return i_(e);const i={r:Math.min(255,parseInt(n[2],10)),g:Math.min(255,parseInt(n[3],10)),b:Math.min(255,parseInt(n[4],10))};if(n[1]){const r=parseFloat(n[5]);i.a=100*Math.min(1,isNaN(r)===!0?1:r)}return i}var bS=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],sv="M5 5 h10 v10 h-10 v-10 z";ae({name:"QColor",props:{...Ue,...Dn,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:t=>["spectrum","tune","palette"].includes(t)},formatModel:{type:String,default:"auto",validator:t=>["auto","hex","rgb","hexa","rgba"].includes(t)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(t,{emit:e}){const{proxy:n}=we(),{$q:i}=n,r=Ke(t,i),{getCache:o}=Ss(),a=$(null),s=$(null),l=y(()=>t.formatModel==="auto"?null:t.formatModel.indexOf("hex")!==-1),c=y(()=>t.formatModel==="auto"?null:t.formatModel.indexOf("a")!==-1),u=$(t.formatModel==="auto"?t.modelValue===void 0||t.modelValue===null||t.modelValue===""||t.modelValue.startsWith("#")?"hex":"rgb":t.formatModel.startsWith("hex")?"hex":"rgb"),d=$(t.defaultView),h=$(R(t.modelValue||t.defaultValue)),p=y(()=>t.disable!==!0&&t.readonly!==!0),f=y(()=>t.modelValue===void 0||t.modelValue===null||t.modelValue===""||t.modelValue.startsWith("#")),v=y(()=>l.value!==null?l.value:f.value),w=ur(y(()=>({type:"hidden",name:t.name,value:h.value[v.value===!0?"hex":"rgb"]}))),b=y(()=>c.value!==null?c.value:h.value.a!==void 0),x=y(()=>({backgroundColor:h.value.rgb||"#000"})),g=y(()=>"q-color-picker__header-content q-color-picker__header-content--"+(h.value.a!==void 0&&h.value.a<65||function(D){if(typeof D!="string"&&(!D||D.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const K=typeof D=="string"?av(D):D,W=K.r/255,se=K.g/255,fe=K.b/255;return .2126*(W<=.03928?W/12.92:Math.pow((W+.055)/1.055,2.4))+.7152*(se<=.03928?se/12.92:Math.pow((se+.055)/1.055,2.4))+.0722*(fe<=.03928?fe/12.92:Math.pow((fe+.055)/1.055,2.4))}(h.value)>.4?"light":"dark")),_=y(()=>({background:`hsl(${h.value.h},100%,50%)`})),S=y(()=>({top:100-h.value.v+"%",[i.lang.rtl===!0?"right":"left"]:`${h.value.s}%`})),C=y(()=>t.palette!==void 0&&t.palette.length!==0?t.palette:bS),T=y(()=>"q-color-picker"+(t.bordered===!0?" q-color-picker--bordered":"")+(t.square===!0?" q-color-picker--square no-border-radius":"")+(t.flat===!0?" q-color-picker--flat no-shadow":"")+(t.disable===!0?" disabled":"")+(r.value===!0?" q-color-picker--dark q-dark":"")),L=y(()=>t.disable===!0?{"aria-disabled":"true"}:{}),z=y(()=>[[In,O,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function I(D,K){h.value.hex=iv(D),h.value.rgb=rv(D),h.value.r=D.r,h.value.g=D.g,h.value.b=D.b,h.value.a=D.a;const W=h.value[v.value===!0?"hex":"rgb"];e("update:modelValue",W),K===!0&&e("change",W)}function R(D){const K=c.value!==void 0?c.value:t.formatModel==="auto"?null:t.formatModel.indexOf("a")!==-1;if(typeof D!="string"||D.length===0||_l.anyColor(D.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:K===!0?100:void 0,hex:void 0,rgb:void 0};const W=av(D);return K===!0&&W.a===void 0&&(W.a=100),W.hex=iv(W),W.rgb=rv(W),Object.assign(W,wc(W))}function P(D,K,W){const se=a.value;if(se===null)return;const fe=se.clientWidth,le=se.clientHeight,pe=se.getBoundingClientRect();let ce=Math.min(fe,Math.max(0,D-pe.left));i.lang.rtl===!0&&(ce=fe-ce);const ke=Math.min(le,Math.max(0,K-pe.top)),Ce=Math.round(100*ce/fe),he=Math.round(100*Math.max(0,Math.min(1,-ke/le+1))),Se=ov({h:h.value.h,s:Ce,v:he,a:b.value===!0?h.value.a:void 0});h.value.s=Ce,h.value.v=he,I(Se,W)}function q(D,K){const W=Math.round(D),se=ov({h:W,s:h.value.s,v:h.value.v,a:b.value===!0?h.value.a:void 0});h.value.h=W,I(se,K)}function k(D){q(D,!0)}function M(D,K,W,se,fe){if(se!==void 0&&kt(se),!/^[0-9]+$/.test(D))return void(fe===!0&&n.$forceUpdate());const le=Math.floor(Number(D));if(le<0||le>W)return void(fe===!0&&n.$forceUpdate());const pe={r:K==="r"?le:h.value.r,g:K==="g"?le:h.value.g,b:K==="b"?le:h.value.b,a:b.value===!0?K==="a"?le:h.value.a:void 0};if(K!=="a"){const ce=wc(pe);h.value.h=ce.h,h.value.s=ce.s,h.value.v=ce.v}if(I(pe,fe),se!==void 0&&fe!==!0&&se.target.selectionEnd!==void 0){const ce=se.target.selectionEnd;We(()=>{se.target.setSelectionRange(ce,ce)})}}function E(D,K){let W;const se=D.target.value;if(kt(D),u.value==="hex"){if(se.length!==(b.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(se))return!0;W=i_(se)}else{let le;if(!se.endsWith(")"))return!0;if(b.value!==!0&&se.startsWith("rgb(")){if(le=se.substring(4,se.length-1).split(",").map(pe=>parseInt(pe,10)),le.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(se))return!0}else{if(b.value!==!0||!se.startsWith("rgba("))return!0;{if(le=se.substring(5,se.length-1).split(","),le.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(se))return!0;for(let ce=0;ce<3;ce++){const ke=parseInt(le[ce],10);if(ke<0||ke>255)return!0;le[ce]=ke}const pe=parseFloat(le[3]);if(pe<0||pe>1)return!0;le[3]=pe}}if(le[0]<0||le[0]>255||le[1]<0||le[1]>255||le[2]<0||le[2]>255||b.value===!0&&(le[3]<0||le[3]>1))return!0;W={r:le[0],g:le[1],b:le[2],a:b.value===!0?100*le[3]:void 0}}const fe=wc(W);if(h.value.h=fe.h,h.value.s=fe.s,h.value.v=fe.v,I(W,K),K!==!0){const le=D.target.selectionEnd;We(()=>{D.target.setSelectionRange(le,le)})}}function O(D){D.isFinal?P(D.position.left,D.position.top,!0):j(D)}re(()=>t.modelValue,D=>{const K=R(D||t.defaultValue);K.hex!==h.value.hex&&(h.value=K)}),re(()=>t.defaultValue,D=>{if(!t.modelValue&&D){const K=R(D);K.hex!==h.value.hex&&(h.value=K)}});const j=wy(D=>{P(D.position.left,D.position.top)},20);function V(D){P(D.pageX-window.pageXOffset,D.pageY-window.pageYOffset,!0)}function B(D){P(D.pageX-window.pageXOffset,D.pageY-window.pageYOffset)}function G(D){s.value!==null&&(s.value.$el.style.opacity=D?1:0)}function J(D){u.value=D}function oe(D){d.value=D}function te(){const D={ref:a,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(p.value!==!0?" readonly":""),style:_.value,...p.value===!0?{onClick:V,onMousedown:B}:{}},K=[m("div",{style:{paddingBottom:"100%"}}),m("div",{class:"q-color-picker__spectrum-white absolute-full"}),m("div",{class:"q-color-picker__spectrum-black absolute-full"}),m("div",{class:"absolute",style:S.value},[h.value.hex!==void 0?m("div",{class:"q-color-picker__spectrum-circle"}):null])],W=[m(go,{class:"q-color-picker__hue non-selectable",modelValue:h.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:p.value!==!0,thumbPath:sv,"onUpdate:modelValue":q,onChange:k})];return b.value===!0&&W.push(m(go,{class:"q-color-picker__alpha non-selectable",modelValue:h.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==",readonly:p.value!==!0,hideSelection:!0,thumbPath:sv,...o("alphaSlide",{"onUpdate:modelValue":se=>M(se,"a",100),onChange:se=>M(se,"a",100,void 0,!0)})})),[An("div",D,K,"spec",p.value,()=>z.value),m("div",{class:"q-color-picker__sliders"},W)]}function H(){return[m("div",{class:"row items-center no-wrap"},[m("div","R"),m(go,{modelValue:h.value.r,min:0,max:255,color:"red",dark:r.value,readonly:p.value!==!0,...o("rSlide",{"onUpdate:modelValue":D=>M(D,"r",255),onChange:D=>M(D,"r",255,void 0,!0)})}),m("input",{value:h.value.r,maxlength:3,readonly:p.value!==!0,onChange:kt,...o("rIn",{onInput:D=>M(D.target.value,"r",255,D),onBlur:D=>M(D.target.value,"r",255,D,!0)})})]),m("div",{class:"row items-center no-wrap"},[m("div","G"),m(go,{modelValue:h.value.g,min:0,max:255,color:"green",dark:r.value,readonly:p.value!==!0,...o("gSlide",{"onUpdate:modelValue":D=>M(D,"g",255),onChange:D=>M(D,"g",255,void 0,!0)})}),m("input",{value:h.value.g,maxlength:3,readonly:p.value!==!0,onChange:kt,...o("gIn",{onInput:D=>M(D.target.value,"g",255,D),onBlur:D=>M(D.target.value,"g",255,D,!0)})})]),m("div",{class:"row items-center no-wrap"},[m("div","B"),m(go,{modelValue:h.value.b,min:0,max:255,color:"blue",readonly:p.value!==!0,dark:r.value,...o("bSlide",{"onUpdate:modelValue":D=>M(D,"b",255),onChange:D=>M(D,"b",255,void 0,!0)})}),m("input",{value:h.value.b,maxlength:3,readonly:p.value!==!0,onChange:kt,...o("bIn",{onInput:D=>M(D.target.value,"b",255,D),onBlur:D=>M(D.target.value,"b",255,D,!0)})})]),b.value===!0?m("div",{class:"row items-center no-wrap"},[m("div","A"),m(go,{modelValue:h.value.a,color:"grey",readonly:p.value!==!0,dark:r.value,...o("aSlide",{"onUpdate:modelValue":D=>M(D,"a",100),onChange:D=>M(D,"a",100,void 0,!0)})}),m("input",{value:h.value.a,maxlength:3,readonly:p.value!==!0,onChange:kt,...o("aIn",{onInput:D=>M(D.target.value,"a",100,D),onBlur:D=>M(D.target.value,"a",100,D,!0)})})]):null]}function A(){return[m("div",{class:"row items-center q-color-picker__palette-rows"+(p.value===!0?" q-color-picker__palette-rows--editable":"")},C.value.map(D=>m("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:D},...p.value===!0?o("palette#"+D,{onClick:()=>{(function(K){const W=R(K),se={r:W.r,g:W.g,b:W.b,a:W.a};se.a===void 0&&(se.a=h.value.a),h.value.h=W.h,h.value.s=W.s,h.value.v=W.v,I(se,!0)})(D)}}):{}})))]}return()=>{const D=[m(yS,{modelValue:d.value,animated:!0},()=>[m(xc,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},te),m(xc,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},H),m(xc,{class:"q-color-picker__palette-tab",name:"palette"},A)])];return t.name!==void 0&&t.disable!==!0&&w(D,"push"),t.noHeader!==!0&&D.unshift(function(){const K=[];return t.noHeaderTabs!==!0&&K.push(m(Jg,{class:"q-color-picker__header-tabs",modelValue:u.value,dense:!0,align:"justify","onUpdate:modelValue":J},()=>[m(Sa,{label:"HEX"+(b.value===!0?"A":""),name:"hex",ripple:!1}),m(Sa,{label:"RGB"+(b.value===!0?"A":""),name:"rgb",ripple:!1})])),K.push(m("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[m("input",{class:"fit",value:h.value[u.value],...p.value!==!0?{readonly:!0}:{},...o("topIn",{onInput:W=>{G(E(W)===!0)},onChange:kt,onBlur:W=>{E(W,!0)===!0&&n.$forceUpdate(),G(!1)}})}),m(et,{ref:s,class:"q-color-picker__error-icon absolute no-pointer-events",name:i.iconSet.type.negative})])),m("div",{class:"q-color-picker__header relative-position overflow-hidden"},[m("div",{class:"q-color-picker__header-bg absolute-full"}),m("div",{class:g.value,style:x.value},K)])}()),t.noFooter!==!0&&D.push(m("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[m(Jg,{class:"absolute-full",modelValue:d.value,dense:!0,align:"justify","onUpdate:modelValue":oe},()=>[m(Sa,{icon:i.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),m(Sa,{icon:i.iconSet.colorPicker.tune,name:"tune",ripple:!1}),m(Sa,{icon:i.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])),m("div",{class:T.value,...L.value},D)}}});var Ki=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function xS(t,e,n){return Object.prototype.toString.call(t)==="[object Date]"&&(n=t.getDate(),e=t.getMonth()+1,t=t.getFullYear()),function(i){const r=o_(i).gy;let o,a,s,l=r-621;const c=r_(l,!1),u=Sh(r,3,c.march);if(s=i-u,s>=0){if(s<=185)return a=1+wt(s,31),o=kn(s,31)+1,{jy:l,jm:a,jd:o};s-=186}else l-=1,s+=179,c.leap===1&&(s+=1);return a=7+wt(s,30),o=kn(s,30)+1,{jy:l,jm:a,jd:o}}(Sh(t,e,n))}function lv(t,e,n){return o_(function(i,r,o){const a=r_(i,!0);return Sh(a.gy,3,a.march)+31*(r-1)-wt(r,7)*(r-7)+o-1}(t,e,n))}function wS(t){return function(e){const n=Ki.length;let i,r,o,a,s,l=Ki[0];if(e<l||e>=Ki[n-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<n&&(i=Ki[s],r=i-l,!(e<i));s+=1)l=i;return a=e-l,r-a<6&&(a=a-r+33*wt(r+4,33)),o=kn(kn(a+1,33)-1,4),o===-1&&(o=4),o}(t)===0}function bl(t,e){return e<=6?31:e<=11||wS(t)?30:29}function r_(t,e){const n=Ki.length,i=t+621;let r,o,a,s,l,c=-14,u=Ki[0];if(t<u||t>=Ki[n-1])throw new Error("Invalid Jalaali year "+t);for(l=1;l<n&&(r=Ki[l],o=r-u,!(t<r));l+=1)c=c+8*wt(o,33)+wt(kn(o,33),4),u=r;s=t-u,c=c+8*wt(s,33)+wt(kn(s,33)+3,4),kn(o,33)===4&&o-s==4&&(c+=1);const d=20+c-(wt(i,4)-wt(3*(wt(i,100)+1),4)-150);return e||(o-s<6&&(s=s-o+33*wt(o+4,33)),a=kn(kn(s+1,33)-1,4),a===-1&&(a=4)),{leap:a,gy:i,march:d}}function Sh(t,e,n){let i=wt(1461*(t+wt(e-8,6)+100100),4)+wt(153*kn(e+9,12)+2,5)+n-34840408;return i=i-wt(3*wt(t+100100+wt(e-8,6),100),4)+752,i}function o_(t){let e=4*t+139361631;e=e+4*wt(3*wt(4*t+183187720,146097),4)-3908;const n=5*wt(kn(e,1461),4)+308,i=wt(kn(n,153),5)+1,r=kn(wt(n,153),12)+1;return{gy:wt(e,1461)-100100+wt(8-r,6),gm:r,gd:i}}function wt(t,e){return~~(t/e)}function kn(t,e){return t-~~(t/e)*e}var SS=["gregorian","persian"],Kl={mask:{type:String},locale:Object,calendar:{type:String,validator:t=>SS.includes(t),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},a_=["update:modelValue"];function mi(t){return t.year+"/"+ot(t.month)+"/"+ot(t.day)}function s_(t,e){const n=y(()=>t.disable!==!0&&t.readonly!==!0),i=y(()=>n.value===!0?0:-1),r=y(()=>{const o=[];return t.color!==void 0&&o.push(`bg-${t.color}`),t.textColor!==void 0&&o.push(`text-${t.textColor}`),o.join(" ")});return{editable:n,tabindex:i,headerClass:r,getLocale:function(){return t.locale!==void 0?{...e.lang.date,...t.locale}:e.lang.date},getCurrentDate:function(o){const a=new Date,s=o===!0?null:0;if(t.calendar==="persian"){const l=xS(a);return{year:l.jy,month:l.jm,day:l.jd}}return{year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),hour:s,minute:s,second:s,millisecond:s}}}}var CS=864e5,Ch=6e4,l_="YYYY-MM-DDTHH:mm:ss.SSSZ",kS=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,TS=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Sc={};function u_(t,e){return t!==void 0?t:e!==void 0?e.date:ph.date}function uv(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=i%60;return n+ot(Math.floor(i/60))+e+ot(r)}function Ra(t,e,n,i,r){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(r!==void 0&&Object.assign(o,r),t==null||t===""||typeof t!="string")return o;e===void 0&&(e=l_);const a=u_(n,uy.props),s=a.months,l=a.monthsShort,{regex:c,map:u}=function(p,f){const v="("+f.days.join("|")+")",w=p+v;if(Sc[w]!==void 0)return Sc[w];const b="("+f.daysShort.join("|")+")",x="("+f.months.join("|")+")",g="("+f.monthsShort.join("|")+")",_={};let S=0;const C=p.replace(TS,L=>{switch(S++,L){case"YY":return _.YY=S,"(-?\\d{1,2})";case"YYYY":return _.YYYY=S,"(-?\\d{1,4})";case"M":return _.M=S,"(\\d{1,2})";case"Mo":return _.M=S++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return _.M=S,"(\\d{2})";case"MMM":return _.MMM=S,g;case"MMMM":return _.MMMM=S,x;case"D":return _.D=S,"(\\d{1,2})";case"Do":return _.D=S++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return _.D=S,"(\\d{2})";case"H":return _.H=S,"(\\d{1,2})";case"HH":return _.H=S,"(\\d{2})";case"h":return _.h=S,"(\\d{1,2})";case"hh":return _.h=S,"(\\d{2})";case"m":return _.m=S,"(\\d{1,2})";case"mm":return _.m=S,"(\\d{2})";case"s":return _.s=S,"(\\d{1,2})";case"ss":return _.s=S,"(\\d{2})";case"S":return _.S=S,"(\\d{1})";case"SS":return _.S=S,"(\\d{2})";case"SSS":return _.S=S,"(\\d{3})";case"A":return _.A=S,"(AM|PM)";case"a":return _.a=S,"(am|pm)";case"aa":return _.aa=S,"(a\\.m\\.|p\\.m\\.)";case"ddd":return b;case"dddd":return v;case"Q":case"d":case"E":return"(\\d{1})";case"do":return S++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return S++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return S++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return _.Z=S,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return _.ZZ=S,"(Z|[+-]\\d{2}\\d{2})";case"X":return _.X=S,"(-?\\d+)";case"x":return _.x=S,"(-?\\d{4,})";default:return S--,L[0]==="["&&(L=L.substring(1,L.length-1)),L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),T={map:_,regex:new RegExp("^"+C)};return Sc[w]=T,T}(e,a),d=t.match(c);if(d===null)return o;let h="";if(u.X!==void 0||u.x!==void 0){const p=parseInt(d[u.X!==void 0?u.X:u.x],10);if(isNaN(p)===!0||p<0)return o;const f=new Date(p*(u.X!==void 0?1e3:1));o.year=f.getFullYear(),o.month=f.getMonth()+1,o.day=f.getDate(),o.hour=f.getHours(),o.minute=f.getMinutes(),o.second=f.getSeconds(),o.millisecond=f.getMilliseconds()}else{if(u.YYYY!==void 0)o.year=parseInt(d[u.YYYY],10);else if(u.YY!==void 0){const p=parseInt(d[u.YY],10);o.year=p<0?p:2e3+p}if(u.M!==void 0){if(o.month=parseInt(d[u.M],10),o.month<1||o.month>12)return o}else u.MMM!==void 0?o.month=l.indexOf(d[u.MMM])+1:u.MMMM!==void 0&&(o.month=s.indexOf(d[u.MMMM])+1);if(u.D!==void 0){if(o.day=parseInt(d[u.D],10),o.year===null||o.month===null||o.day<1)return o;const p=i!=="persian"?new Date(o.year,o.month,0).getDate():bl(o.year,o.month);if(o.day>p)return o}u.H!==void 0?o.hour=parseInt(d[u.H],10)%24:u.h!==void 0&&(o.hour=parseInt(d[u.h],10)%12,(u.A&&d[u.A]==="PM"||u.a&&d[u.a]==="pm"||u.aa&&d[u.aa]==="p.m.")&&(o.hour+=12),o.hour=o.hour%24),u.m!==void 0&&(o.minute=parseInt(d[u.m],10)%60),u.s!==void 0&&(o.second=parseInt(d[u.s],10)%60),u.S!==void 0&&(o.millisecond=parseInt(d[u.S],10)*10**(3-d[u.S].length)),u.Z===void 0&&u.ZZ===void 0||(h=u.Z!==void 0?d[u.Z].replace(":",""):d[u.ZZ],o.timezoneOffset=(h[0]==="+"?-1:1)*(60*h.slice(1,3)+1*h.slice(3,5)))}return o.dateHash=ot(o.year,6)+"/"+ot(o.month)+"/"+ot(o.day),o.timeHash=ot(o.hour)+":"+ot(o.minute)+":"+ot(o.second)+h,o}function Cc(t){const e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);const n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const i=e.getTimezoneOffset()-n.getTimezoneOffset();e.setHours(e.getHours()-i);const r=(e-n)/6048e5;return 1+Math.floor(r)}function yi(t,e,n){const i=new Date(t),r="set";switch(e){case"year":case"years":i[`${r}Month`](0);case"month":case"months":i[`${r}Date`](1);case"day":case"days":case"date":i[`${r}Hours`](0);case"hour":case"hours":i[`${r}Minutes`](0);case"minute":case"minutes":i[`${r}Seconds`](0);case"second":case"seconds":i[`${r}Milliseconds`](0)}return i}function nl(t,e,n){return(t.getTime()-t.getTimezoneOffset()*Ch-(e.getTime()-e.getTimezoneOffset()*Ch))/n}function c_(t,e,n="days"){const i=new Date(t),r=new Date(e);switch(n){case"years":case"year":return i.getFullYear()-r.getFullYear();case"months":case"month":return 12*(i.getFullYear()-r.getFullYear())+i.getMonth()-r.getMonth();case"days":case"day":case"date":return nl(yi(i,"day"),yi(r,"day"),CS);case"hours":case"hour":return nl(yi(i,"hour"),yi(r,"hour"),36e5);case"minutes":case"minute":return nl(yi(i,"minute"),yi(r,"minute"),Ch);case"seconds":case"second":return nl(yi(i,"second"),yi(r,"second"),1e3)}}function kc(t){return c_(t,yi(t,"year"),"days")+1}function vo(t){if(t>=11&&t<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`}return`${t}th`}var cv={YY(t,e,n){const i=this.YYYY(t,e,n)%100;return i>=0?ot(i):"-"+ot(Math.abs(i))},YYYY:(t,e,n)=>n??t.getFullYear(),M:t=>t.getMonth()+1,Mo:t=>vo(t.getMonth()+1),MM:t=>ot(t.getMonth()+1),MMM:(t,e)=>e.monthsShort[t.getMonth()],MMMM:(t,e)=>e.months[t.getMonth()],Q:t=>Math.ceil((t.getMonth()+1)/3),Qo(t){return vo(this.Q(t))},D:t=>t.getDate(),Do:t=>vo(t.getDate()),DD:t=>ot(t.getDate()),DDD:t=>kc(t),DDDo:t=>vo(kc(t)),DDDD:t=>ot(kc(t),3),d:t=>t.getDay(),do:t=>vo(t.getDay()),dd:(t,e)=>e.days[t.getDay()].slice(0,2),ddd:(t,e)=>e.daysShort[t.getDay()],dddd:(t,e)=>e.days[t.getDay()],E:t=>t.getDay()||7,w:t=>Cc(t),wo:t=>vo(Cc(t)),ww:t=>ot(Cc(t)),H:t=>t.getHours(),HH:t=>ot(t.getHours()),h(t){const e=t.getHours();return e===0?12:e>12?e%12:e},hh(t){return ot(this.h(t))},m:t=>t.getMinutes(),mm:t=>ot(t.getMinutes()),s:t=>t.getSeconds(),ss:t=>ot(t.getSeconds()),S:t=>Math.floor(t.getMilliseconds()/100),SS:t=>ot(Math.floor(t.getMilliseconds()/10)),SSS:t=>ot(t.getMilliseconds(),3),A:t=>t.getHours()<12?"AM":"PM",a:t=>t.getHours()<12?"am":"pm",aa:t=>t.getHours()<12?"a.m.":"p.m.",Z:(t,e,n,i)=>uv(i??t.getTimezoneOffset(),":"),ZZ:(t,e,n,i)=>uv(i??t.getTimezoneOffset()),X:t=>Math.floor(t.getTime()/1e3),x:t=>t.getTime()};function d_(t,e,n,i,r){if(t!==0&&!t||t===1/0||t===-1/0)return;const o=new Date(t);if(isNaN(o))return;e===void 0&&(e=l_);const a=u_(n,uy.props);return e.replace(kS,(s,l)=>s in cv?cv[s](o,a,i,r):l===void 0?s:l.split("\\]").join("]"))}var dr=20,ES=["Calendar","Years","Months"],dv=t=>ES.includes(t),Tc=t=>/^-?[\d]+\/[0-1]\d$/.test(t),mo="  ";function $i(t){return t.year+"/"+ot(t.month)}function h_(t,e,n){function i(){}return He(()=>{t.value}),{removeFromHistory:i,addToHistory(){}}}ae({name:"QDate",props:{...Kl,...Dn,...Ue,modelValue:{required:!0,validator:t=>typeof t=="string"||Array.isArray(t)===!0||Object(t)===t||t===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Kl.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Tc},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Tc},navigationMaxYearMonth:{type:String,validator:Tc},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:dv}},emits:[...a_,"rangeStart","rangeEnd","navigation"],setup(t,{slots:e,emit:n}){const{proxy:i}=we(),{$q:r}=i,o=Ke(t,r),{getCache:a}=Ss(),{tabindex:s,headerClass:l,getLocale:c,getCurrentDate:u}=s_(t,r);let d;const h=ur(ws(t)),p=$(null),f=$(ve()),v=$(c()),w=y(()=>ve()),b=y(()=>c()),x=y(()=>u()),g=$(De(f.value,v.value)),_=$(t.defaultView),S=y(()=>r.lang.rtl===!0?"right":"left"),C=$(S.value),T=$(S.value),L=g.value.year,z=$(L-L%dr-(L<0?dr:0)),I=$(null),R=y(()=>{const F=t.landscape===!0?"landscape":"portrait";return`q-date q-date--${F} q-date--${F}-${t.minimal===!0?"minimal":"standard"}`+(o.value===!0?" q-date--dark q-dark":"")+(t.bordered===!0?" q-date--bordered":"")+(t.square===!0?" q-date--square no-border-radius":"")+(t.flat===!0?" q-date--flat no-shadow":"")+(t.disable===!0?" disabled":t.readonly===!0?" q-date--readonly":"")}),P=y(()=>t.color||"primary"),q=y(()=>t.textColor||"white"),k=y(()=>t.emitImmediately===!0&&t.multiple!==!0&&t.range!==!0),M=y(()=>Array.isArray(t.modelValue)===!0?t.modelValue:t.modelValue!==null&&t.modelValue!==void 0?[t.modelValue]:[]),E=y(()=>M.value.filter(F=>typeof F=="string").map(F=>Le(F,f.value,v.value)).filter(F=>F.dateHash!==null&&F.day!==null&&F.month!==null&&F.year!==null)),O=y(()=>{const F=N=>Le(N,f.value,v.value);return M.value.filter(N=>on(N)===!0&&N.from!==void 0&&N.to!==void 0).map(N=>({from:F(N.from),to:F(N.to)})).filter(N=>N.from.dateHash!==null&&N.to.dateHash!==null&&N.from.dateHash<N.to.dateHash)}),j=y(()=>t.calendar!=="persian"?F=>new Date(F.year,F.month-1,F.day):F=>{const N=lv(F.year,F.month,F.day);return new Date(N.gy,N.gm-1,N.gd)}),V=y(()=>t.calendar==="persian"?mi:(F,N,U)=>d_(new Date(F.year,F.month-1,F.day,F.hour,F.minute,F.second,F.millisecond),N===void 0?f.value:N,U===void 0?v.value:U,F.year,F.timezoneOffset)),B=y(()=>E.value.length+O.value.reduce((F,N)=>F+1+c_(j.value(N.to),j.value(N.from)),0)),G=y(()=>{if(t.title!==void 0&&t.title!==null&&t.title.length!==0)return t.title;if(I.value!==null){const U=I.value.init,ee=j.value(U);return v.value.daysShort[ee.getDay()]+", "+v.value.monthsShort[U.month-1]+" "+U.day+mo+"?"}if(B.value===0)return mo;if(B.value>1)return`${B.value} ${v.value.pluralDay}`;const F=E.value[0],N=j.value(F);return isNaN(N.valueOf())===!0?mo:v.value.headerTitle!==void 0?v.value.headerTitle(N,F):v.value.daysShort[N.getDay()]+", "+v.value.monthsShort[F.month-1]+" "+F.day}),J=y(()=>E.value.concat(O.value.map(F=>F.from)).sort((F,N)=>F.year-N.year||F.month-N.month)[0]),oe=y(()=>E.value.concat(O.value.map(F=>F.to)).sort((F,N)=>N.year-F.year||N.month-F.month)[0]),te=y(()=>{if(t.subtitle!==void 0&&t.subtitle!==null&&t.subtitle.length!==0)return t.subtitle;if(B.value===0)return mo;if(B.value>1){const F=J.value,N=oe.value,U=v.value.monthsShort;return U[F.month-1]+(F.year!==N.year?" "+F.year+mo+U[N.month-1]+" ":F.month!==N.month?mo+U[N.month-1]:"")+" "+N.year}return E.value[0].year}),H=y(()=>{const F=[r.iconSet.datetime.arrowLeft,r.iconSet.datetime.arrowRight];return r.lang.rtl===!0?F.reverse():F}),A=y(()=>t.firstDayOfWeek!==void 0?Number(t.firstDayOfWeek):v.value.firstDayOfWeek),D=y(()=>{const F=v.value.daysShort,N=A.value;return N>0?F.slice(N,7).concat(F.slice(0,N)):F}),K=y(()=>{const F=g.value;return t.calendar!=="persian"?new Date(F.year,F.month,0).getDate():bl(F.year,F.month)}),W=y(()=>typeof t.eventColor=="function"?t.eventColor:()=>t.eventColor),se=y(()=>{if(t.navigationMinYearMonth===void 0)return null;const F=t.navigationMinYearMonth.split("/");return{year:parseInt(F[0],10),month:parseInt(F[1],10)}}),fe=y(()=>{if(t.navigationMaxYearMonth===void 0)return null;const F=t.navigationMaxYearMonth.split("/");return{year:parseInt(F[0],10),month:parseInt(F[1],10)}}),le=y(()=>{const F={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return se.value!==null&&se.value.year>=g.value.year&&(F.year.prev=!1,se.value.year===g.value.year&&se.value.month>=g.value.month&&(F.month.prev=!1)),fe.value!==null&&fe.value.year<=g.value.year&&(F.year.next=!1,fe.value.year===g.value.year&&fe.value.month<=g.value.month&&(F.month.next=!1)),F}),pe=y(()=>{const F={};return E.value.forEach(N=>{const U=$i(N);F[U]===void 0&&(F[U]=[]),F[U].push(N.day)}),F}),ce=y(()=>{const F={};return O.value.forEach(N=>{const U=$i(N.from),ee=$i(N.to);if(F[U]===void 0&&(F[U]=[]),F[U].push({from:N.from.day,to:U===ee?N.to.day:void 0,range:N}),U<ee){let ne;const{year:ye,month:ue}=N.from,Ie=ue<12?{year:ye,month:ue+1}:{year:ye+1,month:1};for(;(ne=$i(Ie))<=ee;)F[ne]===void 0&&(F[ne]=[]),F[ne].push({from:void 0,to:ne===ee?N.to.day:void 0,range:N}),Ie.month++,Ie.month>12&&(Ie.year++,Ie.month=1)}}),F}),ke=y(()=>{if(I.value===null)return;const{init:F,initHash:N,final:U,finalHash:ee}=I.value,[ne,ye]=N<=ee?[F,U]:[U,F],ue=$i(ne),Ie=$i(ye);if(ue!==Ce.value&&Ie!==Ce.value)return;const Fe={};return ue===Ce.value?(Fe.from=ne.day,Fe.includeFrom=!0):Fe.from=1,Ie===Ce.value?(Fe.to=ye.day,Fe.includeTo=!0):Fe.to=K.value,Fe}),Ce=y(()=>$i(g.value)),he=y(()=>{const F={};if(t.options===void 0){for(let U=1;U<=K.value;U++)F[U]=!0;return F}const N=typeof t.options=="function"?t.options:U=>t.options.includes(U);for(let U=1;U<=K.value;U++){const ee=Ce.value+"/"+ot(U);F[U]=N(ee)}return F}),Se=y(()=>{const F={};if(t.events===void 0)for(let N=1;N<=K.value;N++)F[N]=!1;else{const N=typeof t.events=="function"?t.events:U=>t.events.includes(U);for(let U=1;U<=K.value;U++){const ee=Ce.value+"/"+ot(U);F[U]=N(ee)===!0&&W.value(ee)}}return F}),Te=y(()=>{let F,N;const{year:U,month:ee}=g.value;if(t.calendar!=="persian")F=new Date(U,ee-1,1),N=new Date(U,ee-1,0).getDate();else{const ne=lv(U,ee,1);F=new Date(ne.gy,ne.gm-1,ne.gd);let ye=ee-1,ue=U;ye===0&&(ye=12,ue--),N=bl(ue,ye)}return{days:F.getDay()-A.value-1,endDay:N}}),ze=y(()=>{const F=[],{days:N,endDay:U}=Te.value,ee=N<0?N+7:N;if(ee<6)for(let ue=U-ee;ue<=U;ue++)F.push({i:ue,fill:!0});const ne=F.length;for(let ue=1;ue<=K.value;ue++){const Ie={i:ue,event:Se.value[ue],classes:[]};he.value[ue]===!0&&(Ie.in=!0,Ie.flat=!0),F.push(Ie)}if(pe.value[Ce.value]!==void 0&&pe.value[Ce.value].forEach(ue=>{const Ie=ne+ue-1;Object.assign(F[Ie],{selected:!0,unelevated:!0,flat:!1,color:P.value,textColor:q.value})}),ce.value[Ce.value]!==void 0&&ce.value[Ce.value].forEach(ue=>{if(ue.from!==void 0){const Ie=ne+ue.from-1,Fe=ne+(ue.to||K.value)-1;for(let at=Ie;at<=Fe;at++)Object.assign(F[at],{range:ue.range,unelevated:!0,color:P.value,textColor:q.value});Object.assign(F[Ie],{rangeFrom:!0,flat:!1}),ue.to!==void 0&&Object.assign(F[Fe],{rangeTo:!0,flat:!1})}else if(ue.to!==void 0){const Ie=ne+ue.to-1;for(let Fe=ne;Fe<=Ie;Fe++)Object.assign(F[Fe],{range:ue.range,unelevated:!0,color:P.value,textColor:q.value});Object.assign(F[Ie],{flat:!1,rangeTo:!0})}else{const Ie=ne+K.value-1;for(let Fe=ne;Fe<=Ie;Fe++)Object.assign(F[Fe],{range:ue.range,unelevated:!0,color:P.value,textColor:q.value})}}),ke.value!==void 0){const ue=ne+ke.value.from-1,Ie=ne+ke.value.to-1;for(let Fe=ue;Fe<=Ie;Fe++)F[Fe].color=P.value,F[Fe].editRange=!0;ke.value.includeFrom===!0&&(F[ue].editRangeFrom=!0),ke.value.includeTo===!0&&(F[Ie].editRangeTo=!0)}g.value.year===x.value.year&&g.value.month===x.value.month&&(F[ne+x.value.day-1].today=!0);const ye=F.length%7;if(ye>0){const ue=7-ye;for(let Ie=1;Ie<=ue;Ie++)F.push({i:Ie,fill:!0})}return F.forEach(ue=>{let Ie="q-date__calendar-item ";ue.fill===!0?Ie+="q-date__calendar-item--fill":(Ie+="q-date__calendar-item--"+(ue.in===!0?"in":"out"),ue.range!==void 0&&(Ie+=" q-date__range"+(ue.rangeTo===!0?"-to":ue.rangeFrom===!0?"-from":"")),ue.editRange===!0&&(Ie+=` q-date__edit-range${ue.editRangeFrom===!0?"-from":""}${ue.editRangeTo===!0?"-to":""}`),ue.range===void 0&&ue.editRange!==!0||(Ie+=` text-${ue.color}`)),ue.classes=Ie}),F}),ie=y(()=>t.disable===!0?{"aria-disabled":"true"}:{});function me(){const{year:F,month:N,day:U}=x.value,ee={...g.value,year:F,month:N,day:U},ne=pe.value[$i(ee)];ne!==void 0&&ne.includes(ee.day)!==!1||Tt(ee),X(ee.year,ee.month)}function X(F,N){_.value="Calendar",Re(F,N)}function ve(){return t.calendar==="persian"?"YYYY/MM/DD":t.mask}function Le(F,N,U){return Ra(F,N,U,t.calendar,{hour:0,minute:0,second:0,millisecond:0})}function De(F,N){const U=Array.isArray(t.modelValue)===!0?t.modelValue:t.modelValue?[t.modelValue]:[];if(U.length===0)return Be();const ee=U[U.length-1],ne=Le(ee.from!==void 0?ee.from:ee,F,N);return ne.dateHash===null?Be():ne}function Be(){let F,N;if(t.defaultYearMonth!==void 0){const U=t.defaultYearMonth.split("/");F=parseInt(U[0],10),N=parseInt(U[1],10)}else{const U=x.value!==void 0?x.value:u();F=U.year,N=U.month}return{year:F,month:N,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:F+"/"+ot(N)+"/01"}}function Q(F){let N=g.value.year,U=Number(g.value.month)+F;U===13?(U=1,N++):U===0&&(U=12,N--),Re(N,U),k.value===!0&&mt("month")}function de(F){Re(Number(g.value.year)+F,g.value.month),k.value===!0&&mt("year")}function _e(F){return{year:F.year,month:F.month,day:F.day}}function Re(F,N,U){if(se.value!==null&&F<=se.value.year&&((N<se.value.month||F<se.value.year)&&(N=se.value.month),F=se.value.year),fe.value!==null&&F>=fe.value.year&&((N>fe.value.month||F>fe.value.year)&&(N=fe.value.month),F=fe.value.year),U!==void 0){const{hour:ne,minute:ye,second:ue,millisecond:Ie,timezoneOffset:Fe,timeHash:at}=U;Object.assign(g.value,{hour:ne,minute:ye,second:ue,millisecond:Ie,timezoneOffset:Fe,timeHash:at})}const ee=F+"/"+ot(N)+"/01";ee!==g.value.dateHash&&(C.value=g.value.dateHash<ee==(r.lang.rtl!==!0)?"left":"right",F!==g.value.year&&(T.value=C.value),We(()=>{z.value=F-F%dr-(F<0?dr:0),Object.assign(g.value,{year:F,month:N,day:1,dateHash:ee})}))}function Ge(F,N,U){const ee=F!==null&&F.length===1&&t.multiple===!1?F[0]:F;d=ee;const{reason:ne,details:ye}=qe(N,U);n("update:modelValue",ee,ne,ye)}function mt(F){const N=E.value[0]!==void 0&&E.value[0].dateHash!==null?{...E.value[0]}:{...g.value};We(()=>{N.year=g.value.year,N.month=g.value.month;const U=t.calendar!=="persian"?new Date(N.year,N.month,0).getDate():bl(N.year,N.month);N.day=Math.min(Math.max(1,N.day),U);const ee=tt(N);d=ee;const{details:ne}=qe("",N);n("update:modelValue",ee,F,ne)})}function qe(F,N){return N.from!==void 0?{reason:`${F}-range`,details:{..._e(N.target),from:_e(N.from),to:_e(N.to)}}:{reason:`${F}-day`,details:_e(N)}}function tt(F,N,U){return F.from!==void 0?{from:V.value(F.from,N,U),to:V.value(F.to,N,U)}:V.value(F,N,U)}function Tt(F){let N;if(t.multiple===!0)if(F.from!==void 0){const U=mi(F.from),ee=mi(F.to),ne=E.value.filter(ue=>ue.dateHash<U||ue.dateHash>ee),ye=O.value.filter(({from:ue,to:Ie})=>Ie.dateHash<U||ue.dateHash>ee);N=ne.concat(ye).concat(F).map(ue=>tt(ue))}else{const U=M.value.slice();U.push(tt(F)),N=U}else N=tt(F);Ge(N,"add",F)}function Z(F){if(t.noUnset===!0)return;let N=null;if(t.multiple===!0&&Array.isArray(t.modelValue)===!0){const U=tt(F);N=F.from!==void 0?t.modelValue.filter(ee=>ee.from===void 0||ee.from!==U.from&&ee.to!==U.to):t.modelValue.filter(ee=>ee!==U),N.length===0&&(N=null)}Ge(N,"remove",F)}function Ee(F,N,U){const ee=E.value.concat(O.value).map(ne=>tt(ne,F,N)).filter(ne=>ne.from!==void 0?ne.from.dateHash!==null&&ne.to.dateHash!==null:ne.dateHash!==null);n("update:modelValue",(t.multiple===!0?ee:ee[0])||null,U)}function be(){if(t.minimal!==!0)return m("div",{class:"q-date__header "+l.value},[m("div",{class:"relative-position"},[m($t,{name:"q-transition--fade"},()=>m("div",{key:"h-yr-"+te.value,class:"q-date__header-subtitle q-date__header-link "+(_.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...a("vY",{onClick(){_.value="Years"},onKeyup(F){F.keyCode===13&&(_.value="Years")}})},[te.value]))]),m("div",{class:"q-date__header-title relative-position flex no-wrap"},[m("div",{class:"relative-position col"},[m($t,{name:"q-transition--fade"},()=>m("div",{key:"h-sub"+G.value,class:"q-date__header-title-label q-date__header-link "+(_.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...a("vC",{onClick(){_.value="Calendar"},onKeyup(F){F.keyCode===13&&(_.value="Calendar")}})},[G.value]))]),t.todayBtn===!0?m(it,{class:"q-date__header-today self-start",icon:r.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:s.value,onClick:me}):null])])}function ge({label:F,type:N,key:U,dir:ee,goTo:ne,boundaries:ye,cls:ue}){return[m("div",{class:"row items-center q-date__arrow"},[m(it,{round:!0,dense:!0,size:"sm",flat:!0,icon:H.value[0],tabindex:s.value,disable:ye.prev===!1,...a("go-#"+N,{onClick(){ne(-1)}})})]),m("div",{class:"relative-position overflow-hidden flex flex-center"+ue},[m($t,{name:"q-transition--jump-"+ee},()=>m("div",{key:U},[m(it,{flat:!0,dense:!0,noCaps:!0,label:F,tabindex:s.value,...a("view#"+N,{onClick:()=>{_.value=N}})})]))]),m("div",{class:"row items-center q-date__arrow"},[m(it,{round:!0,dense:!0,size:"sm",flat:!0,icon:H.value[1],tabindex:s.value,disable:ye.next===!1,...a("go+#"+N,{onClick(){ne(1)}})})])]}re(()=>t.modelValue,F=>{if(d===F)d=0;else{const N=De(f.value,v.value);Re(N.year,N.month,N)}}),re(_,()=>{p.value!==null&&i.$el.contains(document.activeElement)===!0&&p.value.focus()}),re(()=>g.value.year+"|"+g.value.month,()=>{n("navigation",{year:g.value.year,month:g.value.month})}),re(w,F=>{Ee(F,v.value,"mask"),f.value=F}),re(b,F=>{Ee(f.value,F,"locale"),v.value=F});const xe={Calendar:()=>[m("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[m("div",{class:"q-date__navigation row items-center no-wrap"},ge({label:v.value.months[g.value.month-1],type:"Months",key:g.value.month,dir:C.value,goTo:Q,boundaries:le.value.month,cls:" col"}).concat(ge({label:g.value.year,type:"Years",key:g.value.year,dir:T.value,goTo:de,boundaries:le.value.year,cls:""}))),m("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},D.value.map(F=>m("div",{class:"q-date__calendar-item"},[m("div",F)]))),m("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[m($t,{name:"q-transition--slide-"+C.value},()=>m("div",{key:Ce.value,class:"q-date__calendar-days fit"},ze.value.map(F=>m("div",{class:F.classes},[F.in===!0?m(it,{class:F.today===!0?"q-date__today":"",dense:!0,flat:F.flat,unelevated:F.unelevated,color:F.color,textColor:F.textColor,label:F.i,tabindex:s.value,...a("day#"+F.i,{onClick:()=>{(function(N){const U={...g.value,day:N};if(t.range===!1)return void function(ee,ne){const ye=pe.value[ne];(ye!==void 0&&ye.includes(ee.day)===!0?Z:Tt)(ee)}(U,Ce.value);if(I.value===null){const ee=ze.value.find(ye=>ye.fill!==!0&&ye.i===N);if(t.noUnset!==!0&&ee.range!==void 0)return void Z({target:U,from:ee.range.from,to:ee.range.to});if(ee.selected===!0)return void Z(U);const ne=mi(U);I.value={init:U,initHash:ne,final:U,finalHash:ne},n("rangeStart",_e(U))}else{const ee=I.value.initHash,ne=mi(U),ye=ee<=ne?{from:I.value.init,to:U}:{from:U,to:I.value.init};I.value=null,Tt(ee===ne?U:{target:U,...ye}),n("rangeEnd",{from:_e(ye.from),to:_e(ye.to)})}})(F.i)},onMouseover:()=>{(function(N){if(I.value!==null){const U={...g.value,day:N};Object.assign(I.value,{final:U,finalHash:mi(U)})}})(F.i)}})},F.event!==!1?()=>m("div",{class:"q-date__event bg-"+F.event}):null):m("div",""+F.i)]))))])])],Months(){const F=g.value.year===x.value.year,N=ee=>se.value!==null&&g.value.year===se.value.year&&se.value.month>ee||fe.value!==null&&g.value.year===fe.value.year&&fe.value.month<ee,U=v.value.monthsShort.map((ee,ne)=>{const ye=g.value.month===ne+1;return m("div",{class:"q-date__months-item flex flex-center"},[m(it,{class:F===!0&&x.value.month===ne+1?"q-date__today":null,flat:ye!==!0,label:ee,unelevated:ye,color:ye===!0?P.value:null,textColor:ye===!0?q.value:null,tabindex:s.value,disable:N(ne+1),...a("month#"+ne,{onClick:()=>{(function(ue){Re(g.value.year,ue),_.value="Calendar",k.value===!0&&mt("month")})(ne+1)}})})])});return t.yearsInMonthView===!0&&U.unshift(m("div",{class:"row no-wrap full-width"},[ge({label:g.value.year,type:"Years",key:g.value.year,dir:T.value,goTo:de,boundaries:le.value.year,cls:" col"})])),m("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},U)},Years(){const F=z.value,N=F+dr,U=[],ee=ne=>se.value!==null&&se.value.year>ne||fe.value!==null&&fe.value.year<ne;for(let ne=F;ne<=N;ne++){const ye=g.value.year===ne;U.push(m("div",{class:"q-date__years-item flex flex-center"},[m(it,{key:"yr"+ne,class:x.value.year===ne?"q-date__today":null,flat:!ye,label:ne,dense:!0,unelevated:ye,color:ye===!0?P.value:null,textColor:ye===!0?q.value:null,tabindex:s.value,disable:ee(ne),...a("yr#"+ne,{onClick:()=>{Re(ne,g.value.month),_.value=t.defaultView==="Years"?"Months":"Calendar",k.value===!0&&mt("year")}})})]))}return m("div",{class:"q-date__view q-date__years flex flex-center"},[m("div",{class:"col-auto"},[m(it,{round:!0,dense:!0,flat:!0,icon:H.value[0],tabindex:s.value,disable:ee(F),...a("y-",{onClick:()=>{z.value-=dr}})})]),m("div",{class:"q-date__years-content col self-stretch row items-center"},U),m("div",{class:"col-auto"},[m(it,{round:!0,dense:!0,flat:!0,icon:H.value[1],tabindex:s.value,disable:ee(N),...a("y+",{onClick:()=>{z.value+=dr}})})])])}};return Object.assign(i,{setToday:me,setView:function(F){dv(F)===!0&&(_.value=F)},offsetCalendar:function(F,N){["month","year"].includes(F)&&(F==="month"?Q:de)(N===!0?-1:1)},setCalendarTo:X,setEditingRange:function(F,N){if(t.range===!1||!F)return void(I.value=null);const U=Object.assign({...g.value},F),ee=N!==void 0?Object.assign({...g.value},N):U;I.value={init:U,initHash:mi(U),final:ee,finalHash:mi(ee)},X(U.year,U.month)}}),()=>{const F=[m("div",{class:"q-date__content col relative-position"},[m($t,{name:"q-transition--fade"},xe[_.value])])],N=Me(e.default);return N!==void 0&&F.push(m("div",{class:"q-date__actions"},N)),t.name!==void 0&&t.disable!==!0&&h(F,"push"),m("div",{class:R.value,...ie.value},[be(),m("div",{ref:p,class:"q-date__main col column",tabindex:-1},F)])}}});var Ec,Mc,Fa,hv,pv,fv,il=0,Lc=!1,hr=null;function MS(t){(function(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const n=function(a){if(a.path)return a.path;if(a.composedPath)return a.composedPath();const s=[];let l=a.target;for(;l;){if(s.push(l),l.tagName==="HTML")return s.push(document),s.push(window),s;l=l.parentElement}}(e),i=e.shiftKey&&!e.deltaX,r=!i&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),o=i||r?e.deltaY:e.deltaX;for(let a=0;a<n.length;a++){const s=n[a];if(Uw(s,r))return r?o<0&&s.scrollTop===0||o>0&&s.scrollTop+s.clientHeight===s.scrollHeight:o<0&&s.scrollLeft===0||o>0&&s.scrollLeft+s.clientWidth===s.scrollWidth}return!0})(t)&&$e(t)}function gv(t){t.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function rl(t){Lc!==!0&&(Lc=!0,requestAnimationFrame(()=>{Lc=!1;const{height:e}=t.target,{clientHeight:n,scrollTop:i}=document.scrollingElement;Fa!==void 0&&e===window.innerHeight||(Fa=n-e,document.scrollingElement.scrollTop=i),i>Fa&&(document.scrollingElement.scrollTop-=Math.ceil((i-Fa)/8))}))}function vv(t){const e=document.body,n=window.visualViewport!==void 0;if(t==="add"){const{overflowY:i,overflowX:r}=window.getComputedStyle(e);Ec=xu(window),Mc=Ji(window),hv=e.style.left,pv=e.style.top,fv=window.location.href,e.style.left=`-${Ec}px`,e.style.top=`-${Mc}px`,r!=="hidden"&&(r==="scroll"||e.scrollWidth>window.innerWidth)&&e.classList.add("q-body--force-scrollbar-x"),i!=="hidden"&&(i==="scroll"||e.scrollHeight>window.innerHeight)&&e.classList.add("q-body--force-scrollbar-y"),e.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,je.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",rl,_t.passiveCapture),window.visualViewport.addEventListener("scroll",rl,_t.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",gv,_t.passiveCapture))}je.is.desktop===!0&&je.is.mac===!0&&window[`${t}EventListener`]("wheel",MS,_t.notPassive),t==="remove"&&(je.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",rl,_t.passiveCapture),window.visualViewport.removeEventListener("scroll",rl,_t.passiveCapture)):window.removeEventListener("scroll",gv,_t.passiveCapture)),e.classList.remove("q-body--prevent-scroll"),e.classList.remove("q-body--force-scrollbar-x"),e.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,e.style.left=hv,e.style.top=pv,window.location.href===fv&&window.scrollTo(Ec,Mc),Fa=void 0)}function kh(t){let e="add";if(t===!0){if(il++,hr!==null)return clearTimeout(hr),void(hr=null);if(il>1)return}else{if(il===0||--il>0)return;if(e="remove",je.is.ios===!0&&je.is.nativeMobile===!0)return hr!==null&&clearTimeout(hr),void(hr=setTimeout(()=>{vv(e),hr=null},100))}vv(e)}function p_(){let t;return{preventBodyScroll(e){e===t||t===void 0&&e!==!0||(t=e,kh(e))}}}var ol=0,LS={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},mv={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},Su=ae({name:"QDialog",inheritAttrs:!1,props:{...ua,...Br,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:t=>["standard","top","bottom","left","right"].includes(t)}},emits:[...ca,"shake","click","escapeKey"],setup(t,{slots:e,emit:n,attrs:i}){const r=we(),o=$(null),a=$(!1),s=$(!1);let l,c,u=null,d=null;const h=y(()=>t.persistent!==!0&&t.noRouteDismiss!==!0&&t.seamless!==!0),{preventBodyScroll:p}=p_(),{registerTimeout:f}=qi(),{registerTick:v,removeTick:w}=zo(),{transitionProps:b,transitionStyle:x}=bu(t,()=>mv[t.position][0],()=>mv[t.position][1]),g=y(()=>x.value+(t.backdropFilter!==void 0?`;backdrop-filter:${t.backdropFilter};-webkit-backdrop-filter:${t.backdropFilter}`:"")),{showPortal:_,hidePortal:S,portalIsAccessible:C,renderPortal:T}=qp(r,o,function(){return m("div",{role:"dialog","aria-modal":P.value===!0?"true":"false",...i,class:k.value},[m($t,{name:"q-transition--fade",appear:!0},()=>P.value===!0?m("div",{class:"q-dialog__backdrop fixed-full",style:g.value,"aria-hidden":"true",tabindex:-1,onClick:G}):null),m($t,b.value,()=>a.value===!0?m("div",{ref:o,class:R.value,style:x.value,tabindex:-1,...q.value},Me(e.default)):null)])},"dialog"),{hide:L}=da({showing:a,hideOnRouteChange:h,handleShow:function(oe){z(),d=t.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,V(t.maximized),_(),s.value=!0,t.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),v(M)):w(),f(()=>{if(r.proxy.$q.platform.is.ios===!0){if(t.seamless!==!0&&document.activeElement){const{top:te,bottom:H}=document.activeElement.getBoundingClientRect(),{innerHeight:A}=window,D=window.visualViewport!==void 0?window.visualViewport.height:A;te>0&&H>D/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-D,H>=A?1/0:Math.ceil(document.scrollingElement.scrollTop+H-D/2))),document.activeElement.scrollIntoView()}c=!0,o.value.click(),c=!1}_(!0),s.value=!1,n("show",oe)},t.transitionDuration)},handleHide:function(oe){w(),I(),j(!0),s.value=!0,S(),d!==null&&(((oe&&oe.type.indexOf("key")===0?d.closest('[tabindex]:not([tabindex^="-"])'):void 0)||d).focus(),d=null),f(()=>{S(!0),s.value=!1,n("hide",oe)},t.transitionDuration)},processOnMount:!0}),{addToHistory:z,removeFromHistory:I}=h_(a),R=y(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${t.maximized===!0?"maximized":"minimized"} q-dialog__inner--${t.position} ${LS[t.position]}`+(s.value===!0?" q-dialog__inner--animating":"")+(t.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(t.fullHeight===!0?" q-dialog__inner--fullheight":"")+(t.square===!0?" q-dialog__inner--square":"")),P=y(()=>a.value===!0&&t.seamless!==!0),q=y(()=>t.autoClose===!0?{onClick:B}:{}),k=y(()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(P.value===!0?"modal":"seamless"),i.class]);function M(oe){ha(()=>{let te=o.value;if(te!==null){if(oe!==void 0){const H=te.querySelector(oe);if(H!==null)return void H.focus({preventScroll:!0})}te.contains(document.activeElement)!==!0&&(te=te.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||te.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||te.querySelector("[autofocus], [data-autofocus]")||te,te.focus({preventScroll:!0}))}})}function E(oe){oe&&typeof oe.focus=="function"?oe.focus({preventScroll:!0}):M(),n("shake");const te=o.value;te!==null&&(te.classList.remove("q-animate--scale"),te.classList.add("q-animate--scale"),u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,o.value!==null&&(te.classList.remove("q-animate--scale"),M())},170))}function O(){t.seamless!==!0&&(t.persistent===!0||t.noEscDismiss===!0?t.maximized!==!0&&t.noShake!==!0&&E():(n("escapeKey"),L()))}function j(oe){u!==null&&(clearTimeout(u),u=null),oe!==!0&&a.value!==!0||(V(!1),t.seamless!==!0&&(p(!1),xh(J),Nl(O))),oe!==!0&&(d=null)}function V(oe){oe===!0?l!==!0&&(ol<1&&document.body.classList.add("q-body--dialog"),ol++,l=!0):l===!0&&(ol<2&&document.body.classList.remove("q-body--dialog"),ol--,l=!1)}function B(oe){c!==!0&&(L(oe),n("click",oe))}function G(oe){t.persistent!==!0&&t.noBackdropDismiss!==!0?L(oe):t.noShake!==!0&&E()}function J(oe){t.allowFocusOutside!==!0&&C.value===!0&&xy(o.value,oe.target)!==!0&&M('[tabindex]:not([tabindex="-1"])')}return re(()=>t.maximized,oe=>{a.value===!0&&V(oe)}),re(P,oe=>{p(oe),oe===!0?(Dy(J),Ay(O)):(xh(J),Nl(O))}),Object.assign(r.proxy,{focus:M,shake:E,__updateRefocusTarget(oe){d=oe||null}}),He(j),T}});function f_(t,e){if(e&&t===e)return null;const n=t.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(n)===!0)return t;const i=(window.getComputedStyle?window.getComputedStyle(t):t.currentStyle).display;return i==="block"||i==="table"?t:f_(t.parentNode)}function qc(t,e,n){return!(!t||t===document.body)&&(n===!0&&t===e||(e===document?document.body:e).contains(t.parentNode))}function g_(t,e,n){if(n||((n=document.createRange()).selectNode(t),n.setStart(t,0)),e.count===0)n.setEnd(t,e.count);else if(e.count>0)if(t.nodeType===Node.TEXT_NODE)t.textContent.length<e.count?e.count-=t.textContent.length:(n.setEnd(t,e.count),e.count=0);else for(let i=0;e.count!==0&&i<t.childNodes.length;i++)n=g_(t.childNodes[i],e,n);return n}ae({name:"QDrawer",inheritAttrs:!1,props:{...ua,...Ue,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...ca,"onLayout","miniState"],setup(t,{slots:e,emit:n,attrs:i}){const r=we(),{proxy:{$q:o}}=r,a=Ke(t,o),{preventBodyScroll:s}=p_(),{registerTimeout:l,removeTimeout:c}=qi(),u=_n(Yr,ut);if(u===ut)return ut;let d,h,p=null;const f=$(t.behavior==="mobile"||t.behavior!=="desktop"&&u.totalWidth.value<=t.breakpoint),v=y(()=>t.mini===!0&&f.value!==!0),w=y(()=>v.value===!0?t.miniWidth:t.width),b=$(t.showIfAbove===!0&&f.value===!1||t.modelValue===!0),x=y(()=>t.persistent!==!0&&(f.value===!0||B.value===!0));function g(ie,me){if(T(),ie!==!1&&u.animate(),pe(0),f.value===!0){const X=u.instances[E.value];X!==void 0&&X.belowBreakpoint===!0&&X.hide(!1),ce(1),u.isContainer.value!==!0&&s(!0)}else ce(0),ie!==!1&&ke(!1);l(()=>{ie!==!1&&ke(!0),me!==!0&&n("show",ie)},150)}function _(ie,me){L(),ie!==!1&&u.animate(),ce(0),pe(R.value*w.value),Se(),me!==!0?l(()=>{n("hide",ie)},150):c()}const{show:S,hide:C}=da({showing:b,hideOnRouteChange:x,handleShow:g,handleHide:_}),{addToHistory:T,removeFromHistory:L}=h_(b),z={belowBreakpoint:f,hide:C},I=y(()=>t.side==="right"),R=y(()=>(o.lang.rtl===!0?-1:1)*(I.value===!0?1:-1)),P=$(0),q=$(!1),k=$(!1),M=$(w.value*R.value),E=y(()=>I.value===!0?"left":"right"),O=y(()=>b.value===!0&&f.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:w.value:0),j=y(()=>t.overlay===!0||t.miniToOverlay===!0||u.view.value.indexOf(I.value?"R":"L")!==-1||o.platform.is.ios===!0&&u.isContainer.value===!0),V=y(()=>t.overlay===!1&&b.value===!0&&f.value===!1),B=y(()=>t.overlay===!0&&b.value===!0&&f.value===!1),G=y(()=>"fullscreen q-drawer__backdrop"+(b.value===!1&&q.value===!1?" hidden":"")),J=y(()=>({backgroundColor:`rgba(0,0,0,${.4*P.value})`})),oe=y(()=>I.value===!0?u.rows.value.top[2]==="r":u.rows.value.top[0]==="l"),te=y(()=>I.value===!0?u.rows.value.bottom[2]==="r":u.rows.value.bottom[0]==="l"),H=y(()=>{const ie={};return u.header.space===!0&&oe.value===!1&&(j.value===!0?ie.top=`${u.header.offset}px`:u.header.space===!0&&(ie.top=`${u.header.size}px`)),u.footer.space===!0&&te.value===!1&&(j.value===!0?ie.bottom=`${u.footer.offset}px`:u.footer.space===!0&&(ie.bottom=`${u.footer.size}px`)),ie}),A=y(()=>{const ie={width:`${w.value}px`,transform:`translateX(${M.value}px)`};return f.value===!0?ie:Object.assign(ie,H.value)}),D=y(()=>"q-drawer__content fit "+(u.isContainer.value!==!0?"scroll":"overflow-auto")),K=y(()=>`q-drawer q-drawer--${t.side}`+(k.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(a.value===!0?" q-drawer--dark q-dark":"")+(q.value===!0?" no-transition":b.value===!0?"":" q-layout--prevent-focus")+(f.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":" q-drawer--"+(v.value===!0?"mini":"standard")+(j.value===!0||V.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(oe.value===!0?" q-drawer--top-padding":""))),W=y(()=>{const ie=o.lang.rtl===!0?t.side:E.value;return[[In,Ce,void 0,{[ie]:!0,mouse:!0}]]}),se=y(()=>{const ie=o.lang.rtl===!0?E.value:t.side;return[[In,he,void 0,{[ie]:!0,mouse:!0}]]}),fe=y(()=>{const ie=o.lang.rtl===!0?E.value:t.side;return[[In,he,void 0,{[ie]:!0,mouse:!0,mouseAllDir:!0}]]});function le(){var ie,me;ie=f,me=t.behavior==="mobile"||t.behavior!=="desktop"&&u.totalWidth.value<=t.breakpoint,ie.value!==me&&(ie.value=me)}function pe(ie){ie===void 0?We(()=>{ie=b.value===!0?0:w.value,pe(R.value*ie)}):(u.isContainer.value!==!0||I.value!==!0||f.value!==!0&&Math.abs(ie)!==w.value||(ie+=R.value*u.scrollbarWidth.value),M.value=ie)}function ce(ie){P.value=ie}function ke(ie){const me=ie===!0?"remove":u.isContainer.value!==!0?"add":"";me!==""&&document.body.classList[me]("q-body--drawer-toggle")}function Ce(ie){if(b.value!==!1)return;const me=w.value,X=vt(ie.distance.x,0,me);if(ie.isFinal===!0)return X>=Math.min(75,me)?S():(u.animate(),ce(0),pe(R.value*me)),void(q.value=!1);pe((o.lang.rtl===!0?I.value!==!0:I.value)?Math.max(me-X,0):Math.min(0,X-me)),ce(vt(X/me,0,1)),ie.isFirst===!0&&(q.value=!0)}function he(ie){if(b.value!==!0)return;const me=w.value,X=ie.direction===t.side,ve=(o.lang.rtl===!0?X!==!0:X)?vt(ie.distance.x,0,me):0;if(ie.isFinal===!0)return Math.abs(ve)<Math.min(75,me)?(u.animate(),ce(1),pe(0)):C(),void(q.value=!1);pe(R.value*ve),ce(vt(1-ve/me,0,1)),ie.isFirst===!0&&(q.value=!0)}function Se(){s(!1),ke(!0)}function Te(ie,me){u.update(t.side,ie,me)}function ze(ie,me){Te("size",ie===!0?t.miniWidth:me)}return re(f,ie=>{ie===!0?(d=b.value,b.value===!0&&C(!1)):t.overlay===!1&&t.behavior!=="mobile"&&d!==!1&&(b.value===!0?(pe(0),ce(0),Se()):S(!1))}),re(()=>t.side,(ie,me)=>{u.instances[me]===z&&(u.instances[me]=void 0,u[me].space=!1,u[me].offset=0),u.instances[ie]=z,u[ie].size=w.value,u[ie].space=V.value,u[ie].offset=O.value}),re(u.totalWidth,()=>{u.isContainer.value!==!0&&document.qScrollPrevented===!0||le()}),re(()=>t.behavior+t.breakpoint,le),re(u.isContainer,ie=>{b.value===!0&&s(ie!==!0),ie===!0&&le()}),re(u.scrollbarWidth,()=>{pe(b.value===!0?0:void 0)}),re(O,ie=>{Te("offset",ie)}),re(V,ie=>{n("onLayout",ie),Te("space",ie)}),re(I,()=>{pe()}),re(w,ie=>{pe(),ze(t.miniToOverlay,ie)}),re(()=>t.miniToOverlay,ie=>{ze(ie,w.value)}),re(()=>o.lang.rtl,()=>{pe()}),re(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(function(){p!==null&&clearTimeout(p),r.proxy&&r.proxy.$el&&r.proxy.$el.classList.add("q-drawer--mini-animate"),k.value=!0,p=setTimeout(()=>{p=null,k.value=!1,r&&r.proxy&&r.proxy.$el&&r.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}(),u.animate())}),re(v,ie=>{n("miniState",ie)}),u.instances[t.side]=z,ze(t.miniToOverlay,w.value),Te("space",V.value),Te("offset",O.value),t.showIfAbove===!0&&t.modelValue!==!0&&b.value===!0&&t["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),xt(()=>{n("onLayout",V.value),n("miniState",v.value),d=t.showIfAbove===!0;const ie=()=>{(b.value===!0?g:_)(!1,!0)};u.totalWidth.value===0?h=re(u.totalWidth,()=>{h(),h=void 0,b.value===!1&&t.showIfAbove===!0&&f.value===!1?S(!1):ie()}):We(ie)}),He(()=>{h!==void 0&&h(),p!==null&&(clearTimeout(p),p=null),b.value===!0&&Se(),u.instances[t.side]===z&&(u.instances[t.side]=void 0,Te("size",0),Te("offset",0),Te("space",!1))}),()=>{const ie=[];f.value===!0&&(t.noSwipeOpen===!1&&ie.push(xn(m("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),W.value)),ie.push(An("div",{ref:"backdrop",class:G.value,style:J.value,"aria-hidden":"true",onClick:C},void 0,"backdrop",t.noSwipeBackdrop!==!0&&b.value===!0,()=>fe.value)));const me=v.value===!0&&e.mini!==void 0,X=[m("div",{...i,key:""+me,class:[D.value,i.class]},me===!0?e.mini():Me(e.default))];return t.elevated===!0&&b.value===!0&&X.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),ie.push(An("aside",{ref:"content",class:K.value,style:A.value},X,"contentclose",t.noSwipeClose!==!0&&f.value===!0,()=>se.value)),m("div",{class:"q-drawer-container"},ie)}}});var qS=/^https?:\/\//,IS=class{constructor(t,e){this.el=t,this.eVm=e,this._range=null}get selection(){if(this.el){const t=document.getSelection();if(qc(t.anchorNode,this.el,!0)&&qc(t.focusNode,this.el,!0))return t}return null}get hasSelection(){return this.selection!==null&&this.selection.toString().length!==0}get range(){const t=this.selection;return t!==null&&t.rangeCount?t.getRangeAt(0):this._range}get parent(){const t=this.range;if(t!==null){const e=t.startContainer;return e.nodeType===document.ELEMENT_NODE?e:e.parentNode}return null}get blockParent(){const t=this.parent;return t!==null?f_(t,this.el):null}save(t=this.range){t!==null&&(this._range=t)}restore(t=this._range){const e=document.createRange(),n=document.getSelection();t!==null?(e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),n.removeAllRanges(),n.addRange(e)):(n.selectAllChildren(this.el),n.collapseToEnd())}savePosition(){let t,e=-1;const n=document.getSelection(),i=this.el.parentNode;if(n.focusNode&&qc(n.focusNode,i))for(t=n.focusNode,e=n.focusOffset;t&&t!==i;)t!==this.el&&t.previousSibling?(t=t.previousSibling,e+=t.textContent.length):t=t.parentNode;this.savedPos=e}restorePosition(t=0){if(this.savedPos>0&&this.savedPos<t){const e=window.getSelection(),n=g_(this.el,{count:this.savedPos});n&&(n.collapse(!1),e.removeAllRanges(),e.addRange(n))}}hasParent(t,e){const n=e?this.parent:this.blockParent;return n!==null&&n.nodeName.toLowerCase()===t.toLowerCase()}hasParents(t,e,n=this.parent){return n!==null&&(t.includes(n.nodeName.toLowerCase())===!0||e===!0&&this.hasParents(t,e,n.parentNode))}is(t,e){if(this.selection===null)return!1;switch(t){case"formatBlock":return e==="DIV"&&this.parent===this.el||this.hasParent(e,e==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(t)===e;case"fontName":const n=document.queryCommandValue(t);return n===`"${e}"`||n===e;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const i=document.queryCommandState(t);return e!==void 0?i===e:i}}getParentAttribute(t){return this.parent!==null?this.parent.getAttribute(t):null}can(t){return t==="outdent"?this.hasParents(["blockquote","li"],!0):t==="indent"?this.hasParents(["li"],!0):t==="link"?this.selection!==null||this.is("link"):void 0}apply(t,e,n=zt){if(t==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(e)&&this.is(t,e)&&(t="outdent",e=null),e==="PRE"&&this.is(t,"PRE")&&(e="P");else{if(t==="print"){n();const i=window.open();return i.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),i.print(),void i.close()}if(t==="link"){const i=this.getParentAttribute("href");if(i===null){const r=this.selectWord(this.selection),o=r?r.toString():"";if(!(o.length||this.range&&this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=qS.test(o)?o:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(r.getRangeAt(0))}else this.eVm.editLinkUrl.value=i,this.range.selectNodeContents(this.parent),this.save();return}if(t==="fullscreen")return this.eVm.toggleFullscreen(),void n();if(t==="viewsource")return this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),void n()}document.execCommand(t,!1,e),n()}selectWord(t){if(t===null||t.isCollapsed!==!0||t.modify===void 0)return t;const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const n=e.collapsed?["backward","forward"]:["forward","backward"];e.detach();const i=t.focusNode,r=t.focusOffset;return t.collapse(t.anchorNode,t.anchorOffset),t.modify("move",n[0],"character"),t.modify("move",n[1],"word"),t.extend(i,r),t.modify("extend",n[1],"character"),t.modify("extend",n[0],"word"),t}},PS=ae({name:"QTooltip",inheritAttrs:!1,props:{...Ty,...ua,...Br,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Br.transitionShow,default:"jump-down"},transitionHide:{...Br.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Wl},self:{type:String,default:"top middle",validator:Wl},offset:{type:Array,default:()=>[14,14],validator:By},scrollTarget:eo,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...ca],setup(t,{slots:e,emit:n,attrs:i}){let r,o;const a=we(),{proxy:{$q:s}}=a,l=$(null),c=$(!1),u=y(()=>Yl(t.anchor,s.lang.rtl)),d=y(()=>Yl(t.self,s.lang.rtl)),h=y(()=>t.persistent!==!0),{registerTick:p,removeTick:f}=zo(),{registerTimeout:v}=qi(),{transitionProps:w,transitionStyle:b}=bu(t),{localScrollTarget:x,changeScrollEvent:g,unconfigureScrollTarget:_}=My(t,M),{anchorEl:S,canShow:C,anchorEvents:T}=Mp({showing:c,configureAnchorEl:function(){if(t.noParentEvent===!0||S.value===null)return;const O=s.platform.is.mobile===!0?[[S.value,"touchstart","delayShow","passive"]]:[[S.value,"mouseenter","delayShow","passive"],[S.value,"mouseleave","delayHide","passive"]];Lt(T,"anchor",O)}}),{show:L,hide:z}=da({showing:c,canShow:C,handleShow:function(O){I(),p(()=>{o=new MutationObserver(()=>k()),o.observe(l.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),k(),M()}),r===void 0&&(r=re(()=>s.screen.width+"|"+s.screen.height+"|"+t.self+"|"+t.anchor+"|"+s.lang.rtl,k)),v(()=>{I(!0),n("show",O)},t.transitionDuration)},handleHide:function(O){f(),R(),q(),v(()=>{R(!0),n("hide",O)},t.transitionDuration)},hideOnRouteChange:h,processOnMount:!0});Object.assign(T,{delayShow:function(O){if(s.platform.is.mobile===!0){Kn(),document.body.classList.add("non-selectable");const j=S.value,V=["touchmove","touchcancel","touchend","click"].map(B=>[j,B,"delayHide","passiveCapture"]);Lt(T,"tooltipTemp",V)}v(()=>{L(O)},t.delay)},delayHide:function(O){s.platform.is.mobile===!0&&(sn(T,"tooltipTemp"),Kn(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),v(()=>{z(O)},t.hideDelay)}});const{showPortal:I,hidePortal:R,renderPortal:P}=qp(a,l,function(){return m($t,w.value,E)},"tooltip");if(s.platform.is.mobile===!0){const O={anchorEl:S,innerRef:l,onClickOutside:V=>(z(V),V.target.classList.contains("q-dialog__backdrop")&&$e(V),!0)},j=y(()=>t.modelValue===null&&t.persistent!==!0&&c.value===!0);re(j,V=>{(V===!0?zy:Gl)(O)}),He(()=>{Gl(O)})}function q(){o!==void 0&&(o.disconnect(),o=void 0),r!==void 0&&(r(),r=void 0),_(),sn(T,"tooltipTemp")}function k(){Ip({targetEl:l.value,offset:t.offset,anchorEl:S.value,anchorOrigin:u.value,selfOrigin:d.value,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function M(){if(S.value!==null||t.scrollTarget!==void 0){x.value=ci(S.value,t.scrollTarget);const O=t.noParentEvent===!0?k:z;g(x.value,O)}}function E(){return c.value===!0?m("div",{...i,ref:l,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",i.class],style:[i.style,b.value],role:"tooltip"},Me(e.default)):null}return He(q),Object.assign(a.proxy,{updatePosition:k}),P}}),Cs=ae({name:"QItem",props:{...Ue,...bs,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=we(),r=Ke(t,i),{hasLink:o,linkAttrs:a,linkClass:s,linkTag:l,navigateOnClick:c}=yu(),u=$(null),d=$(null),h=y(()=>t.clickable===!0||o.value===!0||t.tag==="label"),p=y(()=>t.disable!==!0&&h.value===!0),f=y(()=>"q-item q-item-type row no-wrap"+(t.dense===!0?" q-item--dense":"")+(r.value===!0?" q-item--dark":"")+(o.value===!0&&t.active===null?s.value:t.active===!0?" q-item--active"+(t.activeClass!==void 0?` ${t.activeClass}`:""):"")+(t.disable===!0?" disabled":"")+(p.value===!0?" q-item--clickable q-link cursor-pointer "+(t.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(t.focused===!0?" q-manual-focusable--focused":""):"")),v=y(()=>t.insetLevel===void 0?null:{["padding"+(i.lang.rtl===!0?"Right":"Left")]:16+56*t.insetLevel+"px"});function w(x){p.value===!0&&(d.value!==null&&(x.qKeyEvent!==!0&&document.activeElement===u.value?d.value.focus():document.activeElement===d.value&&u.value.focus()),c(x))}function b(x){if(p.value===!0&&Fn(x,[13,32])===!0){$e(x),x.qKeyEvent=!0;const g=new MouseEvent("click",x);g.qKeyEvent=!0,u.value.dispatchEvent(g)}n("keyup",x)}return()=>{const x={ref:u,class:f.value,style:v.value,role:"listitem",onClick:w,onKeyup:b};return p.value===!0?(x.tabindex=t.tabindex||"0",Object.assign(x,a.value)):h.value===!0&&(x["aria-disabled"]="true"),m(l.value,x,function(){const g=_s(e.default,[]);return p.value===!0&&g.unshift(m("div",{class:"q-focus-helper",tabindex:-1,ref:d})),g}())}}}),Mi=ae({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(t,{slots:e}){const n=y(()=>"q-item__section column q-item__section--"+(t.avatar===!0||t.side===!0||t.thumbnail===!0?"side":"main")+(t.top===!0?" q-item__section--top justify-start":" justify-center")+(t.avatar===!0?" q-item__section--avatar":"")+(t.thumbnail===!0?" q-item__section--thumbnail":"")+(t.noWrap===!0?" q-item__section--nowrap":""));return()=>m("div",{class:n.value},Me(e.default))}});function v_(t,e,n){e.handler?e.handler(t,n,n.caret):n.runCmd(e.cmd,e.param)}function Th(t){return m("div",{class:"q-editor__toolbar-group"},t)}function yv(t,e,n,i=!1){const r=i||e.type==="toggle"&&(e.toggled?e.toggled(t):e.cmd&&t.caret.is(e.cmd,e.param)),o=[];if(e.tip&&t.$q.platform.is.desktop){const a=e.key?m("div",[m("small",`(CTRL + ${String.fromCharCode(e.key)})`)]):null;o.push(m(PS,{delay:1e3},()=>[m("div",{innerHTML:e.tip}),a]))}return m(it,{...t.buttonProps.value,icon:e.icon!==null?e.icon:void 0,color:r?e.toggleColor||t.props.toolbarToggleColor:e.color||t.props.toolbarColor,textColor:r&&!t.props.toolbarPush?null:e.textColor||t.props.toolbarTextColor,label:e.label,disable:!!e.disable&&(typeof e.disable!="function"||e.disable(t)),size:"sm",onClick(a){n&&n(),v_(a,e,t)}},()=>o)}function RS(t){if(t.caret)return t.buttons.value.filter(e=>!t.isViewingSource.value||e.find(n=>n.cmd==="viewsource")).map(e=>Th(e.map(n=>(!t.isViewingSource.value||n.cmd==="viewsource")&&(n.type==="slot"?Me(t.slots[n.slot]):n.type==="dropdown"?function(i,r){const o=r.list==="only-icons";let a,s,l=r.label,c=r.icon!==null?r.icon:void 0;function u(){h.component.proxy.hide()}if(o)s=r.options.map(p=>{const f=p.type===void 0&&i.caret.is(p.cmd,p.param);return f&&(l=p.tip,c=p.icon!==null?p.icon:void 0),yv(i,p,u,f)}),a=i.toolbarBackgroundClass.value,s=[Th(s)];else{const p=i.props.toolbarToggleColor!==void 0?`text-${i.props.toolbarToggleColor}`:null,f=i.props.toolbarTextColor!==void 0?`text-${i.props.toolbarTextColor}`:null,v=r.list==="no-icons";s=r.options.map(w=>{const b=!!w.disable&&w.disable(i),x=w.type===void 0&&i.caret.is(w.cmd,w.param);x&&(l=w.tip,c=w.icon!==null?w.icon:void 0);const g=w.htmlTip;return m(Cs,{active:x,activeClass:p,clickable:!0,disable:b,dense:!0,onClick(_){u(),i.contentRef.value!==null&&i.contentRef.value.focus(),i.caret.restore(),v_(_,w,i)}},()=>[v===!0?null:m(Mi,{class:x?p:f,side:!0},()=>m(et,{name:w.icon!==null?w.icon:void 0})),m(Mi,g?()=>m("div",{class:"text-no-wrap",innerHTML:w.htmlTip}):w.tip?()=>m("div",{class:"text-no-wrap"},w.tip):void 0)])}),a=[i.toolbarBackgroundClass.value,f]}const d=r.highlight&&l!==r.label,h=m(tS,{...i.buttonProps.value,noCaps:!0,noWrap:!0,color:d?i.props.toolbarToggleColor:i.props.toolbarColor,textColor:d&&!i.props.toolbarPush?null:i.props.toolbarTextColor,label:r.fixedLabel?r.label:l,icon:r.fixedIcon?r.icon!==null?r.icon:void 0:c,contentClass:a,onShow:p=>i.emit("dropdownShow",p),onHide:p=>i.emit("dropdownHide",p),onBeforeShow:p=>i.emit("dropdownBeforeShow",p),onBeforeHide:p=>i.emit("dropdownBeforeHide",p)},()=>s);return h}(t,n):yv(t,n)))))}var _v=/^on[A-Z]/;function m_(){const{attrs:t,vnode:e}=we(),n={listeners:$({}),attributes:$({})};function i(){const r={},o={};for(const a in t)a!=="class"&&a!=="style"&&_v.test(a)===!1&&(r[a]=t[a]);for(const a in e.props)_v.test(a)===!0&&(o[a]=e.props[a]);n.attributes.value=r,n.listeners.value=o}return ds(i),i(),n}var FS=Object.prototype.toString,Ic=Object.prototype.hasOwnProperty,AS=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(t=>"[object "+t+"]"));function bv(t){if(t!==Object(t)||AS.has(FS.call(t))===!0||t.constructor&&Ic.call(t,"constructor")===!1&&Ic.call(t.constructor.prototype,"isPrototypeOf")===!1)return!1;let e;for(e in t);return e===void 0||Ic.call(t,e)}function y_(){let t,e,n,i,r,o,a=arguments[0]||{},s=1,l=!1;const c=arguments.length;for(typeof a=="boolean"&&(l=a,a=arguments[1]||{},s=2),Object(a)!==a&&typeof a!="function"&&(a={}),c===s&&(a=this,s--);s<c;s++)if((t=arguments[s])!==null)for(e in t)n=a[e],i=t[e],a!==i&&(l===!0&&i&&((r=Array.isArray(i))||bv(i)===!0)?(o=r===!0?Array.isArray(n)===!0?n:[]:bv(n)===!0?n:{},a[e]=y_(l,o,i)):i!==void 0&&(a[e]=i));return a}ae({name:"QEditor",props:{...Ue,...zp,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:t=>t.length===0||t.every(e=>e.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:t=>["div","p"].includes(t),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...Bp,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(t,{slots:e,emit:n}){const{proxy:i}=we(),{$q:r}=i,o=Ke(t,r),{inFullscreen:a,toggleFullscreen:s}=Vp(),l=m_(),c=$(null),u=$(null),d=$(null),h=$(!1),p=y(()=>!t.readonly&&!t.disable);let f,v,w=t.modelValue;document.execCommand("defaultParagraphSeparator",!1,t.paragraphTag),f=window.getComputedStyle(document.body).fontFamily;const b=y(()=>t.toolbarBg?` bg-${t.toolbarBg}`:""),x=y(()=>({type:"a",flat:t.toolbarOutline!==!0&&t.toolbarPush!==!0,noWrap:!0,outline:t.toolbarOutline,push:t.toolbarPush,rounded:t.toolbarRounded,dense:!0,color:t.toolbarColor,disable:!p.value,size:"sm"})),g=y(()=>{const H=r.lang.editor,A=r.iconSet.editor;return{bold:{cmd:"bold",icon:A.bold,tip:H.bold,key:66},italic:{cmd:"italic",icon:A.italic,tip:H.italic,key:73},strike:{cmd:"strikeThrough",icon:A.strikethrough,tip:H.strikethrough,key:83},underline:{cmd:"underline",icon:A.underline,tip:H.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:A.unorderedList,tip:H.unorderedList},ordered:{cmd:"insertOrderedList",icon:A.orderedList,tip:H.orderedList},subscript:{cmd:"subscript",icon:A.subscript,tip:H.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:A.superscript,tip:H.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:D=>D.caret&&!D.caret.can("link"),icon:A.hyperlink,tip:H.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:A.toggleFullscreen,tip:H.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:A.viewSource,tip:H.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:A.quote,tip:H.quote,key:81},left:{cmd:"justifyLeft",icon:A.left,tip:H.left},center:{cmd:"justifyCenter",icon:A.center,tip:H.center},right:{cmd:"justifyRight",icon:A.right,tip:H.right},justify:{cmd:"justifyFull",icon:A.justify,tip:H.justify},print:{type:"no-state",cmd:"print",icon:A.print,tip:H.print,key:80},outdent:{type:"no-state",disable:D=>D.caret&&!D.caret.can("outdent"),cmd:"outdent",icon:A.outdent,tip:H.outdent},indent:{type:"no-state",disable:D=>D.caret&&!D.caret.can("indent"),cmd:"indent",icon:A.indent,tip:H.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:A.removeFormat,tip:H.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:A.hr,tip:H.hr},undo:{type:"no-state",cmd:"undo",icon:A.undo,tip:H.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:A.redo,tip:H.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:A.heading1||A.heading,tip:H.heading1,htmlTip:`<h1 class="q-ma-none">${H.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:A.heading2||A.heading,tip:H.heading2,htmlTip:`<h2 class="q-ma-none">${H.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:A.heading3||A.heading,tip:H.heading3,htmlTip:`<h3 class="q-ma-none">${H.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:A.heading4||A.heading,tip:H.heading4,htmlTip:`<h4 class="q-ma-none">${H.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:A.heading5||A.heading,tip:H.heading5,htmlTip:`<h5 class="q-ma-none">${H.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:A.heading6||A.heading,tip:H.heading6,htmlTip:`<h6 class="q-ma-none">${H.heading6}</h6>`},p:{cmd:"formatBlock",param:t.paragraphTag,icon:A.heading,tip:H.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:A.code,htmlTip:`<code>${H.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:A.size1||A.size,tip:H.size1,htmlTip:`<font size="1">${H.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:A.size2||A.size,tip:H.size2,htmlTip:`<font size="2">${H.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:A.size3||A.size,tip:H.size3,htmlTip:`<font size="3">${H.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:A.size4||A.size,tip:H.size4,htmlTip:`<font size="4">${H.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:A.size5||A.size,tip:H.size5,htmlTip:`<font size="5">${H.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:A.size6||A.size,tip:H.size6,htmlTip:`<font size="6">${H.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:A.size7||A.size,tip:H.size7,htmlTip:`<font size="7">${H.size7}</font>`}}}),_=y(()=>{const H=t.definitions||{},A=t.definitions||t.fonts?y_(!0,{},g.value,H,function(D,K,W,se={}){const fe=Object.keys(se);if(fe.length===0)return{};const le={default_font:{cmd:"fontName",param:D,icon:W,tip:K}};return fe.forEach(pe=>{const ce=se[pe];le[pe]={cmd:"fontName",param:ce,icon:W,tip:ce,htmlTip:`<font face="${ce}">${ce}</font>`}}),le}(f,r.lang.editor.defaultFont,r.iconSet.editor.font,t.fonts)):g.value;return t.toolbar.map(D=>D.map(K=>{if(K.options)return{type:"dropdown",icon:K.icon,label:K.label,size:"sm",dense:!0,fixedLabel:K.fixedLabel,fixedIcon:K.fixedIcon,highlight:K.highlight,list:K.list,options:K.options.map(se=>A[se])};const W=A[K];return W?W.type==="no-state"||H[K]&&(W.cmd===void 0||g.value[W.cmd]&&g.value[W.cmd].type==="no-state")?W:Object.assign({type:"toggle"},W):{type:"slot",slot:K}}))}),S={$q:r,props:t,slots:e,emit:n,inFullscreen:a,toggleFullscreen:s,runCmd:J,isViewingSource:h,editLinkUrl:d,toolbarBackgroundClass:b,buttonProps:x,contentRef:u,buttons:_,setContent:G};re(()=>t.modelValue,H=>{w!==H&&(w=H,G(H,!0))}),re(d,H=>{n("link"+(H?"Show":"Hide"))});const C=y(()=>t.toolbar&&t.toolbar.length!==0),T=y(()=>{const H={},A=D=>{D.key&&(H[D.key]={cmd:D.cmd,param:D.param})};return _.value.forEach(D=>{D.forEach(K=>{K.options?K.options.forEach(A):A(K)})}),H}),L=y(()=>a.value?t.contentStyle:[{minHeight:t.minHeight,height:t.height,maxHeight:t.maxHeight},t.contentStyle]),z=y(()=>"q-editor q-editor--"+(h.value===!0?"source":"default")+(t.disable===!0?" disabled":"")+(a.value===!0?" fullscreen column":"")+(t.square===!0?" q-editor--square no-border-radius":"")+(t.flat===!0?" q-editor--flat":"")+(t.dense===!0?" q-editor--dense":"")+(o.value===!0?" q-editor--dark q-dark":"")),I=y(()=>[t.contentClass,"q-editor__content",{col:a.value,"overflow-auto":a.value||t.maxHeight}]),R=y(()=>t.disable===!0?{"aria-disabled":"true"}:{});function P(){if(u.value!==null){const H="inner"+(h.value===!0?"Text":"HTML"),A=u.value[H];A!==t.modelValue&&(w=A,n("update:modelValue",A))}}function q(H){if(n("keydown",H),H.ctrlKey!==!0||Wr(H)===!0)return void oe();const A=H.keyCode,D=T.value[A];if(D!==void 0){const{cmd:K,param:W}=D;$e(H),J(K,W,!1)}}function k(H){oe(),n("click",H)}function M(H){if(u.value!==null){const{scrollTop:A,scrollHeight:D}=u.value;v=D-A}S.caret.save(),n("blur",H)}function E(H){We(()=>{u.value!==null&&v!==void 0&&(u.value.scrollTop=u.value.scrollHeight-v)}),n("focus",H)}function O(H){const A=c.value;if(A!==null&&A.contains(H.target)===!0&&(H.relatedTarget===null||A.contains(H.relatedTarget)!==!0)){const D="inner"+(h.value===!0?"Text":"HTML");S.caret.restorePosition(u.value[D].length),oe()}}function j(H){const A=c.value;A===null||A.contains(H.target)!==!0||H.relatedTarget!==null&&A.contains(H.relatedTarget)===!0||(S.caret.savePosition(),oe())}function V(){v=void 0}function B(H){S.caret.save()}function G(H,A){if(u.value!==null){A===!0&&S.caret.savePosition();const D="inner"+(h.value===!0?"Text":"HTML");u.value[D]=H,A===!0&&(S.caret.restorePosition(u.value[D].length),oe())}}function J(H,A,D=!0){te(),S.caret.restore(),S.caret.apply(H,A,()=>{te(),S.caret.save(),D&&oe()})}function oe(){setTimeout(()=>{d.value=null,i.$forceUpdate()},1)}function te(){ha(()=>{u.value!==null&&u.value.focus({preventScroll:!0})})}return xt(()=>{S.caret=i.caret=new IS(u.value,S),G(t.modelValue),oe(),document.addEventListener("selectionchange",B)}),He(()=>{document.removeEventListener("selectionchange",B)}),Object.assign(i,{runCmd:J,refreshToolbar:oe,focus:te,getContentEl:function(){return u.value}}),()=>{let H;if(C.value){const A=[m("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+b.value},RS(S))];d.value!==null&&A.push(m("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+b.value},function(D){if(D.caret){const K=D.props.toolbarColor||D.props.toolbarTextColor;let W=D.editLinkUrl.value;const se=()=>{D.caret.restore(),W!==D.editLinkUrl.value&&document.execCommand("createLink",!1,W===""?" ":W),D.editLinkUrl.value=null};return[m("div",{class:`q-mx-xs text-${K}`},`${D.$q.lang.editor.url}: `),m("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:W,onInput:fe=>{kt(fe),W=fe.target.value},onKeydown:fe=>{if(Wr(fe)!==!0)switch(fe.keyCode){case 13:return Ht(fe),se();case 27:Ht(fe),D.caret.restore(),D.editLinkUrl.value&&D.editLinkUrl.value!=="https://"||document.execCommand("unlink"),D.editLinkUrl.value=null}}}),Th([m(it,{key:"qedt_btm_rem",tabindex:-1,...D.buttonProps.value,label:D.$q.lang.label.remove,noCaps:!0,onClick:()=>{D.caret.restore(),document.execCommand("unlink"),D.editLinkUrl.value=null}}),m(it,{key:"qedt_btm_upd",...D.buttonProps.value,label:D.$q.lang.label.update,noCaps:!0,onClick:se})])]}}(S))),H=m("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},A)}return m("div",{ref:c,class:z.value,style:{height:a.value===!0?"100%":null},...R.value,onFocusin:O,onFocusout:j},[H,m("div",{ref:u,style:L.value,class:I.value,contenteditable:p.value,placeholder:t.placeholder,...l.listeners.value,onInput:P,onKeydown:q,onClick:k,onBlur:M,onFocus:E,onMousedown:V,onTouchstartPassive:V})])}}});var Eh=ae({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(t,{slots:e}){const n=y(()=>parseInt(t.lines,10)),i=y(()=>"q-item__label"+(t.overline===!0?" q-item__label--overline text-overline":"")+(t.caption===!0?" q-item__label--caption text-caption":"")+(t.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),r=y(()=>t.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>m("div",{style:r.value,class:i.value},Me(e.default))}}),jp=ae({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(t,{slots:e,emit:n}){let i,r,o,a,s=!1,l=null,c=null;function u(){i&&i(),i=null,s=!1,l!==null&&(clearTimeout(l),l=null),c!==null&&(clearTimeout(c),c=null),r!==void 0&&r.removeEventListener("transitionend",o),o=null}function d(v,w,b){w!==void 0&&(v.style.height=`${w}px`),v.style.transition=`height ${t.duration}ms cubic-bezier(.25, .8, .50, 1)`,s=!0,i=b}function h(v,w){v.style.overflowY=null,v.style.height=null,v.style.transition=null,u(),w!==a&&n(w)}function p(v,w){let b=0;r=v,s===!0?(u(),b=v.offsetHeight===v.scrollHeight?0:void 0):(a="hide",v.style.overflowY="hidden"),d(v,b,w),l=setTimeout(()=>{l=null,v.style.height=`${v.scrollHeight}px`,o=x=>{c=null,Object(x)===x&&x.target!==v||h(v,"show")},v.addEventListener("transitionend",o),c=setTimeout(o,1.1*t.duration)},100)}function f(v,w){let b;r=v,s===!0?u():(a="show",v.style.overflowY="hidden",b=v.scrollHeight),d(v,b,w),l=setTimeout(()=>{l=null,v.style.height=0,o=x=>{c=null,Object(x)===x&&x.target!==v||h(v,"hide")},v.addEventListener("transitionend",o),c=setTimeout(o,1.1*t.duration)},100)}return He(()=>{s===!0&&u()}),()=>m($t,{css:!1,appear:t.appear,onEnter:p,onLeave:f},e.default)}}),OS={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Pc={xs:2,sm:4,md:8,lg:16,xl:24},nr=ae({name:"QSeparator",props:{...Ue,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(t){const e=we(),n=Ke(t,e.proxy.$q),i=y(()=>t.vertical===!0?"vertical":"horizontal"),r=y(()=>` q-separator--${i.value}`),o=y(()=>t.inset!==!1?`${r.value}-${OS[t.inset]}`:""),a=y(()=>`q-separator${r.value}${o.value}`+(t.color!==void 0?` bg-${t.color}`:"")+(n.value===!0?" q-separator--dark":"")),s=y(()=>{const l={};if(t.size!==void 0&&(l[t.vertical===!0?"width":"height"]=t.size),t.spaced!==!1){const c=t.spaced===!0?`${Pc.md}px`:t.spaced in Pc?`${Pc[t.spaced]}px`:t.spaced,u=t.vertical===!0?["Left","Right"]:["Top","Bottom"];l[`margin${u[0]}`]=l[`margin${u[1]}`]=c}return l});return()=>m("hr",{class:a.value,style:s.value,"aria-orientation":i.value})}}),pr=eb({}),DS=Object.keys(bs);ae({name:"QExpansionItem",props:{...bs,...ua,...Ue,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...ca,"click","afterShow","afterHide"],setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=we(),r=Ke(t,i),o=$(t.modelValue!==null?t.modelValue:t.defaultOpened),a=$(null),s=wu(),{show:l,hide:c,toggle:u}=da({showing:o});let d,h;const p=y(()=>`q-expansion-item q-item-type q-expansion-item--${o.value===!0?"expanded":"collapsed"} q-expansion-item--${t.popup===!0?"popup":"standard"}`),f=y(()=>t.contentInsetLevel===void 0?null:{["padding"+(i.lang.rtl===!0?"Right":"Left")]:56*t.contentInsetLevel+"px"}),v=y(()=>t.disable!==!0&&(t.href!==void 0||t.to!==void 0&&t.to!==null&&t.to!=="")),w=y(()=>{const E={};return DS.forEach(O=>{E[O]=t[O]}),E}),b=y(()=>v.value===!0||t.expandIconToggle!==!0),x=y(()=>t.expandedIcon!==void 0&&o.value===!0?t.expandedIcon:t.expandIcon||i.iconSet.expansionItem[t.denseToggle===!0?"denseIcon":"icon"]),g=y(()=>t.disable!==!0&&(v.value===!0||t.expandIconToggle===!0)),_=y(()=>({expanded:o.value===!0,detailsId:s.value,toggle:u,show:l,hide:c})),S=y(()=>{const E=t.toggleAriaLabel!==void 0?t.toggleAriaLabel:i.lang.label[o.value===!0?"collapse":"expand"](t.label);return{role:"button","aria-expanded":o.value===!0?"true":"false","aria-controls":s.value,"aria-label":E}});function C(E){v.value!==!0&&u(E),n("click",E)}function T(E){E.keyCode===13&&L(E,!0)}function L(E,O){O!==!0&&a.value!==null&&a.value.focus(),u(E),$e(E)}function z(){n("afterShow")}function I(){n("afterHide")}function R(){d===void 0&&(d=us()),o.value===!0&&(pr[t.group]=d);const E=re(o,j=>{j===!0?pr[t.group]=d:pr[t.group]===d&&delete pr[t.group]}),O=re(()=>pr[t.group],(j,V)=>{V===d&&j!==void 0&&j!==d&&c()});h=()=>{E(),O(),pr[t.group]===d&&delete pr[t.group],h=void 0}}function P(){let E;return e.header!==void 0?E=[].concat(e.header(_.value)):(E=[m(Mi,()=>[m(Eh,{lines:t.labelLines},()=>t.label||""),t.caption?m(Eh,{lines:t.captionLines,caption:!0},()=>t.caption):null])],t.icon&&E[t.switchToggleSide===!0?"push":"unshift"](m(Mi,{side:t.switchToggleSide===!0,avatar:t.switchToggleSide!==!0},()=>m(et,{name:t.icon})))),t.disable!==!0&&t.hideExpandIcon!==!0&&E[t.switchToggleSide===!0?"unshift":"push"](function(){const O={class:["q-focusable relative-position cursor-pointer"+(t.denseToggle===!0&&t.switchToggleSide===!0?" items-end":""),t.expandIconClass],side:t.switchToggleSide!==!0,avatar:t.switchToggleSide},j=[m(et,{class:"q-expansion-item__toggle-icon"+(t.expandedIcon===void 0&&o.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:x.value})];return g.value===!0&&(Object.assign(O,{tabindex:0,...S.value,onClick:L,onKeyup:T}),j.unshift(m("div",{ref:a,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),m(Mi,O,()=>j)}()),E}function q(){const E={ref:"item",style:t.headerStyle,class:t.headerClass,dark:r.value,disable:t.disable,dense:t.dense,insetLevel:t.headerInsetLevel};return b.value===!0&&(E.clickable=!0,E.onClick=C,Object.assign(E,v.value===!0?w.value:S.value)),m(Cs,E,P)}function k(){return xn(m("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:f.value,id:s.value},Me(e.default)),[[xl,o.value]])}function M(){const E=[q(),m(jp,{duration:t.duration,onShow:z,onHide:I},k)];return t.expandSeparator===!0&&E.push(m(nr,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:r.value}),m(nr,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:r.value})),E}return re(()=>t.group,E=>{h!==void 0&&h(),E!==void 0&&R()}),t.group!==void 0&&R(),He(()=>{h!==void 0&&h()}),()=>m("div",{class:p.value},[m("div",{class:"q-expansion-item__container relative-position"},M())])}});var zS=["top","right","bottom","left"],Mh={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:t=>zS.includes(t)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function __(t,e){return{formClass:y(()=>"q-fab--form-"+(t.square===!0?"square":"rounded")),stacked:y(()=>t.externalLabel===!1&&["top","bottom"].includes(t.labelPosition)),labelProps:y(()=>{if(t.externalLabel===!0){const n=t.hideLabel===null?e.value===!1:t.hideLabel;return{action:"push",data:{class:[t.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${t.labelPosition}`+(n===!0?" q-fab__label--external-hidden":"")],style:t.labelStyle}}}return{action:["left","top"].includes(t.labelPosition)?"unshift":"push",data:{class:[t.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${t.labelPosition}`+(t.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:t.labelStyle}}})}}var BS=["up","right","down","left"],VS=["left","center","right"];ae({name:"QFab",props:{...Mh,...ua,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{...Mh.hideLabel,default:null},direction:{type:String,default:"right",validator:t=>BS.includes(t)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:t=>VS.includes(t)}},emits:ca,setup(t,{slots:e}){const n=$(null),i=$(t.modelValue===!0),r=wu(),{proxy:{$q:o}}=we(),{formClass:a,labelProps:s}=__(t,i),l=y(()=>t.persistent!==!0),{hide:c,toggle:u}=da({showing:i,hideOnRouteChange:l}),d=y(()=>({opened:i.value})),h=y(()=>`q-fab z-fab row inline justify-center q-fab--align-${t.verticalActionsAlign} ${a.value}`+(i.value===!0?" q-fab--opened":" q-fab--closed")),p=y(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${t.direction} q-fab__actions--${i.value===!0?"opened":"closed"}`),f=y(()=>{const x={id:r.value,role:"menu"};return i.value!==!0&&(x["aria-hidden"]="true"),x}),v=y(()=>"q-fab__icon-holder  q-fab__icon-holder--"+(i.value===!0?"opened":"closed"));function w(x,g){const _=e[x],S=`q-fab__${x} absolute-full`;return _===void 0?m(et,{class:S,name:t[g]||o.iconSet.fab[g]}):m("div",{class:S},_(d.value))}function b(){const x=[];return t.hideIcon!==!0&&x.push(m("div",{class:v.value},[w("icon","icon"),w("active-icon","activeIcon")])),t.label===""&&e.label===void 0||x[s.value.action](m("div",s.value.data,e.label!==void 0?e.label(d.value):[t.label])),qt(e.tooltip,x)}return ir(dy,{showing:i,onChildClick(x){c(x),n.value!==null&&n.value.$el.focus()}}),()=>m("div",{class:h.value},[m(it,{ref:n,class:a.value,...t,noWrap:!0,stack:t.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":i.value===!0?"true":"false","aria-haspopup":"true","aria-controls":r.value,onClick:u},b),m("div",{class:p.value,...f.value},Me(e.default))])}});var b_={start:"self-end",center:"self-center",end:"self-start"},$S=Object.keys(b_);ae({name:"QFabAction",props:{...Mh,icon:{type:String,default:""},anchor:{type:String,validator:t=>$S.includes(t)},to:[String,Object],replace:Boolean},emits:["click"],setup(t,{slots:e,emit:n}){const i=_n(dy,()=>({showing:{value:!0},onChildClick:zt})),{formClass:r,labelProps:o}=__(t,i.showing),a=y(()=>{const d=b_[t.anchor];return r.value+(d!==void 0?` ${d}`:"")}),s=y(()=>t.disable===!0||i.showing.value!==!0);function l(d){i.onChildClick(d),n("click",d)}function c(){const d=[];return e.icon!==void 0?d.push(e.icon()):t.icon!==""&&d.push(m(et,{name:t.icon})),t.label===""&&e.label===void 0||d[o.value.action](m("div",o.value.data,e.label!==void 0?e.label():[t.label])),qt(e.default,d)}const u=we();return Object.assign(u.proxy,{click:l}),()=>m(it,{class:a.value,...t,noWrap:!0,stack:t.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:s.value,onClick:l},c)}});var NS=[!0,!1,"ondemand"],jS={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:t=>NS.includes(t)}};function HS(t,e){const{props:n,proxy:i}=we(),r=$(!1),o=$(null),a=$(!1);(function({validate:b,resetValidation:x,requiresQForm:g}){const _=_n(hy,!1);if(_!==!1){const{props:S,proxy:C}=we();Object.assign(C,{validate:b,resetValidation:x}),re(()=>S.disable,T=>{T===!0?(typeof x=="function"&&x(),_.unbindComponent(C)):_.bindComponent(C)}),xt(()=>{S.disable!==!0&&_.bindComponent(C)}),He(()=>{S.disable!==!0&&_.unbindComponent(C)})}})({validate:v,resetValidation:f});let s,l=0;const c=y(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),u=y(()=>n.disable!==!0&&c.value===!0&&e.value===!1),d=y(()=>n.error===!0||r.value===!0),h=y(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:o.value);function p(){n.lazyRules!=="ondemand"&&u.value===!0&&a.value===!0&&w()}function f(){l++,e.value=!1,a.value=!1,r.value=!1,o.value=null,w.cancel()}function v(b=n.modelValue){if(n.disable===!0||c.value===!1)return!0;const x=++l,g=e.value!==!0?()=>{a.value=!0}:()=>{},_=(C,T)=>{C===!0&&g(),r.value=C,o.value=T||null,e.value=!1},S=[];for(let C=0;C<n.rules.length;C++){const T=n.rules[C];let L;if(typeof T=="function"?L=T(b,_l):typeof T=="string"&&_l[T]!==void 0&&(L=_l[T](b)),L===!1||typeof L=="string")return _(!0,L),!1;L!==!0&&L!==void 0&&S.push(L)}return S.length===0?(_(!1),!0):(e.value=!0,Promise.all(S).then(C=>{if(C===void 0||Array.isArray(C)===!1||C.length===0)return x===l&&_(!1),!0;const T=C.find(L=>L===!1||typeof L=="string");return x===l&&_(T!==void 0,T),T===void 0},C=>(x===l&&_(!0),!1)))}re(()=>n.modelValue,()=>{a.value=!0,u.value===!0&&n.lazyRules===!1&&w()}),re(()=>n.reactiveRules,b=>{b===!0?s===void 0&&(s=re(()=>n.rules,p,{immediate:!0,deep:!0})):s!==void 0&&(s(),s=void 0)},{immediate:!0}),re(()=>n.lazyRules,p),re(t,b=>{b===!0?a.value=!0:u.value===!0&&n.lazyRules!=="ondemand"&&w()});const w=la(v,0);return He(()=>{s!==void 0&&s(),w.cancel()}),Object.assign(i,{resetValidation:f,validate:v}),jt(i,"hasError",()=>d.value),{isDirtyModel:a,hasRules:c,hasError:d,errorMessage:h,validate:v,resetValidation:f}}function Ur(t){return t!=null&&(""+t).length!==0}var x_={...Ue,...jS,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},Cu={...x_,maxlength:[Number,String]},ku=["update:modelValue","clear","focus","blur"];function Tu({requiredForAttr:t=!0,tagProp:e,changeEvent:n=!1}={}){const{props:i,proxy:r}=we(),o=Ke(i,r.$q),a=wu({required:t,getValue:()=>i.for});return{requiredForAttr:t,changeEvent:n,tag:e===!0?y(()=>i.tag):{value:"label"},isDark:o,editable:y(()=>i.disable!==!0&&i.readonly!==!0),innerLoading:$(!1),focused:$(!1),hasPopupOpen:!1,splitAttrs:m_(),targetUid:a,rootRef:$(null),targetRef:$(null),controlRef:$(null)}}function Eu(t){const{props:e,emit:n,slots:i,attrs:r,proxy:o}=we(),{$q:a}=o;let s=null;t.hasValue===void 0&&(t.hasValue=y(()=>Ur(e.modelValue))),t.emitValue===void 0&&(t.emitValue=E=>{n("update:modelValue",E)}),t.controlEvents===void 0&&(t.controlEvents={onFocusin:L,onFocusout:z}),Object.assign(t,{clearValue:I,onControlFocusin:L,onControlFocusout:z,focus:T}),t.computedCounter===void 0&&(t.computedCounter=y(()=>{if(e.counter!==!1){const E=typeof e.modelValue=="string"||typeof e.modelValue=="number"?(""+e.modelValue).length:Array.isArray(e.modelValue)===!0?e.modelValue.length:0,O=e.maxlength!==void 0?e.maxlength:e.maxValues;return E+(O!==void 0?" / "+O:"")}}));const{isDirtyModel:l,hasRules:c,hasError:u,errorMessage:d,resetValidation:h}=HS(t.focused,t.innerLoading),p=t.floatingLabel!==void 0?y(()=>e.stackLabel===!0||t.focused.value===!0||t.floatingLabel.value===!0):y(()=>e.stackLabel===!0||t.focused.value===!0||t.hasValue.value===!0),f=y(()=>e.bottomSlots===!0||e.hint!==void 0||c.value===!0||e.counter===!0||e.error!==null),v=y(()=>e.filled===!0?"filled":e.outlined===!0?"outlined":e.borderless===!0?"borderless":e.standout?"standout":"standard"),w=y(()=>`q-field row no-wrap items-start q-field--${v.value}`+(t.fieldClass!==void 0?` ${t.fieldClass.value}`:"")+(e.rounded===!0?" q-field--rounded":"")+(e.square===!0?" q-field--square":"")+(p.value===!0?" q-field--float":"")+(x.value===!0?" q-field--labeled":"")+(e.dense===!0?" q-field--dense":"")+(e.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(t.isDark.value===!0?" q-field--dark":"")+(t.getControl===void 0?" q-field--auto-height":"")+(t.focused.value===!0?" q-field--focused":"")+(u.value===!0?" q-field--error":"")+(u.value===!0||t.focused.value===!0?" q-field--highlighted":"")+(e.hideBottomSpace!==!0&&f.value===!0?" q-field--with-bottom":"")+(e.disable===!0?" q-field--disabled":e.readonly===!0?" q-field--readonly":"")),b=y(()=>"q-field__control relative-position row no-wrap"+(e.bgColor!==void 0?` bg-${e.bgColor}`:"")+(u.value===!0?" text-negative":typeof e.standout=="string"&&e.standout.length!==0&&t.focused.value===!0?` ${e.standout}`:e.color!==void 0?` text-${e.color}`:"")),x=y(()=>e.labelSlot===!0||e.label!==void 0),g=y(()=>"q-field__label no-pointer-events absolute ellipsis"+(e.labelColor!==void 0&&u.value!==!0?` text-${e.labelColor}`:"")),_=y(()=>({id:t.targetUid.value,editable:t.editable.value,focused:t.focused.value,floatingLabel:p.value,modelValue:e.modelValue,emitValue:t.emitValue})),S=y(()=>{const E={};return t.targetUid.value&&(E.for=t.targetUid.value),e.disable===!0&&(E["aria-disabled"]="true"),E});function C(){const E=document.activeElement;let O=t.targetRef!==void 0&&t.targetRef.value;!O||E!==null&&E.id===t.targetUid.value||(O.hasAttribute("tabindex")===!0||(O=O.querySelector("[tabindex]")),O&&O!==E&&O.focus({preventScroll:!0}))}function T(){ha(C)}function L(E){s!==null&&(clearTimeout(s),s=null),t.editable.value===!0&&t.focused.value===!1&&(t.focused.value=!0,n("focus",E))}function z(E,O){s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,(document.hasFocus()!==!0||t.hasPopupOpen!==!0&&t.controlRef!==void 0&&t.controlRef.value!==null&&t.controlRef.value.contains(document.activeElement)===!1)&&(t.focused.value===!0&&(t.focused.value=!1,n("blur",E)),O!==void 0&&O())})}function I(E){$e(E),a.platform.is.mobile!==!0?(t.targetRef!==void 0&&t.targetRef.value||t.rootRef.value).focus():t.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),e.type==="file"&&(t.inputRef.value.value=null),n("update:modelValue",null),t.changeEvent===!0&&n("change",null),n("clear",e.modelValue),We(()=>{const O=l.value;h(),l.value=O})}function R(E){[13,32].includes(E.keyCode)&&I(E)}function P(){const E=[];return i.prepend!==void 0&&E.push(m("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Ht},i.prepend())),E.push(m("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},function(){const O=[];return e.prefix!==void 0&&e.prefix!==null&&O.push(m("div",{class:"q-field__prefix no-pointer-events row items-center"},e.prefix)),t.getShadowControl!==void 0&&t.hasShadow.value===!0&&O.push(t.getShadowControl()),t.getControl!==void 0?O.push(t.getControl()):i.rawControl!==void 0?O.push(i.rawControl()):i.control!==void 0&&O.push(m("div",{ref:t.targetRef,class:"q-field__native row",tabindex:-1,...t.splitAttrs.attributes.value,"data-autofocus":e.autofocus===!0||void 0},i.control(_.value))),x.value===!0&&O.push(m("div",{class:g.value},Me(i.label,e.label))),e.suffix!==void 0&&e.suffix!==null&&O.push(m("div",{class:"q-field__suffix no-pointer-events row items-center"},e.suffix)),O.concat(Me(i.default))}())),u.value===!0&&e.noErrorIcon===!1&&E.push(k("error",[m(et,{name:a.iconSet.field.error,color:"negative"})])),e.loading===!0||t.innerLoading.value===!0?E.push(k("inner-loading-append",i.loading!==void 0?i.loading():[m(Zn,{color:e.color})])):e.clearable===!0&&t.hasValue.value===!0&&t.editable.value===!0&&E.push(k("inner-clearable-append",[m(et,{class:"q-field__focusable-action",name:e.clearIcon||a.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":a.lang.label.clear,onKeyup:R,onClick:I})])),i.append!==void 0&&E.push(m("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Ht},i.append())),t.getInnerAppend!==void 0&&E.push(k("inner-append",t.getInnerAppend())),t.getControlChild!==void 0&&E.push(t.getControlChild()),E}function q(){let E,O;u.value===!0?d.value!==null?(E=[m("div",{role:"alert"},d.value)],O=`q--slot-error-${d.value}`):(E=Me(i.error),O="q--slot-error"):e.hideHint===!0&&t.focused.value!==!0||(e.hint!==void 0?(E=[m("div",e.hint)],O=`q--slot-hint-${e.hint}`):(E=Me(i.hint),O="q--slot-hint"));const j=e.counter===!0||i.counter!==void 0;if(e.hideBottomSpace===!0&&j===!1&&E===void 0)return;const V=m("div",{key:O,class:"q-field__messages col"},E);return m("div",{class:"q-field__bottom row items-start q-field__bottom--"+(e.hideBottomSpace!==!0?"animated":"stale"),onClick:Ht},[e.hideBottomSpace===!0?V:m($t,{name:"q-transition--field-message"},()=>V),j===!0?m("div",{class:"q-field__counter"},i.counter!==void 0?i.counter():t.computedCounter.value):null])}function k(E,O){return O===null?null:m("div",{key:E,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},O)}let M=!1;return Pi(()=>{M=!0}),Kr(()=>{M===!0&&e.autofocus===!0&&o.focus()}),e.autofocus===!0&&xt(()=>{o.focus()}),He(()=>{s!==null&&clearTimeout(s)}),Object.assign(o,{focus:T,blur:function(){var E;E=C,Pr=Pr.filter(j=>j!==E);const O=document.activeElement;O!==null&&t.rootRef.value.contains(O)&&O.blur()}}),function(){const E=t.getControl===void 0&&i.control===void 0?{...t.splitAttrs.attributes.value,"data-autofocus":e.autofocus===!0||void 0,...S.value}:S.value;return m(t.tag.value,{ref:t.rootRef,class:[w.value,r.class],style:r.style,...E},[i.before!==void 0?m("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Ht},i.before()):null,m("div",{class:"q-field__inner relative-position col self-stretch"},[m("div",{ref:t.controlRef,class:b.value,tabindex:-1,...t.controlEvents},P()),f.value===!0?q():null]),i.after!==void 0?m("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Ht},i.after()):null])}}var GS=ae({name:"QField",inheritAttrs:!1,props:{...Cu,tag:{type:String,default:"label"}},emits:ku,setup:()=>Eu(Tu({tagProp:!0}))});function yo(t,e,n,i){const r=[];return t.forEach(o=>{i(o)===!0?r.push(o):e.push({failedPropValidation:n,file:o})}),r}function al(t){t&&t.dataTransfer&&(t.dataTransfer.dropEffect="copy"),$e(t)}var w_={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},S_=["rejected"];function C_({editable:t,dnd:e,getFileInput:n,addFilesToQueue:i}){const{props:r,emit:o,proxy:a}=we(),s=$(null),l=y(()=>r.accept!==void 0?r.accept.split(",").map(v=>(v=v.trim())==="*"?"*/":(v.endsWith("/*")&&(v=v.slice(0,v.length-1)),v.toUpperCase())):null),c=y(()=>parseInt(r.maxFiles,10)),u=y(()=>parseInt(r.maxTotalSize,10));function d(v){if(t.value)if(v!==Object(v)&&(v={target:null}),v.target!==null&&v.target.matches('input[type="file"]')===!0)v.clientX===0&&v.clientY===0&&kt(v);else{const w=n();w&&w!==v.target&&w.click(v)}}function h(v){t.value&&v&&i(null,v)}function p(v){$e(v),(v.relatedTarget!==null||je.is.safari!==!0?v.relatedTarget!==s.value:document.elementsFromPoint(v.clientX,v.clientY).includes(s.value)===!1)&&(e.value=!1)}function f(v){al(v);const w=v.dataTransfer.files;w.length!==0&&i(null,w),e.value=!1}return Object.assign(a,{pickFiles:d,addFiles:h}),{pickFiles:d,addFiles:h,onDragover:function(v){al(v),e.value!==!0&&(e.value=!0)},onDragleave:p,processFiles:function(v,w,b,x){let g=Array.from(w||v.target.files);const _=[],S=()=>{_.length!==0&&o("rejected",_)};if(r.accept!==void 0&&l.value.indexOf("*/")===-1&&(g=yo(g,_,"accept",C=>l.value.some(T=>C.type.toUpperCase().startsWith(T)||C.name.toUpperCase().endsWith(T))),g.length===0))return S();if(r.maxFileSize!==void 0){const C=parseInt(r.maxFileSize,10);if(g=yo(g,_,"max-file-size",T=>T.size<=C),g.length===0)return S()}if(r.multiple!==!0&&g.length!==0&&(g=[g[0]]),g.forEach(C=>{C.__key=C.webkitRelativePath+C.lastModified+C.name+C.size}),x===!0){const C=b.map(T=>T.__key);g=yo(g,_,"duplicate",T=>C.includes(T.__key)===!1)}if(g.length===0)return S();if(r.maxTotalSize!==void 0){let C=x===!0?b.reduce((T,L)=>T+L.size,0):0;if(g=yo(g,_,"max-total-size",T=>(C+=T.size,C<=u.value)),g.length===0)return S()}if(typeof r.filter=="function"){const C=r.filter(g);g=yo(g,_,"filter",T=>C.includes(T))}if(r.maxFiles!==void 0){let C=x===!0?b.length:0;if(g=yo(g,_,"max-files",()=>(C++,C<=c.value)),g.length===0)return S()}return S(),g.length!==0?g:void 0},getDndNode:function(v){if(e.value===!0)return m("div",{ref:s,class:`q-${v}__dnd absolute-full`,onDragenter:al,onDragover:al,onDragleave:p,onDrop:f})},maxFilesNumber:c,maxTotalSizeNumber:u}}function k_(t,e){function n(){const i=t.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(i)===i&&("length"in i?Array.from(i):[i]).forEach(o=>{r.items.add(o)}),{files:r.files}}catch{return{files:void 0}}}return y(e===!0?()=>{if(t.type==="file")return n()}:n)}ae({name:"QFile",inheritAttrs:!1,props:{...x_,...Dn,...w_,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ku,...S_],setup(t,{slots:e,emit:n,attrs:i}){const{proxy:r}=we(),o=Tu(),a=$(null),s=$(!1),l=Pp(t),{pickFiles:c,onDragover:u,onDragleave:d,processFiles:h,getDndNode:p}=C_({editable:o.editable,dnd:s,getFileInput:R,addFilesToQueue:P}),f=k_(t),v=y(()=>Object(t.modelValue)===t.modelValue?"length"in t.modelValue?Array.from(t.modelValue):[t.modelValue]:[]),w=y(()=>Ur(v.value)),b=y(()=>v.value.map(M=>M.name).join(", ")),x=y(()=>gh(v.value.reduce((M,E)=>M+E.size,0))),g=y(()=>({totalSize:x.value,filesNumber:v.value.length,maxFiles:t.maxFiles})),_=y(()=>({tabindex:-1,type:"file",title:"",accept:t.accept,capture:t.capture,name:l.value,...i,id:o.targetUid.value,disabled:o.editable.value!==!0})),S=y(()=>"q-file q-field--auto-height"+(s.value===!0?" q-file--dnd":"")),C=y(()=>t.multiple===!0&&t.append===!0);function T(M){const E=v.value.slice();E.splice(M,1),L(E)}function L(M){n("update:modelValue",t.multiple===!0?M:M[0])}function z(M){M.keyCode===13&&Ht(M)}function I(M){M.keyCode!==13&&M.keyCode!==32||c(M)}function R(){return a.value}function P(M,E){const O=h(M,E,v.value,C.value),j=R();j!=null&&(j.value=""),O!==void 0&&((t.multiple===!0?t.modelValue&&O.every(V=>v.value.includes(V)):t.modelValue===O[0])||L(C.value===!0?v.value.concat(O):O))}function q(){return[m("input",{class:[t.inputClass,"q-file__filler"],style:t.inputStyle})]}function k(){const M={ref:a,..._.value,...f.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:P};return t.multiple===!0&&(M.multiple=!0),m("input",M)}return Object.assign(o,{fieldClass:S,emitValue:L,hasValue:w,inputRef:a,innerValue:v,floatingLabel:y(()=>w.value===!0||Ur(t.displayValue)),computedCounter:y(()=>{if(t.counterLabel!==void 0)return t.counterLabel(g.value);const M=t.maxFiles;return`${v.value.length}${M!==void 0?" / "+M:""} (${x.value})`}),getControlChild:()=>p("file"),getControl:()=>{const M={ref:o.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:t.tabindex};return o.editable.value===!0&&Object.assign(M,{onDragover:u,onDragleave:d,onKeydown:z,onKeyup:I}),m("div",M,[k()].concat(function(){if(e.file!==void 0)return v.value.length===0?q():v.value.map((O,j)=>e.file({index:j,file:O,ref:this}));if(e.selected!==void 0)return v.value.length===0?q():e.selected({files:v.value,ref:this});if(t.useChips===!0)return v.value.length===0?q():v.value.map((O,j)=>m(Wy,{key:"file-"+j,removable:o.editable.value,dense:!0,textColor:t.color,tabindex:t.tabindex,onRemove:()=>{T(j)}},()=>m("span",{class:"ellipsis",textContent:O.name})));const E=t.displayValue!==void 0?t.displayValue:b.value;return E.length!==0?[m("div",{class:t.inputClass,style:t.inputStyle,textContent:E})]:q()}()))}}),Object.assign(r,{removeAtIndex:T,removeFile:function(M){const E=v.value.indexOf(M);E!==-1&&T(E)},getNativeElement:()=>a.value}),jt(r,"nativeEl",()=>a.value),Eu(o)}}),ae({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=we(),r=_n(Yr,ut);if(r===ut)return ut;const o=$(parseInt(t.heightHint,10)),a=$(!0),s=$(Rn.value===!0||r.isContainer.value===!0?0:window.innerHeight),l=y(()=>t.reveal===!0||r.view.value.indexOf("F")!==-1||i.platform.is.ios&&r.isContainer.value===!0),c=y(()=>r.isContainer.value===!0?r.containerHeight.value:s.value),u=y(()=>{if(t.modelValue!==!0)return 0;if(l.value===!0)return a.value===!0?o.value:0;const _=r.scroll.value.position+c.value+o.value-r.height.value;return _>0?_:0}),d=y(()=>t.modelValue!==!0||l.value===!0&&a.value!==!0),h=y(()=>t.modelValue===!0&&d.value===!0&&t.reveal===!0),p=y(()=>"q-footer q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-bottom"+(t.bordered===!0?" q-footer--bordered":"")+(d.value===!0?" q-footer--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus"+(l.value!==!0?" hidden":""):"")),f=y(()=>{const _=r.rows.value.bottom,S={};return _[0]==="l"&&r.left.space===!0&&(S[i.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),_[2]==="r"&&r.right.space===!0&&(S[i.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),S});function v(_,S){r.update("footer",_,S)}function w(_,S){_.value!==S&&(_.value=S)}function b({height:_}){w(o,_),v("size",_)}function x(_){h.value===!0&&w(a,!0),n("focusin",_)}re(()=>t.modelValue,_=>{v("space",_),w(a,!0),r.animate()}),re(u,_=>{v("offset",_)}),re(()=>t.reveal,_=>{_===!1&&w(a,t.modelValue)}),re(a,_=>{r.animate(),n("reveal",_)}),re([o,r.scroll,r.height],function(){if(t.reveal!==!0)return;const{direction:_,position:S,inflectionPoint:C}=r.scroll.value;w(a,_==="up"||S-C<100||r.height.value-c.value-S-o.value<300)}),re(()=>i.screen.height,_=>{r.isContainer.value!==!0&&w(s,_)});const g={};return r.instances.footer=g,t.modelValue===!0&&v("size",o.value),v("space",t.modelValue),v("offset",u.value),He(()=>{r.instances.footer===g&&(r.instances.footer=void 0,v("size",0),v("offset",0),v("space",!1))}),()=>{const _=qt(e.default,[m(Xr,{debounce:0,onResize:b})]);return t.elevated===!0&&_.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),m("footer",{class:p.value,style:f.value,onFocusin:x},_)}}}),ae({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(t,{slots:e,emit:n}){const i=we(),r=$(null);let o=0;const a=[];function s(p){const f=typeof p=="boolean"?p:t.noErrorFocus!==!0,v=++o,w=(x,g)=>{n("validation"+(x===!0?"Success":"Error"),g)},b=x=>{const g=x.validate();return typeof g.then=="function"?g.then(_=>({valid:_,comp:x}),_=>({valid:!1,comp:x,err:_})):Promise.resolve({valid:g,comp:x})};return(t.greedy===!0?Promise.all(a.map(b)).then(x=>x.filter(g=>g.valid!==!0)):a.reduce((x,g)=>x.then(()=>b(g).then(_=>{if(_.valid===!1)return Promise.reject(_)})),Promise.resolve()).catch(x=>[x])).then(x=>{if(x===void 0||x.length===0)return v===o&&w(!0),!0;if(v===o){const{comp:g,err:_}=x[0];if(w(!1,g),f===!0){const S=x.find(({comp:C})=>typeof C.focus=="function"&&Qi(C.$)===!1);S!==void 0&&S.comp.focus()}}return!1})}function l(){o++,a.forEach(p=>{typeof p.resetValidation=="function"&&p.resetValidation()})}function c(p){p!==void 0&&$e(p);const f=o+1;s().then(v=>{f===o&&v===!0&&(t.onSubmit!==void 0?n("submit",p):p!==void 0&&p.target!==void 0&&typeof p.target.submit=="function"&&p.target.submit())})}function u(p){p!==void 0&&$e(p),n("reset"),We(()=>{l(),t.autofocus===!0&&t.noResetFocus!==!0&&d()})}function d(){ha(()=>{if(r.value===null)return;(r.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(r.value.querySelectorAll("[tabindex]"),f=>f.tabIndex!==-1))?.focus({preventScroll:!0})})}ir(hy,{bindComponent(p){a.push(p)},unbindComponent(p){const f=a.indexOf(p);f!==-1&&a.splice(f,1)}});let h=!1;return Pi(()=>{h=!0}),Kr(()=>{h===!0&&t.autofocus===!0&&d()}),xt(()=>{t.autofocus===!0&&d()}),Object.assign(i.proxy,{validate:s,resetValidation:l,submit:c,reset:u,focus:d,getValidationComponents:()=>a}),()=>m("form",{class:"q-form",ref:r,onSubmit:c,onReset:u},Me(e.default))}}),ae({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=we(),r=_n(Yr,ut);if(r===ut)return ut;const o=$(parseInt(t.heightHint,10)),a=$(!0),s=y(()=>t.reveal===!0||r.view.value.indexOf("H")!==-1||i.platform.is.ios&&r.isContainer.value===!0),l=y(()=>{if(t.modelValue!==!0)return 0;if(s.value===!0)return a.value===!0?o.value:0;const x=o.value-r.scroll.value.position;return x>0?x:0}),c=y(()=>t.modelValue!==!0||s.value===!0&&a.value!==!0),u=y(()=>t.modelValue===!0&&c.value===!0&&t.reveal===!0),d=y(()=>"q-header q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(c.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),h=y(()=>{const x=r.rows.value.top,g={};return x[0]==="l"&&r.left.space===!0&&(g[i.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),x[2]==="r"&&r.right.space===!0&&(g[i.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),g});function p(x,g){r.update("header",x,g)}function f(x,g){x.value!==g&&(x.value=g)}function v({height:x}){f(o,x),p("size",x)}function w(x){u.value===!0&&f(a,!0),n("focusin",x)}re(()=>t.modelValue,x=>{p("space",x),f(a,!0),r.animate()}),re(l,x=>{p("offset",x)}),re(()=>t.reveal,x=>{x===!1&&f(a,t.modelValue)}),re(a,x=>{r.animate(),n("reveal",x)}),re(r.scroll,x=>{t.reveal===!0&&f(a,x.direction==="up"||x.position<=t.revealOffset||x.position-x.inflectionPoint<100)});const b={};return r.instances.header=b,t.modelValue===!0&&p("size",o.value),p("space",t.modelValue),p("offset",l.value),He(()=>{r.instances.header===b&&(r.instances.header=void 0,p("size",0),p("offset",0),p("space",!1))}),()=>{const x=_s(e.default,[]);return t.elevated===!0&&x.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),x.push(m(Xr,{debounce:0,onResize:v})),m("header",{class:d.value,style:h.value,onFocusin:w},x)}}});var Hp={ratio:[String,Number]};function Gp(t,e){return y(()=>{const n=Number(t.ratio||(e!==void 0?e.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:100/n+"%"}:null})}ae({name:"QImg",props:{...Hp,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:1.7778},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(t,{slots:e,emit:n}){const i=$(t.initialRatio),r=Gp(t,i),o=we(),{registerTimeout:a,removeTimeout:s}=qi(),{registerTimeout:l,removeTimeout:c}=qi(),u=y(()=>t.placeholderSrc!==void 0?{src:t.placeholderSrc}:null),d=y(()=>t.errorSrc!==void 0?{src:t.errorSrc,__qerror:!0}:null),h=[$(null),$(u.value)],p=$(0),f=$(!1),v=$(!1),w=y(()=>`q-img q-img--${t.noNativeMenu===!0?"no-":""}menu`),b=y(()=>({width:t.width,height:t.height})),x=y(()=>`q-img__image ${t.imgClass!==void 0?t.imgClass+" ":""}q-img__image--with${t.noTransition===!0?"out":""}-transition q-img__image--`),g=y(()=>({...t.imgStyle,objectFit:t.fit,objectPosition:t.position}));function _(){c(),f.value=!1}function S({target:I}){Qi(o)===!1&&(s(),i.value=I.naturalHeight===0?.5:I.naturalWidth/I.naturalHeight,C(I,1))}function C(I,R){R!==1e3&&Qi(o)!==!0&&(I.complete===!0?function(P){Qi(o)!==!0&&(p.value=1^p.value,h[p.value].value=null,_(),P.getAttribute("__qerror")!=="true"&&(v.value=!1),n("load",P.currentSrc||P.src))}(I):a(()=>{C(I,R+1)},50))}function T(I){s(),_(),v.value=!0,h[p.value].value=d.value,h[1^p.value].value=u.value,n("error",I)}function L(I){const R=h[I].value,P={key:"img_"+I,class:x.value,style:g.value,alt:t.alt,crossorigin:t.crossorigin,decoding:t.decoding,referrerpolicy:t.referrerpolicy,height:t.height,width:t.width,loading:t.loading,fetchpriority:t.fetchpriority,"aria-hidden":"true",draggable:t.draggable,...R};return p.value===I?Object.assign(P,{class:P.class+"current",onLoad:S,onError:T}):P.class+="loaded",m("div",{class:"q-img__container absolute-full",key:"img"+I},m("img",P))}function z(){return f.value===!1?m("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Me(e[v.value===!0?"error":"default"])):m("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},e.loading!==void 0?e.loading():t.noSpinner===!0?void 0:[m(Zn,{color:t.spinnerColor,size:t.spinnerSize})])}{let I=function(){re(()=>t.src||t.srcset||t.sizes?{src:t.src,srcset:t.srcset,sizes:t.sizes}:null,R=>{s(),v.value=!1,R===null?(_(),h[1^p.value].value=u.value):(c(),t.loadingShowDelay!==0?l(()=>{f.value=!0},t.loadingShowDelay):f.value=!0),h[p.value].value=R},{immediate:!0})};Rn.value===!0?xt(I):I()}return()=>{const I=[];return r.value!==null&&I.push(m("div",{key:"filler",style:r.value})),h[0].value!==null&&I.push(L(0)),h[1].value!==null&&I.push(L(1)),I.push(m($t,{name:"q-transition--fade"},z)),m("div",{key:"main",class:w.value,style:b.value,role:"img","aria-label":t.alt},I)}}});var{passive:fr}=_t;ae({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:eo,initialIndex:{type:Number,default:0},disable:Boolean,reverse:Boolean},emits:["load"],setup(t,{slots:e,emit:n}){const i=$(!1),r=$(!0),o=$(null),a=$(null);let s,l,c=t.initialIndex;const u=y(()=>"q-infinite-scroll__loading"+(i.value===!0?"":" invisible"));function d(){if(t.disable===!0||i.value===!0||r.value===!1)return;const S=Qs(s),C=Ji(s),T=ta(s);t.reverse===!1?Math.round(C+T+t.offset)>=Math.round(S)&&h():Math.round(C)<=t.offset&&h()}function h(){if(t.disable===!0||i.value===!0||r.value===!1)return;c++,i.value=!0;const S=Qs(s);n("load",c,C=>{r.value===!0&&(i.value=!1,We(()=>{if(t.reverse===!0){const T=Qs(s),L=Ji(s);Bo(s,L+(T-S))}C===!0?f():o.value&&o.value.closest("body")&&l()}))})}function p(){r.value===!1&&(r.value=!0,s.addEventListener("scroll",l,fr)),d()}function f(){r.value===!0&&(r.value=!1,i.value=!1,s.removeEventListener("scroll",l,fr),l!==void 0&&l.cancel!==void 0&&l.cancel())}function v(){if(s&&r.value===!0&&s.removeEventListener("scroll",l,fr),s=ci(o.value,t.scrollTarget),r.value===!0){if(s.addEventListener("scroll",l,fr),t.reverse===!0){const S=Qs(s),C=ta(s);Bo(s,S-C)}d()}}function w(S){S=parseInt(S,10);const C=l;l=S<=0?d:la(d,isNaN(S)===!0?100:S),s&&r.value===!0&&(C!==void 0&&s.removeEventListener("scroll",C,fr),s.addEventListener("scroll",l,fr))}function b(S){if(x.value===!0){if(a.value===null)return void(S!==!0&&We(()=>{b(!0)}));const C=(i.value===!0?"un":"")+"pauseAnimations";Array.from(a.value.getElementsByTagName("svg")).forEach(T=>{T[C]()})}}const x=y(()=>t.disable!==!0&&r.value===!0);re([i,x],()=>{b()}),re(()=>t.disable,S=>{S===!0?f():p()}),re(()=>t.reverse,()=>{i.value===!1&&r.value===!0&&d()}),re(()=>t.scrollTarget,v),re(()=>t.debounce,w);let g=!1;Kr(()=>{g!==!1&&s&&Bo(s,g)}),Pi(()=>{g=!!s&&Ji(s)}),He(()=>{r.value===!0&&s.removeEventListener("scroll",l,fr)}),xt(()=>{w(t.debounce),v(),i.value===!1&&b()});const _=we();return Object.assign(_.proxy,{poll:()=>{l!==void 0&&l()},trigger:h,stop:f,reset:function(){c=0},resume:p,setIndex:function(S){c=S},updateScrollTarget:v}),()=>{const S=_s(e.default,[]);return x.value===!0&&S[t.reverse===!1?"push":"unshift"](m("div",{ref:a,class:u.value},Me(e.loading))),m("div",{class:"q-infinite-scroll",ref:o},S)}}}),ae({name:"QInnerLoading",props:{...Ue,...Br,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(t,{slots:e}){const n=we(),i=Ke(t,n.proxy.$q),{transitionProps:r,transitionStyle:o}=bu(t),a=y(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(i.value===!0?" q-inner-loading--dark":"")),s=y(()=>"q-inner-loading__label"+(t.labelClass!==void 0?` ${t.labelClass}`:""));function l(){return t.showing===!0?m("div",{class:a.value,style:o.value},e.default!==void 0?e.default():function(){const c=[m(Zn,{size:t.size,color:t.color})];return t.label!==void 0&&c.push(m("div",{class:s.value,style:t.labelStyle},[t.label])),c}()):null}return()=>m($t,r.value,l)}});var xv={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Zl={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleLowerCase()}},T_=Object.keys(Zl);T_.forEach(t=>{Zl[t].regex=new RegExp(Zl[t].pattern)});var WS=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+T_.join("")+"])|(.)","g"),wv=/[.*+?^${}()|[\]\\]/g,Ot="",YS={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function XS(t,e,n,i){let r,o,a,s,l,c;const u=$(null),d=$(function(){if(p(),u.value===!0){const g=w(b(t.modelValue));return t.fillMask!==!1?x(g):g}return t.modelValue}());function h(g){if(g<r.length)return r.slice(-g);let _="",S=r;const C=S.indexOf(Ot);if(C!==-1){for(let T=g-S.length;T>0;T--)_+=Ot;S=S.slice(0,C)+_+S.slice(C)}return S}function p(){if(u.value=t.mask!==void 0&&t.mask.length!==0&&(t.autogrow===!0||["textarea","text","search","url","tel","password"].includes(t.type)),u.value===!1)return s=void 0,r="",void(o="");const g=xv[t.mask]===void 0?t.mask:xv[t.mask],_=typeof t.fillMask=="string"&&t.fillMask.length!==0?t.fillMask.slice(0,1):"_",S=_.replace(wv,"\\$&"),C=[],T=[],L=[];let z=t.reverseFillMask===!0,I="",R="";g.replace(WS,(M,E,O,j,V)=>{if(j!==void 0){const B=Zl[j];L.push(B),R=B.negate,z===!0&&(T.push("(?:"+R+"+)?("+B.pattern+"+)?(?:"+R+"+)?("+B.pattern+"+)?"),z=!1),T.push("(?:"+R+"+)?("+B.pattern+")?")}else if(O!==void 0)I="\\"+(O==="\\"?"":O),L.push(O),C.push("([^"+I+"]+)?"+I+"?");else{const B=E!==void 0?E:V;I=B==="\\"?"\\\\\\\\":B.replace(wv,"\\\\$&"),L.push(B),C.push("([^"+I+"]+)?"+I+"?")}});const P=new RegExp("^"+C.join("")+"("+(I===""?".":"[^"+I+"]")+"+)?"+(I===""?"":"["+I+"]*")+"$"),q=T.length-1,k=T.map((M,E)=>E===0&&t.reverseFillMask===!0?new RegExp("^"+S+"*"+M):E===q?new RegExp("^"+M+"("+(R===""?".":R)+"+)?"+(t.reverseFillMask===!0?"$":S+"*")):new RegExp("^"+M));a=L,s=M=>{const E=P.exec(t.reverseFillMask===!0?M:M.slice(0,L.length+1));E!==null&&(M=E.slice(1).join(""));const O=[],j=k.length;for(let V=0,B=M;V<j;V++){const G=k[V].exec(B);if(G===null)break;B=B.slice(G.shift().length),O.push(...G)}return O.length!==0?O.join(""):M},r=L.map(M=>typeof M=="string"?M:Ot).join(""),o=r.split(Ot).join(_)}function f(g,_,S){const C=i.value,T=C.selectionEnd,L=C.value.length-T,z=b(g);_===!0&&p();const I=w(z),R=t.fillMask!==!1?x(I):I,P=d.value!==R;C.value!==R&&(C.value=R),P===!0&&(d.value=R),document.activeElement===C&&We(()=>{if(R!==o)if(S!=="insertFromPaste"||t.reverseFillMask===!0)if(["deleteContentBackward","deleteContentForward"].indexOf(S)===-1)if(t.reverseFillMask===!0)if(P===!0){const k=Math.max(0,R.length-(R===o?0:Math.min(I.length,L+1)));k===1&&T===1?C.setSelectionRange(k,k,"forward"):v.rightReverse(C,k)}else{const k=R.length-L;C.setSelectionRange(k,k,"backward")}else if(P===!0){const k=Math.max(0,r.indexOf(Ot),Math.min(I.length,T)-1);v.right(C,k)}else{const k=T-1;v.right(C,k)}else{const k=t.reverseFillMask===!0?T===0?R.length>I.length?1:0:Math.max(0,R.length-(R===o?0:Math.min(I.length,L)+1))+1:T;C.setSelectionRange(k,k,"forward")}else{const k=C.selectionEnd;let M=T-1;for(let E=l;E<=M&&E<k;E++)r[E]!==Ot&&M++;v.right(C,M)}else{const k=t.reverseFillMask===!0?o.length:0;C.setSelectionRange(k,k,"forward")}});const q=t.unmaskedValue===!0?b(R):R;String(t.modelValue)===q||t.modelValue===null&&q===""||n(q,!0)}re(()=>t.type+t.autogrow,p),re(()=>t.mask,g=>{if(g!==void 0)f(d.value,!0);else{const _=b(d.value);p(),t.modelValue!==_&&e("update:modelValue",_)}}),re(()=>t.fillMask+t.reverseFillMask,()=>{u.value===!0&&f(d.value,!0)}),re(()=>t.unmaskedValue,()=>{u.value===!0&&f(d.value)});const v={left(g,_){const S=r.slice(_-1).indexOf(Ot)===-1;let C=Math.max(0,_-1);for(;C>=0;C--)if(r[C]===Ot){_=C,S===!0&&_++;break}if(C<0&&r[_]!==void 0&&r[_]!==Ot)return v.right(g,0);_>=0&&g.setSelectionRange(_,_,"backward")},right(g,_){const S=g.value.length;let C=Math.min(S,_+1);for(;C<=S;C++){if(r[C]===Ot){_=C;break}r[C-1]===Ot&&(_=C)}if(C>S&&r[_-1]!==void 0&&r[_-1]!==Ot)return v.left(g,S);g.setSelectionRange(_,_,"forward")},leftReverse(g,_){const S=h(g.value.length);let C=Math.max(0,_-1);for(;C>=0;C--){if(S[C-1]===Ot){_=C;break}if(S[C]===Ot&&(_=C,C===0))break}if(C<0&&S[_]!==void 0&&S[_]!==Ot)return v.rightReverse(g,0);_>=0&&g.setSelectionRange(_,_,"backward")},rightReverse(g,_){const S=g.value.length,C=h(S),T=C.slice(0,_+1).indexOf(Ot)===-1;let L=Math.min(S,_+1);for(;L<=S;L++)if(C[L-1]===Ot){(_=L)>0&&T===!0&&_--;break}if(L>S&&C[_-1]!==void 0&&C[_-1]!==Ot)return v.leftReverse(g,S);g.setSelectionRange(_,_,"forward")}};function w(g){if(g==null||g==="")return"";if(t.reverseFillMask===!0)return function(T){const L=a,z=r.indexOf(Ot);let I=T.length-1,R="";for(let P=L.length-1;P>=0&&I!==-1;P--){const q=L[P];let k=T[I];if(typeof q=="string")R=q+R,k===q&&I--;else{if(k===void 0||!q.regex.test(k))return R;do R=(q.transform!==void 0?q.transform(k):k)+R,I--,k=T[I];while(z===P&&k!==void 0&&q.regex.test(k))}}return R}(g);const _=a;let S=0,C="";for(let T=0;T<_.length;T++){const L=g[S],z=_[T];if(typeof z=="string")C+=z,L===z&&S++;else{if(L===void 0||!z.regex.test(L))return C;C+=z.transform!==void 0?z.transform(L):L,S++}}return C}function b(g){return typeof g!="string"||s===void 0?typeof g=="number"?s(""+g):g:s(g)}function x(g){return o.length-g.length<=0?g:t.reverseFillMask===!0&&g.length!==0?o.slice(0,-g.length)+g:g+o.slice(g.length)}return{innerValue:d,hasMask:u,moveCursorForPaste:function(g,_,S){const C=w(b(g.value));_=Math.max(0,r.indexOf(Ot),Math.min(C.length,_)),l=_,g.setSelectionRange(_,S,"forward")},updateMaskValue:f,onMaskedKeydown:function(g){if(e("keydown",g),Wr(g)===!0||g.altKey===!0)return;const _=i.value,S=_.selectionStart,C=_.selectionEnd;if(g.shiftKey||(c=void 0),g.keyCode===37||g.keyCode===39){g.shiftKey&&c===void 0&&(c=_.selectionDirection==="forward"?S:C);const T=v[(g.keyCode===39?"right":"left")+(t.reverseFillMask===!0?"Reverse":"")];if(g.preventDefault(),T(_,c===S?C:S),g.shiftKey){const L=_.selectionStart;_.setSelectionRange(Math.min(c,L),Math.max(c,L),"forward")}}else g.keyCode===8&&t.reverseFillMask!==!0&&S===C?(v.left(_,S),_.setSelectionRange(_.selectionStart,C,"backward")):g.keyCode===46&&t.reverseFillMask===!0&&S===C&&(v.rightReverse(_,C),_.setSelectionRange(S,_.selectionEnd,"forward"))},onMaskedClick:function(g){e("click",g),c=void 0}}}var US=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,KS=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,ZS=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,QS=/[a-z0-9_ -]$/i;function E_(t){return function(e){if(e.type==="compositionend"||e.type==="change"){if(e.target.qComposing!==!0)return;e.target.qComposing=!1,t(e)}else e.type==="compositionupdate"&&e.target.qComposing!==!0&&typeof e.data=="string"&&(je.is.firefox===!0?QS.test(e.data)===!1:US.test(e.data)===!0||KS.test(e.data)===!0||ZS.test(e.data)===!0)&&(e.target.qComposing=!0)}}var ja=ae({name:"QInput",inheritAttrs:!1,props:{...Cu,...YS,...Dn,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ku,"paste","change","keydown","click","animationend"],setup(t,{emit:e,attrs:n}){const{proxy:i}=we(),{$q:r}=i,o={};let a,s,l,c=NaN,u=null;const d=$(null),h=Pp(t),{innerValue:p,hasMask:f,moveCursorForPaste:v,updateMaskValue:w,onMaskedKeydown:b,onMaskedClick:x}=XS(t,e,k,d),g=k_(t,!0),_=y(()=>Ur(p.value)),S=E_(P),C=Tu({changeEvent:!0}),T=y(()=>t.type==="textarea"||t.autogrow===!0),L=y(()=>T.value===!0||["text","search","url","tel","password"].includes(t.type)),z=y(()=>{const B={...C.splitAttrs.listeners.value,onInput:P,onPaste:R,onChange:E,onBlur:O,onFocus:kt};return B.onCompositionstart=B.onCompositionupdate=B.onCompositionend=S,f.value===!0&&(B.onKeydown=b,B.onClick=x),t.autogrow===!0&&(B.onAnimationend=q),B}),I=y(()=>{const B={tabindex:0,"data-autofocus":t.autofocus===!0||void 0,rows:t.type==="textarea"?6:void 0,"aria-label":t.label,name:h.value,...C.splitAttrs.attributes.value,id:C.targetUid.value,maxlength:t.maxlength,disabled:t.disable===!0,readonly:t.readonly===!0};return T.value===!1&&(B.type=t.type),t.autogrow===!0&&(B.rows=1),B});function R(B){if(f.value===!0&&t.reverseFillMask!==!0){const G=B.target;v(G,G.selectionStart,G.selectionEnd)}e("paste",B)}function P(B){if(!B||!B.target)return;if(t.type==="file")return void e("update:modelValue",B.target.files);const G=B.target.value;if(B.target.qComposing!==!0){if(f.value===!0)w(G,!1,B.inputType);else if(k(G),L.value===!0&&B.target===document.activeElement){const{selectionStart:J,selectionEnd:oe}=B.target;J!==void 0&&oe!==void 0&&We(()=>{B.target===document.activeElement&&G.indexOf(B.target.value)===0&&B.target.setSelectionRange(J,oe)})}t.autogrow===!0&&M()}else o.value=G}function q(B){e("animationend",B),M()}function k(B,G){l=()=>{u=null,t.type!=="number"&&o.hasOwnProperty("value")===!0&&delete o.value,t.modelValue!==B&&c!==B&&(c=B,G===!0&&(s=!0),e("update:modelValue",B),We(()=>{c===B&&(c=NaN)})),l=void 0},t.type==="number"&&(a=!0,o.value=B),t.debounce!==void 0?(u!==null&&clearTimeout(u),o.value=B,u=setTimeout(l,t.debounce)):l()}function M(){requestAnimationFrame(()=>{const B=d.value;if(B!==null){const G=B.parentNode.style,{scrollTop:J}=B,{overflowY:oe,maxHeight:te}=r.platform.is.firefox===!0?{}:window.getComputedStyle(B),H=oe!==void 0&&oe!=="scroll";H===!0&&(B.style.overflowY="hidden"),G.marginBottom=B.scrollHeight-1+"px",B.style.height="1px",B.style.height=B.scrollHeight+"px",H===!0&&(B.style.overflowY=parseInt(te,10)<B.scrollHeight?"auto":"hidden"),G.marginBottom="",B.scrollTop=J}})}function E(B){S(B),u!==null&&(clearTimeout(u),u=null),l!==void 0&&l(),e("change",B.target.value)}function O(B){B!==void 0&&kt(B),u!==null&&(clearTimeout(u),u=null),l!==void 0&&l(),a=!1,s=!1,delete o.value,t.type!=="file"&&setTimeout(()=>{d.value!==null&&(d.value.value=p.value!==void 0?p.value:"")})}function j(){return o.hasOwnProperty("value")===!0?o.value:p.value!==void 0?p.value:""}re(()=>t.type,()=>{d.value&&(d.value.value=t.modelValue)}),re(()=>t.modelValue,B=>{if(f.value===!0){if(s===!0&&(s=!1,String(B)===c))return;w(B)}else p.value!==B&&(p.value=B,t.type==="number"&&o.hasOwnProperty("value")===!0&&(a===!0?a=!1:delete o.value));t.autogrow===!0&&We(M)}),re(()=>t.autogrow,B=>{B===!0?We(M):d.value!==null&&n.rows>0&&(d.value.style.height="auto")}),re(()=>t.dense,()=>{t.autogrow===!0&&We(M)}),He(()=>{O()}),xt(()=>{t.autogrow===!0&&M()}),Object.assign(C,{innerValue:p,fieldClass:y(()=>"q-"+(T.value===!0?"textarea":"input")+(t.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:y(()=>t.type!=="file"&&typeof t.shadowText=="string"&&t.shadowText.length!==0),inputRef:d,emitValue:k,hasValue:_,floatingLabel:y(()=>_.value===!0&&(t.type!=="number"||isNaN(p.value)===!1)||Ur(t.displayValue)),getControl:()=>m(T.value===!0?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",t.inputClass],style:t.inputStyle,...I.value,...z.value,...t.type!=="file"?{value:j()}:g.value}),getShadowControl:()=>m("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(T.value===!0?"":" text-no-wrap")},[m("span",{class:"invisible"},j()),m("span",t.shadowText)])});const V=Eu(C);return Object.assign(i,{focus:function(){ha(()=>{const B=document.activeElement;d.value===null||d.value===B||B!==null&&B.id===C.targetUid.value||d.value.focus({preventScroll:!0})})},select:function(){d.value!==null&&d.value.select()},getNativeElement:()=>d.value}),jt(i,"nativeEl",()=>d.value),V}}),Sv={threshold:0,root:null,rootMargin:"0px"};function Cv(t,e,n){let i,r,o;typeof n=="function"?(i=n,r=Sv,o=e.cfg===void 0):(i=n.handler,r=Object.assign({},Sv,n.cfg),o=e.cfg===void 0||Gn(e.cfg,r)===!1),e.handler!==i&&(e.handler=i),o===!0&&(e.cfg=r,e.observer!==void 0&&e.observer.unobserve(t),e.observer=new IntersectionObserver(([a])=>{if(typeof e.handler=="function"){if(a.rootBounds===null&&document.body.contains(t)===!0)return e.observer.unobserve(t),void e.observer.observe(t);(e.handler(a,e.observer)===!1||e.once===!0&&a.isIntersecting===!0)&&M_(t)}},r),e.observer.observe(t))}function M_(t){const e=t.__qvisible;e!==void 0&&(e.observer!==void 0&&e.observer.unobserve(t),delete t.__qvisible)}var JS=Un({name:"intersection",mounted(t,{modifiers:e,value:n}){const i={once:e.once===!0};Cv(t,i,n),t.__qvisible=i},updated(t,e){const n=t.__qvisible;n!==void 0&&Cv(t,n,e.value)},beforeUnmount:M_});ae({name:"QIntersection",props:{tag:{type:String,default:"div"},once:Boolean,transition:String,transitionDuration:{type:[String,Number],default:300},ssrPrerender:Boolean,margin:String,threshold:[Number,Array],root:{default:null},disable:Boolean,onVisibility:Function},setup(t,{slots:e,emit:n}){const i=$(Rn.value===!0&&t.ssrPrerender),r=y(()=>t.root!==void 0||t.margin!==void 0||t.threshold!==void 0?{handler:l,cfg:{root:t.root,rootMargin:t.margin,threshold:t.threshold}}:l),o=y(()=>t.disable!==!0&&(Rn.value!==!0||t.once!==!0||t.ssrPrerender!==!0)),a=y(()=>[[JS,r.value,void 0,{once:t.once}]]),s=y(()=>`--q-transition-duration: ${t.transitionDuration}ms`);function l(u){i.value!==u.isIntersecting&&(i.value=u.isIntersecting,t.onVisibility!==void 0&&n("visibility",i.value))}function c(){return i.value===!0?[m("div",{key:"content",style:s.value},Me(e.default))]:e.hidden!==void 0?[m("div",{key:"hidden",style:s.value},e.hidden())]:void 0}return()=>{const u=t.transition?[m($t,{name:"q-transition--"+t.transition},c)]:c();return An(t.tag,{class:"q-intersection"},u,"main",o.value,()=>a.value)}}});var eC=["ul","ol"],L_=ae({name:"QList",props:{...Ue,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(t,{slots:e}){const n=we(),i=Ke(t,n.proxy.$q),r=y(()=>eC.includes(t.tag)?null:"list"),o=y(()=>"q-list"+(t.bordered===!0?" q-list--bordered":"")+(t.dense===!0?" q-list--dense":"")+(t.separator===!0?" q-list--separator":"")+(i.value===!0?" q-list--dark":"")+(t.padding===!0?" q-list--padding":""));return()=>m(t.tag,{class:o.value,role:r.value},Me(e.default))}}),kv=[34,37,40,33,39,38],tC=Object.keys($p);ae({name:"QKnob",props:{...Dn,...$p,modelValue:{type:Number,required:!0},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},tabindex:{type:[Number,String],default:0},disable:Boolean,readonly:Boolean},emits:["update:modelValue","change","dragValue"],setup(t,{slots:e,emit:n}){const{proxy:i}=we(),{$q:r}=i,o=$(t.modelValue),a=$(!1),s=y(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),l=y(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax);let c;function u(){o.value=t.modelValue===null?s.value:vt(t.modelValue,s.value,l.value),R(!0)}re(()=>`${t.modelValue}|${s.value}|${l.value}`,u),u();const d=y(()=>t.disable===!1&&t.readonly===!1),h=y(()=>"q-knob non-selectable"+(d.value===!0?" q-knob--editable":t.disable===!0?" disabled":"")),p=y(()=>(String(t.step).trim().split(".")[1]||"").length),f=y(()=>t.step===0?1:t.step),v=y(()=>t.instantFeedback===!0||a.value===!0),w=r.platform.is.mobile===!0?y(()=>d.value===!0?{onClick:T}:{}):y(()=>d.value===!0?{onMousedown:C,onClick:T,onKeydown:L,onKeyup:I}:{}),b=y(()=>d.value===!0?{tabindex:t.tabindex}:{["aria-"+(t.disable===!0?"disabled":"readonly")]:"true"}),x=y(()=>{const k={};return tC.forEach(M=>{k[M]=t[M]}),k});function g(k){k.isFinal?(z(k.evt,!0),a.value=!1):(k.isFirst&&(S(),a.value=!0),z(k.evt))}const _=y(()=>[[In,g,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function S(){const{top:k,left:M,width:E,height:O}=i.$el.getBoundingClientRect();c={top:k+O/2,left:M+E/2}}function C(k){S(),z(k)}function T(k){S(),z(k,!0)}function L(k){if(!kv.includes(k.keyCode))return;$e(k);const M=([34,33].includes(k.keyCode)?10:1)*f.value,E=[34,37,40].includes(k.keyCode)?-M:M;o.value=vt(parseFloat((o.value+E).toFixed(p.value)),s.value,l.value),R()}function z(k,M){const E=pn(k),O=Math.abs(E.top-c.top),j=Math.sqrt(O**2+Math.abs(E.left-c.left)**2);let V=Math.asin(O/j)*(180/Math.PI);V=E.top<c.top?c.left<E.left?90-V:270+V:c.left<E.left?V+90:270-V,r.lang.rtl===!0?V=Bl(-V-t.angle,0,360):t.angle&&(V=Bl(V-t.angle,0,360)),t.reverse===!0&&(V=360-V);let B=t.min+V/360*(t.max-t.min);if(f.value!==0){const G=B%f.value;B=B-G+(Math.abs(G)>=f.value/2?(G<0?-1:1)*f.value:0),B=parseFloat(B.toFixed(p.value))}B=vt(B,s.value,l.value),n("dragValue",B),o.value!==B&&(o.value=B),R(M)}function I(k){kv.includes(k.keyCode)&&R(!0)}function R(k){t.modelValue!==o.value&&n("update:modelValue",o.value),k===!0&&n("change",o.value)}const P=ws(t);function q(){return m("input",P.value)}return()=>{const k={class:h.value,role:"slider","aria-valuemin":s.value,"aria-valuemax":l.value,"aria-valuenow":t.modelValue,...b.value,...x.value,value:o.value,instantFeedback:v.value,...w.value},M={default:e.default};return d.value===!0&&t.name!==void 0&&(M.internal=q),An(Xy,k,M,"knob",d.value,()=>_.value)}}});var{passive:Tv}=_t,nC=["both","horizontal","vertical"],q_=ae({name:"QScrollObserver",props:{axis:{type:String,validator:t=>nC.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:eo},emits:["scroll"],setup(t,{emit:e}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i,r,o=null;function a(){o!==null&&o();const d=Math.max(0,Ji(i)),h=xu(i),p={top:d-n.position.top,left:h-n.position.left};if(t.axis==="vertical"&&p.top===0||t.axis==="horizontal"&&p.left===0)return;const f=Math.abs(p.top)>=Math.abs(p.left)?p.top<0?"up":"down":p.left<0?"left":"right";n.position={top:d,left:h},n.directionChanged=n.direction!==f,n.delta=p,n.directionChanged===!0&&(n.direction=f,n.inflectionPoint=n.position),e("scroll",{...n})}function s(){i=ci(r,t.scrollTarget),i.addEventListener("scroll",c,Tv),c(!0)}function l(){i!==void 0&&(i.removeEventListener("scroll",c,Tv),i=void 0)}function c(d){if(d===!0||t.debounce===0||t.debounce==="0")a();else if(o===null){const[h,p]=t.debounce?[setTimeout(a,t.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];o=()=>{p(h),o=null}}}re(()=>t.scrollTarget,()=>{l(),s()});const{proxy:u}=we();return re(()=>u.$q.lang.rtl,a),xt(()=>{r=u.$el.parentNode,s()}),He(()=>{o!==null&&o(),l()}),Object.assign(u,{trigger:c,getPosition:()=>n}),zt}});ae({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=we(),r=$(null),o=$(i.screen.height),a=$(t.container===!0?0:i.screen.width),s=$({position:0,direction:"down",inflectionPoint:0}),l=$(0),c=$(Rn.value===!0?0:yl()),u=y(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),d=y(()=>t.container===!1?{minHeight:i.screen.height+"px"}:null),h=y(()=>c.value!==0?{[i.lang.rtl===!0?"left":"right"]:`${c.value}px`}:null),p=y(()=>c.value!==0?{[i.lang.rtl===!0?"right":"left"]:0,[i.lang.rtl===!0?"left":"right"]:`-${c.value}px`,width:`calc(100% + ${c.value}px)`}:null);function f(_){if(t.container===!0||document.qScrollPrevented!==!0){const S={position:_.position.top,direction:_.direction,directionChanged:_.directionChanged,inflectionPoint:_.inflectionPoint.top,delta:_.delta.top};s.value=S,t.onScroll!==void 0&&n("scroll",S)}}function v(_){const{height:S,width:C}=_;let T=!1;o.value!==S&&(T=!0,o.value=S,t.onScrollHeight!==void 0&&n("scrollHeight",S),b()),a.value!==C&&(T=!0,a.value=C),T===!0&&t.onResize!==void 0&&n("resize",_)}function w({height:_}){l.value!==_&&(l.value=_,b())}function b(){if(t.container===!0){const _=o.value>l.value?yl():0;c.value!==_&&(c.value=_)}}let x=null;const g={instances:{},view:y(()=>t.view),isContainer:y(()=>t.container),rootRef:r,height:o,containerHeight:l,scrollbarWidth:c,totalWidth:y(()=>a.value+c.value),rows:y(()=>{const _=t.view.toLowerCase().split(" ");return{top:_[0].split(""),middle:_[1].split(""),bottom:_[2].split("")}}),header:wr({size:0,offset:0,space:!1}),right:wr({size:300,offset:0,space:!1}),footer:wr({size:0,offset:0,space:!1}),left:wr({size:300,offset:0,space:!1}),scroll:s,animate(){x!==null?clearTimeout(x):document.body.classList.add("q-body--layout-animate"),x=setTimeout(()=>{x=null,document.body.classList.remove("q-body--layout-animate")},155)},update(_,S,C){g[_][S]=C}};if(ir(Yr,g),yl()>0){let _=function(){T=null,L.classList.remove("hide-scrollbar")},S=function(){if(T===null){if(L.scrollHeight>i.screen.height)return;L.classList.add("hide-scrollbar")}else clearTimeout(T);T=setTimeout(_,300)},C=function(z){T!==null&&z==="remove"&&(clearTimeout(T),_()),window[`${z}EventListener`]("resize",S)},T=null;const L=document.body;re(()=>t.container!==!0?"add":"remove",C),t.container!==!0&&C("add"),cm(()=>{C("remove")})}return()=>{const _=qt(e.default,[m(q_,{onScroll:f}),m(Xr,{onResize:v})]),S=m("div",{class:u.value,style:d.value,ref:t.container===!0?void 0:r,tabindex:-1},_);return t.container===!0?m("div",{class:"q-layout-container overflow-hidden",ref:r},[m(Xr,{onResize:w}),m("div",{class:"absolute-full",style:h.value},[m("div",{class:"scroll",style:p.value},[S])])]):S}}});var iC=["horizontal","vertical","cell","none"],rC=ae({name:"QMarkupTable",props:{...Ue,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:t=>iC.includes(t)}},setup(t,{slots:e}){const n=we(),i=Ke(t,n.proxy.$q),r=y(()=>`q-markup-table q-table__container q-table__card q-table--${t.separator}-separator`+(i.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(t.dense===!0?" q-table--dense":"")+(t.flat===!0?" q-table--flat":"")+(t.bordered===!0?" q-table--bordered":"")+(t.square===!0?" q-table--square":"")+(t.wrapCells===!1?" q-table--no-wrap":""));return()=>m("div",{class:r.value},[m("table",{class:"q-table"},Me(e.default))])}});ae({name:"QNoSsr",props:{tag:{type:String,default:"div"},placeholder:String},setup(t,{slots:e}){const{isHydrated:n}=Qy();return()=>{if(n.value===!0){const o=Me(e.default);return o===void 0?o:o.length>1?m(t.tag,{},o):o[0]}const i={class:"q-no-ssr-placeholder"},r=Me(e.placeholder);return r!==void 0?r.length>1?m(t.tag,i,r):r[0]:t.placeholder!==void 0?m(t.tag,i,t.placeholder):void 0}}});var oC=ae({name:"QRadio",props:{...Ue,...Fi,...Dn,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(t,{slots:e,emit:n}){const{proxy:i}=we(),r=Ke(t,i.$q),o=Ai(t,Ny),a=$(null),{refocusTargetEl:s,refocusTarget:l}=$y(t,a),c=y(()=>bi(t.modelValue)===bi(t.val)),u=y(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(t.disable===!0?" disabled":"")+(r.value===!0?" q-radio--dark":"")+(t.dense===!0?" q-radio--dense":"")+(t.leftLabel===!0?" reverse":"")),d=y(()=>{const g=t.color===void 0||t.keepColor!==!0&&c.value!==!0?"":` text-${t.color}`;return`q-radio__inner relative-position q-radio__inner--${c.value===!0?"truthy":"falsy"}${g}`}),h=y(()=>(c.value===!0?t.checkedIcon:t.uncheckedIcon)||null),p=y(()=>t.disable===!0?-1:t.tabindex||0),f=ur(y(()=>{const g={type:"radio"};return t.name!==void 0&&Object.assign(g,{".checked":c.value===!0,"^checked":c.value===!0?"checked":void 0,name:t.name,value:t.val}),g}));function v(g){g!==void 0&&($e(g),l(g)),t.disable!==!0&&c.value!==!0&&n("update:modelValue",t.val,g)}function w(g){g.keyCode!==13&&g.keyCode!==32||$e(g)}function b(g){g.keyCode!==13&&g.keyCode!==32||v(g)}Object.assign(i,{set:v});const x=m("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[m("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),m("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);return()=>{const g=h.value!==null?[m("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[m(et,{class:"q-radio__icon",name:h.value})])]:[x];t.disable!==!0&&f(g,"unshift"," q-radio__native q-ma-none q-pa-none");const _=[m("div",{class:d.value,style:o.value,"aria-hidden":"true"},g)];s.value!==null&&_.push(s.value);const S=t.label!==void 0?qt(e.default,[t.label]):Me(e.default);return S!==void 0&&_.push(m("div",{class:"q-radio__label q-anchor--skip"},S)),m("div",{ref:a,class:u.value,tabindex:p.value,role:"radio","aria-label":t.label,"aria-checked":c.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:v,onKeydown:w,onKeyup:b},_)}}}),aC=ae({name:"QToggle",props:{...jy,icon:String,iconColor:String},emits:Hy,setup:t=>Gy("toggle",function(e,n){const i=y(()=>(e.value===!0?t.checkedIcon:n.value===!0?t.indeterminateIcon:t.uncheckedIcon)||t.icon),r=y(()=>e.value===!0?t.iconColor:null);return()=>[m("div",{class:"q-toggle__track"}),m("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},i.value!==void 0?[m(et,{name:i.value,color:r.value})]:void 0)]})}),I_={radio:oC,checkbox:Na,toggle:aC},sC=Object.keys(I_);function Rc(t,e){if(typeof t=="function")return t;const n=t!==void 0?t:e;return i=>i[n]}var lC=ae({name:"QOptionGroup",props:{...Ue,modelValue:{required:!0},options:{type:Array,validator:t=>t.every(on),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:t=>sC.includes(t)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(t,{emit:e,slots:n}){const{proxy:{$q:i}}=we(),r=Array.isArray(t.modelValue);t.type;const o=Ke(t,i),a=y(()=>I_[t.type]),s=y(()=>Rc(t.optionValue,"value")),l=y(()=>Rc(t.optionLabel,"label")),c=y(()=>Rc(t.optionDisable,"disable")),u=y(()=>t.options.map(f=>({val:s.value(f),name:f.name===void 0?t.name:f.name,disable:t.disable||c.value(f),leftLabel:f.leftLabel===void 0?t.leftLabel:f.leftLabel,color:f.color===void 0?t.color:f.color,checkedIcon:f.checkedIcon,uncheckedIcon:f.uncheckedIcon,dark:f.dark===void 0?o.value:f.dark,size:f.size===void 0?t.size:f.size,dense:t.dense,keepColor:f.keepColor===void 0?t.keepColor:f.keepColor}))),d=y(()=>"q-option-group q-gutter-x-sm"+(t.inline===!0?" q-option-group--inline":"")),h=y(()=>{const f={role:"group"};return t.type==="radio"&&(f.role="radiogroup",t.disable===!0&&(f["aria-disabled"]="true")),f});function p(f){e("update:modelValue",f)}return()=>m("div",{class:d.value,...h.value},t.options.map((f,v)=>{const w=n["label-"+v]!==void 0?()=>n["label-"+v](f):n.label!==void 0?()=>n.label(f):void 0;return m("div",[m(a.value,{label:w===void 0?l.value(f):null,modelValue:t.modelValue,"onUpdate:modelValue":p,...u.value[v]},w)])}))}});ae({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:e}){const{proxy:{$q:n}}=we(),i=_n(Yr,ut);if(i===ut||_n(Pg,ut)===ut)return ut;const r=y(()=>{const a=(i.header.space===!0?i.header.size:0)+(i.footer.space===!0?i.footer.size:0);if(typeof t.styleFn=="function"){const s=i.isContainer.value===!0?i.containerHeight.value:n.screen.height;return t.styleFn(a,s)}return{minHeight:i.isContainer.value===!0?i.containerHeight.value-a+"px":n.screen.height===0?a!==0?`calc(100vh - ${a}px)`:"100vh":n.screen.height-a+"px"}}),o=y(()=>"q-page"+(t.padding===!0?" q-layout-padding":""));return()=>m("main",{class:o.value,style:r.value},Me(e.default))}}),ae({name:"QPageContainer",setup(t,{slots:e}){const{proxy:{$q:n}}=we(),i=_n(Yr,ut);if(i===ut)return ut;ir(Pg,!0);const r=y(()=>{const o={};return i.header.space===!0&&(o.paddingTop=`${i.header.size}px`),i.right.space===!0&&(o["padding"+(n.lang.rtl===!0?"Left":"Right")]=`${i.right.size}px`),i.footer.space===!0&&(o.paddingBottom=`${i.footer.size}px`),i.left.space===!0&&(o["padding"+(n.lang.rtl===!0?"Right":"Left")]=`${i.left.size}px`),o});return()=>m("div",{class:"q-page-container",style:r.value},Me(e.default))}});var Fc={position:{type:String,default:"bottom-right",validator:t=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(t)},offset:{type:Array,validator:t=>t.length===2},expand:Boolean};function Ev(){const{props:t,proxy:{$q:e}}=we(),n=_n(Yr,ut);if(n===ut)return ut;const i=y(()=>{const u=t.position;return{top:u.indexOf("top")!==-1,right:u.indexOf("right")!==-1,bottom:u.indexOf("bottom")!==-1,left:u.indexOf("left")!==-1,vertical:u==="top"||u==="bottom",horizontal:u==="left"||u==="right"}}),r=y(()=>n.header.offset),o=y(()=>n.right.offset),a=y(()=>n.footer.offset),s=y(()=>n.left.offset),l=y(()=>{let u=0,d=0;const h=i.value,p=e.lang.rtl===!0?-1:1;h.top===!0&&r.value!==0?d=`${r.value}px`:h.bottom===!0&&a.value!==0&&(d=-a.value+"px"),h.left===!0&&s.value!==0?u=p*s.value+"px":h.right===!0&&o.value!==0&&(u=-p*o.value+"px");const f={transform:`translate(${u}, ${d})`};return t.offset&&(f.margin=`${t.offset[1]}px ${t.offset[0]}px`),h.vertical===!0?(s.value!==0&&(f[e.lang.rtl===!0?"right":"left"]=`${s.value}px`),o.value!==0&&(f[e.lang.rtl===!0?"left":"right"]=`${o.value}px`)):h.horizontal===!0&&(r.value!==0&&(f.top=`${r.value}px`),a.value!==0&&(f.bottom=`${a.value}px`)),f}),c=y(()=>`q-page-sticky row flex-center fixed-${t.position} q-page-sticky--${t.expand===!0?"expand":"shrink"}`);return{$layout:n,getStickyContent:function(u){const d=Me(u.default);return m("div",{class:c.value,style:l.value},t.expand===!0?d:[m("div",d)])}}}function sl(t,e){return[!0,!1].includes(t)?t:e}function Ac(t){let e,n,i=!1;function r(){n=arguments,i!==!0&&(i=!0,e=window.requestAnimationFrame(()=>{t.apply(this,n),n=void 0,i=!1}))}return r.cancel=()=>{window.cancelAnimationFrame(e),i=!1},r}ae({name:"QPageScroller",props:{...Fc,scrollOffset:{type:Number,default:1e3},reverse:Boolean,duration:{type:Number,default:300},offset:{...Fc.offset,default:()=>[18,18]}},emits:["click"],setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=we(),{$layout:r,getStickyContent:o}=Ev(),a=$(null);let s;const l=y(()=>r.height.value-(r.isContainer.value===!0?r.containerHeight.value:i.screen.height));function c(){return t.reverse===!0?l.value-r.scroll.value.position>t.scrollOffset:r.scroll.value.position>t.scrollOffset}const u=$(c());function d(){const w=c();u.value!==w&&(u.value=w)}function h(){t.reverse===!0?s===void 0&&(s=re(l,d)):p()}function p(){s!==void 0&&(s(),s=void 0)}function f(w){Bo(ci(r.isContainer.value===!0?a.value:r.rootRef.value),t.reverse===!0?r.height.value:0,t.duration),n("click",w)}function v(){return u.value===!0?m("div",{ref:a,class:"q-page-scroller",onClick:f},o(e)):null}return re(r.scroll,d),re(()=>t.reverse,h),h(),He(p),()=>m($t,{name:"q-transition--fade"},v)}}),ae({name:"QPageSticky",props:Fc,setup(t,{slots:e}){const{getStickyContent:n}=Ev();return()=>n(e)}}),ae({name:"QPagination",props:{...Ue,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:t=>(typeof t=="string"?parseInt(t,10):t)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:t=>t===""||Sy.includes(t)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(t,{emit:e}){const{proxy:n}=we(),{$q:i}=n,r=Ke(t,i),o=y(()=>parseInt(t.min,10)),a=y(()=>parseInt(t.max,10)),s=y(()=>parseInt(t.maxPages,10)),l=y(()=>f.value+" / "+a.value),c=y(()=>sl(t.boundaryLinks,t.input)),u=y(()=>sl(t.boundaryNumbers,!t.input)),d=y(()=>sl(t.directionLinks,t.input)),h=y(()=>sl(t.ellipses,!t.input)),p=$(null),f=y({get:()=>t.modelValue,set:P=>{if(P=parseInt(P,10),t.disable||isNaN(P))return;const q=vt(P,o.value,a.value);t.modelValue!==q&&e("update:modelValue",q)}});re(()=>`${o.value}|${a.value}`,()=>{f.value=t.modelValue});const v=y(()=>"q-pagination row no-wrap items-center"+(t.disable===!0?" disabled":"")),w=y(()=>t.gutter in $l?`${$l[t.gutter]}px`:t.gutter||null),b=y(()=>w.value!==null?`--q-pagination-gutter-parent:-${w.value};--q-pagination-gutter-child:${w.value}`:null),x=y(()=>{const P=[t.iconFirst||i.iconSet.pagination.first,t.iconPrev||i.iconSet.pagination.prev,t.iconNext||i.iconSet.pagination.next,t.iconLast||i.iconSet.pagination.last];return i.lang.rtl===!0?P.reverse():P}),g=y(()=>({"aria-disabled":t.disable===!0?"true":"false",role:"navigation"})),_=y(()=>Tp(t,"flat")),S=y(()=>({[_.value]:!0,round:t.round,rounded:t.rounded,padding:t.padding,color:t.color,textColor:t.textColor,size:t.size,ripple:t.ripple===null||t.ripple})),C=y(()=>{const P={[_.value]:!1};return t.activeDesign!==""&&(P[t.activeDesign]=!0),P}),T=y(()=>({...C.value,color:t.activeColor||t.color,textColor:t.activeTextColor||t.textColor})),L=y(()=>{let P=Math.max(s.value,1+(h.value?2:0)+(u.value?2:0));const q={pgFrom:o.value,pgTo:a.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(a.value).length)}em`}};return s.value&&P<a.value-o.value+1&&(P=1+2*Math.floor(P/2),q.pgFrom=Math.max(o.value,Math.min(a.value-P+1,t.modelValue-Math.floor(P/2))),q.pgTo=Math.min(a.value,q.pgFrom+P-1),u.value&&(q.boundaryStart=!0,q.pgFrom++),h.value&&q.pgFrom>o.value+(u.value?1:0)&&(q.ellipsesStart=!0,q.pgFrom++),u.value&&(q.boundaryEnd=!0,q.pgTo--),h.value&&q.pgTo<a.value-(u.value?1:0)&&(q.ellipsesEnd=!0,q.pgTo--)),q});function z(P){f.value=P}const I=y(()=>{function P(){f.value=p.value,p.value=null}return{"onUpdate:modelValue":q=>{p.value=q},onKeyup:q=>{Fn(q,13)===!0&&P()},onBlur:P}});function R(P,q,k){const M={"aria-label":q,"aria-current":"false",...S.value,...P};return k===!0&&Object.assign(M,{"aria-current":"true",...T.value}),q!==void 0&&(t.toFn!==void 0?M.to=t.toFn(q):M.onClick=()=>{z(q)}),m(it,M)}return Object.assign(n,{set:z,setByOffset:function(P){f.value=f.value+P}}),()=>{const P=[],q=[];let k;if(c.value===!0&&(P.push(R({key:"bls",disable:t.disable||t.modelValue<=o.value,icon:x.value[0]},o.value)),q.unshift(R({key:"ble",disable:t.disable||t.modelValue>=a.value,icon:x.value[3]},a.value))),d.value===!0&&(P.push(R({key:"bdp",disable:t.disable||t.modelValue<=o.value,icon:x.value[1]},t.modelValue-1)),q.unshift(R({key:"bdn",disable:t.disable||t.modelValue>=a.value,icon:x.value[2]},t.modelValue+1))),t.input!==!0){k=[];const{pgFrom:M,pgTo:E,marginalStyle:O}=L.value;if(L.value.boundaryStart===!0){const j=o.value===t.modelValue;P.push(R({key:"bns",style:O,disable:t.disable,label:o.value},o.value,j))}if(L.value.boundaryEnd===!0){const j=a.value===t.modelValue;q.unshift(R({key:"bne",style:O,disable:t.disable,label:a.value},a.value,j))}L.value.ellipsesStart===!0&&P.push(R({key:"bes",style:O,disable:t.disable,label:"",ripple:!1},M-1)),L.value.ellipsesEnd===!0&&q.unshift(R({key:"bee",style:O,disable:t.disable,label:"",ripple:!1},E+1));for(let j=M;j<=E;j++)k.push(R({key:`bpg${j}`,style:O,disable:t.disable,label:j},j,j===t.modelValue))}return m("div",{class:v.value,...g.value},[m("div",{class:"q-pagination__content row no-wrap items-center",style:b.value},[...P,t.input===!0?m(ja,{class:"inline",style:{width:l.value.length/1.5+"em"},type:"number",dense:!0,value:p.value,disable:t.disable,dark:r.value,borderless:!0,inputClass:t.inputClass,inputStyle:t.inputStyle,placeholder:l.value,min:o.value,max:a.value,...I.value}):m("div",{class:"q-pagination__middle row justify-center"},k),...q])])}}});var{passive:ll}=_t;function Ha(t,e=new WeakMap){if(Object(t)!==t)return t;if(e.has(t))return e.get(t);const n=t instanceof Date?new Date(t):t instanceof RegExp?new RegExp(t.source,t.flags):t instanceof Set?new Set:t instanceof Map?new Map:typeof t.constructor!="function"?Object.create(null):t.prototype!==void 0&&typeof t.prototype.constructor=="function"?t:new t.constructor;if(typeof t.constructor=="function"&&typeof t.valueOf=="function"){const i=t.valueOf();if(Object(i)!==i){const r=new t.constructor(i);return e.set(t,r),r}}return e.set(t,n),t instanceof Set?t.forEach(i=>{n.add(Ha(i,e))}):t instanceof Map&&t.forEach((i,r)=>{n.set(r,Ha(i,e))}),Object.assign(n,...Object.keys(t).map(i=>({[i]:Ha(t[i],e)})))}ae({name:"QParallax",props:{src:String,height:{type:Number,default:500},speed:{type:Number,default:1,validator:t=>t>=0&&t<=1},scrollTarget:eo,onScroll:Function},setup(t,{slots:e,emit:n}){const i=$(0),r=$(null),o=$(null),a=$(null);let s,l,c,u,d,h;re(()=>t.height,()=>{s===!0&&f()}),re(()=>t.scrollTarget,()=>{s===!0&&(x(),b())});let p=g=>{i.value=g,t.onScroll!==void 0&&n("scroll",g)};function f(){let g,_,S;h===window?(g=0,S=_=window.innerHeight):(g=Vl(h).top,_=ta(h),S=g+_);const C=Vl(r.value).top,T=C+t.height;if(d!==void 0||T>g&&C<S){const L=(S-C)/(t.height+_);v((c-t.height)*L*t.speed),p(L)}}let v=g=>{l.style.transform=`translate3d(-50%,${Math.round(g)}px,0)`};function w(){c=l.naturalHeight||l.videoHeight||ta(l),s===!0&&f()}function b(){s=!0,h=ci(r.value,t.scrollTarget),h.addEventListener("scroll",f,ll),window.addEventListener("resize",u,ll),f()}function x(){s===!0&&(s=!1,h.removeEventListener("scroll",f,ll),window.removeEventListener("resize",u,ll),h=void 0,v.cancel(),p.cancel(),u.cancel())}return xt(()=>{v=Ac(v),p=Ac(p),u=Ac(w),l=e.media!==void 0?o.value.children[0]:a.value,l.onload=l.onloadstart=l.loadedmetadata=w,w(),l.style.display="initial",window.IntersectionObserver!==void 0?(d=new IntersectionObserver(g=>{(g[0].isIntersecting===!0?b:x)()}),d.observe(r.value)):b()}),He(()=>{x(),d!==void 0&&d.disconnect(),l.onload=l.onloadstart=l.loadedmetadata=null}),()=>m("div",{ref:r,class:"q-parallax",style:{height:`${t.height}px`}},[m("div",{ref:o,class:"q-parallax__media absolute-full"},e.media!==void 0?e.media():[m("img",{ref:a,src:t.src})]),m("div",{class:"q-parallax__content absolute-full column flex-center"},e.content!==void 0?e.content({percentScrolled:i.value}):Me(e.default))])}}),ae({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(t,{slots:e,emit:n}){const{proxy:i}=we(),{$q:r}=i,o=$(null),a=$(""),s=$("");let l=!1;const c=y(()=>jt({initialValue:a.value,validate:t.validate,set:u,cancel:d,updatePosition:h},"value",()=>s.value,_=>{s.value=_}));function u(){t.validate(s.value)!==!1&&(p()===!0&&(n("save",s.value,a.value),n("update:modelValue",s.value)),f())}function d(){p()===!0&&n("cancel",s.value,a.value),f()}function h(){We(()=>{o.value.updatePosition()})}function p(){return Gn(s.value,a.value)===!1}function f(){l=!0,o.value.hide()}function v(){l=!1,a.value=Ha(t.modelValue),s.value=Ha(t.modelValue),n("beforeShow")}function w(){n("show")}function b(){l===!1&&p()===!0&&(t.autoSave===!0&&t.validate(s.value)===!0?(n("save",s.value,a.value),n("update:modelValue",s.value)):n("cancel",s.value,a.value)),n("beforeHide")}function x(){n("hide")}function g(){const _=e.default!==void 0?[].concat(e.default(c.value)):[];return t.title&&_.unshift(m("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},t.title)),t.buttons===!0&&_.push(m("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[m(it,{flat:!0,color:t.color,label:t.labelCancel||r.lang.label.cancel,onClick:d}),m(it,{flat:!0,color:t.color,label:t.labelSet||r.lang.label.set,onClick:u})])),_}return Object.assign(i,{set:u,cancel:d,show(_){o.value!==null&&o.value.show(_)},hide(_){o.value!==null&&o.value.hide(_)},updatePosition:h}),()=>{if(t.disable!==!0)return m(xs,{ref:o,class:"q-popup-edit",cover:t.cover,onBeforeShow:v,onShow:w,onBeforeHide:b,onHide:x,onEscapeKey:d},g)}}});var uC=ae({name:"QPopupProxy",props:{...Ey,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(t,{slots:e,emit:n,attrs:i}){const{proxy:r}=we(),{$q:o}=r,a=$(!1),s=$(null),l=y(()=>parseInt(t.breakpoint,10)),{canShow:c}=Mp({showing:a});function u(){return o.screen.width<l.value||o.screen.height<l.value?"dialog":"menu"}const d=$(u()),h=y(()=>d.value==="menu"?{maxHeight:"99vh"}:{});function p(v){a.value=!0,n("show",v)}function f(v){a.value=!1,d.value=u(),n("hide",v)}return re(()=>u(),v=>{a.value!==!0&&(d.value=v)}),Object.assign(r,{show(v){c(v)===!0&&s.value.show(v)},hide(v){s.value.hide(v)},toggle(v){s.value.toggle(v)}}),jt(r,"currentComponent",()=>({type:d.value,ref:s.value})),()=>{const v={ref:s,...h.value,...i,onShow:p,onHide:f};let w;return d.value==="dialog"?w=Su:(w=xs,Object.assign(v,{target:t.target,contextMenu:t.contextMenu,noParentEvent:!0,separateClosePopup:!0})),m(w,v,e.default)}}}),cC={xs:2,sm:4,md:6,lg:10,xl:14};function Mv(t,e,n){return{transform:e===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-t},1,1)`:`scale3d(${t},1,1)`}}var dC=ae({name:"QLinearProgress",props:{...Ue,...Fi,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(t,{slots:e}){const{proxy:n}=we(),i=Ke(t,n.$q),r=Ai(t,cC),o=y(()=>t.indeterminate===!0||t.query===!0),a=y(()=>t.reverse!==t.query),s=y(()=>({...r.value!==null?r.value:{},"--q-linear-progress-speed":`${t.animationSpeed}ms`})),l=y(()=>"q-linear-progress"+(t.color!==void 0?` text-${t.color}`:"")+(t.reverse===!0||t.query===!0?" q-linear-progress--reverse":"")+(t.rounded===!0?" rounded-borders":"")),c=y(()=>Mv(t.buffer!==void 0?t.buffer:1,a.value,n.$q)),u=y(()=>`with${t.instantFeedback===!0?"out":""}-transition`),d=y(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${i.value===!0?"dark":"light"}`+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),h=y(()=>Mv(o.value===!0?1:t.value,a.value,n.$q)),p=y(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${o.value===!0?"in":""}determinate`),f=y(()=>({width:100*t.value+"%"})),v=y(()=>`q-linear-progress__stripe absolute-${t.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const w=[m("div",{class:d.value,style:c.value}),m("div",{class:p.value,style:h.value})];return t.stripe===!0&&o.value===!1&&w.push(m("div",{class:v.value,style:f.value})),m("div",{class:l.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":t.indeterminate===!0?void 0:t.value},qt(e.default,w))}}}),hC=40;ae({name:"QPullToRefresh",props:{color:String,bgColor:String,icon:String,noMouse:Boolean,disable:Boolean,scrollTarget:eo},emits:["refresh"],setup(t,{slots:e,emit:n}){const{proxy:i}=we(),{$q:r}=i,o=$("pull"),a=$(0),s=$(!1),l=$(-40),c=$(!1),u=$({}),d=y(()=>({opacity:a.value,transform:`translateY(${l.value}px) rotate(${360*a.value}deg)`})),h=y(()=>"q-pull-to-refresh__puller row flex-center"+(c.value===!0?" q-pull-to-refresh__puller--animating":"")+(t.bgColor!==void 0?` bg-${t.bgColor}`:""));function p(C){if(C.isFinal===!0)return void(s.value===!0&&(s.value=!1,o.value==="pulled"?(o.value="refreshing",_({pos:20}),w()):o.value==="pull"&&_({pos:-40,ratio:0})));if(c.value===!0||o.value==="refreshing")return!1;if(C.isFirst===!0){if(Ji(x)!==0||C.direction!=="down")return s.value===!0&&(s.value=!1,o.value="pull",_({pos:-40,ratio:0})),!1;s.value=!0;const{top:z,left:I}=b.getBoundingClientRect();u.value={top:z+"px",left:I+"px",width:window.getComputedStyle(b).getPropertyValue("width")}}Ht(C.evt);const T=Math.min(140,Math.max(0,C.distance.y));l.value=T-hC,a.value=vt(T/60,0,1);const L=l.value>20?"pulled":"pull";o.value!==L&&(o.value=L)}const f=y(()=>{const C={down:!0};return t.noMouse!==!0&&(C.mouse=!0),[[In,p,void 0,C]]}),v=y(()=>"q-pull-to-refresh__content"+(s.value===!0?" no-pointer-events":""));function w(){n("refresh",()=>{_({pos:-40,ratio:0},()=>{o.value="pull"})})}let b,x,g=null;function _({pos:C,ratio:T},L){c.value=!0,l.value=C,T!==void 0&&(a.value=T),g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,c.value=!1,L&&L()},300)}function S(){x=ci(b,t.scrollTarget)}return re(()=>t.scrollTarget,S),xt(()=>{b=i.$el,S()}),He(()=>{g!==null&&clearTimeout(g)}),Object.assign(i,{trigger:w,updateScrollTarget:S}),()=>An("div",{class:"q-pull-to-refresh"},[m("div",{class:v.value},Me(e.default)),m("div",{class:"q-pull-to-refresh__puller-container fixed row flex-center no-pointer-events z-top",style:u.value},[m("div",{class:h.value,style:d.value},[o.value!=="refreshing"?m(et,{name:t.icon||r.iconSet.pullToRefresh.icon,color:t.color,size:"32px"}):m(Zn,{size:"24px",color:t.color})])])],"main",t.disable===!1,()=>f.value)}});var Oc=0,Lv=1,Dc=2;ae({name:"QRange",props:{...Uy,modelValue:{type:Object,default:()=>({min:null,max:null}),validator:t=>"min"in t&&"max"in t},dragRange:Boolean,dragOnlyRange:Boolean,leftLabelColor:String,leftLabelTextColor:String,rightLabelColor:String,rightLabelTextColor:String,leftLabelValue:[String,Number],rightLabelValue:[String,Number],leftThumbColor:String,rightThumbColor:String},emits:Ky,setup(t,{emit:e}){const{proxy:{$q:n}}=we(),{state:i,methods:r}=Zy({updateValue:L,updatePosition:function(I,R=i.dragging.value){let P;const q=r.getDraggingRatio(I,R),k=r.convertRatioToModel(q);switch(R.type){case Oc:q<=R.ratioMax?(P={minR:q,maxR:R.ratioMax,min:k,max:R.valueMax},i.focus.value="min"):(P={minR:R.ratioMax,maxR:q,min:R.valueMax,max:k},i.focus.value="max");break;case Dc:q>=R.ratioMin?(P={minR:R.ratioMin,maxR:q,min:R.valueMin,max:k},i.focus.value="max"):(P={minR:q,maxR:R.ratioMin,min:k,max:R.valueMin},i.focus.value="min");break;case Lv:const M=q-R.offsetRatio,E=vt(R.ratioMin+M,i.innerMinRatio.value,i.innerMaxRatio.value-R.rangeRatio),O=k-R.offsetModel,j=vt(R.valueMin+O,i.innerMin.value,i.innerMax.value-R.rangeValue);P={minR:E,maxR:E+R.rangeRatio,min:i.roundValueFn.value(j),max:i.roundValueFn.value(j+R.rangeValue)},i.focus.value="both"}l.value=l.value.min===null||l.value.max===null?{min:P.min||t.min,max:P.max||t.max}:{min:P.min,max:P.max},t.snap!==!0||t.step===0?(a.value=P.minR,s.value=P.maxR):(a.value=r.convertModelToRatio(l.value.min),s.value=r.convertModelToRatio(l.value.max))},getDragging:function(I){const{left:R,top:P,width:q,height:k}=o.value.getBoundingClientRect(),M=t.dragOnlyRange===!0?0:t.vertical===!0?g.value.offsetHeight/(2*k):g.value.offsetWidth/(2*q),E={left:R,top:P,width:q,height:k,valueMin:l.value.min,valueMax:l.value.max,ratioMin:u.value,ratioMax:d.value},O=r.getDraggingRatio(I,E);return t.dragOnlyRange!==!0&&O<E.ratioMin+M?E.type=Oc:t.dragOnlyRange===!0||O<E.ratioMax-M?t.dragRange===!0||t.dragOnlyRange===!0?(E.type=Lv,Object.assign(E,{offsetRatio:O,offsetModel:r.convertRatioToModel(O),rangeValue:E.valueMax-E.valueMin,rangeRatio:E.ratioMax-E.ratioMin})):E.type=E.ratioMax-O<O-E.ratioMin?Dc:Oc:E.type=Dc,E},formAttrs:y(()=>({type:"hidden",name:t.name,value:`${t.modelValue.min}|${t.modelValue.max}`}))}),o=$(null),a=$(0),s=$(0),l=$({min:0,max:0});function c(){l.value.min=t.modelValue.min===null?i.innerMin.value:vt(t.modelValue.min,i.innerMin.value,i.innerMax.value),l.value.max=t.modelValue.max===null?i.innerMax.value:vt(t.modelValue.max,i.innerMin.value,i.innerMax.value)}re(()=>`${t.modelValue.min}|${t.modelValue.max}|${i.innerMin.value}|${i.innerMax.value}`,c),c();const u=y(()=>r.convertModelToRatio(l.value.min)),d=y(()=>r.convertModelToRatio(l.value.max)),h=y(()=>i.active.value===!0?a.value:u.value),p=y(()=>i.active.value===!0?s.value:d.value),f=y(()=>{const I={[i.positionProp.value]:100*h.value+"%",[i.sizeProp.value]:100*(p.value-h.value)+"%"};return t.selectionImg!==void 0&&(I.backgroundImage=`url(${t.selectionImg}) !important`),I}),v=y(()=>{if(i.editable.value!==!0)return{};if(n.platform.is.mobile===!0)return{onClick:r.onMobileClick};const I={onMousedown:r.onActivate};return t.dragRange!==!0&&t.dragOnlyRange!==!0||Object.assign(I,{onFocus:()=>{i.focus.value="both"},onBlur:r.onBlur,onKeydown:z,onKeyup:r.onKeyup}),I});function w(I){return n.platform.is.mobile!==!0&&i.editable.value===!0&&t.dragOnlyRange!==!0?{onFocus:()=>{i.focus.value=I},onBlur:r.onBlur,onKeydown:z,onKeyup:r.onKeyup}:{}}const b=y(()=>t.dragOnlyRange!==!0?i.tabindex.value:null),x=y(()=>n.platform.is.mobile===!0||!t.dragRange&&t.dragOnlyRange!==!0?null:i.tabindex.value),g=$(null),_=y(()=>w("min")),S=r.getThumbRenderFn({focusValue:"min",getNodeData:()=>({ref:g,key:"tmin",..._.value,tabindex:b.value}),ratio:h,label:y(()=>t.leftLabelValue!==void 0?t.leftLabelValue:l.value.min),thumbColor:y(()=>t.leftThumbColor||t.thumbColor||t.color),labelColor:y(()=>t.leftLabelColor||t.labelColor),labelTextColor:y(()=>t.leftLabelTextColor||t.labelTextColor)}),C=y(()=>w("max")),T=r.getThumbRenderFn({focusValue:"max",getNodeData:()=>({...C.value,key:"tmax",tabindex:b.value}),ratio:p,label:y(()=>t.rightLabelValue!==void 0?t.rightLabelValue:l.value.max),thumbColor:y(()=>t.rightThumbColor||t.thumbColor||t.color),labelColor:y(()=>t.rightLabelColor||t.labelColor),labelTextColor:y(()=>t.rightLabelTextColor||t.labelTextColor)});function L(I){l.value.min===t.modelValue.min&&l.value.max===t.modelValue.max||e("update:modelValue",{...l.value}),I===!0&&e("change",{...l.value})}function z(I){if(!Np.includes(I.keyCode))return;$e(I);const R=([34,33].includes(I.keyCode)?10:1)*i.keyStep.value,P=([34,37,40].includes(I.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*(t.vertical===!0?-1:1)*R;if(i.focus.value==="both"){const q=l.value.max-l.value.min,k=vt(i.roundValueFn.value(l.value.min+P),i.innerMin.value,i.innerMax.value-q);l.value={min:k,max:i.roundValueFn.value(k+q)}}else{if(i.focus.value===!1)return;{const q=i.focus.value;l.value={...l.value,[q]:vt(i.roundValueFn.value(l.value[q]+P),q==="min"?i.innerMin.value:l.value.min,q==="max"?i.innerMax.value:l.value.max)}}}L()}return()=>{const I=r.getContent(f,x,v,R=>{R.push(S(),T())});return m("div",{ref:o,class:"q-range "+i.classes.value+(t.modelValue.min===null||t.modelValue.max===null?" q-slider--no-value":""),...i.attributes.value,"aria-valuenow":t.modelValue.min+"|"+t.modelValue.max},I)}}}),ae({name:"QRating",props:{...Fi,...Dn,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=we(),r=Ai(t),o=ur(ws(t)),a=$(0);let s={};const l=y(()=>t.readonly!==!0&&t.disable!==!0),c=y(()=>`q-rating row inline items-center q-rating--${l.value===!0?"":"non-"}editable`+(t.noDimming===!0?" q-rating--no-dimming":"")+(t.disable===!0?" disabled":"")+(t.color!==void 0&&Array.isArray(t.color)===!1?` text-${t.color}`:"")),u=y(()=>{const b=Array.isArray(t.icon)===!0?t.icon.length:0,x=Array.isArray(t.iconSelected)===!0?t.iconSelected.length:0,g=Array.isArray(t.iconHalf)===!0?t.iconHalf.length:0,_=Array.isArray(t.color)===!0?t.color.length:0,S=Array.isArray(t.colorSelected)===!0?t.colorSelected.length:0,C=Array.isArray(t.colorHalf)===!0?t.colorHalf.length:0;return{iconLen:b,icon:b>0?t.icon[b-1]:t.icon,selIconLen:x,selIcon:x>0?t.iconSelected[x-1]:t.iconSelected,halfIconLen:g,halfIcon:g>0?t.iconHalf[x-1]:t.iconHalf,colorLen:_,color:_>0?t.color[_-1]:t.color,selColorLen:S,selColor:S>0?t.colorSelected[S-1]:t.colorSelected,halfColorLen:C,halfColor:C>0?t.colorHalf[C-1]:t.colorHalf}}),d=y(()=>{if(typeof t.iconAriaLabel=="string"){const b=t.iconAriaLabel.length!==0?`${t.iconAriaLabel} `:"";return x=>`${b}${x}`}if(Array.isArray(t.iconAriaLabel)===!0){const b=t.iconAriaLabel.length;if(b>0)return x=>t.iconAriaLabel[Math.min(x,b)-1]}return(b,x)=>`${x} ${b}`}),h=y(()=>{const b=[],x=u.value,g=Math.ceil(t.modelValue),_=l.value===!0?0:null,S=t.iconHalf===void 0||g===t.modelValue?-1:g;for(let C=1;C<=t.max;C++){const T=a.value===0&&t.modelValue>=C||a.value>0&&a.value>=C,L=S===C&&a.value<C,z=a.value>0&&(L===!0?g:t.modelValue)>=C&&a.value<C,I=L===!0?C<=x.halfColorLen?t.colorHalf[C-1]:x.halfColor:x.selColor!==void 0&&T===!0?C<=x.selColorLen?t.colorSelected[C-1]:x.selColor:C<=x.colorLen?t.color[C-1]:x.color,R=(L===!0?C<=x.halfIconLen?t.iconHalf[C-1]:x.halfIcon:x.selIcon===void 0||T!==!0&&z!==!0?C<=x.iconLen?t.icon[C-1]:x.icon:C<=x.selIconLen?t.iconSelected[C-1]:x.selIcon)||i.iconSet.rating.icon;b.push({name:(L===!0?C<=x.halfIconLen?t.iconHalf[C-1]:x.halfIcon:x.selIcon===void 0||T!==!0&&z!==!0?C<=x.iconLen?t.icon[C-1]:x.icon:C<=x.selIconLen?t.iconSelected[C-1]:x.selIcon)||i.iconSet.rating.icon,attrs:{tabindex:_,role:"radio","aria-checked":t.modelValue===C?"true":"false","aria-label":d.value(C,R)},iconClass:"q-rating__icon"+(T===!0||L===!0?" q-rating__icon--active":"")+(z===!0?" q-rating__icon--exselected":"")+(a.value===C?" q-rating__icon--hovered":"")+(I!==void 0?` text-${I}`:"")})}return b}),p=y(()=>{const b={role:"radiogroup"};return t.disable===!0&&(b["aria-disabled"]="true"),t.readonly===!0&&(b["aria-readonly"]="true"),b});function f(b){if(l.value===!0){const x=vt(parseInt(b,10),1,parseInt(t.max,10)),g=t.noReset!==!0&&t.modelValue===x?0:x;g!==t.modelValue&&n("update:modelValue",g),a.value=0}}function v(b){l.value===!0&&(a.value=b)}function w(){a.value=0}return ds(()=>{s={}}),()=>{const b=[];return h.value.forEach(({iconClass:x,name:g,attrs:_},S)=>{const C=S+1;b.push(m("div",{key:C,ref:T=>{s[`rt${C}`]=T},class:"q-rating__icon-container flex flex-center",..._,onClick(){f(C)},onMouseover(){v(C)},onMouseout:w,onFocus(){v(C)},onBlur:w,onKeyup(T){(function(L,z){switch(L.keyCode){case 13:case 32:return f(z),$e(L);case 37:case 40:return s["rt"+(z-1)]&&s["rt"+(z-1)].focus(),$e(L);case 39:case 38:s[`rt${z+1}`]&&s[`rt${z+1}`].focus(),$e(L)}})(T,C)}},qt(e[`tip-${C}`],[m(et,{class:x,name:g})])))}),t.name!==void 0&&t.disable!==!0&&o(b,"push"),m("div",{class:c.value,style:r.value,...p.value},b)}}}),ae({name:"QResponsive",props:Hp,setup(t,{slots:e}){const n=Gp(t);return()=>m("div",{class:"q-responsive"},[m("div",{class:"q-responsive__filler overflow-hidden"},[m("div",{style:n.value})]),m("div",{class:"q-responsive__content absolute-full fit"},Me(e.default))])}});var pC=ae({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup:t=>()=>[m("div",{class:t.store.scroll.vertical.barClass.value,style:[t.barStyle,t.verticalBarStyle],"aria-hidden":"true",onMousedown:t.store.onVerticalMousedown}),m("div",{class:t.store.scroll.horizontal.barClass.value,style:[t.barStyle,t.horizontalBarStyle],"aria-hidden":"true",onMousedown:t.store.onHorizontalMousedown}),xn(m("div",{ref:t.store.scroll.vertical.ref,class:t.store.scroll.vertical.thumbClass.value,style:t.store.scroll.vertical.style.value,"aria-hidden":"true"}),t.store.thumbVertDir),xn(m("div",{ref:t.store.scroll.horizontal.ref,class:t.store.scroll.horizontal.thumbClass.value,style:t.store.scroll.horizontal.style.value,"aria-hidden":"true"}),t.store.thumbHorizDir)]}),qv=["vertical","horizontal"],zc={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Iv={prevent:!0,mouse:!0,mouseAllDir:!0},Pv=t=>t>=250?50:Math.ceil(t/5);ae({name:"QScrollArea",props:{...Ue,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(t,{slots:e,emit:n}){const i=$(!1),r=$(!1),o=$(!1),a={vertical:$(0),horizontal:$(0)},s={vertical:{ref:$(null),position:$(0),size:$(0)},horizontal:{ref:$(null),position:$(0),size:$(0)}},{proxy:l}=we(),c=Ke(t,l.$q);let u,d=null;const h=$(null),p=y(()=>"q-scrollarea"+(c.value===!0?" q-scrollarea--dark":""));Object.assign(a,{verticalInner:y(()=>a.vertical.value-t.verticalOffset[0]-t.verticalOffset[1]),horizontalInner:y(()=>a.horizontal.value-t.horizontalOffset[0]-t.horizontalOffset[1])}),s.vertical.percentage=y(()=>{const k=s.vertical.size.value-a.vertical.value;if(k<=0)return 0;const M=vt(s.vertical.position.value/k,0,1);return Math.round(1e4*M)/1e4}),s.vertical.thumbHidden=y(()=>(t.visible===null?o.value:t.visible)!==!0&&i.value===!1&&r.value===!1||s.vertical.size.value<=a.vertical.value+1),s.vertical.thumbStart=y(()=>t.verticalOffset[0]+s.vertical.percentage.value*(a.verticalInner.value-s.vertical.thumbSize.value)),s.vertical.thumbSize=y(()=>Math.round(vt(a.verticalInner.value*a.verticalInner.value/s.vertical.size.value,Pv(a.verticalInner.value),a.verticalInner.value))),s.vertical.style=y(()=>({...t.thumbStyle,...t.verticalThumbStyle,top:`${s.vertical.thumbStart.value}px`,height:`${s.vertical.thumbSize.value}px`,right:`${t.horizontalOffset[1]}px`})),s.vertical.thumbClass=y(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(s.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),s.vertical.barClass=y(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(s.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),s.horizontal.percentage=y(()=>{const k=s.horizontal.size.value-a.horizontal.value;if(k<=0)return 0;const M=vt(Math.abs(s.horizontal.position.value)/k,0,1);return Math.round(1e4*M)/1e4}),s.horizontal.thumbHidden=y(()=>(t.visible===null?o.value:t.visible)!==!0&&i.value===!1&&r.value===!1||s.horizontal.size.value<=a.horizontal.value+1),s.horizontal.thumbStart=y(()=>t.horizontalOffset[0]+s.horizontal.percentage.value*(a.horizontalInner.value-s.horizontal.thumbSize.value)),s.horizontal.thumbSize=y(()=>Math.round(vt(a.horizontalInner.value*a.horizontalInner.value/s.horizontal.size.value,Pv(a.horizontalInner.value),a.horizontalInner.value))),s.horizontal.style=y(()=>({...t.thumbStyle,...t.horizontalThumbStyle,[l.$q.lang.rtl===!0?"right":"left"]:`${s.horizontal.thumbStart.value}px`,width:`${s.horizontal.thumbSize.value}px`,bottom:`${t.verticalOffset[1]}px`})),s.horizontal.thumbClass=y(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(s.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),s.horizontal.barClass=y(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(s.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const f=y(()=>s.vertical.thumbHidden.value===!0&&s.horizontal.thumbHidden.value===!0?t.contentStyle:t.contentActiveStyle);function v(){const k={};return qv.forEach(M=>{const E=s[M];Object.assign(k,{[M+"Position"]:E.position.value,[M+"Percentage"]:E.percentage.value,[M+"Size"]:E.size.value,[M+"ContainerSize"]:a[M].value,[M+"ContainerInnerSize"]:a[M+"Inner"].value})}),k}const w=la(()=>{const k=v();k.ref=l,n("scroll",k)},0);function b(k,M,E){qv.includes(k)!==!1&&(k==="vertical"?Bo:vc)(h.value,M,E)}function x({height:k,width:M}){let E=!1;a.vertical.value!==k&&(a.vertical.value=k,E=!0),a.horizontal.value!==M&&(a.horizontal.value=M,E=!0),E===!0&&T()}function g({position:k}){let M=!1;s.vertical.position.value!==k.top&&(s.vertical.position.value=k.top,M=!0),s.horizontal.position.value!==k.left&&(s.horizontal.position.value=k.left,M=!0),M===!0&&T()}function _({height:k,width:M}){s.horizontal.size.value!==M&&(s.horizontal.size.value=M,T()),s.vertical.size.value!==k&&(s.vertical.size.value=k,T())}function S(k,M){const E=s[M];if(k.isFirst===!0){if(E.thumbHidden.value===!0)return;u=E.position.value,r.value=!0}else if(r.value!==!0)return;k.isFinal===!0&&(r.value=!1);const O=zc[M],j=(E.size.value-a[M].value)/(a[M+"Inner"].value-E.thumbSize.value),V=k.distance[O.dist];L(u+(k.direction===O.dir?1:-1)*V*j,M)}function C(k,M){const E=s[M];if(E.thumbHidden.value!==!0){const O=M==="vertical"?t.verticalOffset[0]:t.horizontalOffset[0],j=k[zc[M].offset]-O,V=E.thumbStart.value-O;(j<V||j>V+E.thumbSize.value)&&L(vt((j-E.thumbSize.value/2)/(a[M+"Inner"].value-E.thumbSize.value),0,1)*Math.max(0,E.size.value-a[M].value),M),E.ref.value!==null&&E.ref.value.dispatchEvent(new MouseEvent(k.type,k))}}function T(){i.value=!0,d!==null&&clearTimeout(d),d=setTimeout(()=>{d=null,i.value=!1},t.delay),t.onScroll!==void 0&&w()}function L(k,M){h.value[zc[M].scroll]=k}let z=null;function I(){z!==null&&clearTimeout(z),z=setTimeout(()=>{z=null,o.value=!0},l.$q.platform.is.ios?50:0)}function R(){z!==null&&(clearTimeout(z),z=null),o.value=!1}let P=null;re(()=>l.$q.lang.rtl,k=>{h.value!==null&&vc(h.value,Math.abs(s.horizontal.position.value)*(k===!0?-1:1))}),Pi(()=>{P={top:s.vertical.position.value,left:s.horizontal.position.value}}),Kr(()=>{if(P===null)return;const k=h.value;k!==null&&(vc(k,P.left),Bo(k,P.top))}),He(w.cancel),Object.assign(l,{getScrollTarget:()=>h.value,getScroll:v,getScrollPosition:()=>({top:s.vertical.position.value,left:s.horizontal.position.value}),getScrollPercentage:()=>({top:s.vertical.percentage.value,left:s.horizontal.percentage.value}),setScrollPosition:b,setScrollPercentage(k,M,E){b(k,M*(s[k].size.value-a[k].value)*(k==="horizontal"&&l.$q.lang.rtl===!0?-1:1),E)}});const q={scroll:s,thumbVertDir:[[In,k=>{S(k,"vertical")},void 0,{vertical:!0,...Iv}]],thumbHorizDir:[[In,k=>{S(k,"horizontal")},void 0,{horizontal:!0,...Iv}]],onVerticalMousedown(k){C(k,"vertical")},onHorizontalMousedown(k){C(k,"horizontal")}};return()=>m("div",{class:p.value,onMouseenter:I,onMouseleave:R},[m("div",{ref:h,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:t.tabindex!==void 0?t.tabindex:void 0},[m("div",{class:"q-scrollarea__content absolute",style:f.value},qt(e.default,[m(Xr,{debounce:0,onResize:_})])),m(q_,{axis:"both",onScroll:g})]),m(Xr,{debounce:0,onResize:x}),m(pC,{store:q,barStyle:t.barStyle,verticalBarStyle:t.verticalBarStyle,horizontalBarStyle:t.horizontalBarStyle})])}});var jn=1e3,fC=["start","center","end","start-force","center-force","end-force"],P_=Array.prototype.filter,gC=window.getComputedStyle(document.body).overflowAnchor===void 0?zt:function(t,e){t!==null&&(t._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(t._qOverflowAnimationFrame),t._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(t===null)return;t._qOverflowAnimationFrame=void 0;const n=t.children||[];P_.call(n,r=>r.dataset&&r.dataset.qVsAnchor!==void 0).forEach(r=>{delete r.dataset.qVsAnchor});const i=n[e];i&&i.dataset&&(i.dataset.qVsAnchor="")}))};function Vo(t,e){return t+e}function Bc(t,e,n,i,r,o,a,s){const l=t===window?document.scrollingElement||document.documentElement:t,c=r===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-a-s,scrollMaxSize:0,offsetStart:-a,offsetEnd:-s};if(r===!0?(t===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=l.scrollLeft,u.scrollViewSize+=l.clientWidth),u.scrollMaxSize=l.scrollWidth,o===!0&&(u.scrollStart=(cs===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(t===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=l.scrollTop,u.scrollViewSize+=l.clientHeight),u.scrollMaxSize=l.scrollHeight),n!==null)for(let d=n.previousElementSibling;d!==null;d=d.previousElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=d[c]);if(i!==null)for(let d=i.nextElementSibling;d!==null;d=d.nextElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=d[c]);if(e!==t){const d=l.getBoundingClientRect(),h=e.getBoundingClientRect();r===!0?(u.offsetStart+=h.left-d.left,u.offsetEnd-=h.width):(u.offsetStart+=h.top-d.top,u.offsetEnd-=h.height),t!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function Rv(t,e,n,i){e==="end"&&(e=(t===window?document.body:t)[n===!0?"scrollWidth":"scrollHeight"]),t===window?n===!0?(i===!0&&(e=(cs===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-e),window.scrollTo(e,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,e):n===!0?(i===!0&&(e=(cs===!0?t.scrollWidth-t.offsetWidth:0)-e),t.scrollLeft=e):t.scrollTop=e}function Ca(t,e,n,i){if(n>=i)return 0;const r=e.length,o=Math.floor(n/jn),a=Math.floor((i-1)/jn)+1;let s=t.slice(o,a).reduce(Vo,0);return n%jn!=0&&(s-=e.slice(o*jn,n).reduce(Vo,0)),i%jn!=0&&i!==r&&(s-=e.slice(i,a*jn).reduce(Vo,0)),s}var R_={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Fv=Object.keys(R_),Lh={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...R_};function F_({virtualScrollLength:t,getVirtualScrollTarget:e,getVirtualScrollEl:n,virtualScrollItemSizeComputed:i}){const r=we(),{props:o,emit:a,proxy:s}=r,{$q:l}=s;let c,u,d,h,p=[];const f=$(0),v=$(0),w=$({}),b=$(null),x=$(null),g=$(null),_=$({from:0,to:0}),S=y(()=>o.tableColspan!==void 0?o.tableColspan:100);i===void 0&&(i=y(()=>o.virtualScrollItemSize));const C=y(()=>i.value+";"+o.virtualScrollHorizontal),T=y(()=>C.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);function L(){k(u,!0)}function z(V){k(V===void 0?u:V)}function I(V,B){const G=e();if(G==null||G.nodeType===8)return;const J=Bc(G,n(),b.value,x.value,o.virtualScrollHorizontal,l.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);d!==J.scrollViewSize&&M(J.scrollViewSize),R(G,J,Math.min(t.value-1,Math.max(0,parseInt(V,10)||0)),0,fC.indexOf(B)!==-1?B:u!==-1&&V>u?"end":"start")}function R(V,B,G,J,oe){const te=typeof oe=="string"&&oe.indexOf("-force")!==-1,H=te===!0?oe.replace("-force",""):oe,A=H!==void 0?H:"start";let D=Math.max(0,G-w.value[A]),K=D+w.value.total;K>t.value&&(K=t.value,D=Math.max(0,K-w.value.total)),c=B.scrollStart;const W=D!==_.value.from||K!==_.value.to;if(W===!1&&H===void 0)return void E(G);const{activeElement:se}=document,fe=g.value;W===!0&&fe!==null&&fe!==se&&fe.contains(se)===!0&&(fe.addEventListener("focusout",q),setTimeout(()=>{fe!==null&&fe.removeEventListener("focusout",q)})),gC(fe,G-D);const le=H!==void 0?h.slice(D,G).reduce(Vo,0):0;if(W===!0){const pe=K>=_.value.from&&D<=_.value.to?_.value.to:K;_.value={from:D,to:pe},f.value=Ca(p,h,0,D),v.value=Ca(p,h,K,t.value),requestAnimationFrame(()=>{_.value.to!==K&&c===B.scrollStart&&(_.value={from:_.value.from,to:K},v.value=Ca(p,h,K,t.value))})}requestAnimationFrame(()=>{if(c!==B.scrollStart)return;W===!0&&P(D);const pe=h.slice(D,G).reduce(Vo,0),ce=pe+B.offsetStart+f.value,ke=ce+h[G];let Ce=ce+J;if(H!==void 0){const he=pe-le,Se=B.scrollStart+he;Ce=te!==!0&&Se<ce&&ke<Se+B.scrollViewSize?Se:H==="end"?ke-B.scrollViewSize:ce-(H==="start"?0:Math.round((B.scrollViewSize-h[G])/2))}c=Ce,Rv(V,Ce,o.virtualScrollHorizontal,l.lang.rtl),E(G)})}function P(V){const B=g.value;if(B){const G=P_.call(B.children,D=>D.classList&&D.classList.contains("q-virtual-scroll--skip")===!1),J=G.length,oe=o.virtualScrollHorizontal===!0?D=>D.getBoundingClientRect().width:D=>D.offsetHeight;let te,H,A=V;for(let D=0;D<J;){for(te=oe(G[D]),D++;D<J&&G[D].classList.contains("q-virtual-scroll--with-prev")===!0;)te+=oe(G[D]),D++;H=te-h[A],H!==0&&(h[A]+=H,p[Math.floor(A/jn)]+=H),A++}}}function q(){g.value!==null&&g.value!==void 0&&g.value.focus()}function k(V,B){const G=1*i.value;B!==!0&&Array.isArray(h)!==!1||(h=[]);const J=h.length;h.length=t.value;for(let te=t.value-1;te>=J;te--)h[te]=G;const oe=Math.floor((t.value-1)/jn);p=[];for(let te=0;te<=oe;te++){let H=0;const A=Math.min((te+1)*jn,t.value);for(let D=te*jn;D<A;D++)H+=h[D];p.push(H)}u=-1,c=void 0,f.value=Ca(p,h,0,_.value.from),v.value=Ca(p,h,_.value.to,t.value),V>=0?(P(_.value.from),We(()=>{I(V)})):O()}function M(V){if(V===void 0&&typeof window<"u"){const te=e();te!=null&&te.nodeType!==8&&(V=Bc(te,n(),b.value,x.value,o.virtualScrollHorizontal,l.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}d=V;const B=parseFloat(o.virtualScrollSliceRatioBefore)||0,G=1+B+(parseFloat(o.virtualScrollSliceRatioAfter)||0),J=V===void 0||V<=0?1:Math.ceil(V/i.value),oe=Math.max(1,J,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/G));w.value={total:Math.ceil(oe*G),start:Math.ceil(oe*B),center:Math.ceil(oe*(.5+B)),end:Math.ceil(oe*(1+B)),view:J}}function E(V){u!==V&&(o.onVirtualScroll!==void 0&&a("virtualScroll",{index:V,from:_.value.from,to:_.value.to-1,direction:V<u?"decrease":"increase",ref:s}),u=V)}re(T,()=>{M()}),re(C,L),M();const O=la(function(){const V=e();if(V==null||V.nodeType===8)return;const B=Bc(V,n(),b.value,x.value,o.virtualScrollHorizontal,l.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),G=t.value-1,J=B.scrollMaxSize-B.offsetStart-B.offsetEnd-v.value;if(c===B.scrollStart)return;if(B.scrollMaxSize<=0)return void R(V,B,0,0);d!==B.scrollViewSize&&M(B.scrollViewSize),P(_.value.from);const oe=Math.floor(B.scrollMaxSize-Math.max(B.scrollViewSize,B.offsetEnd)-Math.min(h[G],B.scrollViewSize/2));if(oe>0&&Math.ceil(B.scrollStart)>=oe)return void R(V,B,G,B.scrollMaxSize-B.offsetEnd-p.reduce(Vo,0));let te=0,H=B.scrollStart-B.offsetStart,A=H;if(H<=J&&H+B.scrollViewSize>=f.value)H-=f.value,te=_.value.from,A=H;else for(let D=0;H>=p[D]&&te<G;D++)H-=p[D],te+=jn;for(;H>0&&te<G;)H-=h[te],H>-B.scrollViewSize?(te++,A=H):A=h[te]+H;R(V,B,te,A)},l.platform.is.ios===!0?120:35);Ph(()=>{M()});let j=!1;return Pi(()=>{j=!0}),Kr(()=>{if(j!==!0)return;const V=e();c!==void 0&&V!=null&&V.nodeType!==8?Rv(V,c,o.virtualScrollHorizontal,l.lang.rtl):I(u)}),He(()=>{O.cancel()}),Object.assign(s,{scrollTo:I,reset:L,refresh:z}),{virtualScrollSliceRange:_,virtualScrollSliceSizeComputed:w,setVirtualScrollSize:M,onVirtualScrollEvt:O,localResetVirtualScroll:k,padVirtualScroll:function(V,B){const G=o.virtualScrollHorizontal===!0?"width":"height",J={["--q-virtual-scroll-item-"+G]:i.value+"px"};return[V==="tbody"?m(V,{class:"q-virtual-scroll__padding",key:"before",ref:b},[m("tr",[m("td",{style:{[G]:`${f.value}px`,...J},colspan:S.value})])]):m(V,{class:"q-virtual-scroll__padding",key:"before",ref:b,style:{[G]:`${f.value}px`,...J}}),m(V,{class:"q-virtual-scroll__content",key:"content",ref:g,tabindex:-1},B.flat()),V==="tbody"?m(V,{class:"q-virtual-scroll__padding",key:"after",ref:x},[m("tr",[m("td",{style:{[G]:`${v.value}px`,...J},colspan:S.value})])]):m(V,{class:"q-virtual-scroll__padding",key:"after",ref:x,style:{[G]:`${v.value}px`,...J}})]},scrollTo:I,reset:L,refresh:z}}var Av=t=>["add","add-unique","toggle"].includes(t),vC=Object.keys(Cu);function Vc(t,e){if(typeof t=="function")return t;const n=t!==void 0?t:e;return i=>i!==null&&typeof i=="object"&&n in i?i[n]:i}var mC=ae({name:"QSelect",inheritAttrs:!1,props:{...Lh,...Dn,...Cu,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Av},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:t=>["default","menu","dialog"].includes(t),default:"default"},virtualScrollItemSize:Lh.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...ku,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(t,{slots:e,emit:n}){const{proxy:i}=we(),{$q:r}=i,o=$(!1),a=$(!1),s=$(-1),l=$(""),c=$(!1),u=$(!1);let d,h,p,f,v,w,b,x=null,g=null,_=null;const S=$(null),C=$(null),T=$(null),L=$(null),z=$(null),I=Pp(t),R=E_(xe),P=y(()=>Array.isArray(t.options)?t.options.length:0),q=y(()=>t.virtualScrollItemSize===void 0?t.optionsDense===!0?24:48:t.virtualScrollItemSize),{virtualScrollSliceRange:k,virtualScrollSliceSizeComputed:M,localResetVirtualScroll:E,padVirtualScroll:O,onVirtualScrollEvt:j,scrollTo:V,setVirtualScrollSize:B}=F_({virtualScrollLength:P,getVirtualScrollTarget:function(){return be()},getVirtualScrollEl:be,virtualScrollItemSizeComputed:q}),G=Tu(),J=y(()=>{const Y=t.mapOptions===!0&&t.multiple!==!0,Oe=t.modelValue===void 0||t.modelValue===null&&Y!==!0?[]:t.multiple===!0&&Array.isArray(t.modelValue)?t.modelValue:[t.modelValue];if(t.mapOptions===!0&&Array.isArray(t.options)===!0){const Pe=t.mapOptions===!0&&d!==void 0?d:[],ft=Oe.map(Ye=>function(Xe,Ft){const gt=pa=>Gn(ie.value(pa),Xe);return t.options.find(gt)||Ft.find(gt)||Xe}(Ye,Pe));return t.modelValue===null&&Y===!0?ft.filter(Ye=>Ye!==null):ft}return Oe}),oe=y(()=>{const Y={};return vC.forEach(Oe=>{const Pe=t[Oe];Pe!==void 0&&(Y[Oe]=Pe)}),Y}),te=y(()=>t.optionsDark===null?G.isDark.value:t.optionsDark),H=y(()=>Ur(J.value)),A=y(()=>{let Y="q-field__input q-placeholder col";return t.hideSelected===!0||J.value.length===0?[Y,t.inputClass]:(Y+=" q-field__input--padding",t.inputClass===void 0?Y:[Y,t.inputClass])}),D=y(()=>(t.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(t.popupContentClass?" "+t.popupContentClass:"")),K=y(()=>P.value===0),W=y(()=>J.value.map(Y=>me.value(Y)).join(", ")),se=y(()=>t.displayValue!==void 0?t.displayValue:W.value),fe=y(()=>t.optionsHtml===!0?()=>!0:Y=>Y!=null&&Y.html===!0),le=y(()=>t.displayValueHtml===!0||t.displayValue===void 0&&(t.optionsHtml===!0||J.value.some(fe.value))),pe=y(()=>G.focused.value===!0?t.tabindex:-1),ce=y(()=>{const Y={tabindex:t.tabindex,role:"combobox","aria-label":t.label,"aria-readonly":t.readonly===!0?"true":"false","aria-autocomplete":t.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${G.targetUid.value}_lb`};return s.value>=0&&(Y["aria-activedescendant"]=`${G.targetUid.value}_${s.value}`),Y}),ke=y(()=>({id:`${G.targetUid.value}_lb`,role:"listbox","aria-multiselectable":t.multiple===!0?"true":"false"})),Ce=y(()=>J.value.map((Y,Oe)=>({index:Oe,opt:Y,html:fe.value(Y),selected:!0,removeAtIndex:Q,toggleOption:_e,tabindex:pe.value}))),he=y(()=>{if(P.value===0)return[];const{from:Y,to:Oe}=k.value;return t.options.slice(Y,Oe).map((Pe,ft)=>{const Ye=X.value(Pe)===!0,Xe=mt(Pe)===!0,Ft=Y+ft,gt={clickable:!0,active:Xe,activeClass:ze.value,manualFocus:!0,focused:!1,disable:Ye,tabindex:-1,dense:t.optionsDense,dark:te.value,role:"option","aria-selected":Xe===!0?"true":"false",id:`${G.targetUid.value}_${Ft}`,onClick:()=>{_e(Pe)}};return Ye!==!0&&(s.value===Ft&&(gt.focused=!0),r.platform.is.desktop===!0&&(gt.onMousemove=()=>{o.value===!0&&Re(Ft)})),{index:Ft,opt:Pe,html:fe.value(Pe),label:me.value(Pe),selected:gt.active,focused:gt.focused,toggleOption:_e,setOptionIndex:Re,itemProps:gt}})}),Se=y(()=>t.dropdownIcon!==void 0?t.dropdownIcon:r.iconSet.arrow.dropdown),Te=y(()=>t.optionsCover===!1&&t.outlined!==!0&&t.standout!==!0&&t.borderless!==!0&&t.rounded!==!0),ze=y(()=>t.optionsSelectedClass!==void 0?t.optionsSelectedClass:t.color!==void 0?`text-${t.color}`:""),ie=y(()=>Vc(t.optionValue,"value")),me=y(()=>Vc(t.optionLabel,"label")),X=y(()=>Vc(t.optionDisable,"disable")),ve=y(()=>J.value.map(ie.value)),Le=y(()=>{const Y={onInput:xe,onChange:R,onKeydown:Ee,onKeyup:Tt,onKeypress:Z,onFocus:qe,onClick(Oe){h===!0&&kt(Oe)}};return Y.onCompositionstart=Y.onCompositionupdate=Y.onCompositionend=R,Y});function De(Y){return t.emitValue===!0?ie.value(Y):Y}function Be(Y){if(Y!==-1&&Y<J.value.length)if(t.multiple===!0){const Oe=t.modelValue.slice();n("remove",{index:Y,value:Oe.splice(Y,1)[0]}),n("update:modelValue",Oe)}else n("update:modelValue",null)}function Q(Y){Be(Y),G.focus()}function de(Y,Oe){const Pe=De(Y);if(t.multiple!==!0)return t.fillInput===!0&&N(me.value(Y),!0,!0),void n("update:modelValue",Pe);if(J.value.length===0)return n("add",{index:0,value:Pe}),void n("update:modelValue",t.multiple===!0?[Pe]:Pe);if(Oe===!0&&mt(Y)===!0||t.maxValues!==void 0&&t.modelValue.length>=t.maxValues)return;const ft=t.modelValue.slice();n("add",{index:ft.length,value:Pe}),ft.push(Pe),n("update:modelValue",ft)}function _e(Y,Oe){if(G.editable.value!==!0||Y===void 0||X.value(Y)===!0)return;const Pe=ie.value(Y);if(t.multiple!==!0)return Oe!==!0&&(N(t.fillInput===!0?me.value(Y):"",!0,!0),ln()),C.value!==null&&C.value.focus(),void(J.value.length!==0&&Gn(ie.value(J.value[0]),Pe)===!0||n("update:modelValue",t.emitValue===!0?Pe:Y));if((h!==!0||c.value===!0)&&G.focus(),qe(),J.value.length===0){const Xe=t.emitValue===!0?Pe:Y;return n("add",{index:0,value:Xe}),void n("update:modelValue",t.multiple===!0?[Xe]:Xe)}const ft=t.modelValue.slice(),Ye=ve.value.findIndex(Xe=>Gn(Xe,Pe));if(Ye!==-1)n("remove",{index:Ye,value:ft.splice(Ye,1)[0]});else{if(t.maxValues!==void 0&&ft.length>=t.maxValues)return;const Xe=t.emitValue===!0?Pe:Y;n("add",{index:ft.length,value:Xe}),ft.push(Xe)}n("update:modelValue",ft)}function Re(Y){if(r.platform.is.desktop!==!0)return;const Oe=Y!==-1&&Y<P.value?Y:-1;s.value!==Oe&&(s.value=Oe)}function Ge(Y=1,Oe){if(o.value===!0){let Pe=s.value;do Pe=Bl(Pe+Y,-1,P.value-1);while(Pe!==-1&&Pe!==s.value&&X.value(t.options[Pe])===!0);s.value!==Pe&&(Re(Pe),V(Pe),Oe!==!0&&t.useInput===!0&&t.fillInput===!0&&F(Pe>=0?me.value(t.options[Pe]):f,!0))}}function mt(Y){const Oe=ie.value(Y);return ve.value.find(Pe=>Gn(Pe,Oe))!==void 0}function qe(Y){t.useInput===!0&&C.value!==null&&(Y===void 0||C.value===Y.target&&Y.target.value===W.value)&&C.value.select()}function tt(Y){Fn(Y,27)===!0&&o.value===!0&&(kt(Y),ln(),hi()),n("keyup",Y)}function Tt(Y){const{value:Oe}=Y.target;if(Y.keyCode===void 0)if(Y.target.value="",x!==null&&(clearTimeout(x),x=null),g!==null&&(clearTimeout(g),g=null),hi(),typeof Oe=="string"&&Oe.length!==0){const Pe=Oe.toLocaleLowerCase(),ft=Xe=>{const Ft=t.options.find(gt=>String(Xe.value(gt)).toLocaleLowerCase()===Pe);return Ft!==void 0&&(J.value.indexOf(Ft)===-1?_e(Ft):ln(),!0)},Ye=Xe=>{ft(ie)!==!0&&Xe!==!0&&ft(me)!==!0&&U(Oe,!0,()=>Ye(!0))};Ye()}else G.clearValue(Y);else tt(Y)}function Z(Y){n("keypress",Y)}function Ee(Y){if(n("keydown",Y),Wr(Y)===!0)return;const Oe=l.value.length!==0&&(t.newValueMode!==void 0||t.onNewValue!==void 0),Pe=Y.shiftKey!==!0&&t.disableTabSelection!==!0&&t.multiple!==!0&&(s.value!==-1||Oe===!0);if(Y.keyCode===27)return void Ht(Y);if(Y.keyCode===9&&Pe===!1)return void yt();if(Y.target===void 0||Y.target.id!==G.targetUid.value||G.editable.value!==!0)return;if(Y.keyCode===40&&G.innerLoading.value!==!0&&o.value===!1)return $e(Y),void st();if(Y.keyCode===8&&(t.useChips===!0||t.clearable===!0)&&t.hideSelected!==!0&&l.value.length===0)return void(t.multiple===!0&&Array.isArray(t.modelValue)===!0?Be(t.modelValue.length-1):t.multiple!==!0&&t.modelValue!==null&&n("update:modelValue",null));Y.keyCode!==35&&Y.keyCode!==36||typeof l.value=="string"&&l.value.length!==0||($e(Y),s.value=-1,Ge(Y.keyCode===36?1:-1,t.multiple)),Y.keyCode!==33&&Y.keyCode!==34||M.value===void 0||($e(Y),s.value=Math.max(-1,Math.min(P.value,s.value+(Y.keyCode===33?-1:1)*M.value.view)),Ge(Y.keyCode===33?1:-1,t.multiple)),Y.keyCode!==38&&Y.keyCode!==40||($e(Y),Ge(Y.keyCode===38?-1:1,t.multiple));const ft=P.value;if((w===void 0||b<Date.now())&&(w=""),ft>0&&t.useInput!==!0&&Y.key!==void 0&&Y.key.length===1&&Y.altKey===!1&&Y.ctrlKey===!1&&Y.metaKey===!1&&(Y.keyCode!==32||w.length!==0)){o.value!==!0&&st(Y);const Ye=Y.key.toLocaleLowerCase(),Xe=w.length===1&&w[0]===Ye;b=Date.now()+1500,Xe===!1&&($e(Y),w+=Ye);const Ft=new RegExp("^"+w.split("").map(pa=>".*+?^${}()|[]\\".indexOf(pa)!==-1?"\\"+pa:pa).join(".*"),"i");let gt=s.value;if(Xe===!0||gt<0||Ft.test(me.value(t.options[gt]))!==!0)do gt=Bl(gt+1,-1,ft-1);while(gt!==s.value&&(X.value(t.options[gt])===!0||Ft.test(me.value(t.options[gt]))!==!0));s.value!==gt&&We(()=>{Re(gt),V(gt),gt>=0&&t.useInput===!0&&t.fillInput===!0&&F(me.value(t.options[gt]),!0)})}else if(Y.keyCode===13||Y.keyCode===32&&t.useInput!==!0&&w===""||Y.keyCode===9&&Pe!==!1)if(Y.keyCode!==9&&$e(Y),s.value!==-1&&s.value<ft)_e(t.options[s.value]);else{if(Oe===!0){const Ye=(Xe,Ft)=>{if(Ft){if(Av(Ft)!==!0)return}else Ft=t.newValueMode;N("",t.multiple!==!0,!0),Xe!=null&&((Ft==="toggle"?_e:de)(Xe,Ft==="add-unique"),t.multiple!==!0&&(C.value!==null&&C.value.focus(),ln()))};if(t.onNewValue!==void 0?n("newValue",l.value,Ye):Ye(l.value),t.multiple!==!0)return}o.value===!0?yt():G.innerLoading.value!==!0&&st()}}function be(){return h===!0?z.value:T.value!==null&&T.value.contentEl!==null?T.value.contentEl:void 0}function ge(){if(K.value===!0)return e["no-option"]!==void 0?e["no-option"]({inputValue:l.value}):void 0;const Y=e.option!==void 0?e.option:Pe=>m(Cs,{key:Pe.index,...Pe.itemProps},()=>m(Mi,()=>m(Eh,()=>m("span",{[Pe.html===!0?"innerHTML":"textContent"]:Pe.label}))));let Oe=O("div",he.value.map(Y));return e["before-options"]!==void 0&&(Oe=e["before-options"]().concat(Oe)),qt(e["after-options"],Oe)}function xe(Y){x!==null&&(clearTimeout(x),x=null),g!==null&&(clearTimeout(g),g=null),Y&&Y.target&&Y.target.qComposing===!0||(F(Y.target.value||""),p=!0,f=l.value,G.focused.value===!0||h===!0&&c.value!==!0||G.focus(),t.onFilter!==void 0&&(x=setTimeout(()=>{x=null,U(l.value)},t.inputDebounce)))}function F(Y,Oe){l.value!==Y&&(l.value=Y,Oe===!0||t.inputDebounce===0||t.inputDebounce==="0"?n("inputValue",Y):g=setTimeout(()=>{g=null,n("inputValue",Y)},t.inputDebounce))}function N(Y,Oe,Pe){p=Pe!==!0,t.useInput===!0&&(F(Y,!0),Oe!==!0&&Pe===!0||(f=Y),Oe!==!0&&U(Y))}function U(Y,Oe,Pe){if(t.onFilter===void 0||Oe!==!0&&G.focused.value!==!0)return;G.innerLoading.value===!0?n("filterAbort"):(G.innerLoading.value=!0,u.value=!0),Y!==""&&t.multiple!==!0&&J.value.length!==0&&p!==!0&&Y===me.value(J.value[0])&&(Y="");const ft=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);_!==null&&clearTimeout(_),_=ft,n("filter",Y,(Ye,Xe)=>{Oe!==!0&&G.focused.value!==!0||_!==ft||(clearTimeout(_),typeof Ye=="function"&&Ye(),u.value=!1,We(()=>{G.innerLoading.value=!1,G.editable.value===!0&&(Oe===!0?o.value===!0&&ln():o.value===!0?Mu(!0):o.value=!0),typeof Xe=="function"&&We(()=>{Xe(i)}),typeof Pe=="function"&&We(()=>{Pe(i)})}))},()=>{G.focused.value===!0&&_===ft&&(clearTimeout(_),G.innerLoading.value=!1,u.value=!1),o.value===!0&&(o.value=!1)})}function ee(Y){Up(Y),yt()}function ne(){B()}function ye(Y){kt(Y),C.value!==null&&C.value.focus(),c.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function ue(Y){kt(Y),We(()=>{c.value=!1})}function Ie(Y){Up(Y),L.value!==null&&L.value.__updateRefocusTarget(G.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),G.focused.value=!1}function Fe(Y){ln(),G.focused.value===!1&&n("blur",Y),hi()}function at(){const Y=document.activeElement;Y!==null&&Y.id===G.targetUid.value||C.value===null||C.value===Y||C.value.focus(),B()}function yt(){a.value!==!0&&(s.value=-1,o.value===!0&&(o.value=!1),G.focused.value===!1&&(_!==null&&(clearTimeout(_),_=null),G.innerLoading.value===!0&&(n("filterAbort"),G.innerLoading.value=!1,u.value=!1)))}function st(Y){G.editable.value===!0&&(h===!0?(G.onControlFocusin(Y),a.value=!0,We(()=>{G.focus()})):G.focus(),t.onFilter!==void 0?U(l.value):K.value===!0&&e["no-option"]===void 0||(o.value=!0))}function ln(){a.value=!1,yt()}function hi(){t.useInput===!0&&N(t.multiple!==!0&&t.fillInput===!0&&J.value.length!==0&&me.value(J.value[0])||"",!0,!0)}function Mu(Y){let Oe=-1;if(Y===!0){if(J.value.length!==0){const Pe=ie.value(J.value[0]);Oe=t.options.findIndex(ft=>Gn(ie.value(ft),Pe))}E(Oe)}Re(Oe)}function Yp(){a.value===!1&&T.value!==null&&T.value.updatePosition()}function Xp(Y){Y!==void 0&&kt(Y),n("popupShow",Y),G.hasPopupOpen=!0,G.onControlFocusin(Y)}function Up(Y){Y!==void 0&&kt(Y),n("popupHide",Y),G.hasPopupOpen=!1,G.onControlFocusout(Y)}function Kp(){h=(r.platform.is.mobile===!0||t.behavior==="dialog")&&t.behavior!=="menu"&&(t.useInput!==!0||e["no-option"]!==void 0||t.onFilter!==void 0||K.value===!1),v=r.platform.is.ios===!0&&h===!0&&t.useInput===!0?"fade":t.transitionShow}return re(J,Y=>{d=Y,t.useInput===!0&&t.fillInput===!0&&t.multiple!==!0&&G.innerLoading.value!==!0&&(a.value!==!0&&o.value!==!0||H.value!==!0)&&(p!==!0&&hi(),a.value!==!0&&o.value!==!0||U(""))},{immediate:!0}),re(()=>t.fillInput,hi),re(o,Mu),re(P,function(Y,Oe){o.value===!0&&G.innerLoading.value===!1&&(E(-1,!0),We(()=>{o.value===!0&&G.innerLoading.value===!1&&(Y>Oe?E():Mu(!0))}))}),ds(Kp),tb(Yp),Kp(),He(()=>{x!==null&&clearTimeout(x),g!==null&&clearTimeout(g)}),Object.assign(i,{showPopup:st,hidePopup:ln,removeAtIndex:Be,add:de,toggleOption:_e,getOptionIndex:()=>s.value,setOptionIndex:Re,moveOptionSelection:Ge,filter:U,updateMenuPosition:Yp,updateInputValue:N,isOptionSelected:mt,getEmittingOptionValue:De,isOptionDisabled:(...Y)=>X.value.apply(null,Y)===!0,getOptionValue:(...Y)=>ie.value.apply(null,Y),getOptionLabel:(...Y)=>me.value.apply(null,Y)}),Object.assign(G,{innerValue:J,fieldClass:y(()=>`q-select q-field--auto-height q-select--with${t.useInput!==!0?"out":""}-input q-select--with${t.useChips!==!0?"out":""}-chips q-select--${t.multiple===!0?"multiple":"single"}`),inputRef:S,targetRef:C,hasValue:H,showPopup:st,floatingLabel:y(()=>t.hideSelected!==!0&&H.value===!0||typeof l.value=="number"||l.value.length!==0||Ur(t.displayValue)),getControlChild:()=>{if(G.editable.value!==!1&&(a.value===!0||K.value!==!0||e["no-option"]!==void 0))return h===!0?function(){const Y=[m(GS,{class:`col-auto ${G.fieldClass.value}`,...oe.value,for:G.targetUid.value,dark:te.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:l.value.length!==0,...G.splitAttrs.listeners.value,onFocus:ye,onBlur:ue},{...e,rawControl:()=>G.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&Y.push(m("div",{ref:z,class:D.value+" scroll",style:t.popupContentStyle,...ke.value,onClick:Ht,onScrollPassive:j},ge())),m(Su,{ref:L,modelValue:a.value,position:t.useInput===!0?"top":void 0,transitionShow:v,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,noRouteDismiss:t.popupNoRouteDismiss,onBeforeShow:Xp,onBeforeHide:Ie,onHide:Fe,onShow:at},()=>m("div",{class:"q-select__dialog"+(te.value===!0?" q-select__dialog--dark q-dark":"")+(c.value===!0?" q-select__dialog--focused":"")},Y))}():m(xs,{ref:T,class:D.value,style:t.popupContentStyle,modelValue:o.value,fit:t.menuShrink!==!0,cover:t.optionsCover===!0&&K.value!==!0&&t.useInput!==!0,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,dark:te.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:t.popupNoRouteDismiss,square:Te.value,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,separateClosePopup:!0,...ke.value,onScrollPassive:j,onBeforeShow:Xp,onBeforeHide:ee,onShow:ne},ge);G.hasPopupOpen===!0&&(G.hasPopupOpen=!1)},controlEvents:{onFocusin(Y){G.onControlFocusin(Y)},onFocusout(Y){G.onControlFocusout(Y,()=>{hi(),yt()})},onClick(Y){if(Ht(Y),h!==!0&&o.value===!0)return yt(),void(C.value!==null&&C.value.focus());st(Y)}},getControl:Y=>{const Oe=t.hideSelected===!0?[]:e["selected-item"]!==void 0?Ce.value.map(Ye=>e["selected-item"](Ye)).slice():e.selected!==void 0?[].concat(e.selected()):t.useChips===!0?Ce.value.map((Ye,Xe)=>m(Wy,{key:"option-"+Xe,removable:G.editable.value===!0&&X.value(Ye.opt)!==!0,dense:!0,textColor:t.color,tabindex:pe.value,onRemove(){Ye.removeAtIndex(Xe)}},()=>m("span",{class:"ellipsis",[Ye.html===!0?"innerHTML":"textContent"]:me.value(Ye.opt)}))):[m("span",{[le.value===!0?"innerHTML":"textContent"]:se.value})],Pe=Y===!0||a.value!==!0||h!==!0;if(t.useInput===!0)Oe.push(function(Ye,Xe){const Ft=Xe===!0?{...ce.value,...G.splitAttrs.attributes.value}:void 0,gt={ref:Xe===!0?C:void 0,key:"i_t",class:A.value,style:t.inputStyle,value:l.value!==void 0?l.value:"",type:"search",...Ft,id:Xe===!0?G.targetUid.value:void 0,maxlength:t.maxlength,autocomplete:t.autocomplete,"data-autofocus":Ye===!0||t.autofocus===!0||void 0,disabled:t.disable===!0,readonly:t.readonly===!0,...Le.value};return Ye!==!0&&h===!0&&(Array.isArray(gt.class)===!0?gt.class=[...gt.class,"no-pointer-events"]:gt.class+=" no-pointer-events"),m("input",gt)}(Y,Pe));else if(G.editable.value===!0){const Ye=Pe===!0?ce.value:void 0;Oe.push(m("input",{ref:Pe===!0?C:void 0,key:"d_t",class:"q-select__focus-target",id:Pe===!0?G.targetUid.value:void 0,value:se.value,readonly:!0,"data-autofocus":Y===!0||t.autofocus===!0||void 0,...Ye,onKeydown:Ee,onKeyup:tt,onKeypress:Z})),Pe===!0&&typeof t.autocomplete=="string"&&t.autocomplete.length!==0&&Oe.push(m("input",{class:"q-select__autocomplete-input",autocomplete:t.autocomplete,tabindex:-1,onKeyup:Tt}))}if(I.value!==void 0&&t.disable!==!0&&ve.value.length!==0){const Ye=ve.value.map(Xe=>m("option",{value:Xe,selected:!0}));Oe.push(m("select",{class:"hidden",name:I.value,multiple:t.multiple},Ye))}const ft=t.useInput===!0||Pe!==!0?void 0:G.splitAttrs.attributes.value;return m("div",{class:"q-field__native row items-center",...ft,...G.splitAttrs.listeners.value},Oe)},getInnerAppend:()=>t.loading!==!0&&u.value!==!0&&t.hideDropdownIcon!==!0?[m(et,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:Se.value})]:null}),Eu(G)}}),yC=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],_C=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];ae({name:"QSkeleton",props:{...Ue,tag:{type:String,default:"div"},type:{type:String,validator:t=>yC.includes(t),default:"rect"},animation:{type:String,validator:t=>_C.includes(t),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(t,{slots:e}){const n=we(),i=Ke(t,n.proxy.$q),r=y(()=>{const a=t.size!==void 0?[t.size,t.size]:[t.width,t.height];return{"--q-skeleton-speed":`${t.animationSpeed}ms`,width:a[0],height:a[1]}}),o=y(()=>`q-skeleton q-skeleton--${i.value===!0?"dark":"light"} q-skeleton--type-${t.type}`+(t.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${t.animation}`:"")+(t.square===!0?" q-skeleton--square":"")+(t.bordered===!0?" q-skeleton--bordered":""));return()=>m(t.tag,{class:o.value,style:r.value},Me(e.default))}});var Ov=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];ae({name:"QSlideItem",props:{...Ue,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(t,{slots:e,emit:n}){const{proxy:i}=we(),{$q:r}=i,o=Ke(t,r),{getCache:a}=Ss(),s=$(null);let l=null,c={},u={},d={};const h=y(()=>r.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),p=y(()=>"q-slide-item q-item-type overflow-hidden"+(o.value===!0?" q-slide-item--dark q-dark":""));function f(){s.value.style.transform="translate(0,0)"}function v(b,x,g){t.onSlide!==void 0&&n("slide",{side:b,ratio:x,isReset:g})}function w(b){const x=s.value;if(b.isFirst)c={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},x.classList.add("no-transition"),Ov.forEach(C=>{if(e[C[0]]!==void 0){const T=d[C[0]];T.style.transform="scale(1)",c.size[C[0]]=T.getBoundingClientRect()[C[3]]}}),c.axis=b.direction==="up"||b.direction==="down"?"Y":"X";else{if(b.isFinal)return x.classList.remove("no-transition"),void(c.scale===1?(x.style.transform=`translate${c.axis}(${100*c.dir}%)`,l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,n(c.showing,{reset:f}),n("action",{side:c.showing,reset:f})},230)):(x.style.transform="translate(0,0)",v(c.showing,0,!0)));b.direction=c.axis==="X"?b.offset.x<0?"left":"right":b.offset.y<0?"up":"down"}if(e.left===void 0&&b.direction===h.value.right||e.right===void 0&&b.direction===h.value.left||e.top===void 0&&b.direction==="down"||e.bottom===void 0&&b.direction==="up")return void(x.style.transform="translate(0,0)");let g,_,S;c.axis==="X"?(_=b.direction==="left"?-1:1,g=_===1?h.value.left:h.value.right,S=b.distance.x):(_=b.direction==="up"?-2:2,g=_===2?"top":"bottom",S=b.distance.y),c.dir!==null&&Math.abs(_)!==Math.abs(c.dir)||(c.dir!==_&&(["left","right","top","bottom"].forEach(C=>{u[C]&&(u[C].style.visibility=g===C?"visible":"hidden")}),c.showing=g,c.dir=_),c.scale=Math.max(0,Math.min(1,(S-40)/c.size[g])),x.style.transform=`translate${c.axis}(${S*_/Math.abs(_)}px)`,d[g].style.transform=`scale(${c.scale})`,v(g,c.scale,!1))}return ds(()=>{u={},d={}}),He(()=>{l!==null&&clearTimeout(l)}),Object.assign(i,{reset:f}),()=>{const b=[],x={left:e[h.value.right]!==void 0,right:e[h.value.left]!==void 0,up:e.bottom!==void 0,down:e.top!==void 0},g=Object.keys(x).filter(S=>x[S]===!0);Ov.forEach(S=>{const C=S[0];e[C]!==void 0&&b.push(m("div",{key:C,ref:T=>{u[C]=T},class:`q-slide-item__${C} absolute-full row no-wrap items-${S[1]} justify-${S[2]}`+(t[C+"Color"]!==void 0?` bg-${t[C+"Color"]}`:"")},[m("div",{ref:T=>{d[C]=T}},e[C]())]))});const _=m("div",{key:(g.length===0?"only-":"")+" content",ref:s,class:"q-slide-item__content"},Me(e.default));return g.length===0?b.push(_):b.push(xn(_,a("dir#"+g.join(""),()=>{const S={prevent:!0,stop:!0,mouse:!0};return g.forEach(C=>{S[C]=!0}),[[In,w,void 0,S]]}))),m("div",{class:p.value},b)}}}),ae({name:"QSpace",setup(){const t=m("div",{class:"q-space"});return()=>t}}),ae({name:"QSpinnerAudio",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,fill:"currentColor",width:e.value,height:e.value,viewBox:"0 0 55 80",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<g transform="matrix(1 0 0 -1 0 80)"><rect width="10" height="20" rx="3"><animate attributeName="height" begin="0s" dur="4.3s" values="20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20" calcMode="linear" repeatCount="indefinite"></animate></rect><rect x="15" width="10" height="80" rx="3"><animate attributeName="height" begin="0s" dur="2s" values="80;55;33;5;75;23;73;33;12;14;60;80" calcMode="linear" repeatCount="indefinite"></animate></rect><rect x="30" width="10" height="50" rx="3"><animate attributeName="height" begin="0s" dur="1.4s" values="50;34;78;23;56;23;34;76;80;54;21;50" calcMode="linear" repeatCount="indefinite"></animate></rect><rect x="45" width="10" height="30" rx="3"><animate attributeName="height" begin="0s" dur="2s" values="30;45;13;80;56;72;45;76;34;23;67;30" calcMode="linear" repeatCount="indefinite"></animate></rect></g>'})}}),ae({name:"QSpinnerBall",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,stroke:"currentColor",width:e.value,height:e.value,viewBox:"0 0 57 57",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<g transform="translate(1 1)" stroke-width="2" fill="none" fill-rule="evenodd"><circle cx="5" cy="50" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" values="50;5;50;50" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="cx" begin="0s" dur="2.2s" values="5;27;49;5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="27" cy="5" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" from="5" to="5" values="5;50;50;5" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="cx" begin="0s" dur="2.2s" from="27" to="27" values="27;49;5;27" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="49" cy="50" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" values="50;50;5;50" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="cx" from="49" to="49" begin="0s" dur="2.2s" values="49;5;27;49" calcMode="linear" repeatCount="indefinite"></animate></circle></g>'})}}),ae({name:"QSpinnerBars",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,fill:"currentColor",width:e.value,height:e.value,viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<rect y="10" width="15" height="120" rx="6"><animate attributeName="height" begin="0.5s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="y" begin="0.5s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"></animate></rect><rect x="30" y="10" width="15" height="120" rx="6"><animate attributeName="height" begin="0.25s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="y" begin="0.25s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"></animate></rect><rect x="60" width="15" height="140" rx="6"><animate attributeName="height" begin="0s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="y" begin="0s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"></animate></rect><rect x="90" y="10" width="15" height="120" rx="6"><animate attributeName="height" begin="0.25s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="y" begin="0.25s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"></animate></rect><rect x="120" y="10" width="15" height="120" rx="6"><animate attributeName="height" begin="0.5s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="y" begin="0.5s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"></animate></rect>'})}}),ae({name:"QSpinnerBox",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,width:e.value,height:e.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<rect x="25" y="25" width="50" height="50" fill="none" stroke-width="4" stroke="currentColor"><animateTransform id="spinnerBox" attributeName="transform" type="rotate" from="0 50 50" to="180 50 50" dur="0.5s" begin="rectBox.end"></animateTransform></rect><rect x="27" y="27" width="46" height="50" fill="currentColor"><animate id="rectBox" attributeName="height" begin="0s;spinnerBox.end" dur="1.3s" from="50" to="0" fill="freeze"></animate></rect>'})}}),ae({name:"QSpinnerClock",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,width:e.value,height:e.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<circle cx="50" cy="50" r="48" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="currentColor"></circle><line stroke-linecap="round" stroke-width="4" stroke-miterlimit="10" stroke="currentColor" x1="50" y1="50" x2="85" y2="50.5"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="360 50 50" dur="2s" repeatCount="indefinite"></animateTransform></line><line stroke-linecap="round" stroke-width="4" stroke-miterlimit="10" stroke="currentColor" x1="50" y1="50" x2="49.5" y2="74"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="360 50 50" dur="15s" repeatCount="indefinite"></animateTransform></line>'})}}),ae({name:"QSpinnerComment",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,width:e.value,height:e.value,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",innerHTML:'<rect x="0" y="0" width="100" height="100" fill="none"></rect><path d="M78,19H22c-6.6,0-12,5.4-12,12v31c0,6.6,5.4,12,12,12h37.2c0.4,3,1.8,5.6,3.7,7.6c2.4,2.5,5.1,4.1,9.1,4 c-1.4-2.1-2-7.2-2-10.3c0-0.4,0-0.8,0-1.3h8c6.6,0,12-5.4,12-12V31C90,24.4,84.6,19,78,19z" fill="currentColor"></path><circle cx="30" cy="47" r="5" fill="#fff"><animate attributeName="opacity" from="0" to="1" values="0;1;1" keyTimes="0;0.2;1" dur="1s" repeatCount="indefinite"></animate></circle><circle cx="50" cy="47" r="5" fill="#fff"><animate attributeName="opacity" from="0" to="1" values="0;0;1;1" keyTimes="0;0.2;0.4;1" dur="1s" repeatCount="indefinite"></animate></circle><circle cx="70" cy="47" r="5" fill="#fff"><animate attributeName="opacity" from="0" to="1" values="0;0;1;1" keyTimes="0;0.4;0.6;1" dur="1s" repeatCount="indefinite"></animate></circle>'})}}),ae({name:"QSpinnerCube",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,width:e.value,height:e.value,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",innerHTML:'<rect x="0" y="0" width="100" height="100" fill="none"></rect><g transform="translate(25 25)"><rect x="-20" y="-20" width="40" height="40" fill="currentColor" opacity="0.9"><animateTransform attributeName="transform" type="scale" from="1.5" to="1" repeatCount="indefinite" begin="0s" dur="1s" calcMode="spline" keySplines="0.2 0.8 0.2 0.8" keyTimes="0;1"></animateTransform></rect></g><g transform="translate(75 25)"><rect x="-20" y="-20" width="40" height="40" fill="currentColor" opacity="0.8"><animateTransform attributeName="transform" type="scale" from="1.5" to="1" repeatCount="indefinite" begin="0.1s" dur="1s" calcMode="spline" keySplines="0.2 0.8 0.2 0.8" keyTimes="0;1"></animateTransform></rect></g><g transform="translate(25 75)"><rect x="-20" y="-20" width="40" height="40" fill="currentColor" opacity="0.7"><animateTransform attributeName="transform" type="scale" from="1.5" to="1" repeatCount="indefinite" begin="0.3s" dur="1s" calcMode="spline" keySplines="0.2 0.8 0.2 0.8" keyTimes="0;1"></animateTransform></rect></g><g transform="translate(75 75)"><rect x="-20" y="-20" width="40" height="40" fill="currentColor" opacity="0.6"><animateTransform attributeName="transform" type="scale" from="1.5" to="1" repeatCount="indefinite" begin="0.2s" dur="1s" calcMode="spline" keySplines="0.2 0.8 0.2 0.8" keyTimes="0;1"></animateTransform></rect></g>'})}}),ae({name:"QSpinnerDots",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,fill:"currentColor",width:e.value,height:e.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>'})}}),ae({name:"QSpinnerFacebook",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,width:e.value,height:e.value,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",innerHTML:'<g transform="translate(20 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.6"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g><g transform="translate(50 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.8"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0.1s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g><g transform="translate(80 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.9"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0.2s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g>'})}}),ae({name:"QSpinnerGears",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,width:e.value,height:e.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<g transform="translate(-20,-20)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="90 50 50" to="0 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g><g transform="translate(20,20) rotate(15 50 50)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="90 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g>'})}}),ae({name:"QSpinnerGrid",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,fill:"currentColor",width:e.value,height:e.value,viewBox:"0 0 105 105",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<circle cx="12.5" cy="12.5" r="12.5"><animate attributeName="fill-opacity" begin="0s" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="12.5" cy="52.5" r="12.5" fill-opacity=".5"><animate attributeName="fill-opacity" begin="100ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="52.5" cy="12.5" r="12.5"><animate attributeName="fill-opacity" begin="300ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="52.5" cy="52.5" r="12.5"><animate attributeName="fill-opacity" begin="600ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="92.5" cy="12.5" r="12.5"><animate attributeName="fill-opacity" begin="800ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="92.5" cy="52.5" r="12.5"><animate attributeName="fill-opacity" begin="400ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="12.5" cy="92.5" r="12.5"><animate attributeName="fill-opacity" begin="700ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="52.5" cy="92.5" r="12.5"><animate attributeName="fill-opacity" begin="500ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="92.5" cy="92.5" r="12.5"><animate attributeName="fill-opacity" begin="200ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle>'})}}),ae({name:"QSpinnerHearts",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,fill:"currentColor",width:e.value,height:e.value,viewBox:"0 0 140 64",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<path d="M30.262 57.02L7.195 40.723c-5.84-3.976-7.56-12.06-3.842-18.063 3.715-6 11.467-7.65 17.306-3.68l4.52 3.76 2.6-5.274c3.716-6.002 11.47-7.65 17.304-3.68 5.84 3.97 7.56 12.054 3.842 18.062L34.49 56.118c-.897 1.512-2.793 1.915-4.228.9z" fill-opacity=".5"><animate attributeName="fill-opacity" begin="0s" dur="1.4s" values="0.5;1;0.5" calcMode="linear" repeatCount="indefinite"></animate></path><path d="M105.512 56.12l-14.44-24.272c-3.716-6.008-1.996-14.093 3.843-18.062 5.835-3.97 13.588-2.322 17.306 3.68l2.6 5.274 4.52-3.76c5.84-3.97 13.593-2.32 17.308 3.68 3.718 6.003 1.998 14.088-3.842 18.064L109.74 57.02c-1.434 1.014-3.33.61-4.228-.9z" fill-opacity=".5"><animate attributeName="fill-opacity" begin="0.7s" dur="1.4s" values="0.5;1;0.5" calcMode="linear" repeatCount="indefinite"></animate></path><path d="M67.408 57.834l-23.01-24.98c-5.864-6.15-5.864-16.108 0-22.248 5.86-6.14 15.37-6.14 21.234 0L70 16.168l4.368-5.562c5.863-6.14 15.375-6.14 21.235 0 5.863 6.14 5.863 16.098 0 22.247l-23.007 24.98c-1.43 1.556-3.757 1.556-5.188 0z"></path>'})}}),ae({name:"QSpinnerHourglass",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,width:e.value,height:e.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<g><path fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10" d="M58.4,51.7c-0.9-0.9-1.4-2-1.4-2.3s0.5-0.4,1.4-1.4 C70.8,43.8,79.8,30.5,80,15.5H70H30H20c0.2,15,9.2,28.1,21.6,32.3c0.9,0.9,1.4,1.2,1.4,1.5s-0.5,1.6-1.4,2.5 C29.2,56.1,20.2,69.5,20,85.5h10h40h10C79.8,69.5,70.8,55.9,58.4,51.7z"></path><clipPath id="uil-hourglass-clip1"><rect x="15" y="20" width="70" height="25"><animate attributeName="height" from="25" to="0" dur="1s" repeatCount="indefinite" values="25;0;0" keyTimes="0;0.5;1"></animate><animate attributeName="y" from="20" to="45" dur="1s" repeatCount="indefinite" values="20;45;45" keyTimes="0;0.5;1"></animate></rect></clipPath><clipPath id="uil-hourglass-clip2"><rect x="15" y="55" width="70" height="25"><animate attributeName="height" from="0" to="25" dur="1s" repeatCount="indefinite" values="0;25;25" keyTimes="0;0.5;1"></animate><animate attributeName="y" from="80" to="55" dur="1s" repeatCount="indefinite" values="80;55;55" keyTimes="0;0.5;1"></animate></rect></clipPath><path d="M29,23c3.1,11.4,11.3,19.5,21,19.5S67.9,34.4,71,23H29z" clip-path="url(#uil-hourglass-clip1)" fill="currentColor"></path><path d="M71.6,78c-3-11.6-11.5-20-21.5-20s-18.5,8.4-21.5,20H71.6z" clip-path="url(#uil-hourglass-clip2)" fill="currentColor"></path><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="180 50 50" repeatCount="indefinite" dur="1s" values="0 50 50;0 50 50;180 50 50" keyTimes="0;0.7;1"></animateTransform></g>'})}}),ae({name:"QSpinnerInfinity",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,width:e.value,height:e.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",innerHTML:'<path d="M24.3,30C11.4,30,5,43.3,5,50s6.4,20,19.3,20c19.3,0,32.1-40,51.4-40C88.6,30,95,43.3,95,50s-6.4,20-19.3,20C56.4,70,43.6,30,24.3,30z" fill="none" stroke="currentColor" stroke-width="8" stroke-dasharray="10.691205342610678 10.691205342610678" stroke-dashoffset="0"><animate attributeName="stroke-dashoffset" from="0" to="21.382410685221355" begin="0" dur="2s" repeatCount="indefinite" fill="freeze"></animate></path>'})}}),ae({name:"QSpinnerIos",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,width:e.value,height:e.value,stroke:"currentColor",fill:"currentColor",viewBox:"0 0 64 64",innerHTML:'<g stroke-width="4" stroke-linecap="round"><line y1="17" y2="29" transform="translate(32,32) rotate(180)"><animate attributeName="stroke-opacity" dur="750ms" values="1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(210)"><animate attributeName="stroke-opacity" dur="750ms" values="0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(240)"><animate attributeName="stroke-opacity" dur="750ms" values=".1;0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(270)"><animate attributeName="stroke-opacity" dur="750ms" values=".15;.1;0;1;.85;.7;.65;.55;.45;.35;.25;.15" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(300)"><animate attributeName="stroke-opacity" dur="750ms" values=".25;.15;.1;0;1;.85;.7;.65;.55;.45;.35;.25" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(330)"><animate attributeName="stroke-opacity" dur="750ms" values=".35;.25;.15;.1;0;1;.85;.7;.65;.55;.45;.35" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(0)"><animate attributeName="stroke-opacity" dur="750ms" values=".45;.35;.25;.15;.1;0;1;.85;.7;.65;.55;.45" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(30)"><animate attributeName="stroke-opacity" dur="750ms" values=".55;.45;.35;.25;.15;.1;0;1;.85;.7;.65;.55" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(60)"><animate attributeName="stroke-opacity" dur="750ms" values=".65;.55;.45;.35;.25;.15;.1;0;1;.85;.7;.65" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(90)"><animate attributeName="stroke-opacity" dur="750ms" values=".7;.65;.55;.45;.35;.25;.15;.1;0;1;.85;.7" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(120)"><animate attributeName="stroke-opacity" dur="750ms" values=".85;.7;.65;.55;.45;.35;.25;.15;.1;0;1;.85" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(150)"><animate attributeName="stroke-opacity" dur="750ms" values="1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1" repeatCount="indefinite"></animate></line></g>'})}}),ae({name:"QSpinnerOrbit",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,width:e.value,height:e.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<circle cx="50" cy="50" r="44" fill="none" stroke-width="4" stroke-opacity=".5" stroke="currentColor"></circle><circle cx="8" cy="54" r="6" fill="currentColor" stroke-width="3" stroke="currentColor"><animateTransform attributeName="transform" type="rotate" from="0 50 48" to="360 50 52" dur="2s" repeatCount="indefinite"></animateTransform></circle>'})}}),ae({name:"QSpinnerOval",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,stroke:"currentColor",width:e.value,height:e.value,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<g transform="translate(1 1)" stroke-width="2" fill="none" fill-rule="evenodd"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g>'})}}),ae({name:"QSpinnerPie",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,width:e.value,height:e.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<path d="M0 50A50 50 0 0 1 50 0L50 50L0 50" fill="currentColor" opacity="0.5"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="360 50 50" dur="0.8s" repeatCount="indefinite"></animateTransform></path><path d="M50 0A50 50 0 0 1 100 50L50 50L50 0" fill="currentColor" opacity="0.5"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="360 50 50" dur="1.6s" repeatCount="indefinite"></animateTransform></path><path d="M100 50A50 50 0 0 1 50 100L50 50L100 50" fill="currentColor" opacity="0.5"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="360 50 50" dur="2.4s" repeatCount="indefinite"></animateTransform></path><path d="M50 100A50 50 0 0 1 0 50L50 50L50 100" fill="currentColor" opacity="0.5"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="360 50 50" dur="3.2s" repeatCount="indefinite"></animateTransform></path>'})}}),ae({name:"QSpinnerPuff",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,stroke:"currentColor",width:e.value,height:e.value,viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"></animate><animate attributeName="stroke-opacity" begin="0s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"></animate></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"></animate><animate attributeName="stroke-opacity" begin="-0.9s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"></animate></circle></g>'})}}),ae({name:"QSpinnerRadio",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,width:e.value,height:e.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<g transform="scale(0.55)"><circle cx="30" cy="150" r="30" fill="currentColor"><animate attributeName="opacity" from="0" to="1" dur="1s" begin="0" repeatCount="indefinite" keyTimes="0;0.5;1" values="0;1;1"></animate></circle><path d="M90,150h30c0-49.7-40.3-90-90-90v30C63.1,90,90,116.9,90,150z" fill="currentColor"><animate attributeName="opacity" from="0" to="1" dur="1s" begin="0.1" repeatCount="indefinite" keyTimes="0;0.5;1" values="0;1;1"></animate></path><path d="M150,150h30C180,67.2,112.8,0,30,0v30C96.3,30,150,83.7,150,150z" fill="currentColor"><animate attributeName="opacity" from="0" to="1" dur="1s" begin="0.2" repeatCount="indefinite" keyTimes="0;0.5;1" values="0;1;1"></animate></path></g>'})}}),ae({name:"QSpinnerRings",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,stroke:"currentColor",width:e.value,height:e.value,viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<g fill="none" fill-rule="evenodd" transform="translate(1 1)" stroke-width="2"><circle cx="22" cy="22" r="6"><animate attributeName="r" begin="1.5s" dur="3s" values="6;22" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="stroke-opacity" begin="1.5s" dur="3s" values="1;0" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="stroke-width" begin="1.5s" dur="3s" values="2;0" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="22" cy="22" r="6"><animate attributeName="r" begin="3s" dur="3s" values="6;22" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="stroke-opacity" begin="3s" dur="3s" values="1;0" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="stroke-width" begin="3s" dur="3s" values="2;0" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="22" cy="22" r="8"><animate attributeName="r" begin="0s" dur="1.5s" values="6;1;2;3;4;5;6" calcMode="linear" repeatCount="indefinite"></animate></circle></g>'})}}),ae({name:"QSpinnerTail",props:Et,setup(t){const{cSize:e,classes:n}=Mt(t);return()=>m("svg",{class:n.value,width:e.value,height:e.value,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",innerHTML:'<defs><linearGradient x1="8.042%" y1="0%" x2="65.682%" y2="23.865%" id="a"><stop stop-color="currentColor" stop-opacity="0" offset="0%"></stop><stop stop-color="currentColor" stop-opacity=".631" offset="63.146%"></stop><stop stop-color="currentColor" offset="100%"></stop></linearGradient></defs><g transform="translate(1 1)" fill="none" fill-rule="evenodd"><path d="M36 18c0-9.94-8.06-18-18-18" stroke="url(#a)" stroke-width="2"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.9s" repeatCount="indefinite"></animateTransform></path><circle fill="currentColor" cx="36" cy="18" r="1"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.9s" repeatCount="indefinite"></animateTransform></circle></g>'})}}),ae({name:"QSplitter",props:{...Ue,modelValue:{type:Number,required:!0},reverse:Boolean,unit:{type:String,default:"%",validator:t=>["%","px"].includes(t)},limits:{type:Array,validator:t=>t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"&&t[0]>=0&&t[0]<=t[1]},emitImmediately:Boolean,horizontal:Boolean,disable:Boolean,beforeClass:[Array,String,Object],afterClass:[Array,String,Object],separatorClass:[Array,String,Object],separatorStyle:[Array,String,Object]},emits:["update:modelValue"],setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=we(),r=Ke(t,i),o=$(null),a={before:$(null),after:$(null)},s=y(()=>`q-splitter no-wrap ${t.horizontal===!0?"q-splitter--horizontal column":"q-splitter--vertical row"} q-splitter--${t.disable===!0?"disabled":"workable"}`+(r.value===!0?" q-splitter--dark":"")),l=y(()=>t.horizontal===!0?"height":"width"),c=y(()=>t.reverse!==!0?"before":"after"),u=y(()=>t.limits!==void 0?t.limits:t.unit==="%"?[10,90]:[50,1/0]);function d(S){return(t.unit==="%"?S:Math.round(S))+t.unit}const h=y(()=>({[c.value]:{[l.value]:d(t.modelValue)}}));let p,f,v,w,b;function x(S){if(S.isFirst===!0){const T=o.value.getBoundingClientRect()[l.value];return p=t.horizontal===!0?"up":"left",f=t.unit==="%"?100:T,v=Math.min(f,u.value[1],Math.max(u.value[0],t.modelValue)),w=(t.reverse!==!0?1:-1)*(t.horizontal===!0?1:i.lang.rtl===!0?-1:1)*(t.unit==="%"?T===0?0:100/T:1),void o.value.classList.add("q-splitter--active")}if(S.isFinal===!0)return b!==t.modelValue&&n("update:modelValue",b),void o.value.classList.remove("q-splitter--active");const C=v+w*(S.direction===p?-1:1)*S.distance[t.horizontal===!0?"y":"x"];b=Math.min(f,u.value[1],Math.max(u.value[0],C)),a[c.value].value.style[l.value]=d(b),t.emitImmediately===!0&&t.modelValue!==b&&n("update:modelValue",b)}const g=y(()=>[[In,x,void 0,{[t.horizontal===!0?"vertical":"horizontal"]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function _(S,C){S<C[0]?n("update:modelValue",C[0]):S>C[1]&&n("update:modelValue",C[1])}return re(()=>t.modelValue,S=>{_(S,u.value)}),re(()=>t.limits,()=>{We(()=>{_(t.modelValue,u.value)})}),()=>{const S=[m("div",{ref:a.before,class:["q-splitter__panel q-splitter__before"+(t.reverse===!0?" col":""),t.beforeClass],style:h.value.before},Me(e.before)),m("div",{class:["q-splitter__separator",t.separatorClass],style:t.separatorStyle,"aria-disabled":t.disable===!0?"true":void 0},[An("div",{class:"q-splitter__separator-area absolute-full"},Me(e.separator),"sep",t.disable!==!0,()=>g.value)]),m("div",{ref:a.after,class:["q-splitter__panel q-splitter__after"+(t.reverse===!0?"":" col"),t.afterClass],style:h.value.after},Me(e.after))];return m("div",{class:s.value,ref:o},qt(e.default,S))}}});var A_=ae({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(t,{attrs:e}){const{proxy:{$q:n}}=we(),i=$(null),r=y(()=>t.stepper.modelValue===t.step.name),o=y(()=>{const w=t.step.disable;return w===!0||w===""}),a=y(()=>{const w=t.step.error;return w===!0||w===""}),s=y(()=>{const w=t.step.done;return o.value===!1&&(w===!0||w==="")}),l=y(()=>{const w=t.step.headerNav,b=w===!0||w===""||w===void 0;return o.value===!1&&t.stepper.headerNav&&b}),c=y(()=>t.step.prefix&&(r.value===!1||t.stepper.activeIcon==="none")&&(a.value===!1||t.stepper.errorIcon==="none")&&(s.value===!1||t.stepper.doneIcon==="none")),u=y(()=>{const w=t.step.icon||t.stepper.inactiveIcon;if(r.value===!0){const b=t.step.activeIcon||t.stepper.activeIcon;return b==="none"?w:b||n.iconSet.stepper.active}if(a.value===!0){const b=t.step.errorIcon||t.stepper.errorIcon;return b==="none"?w:b||n.iconSet.stepper.error}if(o.value===!1&&s.value===!0){const b=t.step.doneIcon||t.stepper.doneIcon;return b==="none"?w:b||n.iconSet.stepper.done}return w}),d=y(()=>{const w=a.value===!0?t.step.errorColor||t.stepper.errorColor:void 0;if(r.value===!0){const b=t.step.activeColor||t.stepper.activeColor||t.step.color;return b!==void 0?b:w}return w!==void 0?w:o.value===!1&&s.value===!0?t.step.doneColor||t.stepper.doneColor||t.step.color||t.stepper.inactiveColor:t.step.color||t.stepper.inactiveColor}),h=y(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(d.value!==void 0?` text-${d.value}`:"")+(a.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(c.value===!0?"prefix":"icon"):"")+(r.value===!0?" q-stepper__tab--active":"")+(s.value===!0?" q-stepper__tab--done":"")+(l.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(o.value===!0?" q-stepper__tab--disabled":"")),p=y(()=>t.stepper.headerNav===!0&&l.value);function f(){i.value!==null&&i.value.focus(),r.value===!1&&t.goToPanel(t.step.name)}function v(w){w.keyCode===13&&r.value===!1&&t.goToPanel(t.step.name)}return()=>{const w={class:h.value};l.value===!0&&(w.onClick=f,w.onKeyup=v,Object.assign(w,o.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0}));const b=[m("div",{class:"q-focus-helper",tabindex:-1,ref:i}),m("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[m("span",{class:"row flex-center"},[c.value===!0?t.step.prefix:m(et,{name:u.value})])])];if(t.step.title!==void 0&&t.step.title!==null){const x=[m("div",{class:"q-stepper__title"},t.step.title)];t.step.caption!==void 0&&t.step.caption!==null&&x.push(m("div",{class:"q-stepper__caption"},t.step.caption)),b.push(m("div",{class:"q-stepper__label q-stepper__line relative-position"},x))}return xn(m("div",w,b),[[_u,p.value]])}}});function O_(t){return m("div",{class:"q-stepper__step-content"},[m("div",{class:"q-stepper__step-inner"},Me(t.default))])}var Dv={setup:(t,{slots:e})=>()=>O_(e)};ae({name:"QStep",props:{...Fp,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=we(),r=_n(cy,ut);if(r===ut)return ut;const{getCache:o}=Ss(),a=$(null),s=y(()=>r.value.modelValue===t.name),l=y(()=>i.platform.is.ios!==!0&&i.platform.is.chrome===!0||s.value!==!0||r.value.vertical!==!0?{}:{onScroll(d){const{target:h}=d;h.scrollTop>0&&(h.scrollTop=0),t.onScroll!==void 0&&n("scroll",d)}}),c=y(()=>typeof t.name=="string"||typeof t.name=="number"?t.name:String(t.name));function u(){const d=r.value.vertical;return d===!0&&r.value.keepAlive===!0?m(dm,r.value.keepAliveProps.value,s.value===!0?[m(r.value.needsUniqueKeepAliveWrapper.value===!0?o(c.value,()=>({...Dv,name:c.value})):Dv,{key:c.value},e.default)]:void 0):d!==!0||s.value===!0?O_(e):void 0}return()=>m("div",{ref:a,class:"q-stepper__step",role:"tabpanel",...l.value},r.value.vertical===!0?[m(A_,{stepper:r.value,step:t,goToPanel:r.value.goToPanel}),r.value.animated===!0?m(jp,u):u()]:[u()])}});var bC=/(-\w)/g;ae({name:"QStepper",props:{...Ue,...Ap,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Op,setup(t,{slots:e}){const n=we(),i=Ke(t,n.proxy.$q),{updatePanelsList:r,isValidPanelName:o,updatePanelIndex:a,getPanelContent:s,getPanels:l,panelDirectives:c,goToPanel:u,keepAliveProps:d,needsUniqueKeepAliveWrapper:h}=Dp();ir(cy,y(()=>({goToPanel:u,keepAliveProps:d,needsUniqueKeepAliveWrapper:h,...t})));const p=y(()=>"q-stepper q-stepper--"+(t.vertical===!0?"vertical":"horizontal")+(t.flat===!0?" q-stepper--flat":"")+(t.bordered===!0?" q-stepper--bordered":"")+(i.value===!0?" q-stepper--dark q-dark":"")),f=y(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${t.alternativeLabels===!0?"alternative":"standard"}-labels`+(t.flat===!1||t.bordered===!0?" q-stepper__header--border":"")+(t.contracted===!0?" q-stepper__header--contracted":"")+(t.headerClass!==void 0?` ${t.headerClass}`:""));function v(){const w=Me(e.message,[]);if(t.vertical===!0){o(t.modelValue)&&a();const b=m("div",{class:"q-stepper__content"},Me(e.default));return w===void 0?[b]:w.concat(b)}return[m("div",{class:f.value},l().map(b=>{const x=function(g){const _={};for(const S in g){const C=S.replace(bC,T=>T[1].toUpperCase());_[C]=g[S]}return _}(b.props);return m(A_,{key:x.name,stepper:t,step:x,goToPanel:u})})),w,An("div",{class:"q-stepper__content q-panel-parent"},s(),"cont",t.swipeable,()=>c.value)]}return()=>(r(e),m("div",{class:p.value},qt(e.navigation,v())))}}),ae({name:"QStepperNavigation",setup:(t,{slots:e})=>()=>m("div",{class:"q-stepper__nav"},Me(e.default))});var xC=ae({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(t,{slots:e,emit:n}){const i=we(),{proxy:{$q:r}}=i,o=a=>{n("click",a)};return()=>{if(t.props===void 0)return m("th",{class:t.autoWidth===!0?"q-table--col-auto-width":"",onClick:o},Me(e.default));let a,s;const l=i.vnode.key;if(l){if(a=t.props.colsMap[l],a===void 0)return}else a=t.props.col;if(a.sortable===!0){const u=a.align==="right"?"unshift":"push";s=_s(e.default,[]),s[u](m(et,{class:a.__iconClass,name:r.iconSet.table.arrowUp}))}else s=Me(e.default);const c={class:a.__thClass+(t.autoWidth===!0?" q-table--col-auto-width":""),style:a.headerStyle,onClick:u=>{a.sortable===!0&&t.props.sort(a),o(u)}};return m("th",c,s)}}});function D_(t,e){return m("div",t,[m("table",{class:"q-table"},e)])}var wC={list:L_,table:rC},SC=["list","table","__qtable"],CC=ae({name:"QVirtualScroll",props:{...Lh,type:{type:String,default:"list",validator:t=>SC.includes(t)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:eo},setup(t,{slots:e,attrs:n}){let i;const r=$(null),o=y(()=>t.itemsSize>=0&&t.itemsFn!==void 0?parseInt(t.itemsSize,10):Array.isArray(t.items)?t.items.length:0),{virtualScrollSliceRange:a,localResetVirtualScroll:s,padVirtualScroll:l,onVirtualScrollEvt:c}=F_({virtualScrollLength:o,getVirtualScrollTarget:function(){return i},getVirtualScrollEl:p}),u=y(()=>{if(o.value===0)return[];const b=(x,g)=>({index:a.value.from+g,item:x});return t.itemsFn===void 0?t.items.slice(a.value.from,a.value.to).map(b):t.itemsFn(a.value.from,a.value.to-a.value.from).map(b)}),d=y(()=>"q-virtual-scroll q-virtual-scroll"+(t.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(t.scrollTarget!==void 0?"":" scroll")),h=y(()=>t.scrollTarget!==void 0?{}:{tabindex:0});function p(){return r.value.$el||r.value}function f(){i=ci(p(),t.scrollTarget),i.addEventListener("scroll",c,_t.passive)}function v(){i!==void 0&&(i.removeEventListener("scroll",c,_t.passive),i=void 0)}function w(){let b=l(t.type==="list"?"div":"tbody",u.value.map(e.default));return e.before!==void 0&&(b=e.before().concat(b)),qt(e.after,b)}return re(o,()=>{s()}),re(()=>t.scrollTarget,()=>{v(),f()}),Ph(()=>{s()}),xt(()=>{f()}),Kr(()=>{f()}),Pi(()=>{v()}),He(()=>{v()}),()=>{if(e.default!==void 0)return t.type==="__qtable"?D_({ref:r,class:"q-table__middle "+d.value},w()):m(wC[t.type],{...n,ref:r,class:[n.class,d.value],...h.value},w)}}}),kC={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:t=>t==="ad"||t==="da",default:"ad"}};function TC(t,e,n,i){const r=y(()=>{const{sortBy:a}=e.value;return a&&n.value.find(s=>s.name===a)||null}),o=y(()=>t.sortMethod!==void 0?t.sortMethod:(a,s,l)=>{const c=n.value.find(h=>h.name===s);if(c===void 0||c.field===void 0)return a;const u=l===!0?-1:1,d=typeof c.field=="function"?h=>c.field(h):h=>h[c.field];return a.sort((h,p)=>{let f=d(h),v=d(p);return c.rawSort!==void 0?c.rawSort(f,v,h,p)*u:f==null?-1*u:v==null?1*u:c.sort!==void 0?c.sort(f,v,h,p)*u:ss(f)===!0&&ss(v)===!0?(f-v)*u:fh(f)===!0&&fh(v)===!0?function(w,b){return new Date(w)-new Date(b)}(f,v)*u:typeof f=="boolean"&&typeof v=="boolean"?(f-v)*u:([f,v]=[f,v].map(w=>(w+"").toLocaleString().toLowerCase()),f<v?-1*u:f===v?0:u)})});return{columnToSort:r,computedSortMethod:o,sort:function(a){let s=t.columnSortOrder;if(on(a)===!0)a.sortOrder&&(s=a.sortOrder),a=a.name;else{const u=n.value.find(d=>d.name===a);u!==void 0&&u.sortOrder&&(s=u.sortOrder)}let{sortBy:l,descending:c}=e.value;l!==a?(l=a,c=s==="da"):t.binaryStateSort===!0?c=!c:c===!0?s==="ad"?l=null:c=!1:s==="ad"?c=!0:l=null,i({sortBy:l,descending:c,page:1})}}}var EC={filter:[String,Object],filterMethod:Function};function zv(t){return t.page<1&&(t.page=1),t.rowsPerPage!==void 0&&t.rowsPerPage<1&&(t.rowsPerPage=0),t}var MC={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]},LC={selection:{type:String,default:"none",validator:t=>["single","multiple","none"].includes(t)},selected:{type:Array,default:()=>[]}};function Bv(t){return Array.isArray(t)?t.slice():[]}var qC={expanded:Array},IC={visibleColumns:Array},ul="q-table__bottom row items-center",Vv={};function PC(){const t=new Date;return{hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()}}Fv.forEach(t=>{Vv[t]={}}),ae({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:t=>["horizontal","vertical","cell","none"].includes(t)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...Vv,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Ue,...zp,...IC,...EC,...MC,...qC,...LC,...kC},emits:["request","virtualScroll",...Bp,"update:expanded","update:selected","selection"],setup(t,{slots:e,emit:n}){const i=we(),{proxy:{$q:r}}=i,o=Ke(t,r),{inFullscreen:a,toggleFullscreen:s}=Vp(),l=y(()=>typeof t.rowKey=="function"?t.rowKey:Z=>Z[t.rowKey]),c=$(null),u=$(null),d=y(()=>t.grid!==!0&&t.virtualScroll===!0),h=y(()=>" q-table__card"+(o.value===!0?" q-table__card--dark q-dark":"")+(t.square===!0?" q-table--square":"")+(t.flat===!0?" q-table--flat":"")+(t.bordered===!0?" q-table--bordered":"")),p=y(()=>`q-table__container q-table--${t.separator}-separator column no-wrap`+(t.grid===!0?" q-table--grid":h.value)+(o.value===!0?" q-table--dark":"")+(t.dense===!0?" q-table--dense":"")+(t.wrapCells===!1?" q-table--no-wrap":"")+(a.value===!0?" fullscreen scroll":"")),f=y(()=>p.value+(t.loading===!0?" q-table--loading":""));re(()=>t.tableStyle+t.tableClass+t.tableHeaderStyle+t.tableHeaderClass+p.value,()=>{d.value===!0&&u.value!==null&&u.value.reset()});const{innerPagination:v,computedPagination:w,isServerSide:b,requestServerInteraction:x,setPagination:g}=function(Z,Ee){const{props:be,emit:ge}=Z,xe=$(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:be.rowsPerPageOptions.length!==0?be.rowsPerPageOptions[0]:5},be.pagination)),F=y(()=>zv(be["onUpdate:pagination"]!==void 0?{...xe.value,...be.pagination}:xe.value)),N=y(()=>F.value.rowsNumber!==void 0);function U(ne){ee({pagination:ne,filter:be.filter})}function ee(ne={}){We(()=>{ge("request",{pagination:ne.pagination||F.value,filter:ne.filter||be.filter,getCellValue:Ee})})}return{innerPagination:xe,computedPagination:F,isServerSide:N,requestServerInteraction:ee,setPagination:function(ne,ye){const ue=zv({...F.value,...ne});(function(Ie,Fe){for(const at in Fe)if(Fe[at]!==Ie[at])return!1;return!0})(F.value,ue)!==!0?N.value!==!0?be.pagination!==void 0&&be["onUpdate:pagination"]!==void 0?ge("update:pagination",ue):xe.value=ue:U(ue):N.value===!0&&ye===!0&&U(ue)}}}(i,Be),{computedFilterMethod:_}=function(Z,Ee){const be=y(()=>Z.filterMethod!==void 0?Z.filterMethod:(ge,xe,F,N)=>{const U=xe?xe.toLowerCase():"";return ge.filter(ee=>F.some(ne=>{const ye=N(ne,ee)+"";return(ye==="undefined"||ye==="null"?"":ye.toLowerCase()).indexOf(U)!==-1}))});return re(()=>Z.filter,()=>{We(()=>{Ee({page:1},!0)})},{deep:!0}),{computedFilterMethod:be}}(t,g),{isRowExpanded:S,setExpanded:C,updateExpanded:T}=function(Z,Ee){const be=$(Bv(Z.expanded));function ge(xe){Z.expanded!==void 0?Ee("update:expanded",xe):be.value=xe}return re(()=>Z.expanded,xe=>{be.value=Bv(xe)}),{isRowExpanded:function(xe){return be.value.includes(xe)},setExpanded:ge,updateExpanded:function(xe,F){const N=be.value.slice(),U=N.indexOf(xe);F===!0?U===-1&&(N.push(xe),ge(N)):U!==-1&&(N.splice(U,1),ge(N))}}}(t,n),L=y(()=>{let Z=t.rows;if(b.value===!0||Z.length===0)return Z;const{sortBy:Ee,descending:be}=w.value;return t.filter&&(Z=_.value(Z,t.filter,G.value,Be)),te.value!==null&&(Z=H.value(t.rows===Z?Z.slice():Z,Ee,be)),Z}),z=y(()=>L.value.length),I=y(()=>{let Z=L.value;if(b.value===!0)return Z;const{rowsPerPage:Ee}=w.value;return Ee!==0&&(D.value===0&&t.rows!==Z?Z.length>K.value&&(Z=Z.slice(0,K.value)):Z=Z.slice(D.value,K.value)),Z}),{hasSelectionMode:R,singleSelection:P,multipleSelection:q,allRowsSelected:k,someRowsSelected:M,rowsSelectedNumber:E,isRowSelected:O,clearSelection:j,updateSelection:V}=function(Z,Ee,be,ge){const xe=y(()=>{const ue={};return Z.selected.map(ge.value).forEach(Ie=>{ue[Ie]=!0}),ue}),F=y(()=>Z.selection!=="none"),N=y(()=>Z.selection==="single"),U=y(()=>Z.selection==="multiple"),ee=y(()=>be.value.length!==0&&be.value.every(ue=>xe.value[ge.value(ue)]===!0)),ne=y(()=>ee.value!==!0&&be.value.some(ue=>xe.value[ge.value(ue)]===!0)),ye=y(()=>Z.selected.length);return{hasSelectionMode:F,singleSelection:N,multipleSelection:U,allRowsSelected:ee,someRowsSelected:ne,rowsSelectedNumber:ye,isRowSelected:function(ue){return xe.value[ue]===!0},clearSelection:function(){Ee("update:selected",[])},updateSelection:function(ue,Ie,Fe,at){Ee("selection",{rows:Ie,added:Fe,keys:ue,evt:at});const yt=N.value===!0?Fe===!0?Ie:[]:Fe===!0?Z.selected.concat(Ie):Z.selected.filter(st=>ue.includes(ge.value(st))===!1);Ee("update:selected",yt)}}}(t,n,I,l),{colList:B,computedCols:G,computedColsMap:J,computedColspan:oe}=function(Z,Ee,be){const ge=y(()=>{if(Z.columns!==void 0)return Z.columns;const U=Z.rows[0];return U!==void 0?Object.keys(U).map(ee=>({name:ee,label:ee.toUpperCase(),field:ee,align:ss(U[ee])?"right":"left",sortable:!0})):[]}),xe=y(()=>{const{sortBy:U,descending:ee}=Ee.value;return(Z.visibleColumns!==void 0?ge.value.filter(ne=>ne.required===!0||Z.visibleColumns.includes(ne.name)===!0):ge.value).map(ne=>{const ye=ne.align||"right",ue=`text-${ye}`;return{...ne,align:ye,__iconClass:`q-table__sort-icon q-table__sort-icon--${ye}`,__thClass:ue+(ne.headerClasses!==void 0?" "+ne.headerClasses:"")+(ne.sortable===!0?" sortable":"")+(ne.name===U?" sorted "+(ee===!0?"sort-desc":""):""),__tdStyle:ne.style!==void 0?typeof ne.style!="function"?()=>ne.style:ne.style:()=>null,__tdClass:ne.classes!==void 0?typeof ne.classes!="function"?()=>ue+" "+ne.classes:Ie=>ue+" "+ne.classes(Ie):()=>ue}})}),F=y(()=>{const U={};return xe.value.forEach(ee=>{U[ee.name]=ee}),U}),N=y(()=>Z.tableColspan!==void 0?Z.tableColspan:xe.value.length+(be.value===!0?1:0));return{colList:ge,computedCols:xe,computedColsMap:F,computedColspan:N}}(t,w,R),{columnToSort:te,computedSortMethod:H,sort:A}=TC(t,w,B,g),{firstRowIndex:D,lastRowIndex:K,isFirstPage:W,isLastPage:se,pagesNumber:fe,computedRowsPerPageOptions:le,computedRowsNumber:pe,firstPage:ce,prevPage:ke,nextPage:Ce,lastPage:he}=function(Z,Ee,be,ge,xe,F){const{props:N,emit:U,proxy:{$q:ee}}=Z,ne=y(()=>ge.value===!0?be.value.rowsNumber||0:F.value),ye=y(()=>{const{page:st,rowsPerPage:ln}=be.value;return(st-1)*ln}),ue=y(()=>{const{page:st,rowsPerPage:ln}=be.value;return st*ln}),Ie=y(()=>be.value.page===1),Fe=y(()=>be.value.rowsPerPage===0?1:Math.max(1,Math.ceil(ne.value/be.value.rowsPerPage))),at=y(()=>ue.value===0||be.value.page>=Fe.value),yt=y(()=>(N.rowsPerPageOptions.includes(Ee.value.rowsPerPage)?N.rowsPerPageOptions:[Ee.value.rowsPerPage].concat(N.rowsPerPageOptions)).map(st=>({label:st===0?ee.lang.table.allRows:""+st,value:st})));return re(Fe,(st,ln)=>{if(st===ln)return;const hi=be.value.page;st&&!hi?xe({page:1}):st<hi&&xe({page:st})}),N["onUpdate:pagination"]!==void 0&&U("update:pagination",{...be.value}),{firstRowIndex:ye,lastRowIndex:ue,isFirstPage:Ie,isLastPage:at,pagesNumber:Fe,computedRowsPerPageOptions:yt,computedRowsNumber:ne,firstPage:function(){xe({page:1})},prevPage:function(){const{page:st}=be.value;st>1&&xe({page:st-1})},nextPage:function(){const{page:st,rowsPerPage:ln}=be.value;ue.value>0&&st*ln<ne.value&&xe({page:st+1})},lastPage:function(){xe({page:Fe.value})}}}(i,v,w,b,g,z),Se=y(()=>I.value.length===0),Te=y(()=>{const Z={};return Fv.forEach(Ee=>{Z[Ee]=t[Ee]}),Z.virtualScrollItemSize===void 0&&(Z.virtualScrollItemSize=t.dense===!0?28:48),Z});function ze(){if(t.grid===!0)return function(){const be=e.item!==void 0?e.item:ge=>{const xe=ge.cols.map(N=>m("div",{class:"q-table__grid-item-row"},[m("div",{class:"q-table__grid-item-title"},[N.label]),m("div",{class:"q-table__grid-item-value"},[N.value])]));if(R.value===!0){const N=e["body-selection"],U=N!==void 0?N(ge):[m(Na,{modelValue:ge.selected,color:t.color,dark:o.value,dense:t.dense,"onUpdate:modelValue":(ee,ne)=>{V([ge.key],[ge.row],ee,ne)}})];xe.unshift(m("div",{class:"q-table__grid-item-row"},U),m(nr,{dark:o.value}))}const F={class:["q-table__grid-item-card"+h.value,t.cardClass],style:t.cardStyle};return t.onRowClick===void 0&&t.onRowDblclick===void 0||(F.class[0]+=" cursor-pointer",t.onRowClick!==void 0&&(F.onClick=N=>{n("RowClick",N,ge.row,ge.pageIndex)}),t.onRowDblclick!==void 0&&(F.onDblclick=N=>{n("RowDblclick",N,ge.row,ge.pageIndex)})),m("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(ge.selected===!0?" q-table__grid-item--selected":"")},[m("div",F,xe)])};return m("div",{class:["q-table__grid-content row",t.cardContainerClass],style:t.cardContainerStyle},I.value.map((ge,xe)=>be(Le({key:l.value(ge),row:ge,pageIndex:xe}))))}();const Z=t.hideHeader!==!0?Re:null;if(d.value===!0){const be=e["top-row"],ge=e["bottom-row"],xe={default:F=>X(F.item,e.body,F.index)};if(be!==void 0){const F=m("tbody",be({cols:G.value}));xe.before=Z===null?()=>F:()=>[Z()].concat(F)}else Z!==null&&(xe.before=Z);return ge!==void 0&&(xe.after=()=>m("tbody",ge({cols:G.value}))),m(CC,{ref:u,class:t.tableClass,style:t.tableStyle,...Te.value,scrollTarget:t.virtualScrollTarget,items:I.value,type:"__qtable",tableColspan:oe.value,onVirtualScroll:ie},xe)}const Ee=[ve()];return Z!==null&&Ee.unshift(Z()),D_({class:["q-table__middle scroll",t.tableClass],style:t.tableStyle},Ee)}function ie(Z){n("virtualScroll",Z)}function me(){return[m(dC,{class:"q-table__linear-progress",color:t.color,dark:o.value,indeterminate:!0,trackColor:"transparent"})]}function X(Z,Ee,be){const ge=l.value(Z),xe=O(ge);if(Ee!==void 0)return Ee(Le({key:ge,row:Z,pageIndex:be,__trClass:xe?"selected":""}));const F=e["body-cell"],N=G.value.map(ee=>{const ne=e[`body-cell-${ee.name}`],ye=ne!==void 0?ne:F;return ye!==void 0?ye(function(ue){return De(ue),jt(ue,"value",()=>Be(ue.col,ue.row)),ue}({key:ge,row:Z,pageIndex:be,col:ee})):m("td",{class:ee.__tdClass(Z),style:ee.__tdStyle(Z)},Be(ee,Z))});if(R.value===!0){const ee=e["body-selection"],ne=ee!==void 0?ee(function(ye){return De(ye),ye}({key:ge,row:Z,pageIndex:be})):[m(Na,{modelValue:xe,color:t.color,dark:o.value,dense:t.dense,"onUpdate:modelValue":(ye,ue)=>{V([ge],[Z],ye,ue)}})];N.unshift(m("td",{class:"q-table--col-auto-width"},ne))}const U={key:ge,class:{selected:xe}};return t.onRowClick!==void 0&&(U.class["cursor-pointer"]=!0,U.onClick=ee=>{n("rowClick",ee,Z,be)}),t.onRowDblclick!==void 0&&(U.class["cursor-pointer"]=!0,U.onDblclick=ee=>{n("rowDblclick",ee,Z,be)}),t.onRowContextmenu!==void 0&&(U.class["cursor-pointer"]=!0,U.onContextmenu=ee=>{n("rowContextmenu",ee,Z,be)}),m("tr",U,N)}function ve(){const Z=e.body,Ee=e["top-row"],be=e["bottom-row"];let ge=I.value.map((xe,F)=>X(xe,Z,F));return Ee!==void 0&&(ge=Ee({cols:G.value}).concat(ge)),be!==void 0&&(ge=ge.concat(be({cols:G.value}))),m("tbody",ge)}function Le(Z){return De(Z),Z.cols=Z.cols.map(Ee=>jt({...Ee},"value",()=>Be(Ee,Z.row))),Z}function De(Z){Object.assign(Z,{cols:G.value,colsMap:J.value,sort:A,rowIndex:D.value+Z.pageIndex,color:t.color,dark:o.value,dense:t.dense}),R.value===!0&&jt(Z,"selected",()=>O(Z.key),(Ee,be)=>{V([Z.key],[Z.row],Ee,be)}),jt(Z,"expand",()=>S(Z.key),Ee=>{T(Z.key,Ee)})}function Be(Z,Ee){const be=typeof Z.field=="function"?Z.field(Ee):Ee[Z.field];return Z.format!==void 0?Z.format(be,Ee):be}const Q=y(()=>({pagination:w.value,pagesNumber:fe.value,isFirstPage:W.value,isLastPage:se.value,firstPage:ce,prevPage:ke,nextPage:Ce,lastPage:he,inFullscreen:a.value,toggleFullscreen:s}));function de(){const Z=e.top,Ee=e["top-left"],be=e["top-right"],ge=e["top-selection"],xe=R.value===!0&&ge!==void 0&&E.value>0,F="q-table__top relative-position row items-center";if(Z!==void 0)return m("div",{class:F},[Z(Q.value)]);let N;return xe===!0?N=ge(Q.value).slice():(N=[],Ee!==void 0?N.push(m("div",{class:"q-table__control"},[Ee(Q.value)])):t.title&&N.push(m("div",{class:"q-table__control"},[m("div",{class:["q-table__title",t.titleClass]},t.title)]))),be!==void 0&&(N.push(m("div",{class:"q-table__separator col"})),N.push(m("div",{class:"q-table__control"},[be(Q.value)]))),N.length!==0?m("div",{class:F},N):void 0}const _e=y(()=>M.value===!0?null:k.value);function Re(){const Z=function(){const Ee=e.header,be=e["header-cell"];if(Ee!==void 0)return Ee(Ge({header:!0})).slice();const ge=G.value.map(xe=>{const F=e[`header-cell-${xe.name}`],N=F!==void 0?F:be,U=Ge({col:xe});return N!==void 0?N(U):m(xC,{key:xe.name,props:U},()=>xe.label)});if(P.value===!0&&t.grid!==!0)ge.unshift(m("th",{class:"q-table--col-auto-width"}," "));else if(q.value===!0){const xe=e["header-selection"],F=xe!==void 0?xe(Ge({})):[m(Na,{color:t.color,modelValue:_e.value,dark:o.value,dense:t.dense,"onUpdate:modelValue":mt})];ge.unshift(m("th",{class:"q-table--col-auto-width"},F))}return[m("tr",{class:t.tableHeaderClass,style:t.tableHeaderStyle},ge)]}();return t.loading===!0&&e.loading===void 0&&Z.push(m("tr",{class:"q-table__progress"},[m("th",{class:"relative-position",colspan:oe.value},me())])),m("thead",Z)}function Ge(Z){return Object.assign(Z,{cols:G.value,sort:A,colsMap:J.value,color:t.color,dark:o.value,dense:t.dense}),q.value===!0&&jt(Z,"selected",()=>_e.value,mt),Z}function mt(Z){M.value===!0&&(Z=!1),V(I.value.map(l.value),I.value,Z)}const qe=y(()=>{const Z=[t.iconFirstPage||r.iconSet.table.firstPage,t.iconPrevPage||r.iconSet.table.prevPage,t.iconNextPage||r.iconSet.table.nextPage,t.iconLastPage||r.iconSet.table.lastPage];return r.lang.rtl===!0?Z.reverse():Z});function tt(){if(t.hideBottom===!0)return;if(Se.value===!0){if(t.hideNoData===!0)return;const be=t.loading===!0?t.loadingLabel||r.lang.table.loading:t.filter?t.noResultsLabel||r.lang.table.noResults:t.noDataLabel||r.lang.table.noData,ge=e["no-data"],xe=ge!==void 0?[ge({message:be,icon:r.iconSet.table.warning,filter:t.filter})]:[m(et,{class:"q-table__bottom-nodata-icon",name:r.iconSet.table.warning}),be];return m("div",{class:ul+" q-table__bottom--nodata"},xe)}const Z=e.bottom;if(Z!==void 0)return m("div",{class:ul},[Z(Q.value)]);const Ee=t.hideSelectedBanner!==!0&&R.value===!0&&E.value>0?[m("div",{class:"q-table__control"},[m("div",[(t.selectedRowsLabel||r.lang.table.selectedRecords)(E.value)])])]:[];return t.hidePagination!==!0?m("div",{class:ul+" justify-end"},function(be){let ge;const{rowsPerPage:xe}=w.value,F=t.paginationLabel||r.lang.table.pagination,N=e.pagination,U=t.rowsPerPageOptions.length>1;if(be.push(m("div",{class:"q-table__separator col"})),U===!0&&be.push(m("div",{class:"q-table__control"},[m("span",{class:"q-table__bottom-item"},[t.rowsPerPageLabel||r.lang.table.recordsPerPage]),m(mC,{class:"q-table__select inline q-table__bottom-item",color:t.color,modelValue:xe,options:le.value,displayValue:xe===0?r.lang.table.allRows:xe,dark:o.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Tt})])),N!==void 0)ge=N(Q.value);else if(ge=[m("span",xe!==0?{class:"q-table__bottom-item"}:{},[xe?F(D.value+1,Math.min(K.value,pe.value),pe.value):F(1,z.value,pe.value)])],xe!==0&&fe.value>1){const ee={color:t.color,round:!0,dense:!0,flat:!0};t.dense===!0&&(ee.size="sm"),fe.value>2&&ge.push(m(it,{key:"pgFirst",...ee,icon:qe.value[0],disable:W.value,onClick:ce})),ge.push(m(it,{key:"pgPrev",...ee,icon:qe.value[1],disable:W.value,onClick:ke}),m(it,{key:"pgNext",...ee,icon:qe.value[2],disable:se.value,onClick:Ce})),fe.value>2&&ge.push(m(it,{key:"pgLast",...ee,icon:qe.value[3],disable:se.value,onClick:he}))}return be.push(m("div",{class:"q-table__control"},ge)),be}(Ee)):Ee.length!==0?m("div",{class:ul},Ee):void 0}function Tt(Z){g({page:1,rowsPerPage:Z.value})}return Object.assign(i.proxy,{requestServerInteraction:x,setPagination:g,firstPage:ce,prevPage:ke,nextPage:Ce,lastPage:he,isRowSelected:O,clearSelection:j,isRowExpanded:S,setExpanded:C,sort:A,resetVirtualScroll:function(){d.value===!0&&u.value.reset()},scrollTo:function(Z,Ee){if(u.value!==null)return void u.value.scrollTo(Z,Ee);Z=parseInt(Z,10);const be=c.value.querySelector(`tbody tr:nth-of-type(${Z+1})`);if(be!==null){const ge=c.value.querySelector(".q-table__middle.scroll"),xe=be.offsetTop-t.virtualScrollStickySizeStart,F=xe<ge.scrollTop?"decrease":"increase";ge.scrollTop=xe,n("virtualScroll",{index:Z,from:0,to:v.value.rowsPerPage-1,direction:F})}},getCellValue:Be}),ly(i.proxy,{filteredSortedRows:()=>L.value,computedRows:()=>I.value,computedRowsNumber:()=>pe.value}),()=>{const Z=[de()],Ee={ref:c,class:f.value};return t.grid===!0?Z.push(function(){const be=t.gridHeader===!0?[m("table",{class:"q-table"},[Re()])]:t.loading===!0&&e.loading===void 0?me():void 0;return m("div",{class:"q-table__middle"},be)}()):Object.assign(Ee,{class:[Ee.class,t.cardClass],style:t.cardStyle}),Z.push(ze(),tt()),t.loading===!0&&e.loading!==void 0&&Z.push(e.loading()),m("div",Ee,Z)}}}),ae({name:"QTr",props:{props:Object,noHover:Boolean},setup(t,{slots:e}){const n=y(()=>"q-tr"+(t.props===void 0||t.props.header===!0?"":" "+t.props.__trClass)+(t.noHover===!0?" q-tr--no-hover":""));return()=>m("tr",{class:n.value},Me(e.default))}}),ae({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(t,{slots:e}){const n=we(),i=y(()=>"q-td"+(t.autoWidth===!0?" q-table--col-auto-width":"")+(t.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(t.props===void 0)return m("td",{class:i.value},Me(e.default));const r=n.vnode.key,o=(t.props.colsMap!==void 0?t.props.colsMap[r]:null)||t.props.col;if(o===void 0)return;const{row:a}=t.props;return m("td",{class:i.value+o.__tdClass(a),style:o.__tdStyle(a)},Me(e.default))}}}),ae({name:"QRouteTab",props:{...bs,...t_},emits:e_,setup(t,{slots:e,emit:n}){const i=yu({useDisableForRouterLinkProps:!1}),{renderTab:r,$tabs:o}=n_(t,e,n,{exact:y(()=>t.exact),...i});return re(()=>`${t.name} | ${t.exact} | ${(i.resolvedLink.value||{}).href}`,o.verifyRouteModel),()=>r(i.linkTag.value,i.linkAttrs.value)}}),ae({name:"QTime",props:{...Ue,...Dn,...Kl,modelValue:{required:!0,validator:t=>typeof t=="string"||t===null},mask:{...Kl.mask,default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:t=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:a_,setup(t,{slots:e,emit:n}){const i=we(),{$q:r}=i.proxy,o=Ke(t,r),{tabindex:a,headerClass:s,getLocale:l,getCurrentDate:c}=s_(t,r),u=ur(ws(t));let d,h;const p=$(null),f=y(()=>t.calendar!=="persian"&&t.mask!==null?t.mask:"HH:mm"+(t.withSeconds===!0?":ss":"")),v=y(()=>l()),w=y(()=>function(){if(typeof t.defaultDate!="string"){const Q=c(!0);return Q.dateHash=mi(Q),Q}return Ra(t.defaultDate,"YYYY/MM/DD",void 0,t.calendar)}()),b=Ra(t.modelValue,f.value,v.value,t.calendar,w.value),x=$(function(Q,de){return Q.hour!==null&&Q.minute===null?"minute":"hour"}(b)),g=$(b),_=$(b.hour===null||b.hour<12),S=y(()=>"q-time q-time--"+(t.landscape===!0?"landscape":"portrait")+(o.value===!0?" q-time--dark q-dark":"")+(t.disable===!0?" disabled":t.readonly===!0?" q-time--readonly":"")+(t.bordered===!0?" q-time--bordered":"")+(t.square===!0?" q-time--square no-border-radius":"")+(t.flat===!0?" q-time--flat no-shadow":"")),C=y(()=>{const Q=g.value;return{hour:Q.hour===null?"--":T.value===!0?ot(Q.hour):String(_.value===!0?Q.hour===0?12:Q.hour:Q.hour>12?Q.hour-12:Q.hour),minute:Q.minute===null?"--":ot(Q.minute),second:Q.second===null?"--":ot(Q.second)}}),T=y(()=>t.format24h!==null?t.format24h:r.lang.date.format24h),L=y(()=>{const Q=x.value==="hour",de=Q===!0?12:60,_e=g.value[x.value];let Re=`rotate(${Math.round(_e*(360/de))-180}deg) translateX(-50%)`;return Q===!0&&T.value===!0&&g.value.hour>=12&&(Re+=" scale(.7)"),{transform:Re}}),z=y(()=>g.value.hour!==null),I=y(()=>z.value===!0&&g.value.minute!==null),R=y(()=>t.hourOptions!==void 0?Q=>t.hourOptions.includes(Q):t.options!==void 0?Q=>t.options(Q,null,null):null),P=y(()=>t.minuteOptions!==void 0?Q=>t.minuteOptions.includes(Q):t.options!==void 0?Q=>t.options(g.value.hour,Q,null):null),q=y(()=>t.secondOptions!==void 0?Q=>t.secondOptions.includes(Q):t.options!==void 0?Q=>t.options(g.value.hour,g.value.minute,Q):null),k=y(()=>{if(R.value===null)return null;const Q=G(0,11,R.value),de=G(12,11,R.value);return{am:Q,pm:de,values:Q.values.concat(de.values)}}),M=y(()=>P.value!==null?G(0,59,P.value):null),E=y(()=>q.value!==null?G(0,59,q.value):null),O=y(()=>{switch(x.value){case"hour":return k.value;case"minute":return M.value;case"second":return E.value}}),j=y(()=>{let Q,de,_e=0,Re=1;const Ge=O.value!==null?O.value.values:void 0;x.value==="hour"?T.value===!0?(Q=0,de=23):(Q=0,de=11,_.value===!1&&(_e=12)):(Q=0,de=55,Re=5);const mt=[];for(let qe=Q,tt=Q;qe<=de;qe+=Re,tt++){const Tt=qe+_e,Z=Ge!==void 0&&Ge.includes(Tt)===!1,Ee=x.value==="hour"&&qe===0?T.value===!0?"00":"12":qe;mt.push({val:Tt,index:tt,disable:Z,label:Ee})}return mt}),V=y(()=>[[In,A,void 0,{stop:!0,prevent:!0,mouse:!0}]]);function B(){const Q={...c(),...PC()};Le(Q),Object.assign(g.value,Q),x.value="hour"}function G(Q,de,_e){const Re=Array.apply(null,{length:de+1}).map((Ge,mt)=>{const qe=mt+Q;return{index:qe,val:_e(qe)===!0}}).filter(Ge=>Ge.val===!0).map(Ge=>Ge.index);return{min:Re[0],max:Re[Re.length-1],values:Re,threshold:de+1}}function J(Q,de,_e){const Re=Math.abs(Q-de);return Math.min(Re,_e-Re)}function oe(Q,{min:de,max:_e,values:Re,threshold:Ge}){if(Q===de)return de;if(Q<de||Q>_e)return J(Q,de,Ge)<=J(Q,_e,Ge)?de:_e;const mt=Re.findIndex(Tt=>Q<=Tt),qe=Re[mt-1],tt=Re[mt];return Q-qe<=tt-Q?qe:tt}function te(){return Qi(i)===!0||O.value!==null&&(O.value.values.length===0||x.value==="hour"&&T.value!==!0&&k.value[_.value===!0?"am":"pm"].values.length===0)}function H(){const Q=p.value,{top:de,left:_e,width:Re}=Q.getBoundingClientRect(),Ge=Re/2;return{top:de+Ge,left:_e+Ge,dist:.7*Ge}}function A(Q){if(te()!==!0){if(Q.isFirst===!0)return d=H(),void(h=K(Q.evt,d));h=K(Q.evt,d,h),Q.isFinal===!0&&(d=!1,h=null,D())}}function D(){x.value==="hour"?x.value="minute":t.withSeconds&&x.value==="minute"&&(x.value="second")}function K(Q,de,_e){const Re=pn(Q),Ge=Math.abs(Re.top-de.top),mt=Math.sqrt(Math.pow(Math.abs(Re.top-de.top),2)+Math.pow(Math.abs(Re.left-de.left),2));let qe,tt=Math.asin(Ge/mt)*(180/Math.PI);if(tt=Re.top<de.top?de.left<Re.left?90-tt:270+tt:de.left<Re.left?tt+90:270-tt,x.value==="hour"){if(qe=tt/30,k.value!==null){const Tt=T.value!==!0?_.value===!0:k.value.am.values.length!==0&&k.value.pm.values.length!==0?mt>=de.dist:k.value.am.values.length!==0;qe=oe(qe+(Tt===!0?0:12),k.value[Tt===!0?"am":"pm"])}else qe=Math.round(qe),T.value===!0?mt<de.dist?qe<12&&(qe+=12):qe===12&&(qe=0):_.value===!0&&qe===12?qe=0:_.value===!1&&qe!==12&&(qe+=12);T.value===!0&&(_.value=qe<12)}else qe=Math.round(tt/6)%60,x.value==="minute"&&M.value!==null?qe=oe(qe,M.value):x.value==="second"&&E.value!==null&&(qe=oe(qe,E.value));return _e!==qe&&ze[x.value](qe),qe}re(()=>t.modelValue,Q=>{const de=Ra(Q,f.value,v.value,t.calendar,w.value);de.dateHash===g.value.dateHash&&de.timeHash===g.value.timeHash||(g.value=de,de.hour===null?x.value="hour":_.value=de.hour<12)}),re([f,v],()=>{We(()=>{Le()})});const W={hour(){x.value="hour"},minute(){x.value="minute"},second(){x.value="second"}};function se(Q){Q.keyCode===13&&ie()}function fe(Q){Q.keyCode===13&&me()}function le(Q){te()!==!0&&(r.platform.is.desktop!==!0&&K(Q,H()),D())}function pe(Q){te()!==!0&&K(Q,H())}function ce(Q){if(Q.keyCode===13)x.value="hour";else if([37,39].includes(Q.keyCode)){const de=Q.keyCode===37?-1:1;if(k.value!==null){const _e=T.value===!0?k.value.values:k.value[_.value===!0?"am":"pm"].values;if(_e.length===0)return;if(g.value.hour===null)he(_e[0]);else{const Re=(_e.length+_e.indexOf(g.value.hour)+de)%_e.length;he(_e[Re])}}else{const _e=T.value===!0?24:12;he((T.value!==!0&&_.value===!1?12:0)+(24+(g.value.hour===null?-de:g.value.hour)+de)%_e)}}}function ke(Q){if(Q.keyCode===13)x.value="minute";else if([37,39].includes(Q.keyCode)){const de=Q.keyCode===37?-1:1;if(M.value!==null){const _e=M.value.values;if(_e.length===0)return;if(g.value.minute===null)Se(_e[0]);else{const Re=(_e.length+_e.indexOf(g.value.minute)+de)%_e.length;Se(_e[Re])}}else Se((60+(g.value.minute===null?-de:g.value.minute)+de)%60)}}function Ce(Q){if(Q.keyCode===13)x.value="second";else if([37,39].includes(Q.keyCode)){const de=Q.keyCode===37?-1:1;if(E.value!==null){const _e=E.value.values;if(_e.length===0)return;if(g.value.seconds===null)Te(_e[0]);else{const Re=(_e.length+_e.indexOf(g.value.second)+de)%_e.length;Te(_e[Re])}}else Te((60+(g.value.second===null?-de:g.value.second)+de)%60)}}function he(Q){g.value.hour!==Q&&(g.value.hour=Q,ve())}function Se(Q){g.value.minute!==Q&&(g.value.minute=Q,ve())}function Te(Q){g.value.second!==Q&&(g.value.second=Q,ve())}const ze={hour:he,minute:Se,second:Te};function ie(){_.value===!1&&(_.value=!0,g.value.hour!==null&&(g.value.hour-=12,ve()))}function me(){_.value===!0&&(_.value=!1,g.value.hour!==null&&(g.value.hour+=12,ve()))}function X(Q){const de=t.modelValue;x.value!==Q&&de!=null&&de!==""&&typeof de!="string"&&(x.value=Q)}function ve(){return R.value!==null&&R.value(g.value.hour)!==!0?(g.value=Ra(),void X("hour")):P.value!==null&&P.value(g.value.minute)!==!0?(g.value.minute=null,g.value.second=null,void X("minute")):t.withSeconds===!0&&q.value!==null&&q.value(g.value.second)!==!0?(g.value.second=null,void X("second")):void(g.value.hour===null||g.value.minute===null||t.withSeconds===!0&&g.value.second===null||Le())}function Le(Q){const de=Object.assign({...g.value},Q),_e=t.calendar==="persian"?ot(de.hour)+":"+ot(de.minute)+(t.withSeconds===!0?":"+ot(de.second):""):d_(new Date(de.year,de.month===null?null:de.month-1,de.day,de.hour,de.minute,de.second,de.millisecond),f.value,v.value,de.year,de.timezoneOffset);de.changed=_e!==t.modelValue,n("update:modelValue",_e,de)}function De(){const Q=[m("div",{class:"q-time__link "+(x.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onClick:W.hour,onKeyup:ce},C.value.hour),m("div",":"),m("div",z.value===!0?{class:"q-time__link "+(x.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onKeyup:ke,onClick:W.minute}:{class:"q-time__link"},C.value.minute)];t.withSeconds===!0&&Q.push(m("div",":"),m("div",I.value===!0?{class:"q-time__link "+(x.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onKeyup:Ce,onClick:W.second}:{class:"q-time__link"},C.value.second));const de=[m("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},Q)];return T.value===!1&&de.push(m("div",{class:"q-time__header-ampm column items-between no-wrap"},[m("div",{class:"q-time__link "+(_.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onClick:ie,onKeyup:se},"AM"),m("div",{class:"q-time__link "+(_.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onClick:me,onKeyup:fe},"PM")])),m("div",{class:"q-time__header flex flex-center no-wrap "+s.value},de)}function Be(){const Q=g.value[x.value];return m("div",{class:"q-time__content col relative-position"},[m($t,{name:"q-transition--scale"},()=>m("div",{key:"clock"+x.value,class:"q-time__container-parent absolute-full"},[m("div",{ref:p,class:"q-time__container-child fit overflow-hidden"},[xn(m("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:le,onMousedown:pe},[m("div",{class:"q-time__clock-circle fit"},[m("div",{class:"q-time__clock-pointer"+(g.value[x.value]===null?" hidden":t.color!==void 0?` text-${t.color}`:""),style:L.value}),j.value.map(de=>m("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${de.index}`+(de.val===Q?" q-time__clock-position--active "+s.value:de.disable===!0?" q-time__clock-position--disable":"")},[m("span",de.label)]))])]),V.value)])])),t.nowBtn===!0?m(it,{class:"q-time__now-button absolute",icon:r.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:t.color,textColor:t.textColor,tabindex:a.value,onClick:B}):null])}return i.proxy.setNow=B,()=>{const Q=[Be()],de=Me(e.default);return de!==void 0&&Q.push(m("div",{class:"q-time__actions"},de)),t.name!==void 0&&t.disable!==!0&&u(Q,"push"),m("div",{class:S.value,tabindex:-1},[De(),m("div",{class:"q-time__main col overflow-auto"},Q)])}}}),ae({name:"QTimeline",props:{...Ue,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:t=>["left","right"].includes(t)},layout:{type:String,default:"dense",validator:t=>["dense","comfortable","loose"].includes(t)}},setup(t,{slots:e}){const n=we(),i=Ke(t,n.proxy.$q);ir(Ig,t);const r=y(()=>`q-timeline q-timeline--${t.layout} q-timeline--${t.layout}--${t.side}`+(i.value===!0?" q-timeline--dark":""));return()=>m("ul",{class:r.value},Me(e.default))}}),ae({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:t=>["left","right"].includes(t)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(t,{slots:e}){const n=_n(Ig,ut);if(n===ut)return ut;const i=y(()=>`q-timeline__entry q-timeline__entry--${t.side}`+(t.icon!==void 0||t.avatar!==void 0?" q-timeline__entry--icon":"")),r=y(()=>`q-timeline__dot text-${t.color||n.color}`),o=y(()=>n.layout==="comfortable"&&n.side==="left");return()=>{const a=_s(e.default,[]);if(t.body!==void 0&&a.unshift(t.body),t.heading===!0){const c=[m("div"),m("div"),m(t.tag,{class:"q-timeline__heading-title"},a)];return m("div",{class:"q-timeline__heading"},o.value===!0?c.reverse():c)}let s;t.icon!==void 0?s=[m(et,{class:"row items-center justify-center",name:t.icon})]:t.avatar!==void 0&&(s=[m("img",{class:"q-timeline__dot-img",src:t.avatar})]);const l=[m("div",{class:"q-timeline__subtitle"},[m("span",{},Me(e.subtitle,[t.subtitle]))]),m("div",{class:r.value},s),m("div",{class:"q-timeline__content"},[m("h6",{class:"q-timeline__title"},Me(e.title,[t.title]))].concat(a))];return m("li",{class:i.value},o.value===!0?l.reverse():l)}}}),ae({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:e}){const n=y(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>m("div",{class:n.value,role:"toolbar"},Me(e.default))}}),ae({name:"QToolbarTitle",props:{shrink:Boolean},setup(t,{slots:e}){const n=y(()=>"q-toolbar__title ellipsis"+(t.shrink===!0?" col-shrink":""));return()=>m("div",{class:n.value},Me(e.default))}});var RC=["none","strict","leaf","leaf-filtered"];function $v(t){return(100*t).toFixed(2)+"%"}ae({name:"QTree",props:{...Ue,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:t=>RC.includes(t)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:{},noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(t,{slots:e,emit:n}){const{proxy:i}=we(),{$q:r}=i,o=Ke(t,r),a=$({}),s=$(t.ticked||[]),l=$(t.expanded||[]);let c={};ds(()=>{c={}});const u=y(()=>"q-tree q-tree--"+(t.dense===!0?"dense":"standard")+(t.noConnectors===!0?" q-tree--no-connectors":"")+(o.value===!0?" q-tree--dark":"")+(t.color!==void 0?` text-${t.color}`:"")),d=y(()=>t.selected!==void 0),h=y(()=>t.icon||r.iconSet.tree.icon),p=y(()=>t.controlColor||t.color),f=y(()=>t.textColor!==void 0?` text-${t.textColor}`:""),v=y(()=>{const k=t.selectedColor||t.color;return k?` text-${k}`:""}),w=y(()=>t.filterMethod!==void 0?t.filterMethod:(k,M)=>{const E=M.toLowerCase();return k[t.labelKey]&&k[t.labelKey].toLowerCase().indexOf(E)!==-1}),b=y(()=>{const k={},M=(E,O)=>{const j=E.tickStrategy||(O?O.tickStrategy:t.tickStrategy),V=E[t.nodeKey],B=E[t.childrenKey]&&Array.isArray(E[t.childrenKey])&&E[t.childrenKey].length!==0,G=E.disabled!==!0&&d.value===!0&&E.selectable!==!1,J=E.disabled!==!0&&E.expandable!==!1,oe=j!=="none",te=j==="strict",H=j==="leaf-filtered",A=j==="leaf"||j==="leaf-filtered";let D=E.disabled!==!0&&E.tickable!==!1;A===!0&&D===!0&&O&&O.tickable!==!0&&(D=!1);let K=E.lazy;K===!0&&a.value[V]!==void 0&&Array.isArray(E[t.childrenKey])===!0&&(K=a.value[V]);const W={key:V,parent:O,isParent:B,lazy:K,disabled:E.disabled,link:E.disabled!==!0&&(G===!0||J===!0&&(B===!0||K===!0)),children:[],matchesFilter:!t.filter||w.value(E,t.filter),selected:V===t.selected&&G===!0,selectable:G,expanded:B===!0&&l.value.includes(V),expandable:J,noTick:E.noTick===!0||te!==!0&&K&&K!=="loaded",tickable:D,tickStrategy:j,hasTicking:oe,strictTicking:te,leafFilteredTicking:H,leafTicking:A,ticked:(te===!0||B!==!0)&&s.value.includes(V)};if(k[V]=W,B===!0&&(W.children=E[t.childrenKey].map(se=>M(se,W)),t.filter&&(W.matchesFilter!==!0?W.matchesFilter=W.children.some(se=>se.matchesFilter):W.noTick!==!0&&W.disabled!==!0&&W.tickable===!0&&H===!0&&W.children.every(se=>se.matchesFilter!==!0||se.noTick===!0||se.tickable!==!0)===!0&&(W.tickable=!1)),W.matchesFilter===!0&&(W.noTick!==!0&&te!==!0&&W.children.every(se=>se.noTick)===!0&&(W.noTick=!0),A))){if(W.ticked=!1,W.indeterminate=W.children.some(se=>se.indeterminate===!0),W.tickable=W.tickable===!0&&W.children.some(se=>se.tickable),W.indeterminate!==!0){const se=W.children.reduce((fe,le)=>le.ticked===!0?fe+1:fe,0);se===W.children.length?W.ticked=!0:se>0&&(W.indeterminate=!0)}W.indeterminate===!0&&(W.indeterminateNextState=W.children.every(se=>se.tickable!==!0||se.ticked!==!0))}return W};return t.nodes.forEach(E=>M(E,null)),k});function x(k){const M=[].reduce,E=(O,j)=>O||!j?O:Array.isArray(j)===!0?M.call(Object(j),E,O):j[t.nodeKey]===k?j:j[t.childrenKey]?E(null,j[t.childrenKey]):void 0;return E(null,t.nodes)}function g(){const k=[],M=E=>{E[t.childrenKey]&&E[t.childrenKey].length!==0&&E.expandable!==!1&&E.disabled!==!0&&(k.push(E[t.nodeKey]),E[t.childrenKey].forEach(M))};t.nodes.forEach(M),t.expanded!==void 0?n("update:expanded",k):l.value=k}function _(k,M,E=x(k),O=b.value[k]){if(O.lazy&&O.lazy!=="loaded"){if(O.lazy==="loading")return;a.value[k]="loading",Array.isArray(E[t.childrenKey])!==!0&&(E[t.childrenKey]=[]),n("lazyLoad",{node:E,key:k,done:j=>{a.value[k]="loaded",E[t.childrenKey]=Array.isArray(j)===!0?j:[],We(()=>{const V=b.value[k];V&&V.isParent===!0&&S(k,!0)})},fail:()=>{delete a.value[k],E[t.childrenKey].length===0&&delete E[t.childrenKey]}})}else O.isParent===!0&&O.expandable===!0&&S(k,M)}function S(k,M){let E=l.value;const O=t.expanded!==void 0;if(O===!0&&(E=E.slice()),M){if(t.accordion&&b.value[k]){const j=[];b.value[k].parent?b.value[k].parent.children.forEach(V=>{V.key!==k&&V.expandable===!0&&j.push(V.key)}):t.nodes.forEach(V=>{const B=V[t.nodeKey];B!==k&&j.push(B)}),j.length!==0&&(E=E.filter(V=>j.includes(V)===!1))}E=E.concat([k]).filter((j,V,B)=>B.indexOf(j)===V)}else E=E.filter(j=>j!==k);O===!0?n("update:expanded",E):l.value=E}function C(k,M){let E=s.value;const O=t.ticked!==void 0;O===!0&&(E=E.slice()),E=M?E.concat(k).filter((j,V,B)=>B.indexOf(j)===V):E.filter(j=>k.includes(j)===!1),O===!0&&n("update:ticked",E)}function T(k){return(t.filter?k.filter(M=>b.value[M[t.nodeKey]].matchesFilter):k).map(M=>function(E){const O=E[t.nodeKey],j=b.value[O],V=E.header&&e[`header-${E.header}`]||e["default-header"],B=j.isParent===!0?T(E[t.childrenKey]):[],G=B.length!==0||j.lazy&&j.lazy!=="loaded";let J=E.body&&e[`body-${E.body}`]||e["default-body"];const oe=V!==void 0||J!==void 0?function(te,H,A){const D={tree:i,node:te,key:A,color:t.color,dark:o.value};return jt(D,"expanded",()=>H.expanded,K=>{K!==H.expanded&&_(A,K)}),jt(D,"ticked",()=>H.ticked,K=>{K!==H.ticked&&C([A],K)}),D}(E,j,O):null;return J!==void 0&&(J=m("div",{class:"q-tree__node-body relative-position"},[m("div",{class:f.value},[J(oe)])])),m("div",{key:O,class:"q-tree__node relative-position q-tree__node--"+(G===!0?"parent":"child")},[m("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(j.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(j.selected===!0?" q-tree__node--selected":"")+(j.disabled===!0?" q-tree__node--disabled":""),tabindex:j.link===!0?0:-1,ariaExpanded:B.length>0?j.expanded:null,role:"treeitem",onClick:te=>{P(E,j,te)},onKeypress(te){Wr(te)!==!0&&(te.keyCode===13?P(E,j,te,!0):te.keyCode===32&&q(E,j,te,!0))}},[m("div",{class:"q-focus-helper",tabindex:-1,ref:te=>{c[j.key]=te}}),j.lazy==="loading"?m(Zn,{class:"q-tree__spinner",color:p.value}):G===!0?m(et,{class:"q-tree__arrow"+(j.expanded===!0?" q-tree__arrow--rotate":""),name:h.value,onClick(te){q(E,j,te)}}):null,j.hasTicking===!0&&j.noTick!==!0?m(Na,{class:"q-tree__tickbox",modelValue:j.indeterminate===!0?null:j.ticked,color:p.value,dark:o.value,dense:!0,keepColor:!0,disable:j.tickable!==!0,onKeydown:$e,"onUpdate:modelValue":te=>{(function(H,A){if(H.indeterminate===!0&&(A=H.indeterminateNextState),H.strictTicking)C([H.key],A);else if(H.leafTicking){const D=[],K=W=>{W.isParent?(A!==!0&&W.noTick!==!0&&W.tickable===!0&&D.push(W.key),W.leafTicking===!0&&W.children.forEach(K)):W.noTick===!0||W.tickable!==!0||W.leafFilteredTicking===!0&&W.matchesFilter!==!0||D.push(W.key)};K(H),C(D,A)}})(j,te)}}):null,m("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(j.selected===!0?v.value:f.value)},[V?V(oe):[L(E),m("div",E[t.labelKey])]])]),G===!0?t.noTransition===!0?j.expanded===!0?m("div",{class:"q-tree__node-collapsible"+f.value,key:`${O}__q`},[J,m("div",{class:"q-tree__children"+(j.disabled===!0?" q-tree__node--disabled":""),role:"group"},B)]):null:m(jp,{duration:t.duration,onShow:z,onHide:I},()=>xn(m("div",{class:"q-tree__node-collapsible"+f.value,key:`${O}__q`},[J,m("div",{class:"q-tree__children"+(j.disabled===!0?" q-tree__node--disabled":""),role:"group"},B)]),[[xl,j.expanded]])):J])}(M))}function L(k){if(k.icon!==void 0)return m(et,{class:"q-tree__icon q-mr-sm",name:k.icon,color:k.iconColor});const M=k.img||k.avatar;return M?m("img",{class:`q-tree__${k.img?"img":"avatar"} q-mr-sm`,src:M}):void 0}function z(){n("afterShow")}function I(){n("afterHide")}function R(k){const M=c[k];M&&M.focus()}function P(k,M,E,O){O!==!0&&M.selectable!==!1&&R(M.key),d.value&&M.selectable?t.noSelectionUnset===!1?n("update:selected",M.key!==t.selected?M.key:null):M.key!==t.selected&&n("update:selected",M.key===void 0?null:M.key):q(k,M,E,O),typeof k.handler=="function"&&k.handler(k)}function q(k,M,E,O){E!==void 0&&$e(E),O!==!0&&M.selectable!==!1&&R(M.key),_(M.key,!M.expanded,k,M)}return re(()=>t.ticked,k=>{s.value=k}),re(()=>t.expanded,k=>{l.value=k}),t.defaultExpandAll===!0&&g(),Object.assign(i,{getNodeByKey:x,getTickedNodes:function(){return s.value.map(k=>x(k))},getExpandedNodes:function(){return l.value.map(k=>x(k))},isExpanded:function(k){return!(!k||!b.value[k])&&b.value[k].expanded},collapseAll:function(){t.expanded!==void 0?n("update:expanded",[]):l.value=[]},expandAll:g,setExpanded:_,isTicked:function(k){return!(!k||!b.value[k])&&b.value[k].ticked},setTicked:C}),()=>{const k=T(t.nodes);return m("div",{class:u.value,role:"tree"},k.length===0?t.filter?t.noResultsLabel||r.lang.tree.noResults:t.noNodesLabel||r.lang.tree.noNodes:k)}}});var FC={...Ue,...w_,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},z_=[...S_,"start","finish","added","removed"],AC=()=>!0;function B_(t){const e={};return t.forEach(n=>{e[n]=AC}),e}var OC=B_(z_);function gi(t){return typeof t=="function"?t:()=>t}var DC={name:"QUploader",props:{url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>t=>t.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},emits:["factoryFailed","uploaded","failed","uploading"],injectPlugin:function({props:t,emit:e,helpers:n}){const i=$([]),r=$([]),o=$(0),a=y(()=>({url:gi(t.url),method:gi(t.method),headers:gi(t.headers),formFields:gi(t.formFields),fieldName:gi(t.fieldName),withCredentials:gi(t.withCredentials),sendRaw:gi(t.sendRaw),batch:gi(t.batch)}));let s;function l(u){if(o.value++,typeof t.factory!="function")return void c(u,{});const d=t.factory(u);if(d)if(typeof d.catch=="function"&&typeof d.then=="function"){r.value.push(d);const h=p=>{n.isAlive()===!0&&(r.value=r.value.filter(f=>f!==d),r.value.length===0&&(s=!1),n.queuedFiles.value=n.queuedFiles.value.concat(u),u.forEach(f=>{n.updateFileStatus(f,"failed")}),e("factoryFailed",p,u),o.value--)};d.then(p=>{s===!0?h(new Error("Aborted")):n.isAlive()===!0&&(r.value=r.value.filter(f=>f!==d),c(u,p))}).catch(h)}else c(u,d||{});else e("factoryFailed",new Error("QUploader: factory() does not return properly"),u),o.value--}function c(u,d){const h=new FormData,p=new XMLHttpRequest,f=(L,z)=>d[L]!==void 0?gi(d[L])(z):a.value[L](z),v=f("url",u);if(!v)return void o.value--;const w=f("formFields",u);w!==void 0&&w.forEach(L=>{h.append(L.name,L.value)});let b,x=0,g=0,_=0,S=0;p.upload.addEventListener("progress",L=>{if(b===!0)return;const z=Math.min(S,L.loaded);n.uploadedSize.value+=z-_,_=z;let I=_-g;for(let R=x;I>0&&R<u.length;R++){const P=u[R];if(!(I>P.size))return void n.updateFileStatus(P,"uploading",I);I-=P.size,x++,g+=P.size,n.updateFileStatus(P,"uploading",P.size)}},!1),p.onreadystatechange=()=>{p.readyState<4||(p.status&&p.status<400?(n.uploadedFiles.value=n.uploadedFiles.value.concat(u),u.forEach(L=>{n.updateFileStatus(L,"uploaded")}),e("uploaded",{files:u,xhr:p})):(b=!0,n.uploadedSize.value-=_,n.queuedFiles.value=n.queuedFiles.value.concat(u),u.forEach(L=>{n.updateFileStatus(L,"failed")}),e("failed",{files:u,xhr:p})),o.value--,i.value=i.value.filter(L=>L!==p))},p.open(f("method",u),v),f("withCredentials",u)===!0&&(p.withCredentials=!0);const C=f("headers",u);C!==void 0&&C.forEach(L=>{p.setRequestHeader(L.name,L.value)});const T=f("sendRaw",u);u.forEach(L=>{n.updateFileStatus(L,"uploading",0),T!==!0&&h.append(f("fieldName",L),L,L.name),L.xhr=p,L.__abort=()=>{p.abort()},S+=L.size}),e("uploading",{files:u,xhr:p}),i.value.push(p),T===!0?p.send(new Blob(u)):p.send(h)}return{isUploading:y(()=>o.value>0),isBusy:y(()=>r.value.length!==0),abort:function(){i.value.forEach(u=>{u.abort()}),r.value.length!==0&&(s=!0)},upload:function(){const u=n.queuedFiles.value.slice(0);n.queuedFiles.value=[],a.value.batch(u)?l(u):u.forEach(d=>{l([d])})}}}};function Nv(t){if(t===!1)return 0;if(t===!0||t===void 0)return 1;const e=parseInt(t,10);return isNaN(e)?0:e}(({name:t,props:e,emits:n,injectPlugin:i})=>{ae({name:t,props:{...FC,...e},emits:on(n)===!0?{...OC,...n}:[...z_,...n],setup:(r,{expose:o})=>function(a,s){const l=we(),{props:c,slots:u,emit:d,proxy:h}=l,{$q:p}=h,f=Ke(c,p),v=y(()=>c.disable!==!0&&c.readonly!==!0),w=$(!1),b=$(null),x=$(null),g={files:$([]),queuedFiles:$([]),uploadedFiles:$([]),uploadedSize:$(0),updateFileStatus:function(le,pe,ce){if(le.__status=pe,pe==="idle")return le.__uploaded=0,le.__progress=0,le.__sizeLabel=gh(le.size),void(le.__progressLabel="0.00%");pe!=="failed"&&(le.__uploaded=pe==="uploaded"?le.size:ce,le.__progress=pe==="uploaded"?1:Math.min(.9999,le.__uploaded/le.size),le.__progressLabel=$v(le.__progress)),h.$forceUpdate()},isAlive:()=>Qi(l)===!1},{pickFiles:_,addFiles:S,onDragover:C,onDragleave:T,processFiles:L,getDndNode:z,maxFilesNumber:I,maxTotalSizeNumber:R}=C_({editable:v,dnd:w,getFileInput:A,addFilesToQueue:D});Object.assign(g,a({props:c,slots:u,emit:d,helpers:g,exposeApi:le=>{Object.assign(g,le)}})),g.isBusy===void 0&&(g.isBusy=$(!1));const P=$(0),q=y(()=>P.value===0?0:g.uploadedSize.value/P.value),k=y(()=>$v(q.value)),M=y(()=>gh(P.value)),E=y(()=>v.value===!0&&g.isUploading.value!==!0&&(c.multiple===!0||g.queuedFiles.value.length===0)&&(c.maxFiles===void 0||g.files.value.length<I.value)&&(c.maxTotalSize===void 0||P.value<R.value)),O=y(()=>v.value===!0&&g.isBusy.value!==!0&&g.isUploading.value!==!0&&g.queuedFiles.value.length!==0);ir(Rg,se);const j=y(()=>"q-uploader column no-wrap"+(f.value===!0?" q-uploader--dark q-dark":"")+(c.bordered===!0?" q-uploader--bordered":"")+(c.square===!0?" q-uploader--square no-border-radius":"")+(c.flat===!0?" q-uploader--flat no-shadow":"")+(c.disable===!0?" disabled q-uploader--disable":"")+(w.value===!0?" q-uploader--dnd":"")),V=y(()=>"q-uploader__header"+(c.color!==void 0?` bg-${c.color}`:"")+(c.textColor!==void 0?` text-${c.textColor}`:""));function B(){c.disable===!1&&(g.abort(),g.uploadedSize.value=0,P.value=0,H(),g.files.value=[],g.queuedFiles.value=[],g.uploadedFiles.value=[])}function G(){c.disable===!1&&oe(["uploaded"],()=>{g.uploadedFiles.value=[]})}function J(){oe(["idle","failed"],({size:le})=>{P.value-=le,g.queuedFiles.value=[]})}function oe(le,pe){if(c.disable===!0)return;const ce={files:[],size:0},ke=g.files.value.filter(Ce=>le.indexOf(Ce.__status)===-1||(ce.size+=Ce.size,ce.files.push(Ce),Ce.__img!==void 0&&window.URL.revokeObjectURL(Ce.__img.src),!1));ce.files.length!==0&&(g.files.value=ke,pe(ce),d("removed",ce.files))}function te(le){c.disable||(le.__status==="uploaded"?g.uploadedFiles.value=g.uploadedFiles.value.filter(pe=>pe.__key!==le.__key):le.__status==="uploading"?le.__abort():P.value-=le.size,g.files.value=g.files.value.filter(pe=>pe.__key!==le.__key||(pe.__img!==void 0&&window.URL.revokeObjectURL(pe.__img.src),!1)),g.queuedFiles.value=g.queuedFiles.value.filter(pe=>pe.__key!==le.__key),d("removed",[le]))}function H(){g.files.value.forEach(le=>{le.__img!==void 0&&window.URL.revokeObjectURL(le.__img.src)})}function A(){return x.value||b.value.getElementsByClassName("q-uploader__input")[0]}function D(le,pe){const ce=L(le,pe,g.files.value,!0),ke=A();ke!=null&&(ke.value=""),ce!==void 0&&(ce.forEach(Ce=>{if(g.updateFileStatus(Ce,"idle"),P.value+=Ce.size,c.noThumbnails!==!0&&Ce.type.toUpperCase().startsWith("IMAGE")){const he=new Image;he.src=window.URL.createObjectURL(Ce),Ce.__img=he}}),g.files.value=g.files.value.concat(ce),g.queuedFiles.value=g.queuedFiles.value.concat(ce),d("added",ce),c.autoUpload===!0&&g.upload())}function K(){O.value===!0&&g.upload()}function W(le,pe,ce){if(le===!0){const ke={type:"a",key:pe,icon:p.iconSet.uploader[pe],flat:!0,dense:!0};let Ce;return pe==="add"?(ke.onClick=_,Ce=se):ke.onClick=ce,m(it,ke,Ce)}}function se(){return m("input",{ref:x,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:c.accept,multiple:c.multiple===!0?"multiple":void 0,capture:c.capture,onMousedown:kt,onClick:_,onChange:D})}re(g.isUploading,(le,pe)=>{pe===!1&&le===!0?d("start"):pe===!0&&le===!1&&d("finish")}),He(()=>{g.isUploading.value===!0&&g.abort(),g.files.value.length!==0&&H()});const fe={};for(const le in g)nb(g[le])===!0?jt(fe,le,()=>g[le].value):fe[le]=g[le];return Object.assign(fe,{upload:K,reset:B,removeUploadedFiles:G,removeQueuedFiles:J,removeFile:te,pickFiles:_,addFiles:S}),ly(fe,{canAddFiles:()=>E.value,canUpload:()=>O.value,uploadSizeLabel:()=>M.value,uploadProgressLabel:()=>k.value}),s({...g,upload:K,reset:B,removeUploadedFiles:G,removeQueuedFiles:J,removeFile:te,pickFiles:_,addFiles:S,canAddFiles:E,canUpload:O,uploadSizeLabel:M,uploadProgressLabel:k}),()=>{const le=[m("div",{class:V.value},u.header!==void 0?u.header(fe):[m("div",{class:"q-uploader__header-content column"},[m("div",{class:"flex flex-center no-wrap q-gutter-xs"},[W(g.queuedFiles.value.length!==0,"removeQueue",J),W(g.uploadedFiles.value.length!==0,"removeUploaded",G),g.isUploading.value===!0?m(Zn,{class:"q-uploader__spinner"}):null,m("div",{class:"col column justify-center"},[c.label!==void 0?m("div",{class:"q-uploader__title"},[c.label]):null,m("div",{class:"q-uploader__subtitle"},[M.value+" / "+k.value])]),W(E.value,"add"),W(c.hideUploadBtn===!1&&O.value===!0,"upload",g.upload),W(g.isUploading.value,"clear",g.abort)])])]),m("div",{class:"q-uploader__list scroll"},u.list!==void 0?u.list(fe):g.files.value.map(ce=>m("div",{key:ce.__key,class:"q-uploader__file relative-position"+(c.noThumbnails!==!0&&ce.__img!==void 0?" q-uploader__file--img":"")+(ce.__status==="failed"?" q-uploader__file--failed":ce.__status==="uploaded"?" q-uploader__file--uploaded":""),style:c.noThumbnails!==!0&&ce.__img!==void 0?{backgroundImage:'url("'+ce.__img.src+'")',backgroundSize:c.thumbnailFit}:null},[m("div",{class:"q-uploader__file-header row flex-center no-wrap"},[ce.__status==="failed"?m(et,{class:"q-uploader__file-status",name:p.iconSet.type.negative,color:"negative"}):null,m("div",{class:"q-uploader__file-header-content col"},[m("div",{class:"q-uploader__title"},[ce.name]),m("div",{class:"q-uploader__subtitle row items-center no-wrap"},[ce.__sizeLabel+" / "+ce.__progressLabel])]),ce.__status==="uploading"?m(Xy,{value:ce.__progress,min:0,max:1,indeterminate:ce.__progress===0}):m(it,{round:!0,dense:!0,flat:!0,icon:p.iconSet.uploader[ce.__status==="uploaded"?"done":"clear"],onClick:()=>{te(ce)}})])]))),z("uploader")];g.isBusy.value===!0&&le.push(m("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[m(Zn)]));const pe={ref:b,class:j.value};return E.value===!0&&Object.assign(pe,{onDragover:C,onDragleave:T}),m("div",pe,le)}}(i,o)})})(DC),ae({name:"QUploaderAddTrigger",setup(){const t=_n(Rg,ut);return t}}),ae({name:"QVideo",props:{...Hp,src:{type:String,required:!0},title:String,fetchpriority:{type:String,default:"auto"},loading:{type:String,default:"eager"},referrerpolicy:{type:String,default:"strict-origin-when-cross-origin"}},setup(t){const e=Gp(t),n=y(()=>"q-video"+(t.ratio!==void 0?" q-video--responsive":""));return()=>m("div",{class:n.value,style:e.value},[m("iframe",{src:t.src,title:t.title,fetchpriority:t.fetchpriority,loading:t.loading,referrerpolicy:t.referrerpolicy,frameborder:"0",allowfullscreen:!0})])}});var zC=Un({name:"close-popup",beforeMount(t,{value:e}){const n={depth:Nv(e),handler(i){n.depth!==0&&setTimeout(()=>{const r=function(o){return Do.find(a=>a.contentEl!==null&&a.contentEl.contains(o))}(t);r!==void 0&&function(o,a,s){for(;s!==0&&o!=null;){if(o.__qPortal===!0){if(s--,o.$options.name==="QMenu"){o=Iy(o,a);continue}o.hide(a)}o=ml(o)}}(r,i,n.depth)})},handlerKey(i){Fn(i,13)===!0&&n.handler(i)}};t.__qclosepopup=n,t.addEventListener("click",n.handler),t.addEventListener("keyup",n.handlerKey)},updated(t,{value:e,oldValue:n}){e!==n&&(t.__qclosepopup.depth=Nv(e))},beforeUnmount(t){const e=t.__qclosepopup;t.removeEventListener("click",e.handler),t.removeEventListener("keyup",e.handlerKey),delete t.__qclosepopup}}),BC=0,cl=void 0;function jv(t,e){cl===void 0&&((cl=document.createElement("div")).style.cssText="position: absolute; left: 0; top: 0",document.body.appendChild(cl));const n=t.getBoundingClientRect(),i=cl.getBoundingClientRect(),{marginLeft:r,marginRight:o,marginTop:a,marginBottom:s}=window.getComputedStyle(t),l=parseInt(r,10)+parseInt(o,10),c=parseInt(a,10)+parseInt(s,10);return{left:n.left-i.left,top:n.top-i.top,width:n.right-n.left,height:n.bottom-n.top,widthM:n.right-n.left+(e===!0?0:l),heightM:n.bottom-n.top+(e===!0?0:c),marginH:e===!0?l:0,marginV:e===!0?c:0}}function dl(t){return{width:t.scrollWidth,height:t.scrollHeight}}var Hv=["Top","Right","Bottom","Left"],Gv=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],VC=/-block|-inline|block-|inline-/,$C=/(-block|-inline|block-|inline-).*:/;function Wv(t,e){const n=window.getComputedStyle(t),i={};for(let r=0;r<e.length;r++){const o=e[r];if(n[o]==="")if(o==="cssText"){const a=n.length;let s="";for(let l=0;l<a;l++)VC.test(n[l])!==!0&&(s+=n[l]+": "+n[n[l]]+"; ");i[o]=s}else if(["borderWidth","borderStyle","borderColor"].indexOf(o)!==-1){const a=o.replace("border","");let s="";for(let l=0;l<Hv.length;l++)s+=n["border"+Hv[l]+a]+" ";i[o]=s}else if(o==="borderRadius"){let a="",s="";for(let l=0;l<Gv.length;l++){const c=n[Gv[l]].split(" ");a+=c[0]+" ",s+=(c[1]===void 0?c[0]:c[1])+" "}i[o]=a+"/ "+s}else i[o]=n[o];else i[o]=o==="cssText"?n[o].split(";").filter(a=>$C.test(a)!==!0).join(";"):n[o]}return i}var NC=["absolute","fixed","relative","sticky"];function Yv(t){let e=t,n=0;for(;e!==null&&e!==document;){const{position:i,zIndex:r}=window.getComputedStyle(e),o=Number(r);o>n&&(e===t||NC.includes(i)===!0)&&(n=o),e=e.parentNode}return n}function Xv(t){const e=typeof t;return e==="function"?t():e==="string"?document.querySelector(t):t}function Uv(t){return t&&t.ownerDocument===document&&t.parentNode!==null}function jC(t){let e=()=>!1,n=!1,i=!0;const r={from:(o=t).from,to:o.to!==void 0?o.to:o.from};var o;const a=function(q){return typeof q=="number"?q={duration:q}:typeof q=="function"&&(q={onEnd:q}),{...q,waitFor:q.waitFor===void 0?0:q.waitFor,duration:isNaN(q.duration)===!0?300:parseInt(q.duration,10),easing:typeof q.easing=="string"&&q.easing.length!==0?q.easing:"ease-in-out",delay:isNaN(q.delay)===!0?0:parseInt(q.delay,10),fill:typeof q.fill=="string"&&q.fill.length!==0?q.fill:"none",resize:q.resize===!0,useCSS:q.useCSS===!0||q.usecss===!0,hideFromClone:q.hideFromClone===!0||q.hidefromclone===!0,keepToClone:q.keepToClone===!0||q.keeptoclone===!0,tween:q.tween===!0,tweenFromOpacity:isNaN(q.tweenFromOpacity)===!0?.6:parseFloat(q.tweenFromOpacity),tweenToOpacity:isNaN(q.tweenToOpacity)===!0?.5:parseFloat(q.tweenToOpacity)}}(t),s=Xv(r.from);if(Uv(s)!==!0)return e;let l,c,u,d;typeof s.qMorphCancel=="function"&&s.qMorphCancel();const h=s.parentNode,p=s.nextElementSibling,f=jv(s,a.resize),{width:v,height:w}=dl(h),{borderWidth:b,borderStyle:x,borderColor:g,borderRadius:_,backgroundColor:S,transform:C,position:T,cssText:L}=Wv(s,["borderWidth","borderStyle","borderColor","borderRadius","backgroundColor","transform","position","cssText"]),z=s.classList.toString(),I=s.style.cssText,R=s.cloneNode(!0),P=a.tween===!0?s.cloneNode(!0):void 0;return P!==void 0&&(P.className=P.classList.toString().split(" ").filter(q=>/^bg-/.test(q)===!1).join(" ")),a.hideFromClone===!0&&R.classList.add("q-morph--internal"),R.setAttribute("aria-hidden","true"),R.style.transition="none",R.style.animation="none",R.style.pointerEvents="none",h.insertBefore(R,p),s.qMorphCancel=()=>{n=!0,R.remove(),P!==void 0&&P.remove(),a.hideFromClone===!0&&R.classList.remove("q-morph--internal"),s.qMorphCancel=void 0},typeof t.onToggle=="function"&&t.onToggle(),requestAnimationFrame(()=>{const q=Xv(r.to);if(n===!0||Uv(q)!==!0)return void(typeof s.qMorphCancel=="function"&&s.qMorphCancel());s!==q&&typeof q.qMorphCancel=="function"&&q.qMorphCancel(),a.keepToClone!==!0&&q.classList.add("q-morph--internal"),R.classList.add("q-morph--internal");const{width:k,height:M}=dl(h),{width:E,height:O}=dl(q.parentNode);a.hideFromClone!==!0&&R.classList.remove("q-morph--internal"),q.qMorphCancel=()=>{n=!0,R.remove(),P!==void 0&&P.remove(),a.hideFromClone===!0&&R.classList.remove("q-morph--internal"),a.keepToClone!==!0&&q.classList.remove("q-morph--internal"),s.qMorphCancel=void 0,q.qMorphCancel=void 0};const j=()=>{if(n===!0)return void(typeof q.qMorphCancel=="function"&&q.qMorphCancel());a.hideFromClone!==!0&&(R.classList.add("q-morph--internal"),R.innerHTML="",R.style.left=0,R.style.right="unset",R.style.top=0,R.style.bottom="unset",R.style.transform="none"),a.keepToClone!==!0&&q.classList.remove("q-morph--internal");const V=q.parentNode,{width:B,height:G}=dl(V),J=q.cloneNode(a.keepToClone);J.setAttribute("aria-hidden","true"),a.keepToClone!==!0&&(J.style.left=0,J.style.right="unset",J.style.top=0,J.style.bottom="unset",J.style.transform="none",J.style.pointerEvents="none"),J.classList.add("q-morph--internal");const oe=q===s&&h===V?R:q.nextElementSibling;V.insertBefore(J,oe);const{borderWidth:te,borderStyle:H,borderColor:A,borderRadius:D,backgroundColor:K,transform:W,position:se,cssText:fe}=Wv(q,["borderWidth","borderStyle","borderColor","borderRadius","backgroundColor","transform","position","cssText"]),le=q.classList.toString(),pe=q.style.cssText;q.style.cssText=fe,q.style.transform="none",q.style.animation="none",q.style.transition="none",q.className=le.split(" ").filter(qe=>/^bg-/.test(qe)===!1).join(" ");const ce=jv(q,a.resize),ke=f.left-ce.left,Ce=f.top-ce.top,he=f.width/(ce.width>0?ce.width:10),Se=f.height/(ce.height>0?ce.height:100),Te=v-k,ze=w-M,ie=B-E,me=G-O,X=Math.max(f.widthM,Te),ve=Math.max(f.heightM,ze),Le=Math.max(ce.widthM,ie),De=Math.max(ce.heightM,me),Be=s===q&&["absolute","fixed"].includes(se)===!1&&["absolute","fixed"].includes(T)===!1;let Q=se==="fixed",de=V;for(;Q!==!0&&de!==document;)Q=window.getComputedStyle(de).position==="fixed",de=de.parentNode;if(a.hideFromClone!==!0&&(R.style.display="block",R.style.flex="0 0 auto",R.style.opacity=0,R.style.minWidth="unset",R.style.maxWidth="unset",R.style.minHeight="unset",R.style.maxHeight="unset",R.classList.remove("q-morph--internal")),a.keepToClone!==!0&&(J.style.display="block",J.style.flex="0 0 auto",J.style.opacity=0,J.style.minWidth="unset",J.style.maxWidth="unset",J.style.minHeight="unset",J.style.maxHeight="unset"),J.classList.remove("q-morph--internal"),typeof a.classes=="string"&&(q.className+=" "+a.classes),typeof a.style=="string")q.style.cssText+=" "+a.style;else if(on(a.style)===!0)for(const qe in a.style)q.style[qe]=a.style[qe];const _e=Yv(R),Re=Yv(q),Ge=Q===!0?document.documentElement:{scrollLeft:0,scrollTop:0};q.style.position=Q===!0?"fixed":"absolute",q.style.left=ce.left-Ge.scrollLeft+"px",q.style.right="unset",q.style.top=ce.top-Ge.scrollTop+"px",q.style.margin=0,a.resize===!0&&(q.style.minWidth="unset",q.style.maxWidth="unset",q.style.minHeight="unset",q.style.maxHeight="unset",q.style.overflow="hidden",q.style.overflowX="hidden",q.style.overflowY="hidden"),document.body.appendChild(q),P!==void 0&&(P.style.cssText=L,P.style.transform="none",P.style.animation="none",P.style.transition="none",P.style.position=q.style.position,P.style.left=f.left-Ge.scrollLeft+"px",P.style.right="unset",P.style.top=f.top-Ge.scrollTop+"px",P.style.margin=0,P.style.pointerEvents="none",a.resize===!0&&(P.style.minWidth="unset",P.style.maxWidth="unset",P.style.minHeight="unset",P.style.maxHeight="unset",P.style.overflow="hidden",P.style.overflowX="hidden",P.style.overflowY="hidden"),document.body.appendChild(P));const mt=qe=>{s===q&&i!==!0?(q.style.cssText=I,q.className=z):(q.style.cssText=pe,q.className=le),J.parentNode===V&&V.insertBefore(q,J),R.remove(),J.remove(),P!==void 0&&P.remove(),e=()=>!1,s.qMorphCancel=void 0,q.qMorphCancel=void 0,typeof a.onEnd=="function"&&a.onEnd(i===!0?"to":"from",qe===!0)};if(a.useCSS!==!0&&typeof q.animate=="function"){const qe=a.resize===!0?{transform:`translate(${ke}px, ${Ce}px)`,width:`${X}px`,height:`${ve}px`}:{transform:`translate(${ke}px, ${Ce}px) scale(${he}, ${Se})`},tt=a.resize===!0?{width:`${Le}px`,height:`${De}px`}:{},Tt=a.resize===!0?{width:`${X}px`,height:`${ve}px`}:{},Z=a.resize===!0?{transform:`translate(${-1*ke}px, ${-1*Ce}px)`,width:`${Le}px`,height:`${De}px`}:{transform:`translate(${-1*ke}px, ${-1*Ce}px) scale(${1/he}, ${1/Se})`},Ee=P!==void 0?{opacity:a.tweenToOpacity}:{backgroundColor:S},be=P!==void 0?{opacity:1}:{backgroundColor:K};d=q.animate([{margin:0,borderWidth:b,borderStyle:x,borderColor:g,borderRadius:_,zIndex:_e,transformOrigin:"0 0",...qe,...Ee},{margin:0,borderWidth:te,borderStyle:H,borderColor:A,borderRadius:D,zIndex:Re,transformOrigin:"0 0",transform:W,...tt,...be}],{duration:a.duration,easing:a.easing,fill:a.fill,delay:a.delay}),c=P===void 0?void 0:P.animate([{opacity:a.tweenFromOpacity,margin:0,borderWidth:b,borderStyle:x,borderColor:g,borderRadius:_,zIndex:_e,transformOrigin:"0 0",transform:C,...Tt},{opacity:0,margin:0,borderWidth:te,borderStyle:H,borderColor:A,borderRadius:D,zIndex:Re,transformOrigin:"0 0",...Z}],{duration:a.duration,easing:a.easing,fill:a.fill,delay:a.delay}),l=a.hideFromClone===!0||Be===!0?void 0:R.animate([{margin:`${ze<0?ze/2:0}px ${Te<0?Te/2:0}px`,width:`${X+f.marginH}px`,height:`${ve+f.marginV}px`},{margin:0,width:0,height:0}],{duration:a.duration,easing:a.easing,fill:a.fill,delay:a.delay}),u=a.keepToClone===!0?void 0:J.animate([Be===!0?{margin:`${ze<0?ze/2:0}px ${Te<0?Te/2:0}px`,width:`${X+f.marginH}px`,height:`${ve+f.marginV}px`}:{margin:0,width:0,height:0},{margin:`${me<0?me/2:0}px ${ie<0?ie/2:0}px`,width:`${Le+ce.marginH}px`,height:`${De+ce.marginV}px`}],{duration:a.duration,easing:a.easing,fill:a.fill,delay:a.delay});const ge=xe=>{l!==void 0&&l.cancel(),c!==void 0&&c.cancel(),u!==void 0&&u.cancel(),d.cancel(),d.removeEventListener("finish",ge),d.removeEventListener("cancel",ge),mt(xe),l=void 0,c=void 0,u=void 0,d=void 0};s.qMorphCancel=()=>{s.qMorphCancel=void 0,n=!0,ge()},q.qMorphCancel=()=>{q.qMorphCancel=void 0,n=!0,ge()},d.addEventListener("finish",ge),d.addEventListener("cancel",ge),e=xe=>n!==!0&&d!==void 0&&(xe===!0?(ge(!0),!0):(i=i!==!0,l!==void 0&&l.reverse(),c!==void 0&&c.reverse(),u!==void 0&&u.reverse(),d.reverse(),!0))}else{const qe="q-morph-anim-"+ ++BC,tt=document.createElement("style"),Tt=a.resize===!0?`
            transform: translate(${ke}px, ${Ce}px);
            width: ${X}px;
            height: ${ve}px;
          `:`transform: translate(${ke}px, ${Ce}px) scale(${he}, ${Se});`,Z=a.resize===!0?`
            width: ${Le}px;
            height: ${De}px;
          `:"",Ee=a.resize===!0?`
            width: ${X}px;
            height: ${ve}px;
          `:"",be=a.resize===!0?`
            transform: translate(${-1*ke}px, ${-1*Ce}px);
            width: ${Le}px;
            height: ${De}px;
          `:`transform: translate(${-1*ke}px, ${-1*Ce}px) scale(${1/he}, ${1/Se});`,ge=P!==void 0?`opacity: ${a.tweenToOpacity};`:`background-color: ${S};`,xe=P!==void 0?"opacity: 1;":`background-color: ${K};`,F=P===void 0?"":`
            @keyframes ${qe}-from-tween {
              0% {
                opacity: ${a.tweenFromOpacity};
                margin: 0;
                border-width: ${b};
                border-style: ${x};
                border-color: ${g};
                border-radius: ${_};
                z-index: ${_e};
                transform-origin: 0 0;
                transform: ${C};
                ${Ee}
              }

              100% {
                opacity: 0;
                margin: 0;
                border-width: ${te};
                border-style: ${H};
                border-color: ${A};
                border-radius: ${D};
                z-index: ${Re};
                transform-origin: 0 0;
                ${be}
              }
            }
          `,N=a.hideFromClone===!0||Be===!0?"":`
            @keyframes ${qe}-from {
              0% {
                margin: ${ze<0?ze/2:0}px ${Te<0?Te/2:0}px;
                width: ${X+f.marginH}px;
                height: ${ve+f.marginV}px;
              }

              100% {
                margin: 0;
                width: 0;
                height: 0;
              }
            }
          `,U=Be===!0?`
            margin: ${ze<0?ze/2:0}px ${Te<0?Te/2:0}px;
            width: ${X+f.marginH}px;
            height: ${ve+f.marginV}px;
          `:`
            margin: 0;
            width: 0;
            height: 0;
          `,ee=a.keepToClone===!0?"":`
            @keyframes ${qe}-to {
              0% {
                ${U}
              }

              100% {
                margin: ${me<0?me/2:0}px ${ie<0?ie/2:0}px;
                width: ${Le+ce.marginH}px;
                height: ${De+ce.marginV}px;
              }
            }
          `;tt.innerHTML=`
          @keyframes ${qe} {
            0% {
              margin: 0;
              border-width: ${b};
              border-style: ${x};
              border-color: ${g};
              border-radius: ${_};
              background-color: ${S};
              z-index: ${_e};
              transform-origin: 0 0;
              ${Tt}
              ${ge}
            }

            100% {
              margin: 0;
              border-width: ${te};
              border-style: ${H};
              border-color: ${A};
              border-radius: ${D};
              background-color: ${K};
              z-index: ${Re};
              transform-origin: 0 0;
              transform: ${W};
              ${Z}
              ${xe}
            }
          }

          ${N}

          ${F}

          ${ee}
        `,document.head.appendChild(tt);let ne="normal";R.style.animation=`${a.duration}ms ${a.easing} ${a.delay}ms ${ne} ${a.fill} ${qe}-from`,P!==void 0&&(P.style.animation=`${a.duration}ms ${a.easing} ${a.delay}ms ${ne} ${a.fill} ${qe}-from-tween`),J.style.animation=`${a.duration}ms ${a.easing} ${a.delay}ms ${ne} ${a.fill} ${qe}-to`,q.style.animation=`${a.duration}ms ${a.easing} ${a.delay}ms ${ne} ${a.fill} ${qe}`;const ye=ue=>{ue===Object(ue)&&ue.animationName!==qe||(q.removeEventListener("animationend",ye),q.removeEventListener("animationcancel",ye),mt(),tt.remove())};s.qMorphCancel=()=>{s.qMorphCancel=void 0,n=!0,ye()},q.qMorphCancel=()=>{q.qMorphCancel=void 0,n=!0,ye()},q.addEventListener("animationend",ye),q.addEventListener("animationcancel",ye),e=ue=>!!(n!==!0&&q&&R&&J)&&(ue===!0?(ye(),!0):(i=i!==!0,ne=ne==="normal"?"reverse":"normal",R.style.animationDirection=ne,P.style.animationDirection=ne,J.style.animationDirection=ne,q.style.animationDirection=ne,!0))}};a.waitFor>0||a.waitFor==="transitionend"||a.waitFor===Object(a.waitFor)&&typeof a.waitFor.then=="function"?(a.waitFor>0?new Promise(V=>setTimeout(V,a.waitFor)):a.waitFor==="transitionend"?new Promise(V=>{const B=()=>{G!==null&&(clearTimeout(G),G=null),q&&(q.removeEventListener("transitionend",B),q.removeEventListener("transitioncancel",B)),V()};let G=setTimeout(B,400);q.addEventListener("transitionend",B),q.addEventListener("transitioncancel",B)}):a.waitFor).then(j).catch(()=>{typeof q.qMorphCancel=="function"&&q.qMorphCancel()}):j()}),q=>e(q)}var Ql={},HC=["duration","delay","easing","fill","classes","style","duration","resize","useCSS","hideFromClone","keepToClone","tween","tweenFromOpacity","tweenToOpacity","waitFor","onEnd"],GC=["resize","useCSS","hideFromClone","keepToClone","tween"];function qo(t,e){t.clsAction!==e&&(t.clsAction=e,t.el.classList[e]("q-morph--invisible"))}function V_(t){if(t.animating===!0||t.queue.length<2)return;const[e,n]=t.queue;t.animating=!0,e.animating=!0,n.animating=!0,qo(e,"remove"),qo(n,"remove");const i=jC({from:e.el,to:n.el,onToggle(){qo(e,"add"),qo(n,"remove")},...n.opts,onEnd(r,o){n.opts.onEnd!==void 0&&n.opts.onEnd(r,o),o!==!0&&(e.animating=!1,n.animating=!1,t.animating=!1,t.cancel=void 0,t.queue.shift(),V_(t))}});t.cancel=()=>{i(!0),t.cancel=void 0}}function $_(t,e){const n=e.opts;GC.forEach(i=>{n[i]=t[i]===!0})}function WC(t,e){if(e.name!==t)e.animating===!1&&qo(e,"add");else{const n=Ql[e.group];n===void 0?(Ql[e.group]={name:e.group,model:t,queue:[e],animating:!1},qo(e,"remove")):n.model!==t&&(n.model=t,n.queue.push(e),n.animating===!1&&n.queue.length===2&&V_(n))}}function Kv(t,e){let n;Object(e)===e?(n=""+e.model,function(i,r){i.group!==void 0&&(r.group=i.group),i.name!==void 0&&(r.name=i.name);const o=r.opts;HC.forEach(a=>{i[a]!==void 0&&(o[a]=i[a])})}(e,t),$_(e,t)):n=""+e,n!==t.model?(t.model=n,WC(n,t)):t.animating===!1&&t.clsAction!==void 0&&t.el.classList[t.clsAction]("q-morph--invisible")}Un({name:"morph",mounted(t,e){const n={el:t,animating:!1,opts:{}};$_(e.modifiers,n),function(i,r){const o=typeof i=="string"&&i.length!==0?i.split(":"):[];r.name=o[0],r.group=o[1],Object.assign(r.opts,{duration:isNaN(o[2])===!0?300:parseFloat(o[2]),waitFor:o[3]})}(e.arg,n),Kv(n,e.value),t.__qmorph=n},updated(t,e){Kv(t.__qmorph,e.value)},beforeUnmount(t){const e=t.__qmorph,n=Ql[e.group];n!==void 0&&n.queue.indexOf(e)!==-1&&(n.queue=n.queue.filter(i=>i!==e),n.queue.length===0&&(n.cancel!==void 0&&n.cancel(),delete Ql[e.group])),e.clsAction==="add"&&t.classList.remove("q-morph--invisible"),delete t.__qmorph}});var YC={childList:!0,subtree:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0};function Zv(t,e,n){e.handler=n,e.observer!==void 0&&e.observer.disconnect(),e.observer=new MutationObserver(i=>{typeof e.handler=="function"&&(e.handler(i)!==!1&&e.once!==!0||N_(t))}),e.observer.observe(t,e.opts)}function N_(t){const e=t.__qmutation;e!==void 0&&(e.observer!==void 0&&e.observer.disconnect(),delete t.__qmutation)}Un({name:"mutation",mounted(t,{modifiers:{once:e,...n},value:i}){const r={once:e,opts:Object.keys(n).length===0?YC:n};Zv(t,r,i),t.__qmutation=r},updated(t,{oldValue:e,value:n}){const i=t.__qmutation;i!==void 0&&e!==n&&Zv(t,i,n)},beforeUnmount:N_});var{passive:Jl}=_t;function Qv(t,{value:e,oldValue:n}){typeof e=="function"?(t.handler=e,typeof n!="function"&&(t.scrollTarget.addEventListener("scroll",t.scroll,Jl),t.scroll())):t.scrollTarget.removeEventListener("scroll",t.scroll,Jl)}function Jv(t,{value:e,oldValue:n}){typeof e=="function"?(t.handler=e,typeof n!="function"&&t.scrollTarget.addEventListener("scroll",t.scroll,_t.passive)):t.scrollTarget.removeEventListener("scroll",t.scroll,_t.passive)}Un({name:"scroll-fire",mounted(t,e){const n={scrollTarget:ci(t),scroll:la(()=>{let i,r;n.scrollTarget===window?(r=t.getBoundingClientRect().bottom,i=window.innerHeight):(r=Vl(t).top+ta(t),i=Vl(n.scrollTarget).top+ta(n.scrollTarget)),r>0&&r<i&&(n.scrollTarget.removeEventListener("scroll",n.scroll,Jl),n.handler(t))},25)};Qv(n,e),t.__qscrollfire=n},updated(t,e){e.value!==e.oldValue&&Qv(t.__qscrollfire,e)},beforeUnmount(t){const e=t.__qscrollfire;e.scrollTarget.removeEventListener("scroll",e.scroll,Jl),e.scroll.cancel(),delete t.__qscrollfire}}),Un({name:"scroll",mounted(t,e){const n={scrollTarget:ci(t),scroll(){n.handler(Ji(n.scrollTarget),xu(n.scrollTarget))}};Jv(n,e),t.__qscroll=n},updated(t,e){t.__qscroll!==void 0&&e.oldValue!==e.value&&Jv(t.__qscroll,e)},beforeUnmount(t){const e=t.__qscroll;e.scrollTarget.removeEventListener("scroll",e.scroll,_t.passive),delete t.__qscroll}}),Un({name:"touch-hold",beforeMount(t,e){const{modifiers:n}=e;if(n.mouse!==!0&&je.has.touch!==!0)return;const i={handler:e.value,noop:zt,mouseStart(o){typeof i.handler=="function"&&mu(o)===!0&&(Lt(i,"temp",[[document,"mousemove","move","passiveCapture"],[document,"click","end","notPassiveCapture"]]),i.start(o,!0))},touchStart(o){if(o.target!==void 0&&typeof i.handler=="function"){const a=o.target;Lt(i,"temp",[[a,"touchmove","move","passiveCapture"],[a,"touchcancel","end","notPassiveCapture"],[a,"touchend","end","notPassiveCapture"]]),i.start(o)}},start(o,a){i.origin=pn(o);const s=Date.now();je.is.mobile===!0&&(document.body.classList.add("non-selectable"),Kn(),i.styleCleanup=l=>{i.styleCleanup=void 0;const c=()=>{document.body.classList.remove("non-selectable")};l===!0?(Kn(),setTimeout(c,10)):c()}),i.triggered=!1,i.sensitivity=a===!0?i.mouseSensitivity:i.touchSensitivity,i.timer=setTimeout(()=>{i.timer=void 0,Kn(),i.triggered=!0,i.handler({evt:o,touch:a!==!0,mouse:a===!0,position:i.origin,duration:Date.now()-s})},i.duration)},move(o){const{top:a,left:s}=pn(o);i.timer!==void 0&&(Math.abs(s-i.origin.left)>=i.sensitivity||Math.abs(a-i.origin.top)>=i.sensitivity)&&(clearTimeout(i.timer),i.timer=void 0)},end(o){sn(i,"temp"),i.styleCleanup!==void 0&&i.styleCleanup(i.triggered),i.triggered===!0?o!==void 0&&$e(o):i.timer!==void 0&&(clearTimeout(i.timer),i.timer=void 0)}},r=[600,5,7];if(typeof e.arg=="string"&&e.arg.length!==0&&e.arg.split(":").forEach((o,a)=>{const s=parseInt(o,10);s&&(r[a]=s)}),[i.duration,i.touchSensitivity,i.mouseSensitivity]=r,t.__qtouchhold=i,n.mouse===!0){const o=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";Lt(i,"main",[[t,"mousedown","mouseStart",`passive${o}`]])}je.has.touch===!0&&Lt(i,"main",[[t,"touchstart","touchStart","passive"+(n.capture===!0?"Capture":"")],[t,"touchend","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchhold;n!==void 0&&e.oldValue!==e.value&&(typeof e.value!="function"&&n.end(),n.handler=e.value)},beforeUnmount(t){const e=t.__qtouchhold;e!==void 0&&(sn(e,"main"),sn(e,"temp"),e.timer!==void 0&&clearTimeout(e.timer),e.styleCleanup!==void 0&&e.styleCleanup(),delete t.__qtouchhold)}});var j_={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},XC=new RegExp(`^([\\d+]+|${Object.keys(j_).join("|")})$`,"i");Un({name:"touch-repeat",beforeMount(t,{modifiers:e,value:n,arg:i}){const r=Object.keys(e).reduce((l,c)=>{if(XC.test(c)===!0){const u=isNaN(parseInt(c,10))?j_[c.toLowerCase()]:parseInt(c,10);u>=0&&l.push(u)}return l},[]);if(e.mouse!==!0&&je.has.touch!==!0&&r.length===0)return;const o=typeof i=="string"&&i.length!==0?i.split(":").map(l=>parseInt(l,10)):[0,600,300],a=o.length-1,s={keyboard:r,handler:n,noop:zt,mouseStart(l){s.event===void 0&&typeof s.handler=="function"&&mu(l)===!0&&(Lt(s,"temp",[[document,"mousemove","move","passiveCapture"],[document,"click","end","notPassiveCapture"]]),s.start(l,!0))},keyboardStart(l){if(typeof s.handler=="function"&&Fn(l,r)===!0){if((o[0]===0||s.event!==void 0)&&($e(l),t.focus(),s.event!==void 0))return;Lt(s,"temp",[[document,"keyup","end","notPassiveCapture"],[document,"click","end","notPassiveCapture"]]),s.start(l,!1,!0)}},touchStart(l){if(l.target!==void 0&&typeof s.handler=="function"){const c=l.target;Lt(s,"temp",[[c,"touchmove","move","passiveCapture"],[c,"touchcancel","end","notPassiveCapture"],[c,"touchend","end","notPassiveCapture"]]),s.start(l)}},start(l,c,u){function d(p){s.styleCleanup=void 0,document.documentElement.style.cursor="";const f=()=>{document.body.classList.remove("non-selectable")};p===!0?(Kn(),setTimeout(f,10)):f()}u!==!0&&(s.origin=pn(l)),je.is.mobile===!0&&(document.body.classList.add("non-selectable"),Kn(),s.styleCleanup=d),s.event={touch:c!==!0&&u!==!0,mouse:c===!0,keyboard:u===!0,startTime:Date.now(),repeatCount:0};const h=()=>{if(s.timer=void 0,s.event===void 0)return;s.event.repeatCount===0&&(s.event.evt=l,u===!0?s.event.keyCode=l.keyCode:s.event.position=pn(l),je.is.mobile!==!0&&(document.documentElement.style.cursor="pointer",document.body.classList.add("non-selectable"),Kn(),s.styleCleanup=d)),s.event.duration=Date.now()-s.event.startTime,s.event.repeatCount+=1,s.handler(s.event);const p=a<s.event.repeatCount?a:s.event.repeatCount;s.timer=setTimeout(h,o[p])};o[0]===0?h():s.timer=setTimeout(h,o[0])},move(l){s.event!==void 0&&s.timer!==void 0&&function(c,u){const{top:d,left:h}=pn(c);return Math.abs(h-u.left)>=7||Math.abs(d-u.top)>=7}(l,s.origin)===!0&&(clearTimeout(s.timer),s.timer=void 0)},end(l){s.event!==void 0&&(s.styleCleanup!==void 0&&s.styleCleanup(!0),l!==void 0&&s.event.repeatCount>0&&$e(l),sn(s,"temp"),s.timer!==void 0&&(clearTimeout(s.timer),s.timer=void 0),s.event=void 0)}};if(t.__qtouchrepeat=s,e.mouse===!0){const l=e.mouseCapture===!0||e.mousecapture===!0?"Capture":"";Lt(s,"main",[[t,"mousedown","mouseStart",`passive${l}`]])}if(je.has.touch===!0&&Lt(s,"main",[[t,"touchstart","touchStart","passive"+(e.capture===!0?"Capture":"")],[t,"touchend","noop","passiveCapture"]]),r.length!==0){const l=e.keyCapture===!0||e.keycapture===!0?"Capture":"";Lt(s,"main",[[t,"keydown","keyboardStart",`notPassive${l}`]])}},updated(t,{oldValue:e,value:n}){const i=t.__qtouchrepeat;i!==void 0&&e!==n&&(typeof n!="function"&&i.end(),i.handler=n)},beforeUnmount(t){const e=t.__qtouchrepeat;e!==void 0&&(e.timer!==void 0&&clearTimeout(e.timer),sn(e,"main"),sn(e,"temp"),e.styleCleanup!==void 0&&e.styleCleanup(),delete t.__qtouchrepeat)}}),je.is.mobile!==!0||je.is.nativeMobile!==!0&&je.is.winphone!==!0&&je.is.safari!==!0&&je.is.webkit!==!0&&je.is.vivaldi;var ka={};function H_(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||null}function G_(){const t=en.activeEl=en.isActive===!1?null:H_();(function(e){if(e===br)return;if((br=e)===document.body||$a.reduce((i,r)=>r==="dialog"?i+1:i,0)<2)return void Oo.forEach(i=>{i.contains(br)===!1&&br.appendChild(i)});const n=$a.lastIndexOf("dialog");for(let i=0;i<Oo.length;i++){const r=Oo[i];i!==n&&$a[i]==="dialog"||r.contains(br)!==!1||br.appendChild(r)}})(t===null||t===document.documentElement?document.body:t)}function UC(){en.isActive=en.isActive===!1,G_()}function em(t,e){try{const n=t[e]();return n===void 0?Promise.resolve():n}catch(n){return Promise.reject(n)}}var hl,en=lr({isActive:!1,activeEl:null},{isCapable:!1,install({$q:t}){t.fullscreen=this}});ka.request=["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen"].find(t=>document.documentElement[t]!==void 0),en.isCapable=ka.request!==void 0,en.isCapable===!1?(hl=()=>Promise.reject("Not capable"),Object.assign(en,{request:hl,exit:hl,toggle:hl})):(Object.assign(en,{request(t){const e=t||document.documentElement,{activeEl:n}=en;return e===n?Promise.resolve():(n!==null&&e.contains(n)===!0?en.exit():Promise.resolve()).finally(()=>em(e,ka.request))},exit:()=>en.isActive===!0?em(document,ka.exit):Promise.resolve(),toggle:t=>en.isActive===!0?en.exit():en.request(t)}),ka.exit=["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"].find(t=>document[t]),en.isActive=!!H_(),en.isActive===!0&&G_(),["onfullscreenchange","onmsfullscreenchange","onwebkitfullscreenchange"].forEach(t=>{document[t]=UC}));var KC=lr({appVisible:!0},{install({$q:t}){jt(t,"appVisible",()=>this.appVisible)}});{let t,e;if(document.hidden!==void 0?(t="hidden",e="visibilitychange"):document.msHidden!==void 0?(t="msHidden",e="msvisibilitychange"):document.webkitHidden!==void 0&&(t="webkitHidden",e="webkitvisibilitychange"),e&&document[t]!==void 0){const n=()=>{KC.appVisible=!document[t]};document.addEventListener(e,n,!1)}}function tm(t){return encodeURIComponent(t)}function W_(t){return decodeURIComponent(t)}function ZC(t){if(t==="")return t;t.indexOf('"')===0&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),t=W_(t.replace(/\+/g," "));try{const e=JSON.parse(t);e!==Object(e)&&Array.isArray(e)!==!0||(t=e)}catch{}return t}function nm(t){const e=new Date;return e.setMilliseconds(e.getMilliseconds()+t),e.toUTCString()}function im(t,e,n={},i){let r,o;n.expires!==void 0&&(Object.prototype.toString.call(n.expires)==="[object Date]"?r=n.expires.toUTCString():typeof n.expires=="string"?r=function(c){let u=0;const d=c.match(/(\d+)d/),h=c.match(/(\d+)h/),p=c.match(/(\d+)m/),f=c.match(/(\d+)s/);return d&&(u+=864e5*d[1]),h&&(u+=36e5*h[1]),p&&(u+=6e4*p[1]),f&&(u+=1e3*f[1]),u===0?c:nm(u)}(n.expires):(o=parseFloat(n.expires),r=isNaN(o)===!1?nm(864e5*o):n.expires));const a=`${tm(t)}=${s=e,tm(s===Object(s)?JSON.stringify(s):""+s)}`;var s;const l=[a,r!==void 0?"; Expires="+r:"",n.path?"; Path="+n.path:"",n.domain?"; Domain="+n.domain:"",n.sameSite?"; SameSite="+n.sameSite:"",n.httpOnly?"; HttpOnly":"",n.secure?"; Secure":"",n.other?"; "+n.other:""].join("");document.cookie=l}function $c(t,e){const n=document,i=n.cookie?n.cookie.split("; "):[],r=i.length;let o,a,s,l=t?null:{},c=0;for(;c<r;c++)if(o=i[c].split("="),a=W_(o.shift()),s=o.join("="),t){if(t===a){l=ZC(s);break}}else l[a]=s;return l}function QC(t){return{get:e=>$c(e),set:(e,n,i)=>im(e,n,i),has:e=>function(n,i){return $c(n)!==null}(e),remove:(e,n)=>function(i,r,o){im(i,"",{expires:-1,...r})}(e,n),getAll:()=>$c(null)}}ae({name:"BottomSheetComponent",props:{...Ue,title:String,message:String,actions:Array,grid:Boolean,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(t,{emit:e}){const{proxy:n}=we(),i=Ke(t,n.$q),r=$(null);function o(){r.value.hide()}function a(u){e("ok",u),o()}function s(){e("hide")}function l(){const u=[];return t.title&&u.push(m(xr,{class:"q-dialog__title"},()=>t.title)),t.message&&u.push(m(xr,{class:"q-dialog__message"},()=>t.message)),u.push(t.grid===!0?m("div",{class:"row items-stretch justify-start",role:"list"},t.actions.map(d=>{const h=d.avatar||d.img;return d.label===void 0?m(nr,{class:"col-all",dark:i.value}):m("div",{class:["q-bottom-sheet__item q-hoverable q-focusable cursor-pointer relative-position",d.class],style:d.style,tabindex:0,role:"listitem",onClick(){a(d)},onKeyup(p){p.keyCode===13&&a(d)}},[m("div",{class:"q-focus-helper"}),d.icon?m(et,{name:d.icon,color:d.color}):h?m("img",{class:d.avatar?"q-bottom-sheet__avatar":"",src:h}):m("div",{class:"q-bottom-sheet__empty-icon"}),m("div",d.label)])})):m("div",{role:"list"},t.actions.map(d=>{const h=d.avatar||d.img;return d.label===void 0?m(nr,{spaced:!0,dark:i.value}):m(Cs,{class:["q-bottom-sheet__item",d.classes],style:d.style,tabindex:0,clickable:!0,dark:i.value,onClick(){a(d)}},()=>[m(Mi,{avatar:!0},()=>d.icon?m(et,{name:d.icon,color:d.color}):h?m("img",{class:d.avatar?"q-bottom-sheet__avatar":"",src:h}):null),m(Mi,()=>d.label)])}))),u}function c(){return[m(Vy,{class:["q-bottom-sheet q-bottom-sheet--"+(t.grid===!0?"grid":"list")+(i.value===!0?" q-bottom-sheet--dark q-dark":""),t.cardClass],style:t.cardStyle},l)]}return Object.assign(n,{show:function(){r.value.show()},hide:o}),()=>m(Su,{ref:r,position:"bottom",onHide:s},c)}});var _o,Nc,JC={install({$q:t,ssrContext:e}){t.cookies=this}};Object.assign(JC,QC()),ae({name:"DialogPluginComponent",props:{...Ue,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:t=>["ok","cancel","none"].includes(t)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(t,{emit:e}){const{proxy:n}=we(),{$q:i}=n,r=Ke(t,i),o=$(null),a=$(t.prompt!==void 0?t.prompt.model:t.options!==void 0?t.options.model:void 0),s=y(()=>"q-dialog-plugin"+(r.value===!0?" q-dialog-plugin--dark q-dark":"")+(t.progress!==!1?" q-dialog-plugin--progress":"")),l=y(()=>t.color||(r.value===!0?"amber":"primary")),c=y(()=>t.progress===!1?null:on(t.progress)===!0?{component:t.progress.spinner||Zn,props:{color:t.progress.color||l.value}}:{component:Zn,props:{color:l.value}}),u=y(()=>t.prompt!==void 0||t.options!==void 0),d=y(()=>{if(u.value!==!0)return{};const{model:P,isValid:q,items:k,...M}=t.prompt!==void 0?t.prompt:t.options;return M}),h=y(()=>on(t.ok)===!0||t.ok===!0?i.lang.label.ok:t.ok),p=y(()=>on(t.cancel)===!0||t.cancel===!0?i.lang.label.cancel:t.cancel),f=y(()=>t.prompt!==void 0?t.prompt.isValid!==void 0&&t.prompt.isValid(a.value)!==!0:t.options!==void 0&&t.options.isValid!==void 0&&t.options.isValid(a.value)!==!0),v=y(()=>({color:l.value,label:h.value,ripple:!1,disable:f.value,...on(t.ok)===!0?t.ok:{flat:!0},"data-autofocus":t.focus==="ok"&&u.value!==!0||void 0,onClick:x})),w=y(()=>({color:l.value,label:p.value,ripple:!1,...on(t.cancel)===!0?t.cancel:{flat:!0},"data-autofocus":t.focus==="cancel"&&u.value!==!0||void 0,onClick:g}));function b(){o.value.hide()}function x(){e("ok",bi(a.value)),b()}function g(){b()}function _(){e("hide")}function S(P){a.value=P}function C(P){f.value!==!0&&t.prompt.type!=="textarea"&&Fn(P,13)===!0&&x()}function T(P,q){return t.html===!0?m(xr,{class:P,innerHTML:q}):m(xr,{class:P},()=>q)}function L(){return[m(ja,{color:l.value,dense:!0,autofocus:!0,dark:r.value,...d.value,modelValue:a.value,"onUpdate:modelValue":S,onKeyup:C})]}function z(){return[m(lC,{color:l.value,options:t.options.items,dark:r.value,...d.value,modelValue:a.value,"onUpdate:modelValue":S})]}function I(){const P=[];return t.title&&P.push(T("q-dialog__title",t.title)),t.progress!==!1&&P.push(m(xr,{class:"q-dialog__progress"},()=>m(c.value.component,c.value.props))),t.message&&P.push(T("q-dialog__message",t.message)),t.prompt!==void 0?P.push(m(xr,{class:"scroll q-dialog-plugin__form"},L)):t.options!==void 0&&P.push(m(nr,{dark:r.value}),m(xr,{class:"scroll q-dialog-plugin__form"},z),m(nr,{dark:r.value})),(t.ok||t.cancel)&&P.push(function(){const q=[];return t.cancel&&q.push(m(it,w.value)),t.ok&&q.push(m(it,v.value)),m(nS,{class:t.stackButtons===!0?"items-end":"",vertical:t.stackButtons,align:"right"},()=>q)}()),P}function R(){return[m(Vy,{class:[s.value,t.cardClass],style:t.cardStyle,dark:r.value},I)]}return re(()=>t.prompt&&t.prompt.model,S),re(()=>t.options&&t.options.model,S),Object.assign(n,{show:function(){o.value.show()},hide:b}),()=>m(Su,{ref:o,onHide:_},R)}});var rm=0,gr=null,Gt={},vr={},Y_={group:"__default_quasar_group__",delay:0,message:!1,html:!1,spinnerSize:80,spinnerColor:"",messageColor:"",backgroundColor:"",boxClass:"",spinner:Zn,customClass:""},om={...Y_},Jn=lr({isActive:!1},{show(t){Gt=function(n){if(n&&n.group!==void 0&&vr[n.group]!==void 0)return Object.assign(vr[n.group],n);const i=on(n)===!0&&n.ignoreDefaults===!0?{...Y_,...n}:{...om,...n};return vr[i.group]=i,i}(t);const{group:e}=Gt;return Jn.isActive=!0,_o!==void 0?(Gt.uid=rm,Nc.$forceUpdate()):(Gt.uid=++rm,gr!==null&&clearTimeout(gr),gr=setTimeout(()=>{gr=null;const n=Lp("q-loading");_o=fy({name:"QLoading",setup(){function i(){Jn.isActive!==!0&&_o!==void 0&&(kh(!1),_o.unmount(n),qy(n),_o=void 0,Nc=void 0)}function r(){if(Jn.isActive!==!0)return null;const o=[m(Gt.spinner,{class:"q-loading__spinner",color:Gt.spinnerColor,size:Gt.spinnerSize})];return Gt.message&&o.push(m("div",{class:"q-loading__message"+(Gt.messageColor?` text-${Gt.messageColor}`:""),[Gt.html===!0?"innerHTML":"textContent"]:Gt.message})),m("div",{class:"q-loading fullscreen flex flex-center z-max "+Gt.customClass.trim(),key:Gt.uid},[m("div",{class:"q-loading__backdrop"+(Gt.backgroundColor?` bg-${Gt.backgroundColor}`:"")}),m("div",{class:"q-loading__box column items-center "+Gt.boxClass},o)])}return xt(()=>{kh(!0)}),()=>m($t,{name:"q-transition--fade",appear:!0,onAfterLeave:i},r)}},Jn.__parentApp),Nc=_o.mount(n)},Gt.delay)),n=>{n!==void 0&&Object(n)===n?Jn.show({...n,group:e}):Jn.hide(e)}},hide(t){if(Jn.isActive===!0){if(t===void 0)vr={};else{if(vr[t]===void 0)return;{delete vr[t];const e=Object.keys(vr);if(e.length!==0){const n=e[e.length-1];return void Jn.show({group:n})}}}gr!==null&&(clearTimeout(gr),gr=null),Jn.isActive=!1}},setDefaults(t){on(t)===!0&&Object.assign(om,t)},install({$q:t,parentApp:e}){t.loading=this,Jn.__parentApp=e,t.config.loading!==void 0&&this.setDefaults(t.config.loading)}}),pl=$(null),am=lr({isActive:!1},{start:zt,stop:zt,increment:zt,setDefaults:zt,install({$q:t,parentApp:e}){if(t.loadingBar=this,this.__installed===!0)return void(t.config.loadingBar!==void 0&&this.setDefaults(t.config.loadingBar));const n=$(t.config.loadingBar!==void 0?{...t.config.loadingBar}:{});function i(){am.isActive=!0}function r(){am.isActive=!1}const o=Lp("q-loading-bar");fy({name:"LoadingBar",devtools:{hide:!0},setup:()=>()=>m(qw,{...n.value,onStart:i,onStop:r,ref:pl})},e).mount(o),Object.assign(this,{start(a){pl.value.start(a)},stop(){pl.value.stop()},increment(){pl.value.increment.apply(null,arguments)},setDefaults(a){on(a)===!0&&Object.assign(n.value,a)}})}});function e2(t){return fh(t)===!0?"__q_date|"+t.getTime():function(e){return Object.prototype.toString.call(e)==="[object RegExp]"}(t)===!0?"__q_expr|"+t.source:typeof t=="number"?"__q_numb|"+t:typeof t=="boolean"?"__q_bool|"+(t?"1":"0"):typeof t=="string"?"__q_strn|"+t:typeof t=="function"?"__q_strn|"+t.toString():t===Object(t)?"__q_objt|"+JSON.stringify(t):t}function X_(){const t=()=>null;return{has:()=>!1,hasItem:()=>!1,getLength:()=>0,getItem:t,getIndex:t,getKey:t,getAll:()=>{},getAllKeys:()=>[],set:zt,setItem:zt,remove:zt,removeItem:zt,clear:zt,isEmpty:()=>!0}}function U_(t){const e=window[t+"Storage"],n=a=>{const s=e.getItem(a);return s?function(l){if(l.length<9)return l;const c=l.substring(0,8),u=l.substring(9);switch(c){case"__q_date":const d=Number(u);return new Date(Number.isNaN(d)===!0?u:d);case"__q_expr":return new RegExp(u);case"__q_numb":return Number(u);case"__q_bool":return u==="1";case"__q_strn":return""+u;case"__q_objt":return JSON.parse(u);default:return l}}(s):null},i=a=>e.getItem(a)!==null,r=(a,s)=>{e.setItem(a,e2(s))},o=a=>{e.removeItem(a)};return{has:i,hasItem:i,getLength:()=>e.length,getItem:n,getIndex:a=>a<e.length?n(e.key(a)):null,getKey:a=>a<e.length?e.key(a):null,getAll:()=>{let a;const s={},l=e.length;for(let c=0;c<l;c++)a=e.key(c),s[a]=n(a);return s},getAllKeys:()=>{const a=[],s=e.length;for(let l=0;l<s;l++)a.push(e.key(l));return a},set:r,setItem:r,remove:o,removeItem:o,clear:()=>{e.clear()},isEmpty:()=>e.length===0}}var K_=je.has.webStorage===!1?X_():U_("local"),t2={install({$q:t}){t.localStorage=K_}};Object.assign(t2,K_);var Z_=je.has.webStorage===!1?X_():U_("session"),n2={install({$q:t}){t.sessionStorage=Z_}};Object.assign(n2,Z_),B_(["ok","hide"]);const i2={class:"tool-container menuToolList"},r2={title:""},o2={title:""},a2={title:""},s2={title:""},l2={class:"q-pa-sm"},u2={class:"sjz"},c2={class:"xcoor"},d2={class:"ycoor"},h2={style:{margin:"0 auto"}};var Q_=Ii({__name:"menuToolBar",emits:["locate"],setup(t,{emit:e}){const n=e,i=$(!1),r=y(()=>{let v="";return gn.layerTree&&(v="background-color:#ccc"),v});function o(){const v=gn.layerTree;gn.layerTree=!v}const a=y(()=>""),s=y(()=>{let v="";return gn.drawTool&&(v="background-color:#ccc"),v});function l(){const v=gn.drawTool;gn.drawTool=!v}const c=y(()=>{let v="";return gn.measureTool&&(v="background-color:#ccc"),v});function u(){const v=gn.measureTool;gn.measureTool=!v}const d=$(),h=$(),p=$();function f(){d.value!=null&&h.value!=null&&n("locate",d.value,h.value,p.value)}return(v,w)=>(Dt(),Tn("ul",i2,[Ae("li",{onClick:o,style:Sr(r.value)},[Ae("span",r2,[nt(tn(Hi),{icon:"gis:layer-stack-o"})])],4),Ae("li",{onClick:l,style:Sr(s.value)},[Ae("span",o2,[nt(tn(Hi),{icon:"gis:extent-alt"})])],4),Ae("li",{onClick:u,style:Sr(c.value)},[Ae("span",a2,[nt(tn(Hi),{icon:"gis:measure"})])],4),Ae("li",{id:"locationBtn",style:Sr(a.value)},[Ae("span",s2,[nt(tn(Hi),{icon:"gis:position-o"})]),nt(tn(uC),{"model-value":i.value,"transition-show":"flip-up","transition-hide":"flip-down"},{default:kr(()=>[Ae("div",l2,[w[3]||(w[3]=Ae("div",{class:"text-h6 text-center q-mb-md"},"",-1)),Ae("div",u2,[Ae("div",c2,[nt(tn(ja),{dense:"",style:{width:"200px"},modelValue:d.value,"onUpdate:modelValue":w[0]||(w[0]=b=>d.value=b),label:":",placeholder:""},null,8,["modelValue"])]),Ae("div",d2,[nt(tn(ja),{dense:"",style:{width:"200px"},modelValue:h.value,"onUpdate:modelValue":w[1]||(w[1]=b=>h.value=b),label:":",placeholder:""},null,8,["modelValue"])]),Ae("div",null,[nt(tn(ja),{id:"inputNumber",label:":",modelValue:p.value,"onUpdate:modelValue":w[2]||(w[2]=b=>p.value=b),modelModifiers:{number:!0},type:"number",dense:"",style:{"max-width":"200px"},min:1,max:22},null,8,["modelValue"])]),Ae("div",h2,[nt(tn(it),{color:"primary","text-color":"black",label:"",onClick:f})])])])]),_:1},8,["model-value"])],4)]))}});Q_.__file="src/components/MapTools/menuToolBar.vue";var sm=Ii({name:"SwipeToolBar",props:{xmap:{type:Object}},components:{Icon:Hi},setup(t){let e,n=t.xmap;return re(()=>t.xmap,i=>{n=i}),{unload:function(){e&&e.unload()},useFishEyes:function(){if(!n)return;const i=n.LayerManager?.SwipeLayerIndex;if(i!==void 0){if(e)e.unload(),e.load();else{const r=document.getElementById(n.target);e=new sh(r,n),e.setSwipeLayer(i)}e.changeSwipeType(qn.FishEye,100)}else Ol.eventEmit(Zt.MAP_MESSAGE_INFO,"!")},useSwipe:function(i=0){if(!n)return;const r=n.LayerManager?.SwipeLayerIndex;if(r!==void 0){if(e)e.unload(),e.load();else{const o=document.getElementById(n.target);e=new sh(o,n)}e.setSwipeLayer(r),i===0?e.changeSwipeType(qn.RollHorizonl):e.changeSwipeType(qn.RollVertical)}else Ol.eventEmit(Zt.MAP_MESSAGE_INFO,"!")}}}});const p2={class:"tool-container swipeToolList"},f2={title:""},g2={title:""},v2={title:""},m2={title:""};sm.render=function(t,e,n,i,r,o){const a=Wn("Icon");return Dt(),Tn("ul",p2,[Ae("li",{onClick:e[0]||(e[0]=s=>t.useSwipe(0))},[Ae("span",f2,[nt(a,{icon:"gis:swipe-map-v"})])]),Ae("li",{onClick:e[1]||(e[1]=s=>t.useSwipe(1))},[Ae("span",g2,[nt(a,{icon:"gis:swipe-map-h"})])]),Ae("li",{onClick:e[2]||(e[2]=(...s)=>t.useFishEyes&&t.useFishEyes(...s))},[Ae("span",v2,[nt(a,{icon:"gis:screen-mag"})])]),Ae("li",{onClick:e[3]||(e[3]=(...s)=>t.unload&&t.unload(...s))},[Ae("span",m2,[nt(a,{icon:"gis:earth"})])])])},sm.__file="src/components/MapTools/swipeToolBar.vue";var y2=class extends On{constructor(t){t=t||{},super();var e,n=this.input=t.input;n||(n=this.input=document.createElement("INPUT"),t.type&&n.setAttribute("type",t.type),t.min!==void 0&&n.setAttribute("min",t.min),t.max!==void 0&&n.setAttribute("max",t.max),t.step!==void 0&&n.setAttribute("step",t.step),t.parent&&t.parent.appendChild(n)),t.disabled&&(n.disabled=!0),t.checked!==void 0&&(n.checked=!!t.checked),t.val!==void 0&&(n.value=t.val),t.hidden&&(n.style.display="none"),n.addEventListener("focus",function(){this.element&&this.element.classList.add("ol-focus")}.bind(this)),n.addEventListener("focusout",function(){this.element&&(e&&clearTimeout(e),e=setTimeout(function(){this.element.classList.remove("ol-focus")}.bind(this),0))}.bind(this))}_listenDrag(t,e){var n=function(i){this.moving=!0,this.element.classList.add("ol-moving");var r=function(o){o.type==="pointerup"&&(document.removeEventListener("pointermove",r),document.removeEventListener("pointerup",r),document.removeEventListener("pointercancel",r),setTimeout(function(){this.moving=!1,this.element.classList.remove("ol-moving")}.bind(this))),o.target===t&&e(o),o.stopPropagation(),o.preventDefault()}.bind(this);document.addEventListener("pointermove",r,!1),document.addEventListener("pointerup",r,!1),document.addEventListener("pointercancel",r,!1),i.stopPropagation(),i.preventDefault()}.bind(this);t.addEventListener("mousedown",n,!1),t.addEventListener("touchstart",n,!1)}setValue(t){t!==void 0&&(this.input.value=t),this.input.dispatchEvent(new Event("change"))}getValue(){return this.input.value}getInputElement(){return this.input}},Wp=class extends y2{constructor(t){super(t=t||{});var e=this.element=document.createElement("LABEL");t.html instanceof Element?e.appendChild(t.html):t.html!==void 0&&(e.innerHTML=t.html),e.className=("ol-ext-check ol-ext-checkbox "+(t.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(e,this.input),e.appendChild(this.input),e.appendChild(document.createElement("SPAN")),t.after&&e.appendChild(document.createTextNode(t.after)),this.input.addEventListener("change",function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}.bind(this))}isChecked(){return this.input.checked}},_2=class extends Wp{constructor(t){super(t=t||{}),this.element.className=("ol-ext-toggle-switch "+(t.className||"")).trim()}},b2=class extends Wp{constructor(t){super(t=t||{}),this.element.className=("ol-ext-check ol-ext-radio "+(t.className||"")).trim()}},Ct={create:function(t,e){var n;if(e=e||{},t==="TEXT")n=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(n);else for(var i in n=document.createElement(t),/button/i.test(t)&&n.setAttribute("type","button"),e)switch(i){case"className":e.className&&e.className.trim&&n.setAttribute("class",e.className.trim());break;case"text":n.innerText=e.text;break;case"html":e.html instanceof Element?n.appendChild(e.html):e.html!==void 0&&(n.innerHTML=e.html);break;case"parent":e.parent&&e.parent.appendChild(n);break;case"options":if(/select/i.test(t))for(var r in e.options)Ct.create("OPTION",{html:r,value:e.options[r],parent:n});break;case"style":Ct.setStyle(n,e.style);break;case"change":case"click":Ct.addListener(n,i,e[i]);break;case"on":for(var o in e.on)Ct.addListener(n,o,e.on[o]);break;case"checked":n.checked=!!e.checked;break;default:n.setAttribute(i,e[i])}return n},createSwitch:function(t){var e=Ct.create("INPUT",{type:"checkbox",on:t.on,click:t.click,change:t.change,parent:t.parent}),n=Object.assign({input:e},t||{});return new _2(n),e},createCheck:function(t){var e=Ct.create("INPUT",{name:t.name,type:t.type==="radio"?"radio":"checkbox",on:t.on,parent:t.parent}),n=Object.assign({input:e},t||{});return t.type==="radio"?new b2(n):new Wp(n),e},setHTML:function(t,e){e instanceof Element?t.appendChild(e):e!==void 0&&(t.innerHTML=e)},appendText:function(t,e){t.appendChild(document.createTextNode(e||""))},addListener:function(t,e,n,i){typeof e=="string"&&(e=e.split(" ")),e.forEach(function(r){t.addEventListener(r,n,i)})},removeListener:function(t,e,n){typeof e=="string"&&(e=e.split(" ")),e.forEach(function(i){t.removeEventListener(i,n)})},show:function(t){t.style.display=""},hide:function(t){t.style.display="none"},hidden:function(t){return Ct.getStyle(t,"display")==="none"},toggle:function(t){t.style.display=t.style.display==="none"?"":"none"},setStyle:function(t,e){for(var n in e)switch(n){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":typeof e[n]=="number"?t.style[n]=e[n]+"px":t.style[n]=e[n];break;default:t.style[n]=e[n]}},getStyle:function(t,e){var n,i=(t.ownerDocument||document).defaultView;if(i&&i.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=i.getComputedStyle(t,null).getPropertyValue(e);else if(t.currentStyle&&(e=e.replace(/-(\w)/g,function(r,o){return o.toUpperCase()}),n=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(n)))return function(r){var o=t.style.left,a=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=r||0,r=t.style.pixelLeft+"px",t.style.left=o,t.runtimeStyle.left=a,r}(n);return/px$/.test(n)?parseInt(n):n},outerHeight:function(t){return t.offsetHeight+Ct.getStyle(t,"marginBottom")},outerWidth:function(t){return t.offsetWidth+Ct.getStyle(t,"marginLeft")},offsetRect:function(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}},getFixedOffset:function(t){var e={left:0,top:0},n=function(i){if(!i)return e;if(Ct.getStyle(i,"position")==="absolute"&&Ct.getStyle(i,"transform")!=="none"){var r=i.getBoundingClientRect();return e.left+=r.left,e.top+=r.top,e}return n(i.offsetParent)};return n(t.offsetParent)},positionRect:function(t,e){var n=0,i=0,r=function(o){if(o)return n+=o.offsetLeft,i+=o.offsetTop,r(o.offsetParent);var a={top:t.offsetTop+i,left:t.offsetLeft+n};return e&&(a.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,a.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),a.bottom=a.top+t.offsetHeight,a.right=a.top+t.offsetWidth,a};return r(t.offsetParent)},scrollDiv:function(t,e){var n,i,r,o,a,s=!1,l=0,c=0,u=typeof(e=e||{}).onmove=="function"?e.onmove:function(){},d=e.vertical?"screenY":"screenX",h=e.vertical?"scrollTop":"scrollLeft",p=!1,f=0,v=function(){a&&(f++,setTimeout(w))},w=function(){if(a){if(--f)return;var T=t.clientHeight,L=t.scrollHeight;i=T/L,a.style.height=100*i+"%",a.style.top=t.scrollTop/L*100+"%",o.style.height=T+"px",T>L-.5?o.classList.add("ol-100pc"):o.classList.remove("ol-100pc")}},b=function(T){T.target.classList.contains("ol-noscroll")||(p=!1,s=T[d],c=new Date,t.classList.add("ol-move"),T.preventDefault(),window.addEventListener("pointermove",x),Ct.addListener(window,["pointerup","pointercancel"],S))},x=function(T){if(s!==!1){var L=(r?-1/i:1)*(s-T[d]);p=p||Math.round(L),t[h]+=L,(n=new Date)-c&&(l=(l+L/(n-c))/2),s=T[d],c=n,L&&u(!0)}else p=!0},g=function(T){var L=T>0?Math.min(100,T/2):Math.max(-100,T/2);T-=L,t[h]+=L,-1<T&&T<1?(p?setTimeout(function(){t.classList.remove("ol-move")}):t.classList.remove("ol-move"),p=!1,u(!1)):setTimeout(function(){g(T)},40)};if(e.vertical&&e.minibar){var _=function(T){t.removeEventListener("pointermove",_),t.parentNode.classList.add("ol-miniscroll"),a=Ct.create("DIV"),o=Ct.create("DIV",{className:"ol-scroll",html:a}),t.parentNode.insertBefore(o,t),a.addEventListener("pointerdown",function(L){r=!0,b(L)}),e.mousewheel&&(Ct.addListener(o,["mousewheel","DOMMouseScroll","onmousewheel"],function(L){C(L)}),Ct.addListener(a,["mousewheel","DOMMouseScroll","onmousewheel"],function(L){C(L)})),t.parentNode.addEventListener("pointerenter",v),window.addEventListener("resize",v),T!==!1&&v()};t.parentNode?_(!1):t.addEventListener("pointermove",_),t.addEventListener("scroll",function(){v()})}t.style["touch-action"]="none",t.style.overflow="hidden",t.classList.add("ol-scrolldiv"),Ct.addListener(t,["pointerdown"],function(T){r=!1,b(T)}),t.addEventListener("click",function(T){t.classList.contains("ol-move")&&(T.preventDefault(),T.stopPropagation())},!0);var S=function(T){(c=new Date-c)>100||r?l=0:c>0&&(l=((l||0)+(s-T[d])/c)/2),g(e.animate===!1?0:200*l),s=!1,l=0,c=0,t.classList.contains("ol-move")?t.classList.remove("ol-hasClick"):(t.classList.add("ol-hasClick"),setTimeout(function(){t.classList.remove("ol-hasClick")},500)),r=!1,window.removeEventListener("pointermove",x),Ct.removeListener(window,["pointerup","pointercancel"],S)},C=function(T){var L=Math.max(-1,Math.min(1,T.wheelDelta||-T.detail));return t.classList.add("ol-move"),t[h]-=30*L,t.classList.remove("ol-move"),!1};return e.mousewheel&&Ct.addListener(t,["mousewheel","DOMMouseScroll","onmousewheel"],C),{refresh:v}},dispatchEvent:function(t,e){var n;try{n=new CustomEvent(t)}catch{(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,{})}e.dispatchEvent(n)},setCursor:function(t,e){t instanceof du&&(t=t.getTargetElement()),!("ontouchstart"in window)&&t instanceof Element&&(t.style.cursor=e)}},x2=class extends ah{constructor(t){t=t||{};var e=document.createElement("div");t.element=e,super(t),typeof t.offsetBox=="number"?this.offsetBox=[t.offsetBox,t.offsetBox,t.offsetBox,t.offsetBox]:this.offsetBox=t.offsetBox,this.closeBox=t.closeBox,this.onclose=t.onclose,this.onshow=t.onshow,Ct.create("BUTTON",{className:"closeBox"+(t.closeBox?" hasclosebox":""),type:"button",click:function(){this.hide()}.bind(this),parent:e}),t.anchor!==!1&&Ct.create("DIV",{className:"anchor",parent:e}),this.content=Ct.create("DIV",{html:t.html||"",className:"ol-popup-content",parent:e}),t.minibar&&Ct.scrollDiv(this.content,{vertical:!0,mousewheel:!0,minibar:!0}),t.stopEvent&&(e.addEventListener("mousedown",function(n){n.stopPropagation()}),e.addEventListener("touchstart",function(n){n.stopPropagation()})),this._elt=e,this.setPositioning(t.positioning||"auto"),this.setPopupClass(t.popupClass||t.className||"default"),t.anim&&this.addPopupClass("anim"),t.position&&setTimeout(function(){this.show(t.position)}.bind(this))}getClassPositioning(){var t="",e=this.getPositioning();return/bottom/.test(e)&&(t+="ol-popup-bottom "),/top/.test(e)&&(t+="ol-popup-top "),/left/.test(e)&&(t+="ol-popup-left "),/right/.test(e)&&(t+="ol-popup-right "),/^center/.test(e)&&(t+="ol-popup-middle "),/center$/.test(e)&&(t+="ol-popup-center "),t}setClosebox(t){this.closeBox=t,t?this.element.classList.add("hasclosebox"):this.element.classList.remove("hasclosebox")}setPopupClass(t){var e=["ol-popup"];this.getVisible()&&e.push("visible"),this.element.className="";var n=this.getClassPositioning().split(" ").filter(function(i){return i.length>0});t?t.split(" ").filter(function(i){return i.length>0}).forEach(function(i){e.push(i)}):e.push("default"),n.forEach(function(i){e.push(i)}),this.closeBox&&e.push("hasclosebox"),this.element.classList.add.apply(this.element.classList,e)}addPopupClass(t){this.element.classList.add(t)}removePopupClass(t){this.element.classList.remove(t)}setPositioning(t){t!==void 0&&(/auto/.test(t)?(this.autoPositioning=t.split("-"),this.autoPositioning.length==1&&(this.autoPositioning[1]="auto")):this.autoPositioning=!1,(t=t.replace(/auto/g,"center"))=="center"&&(t="bottom-center"),this.setPositioning_(t))}setPositioning_(t){if(this.element){super.setPositioning(t),this.element.classList.remove("ol-popup-top","ol-popup-bottom","ol-popup-left","ol-popup-right","ol-popup-center","ol-popup-middle");var e=this.getClassPositioning().split(" ").filter(function(n){return n.length>0});this.element.classList.add.apply(this.element.classList,e)}}getVisible(){return this.element.classList.contains("visible")}show(t,e){e||typeof t!="string"||(e=t,t=null),t===!0&&(t=this.getPosition());var n=this,i=this.getMap();if(i&&(e&&e!==this.prevHTML&&(this.prevHTML=e,this.content.innerHTML="",e instanceof Element?this.content.appendChild(e):Ct.create("DIV",{html:e,parent:this.content}),Array.prototype.slice.call(this.content.querySelectorAll("img")).forEach(function(s){s.addEventListener("load",function(){try{i.renderSync()}catch{}n.content.dispatchEvent(new Event("scroll"))})})),t)){if(this.autoPositioning){var r=i.getPixelFromCoordinate(t),o=i.getSize(),a=[];this.autoPositioning[0]=="auto"?a[0]=r[1]<o[1]/3?"top":"bottom":a[0]=this.autoPositioning[0],a[1]=r[0]<2*o[0]/3?"left":"right",this.setPositioning_(a[0]+"-"+a[1]),this.offsetBox&&this.setOffset([this.offsetBox[a[1]=="left"?2:0],this.offsetBox[a[0]=="top"?3:1]])}else this.offsetBox&&this.setOffset(this.offsetBox);this.setPosition(t),this.element.parentElement.style.display="",typeof this.onshow=="function"&&this.onshow(),this.dispatchEvent({type:"show"}),this._tout=setTimeout(function(){n.element.classList.add("visible")},0)}}hide(){this.getPosition()!=null&&(typeof this.onclose=="function"&&this.onclose(),this.setPosition(void 0),this._tout&&clearTimeout(this._tout),this.element.classList.remove("visible"),this.dispatchEvent({type:"hide"}))}},w2=class extends x2{constructor(t){(t=t||{}).popupClass=(t.popupClass||"")+" placemark anim",t.positioning="bottom-center",super(t),this.setPositioning=function(){},t.color&&(this.element.style.color=t.color),t.backgroundColor&&(this.element.style.backgroundColor=t.backgroundColor),t.contentColor&&this.setContentColor(t.contentColor),t.size&&this.setRadius(t.size)}show(t,e){t===!0&&(t=this.getPosition()),this.hide(),super.show(t,e)}setColor(t){this.element.style.color=t}setBackgroundColor(t){this._elt.style.backgroundColor=t}setContentColor(t){var e=this.element.getElementsByClassName("ol-popup-content")[0];e&&(e.style.color=t)}setClassName(t){var e=this.element.className;this.element.className="ol-popup placemark ol-popup-bottom ol-popup-center "+(/visible/.test(e)?"visible ":"")+(/anim/.test(e)?"anim ":"")+t}setRadius(t){this.element.style.fontSize=t+"px"}},qh=Ii({name:"ZoomInOut",props:{xmap:{type:Object},hasLayerTree:Ei().def(!1),isInternet:Ei().def(!0),hasFullScreen:Ei().def(!0)},components:{Icon:Hi},emits:["locate"],setup(t,{emit:e}){const n=y(()=>t.hasLayerTree),i=y(()=>t.hasFullScreen),r=y(()=>{let d=t.isInternet;return t.xmap&&(d=d&&t.xmap.isInternet),d});let o=t.xmap;re(()=>t.xmap,d=>{o=d});const a=$(!1),s=y(()=>a.value?"":""),l=y(()=>{let d="";return a.value&&(d="background-color:#ccc"),d}),c=y(()=>{let d="";return gn.layerTree&&(d="background-color:#ccc"),d});let u;return xt(()=>{if(o){const d=o.map.getControls();if(d){const h=d.getArray()[0];o.map.removeControl(h)}}}),{isFullScreen:a,toggleMapScreen:function(){if(a.value)Ux(),setTimeout(()=>{sy()},300);else{const d=o.targetContainer,h=document.getElementById(d);if(h)Cg(h);else{const p=document.getElementById(o.target);p&&Cg(p)}}a.value=!a.value},fullScreenTip:s,fullScreenStyle:l,zoomInOut:function(d=!0){if(!o)return;let h=o.MapView.getZoom()+(d?1:-1);h<=0&&(h=1),o.MapView.setZoom(h)},layerTreeSelected:c,changeLayerTree:function(){const d=gn.layerTree;gn.layerTree=!d},hasLayerTreeRef:n,isInternetRef:r,goHomeView:function(){o.goHomeView()},doGeoLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(d=>{if(d.coords&&o){const h=[d.coords.longitude,d.coords.latitude];u||(u=new w2({contentColor:"#000",autoPan:{animation:{duration:250}}})),o.map.addOverlay(u),u.show(rt.fromLonLat(h,o.MapView.getProjection())),o.zoomToCenter(h,15),setTimeout(()=>{u&&o.map.getOverlays().pop()},2e3)}}):alert("")},hasFullScreenRef:i}}});const S2={class:"tool-container zoomFullList"},C2={title:""},k2={title:""},T2={title:""},E2=["title"],M2={title:""},L2={title:""};qh.render=function(t,e,n,i,r,o){const a=Wn("Icon");return Dt(),Tn("ul",S2,[Ae("li",{onClick:e[0]||(e[0]=s=>t.zoomInOut())},[Ae("span",C2,[nt(a,{icon:"ant-design:plus-outlined"})])]),Ae("li",{onClick:e[1]||(e[1]=s=>t.zoomInOut(!1))},[Ae("span",k2,[nt(a,{icon:"ant-design:minus-outlined"})])]),t.hasLayerTreeRef?(Dt(),Tn("li",{key:0,onClick:e[2]||(e[2]=(...s)=>t.changeLayerTree&&t.changeLayerTree(...s)),style:Sr(t.layerTreeSelected)},[Ae("span",T2,[nt(a,{icon:"gis:layer-stack-o"})])],4)):Cn("v-if",!0),t.hasFullScreenRef?(Dt(),Tn("li",{key:1,onClick:e[3]||(e[3]=(...s)=>t.toggleMapScreen&&t.toggleMapScreen(...s)),style:Sr(t.fullScreenStyle)},[Ae("span",{title:t.fullScreenTip},[t.isFullScreen?(Dt(),Cr(a,{key:1,icon:"ant-design:fullscreen-exit-outlined"})):(Dt(),Cr(a,{key:0,icon:"ant-design:fullscreen-outlined"}))],8,E2)],4)):Cn("v-if",!0),Ae("li",{onClick:e[4]||(e[4]=(...s)=>t.goHomeView&&t.goHomeView(...s))},[Ae("span",M2,[nt(a,{icon:"ant-design:home-outlined"})])]),t.isInternetRef?(Dt(),Tn("li",{key:2,onClick:e[5]||(e[5]=(...s)=>t.doGeoLocation&&t.doGeoLocation(...s))},[Ae("span",L2,[nt(a,{icon:"ant-design:aim-outlined"})])])):Cn("v-if",!0)])},qh.__file="src/components/MapTools/zoomFullBar.vue";const q2={class:"row q-gutter-sm"};var J_=Ii({__name:"contextMenu",props:{xmap:{type:sa,required:!0},replace:{type:Boolean,default:!1},moreMenuList:{type:Array,default:[]},target:{type:[String,Element,Boolean],default:"map"}},emits:["itemClicked"],setup(t,{emit:e}){const n=zC,i=e,r=t,o=[{id:"show-position",label:"",icon:"ic:baseline-info"},{},{id:"zoom-in",label:"",icon:"ic:baseline-zoom-in"},{id:"zoom-out",label:"",icon:"ic:baseline-zoom-out"},{id:"locate-center",label:"",icon:"ion:md-locate"}],a=y(()=>{if(Va(r.target)){const c=r.target;return c.startsWith("#")||c.startsWith(".")?r.target:`#${c}`}return r.target}),s=y(()=>r.replace?r.moreMenuList&&r.moreMenuList.length>0?r.moreMenuList:o:r.moreMenuList&&r.moreMenuList.length>0?[...o,...r.moreMenuList]:o),l=_n("_q_");return(c,u)=>{const d=Wn("Icon");return Dt(),Cr(tn(xs),{"transition-show":"flip-right","transition-hide":"flip-left",target:a.value,"context-menu":""},{default:kr(()=>[nt(tn(L_),{dense:"",style:{"min-width":"100px"}},{default:kr(()=>[(Dt(!0),Tn(Zp,null,rb(s.value,(h,p)=>(Dt(),Tn(Zp,null,[h.id?xn((Dt(),Cr(tn(Cs),{key:0,onClick:f=>function(v){const w=r.xmap;switch(v.id){case"show-position":if(!w)throw new Error("XMap");const b=w.CurrentPosition,x=w.MapView.getProjection(),g=x.getCode();let _="";if(g==="EPSG:4326"||g==="EPSG:4490")_=`${b[0]} ${b[1]}`;else{const R=rt.transformCoordinate(b,x,It("EPSG:4326"));_=`${b[0].toFixed(4)} ${b[1].toFixed(4)}  <br/>${R[0].toFixed(4)} ${R[1].toFixed(4)}`}l.dialog({title:"",message:_,html:!0});break;case"zoom-in":if(!w)throw new Error("XMap");const S=w.MapView,C=S.getZoom(),T=S.getConstrainedZoom(C+1);S.setZoom(T);break;case"zoom-out":if(!w)throw new Error("XMap");const L=w.MapView,z=L.getZoom(),I=L.getConstrainedZoom(z-1);L.setZoom(I);break;case"locate-center":if(!w)throw new Error("XMap");w.MapView.setCenter(w.CurrentPosition);break;default:i("itemClicked",v)}}(h),clickable:""},{default:kr(()=>[nt(tn(Mi),null,{default:kr(()=>[Ae("div",q2,[h.icon?(Dt(),Cr(d,{key:0,icon:h.icon},null,8,["icon"])):Cn("v-if",!0),Ae("span",null,ob(h.label),1)])]),_:2},1024)]),_:2},1032,["onClick"])),[[tn(n)]]):(Dt(),Cr(tn(nr),{key:1}))],64))),256))]),_:1})]),_:1},8,["target"])}}});J_.__file="src/components/MapTools/contextMenu.vue";var Ih=Ii({name:"myOLMap",components:{ZoomFullBar:qh,ContextMenu:J_},props:{mapid:as().def("map"),mapgroup:as().def("map"),hasLayerManager:Ei().def(!1),initTDTLayers:ih().def(["img_w","cia_w"]),viewProjection:yp([String,Zi,Object]).def("EPSG:3857"),defaultCenter:ih().def([108.95,34.5]),viewOptions:mp(),multiWorld:Ei().def(!1),enableContextMenu:Ei().def(!0)},emits:["mapInited"],setup(t,{emit:e}){const n=t.mapid,i=$(t.mapid),r=$(t.mapid+"_Container"),o=t.mapgroup;let a,s=t.viewProjection;re(()=>t.viewProjection,p=>{d(p),h()});const l=y(()=>t.enableContextMenu),c=$();let u;function d(p){a=t.viewOptions??{projection:p,center:t.defaultCenter,zoom:3,multiWorld:t.multiWorld},!a.center&&t.defaultCenter&&(a.center=t.defaultCenter),u&&(u.dispose(),u=void 0,c.value=void 0),u=new sa(n,o,t.hasLayerManager),t.hasLayerManager}function h(){u.initMapView(a),c.value=u;let p=u.WMTSTool;if(t.initTDTLayers){const f=t.initTDTLayers;f&&f.length>0&&f.forEach(v=>{const w=v.toLocaleLowerCase(),b=p.getTDTAlias(w);p.addTDTLayer(v,b)})}e("mapInited",{xmap:u,wmtsTool:p})}return xt(()=>{a||(d(s),h())}),{mapIDRef:i,mapContainerRef:r,mapRef:c,enableMenuComputed:l}}});const I2=["id"],P2={class:"mainMapPanel"},R2=["id"],F2={class:"mapLeftPanel"},A2={class:"mapRightPanel"},O2={key:0,class:"extendmenu"},D2={style:{position:"relative"}};Ih.render=function(t,e,n,i,r,o){const a=Wn("ZoomFullBar"),s=Wn("ContextMenu");return Dt(),Tn("div",{id:t.mapContainerRef,class:"mapContainer"},[Ae("div",P2,[Ae("div",{id:t.mapIDRef,class:"mainMapPanel"},null,8,R2),Ae("div",null,[So(t.$slots,"default")])]),Ae("div",F2,[So(t.$slots,"mapLeftPanel")]),Ae("div",A2,[So(t.$slots,"mapRightPanel",{},()=>[Cn(" "),t.mapRef?(Dt(),Tn("div",O2,[Ae("div",D2,[nt(a,{xmap:t.mapRef,hasLayerTree:!1},null,8,["xmap"])]),Cn("  "),So(t.$slots,"mapRightExtend")])):Cn("v-if",!0)])]),t.enableMenuComputed?(Dt(),Cr(s,{key:0,target:t.mapIDRef,xmap:t.mapRef},null,8,["target","xmap"])):Cn("v-if",!0)],8,I2)},Ih.__file="src/components/OLXmap/index.vue";var lm=Ii({name:"xmapView",props:{hasLayerTree:Ei().def(!1),viewHeight:nh().isRequired,viewWidth:nh().isRequired,mapid:as().def("map"),mapgroup:as().def("map"),viewProjection:yp([String,Zi]).def("EPSG:4326"),initTDTLayers:Array,viewOptions:mp(),multiWorld:Ei().def(!1)},components:{OLXMap:Ih,DrawToolBar:uh,MeasureToolBar:ch,MenuToolBar:Q_},emits:["mapInited"],setup(t,{attrs:e,slots:n,emit:i}){const r=$(t.hasLayerTree),o=$(t.viewHeight),a=$(t.viewWidth),s=$(t.initTDTLayers),l=$(),c=$();let u;function d(v){if(v){if(Va(v))v==="EPSG:4326"&&(s.value=t.initTDTLayers??["vec_c","cva_c"]);else{const w=v.getCode();(w==="EPSG:4326"||w==="EPSG:4490")&&(s.value=t.initTDTLayers??["vec_c","cva_c"])}l.value=v}}d(t.viewProjection),re(()=>t.viewProjection,()=>{const v=t.viewProjection;v&&d(v)}),re(()=>t.viewHeight,v=>{o.value=v}),re(()=>t.viewWidth,v=>{a.value=v});const h=y(()=>`height:${o.value-55}px`),p=y(()=>`width:${a.value-20}px;`),f=y(()=>{const v=o.value,w=a.value;return sy(),`position:relative;width:${w};height:${v}px`});return xt(()=>{}),He(()=>{let v=u?.map;v&&v.dispose()}),{heightStyle:h,widthStyle:p,layerTreeVisible:y(()=>gn.layerTree),mapInitedHandler:function(v){u=v.xmap,c.value=u,i("mapInited",v)},mapRef:c,mainContainStyle:f,hasLayerTreeRef:r,initTDTLayersRef:s,viewProjectionRef:l,mapMenuState:gn,doLocation:function(v,w,b){if(u.map){const x=u.MapView,g=x.getProjection(),_=rt.transformCoordinate([v,w],"EPSG:4326",g);x.setCenter(_),b&&b>=0&&x.setZoom(b)}}}}});const z2={style:{position:"relative"}};lm.render=function(t,e,n,i,r,o){const a=Wn("MenuToolBar"),s=Wn("DrawToolBar"),l=Wn("MeasureToolBar"),c=Wn("OLXMap");return Dt(),Tn("div",{class:"mainViewContent",style:Sr(t.mainContainStyle)},[nt(c,{mapid:t.mapid,viewOptions:t.viewOptions,"multi-world":t.multiWorld,mapgroup:t.mapgroup,hasLayerManager:!0,viewProjection:t.viewProjectionRef,initTDTLayers:t.initTDTLayersRef,onMapInited:t.mapInitedHandler},{mapLeftPanel:kr(()=>[Cn(' class="mapstyle"  '),Cn(' <LayerTree class="layerTree" :style="heightStyle" v-show="layerTreeVisible"></LayerTree> '),Cn("  "),So(t.$slots,"mapLeftPanelGroup")]),mapRightExtend:kr(()=>[Cn(" "),Ae("div",z2,[nt(a,{onLocate:t.doLocation},null,8,["onLocate"]),xn(nt(s,{xmap:t.mapRef},null,8,["xmap"]),[[xl,t.mapMenuState.drawTool]]),xn(nt(l,{xmap:t.mapRef},null,8,["xmap"]),[[xl,t.mapMenuState.measureTool]])]),Cn("  "),So(t.$slots,"extendMenuGroup")]),_:3},8,["mapid","viewOptions","multi-world","mapgroup","viewProjection","initTDTLayers","onMapInited"])],4)},lm.__file="src/components/XMapView/index.vue";export{J_ as E,qh as G,rt as K,lm as L,sm as T,Ih as W,N2 as a,qn as b,Ol as c,sh as d,gn as g,j2 as m,Zt as t,sa as u};
