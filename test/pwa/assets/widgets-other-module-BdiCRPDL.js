import{s as e}from"./pinia-exp-CCKL78AK.js";import{c5 as t,ct as a,bt as l,bn as n,bo as o,bp as i,ca as s,bG as u,c0 as d,bm as r,cu as c,cv as p,b$ as m,cw as f,bi as g,bj as h,cb as v,c9 as _,bP as b,by as y,c1 as k,bK as w,bM as C,bs as M}from"./vendor-f-vxzQBV.js";import{t as S,a as x,k as I,h as L,u as W,L as T,c as O,l as j,p as R}from"./pages-product-module-C_u59JGP.js";import{c as D,s as E,a as A,C as P,P as U,L as V,S as B,U as H,Q as q,Y as z}from"./xframelib-exp-BKAIOAJ1.js";import{a as F,u as N}from"./vue-router-exp-BIFkIkZb.js";import{d as $,w as G,o as X,t as J,e as K,A as Y,r as Q,g as Z,f as ee,m as te,B as ae,p as le,j as ne,z as oe,C as ie,O as se,k as ue,q as de,F as re,n as ce,H as pe,u as me,a7 as fe,x as ge,N as he,v as ve,G as _e,V as be,U as ye,a as ke,s as we,a4 as Ce,i as Me,I as Se}from"./@vue-exp-CvWX4Ub_.js";import{_ as xe,F as Ie,f as Le,c as We,O as Te,W as Oe,a as je,l as Re,e as De,S as Ee}from"./pages-back-module-Bp_gdyMV.js";import{C as Ae}from"./widgets-bigscreen-module-C42S46sK.js";import{S as Pe}from"./pages-system-module-BC4d09-a.js";import{m as Ue,A as Ve,l as Be,n as He}from"./xgis-cesium-exp-9TOOiljh.js";import{i as qe}from"./Cesium-DDfh73kC-v2OV8yh9.js";import"./monaco-editor-exp-Cp7eE-b9.js";const ze={class:"tab-label"},Fe=xe($({__name:"TabMenu",setup(e){const r=S(),c=F(),p=N(),m=ie((()=>r.tabMenus)),f=ie((()=>r.currentTab)),g=ie((()=>r.base?.name));G(p,(()=>{r.AddTabMenu(Object.assign({},p))})),X((()=>{r.AddTabMenu(Object.assign({},p))}));const h=Q(!1);const v=()=>{r.DestroyTabMenu(),r.AddTabMenu(),ce((()=>{c.push({path:"/"})}))};return(e,_)=>{const b=J("Icon");return h.value?Y("",!0):(Z(),K(t,{key:0,dense:"","inline-label":"","outside-arrows":"","mobile-arrows":"",style:{width:"100%"},align:"left",swipeable:"","active-class":"activeTabItem",breakpoint:0},{default:ee((()=>[(Z(!0),te(re,null,ae(m.value,(e=>(Z(),K(a,{key:e.path,exact:"",to:e.fullPath,name:e.path},{default:ee((()=>{return[e.icon?(Z(),K(b,{key:0,size:"1.1rem",icon:e.icon},null,8,["icon"])):Y("",!0),le("span",ze,oe((t=e,t.title)),1),e.name!==g.value?(Z(),K(l,{key:1,class:"tab-close",name:"close",onClick:se((t=>(e=>{e.path===f.value?.path?(r.RemoveTab(e),ce((()=>{c.push({name:f.value?.name})}))):r.RemoveTab(e)})(e)),["prevent","stop"])},null,8,["onClick"])):Y("",!0),ne(s,{"touch-position":"","context-menu":""},{default:ee((()=>[ne(n,{dense:"",bordered:"",separator:"",class:"bg-white text-dark"},{default:ee((()=>[ue((Z(),K(o,{clickable:""},{default:ee((()=>[ne(i,{onClick:t=>(e=>{r.DestroyTabMenu(),r.AddTabMenu(e),e.path!==p.path&&ce((()=>{c.push({path:e.path})}))})(e)},{default:ee((()=>[..._[0]||(_[0]=[de("关闭其他",-1)])])),_:1},8,["onClick"])])),_:2},1024)),[[u],[d]]),ue((Z(),K(o,{clickable:""},{default:ee((()=>[ne(i,{onClick:t=>(e=>{r.RemoveRightTab(e),e.path!==p.path&&ce((()=>{c.push({path:e.path})}))})(e)},{default:ee((()=>[..._[1]||(_[1]=[de("关闭右边",-1)])])),_:1},8,["onClick"])])),_:2},1024)),[[u],[d]]),ue((Z(),K(o,{clickable:""},{default:ee((()=>[ne(i,{onClick:t=>(e=>{r.RemoveLeftTab(e),e.path!==p.path&&ce((()=>{c.push({path:e.path})}))})(e)},{default:ee((()=>[..._[2]||(_[2]=[de("关闭左边",-1)])])),_:1},8,["onClick"])])),_:2},1024)),[[u],[d]]),ue((Z(),K(o,{clickable:""},{default:ee((()=>[ne(i,{onClick:v},{default:ee((()=>[..._[3]||(_[3]=[de("关闭全部",-1)])])),_:1})])),_:1})),[[u],[d]])])),_:2},1024)])),_:2},1024)];var t})),_:2},1032,["to","name"])))),128))])),_:1}))}}}),[["__scopeId","data-v-11d73bd9"]]),Ne=xe($({name:"PageFooter",__name:"PageFooter",setup(e){const t=x(),a=Q(D.Config.UI.CopyRight),l=ie((()=>{const e=t.footerHeight+"px";return{height:e,lineHeight:e}}));return(e,t)=>(Z(),te("div",{class:"row justify-center items-end dc-page-footer",style:pe(l.value)},oe(a.value),5))}}),[["__scopeId","data-v-a099a864"]]),$e={key:0,name:"breadcrumb",style:{margin:"0px 0px 0px 8px"}},Ge=$({name:"Breadcrumbs",__name:"Breadcrumbs",props:{showIcon:{type:Boolean,default:!0}},setup(e){const t=r(),a=I();return(l,n)=>me(t).screen.gt.sm?(Z(),K(c,{key:0,class:"flex items-center mybreadcrumbs","active-color":"none"},{default:ee((()=>[ne(fe,{appear:"","enter-active-class":"animated fadeInRight"},{default:ee((()=>[(Z(!0),te(re,null,ae(me(a).getBreadCrumbs,((t,l)=>(Z(),te(re,null,[t.title?(Z(),K(p,{name:"breadcrumb",label:t.title,icon:e.showIcon?t.icon:void 0,key:l+t.title},{default:ee((()=>[me(a).getBreadCrumbs.length!==l+1?(Z(),te("div",$e," / ")):Y("",!0)])),_:2},1032,["label","icon"])):Y("",!0)],64)))),256))])),_:1})])),_:1})):Y("",!0)}}),Xe=xe($({name:"BaseMenuItem",__name:"BaseMenuItem",props:{myRouter:{default:()=>[]},initLevel:{default:0},layerLevel:{default:0},duration:{default:150},basePath:{default:""},isdefault:{type:Boolean,default:!1}},setup(e){const t=x(),a=N(),l=F(),n=ie((()=>e=>{const l=a.fullPath.indexOf(e.path)>=0;let n=l?" baseRootItemActive":"";return t.leftCollapsed&&(n+=l?" baseBgItemActive ":""),n})),u=ie((()=>e=>a.fullPath.indexOf(e.path)>=0)),r=e=>e.name===a.name,c=e=>-1!==e.path.indexOf("http");return(a,p)=>{const g=J("Icon"),h=J("base-menu-item",!0),v=ge("tooltip");return Z(!0),te(re,null,ae(e.myRouter,((a,p)=>(Z(),te("div",{key:p},[!0!==a.meta?.isHidden?(Z(),te("div",{class:"base-menu-item",key:p},[a.children?(Z(),te(re,{key:1},[me(t).leftCollapsed?ue((Z(),K(o,{key:1,class:he(n.value(a)),style:pe(0===e.initLevel?"width:50px;":""),clickable:""},{default:ee((()=>[ne(i,{side:""},{default:ee((()=>[ne(g,{icon:a.meta?.icon},null,8,["icon"])])),_:2},1024),c(a)?(Z(),K(i,{key:0,side:""},{default:ee((()=>[ne(g,{icon:"mdi:web",width:"10",height:"10"})])),_:1})):Y("",!0),ne(me(s),{square:"",anchor:"top right",self:"top left","transition-show":"scale","transition-hide":"scale"},{default:ee((()=>[ne(h,{"my-router":a.children,"layer-level":e.layerLevel+1,duration:e.duration},null,8,["my-router","layer-level","duration"])])),_:2},1024)])),_:2},1032,["class","style"])),[[v,a.meta?.title,void 0,{"right-end":!0}],[d]]):(Z(),K(m,{"expand-separator":"",duration:e.duration,"default-opened":u.value(a),class:he(n.value(a)),key:a.name,"header-inset-level":e.initLevel},{header:ee((()=>[ne(i,{side:""},{default:ee((()=>[ne(g,{icon:a.meta?.icon},null,8,["icon"])])),_:2},1024),ne(i,null,{default:ee((()=>[de(oe(a.meta?.title),1)])),_:2},1024)])),default:ee((()=>[ne(h,{"my-router":a.children,"init-level":e.initLevel+.2,"layer-level":e.layerLevel+1,duration:e.duration},null,8,["my-router","init-level","layer-level","duration"])])),_:2},1032,["duration","default-opened","class","header-inset-level"]))],64)):ue((Z(),K(o,{key:0,clickable:"","inset-level":e.initLevel,class:he(n.value(a)),style:pe(e.isdefault&&me(t).leftCollapsed&&0===e.initLevel?"padding-left:0px;":""),"active-class":"baseItemActive",active:r(a),onClick:t=>((e,t)=>{const a=t.path,n=a.indexOf("http");if(-1!==n)return f(a.slice(n)),!1;l.push({name:t.name,replace:!0})})(e.basePath,a)},{default:ee((()=>[0===e.layerLevel&&me(t).leftCollapsed?ue((Z(),K(i,{key:0,side:""},{default:ee((()=>[ne(g,{icon:a.meta?.icon},null,8,["icon"])])),_:2},1024)),[[v,a.meta?.title,void 0,{"right-end":!0}]]):(Z(),te(re,{key:1},[ne(i,{side:""},{default:ee((()=>[ne(g,{icon:a.meta?.icon},null,8,["icon"])])),_:2},1024),ne(i,null,{default:ee((()=>[de(oe(a.meta?.title),1)])),_:2},1024),c(a)?(Z(),K(i,{key:0,side:""},{default:ee((()=>[ne(g,{icon:"mdi:web",width:"10",height:"10"})])),_:1})):Y("",!0)],64))])),_:2},1032,["inset-level","class","style","active","onClick"])),[[d]])])):Y("",!0)])))),128)}}}),[["__scopeId","data-v-9c0940cd"]]),Je=$({name:"BaseMenu",__name:"BaseMenu",props:{layoutName:{type:String,required:!1,default:"BackLayout"},isdefault:{type:Boolean,required:!1,default:!1}},setup(e){const t=e,a={right:"1px",borderRadius:"5px",backgroundColor:"#616161",width:"5px"},l=ie((()=>{const e=L();if(!e)return[];const a=t.layoutName,l=e.find((e=>e.name===a))?.children;if(l){return l.sort(((e,t)=>{let a=0,l=0;return e.meta&&null!=e.meta.index&&(a=Number(e.meta.index)),t.meta&&null!=t.meta.index&&(l=Number(t.meta.index)),a-l}))}return l}));return(t,o)=>(Z(),K(g,{"thumb-style":a},{default:ee((()=>[ne(n,null,{default:ee((()=>[ne(Xe,{"my-router":l.value,isdefault:e.isdefault},null,8,["my-router","isdefault"])])),_:1})])),_:1}))}}),Ke=$({name:"DarkMode",__name:"DarkMode",setup:e=>(e,t)=>{const a=J("Icon");return Z(),K(h,{dense:"",flat:"",onClick:t[0]||(t[0]=t=>e.$q.dark.toggle())},{default:ee((()=>[ne(a,{icon:e.$q.dark.isActive?"material-symbols:light-mode":"material-symbols:dark-mode"},null,8,["icon"]),ne(v,null,{default:ee((()=>[de(oe(e.$q.dark.isActive?"浅色模式":"深色模式"),1)])),_:1})])),_:1})}});const Ye=xe($({name:"SideMenuWidget",components:{SideMenu:Je},setup(){const t=x(),{leftCollapsed:a}=e(t),l=Q(t.menuSetting?.minWidth);return{leftCollapsed:a,sideWidth:Q(t.menuSetting?.menuWidth),collapsedWidth:l}}}),[["render",function(e,t,a,l,n,o){const i=J("side-menu");return Z(),K(i,{"layout-name":"BackLayout",style:{height:"100%",width:"100%"}})}]]),Qe=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"})),Ze={key:0,class:"logo"},et=xe($({name:"LogoTitleWidget",__name:"LogoTitleWidget",setup(t){const a=Q(D.Config.UI?.SiteTitle),l=x(),{leftCollapsed:n,showBreadCrumbs:o,showLogo:i}=e(l);return(e,t)=>me(i)?(Z(),te("div",Ze,[t[0]||(t[0]=le("img",{src:"img/logo.png",alt:""},null,-1)),e.$q.screen.gt.sm?ue((Z(),te("h5",{key:0,class:"title"},oe(a.value),513)),[[ve,!me(n)]]):Y("",!0),me(o)?(Z(),K(Ge,{key:1,class:"back-breadcrumbs","show-icon":!1})):Y("",!0)])):Y("",!0)}}),[["__scopeId","data-v-a02fc26e"]]),tt=Object.freeze(Object.defineProperty({__proto__:null,default:et},Symbol.toStringTag,{value:"Module"})),at={key:0,class:"topTabmenu"},lt=xe($({__name:"TabMenuWidget",setup(t){_e((e=>({ddf57f38:o.value})));const a=x(),{leftCollapsed:l,showTabMenu:n}=e(a),o=ie((()=>l.value?a.menuSetting?.minWidth+"px":a.menuSetting?.menuWidth+"px"));return(e,t)=>me(n)?(Z(),te("div",at,[ne(Fe,{style:{"border-bottom":"1px solid #e0e0e0"}})])):Y("",!0)}}),[["__scopeId","data-v-0333e187"]]),nt=Object.freeze(Object.defineProperty({__proto__:null,default:lt},Symbol.toStringTag,{value:"Module"})),ot=$({name:"HeaderTitleWidget",components:{FullScreen:Ie,DarkMode:Ke},setup(){const t=r(),a=x(),l=W(),{leftCollapsed:n}=e(a),o=Q(a.headerSetting.showFullScreen),i=Q(a.headerSetting.showCollapseIcon);const s=ie((()=>l.name+"["+l.DefaultMaxRole+"]")),u=be({headerHeight:T.getHeaderHeight()}),d=Q(window.document.documentElement),c=N(),p=ie((()=>!D.Config.UI?.IsNoLogin));function m(){t.screen.lt.md&&(a.leftCollapsed||a.toggleCollapse())}return X((()=>{m(),E.windowResizeHandler(m)})),{...ye(u),doLogout:()=>{t.dialog({title:"退出",message:"您确定要退出登录吗？",cancel:!0}).onOk((()=>{l.clear(),D.Message.msg("成功退出登录"),window.open(window.location.pathname,"_self")})).onCancel((()=>{}))},route:c,isNOLogin:p,fullScreenElem:d,roleRef:s,showUserModal:function(){A({modalID:"changeMyPWD",extraData:{title:"修改密码"},width:500,rowData:void 0})},leftCollapsed:n,toggleCollapse:function(){a.toggleCollapse()},showFullScreen:o,showCollapseIcon:i,userState:l}}}),it={class:"right-options fr"},st={class:"q-gutter-sm row items-center no-wrap"};const ut=xe(ot,[["render",function(e,t,a,l,u,d){const r=J("Icon"),c=J("FullScreen"),p=J("DarkMode");return Z(),te("div",it,[le("div",st,[ne(h,{dense:"",flat:"",href:"https://github.com",target:"_blank"},{default:ee((()=>[ne(r,{icon:"fa-github"}),ne(v,null,{default:ee((()=>[...t[0]||(t[0]=[de("github",-1)])])),_:1})])),_:1}),le("span",null,[e.showCollapseIcon?(Z(),K(r,{key:0,icon:e.leftCollapsed?"ant-design:menu-unfold-outlined":"ant-design:menu-fold-outlined",onClick:e.toggleCollapse},null,8,["icon","onClick"])):Y("",!0)]),e.showFullScreen&&e.$q.screen.gt.sm?(Z(),K(c,{key:0,target:e.fullScreenElem},null,8,["target"])):Y("",!0),ne(p),e.isNOLogin?(Z(),K(h,{key:1,round:"",flat:""},{default:ee((()=>[ne(_,{color:"primary","text-color":"white"},{default:ee((()=>[de(oe(e.userState.name),1)])),_:1}),ne(s,null,{default:ee((()=>[ne(n,{dense:""},{default:ee((()=>[ne(o,null,{default:ee((()=>[ne(i,null,{default:ee((()=>[...t[1]||(t[1]=[le("div",null,[de(" 角色： "),le("br"),le("strong",null,"1111")],-1)])])),_:1})])),_:1}),ne(b),ne(o,{clickable:"",class:"outlist"},{default:ee((()=>[ne(i,{onClick:e.showUserModal},{default:ee((()=>[le("div",null,[ne(r,{icon:"ant-design:info-circle-outlined"}),t[2]||(t[2]=le("span",null,"修改密码",-1))])])),_:1},8,["onClick"])])),_:1}),ne(b),ne(o,{clickable:"",class:"outlist"},{default:ee((()=>[ne(i,{onClick:e.doLogout},{default:ee((()=>[le("div",null,[ne(r,{icon:"ant-design:logout-outlined"}),t[3]||(t[3]=le("span",null,"退出登录",-1))])])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})):Y("",!0)])])}],["__scopeId","data-v-aaeef3cb"]]),dt=Object.freeze(Object.defineProperty({__proto__:null,default:ut},Symbol.toStringTag,{value:"Module"})),rt={class:"footerWidget"},ct=xe($({name:"FooterCopyrightWidget",__name:"FooterCopyrightWidget",setup(e){_e((e=>({v56148310:n.value})));const t=x(),a=Q(""),l=ie((()=>({marginTop:`-${t.footerHeight+"px"}`}))),n=ie((()=>t.footerHeight+"px"));return X((()=>{Le((e=>{a.value="提示："+e}))})),(e,t)=>(Z(),te("div",rt,[ne(Ne),le("div",{class:"msginfo",style:pe(l.value)},oe(a.value),5)]))}}),[["__scopeId","data-v-587996fd"]]),pt=Object.freeze(Object.defineProperty({__proto__:null,default:ct},Symbol.toStringTag,{value:"Module"}));const mt=xe($({name:"ModalContainerWidget",components:{ModalContainer:We},setup(e,t){const a=Q(500),l=Q(),n=Q(),o=Q(!1),i=we();function s(e){const{modalID:t,extraData:s,rowData:u,width:d}=e;n.value=void 0,n.value=s,a.value=d??500,o.value=!1,t&&(l.value=u,Re(t).then((e=>{o.value=!0,i.value=e})))}return X((()=>{Te(Oe.ModalContainerWidget_LoadModal,s)})),ke((()=>{je(Oe.ModalContainerWidget_LoadModal,s)})),{modalContentRef:i,modalVisibleRef:o,extraRef:n,recordData:l,modalWidthRef:a}}}),[["render",function(e,t,a,l,n,o){const i=J("ModalContainer");return Z(),K(i,{width:e.modalWidthRef,content:e.modalContentRef,visible:e.modalVisibleRef,extra:e.extraRef,data:e.recordData},null,8,["width","content","visible","extra","data"])}]]),ft=Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"})),gt={class:"menuBarWidget"},ht=xe($({__name:"MainMenuBarWidget",setup(e,{expose:t}){const a=Q(!0);return t({changeVisible:function(e=!1){a.value=e},isShow:a}),(e,t)=>ue((Z(),te("div",gt,[ne(Ae,{layoutID:"bigScreenLayout",iconColor:"#333",iconSize:"50"})],512)),[[ve,a.value]])}}),[["__scopeId","data-v-c4991c15"]]),vt=Object.freeze(Object.defineProperty({__proto__:null,default:ht},Symbol.toStringTag,{value:"Module"}));function _t(e,t){let a;for(const l of e){if(l.path===t){a=l;break}if(l.children){const e=_t(l.children,t);if(e){a=e;break}}}return a}const bt=["id"],yt=$({__name:"index",setup(e,{expose:t}){const a=Q([]),l=Q(""),n=Ce(),o=n?.proxy?.$options.id,i=n?.proxy?.$options.layoutID,s=Q(o);X((()=>{l.value=i;const e=_t(O,o);e&&a.value.push(...e.children)}));let u=!1;function d(e){"XMapContainerWidget"!==e.path&&"XMapContainerWidget-ol"!==e.path&&"SyncCesiumWidget"!==e.path||(u=!u,De(Pe.System_WindowHalfSize,u?2:0))}const r=Q(!0);return t({changeVisible:function(e=!1){r.value=e},isShow:r}),(e,t)=>(Z(),te("div",{id:s.value},[ue(ne(Ae,{menuData:a.value,layoutID:l.value,class:"currentChildMenu",onItemClick:d},null,8,["menuData","layoutID"]),[[ve,r.value]])],8,bt))}}),kt=Object.freeze(Object.defineProperty({__proto__:null,default:yt},Symbol.toStringTag,{value:"Module"})),wt=$({__name:"XWindowWidgetTemplate",setup(e,{expose:t}){const a=Q("xwindowWidgetTemplate");let l="";function n(e){l=e.id}function o(e){a.value=e.pid,e.pid&&D.LayoutManager?.unloadWidget(a.value)}X((()=>{setTimeout((()=>{const e=D.getLayoutManager(a.value);e?.changeWidgetVisible(a.value,!0)}),8e3)}));const i=Q(!0);return t({changeVisible:function(e=!1){i.value=e,l&&e&&U.openWindowPanel(l)},isShow:i}),(e,t)=>ue((Z(),K(me(P),{top:"10px",left:"10px",nWidth:"300px",nHeight:"400px",title:"XWindowWidget模版",icon:"img/logo.png",hasMax:!0,pid:"widgetID",onLoaded:n,onClose:o},{default:ee((()=>[...t[0]||(t[0]=[le("span",null,"这是XWindowWidget模版，窗体的内容示例",-1)])])),_:1},512)),[[ve,i.value]])}}),Ct=Object.freeze(Object.defineProperty({__proto__:null,default:wt},Symbol.toStringTag,{value:"Module"})),Mt=$({setup(){window.XGIS_KEY="B9AE072D2438ABB48815EE96E50E450B",X((()=>{if(D.SyncCesiumViewer=function(){try{const e=new Ve("cesiumContainer2");return e.clock.currentTime=qe.JulianDate.fromDate(new Date),e.scene.globe.depthTestAgainstTerrain=!0,e}catch(e){D.Message.err("Cesium Viewer初始化失败！"),D.Logger().error("Cesium Viewer初始化失败",e)}}(),D.SyncCesiumViewer){D.LayoutManager?.loadWidget("Sync3DWidget");const e=D.SyncCesiumViewer;D.Config.enableCache&&e.enableOfflineCache(),e.setBasicLayer("ARCGIS_IMG");const t="https://3dtiles.gis.digsur.com/model/4a811ae1-322a-4ccd-bd47-ac1cae5809a5/tileset.json";Ue.load3DTilesLayer(t,e,"九眼楼长城-冬季","倾斜摄影",!1)}})),ke((()=>{D.LayoutManager?.unloadWidget("Sync3DWidget")}))}}),St={id:"cesiumContainer2",class:"xgisViewerContainer2"};const xt=xe(Mt,[["render",function(e,t,a,l,n,o){return Z(),te("div",St)}],["__scopeId","data-v-9fb03368"]]),It=Object.freeze(Object.defineProperty({__proto__:null,default:xt},Symbol.toStringTag,{value:"Module"})),Lt=$({__name:"Sync3DWidget",setup(e){let t,a;function l(){try{a&&(a.off(Be.WHEEL,s),a.off(Be.LEFT_UP,s),a.off(He.CAMERA_CHANGED,s))}catch(e){}try{t&&(t.off(Be.WHEEL,i),t.off(Be.LEFT_UP,i),t.off(He.CAMERA_CHANGED,i))}catch(e){}}function n(){l(),t&&(t.on(Be.WHEEL,i),t.on(Be.LEFT_UP,i),t.on(He.CAMERA_CHANGED,i))}function o(){l(),a&&(a.on(Be.WHEEL,s),a.on(Be.LEFT_UP,s),a.on(He.CAMERA_CHANGED,s))}function i(){if(t&&a){const e=t.camera.position,l=t.camera.heading,n=t.camera.pitch,o=t.camera.roll;e&&a.camera.setView({destination:e,orientation:{heading:l,pitch:n,roll:o}})}}function s(){if(t&&a){const e=a.camera.position,l=a.camera.heading,n=a.camera.pitch,o=a.camera.roll;e&&t.camera.setView({destination:e,orientation:{heading:l,pitch:n,roll:o}})}}return X((()=>{t=D.CesiumViewer,t&&t.on(Be.MOUSE_MOVE,n),a=D.SyncCesiumViewer,a&&a.on(Be.MOUSE_MOVE,o)})),ke((()=>{t&&t.off(Be.MOUSE_MOVE,n),a&&a.off(Be.MOUSE_MOVE,o)})),(e,t)=>(Z(),te("div"))}}),Wt=Object.freeze(Object.defineProperty({__proto__:null,default:Lt},Symbol.toStringTag,{value:"Module"}));var Tt=(e=>(e[e.Widget=0]="Widget",e[e.Route=1]="Route",e[e.URL=2]="URL",e[e.Action=3]="Action",e))(Tt||{});function Ot(e,t=[]){return e.forEach((e=>{if(e.children){const a={label:e.meta?.title??"无",children:new Array};t.push(a),Ot(e.children,a.children)}else t.push({label:e.meta?.title??"无",kind:1,name:e.name})})),t}const jt={class:"row gt-xs q-py-md q-gutter-xs"},Rt=$({__name:"PageMenu",props:{data:{type:Array,required:!0}},setup(e){const t=Q(e.data),a=F(),l=N();function s(e){if(e.children){let t=!1;if(e.children.forEach((e=>{e.name!=l.name&&e.path!==l.path||(t=!0)})),t)return" pagemenuActive"}else if(e.name==l.name||e.path===l.path)return"pagemenuActive";return""}const d=Q();function r(e,t){const a=e.label;if(!d.value)return d.value=e,void(e.state=t);d.value.label!=a&&(d.value.state=!1),d.value=e,e.state=t}function c(e){if(e&&!e.children&&(e.path||e.name))switch(e.kind){case void 0:case Tt.Route:e.blank?V(a,e.path,{}):e.name?a.push({name:e.name}):e.path&&a.push({path:e.path});break;case Tt.URL:window.open(e.path,"_blank");break;case Tt.Action:D.EventBus.emit("IPageMenu.Action",e);break;case Tt.Widget:D.EventBus.emit("LayoutLoadWidget",e)}}return(e,a)=>(Z(),te("div",jt,[(Z(!0),te(re,null,ae(t.value,((e,t)=>(Z(),te(re,{key:e.label},[e.children?(Z(),K(y,{key:0,"model-value":e.state,"onUpdate:modelValue":t=>e.state=t,"transition-show":"flip-right","transition-hide":"flip-left",flat:"",label:e.label,class:he([s(e),"pageMenuItem"]),onMouseover:t=>r(e,!0)},{default:ee((()=>[ne(n,{style:{"min-width":"100px"},onMouseover:t=>r(e,!0),onMouseleave:t=>r(e,!1)},{default:ee((()=>[(Z(!0),te(re,null,ae(e.children,((e,t)=>(Z(),te(re,{key:e.label},[ue((Z(),K(o,{clickable:"",class:he([s(e),"pageMenuItem"]),onClick:t=>c(e)},{default:ee((()=>[ne(i,null,{default:ee((()=>[de(oe(e.label),1)])),_:2},1024)])),_:2},1032,["class","onClick"])),[[u]]),ne(b)],64)))),128))])),_:2},1032,["onMouseover","onMouseleave"])])),_:2},1032,["model-value","onUpdate:modelValue","label","class","onMouseover"])):(Z(),K(h,{key:1,flat:"",label:e.label,class:he([s(e),"pageMenuItem"]),onClick:t=>c(e),onMouseover:t=>r(e,!1)},null,8,["label","class","onClick","onMouseover"]))],64)))),128))]))}}),Dt={class:"test11"},Et={class:"topHeaderWidget"},At={key:0},Pt={class:"rightmenu"},Ut={class:"absolute-top-right q-ma-md",style:{width:"140px"}},Vt={class:"q-gutter-md row items-center no-wrap"},Bt={style:{"text-transform":"none"}},Ht=xe($({__name:"PortalHeaderTitleWidget",setup(t){const a=Q([]);Ot(j(),a.value);const l=r(),u=Q(D.Config.UI?.SiteTitle),d=x(),c=W();c.id&&Ot(R.children,a.value);const{leftCollapsed:p}=e(d),m=Q(d.headerSetting.centerTitle),f=Q(d.headerSetting.showFullScreen),g=Q(d.headerSetting.showCollapseIcon);function _(){d.toggleCollapse()}const y=Q(window.document.documentElement),k=N(),w=F(),C=Q(k.name);function M(e){return C.value===e?"border-bottom:solid 3px #33f":"border-bottom:unset;"}G((()=>k.name),(e=>{e&&(C.value=e.toString())}));const S=()=>{l.dialog({title:"退出",message:"您确定要退出登录吗？",cancel:!0}).onOk((()=>{c.clear(),D.Message.msg("成功退出登录"),window.open(window.location.pathname,"_self")})).onCancel((()=>{}))},I=ie((()=>!D.Config.UI?.IsNoLogin&&c.name));function L(){A({modalID:"changeMyPWD",extraData:{title:"修改密码"},width:500,rowData:void 0})}function T(){w.push({path:"/"})}function O(){A({modalID:"loginModal",extraData:{title:"内部管理系统"},rowData:{},width:700})}function E(){B({modalID:"loginModal"}),Ot(R.children,a.value)}return X((()=>{Te(Pe.UserLoginSuccess,E)})),ke((()=>{je(Pe.UserLoginSuccess,E)})),(e,t)=>{const d=J("Icon");return Z(),te("div",Dt,[le("div",Et,[ne(me(Rt),{data:a.value,class:"q-mx-md"},null,8,["data"]),le("div",{class:"centerTitle",onClick:T},[m.value?(Z(),te("span",At,oe(u.value),1)):Y("",!0),t[0]||(t[0]=le("div",{class:"title"},"Worldwide Coordinate Systems Online Service",-1))]),le("ul",Pt,[le("li",null,[le("a",{href:"/#/epsg/4326",style:pe(M("epsg-info"))},"EPSG详情",4)]),le("li",null,[le("a",{href:"/#/index",style:pe(M("transform"))},"坐标转换",4)]),le("li",null,[le("a",{href:"/#/api",style:pe(M("api"))},"API接口",4)])])]),le("div",Ut,[le("div",Vt,[le("span",null,[g.value?(Z(),K(d,{key:0,icon:me(p)?"ant-design:menu-unfold-outlined":"ant-design:menu-fold-outlined",onClick:_},null,8,["icon"])):Y("",!0)]),f.value&&me(l).screen.gt.sm?(Z(),K(Ie,{key:0,target:y.value},null,8,["target"])):Y("",!0),ne(Ke),I.value?(Z(),K(h,{key:2,flat:"","text-color":"white"},{default:ee((()=>[le("span",Bt,oe(me(c).name),1),ne(s,null,{default:ee((()=>[ne(n,{dense:""},{default:ee((()=>[ne(o,null,{default:ee((()=>[ne(i,null,{default:ee((()=>[le("div",null,[t[2]||(t[2]=de(" 角色： ",-1)),t[3]||(t[3]=le("br",null,null,-1)),le("strong",null,oe(me(c).DefaultMaxRole),1)])])),_:1})])),_:1}),ne(b),ne(o,{clickable:"",class:"outlist"},{default:ee((()=>[ne(i,{onClick:L},{default:ee((()=>[le("div",null,[ne(d,{icon:"ant-design:info-circle-outlined"}),t[4]||(t[4]=le("span",null,"修改密码",-1))])])),_:1})])),_:1}),ne(b),ne(o,{clickable:"",class:"outlist"},{default:ee((()=>[ne(i,{onClick:S},{default:ee((()=>[le("div",null,[ne(d,{icon:"ant-design:logout-outlined"}),t[5]||(t[5]=le("span",null,"退出登录",-1))])])),_:1})])),_:1})])),_:1})])),_:1}),ne(v,null,{default:ee((()=>[de("角色:"+oe(me(c).DefaultMaxRole),1)])),_:1})])),_:1})):(Z(),K(h,{key:1,dense:"",flat:"",onClick:O},{default:ee((()=>[ne(d,{icon:"grommet-icons:login"}),ne(v,null,{default:ee((()=>[...t[1]||(t[1]=[de("用户登录",-1)])])),_:1})])),_:1}))])])])}}}),[["__scopeId","data-v-d7e6a879"]]),qt=Object.freeze(Object.defineProperty({__proto__:null,default:Ht},Symbol.toStringTag,{value:"Module"})),zt={key:0,class:"logo"},Ft=xe($({name:"LogoTitleWidget",__name:"LogoTitleWidget",setup(t){const a=Q(D.Config.UI?.SiteTitle),l=x(),{leftCollapsed:n,showLogo:o}=e(l);return(e,t)=>me(o)?(Z(),te("div",zt,[t[0]||(t[0]=le("img",{src:"img/logo.png",alt:""},null,-1)),e.$q.screen.gt.sm?ue((Z(),te("h2",{key:0,class:"title"},oe(a.value),513)),[[ve,!me(n)]]):Y("",!0)])):Y("",!0)}}),[["__scopeId","data-v-adb985e9"]]),Nt=Object.freeze(Object.defineProperty({__proto__:null,default:Ft},Symbol.toStringTag,{value:"Module"})),$t=$({__name:"ItemMultiple",props:{trueItem:{default:function(){return null},type:Object},initLevel:{type:Number,default:0}},setup(e){const t=x(),a=N(),l=e,{trueItem:n,initLevel:o}=ye(l),s=ie((()=>t.leftCollapsed&&!t.overlayMenu?"margin-left:-16px":""));G(a,(()=>{d()})),X((()=>{d()}));const u=Q(!1),d=()=>{for(const e of n.value.children)if(e.path===a.path||e.parent_code===a.name)return void(u.value=!0);u.value=!1};return(e,t)=>{const a=J("Icon");return Z(),K(m,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),group:me(n).name,"header-inset-level":me(o)},{header:ee((()=>[ne(i,{avatar:"",style:pe(s.value)},{default:ee((()=>[ne(a,{icon:me(n).meta?.icon},null,8,["icon"])])),_:1},8,["style"]),ne(i,{style:{"margin-left":"-10px"}},{default:ee((()=>[de(oe(me(n).meta?.title??me(n).label),1)])),_:1})])),default:ee((()=>[Me(e.$slots,"default")])),_:3},8,["modelValue","group","header-inset-level"])}}}),Gt=xe($({__name:"ItemSingle",props:{trueItem:{default:function(){return{}},type:Object},initLevel:{type:Number,default:0}},setup(e){r();const t=F(),a=N(),l=e,{trueItem:n,initLevel:s}=ye(l),u=ie((()=>a.name===n.value.name||a.path===n.value.path));return(e,a)=>{const l=J("Icon");return ue((Z(),K(o,{clickable:"",exact:"","inset-level":me(s),active:u.value,"active-class":e.darkThemeSelect,onClick:a[0]||(a[0]=e=>(e=>{if(e.kind){const a=e;switch(a.kind){case Tt.Route:a.blank?V(t,a.path,{}):a.name?t.push({name:a.name}):a.path&&t.push({path:a.path});break;case Tt.URL:window.open(a.path,"_blank");break;case Tt.Action:D.EventBus.emit("IPageMenu.Action",a);break;case Tt.Widget:D.EventBus.emit("LayoutLoadWidget",a)}}else e.path&&H(e.path)||e.link?window.open(e.path):t.push({name:e.name})})(me(n)))},{default:ee((()=>[ne(i,{avatar:""},{default:ee((()=>[ne(l,{icon:me(n).meta?.icon??me(n).icon},null,8,["icon"])])),_:1}),ne(i,{style:{"margin-left":"-10px"}},{default:ee((()=>[de(oe(me(n).meta?.title??me(n).label),1)])),_:1})])),_:1},8,["inset-level","active","active-class"])),[[d]])}}}),[["__scopeId","data-v-7e806b92"]]),Xt=$({__name:"SideMenuBarItem",props:{childrenItem:{default:function(){return{}},type:Object},initLevel:{type:Number,default:0}},setup(e){const t=e,{childrenItem:a,initLevel:l}=ye(t),n=ie((()=>a.value.children&&0!==a.value.children.length?$t:Gt));return(e,t)=>{const o=J("SideMenuBarItem",!0);return Z(),K(Se(n.value),{"true-item":me(a),"init-level":me(l)},{default:ee((()=>[me(a).children&&0!==me(a).children.length?(Z(!0),te(re,{key:0},ae(me(a).children,(e=>(Z(),K(o,{key:e.path,"children-item":e,"init-level":me(l)+.3},null,8,["children-item","init-level"])))),128)):Y("",!0)])),_:1},8,["true-item","init-level"])}}}),Jt=xe($({__name:"index",props:{topMenuChildren:{type:Object||Array,required:!1,default:()=>null}},setup(e){const t=r(),a=ie((()=>t.dark.isActive?"bg-grey-10 text-white":"bg-white text-dark")),l=e,{topMenuChildren:o}=ye(l);return D.Loading("SideMenuBar"),(e,t)=>(Z(),K(g,{style:{height:"calc(100%)"},class:he(a.value)},{default:ee((()=>[Me(e.$slots,"default",{},void 0,!0),ne(n,{class:"menu-list"},{default:ee((()=>[(Z(!0),te(re,null,ae(me(o),((e,t)=>(Z(),K(Xt,{key:t,"children-item":e,"init-level":0,style:{}},null,8,["children-item"])))),128))])),_:1})])),_:3},8,["class"]))}}),[["__scopeId","data-v-62e09f13"]]),Kt={class:"row"},Yt={class:"col-11 row justify-end items-center"},Qt={class:"col-1 justify-center q-py-md"},Zt={class:"q-gutter-sm row items-center no-wrap"},ea=$({__name:"TopMenuWidget",setup(t){const a=[{label:"首页",icon:"ant-design:home-outlined",kind:Tt.Route,path:"/product/index"},{label:"帝测时空云平台",kind:Tt.Route,path:"/product/productPage"},{label:"解决方案",children:[{label:"智慧农业",kind:Tt.URL,path:"https://www.baidu.com"},{label:"智慧水利",kind:Tt.Route,path:"/river"},{label:"智慧物流",kind:Tt.URL,path:"https://www.126.com"}]},{label:"项目案例",children:[{label:"农业项目",kind:Tt.URL,path:"https://www.baidu.com"},{label:"水利项目",kind:Tt.Route,path:"/river"}]},{label:"API示例",kind:Tt.Route,path:"/product/apiexamples"},{label:"联系我们",kind:Tt.URL,path:"/product/contract"}],l=Q(!1),n=r();Q(D.Config.UI?.SiteTitle);const o=x();W();const{leftCollapsed:i}=e(o);Q(o.headerSetting.centerTitle);const s=Q(o.headerSetting.showFullScreen),u=Q(o.headerSetting.showCollapseIcon);function d(){o.toggleCollapse()}be({headerHeight:T.getHeaderHeight()});const c=Q(window.document.documentElement);function p(){l.value=!l.value}return N(),F(),(e,t)=>{const o=J("Icon"),r=ge("tooltip");return Z(),te(re,null,[le("div",Kt,[le("div",Yt,[ne(me(Rt),{data:a})]),le("div",Qt,[le("div",Zt,[ue((Z(),K(h,{class:"lt-sm",dense:"",flat:"",size:"md",round:"",onClick:p},{default:ee((()=>[ne(o,{icon:"whh:dropmenu",width:"100",height:"100"})])),_:1})),[[r,"菜单列表"]]),ne(h,{dense:"",flat:"",href:"https://github.com",target:"_blank"},{default:ee((()=>[ne(o,{icon:"fa-github"}),ne(v,null,{default:ee((()=>[...t[1]||(t[1]=[de("github",-1)])])),_:1})])),_:1}),le("span",null,[u.value&&me(n).screen.gt.sm?(Z(),K(o,{key:0,icon:me(i)?"ant-design:menu-unfold-outlined":"ant-design:menu-fold-outlined",onClick:d},null,8,["icon"])):Y("",!0)]),s.value&&me(n).screen.gt.sm?(Z(),K(Ie,{key:0,target:c.value},null,8,["target"])):Y("",!0)])])]),me(n).screen.lt.sm?(Z(),K(w,{key:0,view:"hHH lpR fFf"},{default:ee((()=>[ne(k,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),side:"right",bordered:""},{default:ee((()=>[ue((Z(),K(h,{dense:"",flat:"",round:"",onClick:p},{default:ee((()=>[ne(o,{icon:"codicon:chrome-close"})])),_:1})),[[r,"菜单列表"]]),ne(Jt,{"top-menu-children":a})])),_:1},8,["modelValue"])])),_:1})):Y("",!0)],64)}}}),ta=Object.freeze(Object.defineProperty({__proto__:null,default:ea},Symbol.toStringTag,{value:"Module"})),aa={class:"frontcontainer"},la={class:"editorBar row justify-center items-middle"},na={class:"q-mr-md q-gutter-md"},oa={class:"rightBtn q-px-sm"},ia="frontLayoutWidget",sa=xe($({__name:"FrontLayoutContainerWidget",setup(e,{expose:t}){const a=F(),l=N(),n=Q(),o=Q(ia);function i(){s.value=!1,r.value=!1,c.value="",D.gui&&(D.gui.destroy(),D.gui=void 0);const e=l.query?.wid;if(e){const t=D.LayoutMap.get(ia);t&&("MapViewerWidget"==e?t.unloadWidget(e.toString()):(t.unloadWidget(e.toString()),setTimeout((()=>{t.unloadWidget("MapViewerWidget")}),500)))}a.push({query:void 0})}const s=Q(!0);t({changeVisible:function(e=!1){s.value=e},isShow:s});const u=Q("0px"),d=Q(""),r=Q(!1),c=Q("");function p(){u.value="0px",r.value=!1}function m(){if(d.value){const e=function(e){const t=e.lastIndexOf("/")+1;let a=e.substring(t);return a=decodeURI(a.split("?")[0]),a}(d.value);z(D.Axios,"code"+d.value,e)}}return(e,t)=>{const a=J("Icon"),f=ge("tooltip");return ue((Z(),te("div",aa,[ne(w,{view:"hHh lpR fFf"},{default:ee((()=>[ne(C,null,{default:ee((()=>[ne(Ee,{style:{height:"100vh",width:"100%"},leftWidth:u.value},{"left-content":ee((()=>[le("div",{id:"container",ref_key:"containerRef",ref:n,style:{height:"100%",width:"100%"}},[le("div",la,[le("div",null,oe(d.value),1),ne(M),le("div",na,[ue(ne(a,{icon:"ant-design:download-outlined",onClick:m},null,512),[[f,"下载vue文件"]]),ne(Ie,{target:n.value},null,8,["target"]),ue(ne(a,{icon:"ant-design:close-circle-outlined",onClick:p},null,512),[[f,"关闭代码页"]])])])],512)])),"right-content":ee((()=>[ne(me(q),{layoutID:o.value,enableRouterView:!1},{default:ee((()=>[le("div",oa,[le("span",{class:"cursor-pointer",title:"关闭",onClick:i,style:{"margin-right":"10px"}},[ne(a,{icon:"ant-design:close-circle-outlined",width:"32",style:{color:"white !important"}})]),ne(h,{flat:"",onClick:t[0]||(t[0]=e=>async function(){"0px"===u.value?u.value="40%":u.value="0px",r.value=!r.value,r.value&&(c.value||l.query?.wid?.toString())}()),label:"查看代码",dense:"",icon:"menu"})])])),_:1},8,["layoutID"])])),_:1},8,["leftWidth"])])),_:1})])),_:1})],512)),[[ve,s.value]])}}}),[["__scopeId","data-v-f36c1dae"]]),ua=Object.freeze(Object.defineProperty({__proto__:null,default:sa},Symbol.toStringTag,{value:"Module"}));export{pt as F,dt as H,tt as L,ft as M,Ne as P,Qe as S,Fe as T,Ct as X,Je as _,Ke as a,Ge as b,nt as c,vt as d,It as e,_t as f,Wt as g,qt as h,kt as i,Nt as j,ta as k,ua as l};
