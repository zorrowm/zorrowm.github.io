!function(){var e=["target"];function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=o(e);if(t){var a=o(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=document.createElement("style");x.innerHTML='.splitpanes{display:flex;width:100%;height:100%}.splitpanes--vertical{flex-direction:row}.splitpanes--horizontal{flex-direction:column}.splitpanes--dragging *{user-select:none}.splitpanes__pane{width:100%;height:100%;overflow:hidden}.splitpanes--vertical .splitpanes__pane{transition:width .2s ease-out}.splitpanes--horizontal .splitpanes__pane{transition:height .2s ease-out}.splitpanes--dragging .splitpanes__pane{transition:none}.splitpanes__splitter{touch-action:none}.splitpanes--vertical>.splitpanes__splitter{min-width:1px;cursor:col-resize}.splitpanes--horizontal>.splitpanes__splitter{min-height:1px;cursor:row-resize}.splitpanes.default-theme .splitpanes__pane{background-color:#f2f2f2}.splitpanes.default-theme .splitpanes__splitter{background-color:#fff;box-sizing:border-box;position:relative;flex-shrink:0}.splitpanes.default-theme .splitpanes__splitter:before,.splitpanes.default-theme .splitpanes__splitter:after{content:"";position:absolute;top:50%;left:50%;background-color:rgba(0,0,0,.15);transition:background-color .3s}.splitpanes.default-theme .splitpanes__splitter:hover:before,.splitpanes.default-theme .splitpanes__splitter:hover:after{background-color:rgba(0,0,0,.25)}.splitpanes.default-theme .splitpanes__splitter:first-child{cursor:auto}.default-theme.splitpanes .splitpanes .splitpanes__splitter{z-index:1}.default-theme.splitpanes--vertical>.splitpanes__splitter,.default-theme .splitpanes--vertical>.splitpanes__splitter{width:7px;border-left:1px solid #eee;margin-left:-1px}.default-theme.splitpanes--vertical>.splitpanes__splitter:before,.default-theme.splitpanes--vertical>.splitpanes__splitter:after,.default-theme .splitpanes--vertical>.splitpanes__splitter:before,.default-theme .splitpanes--vertical>.splitpanes__splitter:after{transform:translateY(-50%);width:1px;height:30px}.default-theme.splitpanes--vertical>.splitpanes__splitter:before,.default-theme .splitpanes--vertical>.splitpanes__splitter:before{margin-left:-2px}.default-theme.splitpanes--vertical>.splitpanes__splitter:after,.default-theme .splitpanes--vertical>.splitpanes__splitter:after{margin-left:1px}.default-theme.splitpanes--horizontal>.splitpanes__splitter,.default-theme .splitpanes--horizontal>.splitpanes__splitter{height:7px;border-top:1px solid #eee;margin-top:-1px}.default-theme.splitpanes--horizontal>.splitpanes__splitter:before,.default-theme.splitpanes--horizontal>.splitpanes__splitter:after,.default-theme .splitpanes--horizontal>.splitpanes__splitter:before,.default-theme .splitpanes--horizontal>.splitpanes__splitter:after{transform:translate(-50%);width:30px;height:1px}.default-theme.splitpanes--horizontal>.splitpanes__splitter:before,.default-theme .splitpanes--horizontal>.splitpanes__splitter:before{margin-top:-2px}.default-theme.splitpanes--horizontal>.splitpanes__splitter:after,.default-theme .splitpanes--horizontal>.splitpanes__splitter:after{margin-top:1px}.vcp__header{display:flex;padding:12px;pointer-events:none}.vcp--expandable .vcp__header{pointer-events:auto;cursor:pointer}.vcp__header-title{display:flex;align-items:center;flex:1}.vcp__header-icon{display:flex;align-items:center;transition:transform .3s cubic-bezier(.5,.25,0,1)}.vcp--expanded .vcp__header-icon{transform-origin:center;transform:rotate(180deg)}.vcp__header-icon>span{display:flex;height:24px;width:24px}.vcp__header-icon ::v-deep(svg){height:100%;width:100%}.vcp__body{overflow:hidden;transition:all .3s cubic-bezier(.5,.25,0,1)}.vcp__body-content{padding:12px}.slide-enter-from,.slide-leave-to{opacity:.25}.vcpg{border:1px solid var(--border-color);border-radius:4px;width:100%}.vcpg ::v-deep(.vcp) *{box-sizing:border-box}.vcpg ::v-deep(.vcp) .vcp__header{background-color:var(--bg-color-header);height:30px;border-bottom:2px solid #c6bebd;transition:background-color .3s ease}.vcpg ::v-deep(.vcp) .vcp__header .vcp__header:hover{background-color:var(--bg-color-header-hover)}.vcpg ::v-deep(.vcp) .vcp__header .vcp__header:active{background-color:var(--bg-color-header-active)}.vcpg ::v-deep(.vcp) .vcp:not(:first-of-type) .vcp__header{border-top:2px solid var(--border-color)}.vcpg ::v-deep(.vcp) .vcp__header-title{font-weight:500}.vcpg ::v-deep(.vcp) .vcp__body{border-top:1px solid var(--border-color);background-color:var(--bg-color-body)}.layoutContainer{width:100%;height:100%;padding:0;margin:0;--layout-top-height: 70px;--layout-left-width: 200px;--layout-right-width: 200px;--layout-bottom-height: 60px;--layout-centerback-backcolor: #020202;--layout-top-zindex: 10000;--layout-bottom-zindex: 10000;--layout-center-zindex: 9999;--layout-left-zindex: 10000}.topContainer{position:absolute;top:0px;left:0px;width:100%;height:var(--layout-top-height);z-index:1000}.bottomContainer{position:absolute;bottom:0px;left:0px;width:100%;height:var(--layout-bottom-height)}.leftContainer{position:absolute;top:0px;left:0px;width:var(--layout-left-width);height:100%;pointer-events:none}.rightContainer{position:absolute;top:0px;right:0px;width:var(--layout-right-width);height:100%;pointer-events:none}.centerdiv{position:absolute;top:0px;left:0px;bottom:0px;width:100%;background-color:transparent;overflow:hidden}.centerContainer,.mainContainer{pointer-events:none}.window{display:flex;flex-flow:column;position:absolute;border-radius:4pt 4pt 0 0}.titlebar{display:flex;flex-flow:row nowrap;border-radius:4pt 4pt 0 0;font-family:sans-serif;padding:.5em;flex:0 0 auto}.title{flex-grow:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.content{flex-grow:1;padding:.5em}.draggable-handle{cursor:move}.fade-enter,.fade-leave-to{opacity:0;transform:scale(.9)}.fade-enter-active,.fade-leave-active{transition:.2s}.btn{background-color:transparent;border:none;font-size:medium;margin:0;padding:0 .25em;border-radius:4pt}\n',document.head.appendChild(x),System.register(["./@vue-exp-legacy.b493abed.js","./axios-exp-legacy.2267007d.js","./@hprose-exp-legacy.47b094bd.js"],(function(n){"use strict";var i,o,s,l,f,g,b,x,S,_,k,C,E,z,I,P,R,M,L,O,A,j,D,T,B,N,U,H,W,F,q,X,G,$,K,Y,V,J;return{setters:[function(e){i=e.r,o=e.d,s=e.l,l=e.M,f=e.N,g=e.O,b=e.P,x=e.e,S=e.o,_=e.a,k=e.x,C=e.Q,E=e.R,z=e.f,I=e.h,P=e.S,R=e.U,M=e.A,L=e.g,O=e.w,A=e.t,j=e.V,D=e.W,T=e.X,B=e.L,N=e.F,U=e.Y,H=e.q,W=e.z,F=e.Z,q=e.I,X=e._,G=e.G},function(e){$=e.a},function(e){K=e.C,Y=e.B,V=e.H,J=e.a}],execute:function(){n({G:rn,R:function(e,t){var n,r=function(e){var t=function(e){if(e){var t=[];if(e){var n,r=a(e);try{for(r.s();!(n=r.n()).done;){var i=$e(n.value);i&&t.push(i)}}catch(o){r.e(o)}finally{r.f()}}return t}}(e.bussinessRoutes),n=function(e){if(e){var t=e;if(t&&t.length>0){var n=[];return t.forEach((function(e){var t=Ke(e);t&&n.push(t)})),n}}}(e.widgetMenuConfig),r=function(e){if(e&&e.length>0){var t=[];return e.forEach((function(e){var n,r=(n=e)?{id:n.id,label:n.label,container:n.container,preload:n.preload,afterid:n.afterid,bindid:n.bindid,group:n.group}:void 0;r&&t.push(r)})),t}}(e.widgetConfig),i=function(e){if(e&&e.length>0)return e}(e.functionList),o=e.pkgObject.version,s=e.pkgObject.name;return{id:Ge(s,o),name:fe.Config.UI.SiteTitle,group:fe.Config.UI.Group,product:s,version:o,routes:t,widgetMenu:n,widgets:r,functions:i}}(e);(function(e,t){var n=JSON.stringify(e,null,2);t?de(n,t+".json"):ce.emit(le.CommonWarnEvent,"参数JsonID不能为空！")})(r,t),null===(n=fe.Message)||void 0===n||n.msg("导出系统功能权限文件成功！")},T:fn,b:ve,c:tn,d:function(){var e=ve();e&&(function(e,t,n,r,i){var o,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"json",s=arguments.length>6?arguments[6]:void 0,u=ye(r,t,i,a);s&&s>=2e4&&(u.timeout=s);var c=(l=n,d=new FormData,l&&Object.keys(l).forEach((function(e){if(l){var t,n=l[e];null!=n&&d.append(e,(t=n)instanceof Blob?t:t.toString())}})),d);var l,d;null===(o=fe.Axios)||void 0===o||o.post(e,c,u).catch((function(n){be(n,t,e,"Post")}))}(Yt,on,{token:e.token,reftoken:e.refresh}),me())},e:ln,f:function(e){return ge(Jt,on,{token:e})},h:ge,i:function(){Ue(),document.addEventListener("mousedown",Ue)},l:nn,m:function(e){var t;if(null!==(t=fe.User)&&void 0!==t&&t.issystem)return e;var n=fn();return n&&n.routes?(dn.length>0||e.forEach((function(e){var t,r=null===(t=n.routes)||void 0===t?void 0:t.find((function(t){return t.name===e.name}));if(r){var i=pn(e,r);i&&dn.push(i)}})),dn):void 0},o:function(){document.removeEventListener("mousedown",Ue)},p:function(e,t,n,r){return hn.apply(this,arguments)},q:function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(t in r)n[t]=qe(n[t])?e(n[t],r[t]):n[t]=r[t];return n},u:function(e){return an.apply(this,arguments)}});var Q={name:"splitpanes",props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide:function(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:function(){return{container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}},computed:{panesCount:function(){return this.panes.length},indexedPanes:function(){return this.panes.reduce((function(e,t){return(e[t.id]=t)&&e}),{})}},methods:{updatePaneComponents:function(){var e=this;this.panes.forEach((function(t){t.update&&t.update(w({},e.horizontal?"height":"width","".concat(e.indexedPanes[t.id].size,"%")))}))},bindEvents:function(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents:function(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown:function(e,t){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=t},onMouseMove:function(e){this.touch.mouseDown&&(e.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(e)),this.$emit("resize",this.panes.map((function(e){return{min:e.min,max:e.max,size:e.size}}))))},onMouseUp:function(){var e=this;this.touch.dragging&&this.$emit("resized",this.panes.map((function(e){return{min:e.min,max:e.max,size:e.size}}))),this.touch.mouseDown=!1,setTimeout((function(){e.touch.dragging=!1,e.unbindEvents()}),100)},onSplitterClick:function(e,t){var n=this;"ontouchstart"in window&&(e.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===t?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(e,t),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=t,this.splitterTaps.timeoutId=setTimeout((function(){n.splitterTaps.splitter=null}),500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[t])},onSplitterDblClick:function(e,t){var n=0;this.panes=this.panes.map((function(e,r){return e.size=r===t?e.max:e.min,r!==t&&(n+=e.min),e})),this.panes[t].size-=n,this.$emit("pane-maximize",this.panes[t])},onPaneClick:function(e,t){this.$emit("pane-click",this.indexedPanes[t])},getCurrentMouseDrag:function(e){var t=this.container.getBoundingClientRect(),n="ontouchstart"in window&&e.touches?e.touches[0]:e,r=n.clientX,i=n.clientY;return{x:r-t.left,y:i-t.top}},getCurrentDragPercentage:function(e){e=e[this.horizontal?"y":"x"];var t=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(e=t-e),100*e/t},calculatePanesSize:function(e){var t=this.touch.activeSplitter,n={prevPanesSize:this.sumPrevPanesSize(t),nextPanesSize:this.sumNextPanesSize(t),prevReachedMinPanes:0,nextReachedMinPanes:0},r=0+(this.pushOtherPanes?0:n.prevPanesSize),i=100-(this.pushOtherPanes?0:n.nextPanesSize),o=Math.max(Math.min(this.getCurrentDragPercentage(e),i),r),a=[t,t+1],s=this.panes[a[0]]||null,u=this.panes[a[1]]||null,c=s.max<100&&o>=s.max+n.prevPanesSize,l=u.max<100&&o<=100-(u.max+this.sumNextPanesSize(t+1));if(c||l)c?(s.size=s.max,u.size=Math.max(100-s.max-n.prevPanesSize-n.nextPanesSize,0)):(s.size=Math.max(100-u.max-n.prevPanesSize-this.sumNextPanesSize(t+1),0),u.size=u.max);else{if(this.pushOtherPanes){var d,f=this.doPushOtherPanes(n,o);if(!f)return;n=(d=f).sums,a=d.panesToResize,s=this.panes[a[0]]||null,u=this.panes[a[1]]||null}null!==s&&(s.size=Math.min(Math.max(o-n.prevPanesSize-n.prevReachedMinPanes,s.min),s.max)),null!==u&&(u.size=Math.min(Math.max(100-o-n.nextPanesSize-n.nextReachedMinPanes,u.min),u.max))}},doPushOtherPanes:function(e,t){var n=this,r=this.touch.activeSplitter,i=[r,r+1];return t<e.prevPanesSize+this.panes[i[0]].min&&(i[0]=this.findPrevExpandedPane(r).index,e.prevReachedMinPanes=0,i[0]<r&&this.panes.forEach((function(t,n){n>i[0]&&n<=r&&(t.size=t.min,e.prevReachedMinPanes+=t.min)})),e.prevPanesSize=this.sumPrevPanesSize(i[0]),void 0===i[0])?(e.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((function(t,n){n>0&&n<=r&&(t.size=t.min,e.prevReachedMinPanes+=t.min)})),this.panes[i[1]].size=100-e.prevReachedMinPanes-this.panes[0].min-e.prevPanesSize-e.nextPanesSize,null):t>100-e.nextPanesSize-this.panes[i[1]].min&&(i[1]=this.findNextExpandedPane(r).index,e.nextReachedMinPanes=0,i[1]>r+1&&this.panes.forEach((function(t,n){n>r&&n<i[1]&&(t.size=t.min,e.nextReachedMinPanes+=t.min)})),e.nextPanesSize=this.sumNextPanesSize(i[1]-1),void 0===i[1])?(e.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((function(t,i){i<n.panesCount-1&&i>=r+1&&(t.size=t.min,e.nextReachedMinPanes+=t.min)})),this.panes[i[0]].size=100-e.prevPanesSize-e.nextReachedMinPanes-this.panes[this.panesCount-1].min-e.nextPanesSize,null):{sums:e,panesToResize:i}},sumPrevPanesSize:function(e){return this.panes.reduce((function(t,n,r){return t+(r<e?n.size:0)}),0)},sumNextPanesSize:function(e){return this.panes.reduce((function(t,n,r){return t+(r>e+1?n.size:0)}),0)},findPrevExpandedPane:function(e){return y(this.panes).reverse().find((function(t){return t.index<e&&t.size>t.min}))||{}},findNextExpandedPane:function(e){return this.panes.find((function(t){return t.index>e+1&&t.size>t.min}))||{}},checkSplitpanesNodes:function(){Array.from(this.container.children).forEach((function(e){var t=e.classList.contains("splitpanes__pane"),n=e.classList.contains("splitpanes__splitter");if(!t&&!n)return e.parentNode.removeChild(e),void console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed.")}))},addSplitter:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e-1,o=document.createElement("div");o.classList.add("splitpanes__splitter"),r||(o.onmousedown=function(e){return n.onMouseDown(e,i)},("undefined"==typeof window?"undefined":m(window))<"u"&&"ontouchstart"in window&&(o.ontouchstart=function(e){return n.onMouseDown(e,i)}),o.onclick=function(e){return n.onSplitterClick(e,i+1)}),this.dblClickSplitter&&(o.ondblclick=function(e){return n.onSplitterDblClick(e,i+1)}),t.parentNode.insertBefore(o,t)},removeSplitter:function(e){e.onmousedown=void 0,e.onclick=void 0,e.ondblclick=void 0,e.parentNode.removeChild(e)},redoSplitters:function(){var e=this,t=Array.from(this.container.children);t.forEach((function(t){t.className.includes("splitpanes__splitter")&&e.removeSplitter(t)}));var n=0;t.forEach((function(t){t.className.includes("splitpanes__pane")&&(!n&&e.firstSplitter?e.addSplitter(n,t,!0):n&&e.addSplitter(n,t),n++)}))},requestUpdate:function(t){var n=t.target,r=v(t,e),i=this.indexedPanes[n._.uid];Object.entries(r).forEach((function(e){var t=p(e,2),n=t[0],r=t[1];return i[n]=r}))},onPaneAdd:function(e){var t=this,n=-1;Array.from(e.$el.parentNode.children).some((function(t){return t.className.includes("splitpanes__pane")&&n++,t===e.$el}));var r=parseFloat(e.minSize),i=parseFloat(e.maxSize);this.panes.splice(n,0,{id:e._.uid,index:n,min:isNaN(r)?0:r,max:isNaN(i)?100:i,size:null===e.size?null:parseFloat(e.size),givenSize:e.size,update:e.update}),this.panes.forEach((function(e,t){return e.index=t})),this.ready&&this.$nextTick((function(){t.redoSplitters(),t.resetPaneSizes({addedPane:t.panes[n]}),t.$emit("pane-add",{index:n,panes:t.panes.map((function(e){return{min:e.min,max:e.max,size:e.size}}))})}))},onPaneRemove:function(e){var t=this,n=this.panes.findIndex((function(t){return t.id===e._.uid})),r=this.panes.splice(n,1)[0];this.panes.forEach((function(e,t){return e.index=t})),this.$nextTick((function(){t.redoSplitters(),t.resetPaneSizes({removedPane:h(h({},r),{},{index:n})}),t.$emit("pane-remove",{removed:r,panes:t.panes.map((function(e){return{min:e.min,max:e.max,size:e.size}}))})}))},resetPaneSizes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.addedPane||e.removedPane?this.panes.some((function(e){return null!==e.givenSize||e.min||e.max<100}))?this.equalizeAfterAddOrRemove(e):this.equalize():this.initialPanesSizing(),this.ready&&this.$emit("resized",this.panes.map((function(e){return{min:e.min,max:e.max,size:e.size}})))},equalize:function(){var e=100/this.panesCount,t=0,n=[],r=[];this.panes.forEach((function(i){i.size=Math.max(Math.min(e,i.max),i.min),t-=i.size,i.size>=i.max&&n.push(i.id),i.size<=i.min&&r.push(i.id)})),t>.1&&this.readjustSizes(t,n,r)},initialPanesSizing:function(){var e=this,t=100,n=[],r=[],i=0;this.panes.forEach((function(e){t-=e.size,null!==e.size&&i++,e.size>=e.max&&n.push(e.id),e.size<=e.min&&r.push(e.id)}));var o=100;t>.1&&(this.panes.forEach((function(n){null===n.size&&(n.size=Math.max(Math.min(t/(e.panesCount-i),n.max),n.min)),o-=n.size})),o>.1&&this.readjustSizes(t,n,r))},equalizeAfterAddOrRemove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.addedPane,n=100/this.panesCount,r=0,i=[],o=[];t&&null!==t.givenSize&&(n=(100-t.givenSize)/(this.panesCount-1)),this.panes.forEach((function(e){r-=e.size,e.size>=e.max&&i.push(e.id),e.size<=e.min&&o.push(e.id)})),!(Math.abs(r)<.1)&&(this.panes.forEach((function(e){t&&null!==t.givenSize&&t.id===e.id||(e.size=Math.max(Math.min(n,e.max),e.min)),r-=e.size,e.size>=e.max&&i.push(e.id),e.size<=e.min&&o.push(e.id)})),r>.1&&this.readjustSizes(r,i,o))},readjustSizes:function(e,t,n){var r,i=this;r=e>0?e/(this.panesCount-t.length):e/(this.panesCount-n.length),this.panes.forEach((function(o){if(e>0&&!t.includes(o.id)){var a=Math.max(Math.min(o.size+r,o.max),o.min);e-=a-o.size,o.size=a}else if(!n.includes(o.id)){var s=Math.max(Math.min(o.size+r,o.max),o.min);e-=s-o.size,o.size=s}o.update(w({},i.horizontal?"height":"width","".concat(i.indexedPanes[o.id].size,"%")))})),Math.abs(e)>.1&&this.$nextTick((function(){i.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")}))}},watch:{panes:{deep:!0,immediate:!1,handler:function(){this.updatePaneComponents()}},horizontal:function(){this.updatePaneComponents()},firstSplitter:function(){this.redoSplitters()},dblClickSplitter:function(e){var t=this;y(this.container.querySelectorAll(".splitpanes__splitter")).forEach((function(n,r){n.ondblclick=e?function(e){return t.onSplitterDblClick(e,r)}:void 0}))}},beforeUnmount:function(){this.ready=!1},mounted:function(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.updatePaneComponents(),this.$emit("ready"),this.ready=!0},render:function(){return G("div",{ref:"container",class:["splitpanes","splitpanes--"+(this.horizontal?"horizontal":"vertical"),{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())},__file:"src/controls/splitpanes/splitpanes.vue"},Z={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:10},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:function(){return{style:{}}},mounted:function(){this.onPaneAdd(this)},beforeUnmount:function(){this.onPaneRemove(this)},methods:{update:function(e){this.style=e}},computed:{sizeNumber:function(){return this.size||0===this.size?parseFloat(this.size):null},minSizeNumber:function(){return parseFloat(this.minSize)},maxSizeNumber:function(){return parseFloat(this.maxSize)}},watch:{sizeNumber:function(e){this.requestUpdate({target:this,size:e})},minSizeNumber:function(e){this.requestUpdate({target:this,min:e})},maxSizeNumber:function(e){this.requestUpdate({target:this,max:e})}}};n({y:Q,S:Z}),Z.render=function(e,t,n,r,i,o){return l(),f("div",{class:"splitpanes__pane",onClick:t[0]||(t[0]=function(t){return o.onPaneClick(t,e._.uid)}),style:b(e.style)},[g(e.$slots,"default")],4)},Z.__file="src/controls/splitpanes/pane.vue";var ee=("undefined"==typeof globalThis?"undefined":m(globalThis))<"u"?globalThis:("undefined"==typeof window?"undefined":m(window))<"u"?window:("undefined"==typeof global?"undefined":m(global))<"u"?global:("undefined"==typeof self?"undefined":m(self))<"u"?self:{},te=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,i,o,a,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(l,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(l,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,n(l,o),l}function a(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function l(){this.reset()}return s(o("hello")),("undefined"==typeof ArrayBuffer?"undefined":m(ArrayBuffer))>"u"||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,n){var r,i,o,a,s=this.byteLength,u=e(t,s),c=s;return undefined!==n&&(c=e(n,s)),u>c?new ArrayBuffer(0):(r=c-u,i=new ArrayBuffer(r),o=new Uint8Array(i),a=new Uint8Array(this,u,r),o.set(a),i)}}(),l.prototype.append=function(e){return this.appendBinary(u(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=c(n)),this.reset(),n},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var r,i,o,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,n(this._hash,e)},l.hash=function(e,t){return l.hashBinary(u(e),t)},l.hashBinary=function(e,t){var n=s(o(e));return t?c(n):n},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(e){var t,r=function(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}(this._buff.buffer,e,!0),o=r.length;for(this._length+=e.byteLength,t=64;t<=o;t+=64)n(this._hash,i(r.subarray(t-64,t)));return this._buff=t-64<o?new Uint8Array(r.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=c(n)),this.reset(),n},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e=l.prototype.getState.call(this);return e.buff=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}(e.buff),e},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:i}(e.buff,!0),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var r=s(function(e){var t,r,o,a,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(l,i(e.subarray(t-64,t)));for(r=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(l,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,n(l,o),l}(new Uint8Array(e)));return t?c(r):r},l}(),ne=[],re=function(){function e(){c(this,e)}return d(e,null,[{key:"addHandler",value:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}},{key:"windowResizeHandler",value:function(t){e.addHandler(window,"resize",t)}},{key:"fullscreenEnabled",value:function(){var e=window.document;return document.fullscreenEnabled||window.fullScreen||e.mozFullscreenEnabled||e.webkitIsFullScreen}},{key:"fullScreen",value:function(e,t){if(t){var n,r=window.document,i=window.document.exitFullscreen||r.msExitFullscreen||r.mozCancelFullScreen||r.webkitCancelFullScreen;m(i)<"u"&&i?i.call(window.document):m(window.ActiveXObject)<"u"&&(null===(n=new window.ActiveXObject("WScript.Shell"))||void 0===n||n.SendKeys("{F11}"))}else{var o,a=e;a||(a=window.document.documentElement);var s=a.requestFullScreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullScreen;m(s)<"u"&&s?s.call(a):m(window.ActiveXObject)<"u"&&(null===(o=new window.ActiveXObject("WScript.Shell"))||void 0===o||o.SendKeys("{F11}"))}}},{key:"requestFullScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document.documentElement,t=e,n=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullScreen;if(n)n.call(t);else if(m(window.ActiveXObject)<"u"){var r=new window.ActiveXObject("WScript.Shell");null!==r&&r.SendKeys("{F11}")}}},{key:"exitFullScreen",value:function(){var e=window.document,t=document.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.webkitExitFullscreen;if(t)t.call(document);else if(m(window.ActiveXObject)<"u"){var n=new window.ActiveXObject("WScript.Shell");null!==n&&n.SendKeys("{F11}")}}},{key:"fullScreenElement",value:function(){return window.document.fullscreenElement||window.document.webkitFullscreenElement||window.document.mozFullscreenElement||window.document.msFullscreenElement}},{key:"isFullScreen",value:function(){return!!e.fullScreenElement()}},{key:"onFullScreenChanged",value:function(t){var n;"onfullscreenchange"in window.document?n="fullscreenchange":"onwebkitfullscreenchange"in window.document?n="webkitfullscreenchange":"onmozfullscreenchange"in window.document&&(n="mozfullscreenchange"),n?document.addEventListener(n,(function(){var n=e.isFullScreen();t(n)})):document.addEventListener("MSFullscreenChange",(function(){var n=e.isFullScreen();t(n)}))}},{key:"stringifyCircularHandler",value:function(e,t){if("object"==m(t)&&null!==t){if(-1!==ne.indexOf(t))return;ne.push(t)}return t}},{key:"jsonStringify",value:function(t){if(!t)return"";var n=JSON.stringify(t,e.stringifyCircularHandler);return ne.length=0,n}},{key:"jsonParse",value:function(t){var n=e.jsonStringify(t);if(n.length>1)return JSON.parse(n)}},{key:"getObjectURL",value:function(e){var t,n=window;return null!=n.createObjcectURL?t=n.createOjcectURL(e):null!=window.URL?t=window.URL.createObjectURL(e):null!=window.webkitURL&&(t=window.webkitURL.createObjectURL(e)),t}},{key:"getFileShortMD5",value:function(e,t){var n,r=File.prototype,i=r.slice||r.mozSlice||r.webkitSlice,o=e,a=2097152,s=new te.ArrayBuffer,u=new FileReader;u.onload=function(e){var n;s.append(null===(n=e.target)||void 0===n?void 0:n.result);var r=s.end();t({isOK:!0,data:r})},u.onerror=function(){var e="计算文件简单摘要错误！";console.warn(e),t({isOK:!1,data:e})},n=0+a>=o.size?o.size:0+a,u.readAsArrayBuffer(i.call(o,0,n))}},{key:"MD5",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return te.hash(e,t)}},{key:"setGrayMode",value:function(t){e.toggleClass(t,"grayMode",document.documentElement)}},{key:"toggleClass",value:function(e,t,n){var r=n||document.body,i=r.className;i=i.replace(t,""),r.className=e?"".concat(i," ").concat(t," "):i}},{key:"setCssVar",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;n.style.setProperty(e,t)}}]),e}();w(re,"copyText",(function(e){return new Promise((function(t,n){var r=document.createElement("input");r.value=e,document.body.appendChild(r),r.select(),document.execCommand("copy"),r.remove(),t(!0)}))})),n("a",re);var ie=function(){function e(){c(this,e)}return d(e,null,[{key:"toHump",value:function(e){return e.replace(/[\-\/\_](\w)/g,(function(e,t){return t.toUpperCase()})).replace("views","")}}]),e}();w(ie,"isNullOrEmpty",(function(e){return null===e||""===e||void 0===e||0===e.length})),w(ie,"isNotEmpty",(function(e){return!(null===e||""===e||void 0===e||0===e.length)}));var oe,ae,se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:localStorage;c(this,e),w(this,"prefixKey",void 0),w(this,"storage",void 0),this.prefixKey=t,this.storage=n}return d(e,[{key:"getKey",value:function(e){return"".concat(this.prefixKey).concat(e).toUpperCase()}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:604800,r=JSON.stringify({value:t,expire:null!==n?(new Date).getTime()+1e3*n:null});this.storage.setItem(this.getKey(e),r)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.storage.getItem(this.getKey(e));if(n)try{var r=JSON.parse(n),i=r.value,o=r.expire;if(null===o||o>=Date.now())return i;this.remove(this.getKey(e))}catch(a){return t}return t}},{key:"remove",value:function(e){this.storage.removeItem(this.getKey(e))}},{key:"clear",value:function(){this.storage.clear()}},{key:"setCookie",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:604800;document.cookie="".concat(this.getKey(e),"=").concat(t,"; Max-Age=").concat(n)}},{key:"getCookie",value:function(e){for(var t=document.cookie.split("; "),n=0,r=t.length;n<r;n++){var i=t[n].split("=");if(i[0]===this.getKey(e))return i[1]}return""}},{key:"removeCookie",value:function(e){this.setCookie(e,1,-1)}},{key:"clearCookie",value:function(){var e=document.cookie.match(/[^ =;]+(?==)/g);if(e)for(var t=e.length;t--;)document.cookie=e[t]+"=0;expire="+new Date(0).toUTCString()}}]),e}();function ue(){for(var e=[],t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<36;n++){var r=Math.floor(16*Math.random());e[n]=t.substring(r,r+1)}e[14]="4";var i=3&Number(e[19])|8;return e[19]=t.substring(i,i+1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}n("$",se),new se("",localStorage),(ae=oe||(oe={}))[ae.RGBA=0]="RGBA",ae[ae.Hex=1]="Hex",ae[ae.Hsla=2]="Hsla";var ce=function(e){return{all:e=e||new Map,on:function(t,n){var r,i,o=null===(r=e)||void 0===r?void 0:r.get(t);o&&o.push(n)||null===(i=e)||void 0===i||i.set(t,[n])},off:function(t,n){var r,i=null===(r=e)||void 0===r?void 0:r.get(t);i&&i.splice(i.indexOf(n)>>>0,1)},emit:function(t,n){var r,i;((null===(r=e)||void 0===r?void 0:r.get(t))||[]).slice().map((function(e){e(n)})),((null===(i=e)||void 0===i?void 0:i.get("*"))||[]).slice().map((function(e){e(t,n)}))}}}(),le={HproseServiceErrorEvent:"HproseServiceError",WebAPIErrorEvent:"WebAPIError",AlertInfoEvent:"AlertInfoEvent",CommonWarnEvent:"CommonWarnEvent",WidgetLoadedEvent:"WidgetLoaded",WidgetUnLoadedEvent:"WidgetUnLoaded",WidgetVisibleChanged:"WidgetVisibleChanged",AxiosRequestErrorEvent:"AxiosRequestErrorEvent"},de=function(e,t){var n=document.createElement("a");n.download=t,n.style.display="none";var r=new Blob([e],{type:"application/octet-stream"});n.href=URL.createObjectURL(r),document.body.appendChild(n),n.click(),document.body.removeChild(n)};n({K:le,j:de});var fe=n("M",{Config:SysConfig,EventBus:ce,DefaultProxyClient:null,Axios:$}),he="access_token",pe=new se("user",localStorage);function ve(){return pe.get(he)}function me(){pe.remove(he),fe.User&&delete fe.User}function ye(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json",o=arguments.length>4?arguments[4]:void 0,a={baseURL:fe.Config.ServiceURL.DefaultWebAPI,timeout:6e4,params:e,headers:{"Content-Type":"application/json",Authorization:"bearer "+(null===(r=ve())||void 0===r?void 0:r.token)},responseType:i,cancelToken:o};if(n)for(var s in n)a.headers[s]=n[s];return fe.SystemID&&(a.headers.sysid=fe.SystemID,fe.SystemGroup&&(a.headers.sysgroup=fe.SystemGroup)),t&&(a.baseURL=t),a}function ge(e,t,n,r){var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"json",a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,u=ye(n,t,r,o,a);return s&&s>=2e4&&(u.timeout=s),null===(i=fe.Axios)||void 0===i?void 0:i.get(e,u).catch((function(n){be(n,t,e,"Get")}))}function be(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Get",i="".concat(t).concat(n);if(e&&e.response){var o=!1,a=e.response.status;switch(a){case 400:e.message="错误请求";break;case 401:e.message="未授权，请重新登录";break;case 403:e.message="拒绝访问";break;case 404:e.message="请求错误,未找到该资源";break;case 405:e.message="请求方法未允许";break;case 408:e.message="请求超时";break;case 500:var s=e.response.data;if(s){var u=s.indexOf(":"),c=s.indexOf("\r\n");if(u>0&&c-u>2){var l=s.substring(u+2,c);l.indexOf("'System.Exception'")>0?e.message="后台服务内部出错！":(o=!0,e.message=l)}}else e.message="服务器端出错";break;case 501:e.message="网络未实现";break;case 502:e.message="网络错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网络超时";break;case 505:e.message="http版本不支持该请求";break;default:e.message="连接错误".concat(e.response.status)}var d={address:i,code:a,isExceptionInfo:o,message:e.message,result:e.response.data};if(console.warn("HTTP ".concat(r,"请求错误："),d),fe.EventBus.emit(le.AxiosRequestErrorEvent,d),o)throw new Error(e.message)}}var we={exports:{}},xe=("undefined"==typeof window?"undefined":m(window))<"u"?window:void 0!==ee?ee:("undefined"==typeof self?"undefined":m(self))<"u"?self:{},Se=Object.prototype.toString,_e=function(e){return e.replace(/^\s+|\s+$/g,"")},ke=Object.prototype.hasOwnProperty,Ce=xe,Ee=function(e){if(!e)return!1;var t=Se.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||("undefined"==typeof window?"undefined":m(window))<"u"&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},ze=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)ke.call(n,r)&&(e[r]=n[r])}return e};function Ie(e,t,n){var r=e;return Ee(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=ze(t,{uri:e}),r.callback=n,r}function Pe(e,t,n){return Re(t=Ie(e,t,n))}function Re(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(n){}return null}(u),v)try{e=JSON.parse(e)}catch(t){}return e}function i(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,m)}function o(){if(!s){var t;clearTimeout(c),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var i=m,o=null;return 0!==t?(i={body:r(),statusCode:t,method:d,headers:{},url:l,rawRequest:u},u.getAllResponseHeaders&&(i.headers=function(e){if(!e)return{};for(var t,n={},r=_e(e).split("\n"),i=0;i<r.length;i++){var o=r[i],a=o.indexOf(":"),s=_e(o.slice(0,a)).toLowerCase(),u=_e(o.slice(a+1));void 0===n[s]?n[s]=u:(t=n[s],"[object Array]"===Object.prototype.toString.call(t)?n[s].push(u):n[s]=[n[s],u])}return n}(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,i,i.body)}}var a,s,u=e.xhr||null;u||(u=e.cors||e.useXDR?new Pe.XDomainRequest:new Pe.XMLHttpRequest);var c,l=u.url=e.uri||e.url,d=u.method=e.method||"GET",f=e.body||e.data,h=u.headers=e.headers||{},p=!!e.sync,v=!1,m={body:void 0,headers:{},statusCode:0,method:d,url:l,rawRequest:u};if("json"in e&&!1!==e.json&&(v=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(o,0)},u.onload=o,u.onerror=i,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=i,u.open(d,l,!p,e.username,e.password),p||(u.withCredentials=!!e.withCredentials),!p&&e.timeout>0&&(c=setTimeout((function(){if(!s){s=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),u.setRequestHeader)for(a in h)h.hasOwnProperty(a)&&u.setRequestHeader(a,h[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(f||null),u}we.exports=Pe,we.exports.default=Pe,Pe.XMLHttpRequest=Ce.XMLHttpRequest||function(){},Pe.XDomainRequest="withCredentials"in new Pe.XMLHttpRequest?Pe.XMLHttpRequest:Ce.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){Pe["delete"===e?"del":e]=function(t,n,r){return(n=Ie(t,n,r)).method=e.toUpperCase(),Re(n)}}));var Me=function(){function e(t){if(c(this,e),w(this,"hproseURL",void 0),w(this,"client",void 0),w(this,"hproseProxy",void 0),t&&!ie.isNullOrEmpty(t)){if(e.httpTransport||(e.httpTransport=new V),this.client=new J(t),!this.client)throw Error("Hprose Client初始化错误");this.hproseURL=t,this.init()}}var t,n;return d(e,[{key:"init",value:function(){var e=this;this.client&&this.client.useServiceAsync().then((function(t){e.hproseProxy=t})).catch((function(t){var n;String(t).indexOf("find this method ~")>0?(e.hproseProxy=null===(n=e.client)||void 0===n?void 0:n.useService(),console.warn("旧版本不支持useServiceAsync")):ce.emit(le.HproseServiceErrorEvent,"初始化默认Hprose!"),console.warn(t)}))}},{key:"getProxy",value:(n=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hproseProxy){e.next=12;break}if(e.prev=1,e.t0=this.client,!e.t0){e.next=7;break}return e.next=6,this.client.useServiceAsync();case 6:this.hproseProxy=e.sent;case 7:e.next=12;break;case 9:e.prev=9,e.t1=e.catch(1),console.warn(e.t1),this.hproseProxy=null===(t=this.client)||void 0===t?void 0:t.useService();case 12:return e.abrupt("return",this.hproseProxy);case 13:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(){return n.apply(this,arguments)})},{key:"invoke",value:(t=u(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.client){e.next=4;break}return e.next=3,this.client.invoke(t,n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"encode",value:function(e,t,n){if(this.client)return this.client.codec.encode(e,t,n)}},{key:"decode",value:function(e,t){if(this.client)return this.client.codec.decode(e,t)}}]),e}();w(Me,"httpTransport",void 0);var Le=function(){function e(t){c(this,e),w(this,"hproseClient",void 0),w(this,"hpProxyObj",void 0),w(this,"defaultContext",new K),this.hproseClient=new Me(t),this.hpProxyObj=null}var t,n,r,i;return d(e,[{key:"getClientContext",value:function(e,t){var n={};t&&(n.requestHeaders=t);var r=ve();n.httpRequestHeaders=e||{};var i=n.httpRequestHeaders;return r&&(i.token=r.token),fe.SystemID&&(i.sysid=fe.SystemID,fe.SystemGroup&&(i.sysgroup=fe.SystemGroup)),new K(n)}},{key:"getHproseProxy",value:(i=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hproseClient){e.next=2;break}throw new Error("HproseClient对象为构建，无法调用Hprose方法");case 2:if(this.hpProxyObj){e.next=7;break}return e.next=5,this.hproseClient.getProxy();case 5:t=e.sent,this.hpProxyObj=t;case 7:return e.abrupt("return",(this.hpProxyObj||ce.emit(le.HproseServiceErrorEvent,"HproseProxy对象为空，无法调用Hprose方法！"),this.hpProxyObj));case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"hproseInvoke",value:(r=u(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hproseClient){e.next=2;break}throw new Error("HproseClient对象为构建，无法调用Hprose方法");case 2:return e.next=4,this.hproseClient.invoke(t,n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"hproseInvokeContext",value:(n=u(regeneratorRuntime.mark((function e(t,n){var r,i,o,a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hproseClient){e.next=2;break}throw new Error("HproseClient对象为构建，无法调用Hprose方法");case 2:for(r=ve(),i=s.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=s[a];return console.log(r,"userToken3"),r&&(n||(n=new K({httpRequestHeaders:{token:r.token}}))),e.next=8,this.hproseClient.invoke(t,o,n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"hproseInvokeEncode",value:(t=u(regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Y(t).toBytes(),e.next=3,null===(n=this.hproseClient.client)||void 0===n?void 0:n.request(i,this.defaultContext);case 3:return o=e.sent,e.abrupt("return",o&&(null===(r=this.hproseClient.client)||void 0===r?void 0:r.codec.decode(o,this.defaultContext)));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"encodeRequest",value:function(e){for(var t,n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=null===(t=this.hproseClient.client)||void 0===t||null===(n=t.codec)||void 0===n?void 0:n.encode(e,i,this.defaultContext);return Y.toString(a)}}]),e}();n("g",Le);var Oe,Ae=function(){function e(t,n){c(this,e),w(this,"message",void 0),w(this,"eventBus",void 0),t&&(this.message=t),n&&(this.eventBus=n)}return d(e,[{key:"msg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";if(this.message)if("function"==typeof this.message)this.message({type:n,message:e,duration:t});else switch(n){case"info":this.message.info(e,t);break;case"success":this.message.success(e,t);break;case"warning":this.message.warn(e,t);break;case"error":this.message.error(e,t)}else{switch(n){case"info":case"success":console.log(e);break;case"warning":console.warn(e);break;case"error":n="dark",console.error(e)}this.eventBus&&this.eventBus.emit(le.AlertInfoEvent,{type:n,info:e})}}},{key:"info",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;this.msg(e,t,"info")}},{key:"warn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;this.msg(e,t,"warning")}},{key:"err",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;this.msg(e,t,"error")}}]),e}(),je=(n("t",(function(e,t,n){!fe.Config.DefaultHproseAPI&&fe.Config.ServiceURL&&(fe.Config.DefaultHproseAPI=fe.Config.ServiceURL.DefaultHproseAPI),fe.Config.DefaultHproseAPI&&ie.isNotEmpty(fe.Config.DefaultHproseAPI)&&(fe.DefaultProxyClient=new Le(fe.Config.DefaultHproseAPI));var r=fe.Config.UI.GrayMode;r&&re.setGrayMode(r);var i=new Ae(e,fe.EventBus);fe.Message=i,fe.SystemID=t,fe.SystemGroup=n,fe.EventBus.on(le.HproseServiceErrorEvent,(function(e){var t="当前后台业务服务不可用!".concat(e);i.warn(t)})),fe.EventBus.on(le.WebAPIErrorEvent,(function(e){var t="WebAPI后台服务不可用!".concat(e);i.warn(t)})),fe.EventBus.on(le.CommonWarnEvent,(function(e){i.warn(e)}))})),"is_LockScreen"),De=pe.get(je,!1),Te={isLock:De,lockTime:"true"==De?Ne():0};function Be(e){Te.isLock=e,pe.set(je,e,10),e&&(me(),console.log("锁屏了……"))}function Ne(){var e,t,n=3600;return null!==(e=fe.Config.UI)&&void 0!==e&&e.LockTime&&(null===(t=fe.Config.UI)||void 0===t?void 0:t.LockTime)>=10&&(n=fe.Config.UI.LockTime),n}function Ue(){clearInterval(Oe),!(window.location.href.indexOf("/login")>0||Te.isLock)&&(Be(!1),Te.lockTime=Ne(),Oe=setInterval((function(){if(Te.lockTime--,Te.lockTime<=0)return Be(!0),clearInterval(Oe)}),1e3))}function He(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(!s&&He)return He(a);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=He,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(e){var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,void 0!==ee?ee:("undefined"==typeof self?"undefined":m(self))<"u"?self:("undefined"==typeof window?"undefined":m(window))<"u"?window:{})},{}],2:[function(e,t,n){var r=e(1);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(i){return o.reject(e,i)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function f(e){var t=e&&e.then;if(e&&("object"==m(e)||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=p((function(){t(i,r)}));"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==u?d(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,c=new this(i);++u<n;)l(e[u],u);return c;function l(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(c,a))}),(function(e){r||(r=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n,r=e.length,a=!1;if(!r)return this.resolve([]);for(var s=-1,u=new this(i);++s<r;)n=e[s],t.resolve(n).then((function(e){a||(a=!0,o.resolve(u,e))}),(function(e){a||(a=!0,o.reject(u,e))}));return u}},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==ee?ee:("undefined"==typeof self?"undefined":m(self))<"u"?self:("undefined"==typeof window?"undefined":m(window))<"u"?window:{})},{2:2}],4:[function(e,t,n){var r="function"==typeof Symbol&&"symbol"==m(Symbol.iterator)?function(e){return m(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":m(e)};var i=function(){try{if(("undefined"==typeof indexedDB?"undefined":m(indexedDB))<"u")return indexedDB;if(("undefined"==typeof webkitIndexedDB?"undefined":m(webkitIndexedDB))<"u")return webkitIndexedDB;if(("undefined"==typeof mozIndexedDB?"undefined":m(mozIndexedDB))<"u")return mozIndexedDB;if(("undefined"==typeof OIndexedDB?"undefined":m(OIndexedDB))<"u")return OIndexedDB;if(("undefined"==typeof msIndexedDB?"undefined":m(msIndexedDB))<"u")return msIndexedDB}catch(e){return}}();function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new(("undefined"==typeof BlobBuilder?"undefined":m(BlobBuilder))<"u"?BlobBuilder:("undefined"==typeof MSBlobBuilder?"undefined":m(MSBlobBuilder))<"u"?MSBlobBuilder:("undefined"==typeof MozBlobBuilder?"undefined":m(MozBlobBuilder))<"u"?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}("undefined"==typeof Promise?"undefined":m(Promise))>"u"&&e(3);var a=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function c(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",f=void 0,h={},p=Object.prototype.toString,v="readonly",y="readwrite";function g(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function b(e){return"boolean"==typeof f?a.resolve(f):function(e){return new a((function(t){var n=e.transaction(d,y),r=o([""]);n.objectStore(d).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return f=e}))}function w(e){var t=h[e.name],n={};n.promise=new a((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function x(e){var t=h[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function S(e,t){var n=h[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function _(e,t){return new a((function(n,r){if(h[e.name]=h[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);w(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var a=i.open.apply(i,o);t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(d)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(e){e.target.close()},n(t),x(e)}}))}function k(e){return _(e,!1)}function C(e){return _(e,!0)}function E(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function z(e){return o([g(atob(e.data))],{type:e.type})}function I(e){return e&&e.__local_forage_encoded_blob}function P(e){var t=this,n=t._initReady().then((function(){var e=h[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(n,e,e),n}function R(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),C(e)})).then((function(){return function(e){w(e);for(var t=h[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,k(e).then((function(t){return e.db=t,E(e)?C(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw S(e,t),t}))}(e).then((function(){R(e,t,n,r-1)}))})).catch(n);n(o)}}var M={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=h[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},h[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=P);var o=[];function s(){return a.resolve()}for(var u=0;u<i.forages.length;u++){var c=i.forages[u];c!==t&&o.push(c._initReady().catch(s))}var l=i.forages.slice(0);return a.all(o).then((function(){return n.db=i.db,k(n)})).then((function(e){return n.db=e,E(n,t._defaultConfig.version)?C(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<l.length;r++){var o=l[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var e=("undefined"==typeof openDatabase?"undefined":m(openDatabase))<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&("undefined"==typeof indexedDB?"undefined":m(indexedDB))<"u"&&("undefined"==typeof IDBKeyRange?"undefined":m(IDBKeyRange))<"u"}catch(n){return!1}}(),iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){R(n._dbInfo,v,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;I(r)&&(r=z(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(u){r(u)}}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){R(n._dbInfo,v,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),I(e)&&(e=z(e)),t(e)},a.onerror=function(){r(a.error)}}catch(s){r(s)}}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var i=new a((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===p.call(t)?b(o.db).then((function(e){return e?t:function(e){return new a((function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)}))}(t)})):t})).then((function(t){R(r._dbInfo,y,(function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var u=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=u.error?u.error:u.transaction.error;i(e)}}catch(c){i(c)}}))})).catch(i)}));return s(i,n),i},removeItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){R(n._dbInfo,y,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(s){r(s)}}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){R(t._dbInfo,y,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(a){n(a)}}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){R(t._dbInfo,v,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(a){n(a)}}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){e<0?t(null):n.ready().then((function(){R(n._dbInfo,v,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,u=a.openKeyCursor();u.onsuccess=function(){var n=u.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},u.onerror=function(){r(u.error)}}catch(c){r(c)}}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){R(t._dbInfo,v,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(s){n(s)}}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;if(e.name){var u=e.name===n.name&&o._dbInfo.db?a.resolve(o._dbInfo.db):k(e).then((function(t){var n=h[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));r=e.storeName?u.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;w(e);var r=h[e.name],o=r.forages;t.close();for(var s=0;s<o.length;s++){var u=o[s];u._dbInfo.db=null,u._dbInfo.version=n}return new a((function(t,r){var o=i.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,x(n._dbInfo)}})).catch((function(t){throw(S(e,t)||a.resolve()).catch((function(){})),t}))}})):u.then((function(t){w(e);var n=h[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;return new a((function(t,n){var r=i.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<r.length;t++)x(r[t]._dbInfo)})).catch((function(t){throw(S(e,t)||a.resolve()).catch((function(){})),t}))}))}else r=a.reject("Invalid arguments");return s(r,t),r}};var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=/^~~local_forage_type~([^~]+)~/,A="__lfsc__:",j=A.length,D="arbf",T="blob",B="si08",N="ui08",U="uic8",H="si16",W="si32",F="ur16",q="ui32",X="fl32",G="fl64",$=j+D.length,K=Object.prototype.toString;function Y(e){var t,n,r,i,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=L.indexOf(e[t]),r=L.indexOf(e[t+1]),i=L.indexOf(e[t+2]),o=L.indexOf(e[t+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}function V(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=L[n[t]>>2],r+=L[(3&n[t])<<4|n[t+1]>>4],r+=L[(15&n[t+1])<<2|n[t+2]>>6],r+=L[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var J={serialize:function(e,t){var n="";if(e&&(n=K.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===K.call(e.buffer))){var r,i=A;e instanceof ArrayBuffer?(r=e,i+=D):(r=e.buffer,"[object Int8Array]"===n?i+=B:"[object Uint8Array]"===n?i+=N:"[object Uint8ClampedArray]"===n?i+=U:"[object Int16Array]"===n?i+=H:"[object Uint16Array]"===n?i+=F:"[object Int32Array]"===n?i+=W:"[object Uint32Array]"===n?i+=q:"[object Float32Array]"===n?i+=X:"[object Float64Array]"===n?i+=G:t(new Error("Failed to get type for BinaryArray"))),t(i+V(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+V(this.result);t(A+T+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(a){console.error("Couldn't convert value into a JSON string: ",e),t(null,a)}},deserialize:function(e){if(e.substring(0,j)!==A)return JSON.parse(e);var t,n=e.substring($),r=e.substring(j,$);if(r===T&&O.test(n)){var i=n.match(O);t=i[1],n=n.substring(i[0].length)}var a=Y(n);switch(r){case D:return a;case T:return o([a],{type:t});case B:return new Int8Array(a);case N:return new Uint8Array(a);case U:return new Uint8ClampedArray(a);case H:return new Int16Array(a);case F:return new Uint16Array(a);case W:return new Int32Array(a);case q:return new Uint32Array(a);case X:return new Float32Array(a);case G:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:Y,bufferToString:V};function Q(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function Z(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):Q(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,a)}),o)}function ee(e,t,n,r){var i=this;e=c(e);var o=new a((function(o,a){i.ready().then((function(){void 0===t&&(t=null);var s=t,u=i._dbInfo;u.serializer.serialize(t,(function(t,c){c?a(c):u.db.transaction((function(n){Z(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(ee.apply(i,[e,s,n,r-1]));a(t)}}))}))})).catch(a)}));return s(o,n),o}function te(e){return new a((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var ne={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new a((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(i){return r(i)}n.db.transaction((function(i){Q(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=J,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Z(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var u=o.item(s),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,u.key,s+1)))return void t(c)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Z(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){return ee.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Z(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Z(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Z(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Z(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Z(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return s(r=e.name?new a((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(te(r))})).then((function(e){return new a((function(t,n){e.db.transaction((function(r){function i(e){return new a((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],s=0,u=e.storeNames.length;s<u;s++)o.push(i(e.storeNames[s]));a.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):a.reject("Invalid arguments"),t),r}};function re(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function ie(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(t){return!0}}()||localStorage.length>0}var oe={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=re(e,this._defaultConfig),ie()?(this._dbInfo=t,t.serializer=J,a.resolve()):a.reject()},_support:function(){try{return("undefined"==typeof localStorage?"undefined":m(localStorage))<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,u.substring(i),a++)))return c}}}));return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new a((function(i,o){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||o(s),o(s)}}))}))}));return s(i,n),i},removeItem:function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return s(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return s(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(i){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return s(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return s(n,e),n},dropInstance:function(e,t){if(t=l.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return s(r=e.name?new a((function(t){e.storeName?t(re(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):a.reject("Invalid arguments"),t),r}},ae=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},se=function(e,t){for(var n=e.length,r=0;r<n;){if(ae(e[r],t))return!0;r++}return!1},ue=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ce={},le={},de={INDEXEDDB:M,WEBSQL:ne,LOCALSTORAGE:oe},fe=[de.INDEXEDDB._driver,de.WEBSQL._driver,de.LOCALSTORAGE._driver],he=["dropInstance"],pe=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(he),ve={description:"",driver:fe.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function me(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function ye(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(ue(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ge=new(function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),de)if(de.hasOwnProperty(n)){var r=de[n],i=r._driver;this[n]=i,ce[i]||this.defineDriver(r)}this._defaultConfig=ye({},ve),this._config=ye({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new a((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=pe.concat("_initStorage"),u=0,c=o.length;u<c;u++){var l=o[u];if((!se(he,l)||e[l])&&"function"!=typeof e[l])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=a.reject(t);return s(n,arguments[arguments.length-1]),n}},n=0,r=he.length;n<r;n++){var i=he[n];e[i]||(e[i]=t(i))}}();var d=function(n){ce[r]&&console.info("Redefining LocalForage driver: "+r),ce[r]=e,le[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(f){n(f)}}));return u(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=ce[e]?a.resolve(ce[e]):a.reject(new Error("Driver not found."));return u(r,t,n),r},e.prototype.getSerializer=function(e){var t=a.resolve(J);return u(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;ue(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function s(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve();return this._driverSet=c.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(s).catch(n)}o();var u=new Error("No available storage method found.");return r._driverSet=a.reject(u),r._driverSet}()}}(i)}))})).catch((function(){o();var e=new Error("No available storage method found.");return r._driverSet=a.reject(e),r._driverSet})),u(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!le[e]},e.prototype._extend=function(e){ye(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=pe.length;e<t;e++)me(this,pe[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=ge},{3:3}]},{},[4])(4),/*! streamsaver. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */function(e){var t=this;!function(){var e="object"==("undefined"==typeof window?"undefined":m(window))?window:t;e.HTMLElement||console.warn("streamsaver is meant to run on browsers main thread");var n=null,r=!1,i=e.WebStreamsPolyfill||{},o=e.isSecureContext,a=/constructor/i.test(e.HTMLElement)||!!e.safari||!!e.WebKitPoint,s=o||"MozAppearance"in document.documentElement.style?"iframe":"navigate",u={createWriteStream:function(t,i,l){var d,f={size:null,pathname:null,writableStrategy:void 0,readableStrategy:void 0},h=0,p=null,v=null,m=null;if(Number.isFinite(i)?(l=(d=[i,l])[0],i=d[1],console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),f.size=l,f.writableStrategy=i):i&&i.highWaterMark?(console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),f.size=l,f.writableStrategy=i):f=i||{},!a){var y;n||(n=o?c(u.mitm):function(t){var n=document.createDocumentFragment(),r={frame:e.open(t,"popup","width=200,height=100"),loaded:!1,isIframe:!1,isPopup:!0,remove:function(){r.frame.close()},addEventListener:function(){n.addEventListener.apply(n,arguments)},dispatchEvent:function(){n.dispatchEvent.apply(n,arguments)},removeEventListener:function(){n.removeEventListener.apply(n,arguments)},postMessage:function(){var e;(e=r.frame).postMessage.apply(e,arguments)}};return e.addEventListener("message",(function t(n){n.source===r.frame&&(r.loaded=!0,e.removeEventListener("message",t),r.dispatchEvent(new Event("load")))})),r}(u.mitm)),v=new MessageChannel,t=encodeURIComponent(t.replace(/\//g,":")).replace(/['()]/g,escape).replace(/\*/g,"%2A");var g={transferringReadable:r,pathname:f.pathname||Math.random().toString().slice(-6)+"/"+t,headers:{"Content-Type":"application/octet-stream; charset=utf-8","Content-Disposition":"attachment; filename*=UTF-8''"+t}};f.size&&(g.headers["Content-Length"]=f.size);var b=[g,"*",[v.port2]];if(r){var w="iframe"===s?void 0:{transform:function(e,t){if(!(e instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");h+=e.length,t.enqueue(e),p&&(location.href=p,p=null)},flush:function(){p&&(location.href=p)}},x=(m=new u.TransformStream(w,f.writableStrategy,f.readableStrategy)).readable;v.port1.postMessage({readableStream:x},[x])}v.port1.onmessage=function(e){e.data.download?"navigate"===s?(n.remove(),n=null,h?location.href=e.data.download:p=e.data.download):(n.isPopup&&(n.remove(),n=null,"iframe"===s&&c(u.mitm)),c(e.data.download)):e.data.abort&&(S=[],v.port1.postMessage("abort"),v.port1.onmessage=null,v.port1.close(),v.port2.close(),v=null)},n.loaded?(y=n).postMessage.apply(y,b):n.addEventListener("load",(function(){var e;(e=n).postMessage.apply(e,b)}),{once:!0})}var S=[];return!a&&m&&m.writable||new u.WritableStream({write:function(e){if(!(e instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");a?S.push(e):(v.port1.postMessage(e),h+=e.length,p&&(location.href=p,p=null))},close:function(){if(a){var e=new Blob(S,{type:"application/octet-stream; charset=utf-8"}),n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=t,n.click()}else v.port1.postMessage("end")},abort:function(){S=[],v.port1.postMessage("abort"),v.port1.onmessage=null,v.port1.close(),v.port2.close(),v=null}},f.writableStrategy)},WritableStream:e.WritableStream||i.WritableStream,supported:!0,version:{full:"2.0.5",major:2,minor:0,dot:5},mitm:"https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0"};function c(e){if(!e)throw new Error("meh");var t=document.createElement("iframe");return t.hidden=!0,t.src=e,t.loaded=!1,t.name="iframe",t.isIframe=!0,t.postMessage=function(){var e;return(e=t.contentWindow).postMessage.apply(e,arguments)},t.addEventListener("load",(function(){t.loaded=!0}),{once:!0}),document.body.appendChild(t),t}try{new Response(new ReadableStream),o&&!("serviceWorker"in navigator)&&(a=!0)}catch(l){a=!0}(function(e){try{!function(){var e=(new TransformStream).readable,t=new MessageChannel;t.port1.postMessage(e,[e]),t.port1.close(),t.port2.close(),r=!0,Object.defineProperty(u,"TransformStream",{configurable:!1,writable:!1,value:TransformStream})}()}catch(t){}})()}()}();var We=Object.prototype.toString;function Fe(e,t){return We.call(e)==="[object ".concat(t,"]")}var qe=function(e){return null!==e&&Fe(e,"Object")};function Xe(e){return Fe(e,"String")}function Ge(e,t){var n="".concat(e,"_").concat(t);return re.MD5(n)}function $e(e){if(e){var t,n,r,i=0;(null===(t=e.meta)||void 0===t?void 0:t.hidden)&&(i=1);var o={path:e.path,name:e.name,title:null===(n=e.meta)||void 0===n?void 0:n.title,type:i,index:null===(r=e.meta)||void 0===r?void 0:r.index};if(e.children){var s,u=[],c=a(e.children);try{for(c.s();!(s=c.n()).done;){var l=$e(s.value);l&&u.push(l)}}catch(d){c.e(d)}finally{c.f()}u.length>0&&(o.children=u)}return o}}function Ke(e){if(e){var t={name:e.name,index:e.index,path:e.path,type:e.type};return e.children&&e.children.length>0&&(t.children=[],e.children.forEach((function(e){var n,r=Ke(e);r&&(null===(n=t.children)||void 0===n||n.push(r))}))),t}}var Ye=i({panelGroups:{}}),Ve=function(){return{useGroupAccordion:function(e){return x((function(){return Ye.panelGroups[e].accordion}))},setGroupAccordionStatus:function(e,t){Ye.panelGroups[e]=h(h({},Ye.panelGroups[e]),{},{accordion:t})},panelExpanded:function(e,t){return x((function(){var n,r;return(null===(n=Ye.panelGroups[e])||void 0===n||null===(r=n.panelExpandStatus)||void 0===r?void 0:r[t])||!1}))},setPanelExpandedStatus:function(e,t,n){var r;Ye.panelGroups[e]=h(h({},Ye.panelGroups[e]),{},{panelExpandStatus:h(h({},(null===(r=Ye.panelGroups[e])||void 0===r?void 0:r.panelExpandStatus)||{}),{},w({},t,n))})},togglePanelExpandedStatus:function(e,t){Ye.panelGroups[e].accordion&&(Ye.panelGroups[e].panelExpandStatus[t]||Object.keys(Ye.panelGroups[e].panelExpandStatus).forEach((function(t){Ye.panelGroups[e].panelExpandStatus[t]=!1}))),Ye.panelGroups[e].panelExpandStatus[t]=!Ye.panelGroups[e].panelExpandStatus[t]}}},Je=function(e){return e>255?255:e<0?0:e},Qe=function(e,t){var n=e.replace("#",""),r=parseInt(n,16),i=Je((r>>16)+t),o=Je((r>>8&255)+t);return"#"+(Je((255&r)+t)|o<<8|i<<16).toString(16)},Ze=o({name:"VueCollapsiblePanelGroup",props:{accordion:{type:Boolean,default:!1},baseColor:{type:String,default:"#333333"}},setup:function(e){var t=s("group-".concat(ue())),n=Ve().setGroupAccordionStatus,r={"--base-color":e.baseColor,"--border-color":Qe(e.baseColor,180),"--bg-color-header":Qe(e.baseColor,140),"--bg-color-header-hover":Qe(e.baseColor,190),"--bg-color-header-active":Qe(e.baseColor,200),"--bg-color-body":"#fff"};return n(t.value,e.accordion),{idGroup:t,cssColorVars:r}}}),et=["data-id-group"];Ze.render=function(e,t,n,r,i,o){return l(),f("div",{"data-id-group":e.idGroup,style:b(e.cssColorVars),class:"vcpg"},[g(e.$slots,"default")],12,et)},Ze.__scopeId="data-v-23ab5317",Ze.__file="src/controls/collapsepanel/VCollapsiblePanelGroup.vue";var tt=o({name:"VueCollapsiblePanel",props:{expanded:{type:Boolean,default:!0}},setup:function(e,t){var n="panel-".concat(ue()),r=s(),i=s(),o=s(),a=Ve(),c=a.panelExpanded,l=a.togglePanelExpandedStatus,d=a.setPanelExpandedStatus,f=x((function(){return{hasContent:t.slots.content&&t.slots.content()[0].children.length>0,dataKey:ue()}})),h=x((function(){var e,t;return(null===(e=r.value)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.getAttribute("data-id-group"))||""})),p=x((function(){return c(h.value,n).value&&f.value.hasContent}));return S((function(){d(h.value,n,e.expanded)})),_((function(){u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return e.abrupt("return",i.value&&o.value&&(i.value.style.height="".concat(Math.min(o.value.scrollHeight,i.value.scrollHeight),"px")));case 3:case"end":return e.stop()}}),e)})))()})),{body:f,panelRef:r,bodyRef:i,bodyContentRef:o,isExpanded:p,collapse:function(e){e.style.height="0"},expand:function(e){e.style.height="".concat(e.scrollHeight,"px")},toggle:function(){!f.value.hasContent||l(h.value,n)},toggleIcon:'\n    <svg\n        width="24px"\n        height="24px"\n        viewBox="0 0 24 24"\n        fill="currentColor"\n        xmlns="http://www.w3.org/2000/svg"\n      >\n        <path d="M6.34292 7.75734L4.92871 9.17155L11.9998 16.2426L19.0708 9.17158L17.6566 7.75737L11.9998 13.4142L6.34292 7.75734Z"/>\n    </svg>\n'}}}),nt={class:"vcp__header-title"},rt={key:0,class:"vcp__header-icon"},it=["innerHTML"],ot={key:0,ref:"bodyRef",class:"vcp__body"},at={ref:"bodyContentRef",class:"vcp__body-content"};function st(e){return window.TouchEvent&&e instanceof TouchEvent}tt.render=function(e,t,n,r,i,o){return l(),f("section",{ref:"panelRef",class:R(["vcp",{"vcp--expanded":e.isExpanded,"vcp--expandable":e.body.hasContent}])},[C("header",{class:"vcp__header",onClick:t[0]||(t[0]=function(){return e.toggle&&e.toggle.apply(e,arguments)})},[C("div",nt,[g(e.$slots,"title")]),e.body.hasContent?(l(),f("div",rt,[g(e.$slots,"icon",{},(function(){return[C("span",{innerHTML:e.toggleIcon},null,8,it)]}))])):E("v-if",!0)]),z(I,{"data-key":e.body.dataKey,name:"slide",onBeforeEnter:e.collapse,onEnter:e.expand,onBeforeLeave:e.expand,onLeave:e.collapse},{default:P((function(){return[e.isExpanded?(l(),f("div",ot,[C("div",at,[g(e.$slots,"content")],512)],512)):E("v-if",!0)]})),_:3},8,["data-key","onBeforeEnter","onEnter","onBeforeLeave","onLeave"])],2)},tt.__scopeId="data-v-08c94cf8",tt.__file="src/controls/collapsepanel/VCollapsiblePanel.vue";var ut=function(){function e(t){c(this,e),w(this,"e",void 0),this.e=t}return d(e,[{key:"stopPropagation",value:function(){this.e.stopPropagation()}},{key:"preventDefault",value:function(){this.e.preventDefault()}},{key:"clientX",get:function(){return st(this.e)?("touchend"===this.e.type?this.e.changedTouches:this.e.touches).item(0).clientX:this.e.clientX}},{key:"clientY",get:function(){return st(this.e)?("touchend"===this.e.type?this.e.changedTouches:this.e.touches).item(0).clientY:this.e.clientY}},{key:"clientCoord",get:function(){return new ct(this.clientX,this.clientY)}},{key:"originalEvent",value:function(e){var t=e.mouse,n=e.touch;st(this.e)?n&&n(this.e):t&&t(this.e)}}],[{key:"bindDown",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=function(t){n(new e(t))},a=function(t){1===t.touches.length&&n(new e(t)),t.touches.length>1&&r&&r(new e(t))};return t.addEventListener("mousedown",o,i),t.addEventListener("touchstart",a,i),function(){t.removeEventListener("mousedown",o,i),t.removeEventListener("touchstart",a,i)}}},{key:"bindMove",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=function(t){n(new e(t))},o=function(t){1===t.touches.length&&n(new e(t))};return t.addEventListener("mousemove",i,r),t.addEventListener("touchmove",o,r),function(){t.removeEventListener("mousemove",i,r),t.removeEventListener("touchmove",o,r)}}},{key:"bindUp",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=function(t){n(new e(t))},o=function(t){0===t.touches.length&&n(new e(t))};return t.addEventListener("mouseup",i,r),t.addEventListener("touchend",o,r),function(){t.removeEventListener("mouseup",i,r),t.removeEventListener("touchend",o,r)}}}]),e}(),ct=function(){function e(t,n){c(this,e),w(this,"x",void 0),w(this,"y",void 0),this.x=t,this.y=n}return d(e,[{key:"clone",value:function(){return new e(this.x,this.y)}}]),e}(),lt=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c(this,e),w(this,"handle",void 0),w(this,"container",void 0),w(this,"options",void 0),w(this,"unbindDown",void 0),w(this,"unbindMove",void 0),w(this,"unbindUp",void 0),w(this,"offsetX",void 0),w(this,"offsetY",void 0),w(this,"mousedown",(function(e){if(e.preventDefault(),r.handle){var t=r.handle.getBoundingClientRect(),n=t.left,i=t.top;r.offsetX=e.clientX-n,r.offsetY=e.clientY-i}r.options.onMoveStart&&r.options.onMoveStart(),r.unbindMove=ut.bindMove(document,r.mousemove),r.unbindUp=ut.bindUp(document,r.mouseup)})),w(this,"mousemove",(function(e){r.container&&(r.container.style.left=e.clientX-r.offsetX+"px",r.container.style.top=e.clientY-r.offsetY+"px"),r.options.onMove&&r.options.onMove()})),w(this,"mouseup",(function(e){r.options.onMoveEnd&&r.options.onMoveEnd(),r.unbindUp(),r.unbindMove(),r.unbindUp=r.unbindMove=void 0})),this.handle=t,this.container=n,this.options=i,t&&(this.unbindDown=ut.bindDown(t,this.mousedown),t.classList.add("draggable-handle"))}return d(e,[{key:"teardown",value:function(){var e;null!==(e=this.handle)&&void 0!==e&&e.classList.remove("draggable-handle"),this.unbindDown&&this.unbindDown(),this.unbindUp&&this.unbindUp(),this.unbindMove&&this.unbindMove()}}]),e}(),dt=function(){function e(t,n){var r=this;c(this,e),w(this,"_group",void 0),w(this,"onChange",void 0),w(this,"zIndex",void 0),this._group=t,this.onChange=n,this.a((function(e){return e.push(r)}))}return d(e,[{key:"group",get:function(){return this._group},set:function(e){this._group=e;var t=ht(this._group),n=ht(e);t.splice(t.indexOf(this),1),n.push(this),vt()}},{key:"unregister",value:function(){var e=this;this.a((function(t){return t.splice(t.indexOf(e),1)}))}},{key:"raise",value:function(){var e=this;this.a((function(t){t.splice(t.indexOf(e),1),t.push(e)}))}},{key:"a",value:function(e){e(ht(this._group)),vt()}}]),e}(),ft=new Map;function ht(e){return ft.has(e)||ft.set(e,[]),ft.get(e)}function pt(e,t){return e>t?-pt(t,e):e<0&&t>=0?1:e-t}function vt(){var e,t=0,n=a(function(e){var t=[];return e.forEach((function(e,n){return t.push(n)})),t}(ft).sort(pt));try{for(n.s();!(e=n.n()).done;){var r,i=a(ht(e.value));try{for(i.s();!(r=i.n()).done;){var o=r.value;t!=o.zIndex&&(o.zIndex=t,o.onChange(t)),t++}}catch(s){i.e(s)}finally{i.f()}}}catch(s){n.e(s)}finally{n.f()}}function mt(e){if(e){var t=e.style,n=t.width,r=t.height;e.style.width="auto",e.style.height="auto";var i=yt(e);return e.style.width=n,e.style.height=r,i}return{width:0,height:0,top:0,left:0,bottom:0,right:0}}function yt(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height,i=t.top,o=t.left;return{width:n,height:r,top:i,left:o,bottom:i+r,right:o+n}}var gt=function(){function e(t,n){var r=this;if(c(this,e),w(this,"container",void 0),w(this,"options",void 0),w(this,"handles",void 0),this.container=t,this.options=n,t&&n){this.handles=bt.map((function(e){return new e(t,r)}));var i=mt(t),o=i.width,a=i.height,s=n.maxWidth||window.innerWidth,u=n.maxHeight||window.innerHeight,l=!1;(o<n.minWidth||o>s)&&(t.style.width="".concat(xt(o,n.minWidth,s),"px"),l=!0),(a<n.minHeight||a>u)&&(t.style.height="".concat(xt(a,n.minHeight,u),"px"),l=!0),l&&n.onResize&&n.onResize()}}return d(e,[{key:"teardown",value:function(){var e;null===(e=this.handles)||void 0===e||e.forEach((function(e){return e.teardown()}))}}]),e}(),bt=[],wt=function(){function e(t,n){var r=this;c(this,e),w(this,"container",void 0),w(this,"helper",void 0),w(this,"handle",void 0),w(this,"handleSize",8),w(this,"unbindDown",void 0),w(this,"unbindMove",void 0),w(this,"unbindUp",void 0),w(this,"x0",void 0),w(this,"y0",void 0),w(this,"left0",void 0),w(this,"top0",void 0),w(this,"width0",void 0),w(this,"height0",void 0),w(this,"mousedown",(function(e){e.preventDefault(),e.stopPropagation();var t=yt(r.container),n=t.left,i=t.top,o=t.width,a=t.height;r.x0=e.clientX,r.y0=e.clientY,r.left0=n,r.top0=i,r.width0=o,r.height0=a,r.calcSafeBoundaries(),r.helper.options&&r.helper.options.onResizeStart&&r.helper.options.onResizeStart(),r.unbindMove=ut.bindMove(document,r.mousemove),r.unbindUp=ut.bindUp(document,r.mouseup)})),w(this,"minLeft",void 0),w(this,"maxLeft",void 0),w(this,"minRight",void 0),w(this,"maxRight",void 0),w(this,"minTop",void 0),w(this,"maxTop",void 0),w(this,"minBottom",void 0),w(this,"maxBottom",void 0),w(this,"mousemove",(function(e){e.preventDefault(),e.stopPropagation(),r.setPosition(e),r.fixPosition(),r.helper.options&&r.helper.options.onResize&&r.helper.options.onResize()})),w(this,"mouseup",(function(e){e.preventDefault(),e.stopPropagation(),r.helper.options&&r.helper.options.onResizeEnd&&r.helper.options.onResizeEnd(),r.unbindUp(),r.unbindMove(),r.unbindUp=r.unbindMove=void 0})),this.container=t,this.helper=n,this.handle=this.createHandleElement(),this.unbindDown=ut.bindDown(this.handle,this.mousedown)}return d(e,[{key:"teardown",value:function(){this.unbindDown(),this.unbindUp&&this.unbindUp(),this.unbindMove&&this.unbindMove(),this.handle.parentElement.removeChild(this.handle)}},{key:"calcSafeBoundaries",value:function(){if(this.helper.options){var e=yt(this.container),t=e.left,n=e.top,r=e.right,i=e.bottom,o=this.helper.options,a=o.maxWidth||window.innerWidth,s=o.maxHeight||window.innerHeight;this.minLeft=Math.max(r-a,0),this.maxLeft=r-o.minWidth,this.minRight=t+o.minWidth,this.maxRight=Math.min(t+a,window.innerWidth),this.minTop=Math.max(i-s,0),this.maxTop=i-o.minHeight,this.minBottom=n+o.minHeight,this.maxBottom=Math.min(n+s,window.innerHeight)}}},{key:"fixPosition",value:function(){var e=yt(this.container),t=e.width,n=e.height,r=e.left,i=e.top,o=e.right,a=e.bottom,s=this.helper.options;!s||(r<this.minLeft?(this.container.style.width=t+r-this.minLeft+"px",this.container.style.left="".concat(this.minLeft,"px")):r>this.maxLeft?(this.container.style.width="".concat(s.minWidth,"px"),this.container.style.left="".concat(this.maxLeft,"px")):o<this.minRight?this.container.style.width="".concat(s.minWidth,"px"):o>this.maxRight&&(this.container.style.width=this.maxRight-r+"px"),i<this.minTop?(this.container.style.height=n+i-this.minTop+"px",this.container.style.top="".concat(this.minTop,"px")):i>this.maxTop?(this.container.style.height="".concat(s.minHeight,"px"),this.container.style.top="".concat(this.maxTop,"px")):a<this.minBottom?this.container.style.height="".concat(s.minHeight,"px"):a>this.maxBottom&&(this.container.style.height=this.maxBottom-i+"px"))}},{key:"createHandleElement",value:function(){var e=document.createElement("div"),t=e.style;return t.position="absolute",this.applyStyle(t),this.container.appendChild(e),e}}]),e}();function xt(e,t,n){return e<t?t:e>n?n:e}bt.push(function(e){t(i,e);var n=r(i);function i(){return c(this,i),n.apply(this,arguments)}return d(i,[{key:"setPosition",value:function(e){this.container.style.width=this.width0+e.clientX-this.x0+"px",this.container.style.height=this.height0+e.clientY-this.y0+"px"}},{key:"applyStyle",value:function(e){e.width=2*this.handleSize+"px",e.height=2*this.handleSize+"px",e.right=-this.handleSize+"px",e.bottom=-this.handleSize+"px",e.cursor="nwse-resize"}}]),i}(wt),function(e){t(i,e);var n=r(i);function i(){return c(this,i),n.apply(this,arguments)}return d(i,[{key:"setPosition",value:function(e){this.container.style.height=this.height0+e.clientY-this.y0+"px"}},{key:"applyStyle",value:function(e){e.right="".concat(this.handleSize,"px"),e.left="".concat(this.handleSize,"px"),e.height=2*this.handleSize+"px",e.bottom=-this.handleSize+"px",e.cursor="ns-resize"}}]),i}(wt),function(e){t(i,e);var n=r(i);function i(){return c(this,i),n.apply(this,arguments)}return d(i,[{key:"setPosition",value:function(e){this.container.style.left=this.left0+e.clientX-this.x0+"px",this.container.style.width=this.width0-(e.clientX-this.x0)+"px",this.container.style.height=this.height0+e.clientY-this.y0+"px"}},{key:"applyStyle",value:function(e){e.left=-this.handleSize+"px",e.bottom=-this.handleSize+"px",e.width=2*this.handleSize+"px",e.height=2*this.handleSize+"px",e.cursor="nesw-resize"}}]),i}(wt),function(e){t(i,e);var n=r(i);function i(){return c(this,i),n.apply(this,arguments)}return d(i,[{key:"setPosition",value:function(e){this.container.style.left=this.left0+e.clientX-this.x0+"px",this.container.style.width=this.width0-(e.clientX-this.x0)+"px"}},{key:"applyStyle",value:function(e){e.left=-this.handleSize+"px",e.bottom="".concat(this.handleSize,"px"),e.width=2*this.handleSize+"px",e.top="".concat(this.handleSize,"px"),e.cursor="ew-resize"}}]),i}(wt),function(e){t(i,e);var n=r(i);function i(){return c(this,i),n.apply(this,arguments)}return d(i,[{key:"setPosition",value:function(e){this.container.style.left=this.left0+e.clientX-this.x0+"px",this.container.style.width=this.width0-(e.clientX-this.x0)+"px",this.container.style.top=this.top0+e.clientY-this.y0+"px",this.container.style.height=this.height0-(e.clientY-this.y0)+"px"}},{key:"applyStyle",value:function(e){e.left=-this.handleSize+"px",e.top=-this.handleSize+"px",e.width=2*this.handleSize+"px",e.height=2*this.handleSize+"px",e.cursor="nwse-resize"}}]),i}(wt),function(e){t(i,e);var n=r(i);function i(){return c(this,i),n.apply(this,arguments)}return d(i,[{key:"setPosition",value:function(e){this.container.style.top=this.top0+e.clientY-this.y0+"px",this.container.style.height=this.height0-(e.clientY-this.y0)+"px"}},{key:"applyStyle",value:function(e){e.left="".concat(this.handleSize,"px"),e.right="".concat(this.handleSize,"px"),e.height=2*this.handleSize+"px",e.top=-this.handleSize+"px",e.cursor="ns-resize"}}]),i}(wt),function(e){t(i,e);var n=r(i);function i(){return c(this,i),n.apply(this,arguments)}return d(i,[{key:"setPosition",value:function(e){this.container.style.top=this.top0+e.clientY-this.y0+"px",this.container.style.height=this.height0-(e.clientY-this.y0)+"px",this.container.style.width=this.width0+e.clientX-this.x0+"px"}},{key:"applyStyle",value:function(e){e.right=-this.handleSize+"px",e.top=-this.handleSize+"px",e.height=2*this.handleSize+"px",e.width=2*this.handleSize+"px",e.cursor="nesw-resize"}}]),i}(wt),function(e){t(i,e);var n=r(i);function i(){return c(this,i),n.apply(this,arguments)}return d(i,[{key:"setPosition",value:function(e){this.container.style.width=this.width0+e.clientX-this.x0+"px"}},{key:"applyStyle",value:function(e){e.right=-this.handleSize+"px",e.top="".concat(this.handleSize,"px"),e.bottom="".concat(this.handleSize,"px"),e.width=2*this.handleSize+"px",e.cursor="ew-resize"}}]),i}(wt));var St=o({name:"",props:{disabled:{type:Boolean,default:!1},windowStyle:{type:Object,required:!0}},components:{},setup:function(e){var t=s(!1),n=s(!1);return{hover:t,active:n,style:function(){var r=e.windowStyle.button;return t.value&&(r=h(h({},r),this.windowStyle.buttonHover)),n.value&&(r=h(h({},r),this.windowStyle.buttonActive)),r},mouseup:function(e){this.active&&this.$emit("click")},mousedown:function(e){e.preventDefault(),n.value=!0;var t=ut.bindUp(document,(function(){n.value=!1,t()}))}}}}),_t=["disabled"];St.render=function(e,t,n,r,i,o){return l(),f("div",{class:"btn",style:b(e.style()),onMouseenter:t[0]||(t[0]=function(t){return e.hover=!0}),onMouseleave:t[1]||(t[1]=function(t){return e.hover=!1}),onMousedown:t[2]||(t[2]=M((function(){return e.mousedown&&e.mousedown.apply(e,arguments)}),["stop"])),onTouchstart:t[3]||(t[3]=M((function(){return e.mousedown&&e.mousedown.apply(e,arguments)}),["stop"])),onMouseup:t[4]||(t[4]=function(){return e.mouseup&&e.mouseup.apply(e,arguments)}),onTouchend:t[5]||(t[5]=function(){return e.mouseup&&e.mouseup.apply(e,arguments)}),disabled:e.disabled},[g(e.$slots,"default")],44,_t)},St.__scopeId="data-v-71662210",St.__file="src/controls/vuewindow/window/Button.vue";var kt=new Set;function Ct(e){return null!==e?parseFloat(e):0}function Et(e){var t=window.getComputedStyle(e);return{width:Math.ceil([t.paddingLeft,t.width,t.paddingRight].map(Ct).reduce((function(e,t){return e+t}))),height:Math.ceil([t.paddingTop,t.height,t.paddingBottom].map(Ct).reduce((function(e,t){return e+t})))}}var zt=d((function e(t,n){c(this,e),w(this,"width",void 0),w(this,"height",void 0),this.width=t,this.height=n}));function It(e){var t=e.windowEl;if(t){var n=parseFloat(t.style.left||"NaN"),r=parseFloat(t.style.top||"NaN");if(!isNaN(n)&&!isNaN(r))return{left:n,top:r}}return null}function Pt(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}window.addEventListener("resize",(function(e){kt.forEach((function(e){e&&function(e){return Fe(e,"Function")}(e.fixPosition)&&e.fixPosition()}))}));var Rt,Mt,Lt=[],Ot=o({name:"Window",props:{windowStyle:{type:Object,required:!0},isOpen:{type:Boolean,required:!1,default:!0},title:{type:String,required:!0,default:""},closeButton:{type:Boolean,required:!1,default:!0},resizable:{type:Boolean,required:!1,default:!1},isScrollable:{type:Boolean,required:!1,default:!1},padding:{type:Number,required:!1,default:8},activateWhenOpen:{type:Boolean,required:!1,default:!0},positionHint:{type:String,required:!1,default:""},zGroup:{type:Number,required:!1,default:1},overflow:{type:String,required:!1,default:"visible"},minWidth:{type:Number,required:!1,default:1},minHeight:{type:Number,required:!1,default:0},maxWidth:{type:Number,required:!1,default:0},maxHeight:{type:Number,required:!1,default:0},height:{type:Number,required:!1},width:{type:Number,required:!1},top:{type:Number,required:!1},left:{type:Number,required:!1}},components:{myButton:St},setup:function(e,t){var n=this,r=t.emit,i=L();if(i){var o,a,u,c=i.proxy,l=0,d=s(e.isOpen),f=s(null),v=s(null),m=s(null),y=s(h(h({},e.windowStyle.window),{},{zIndex:"auto",overflow:e.overflow})),g=x((function(){return e.windowStyle.titlebar})),b=x((function(){var t=h({},e.windowStyle.content);return e.resizable?t.padding="0":null!=e.padding&&(t.padding="".concat(e.padding,"px")),e.isScrollable&&(t.overflow="auto"),t}));return O((function(){return e.isOpen}),(function(e){d.value=e})),O((function(){return e.zGroup}),(function(e){u.group=e})),O((function(){return e.width}),(function(e){C({width:e}),E(!1)})),O((function(){return e.height}),(function(e){C({height:e}),E(!1)})),S((function(){Lt.push(c),u=new dt(e.zGroup,w),e.isOpen&&(k((function(){var t;0==l++&&(C(c),function(){var t,n,r=f.value,i=mt(r),o=i.width,a=i.height;if(void 0!==e.left!=(void 0!==e.top))throw new Error("Either of left or top is specified. Both must be set or not set.");if("number"==typeof e.left)t=e.left,n=e.top;else{var s=e.positionHint||"auto";switch(s){case"auto":!function(){var e=20,r=50,i=0;do{if(Lt.every((function(t){if(!t.isOpen||c==t)return!0;var n=It(t);return null==n||Pt(n.left,n.top,e,r)>16})))break;e=(e+40)%(window.innerWidth-200),r=(r+40)%(window.innerHeight-200)}while(++i<100);t=e,n=r}();break;case"center":t=(window.innerWidth-o)/2,n=(window.innerHeight-a)/2,console.log(t,n,window.innerWidth,window.innerHeight,"111111");break;default:try{var u=s.split("/").map(Number);if(2!=u.length)throw null;var l=p(u,2),d=l[0],h=l[1];if(!isFinite(d)||!isFinite(h))throw null;t=d>=0?d:window.innerWidth-o+d,n=h>=0?h:window.innerHeight-a+h}catch(v){throw new Error("invalid position string: ".concat(s))}}}r&&(r.style.left="".concat(t,"px"),r.style.top="".concat(n,"px"))}()),e.resizable&&E(),I(),o=new lt(v.value,f.value,{onMove:function(){return I()},onMoveStart:function(){return r("move-start")},onMoveEnd:function(){return r("move-end")}}),e.resizable&&(t=mt(v.value).height,a=new gt(f.value,{onResize:function(){return E()},onResizeStart:function(){return r("resize-start")},onResizeEnd:function(){return r("resize-end")},minWidth:e.minWidth,minHeight:e.minHeight+t,maxWidth:e.maxWidth,maxHeight:e.maxHeight?e.maxHeight+t:void 0}))})),e.activateWhenOpen&&_()),kt.add(c)})),A((function(){kt.delete(n),u.unregister(),a&&a.teardown(),o&&o.teardown(),Lt.splice(Lt.indexOf(c),1)})),{isOpen:d,windowEl:f,titlebar:v,content:m,activate:_,styleWindow:y,styleTitlebar:g,styleContent:b,closeButtonClick:function(){d.value=!1,r("closebuttonclick")},fixPosition:z}}function w(e){y.value.zIndex="".concat(e)}function _(){u.raise(),r("activate")}function C(e){var t=e.width,n=e.height,r=e.top,i=e.left,o=f;if(o&&null!=t&&(o.value.style.width="".concat(t,"px")),null!=n){var a=v.value;if(a){var s=Et(a).height;o.value.style.height="".concat(n+s,"px")}}o&&null!=i&&(o.value.style.left="".concat(i,"px")),o&&null!=r&&(o.value.style.top="".concat(r,"px"))}function E(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=f.value,n=v.value,i=m.value;if(i&&t&&n){var o=Et(i),a=o.width,s=o.height,u=Et(t),c=u.width,l=u.height,d=Et(n).height,h=c-(i.offsetWidth-a),p=l-d-(i.offsetHeight-s);i.style.width="".concat(h,"px"),i.style.height="".concat(p,"px"),z(),r("resize",new zt(h,p)),e&&(r("update:width",h),r("update:height",p))}}function z(){var e=f.value;if(e){var t=e.getBoundingClientRect();t.left<0&&(y.value.left="0px"),t.top<0&&(y.value.top="0px"),t.right>window.innerWidth&&(y.value.left=window.innerWidth-t.width+"px"),t.bottom>window.innerHeight&&(y.value.top=window.innerHeight-t.height+"px")}}function I(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];z();var t=f.value;if(t){var n=t.getBoundingClientRect(),i=n.left,o=n.top;e&&(r("update:left",i),r("update:top",o))}}}}),At={class:"title"},jt=j("×");Ot.render=function(e,t,n,r,i,o){var a=D("myButton");return l(),T(I,{name:"fade",onAfterLeave:t[2]||(t[2]=function(t){return e.$emit("close")}),onAfterEnter:t[3]||(t[3]=function(t){return e.$emit("open")})},{default:P((function(){return[H(C("div",{class:"window",style:b(e.styleWindow),ref:"windowEl",onMousedown:t[0]||(t[0]=function(){return e.activate&&e.activate.apply(e,arguments)}),onTouchstart:t[1]||(t[1]=function(){return e.activate&&e.activate.apply(e,arguments)})},[C("div",{class:"titlebar",style:b(e.styleTitlebar),ref:"titlebar"},[C("div",At,[e.$slots.title?g(e.$slots,"title",{key:0}):(l(),f(N,{key:1},[j(F(e.title),1)],2112))]),e.closeButton?(l(),T(a,{key:0,windowStyle:e.windowStyle,onClick:e.closeButtonClick},{default:P((function(){return[jt]})),_:1},8,["windowStyle","onClick"])):E("v-if",!0)],4),C("div",{class:"content",style:b(e.styleContent),ref:"content"},[g(e.$slots,"default")],4)],36),[[W,e.isOpen]])]})),_:3})},Ot.__file="src/controls/vuewindow/window/index.vue",function(e){e[e.StyleBlack=0]="StyleBlack",e[e.StyleWhite=1]="StyleWhite",e[e.StyleMetal=2]="StyleMetal",e[e.StyleGrayblue=3]="StyleGrayblue"}(Rt||(Rt={})),function(e){e[e.top=0]="top",e[e.bottom=1]="bottom",e[e.centerBack=2]="centerBack",e[e.centerMain=3]="centerMain",e[e.centerFront=4]="centerFront",e[e.left=5]="left",e[e.right=6]="right"}(Mt||(Mt={}));var Dt=function(){function e(t,n,r){var i=this;c(this,e),w(this,"layoutState",void 0),w(this,"layoutMap",new Map),w(this,"preConditionMap",new Map),w(this,"widgetsLoadedSet",new Set),w(this,"widgetConfig",new Array),w(this,"_LayoutID",void 0),this.layoutState=t,this._LayoutID=r,n.forEach((function(e){var t;if(e.layoutID===r&&(i.widgetConfig.push(e),e.afterid))if(i.preConditionMap.has(e.afterid))null===(t=i.preConditionMap.get(e.afterid))||void 0===t||t.add(e);else{var n=new Set;n.add(e),i.preConditionMap.set(e.afterid,n)}}))}var t;return d(e,[{key:"getLayoutID",value:function(){return this._LayoutID}},{key:"getWidgetConfig",value:function(){return this.widgetConfig}},{key:"preloadWidgets",value:function(){var e=this;this.widgetConfig.filter((function(e){return e.preload&&!e.afterid})).forEach((function(t){e._loadWidget(t)}))}},{key:"loadWidget",value:(t=u(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(qe(t)?n=t:Xe(t)&&(n=this.widgetConfig.find((function(e){return e.id===t}))),!n){e.next=16;break}if(!n.afterid){e.next=12;break}if(e.t2=this.isWidgetLoaded(n.afterid),e.t2){e.next=9;break}return e.next=9,this.loadWidget(n.afterid);case 9:e.t1=this._loadWidget(n),e.next=13;break;case 12:e.t1=this._loadWidget(n);case 13:e.t0=e.t1,e.next=17;break;case 16:e.t0=void 0;case 17:return e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"loadOtherDependenceWidgets",value:function(e){var t,n=this;this.preConditionMap.has(e)&&(null===(t=this.preConditionMap.get(e))||void 0===t||t.forEach((function(e){e.preload&&n._loadWidget(e)})))}},{key:"_loadWidget",value:function(e){var t=this;if(!this.widgetsLoadedSet.has(e.id))return e.component().then((function(n){if(n.default){var r=q(n.default);t.getContainerComponents(e.container).value.set(e.id,r),t.widgetsLoadedSet.add(e.id),k().then((function(){fe.EventBus.emit(le.WidgetLoadedEvent,{layoutID:t._LayoutID,widgetID:e.id}),t.loadOtherDependenceWidgets(e.id)}))}}))}},{key:"hasDependentWidgets",value:function(e){var t=!1;if(this.preConditionMap.has(e)){var n=this.preConditionMap.get(e);if(n){var r,i=a(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(this.isWidgetLoaded(o.id)){t=!0;break}}}catch(s){i.e(s)}finally{i.f()}}}return t}},{key:"unloadWidget",value:function(e){if(e&&this.isWidgetLoaded(e)){var t=this.widgetConfig.find((function(t){return t.id===e}));if(t){if(this.preConditionMap.has(e)){var n=this.preConditionMap.get(e);if(n){var r,i=a(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.unloadWidget(o.id)}}catch(c){i.e(c)}finally{i.f()}}}var s=this.getContainerComponents(t.container),u=s.value.get(e);u&&u.unmounted&&u.unmounted(),s.value.delete(e),this.widgetsLoadedSet.delete(e),fe.EventBus.emit(le.WidgetUnLoadedEvent,{layoutID:this._LayoutID,widgetID:e})}}}},{key:"isWidgetLoaded",value:function(e){return this.widgetsLoadedSet.has(e)}},{key:"splitTwoContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.layoutState.centerMainContainer,n=this.layoutState.centerBackContainer;e?(t&&(t.style.left="0",t.style.width="100%"),n&&(n.style.width="100%")):(t&&(t.style.left="50%",t.style.width="50%"),n&&(n.style.width="50%"))}},{key:"getLayoutContainer",value:function(e){switch(e){case Mt.top:return this.layoutState.topContainer;case Mt.bottom:return this.layoutState.bottomContainer;case Mt.left:return this.layoutState.leftContainer;case Mt.right:return this.layoutState.rightContainer;case Mt.centerBack:return this.layoutState.centerBackContainer;case Mt.centerMain:return this.layoutState.centerMainContainer;case Mt.centerFront:return this.layoutState.centerFrontContainer}}},{key:"changeContainerVisible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getLayoutContainer(e);n&&(n.style.visibility=t?"visible":"hidden")}},{key:"changeWidgetVisible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getWidgetComponent(e);n&&fe.EventBus.emit(le.WidgetVisibleChanged,{id:e,layoutID:this._LayoutID,name:n.name,visible:t})}},{key:"getWidgetComponent",value:function(e){if(this.widgetsLoadedSet.has(e)){var t=this.widgetConfig.find((function(t){return t.id===e}));if(t)return this.getContainerComponents(t.container).value.get(e)}}},{key:"getWigetItem",value:function(e){return this.widgetConfig.find((function(t){return t.id===e}))}},{key:"getGroupWigetItems",value:function(e){return this.widgetConfig.filter((function(t){return t.group===e}))}},{key:"getContainerComponents",value:function(e){if(this.layoutMap.has(e))return this.layoutMap.get(e);var t=s(new Map);return this.layoutMap.set(e,t),t}},{key:"addContainerComponent",value:function(e,t){}}]),e}(),Tt=o({name:"MainContainer",props:{widgetConfig:{type:Array,required:!0,default:function(){return[]}},layoutID:{type:String,default:void 0},layoutStyle:{type:Object}},emits:["containerLoaded"],setup:function(e,t){t.attrs,t.slots;var n=t.emit,r=e.layoutID,o=i({topContainer:void 0,centerBackContainer:void 0,centerMainContainer:void 0,centerFrontContainer:void 0,bottomContainer:void 0,leftContainer:void 0,rightContainer:void 0}),a=new Dt(o,e.widgetConfig,r),s=p(Mt.top),u=p(Mt.centerBack),c=p(Mt.centerFront),l=p(Mt.left),d=p(Mt.right),f=p(Mt.bottom);function p(e){return null==a?void 0:a.getContainerComponents(e)}var v=x((function(){return e.layoutStyle}));return S((function(){a&&(a.preloadWidgets(),void 0===r&&(fe.LayoutManager=a),n("containerLoaded",{layoutID:r,layoutManager:a}))})),h(h({},B(o)),{},{topContainerComponents:s,centerbackComponents:u,centerfrontComponents:c,leftContainerComponents:l,rightContainerComponents:d,bottomContainerComponents:f,containerStyle:v})}}),Bt={ref:"topContainer",class:"topContainer"},Nt={ref:"centerBackContainer",class:"centerdiv backContainer"},Ut={ref:"centerMainContainer",class:"centerdiv mainContainer"},Ht={ref:"centerFrontContainer",class:"centerdiv centerContainer"},Wt={ref:"leftContainer",class:"leftContainer"},Ft={ref:"rightContainer",class:"rightContainer"},qt={ref:"bottomContainer",class:"bottomContainer"};Tt.render=function(e,t,n,r,i,o){var a=D("router-view");return l(),f("div",{class:"layoutContainer",style:b(e.containerStyle)},[C("div",Bt,[(l(!0),f(N,null,U(e.topContainerComponents,(function(e){var t=p(e,2),n=t[0],r=t[1];return l(),T(X(r),{key:n})})),128))],512),C("div",null,[E(" 底层-主容器 "),C("div",Nt,[(l(!0),f(N,null,U(e.centerbackComponents,(function(e){var t=p(e,2),n=t[0],r=t[1];return l(),T(X(r),{key:n})})),128))],512),E(" 主要容器 "),C("div",Ut,[z(a,null,{default:P((function(e){var t=e.Component;return[(l(),T(X(t)))]})),_:1})],512),E(" 浮动-主容器 "),C("div",Ht,[(l(!0),f(N,null,U(e.centerfrontComponents,(function(e){var t=p(e,2),n=t[0],r=t[1];return l(),T(X(r),{key:n})})),128))],512),C("div",Wt,[(l(!0),f(N,null,U(e.leftContainerComponents,(function(e){var t=p(e,2),n=t[0],r=t[1];return l(),T(X(r),{key:n})})),128))],512),C("div",Ft,[(l(!0),f(N,null,U(e.rightContainerComponents,(function(e){var t=p(e,2),n=t[0],r=t[1];return l(),T(X(r),{key:n})})),128))],512)]),C("div",qt,[(l(!0),f(N,null,U(e.bottomContainerComponents,(function(e){var t=p(e,2),n=t[0],r=t[1];return l(),T(X(r),{key:n})})),128))],512)],4)},Tt.__scopeId="data-v-4d081e5c",Tt.__file="src/controls/layoutcontainer/layout.vue";var Xt,Gt=new Map,$t=new Map,Kt=(n("s",{getDefaultClient:function(){if(Xt||(Xt=new Le(SysConfig.DefaultHproseAPI)),!Xt)throw Error("HproseProxy对象为空");return Xt},registerHprose:function(e,t){var n=$t.get(e);if(!n){var r=new Le(t);Gt.set(e,r)}return n},getHprose:function(e){return null==$t?void 0:$t.get(e)},getProxyHprose:function(e){return Gt.get(e)},unregisterHprose:function(e){Gt.get(e)&&($t.delete(e),Gt.delete(e))}}),"/api/Login/Login"),Yt="/api/Check/ExitLogin",Vt="/api/Check/RefreshToken",Jt="/api/Check/CheckToken",Qt="access_token",Zt=fe.Config.ServiceURL.LoginAuthURL;function en(){var e,t=null===(e=ve())||void 0===e?void 0:e.refresh;t&&ge(Vt,Zt,{refreshToken:t}).then((function(e){nn(e.data)}))}function tn(e){fe.User||(fe.User={id:e.id,name:e.name,issystem:e.issystem,issecurity:e.issecurity,appkey:e.appkey,role:e.role,doubleToken:{accessToken:{tokenContent:e.token,expires:e.expire},refreshToken:{tokenContent:e.refresh,expires:e.expire}}});var t=(new Date).getTime(),n=new Date(e.expire).getTime()-t;n>0&&(n<=4e3?en():setTimeout(en,n-4e3))}function nn(e){fe.User&&(fe.User.doubleToken=e);var t=(new Date).getTime(),n=new Date(e.accessToken.expires).getTime()-t;if(n>0&&fe.User){var r=ve();if(!r){var i=fe.User.doubleToken;r={id:fe.User.id,name:fe.User.name,token:i?i.accessToken.tokenContent:"",expire:i?i.accessToken.expires:"",refresh:i?i.accessToken.tokenContent:"",issystem:fe.User.issystem,issecurity:fe.User.issecurity,appkey:fe.User.appkey,role:fe.User.role}}r.token=e.accessToken.tokenContent,r.expire=e.accessToken.expires,r.refresh=e.refreshToken.tokenContent,pe.set(Qt,r,n/1e3),tn(r)}else pe.remove(Qt)}function rn(e){fe.User=e}var on=fe.Config.ServiceURL.LoginAuthURL;function an(){return an=u(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(Kt,on,t);case 2:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===n;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=n.data;case 11:return r=e.t2,e.abrupt("return",(r&&r.isSuccess&&(rn(r.resultValue),nn(r.resultValue.doubleToken)),r));case 13:case"end":return e.stop()}}),e)}))),an.apply(this,arguments)}var sn="ROLE_SYSTEM_RIGHT",un=new se("",sessionStorage);function cn(e){un.set(sn,e)}function ln(){un.remove(sn)}var dn=[];function fn(){return un.get(sn)}function hn(){return hn=u(regeneratorRuntime.mark((function e(t,n,r,i){var o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ln(),fe.User){e.next=2;break}return e.abrupt("return");case 2:if(!i){e.next=6;break}o=i,e.next=16;break;case 6:if(n){e.next=8;break}return e.abrupt("return");case 8:return(s=r)||(s=fe.Config.ServiceURL.LoginAuthURL),e.next=12,ge(n,s,{system:t});case 12:if((u=e.sent)&&u.data){e.next=15;break}return e.abrupt("return",void(null===(a=fe.Message)||void 0===a||a.warn("无法获取功能授权列表！")));case 15:o=u.data;case 16:return e.abrupt("return",(o&&cn(o),o));case 17:case"end":return e.stop()}}),e)}))),hn.apply(this,arguments)}function pn(e,t){var n=h({},e);return n.meta||(n.meta={}),null!=t.index&&(n.meta.index=t.index),null!=t.title&&(n.meta.title=t.title),e.children&&(n.children=[],t.children&&t.children.forEach((function(t){var r,i=null===(r=e.children)||void 0===r?void 0:r.find((function(e){return e.path===t.path}));if(i){var o,a=pn(i,t);a&&(null===(o=n.children)||void 0===o||o.push(a))}}))),n}}}}))}();
