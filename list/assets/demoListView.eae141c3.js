import{_ as E,s as I,a as R}from"./index.a372dc25.js";import{B as g,d as K,r as C,f as L,a5 as x,R as O,b as c,M as f,a6 as w,a7 as M,j as _,w as u,c as N,t as k,N as p,a8 as S,a9 as P,aa as H,ab as T,ac as U,ad as j,I as F,ae as W,e as $,af as z,ag as V,ah as q,ai as G,aj as J,L as Q,x as X,g as Y,i as B,ak as Z,al as ee,am as ne}from"./vendor.74212744.js";import"./expansion-axios.5452c070.js";import"./expansion-moment.3d0a52e0.js";const A={SatusMessage:"statusmessage",CesiumWidgetLoaded:"CesiumWidgetLoaded",WidgetClosed:"WidgetClosed",ScrollPosition:"ScrollPosition"};function te(e,s){g.EventBus.on(e,s)}function se(e,s){g.EventBus.emit(e,s)}const oe=K({name:"",props:{menus:{type:Array}},components:{},setup(e,{attrs:s,slots:y,emit:h}){const i=C([]);function m(t){switch(t.type){case"hprose":const n=`${g.Config.ServiceURL.HproseTestURL}?url=${t.path}`;window.open(n,"_blank");break;case"database":O.copyText(t.path),g.Message?.info("\u5DF2\u590D\u5236\uFF1A\u6570\u636E\u5E93\u94FE\u63A5\u8DEF\u5F84\uFF01");break;case"api":default:window.open(t.path,"_blank");break}}function l(t){let n=t.icon;if(n)n.length===0&&(n="/img/null.png");else return"visibility: hidden;";return`background-image:url(${n})`}function d(t){return t.icon?"":"visibility: visible;"}return L(()=>{x(()=>e.menus,()=>{e.menus&&(i.value.length=0,i.value.push(...e.menus))},{deep:!0})}),{defaultMenus:i,selectItem:m,getImagePath:l,infoShowStyle:d}}}),ae={class:"secondgroup"},ue={class:"imgcover"},ie={class:"infoContent"};function le(e,s,y,h,i,m){const l=P,d=H,t=T,n=U,o=j;return c(!0),f(M,null,w(e.defaultMenus,(a,v)=>(c(),f(M,{key:"index"},[_(l,{class:"maingroup",orientation:"left"},{default:u(()=>[N(k(a.name),1)]),_:2},1024),p("ul",null,[(c(!0),f(M,null,w(a.children,(r,D)=>(c(),f("li",{key:r.key},[p("p",ae,k(r.name+"("+r.children.length+")"),1),_(o,{id:r.key,grid:{gutter:5,xs:1,sm:2,md:3,lg:3,xl:4,xxl:4},"data-source":r.children,style:{margin:"10px 20px","border-bottom":"solid 1px rgba(74, 74, 74, 0.22)"}},{renderItem:u(({item:b})=>[_(n,{style:{"margin-left":"20px"},onClick:ye=>e.selectItem(b)},{default:u(()=>[_(t,{hoverable:"",bordered:!0},{cover:u(()=>[p("div",ue,[p("div",{class:"imgobj",style:S(e.getImagePath(b)),alt:""},null,4),p("div",{class:"info",style:S(e.infoShowStyle(b))},[p("span",ie,k(b.info??b.path),1)],4)])]),default:u(()=>[_(d,{title:b.name,description:""},null,8,["title"])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1032,["id","data-source"])]))),128))])],64))),128)}var re=E(oe,[["render",le],["__scopeId","data-v-314e3362"]]);const ce=K({props:{menus:{type:Array}},setup(e){const s=F({rootSubmenuKeys:new Array,openKeys:[0]}),y=C([]),h=t=>{const n=t.find(o=>s.openKeys.indexOf(o)===-1);s.rootSubmenuKeys.indexOf(n)===-1?s.openKeys=t:s.openKeys=n?[n]:[]},i=C([]),m=({key:t})=>{console.log(t,"\u70B9\u51FB\u83DC\u5355\u4E8B\u4EF6"),se(A.ScrollPosition,t)};L(()=>{x(()=>e.menus,()=>{e.menus&&(i.value.length=0,i.value.push(...e.menus),e.menus.forEach(n=>{s.rootSubmenuKeys.push(n.key)}))},{deep:!0})});function l(t){let n=0;return t.children?.forEach(o=>{o.children&&(n+=o.children.length)}),n}function d(t){return"iconfont "+t.icon}return{...W(s),onOpenChange:h,clickMenuItem:m,defaultMenus:i,selectedMenuKeys:y,getMenuSum:l,getIcon:d}}}),de={key:0,class:"anticon"},_e={class:"iconClass"};function pe(e,s,y,h,i,m){const l=q,d=G,t=J;return c(),$(t,{mode:"inline",onClick:e.clickMenuItem,selectedKeys:e.selectedMenuKeys,"onUpdate:selectedKeys":s[0]||(s[0]=n=>e.selectedMenuKeys=n),openKeys:e.openKeys,onOpenChange:e.onOpenChange,class:"menu"},{default:u(()=>[(c(!0),f(M,null,w(e.defaultMenus,(n,o)=>(c(),f(M,null,[n.children?(c(),$(d,{key:o},{title:u(()=>[n.icon?(c(),f("span",de,[p("i",{class:z(e.getIcon(n))},null,2)])):V("",!0),p("span",_e,k(n.name+"("+e.getMenuSum(n)+")"),1)]),default:u(()=>[(c(!0),f(M,null,w(n.children,(a,v)=>(c(),$(l,{key:a.key},{default:u(()=>[p("span",null,k(a.name+"("+a.children?.length+")"),1)]),_:2},1024))),128))]),_:2},1024)):V("",!0)],64))),256))]),_:1},8,["onClick","selectedKeys","openKeys","onOpenChange"])}var me=E(ce,[["render",pe],["__scopeId","data-v-6146de16"]]);const ge=K({name:"demoListView",props:{},components:{MainMenu:me,DemoNode:re},setup(e,{attrs:s,slots:y,emit:h}){const i=F({isRouterAlive:!0}),m=W(i),l=Q(),d=X(()=>I.appState.menuSetting.menuWidth+"px"),t=C([]);L(async()=>{te(A.ScrollPosition,r=>{document.getElementById(r)?.scrollIntoView({behavior:"smooth",block:"end",inline:"center"})});const a=l.params.type,v=g.Config.menus[a];if(v){const r=await R(()=>import(v.config),[]);o(r.default)}}),g.LayoutManager?.changeWidgetVisible("bottomMenuWidget",!1),Y(()=>{g.LayoutManager?.changeWidgetVisible("bottomMenuWidget",!0)});const n=C({height:window.innerHeight-60+"px"});function o(a){t.value.length=0,t.value.push(...a)}return x(()=>l.params.type,async a=>{const v=a,r=g.Config.menus[v];if(r){const D=await R(()=>import(r.config),[]);o(D.default)}}),{...m,asiderWidth:d,contentHeight:n,menusRef:t}}});function fe(e,s,y,h,i,m){const l=B("MainMenu"),d=Z,t=B("DemoNode"),n=ee,o=ne;return c(),$(o,{class:"layout"},{default:u(()=>[_(d,{trigger:null,collapsible:"",class:"layout-sider",ref:"sideRef",width:e.asiderWidth},{default:u(()=>[_(l,{menus:e.menusRef},null,8,["menus"])]),_:1},8,["width"]),_(o,{style:{width:"100%",padding:"0px"}},{default:u(()=>[_(n,{class:"layout-content",style:S(e.contentHeight)},{default:u(()=>[_(t,{menus:e.menusRef},null,8,["menus"])]),_:1},8,["style"])]),_:1})]),_:1})}var ke=E(ge,[["render",fe]]);export{ke as default};
