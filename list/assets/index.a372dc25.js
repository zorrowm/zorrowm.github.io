import{d as w,r as Y,o as J,a as E,c as X,t as Q,b as d,e as m,w as p,S as ee,C as te,f as oe,$ as ne,g as re,H as se,h as ae,i as v,j as H,k as D,l as B,O as ie,m as ce,Y as le,q as ue,n as fe,p as f,s as de,u as $,B as u,V as me,v as pe,x as he,K as ge,y as _e,z as Se,A as L,D as Ee,E as U,_ as Le,F as Ce}from"./vendor.74212744.js";import{a as ve}from"./expansion-axios.5452c070.js";import"./expansion-moment.3d0a52e0.js";function dt(){import("data:text/javascript,")}const Re=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};Re();const Ie="modulepreload",k={},we="./",l=function(t,n){return!n||n.length===0?t():Promise.all(n.map(s=>{if(s=`${we}${s}`,s in k)return;k[s]=!0;const o=s.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${r}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":Ie,o||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),o)return new Promise((c,i)=>{a.addEventListener("load",c),a.addEventListener("error",()=>i(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};var y=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};const ye=w({name:"SuspenseWithError",setup(){const e=Y(null);return J(t=>(e.value="(\u2299o\u2299)\u2026\u51FA\u4E86\u70B9\u95EE\u9898\u3002",console.error("onErrorCaptured",t),!0)),{error:e}}});function Ae(e,t,n,s,o,r){return e.error?E(e.$slots,"error",{key:0},()=>[X(Q(e.error),1)]):(d(),m(ee,{key:1},{default:p(()=>[E(e.$slots,"default")]),fallback:p(()=>[E(e.$slots,"fallback")]),_:3}))}var A=y(ye,[["render",Ae]]);const Oe=w({name:"App",components:{ConfigProvider:te,SuspenseWithError:A},setup(){return oe(()=>{ne()}),re(()=>{se()}),{zhCN:ae}}});function $e(e,t,n,s,o,r){const a=v("router-view"),c=v("config-provider");return d(),m(c,{locale:e.zhCN},{default:p(()=>[H(a,null,{default:p(({Component:i})=>[(d(),m(D(i)))]),_:1})]),_:1},8,["locale"])}var ke=y(Oe,[["render",$e]]);const g={ZH_CN:"zh_CN",EN_US:"en"},O={showPicker:!0,locale:g.ZH_CN,fallback:g.ZH_CN,availableLocales:[g.ZH_CN,g.EN_US]},V="LOCALE_LANG",W=new B("",sessionStorage),be=W.get(V)||O,Ne={localInfo:be},Pe={SetLocaleInfo(e,t){e.localInfo={...e.localInfo,...t},W.set(V,e.localInfo)},InitLocale(e){this.SetLocaleInfo(e,{...O,...e.localInfo})}},Te={setLocaleInfo(e,t){e.commit("SetLocaleInfo",t)},initLocale(e){e.commit("InitLocale")}};var Fe={namespaced:!0,state:Ne,mutations:Pe,actions:Te};const He={showHeader:!0,showFooter:!0,showRight:!1},De={SET_SHOWHEADER:(e,t)=>{e.showHeader=t},SET_SHOWFOOTER:(e,t)=>{e.showFooter=t},SET_SHOWRIGHT:(e,t)=>{e.showRight=t}},Be={showHeader(e,t){e.commit("SET_SHOWHEADER",t)},showFooter(e,t){e.commit("SET_SHOWFOOTER",t)},showRight(e,t){e.commit("SET_SHOWRIGHT",t)}};var Ue={namespaced:!0,state:He,mutations:De,actions:Be},j=(e=>(e.SIDEBAR="sidebar",e.MIX_SIDEBAR="mix-sidebar",e.MIX="mix",e.TOP_MENU="top-menu",e))(j||{}),q=(e=>(e.NONE="NONE",e.FOOTER="FOOTER",e.HEADER="HEADER",e))(q||{}),K=(e=>(e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.VERTICAL_RIGHT="vertical-right",e.INLINE="inline",e))(K||{}),x=(e=>(e.HOVER="hover",e.CLICK="click",e))(x||{});const Ve={showSettingButton:!0,showDarkModeToggle:!0,themeColor:"#0960bd",grayMode:!1,colorWeak:!1,fullContent:!1,showLogo:!0,showFooter:!0,headerSetting:{bgColor:"#ffffff",fixed:!0,show:!0,useLockPage:!0,showFullScreen:!0,showDoc:!0,showNotice:!0,showSearch:!0},menuSetting:{bgColor:"#273352",fixed:!0,collapsed:!1,collapsedShowTitle:!1,canDrag:!0,hidden:!1,show:!0,minWidth:48,menuWidth:250,mode:K.INLINE,type:j.SIDEBAR,split:!1,topMenuAlign:"start",trigger:q.HEADER,accordion:!0,closeMixSidebarOnChange:!1,mixSideTrigger:x.CLICK,mixSideFixed:!1},multiTabsSetting:{cache:!1,show:!0,showQuick:!0,canDrag:!0,showRedo:!0,showFold:!0},transitionSetting:{enable:!0,openPageLoading:!0,openNProgress:!1},openKeepAlive:!0,lockTime:0,showBreadCrumb:!0,showBreadCrumbIcon:!1,useErrorHandle:!1,useOpenBackTop:!0,canEmbedIFramePage:!0,closeMessageOnSwitch:!0,removeAllHttpPending:!0},G="PROJ_SETTINGS",R=new B("",sessionStorage),b=R.get(G)||Ve,We={projectConfig:b,get menuSetting(){return b.menuSetting}},M={setProjectConfig(e,t){e.projectConfig=ie(e.projectConfig||{},t),R.set(G,e.projectConfig)},setMenuSetting(e,t){M.setProjectConfig(e,{menuSetting:t})},async resetAllState(e){R.clear()}},je={setProjectConfig(e,t){e.commit("setProjectConfig",t)},setMenuSetting(e,t){e.commit("setMenuSetting",t)},async resetAllState(e){e.commit("resetAllState")}};var qe={namespaced:!0,state:We,mutations:M,actions:je};const Ke={appState:qe,localeState:Fe,layoutState:Ue},_=ce({modules:Ke,getters:{appState:e=>e.appState,layoutState:e=>e.layoutState,localeState:e=>e.localeState}}),z=_.getters;async function xe(e){const t=await le(e);console.log(t,"responseValue");const n=t?.data;return n&&n.isSuccess?(ue(n.resultValue),fe(n.resultValue.doubleToken),!0):!1}f.configure({showSpinner:!1});const I=["login","icons","error","error-404"],N="/login",Z="/home";function Ge(e){const t=u.Config.UI?.SiteTitle;return e?`${u.t(e)} - ${t}`:`${t}`}de(({to:e,from:t,next:n,hasRoute:s})=>{_.dispatch("asyncRoute/generateRoutes").then(()=>{if(!I.includes(e.name)&&!s){const o=decodeURIComponent(t.query.redirect||"");e.path===o?n({...e,replace:!0}):n({...e,replace:!0})}}).catch(()=>n({path:Z}))},1800,{leading:!0});function Me(e){e.beforeEach((t,n,s)=>{f.start();const o=t.name,r=$();if(r)if(u.User||me(r),o==="login")s({path:Z}),f.done();else{const a=e.hasRoute(t.name);console.log(t.name,"to.name"),(I.includes(o)||a)&&s()}else if(I.includes(o))s();else{const a=t.query?.tk?.toString();if(a)xe(a).then(c=>{if(c)$(),s();else{console.log("\u9A8C\u8BC1tk\u53C2\u6570\u5931\u8D25\uFF01");const i=u.Config.ServiceURL.UILoginURL;if(i){const h=document.URL;window.open(i+"?redirect="+h,"_self")}else s({path:N,query:{redirect:t.fullPath},replace:!0});f.done()}});else{const c=u.Config.ServiceURL.UILoginURL;if(c){const i=document.URL;window.open(c+"?redirect="+i,"_self")}else s({path:N,query:{redirect:t.fullPath},replace:!0});f.done()}}}),e.afterEach((t,n,s)=>{document.title=Ge(t.meta.title),pe(s)&&console.log("failed navigation",s);const o=_.state.asyncRoute?.keepAliveComponents,r=t.matched.find(a=>a.name==t.name)?.components?.default.name;if(r&&!o?.includes(r)&&t.meta?.keepAlive)o.push(r);else if(!t.meta?.keepAlive||t.name=="Redirect"){const a=_.state.asyncRoute?.keepAliveComponents.findIndex(c=>c==r);a!=-1&&o?.splice(a,1)}f.done()}),e.onError(t=>{console.log(t,"\u8DEF\u7531\u9519\u8BEF")})}const ze=[{path:"/login",name:"login",meta:{title:"\u7CFB\u7EDF\u767B\u5F55",hidden:!0,isSystem:!0},component:()=>l(()=>import("./index.b5bd11cc.js"),["assets/index.b5bd11cc.js","assets/vendor.74212744.js","assets/vendor.fcd30c61.css","assets/expansion-moment.3d0a52e0.js","assets/expansion-axios.5452c070.js","assets/logo.a5e5eb92.js"])},{path:"/userlogin",name:"userlogin",meta:{title:"\u7EDF\u4E00\u767B\u5F55",hidden:!0,isSystem:!0},component:()=>l(()=>import("./index.d4062d06.js"),["assets/index.d4062d06.js","assets/vendor.74212744.js","assets/vendor.fcd30c61.css","assets/expansion-moment.3d0a52e0.js","assets/expansion-axios.5452c070.js","assets/logo.a5e5eb92.js"])}],Ze=w({name:"RouterTransition",components:{SuspenseWithError:A},props:{notNeedKey:{type:Boolean,default:!1},animate:{type:Boolean,default:!0}},setup(){return{keepAliveComponents:he(()=>z.asyncRoute?.keepAliveComponents)}}});function Ye(e,t,n,s,o,r){const a=v("router-view"),c=A;return d(),m(c,null,{default:p(()=>[H(a,null,{default:p(({Component:i,route:h})=>[(d(),m(ge,{include:e.keepAliveComponents},[(d(),m(D(i)))],1032,["include"]))]),_:1})]),_:1})}var Je=y(Ze,[["render",Ye]]);const P="error",Xe={path:"/:pathMatch(.*)*",name:"NotFound",redirect:"/error/404",meta:{title:"\u4E0D\u5B58\u5728",hidden:!0,isSystem:!0},component:()=>l(()=>import("./404.aef9e2a2.js"),["assets/404.aef9e2a2.js","assets/404.c2a48e99.css","assets/vendor.74212744.js","assets/vendor.fcd30c61.css","assets/expansion-moment.3d0a52e0.js","assets/expansion-axios.5452c070.js"])},Qe={path:"/error",name:P,redirect:"/error/404",component:Je,meta:{title:"\u9519\u8BEF\u9875",hidden:!0,isSystem:!0},children:[{path:"404",name:`${P}-404`,meta:{title:"404",hidden:!0,isSystem:!0},component:()=>l(()=>import("./404.aef9e2a2.js"),["assets/404.aef9e2a2.js","assets/404.c2a48e99.css","assets/vendor.74212744.js","assets/vendor.fcd30c61.css","assets/expansion-moment.3d0a52e0.js","assets/expansion-axios.5452c070.js"])}]},et={path:"/",name:"Layout",component:()=>l(()=>import("./index.3f13bfad.js"),["assets/index.3f13bfad.js","assets/index.de314faa.css","assets/vendor.74212744.js","assets/vendor.fcd30c61.css","assets/expansion-moment.3d0a52e0.js","assets/expansion-axios.5452c070.js"]),meta:{title:"",hidden:!0,isSystem:!0},children:[{path:"/demo/:type",name:"demo",meta:{title:"routes.home",icon:"iconfont icon-Home-Filled",isSystem:!0},component:()=>l(()=>import("./demoListView.eae141c3.js"),["assets/demoListView.eae141c3.js","assets/demoListView.7325d2f4.css","assets/vendor.74212744.js","assets/vendor.fcd30c61.css","assets/expansion-moment.3d0a52e0.js","assets/expansion-axios.5452c070.js"])}]},tt=[et,...ze,Xe,Qe],T=_e({history:Se(""),routes:tt});function ot(e){e.use(T),u.Config.UI?.IsNoLogin||Me(T)}function F(e,t){return!e||t.startsWith(e)?t:`${e}.${t}`}function nt(e){const t={t:r=>F(e,r)};if(!S)return t;const{t:n,...s}=S.global;return{...s,t:(r,...a)=>r?!r.includes(".")&&!e?r:n(F(e,r),...a):""}}const rt=[];function st(e){document.querySelector("html")?.setAttribute("lang",e)}function at(e){e(rt)}function gt(e,t="lang"){const n={};return Object.keys(e).forEach(s=>{const o=e[s].default;let r=s.replace(`./${t}/`,"").replace(/^\.\//,"");const a=r.lastIndexOf(".");r=r.substring(0,a);const c=r.split("/"),i=c.shift(),h=c.join(".");i&&(h?(L(n,i,n[i]||{}),L(n[i],h,o)):L(n,i,o||{}))}),n}function it(e){switch(e){case"./lang/en.ts":return l(()=>import("./en.bd486d0a.js"),["assets/en.bd486d0a.js","assets/vendor.74212744.js","assets/vendor.fcd30c61.css","assets/expansion-moment.3d0a52e0.js","assets/expansion-axios.5452c070.js"]);case"./lang/zh_CN.ts":return l(()=>import("./zh_CN.d184be58.js"),["assets/zh_CN.d184be58.js","assets/vendor.74212744.js","assets/vendor.fcd30c61.css","assets/expansion-moment.3d0a52e0.js","assets/expansion-axios.5452c070.js"]);default:return new Promise(function(t,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const{fallback:ct,availableLocales:lt}=O;let S;async function ut(){const t=z.localeState.localInfo.locale,s=(await it(`./lang/${t}.ts`)).default?.message??{};return st(t),at(o=>{o.push(t)}),{legacy:!1,locale:t,fallbackLocale:ct,messages:{[t]:s},availableLocales:lt,sync:!0,silentTranslationWarn:!0,missingWarn:!1,silentFallbackWarn:!0}}async function ft(e){const t=await ut();S=Ee(t),e.use(S);const{t:n}=nt();u.t=n}U.config({top:"100px",duration:1,maxCount:3});Le(U,ve);const C=Ce(ke);ft(C).then(()=>{ot(C),C.mount("#app")});export{y as _,dt as __vite_legacy_guard,l as a,gt as g,z as s};
