import{d as R,ap as z,av as j,a as l,c as B,t as I,o as r,v as f,l as E,g as o,af as G,r as Q,w as J,E as K,P as X,b as h,D as b,j as g,k,aw as Y,f as C,Q as Z,q as W,C as H,a2 as L,a3 as x}from"./vendor.de069ad6.js";import{I as D}from"./@iconify/vue-exp.b199edd5.js";import{r as A,B as v}from"./xframelib-exp.e4d795a1.js";import{_ as N,a as $,u as ee}from"./index.f27a7adf.js";import{d as te}from"./WidgetsTool.ec924392.js";import{u as oe,b as ne}from"./vue-router-exp.aee9d5fb.js";import"./lodash-es-exp.d3c3d62f.js";import"./axios-exp.cd5cf947.js";import"./WidgetsEvent.9f7b2658.js";const se=R({name:"FullScreen",components:{Icon:D,Tooltip:z},props:{target:j()},setup(e){function t(){n.value?(A.exitFullScreen(),n.value=!1):(A.requestFullScreen(e.target),n.value=!0)}const n=l(!1);return{getTitle:B(()=>n.value?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F"),isFullscreen:n,toggle:t}}});function ie(e,t,n,u,m,S){const c=I("Icon"),a=I("Tooltip");return r(),f(a,{title:e.getTitle,placement:"bottom",mouseEnterDelay:.5},{default:E(()=>[o("span",{onClick:t[0]||(t[0]=(...p)=>e.toggle&&e.toggle(...p))},[e.isFullscreen?(r(),f(c,{key:1,icon:"ant-design:fullscreen-exit-outlined",color:"#fff"})):(r(),f(c,{key:0,icon:"ant-design:fullscreen-outlined",color:"#fff"}))])]),_:1},8,["title","mouseEnterDelay"])}const _=N(se,[["render",ie]]);class s{static appStoreState=$();static getAsiderWidth(){return s.appStoreState.menuSetting?.collapsed?s.appStoreState.menuSetting?.minWidth:s.appStoreState.menuSetting?.menuWidth??250}static getHeaderHeight(){return s.appStoreState.headerSetting?.height??64}static getFooterHeight(){return s.appStoreState&&s.appStoreState.showFooter?s.appStoreState.footerHeight:0}static getContentHeight(t=0){const n=s.getHeaderHeight(),u=s.getFooterHeight();return document.body.clientHeight-u-n-t}static getContentWidth(t=0){return document.body.clientWidth-s.getAsiderWidth()-t}static isFooterShow(){let t=!0;return s.appStoreState&&(t=s.appStoreState.showFooter),t}}const re=R({name:"HeaderTitleWidget",components:{Icon:D,FullScreen:_},setup(){const e=l(v.Config.UI?.SiteTitle),t=$(),n=ee(),{leftCollapsed:u}=G(t),m=l(t.headerSetting.centerTitle),S=l(t.headerSetting.showFullScreen),c=l(t.headerSetting.showCollapseIcon);function a(){t.toggleCollapse()}const p=B(()=>n.name),i=Q({headerHeight:s.getHeaderHeight()}),M=l(window.document.documentElement),F=oe(),y=ne(),w=l(F.name);J(()=>F.name,d=>{d&&(w.value=d.toString())});function O(d){return w.value===d?"border-bottom:solid 3px #33f; color:#42C7FF;":"border-bottom:unset;color:#42C7FF;"}const T=()=>{X.confirm({title:"\u60A8\u786E\u5B9A\u8981\u9000\u51FA\u767B\u5F55\u5417\uFF1F",onOk:()=>{n.clear(),v.Message?.msg("\u6210\u529F\u9000\u51FA\u767B\u5F55"),window.open(window.location.pathname,"_self")}})},U=B(()=>!v.Config.UI?.IsNoLogin&&n.name);function P(){te({modalID:"changeMyPWD",extraData:{title:"\u4FEE\u6539\u5BC6\u7801"},width:500,rowData:void 0})}function V(){y.push({path:"/back"})}function q(){y.push({path:"/"})}return{...K(i),doLogout:T,route:F,isNOLogin:U,fullScreenElem:M,roleRef:p,showUserModal:P,leftCollapsed:u,toggleCollapse:a,siteTitle:e,iscenterTitle:m,showFullScreen:S,showCollapseIcon:c,loginBack:V,goBackHome:q,nameRef:w,getRightStyle:O}}});const ae=e=>(L("data-v-3bc74893"),e=e(),x(),e),le={class:"topHeaderWidget"},ue={key:0},ce=ae(()=>o("div",{class:"title"},"Spatial Reference Online Service",-1)),pe={class:"right-options"},de={class:"rightmenu"};function ge(e,t,n,u,m,S){const c=_,a=I("Icon"),p=Z;return r(),h("div",le,[o("div",{class:"centerTitle",onClick:t[0]||(t[0]=(...i)=>e.goBackHome&&e.goBackHome(...i))},[e.iscenterTitle?(r(),h("span",ue,b(e.siteTitle),1)):g("",!0),ce]),o("div",pe,[e.showFullScreen?(r(),f(c,{key:0,target:e.fullScreenElem},null,8,["target"])):g("",!0),e.isNOLogin?g("",!0):(r(),h("span",{key:1,onClick:t[1]||(t[1]=(...i)=>e.loginBack&&e.loginBack(...i)),style:{"font-size":"12px"}},"\u7BA1\u7406\u7AEF")),k(p,null,Y({default:E(()=>[e.isNOLogin?(r(),h("div",{key:0,onClick:t[4]||(t[4]=(...i)=>e.loginBack&&e.loginBack(...i))},[e.isNOLogin?(r(),f(a,{key:0,icon:"ant-design:user-outlined",style:{margin:"0 5px"},color:"#fff"})):g("",!0),H(b(e.roleRef),1)])):g("",!0)]),_:2},[e.isNOLogin?{name:"content",fn:E(()=>[o("ul",null,[o("li",null,[o("a",{onClick:t[2]||(t[2]=W((...i)=>e.showUserModal&&e.showUserModal(...i),["prevent"]))},[k(a,{icon:"ant-design:info-circle-outlined"}),H("\u4FEE\u6539\u5BC6\u7801 ")])]),o("li",null,[o("a",{onClick:t[3]||(t[3]=W((...i)=>e.doLogout&&e.doLogout(...i),["prevent"]))},[k(a,{icon:"ant-design:logout-outlined"}),H("\u9000\u51FA\u767B\u5F55 ")])])])]),key:"0"}:void 0]),1024)]),o("ul",de,[o("li",null,[o("a",{href:"/#/epsg/4326",style:C(e.getRightStyle("epsg-info"))},"EPSG\u8BE6\u60C5",4)]),o("li",null,[o("a",{href:"/#/transform",style:C(e.getRightStyle("transform"))},"\u5750\u6807\u8F6C\u6362",4)]),o("li",null,[o("a",{href:"/#/api",style:C(e.getRightStyle("api"))},"API\u63A5\u53E3",4)])])])}const Be=N(re,[["render",ge],["__scopeId","data-v-3bc74893"]]);export{Be as default};
