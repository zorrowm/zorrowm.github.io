import{Z as I,G as M,z as W,_ as A,B as H}from"./vendor-6kqmRazU.js";import{f as T,_ as z}from"./index-CTmLOYTS.js";import{W as B}from"./WidgetsEvent-TR_R_5Fb.js";import{j as b,E,d as G}from"./xframelib-exp-CPl8XRlL.js";import{d as V,r as s,v as q,z as O,G as P,V as Q,a1 as g,R as p,Q as d,L as u,M as C,a8 as j,N as F,X as L}from"./@vue-exp-BA8o4xMK.js";import"./@hprose-exp-BDOQuVAD.js";import"./vue-router-exp-BxGuMefC.js";import"./axios-exp-BH40TtQM.js";const N=[{id:"SpatialDistance",label:"空间距离",icon:"straighten"},{id:"GroundDistance",label:"贴地距离",icon:"route"},{id:"HorizontalArea",label:"水平面积",icon:"crop_square"},{id:"GroundArea",label:"贴地面积",icon:"space_dashboard"},{id:"Height",label:"高度测量",icon:"height"},{id:"Coordinate",label:"坐标测量",icon:"my_location"},{id:"TriangleMeasurement",label:"三角测量",icon:"square_foot"},{id:"ProfileAnalysis",label:"剖面分析",icon:"landscape"}],X="/img/background.png",R=V({__name:"MeasuringWidget",setup(S,{expose:f}){let i=s(""),t,o;function _(e){o=e.id}function r(e){t=e.pid,e.pid&&T(B.WidgetClosed,t)}const l=s([{label:"自动",value:"auto"},{label:"米",value:"meter"},{label:"公里",value:"kilometer"}]),w=s(l.value[0]),k=s(0);function x(e){return!!(i.value&&e.id===i.value)}let c;async function D(e){switch(i.value=e.id,e.id){case"SpatialDistance":a.distance();break;case"GroundDistance":a.distanceSurface();break;case"HorizontalArea":a.area();break;case"GroundArea":a.areaSurface();break;case"Height":a.height({clampToModel:!0});break;case"Coordinate":break;case"TriangleMeasurement":a.triangleHeight({clampToModel:!0});break}c&&c.startCreate()}function y(){a.deactivate()}let a,n;q(()=>{b.CesiumViewer&&(n=b.CesiumViewer,i.value=n.CurrentBasicID,a=new I(n))});const m=s(!0);function h(e=!1){m.value=e,o&&e&&G.openWindowPanel(o)}f({changeVisible:h,isShow:m});const v={defaultImg:X,get itemSelected(){return i},set itemSelected(e){i=e},get widgetID(){return t},set widgetID(e){t=e},get windowID(){return o},set windowID(e){o=e},loadedHandle:_,doClosePanel:r,unitOptions:l,unitType:w,totalDistance:k,getSelectedStyle:x,get drawTools(){return c},set drawTools(e){c=e},selectItem:D,handleClearAll:y,get measure(){return a},set measure(e){a=e},get viewer(){return n},set viewer(e){n=e},isShow:m,changeVisible:h,get XWindow(){return E},get measurementOptions(){return N}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),Z={class:"q-pa-md q-gutter-sm"},J={class:"row justify-between items-center"},K={class:"row q-mt-md"},U={class:"text-center textContent"};function Y(S,f,i,t,o,_){return O((p(),Q(t.XWindow,{isDark:!0,top:"10px",left:"10px",nWidth:"380px",nHeight:"750px",title:"图上量算",icon:"img/basicimage/arcgis_img.png",pid:"MeasuringWidget",onLoaded:t.loadedHandle,onClose:t.doClosePanel},{default:g(()=>[d(H,{style:{height:"100%"}},{default:g(()=>[u("div",Z,[u("div",J,[d(M,{name:"delete",color:"white",style:{"font-size":"26px",cursor:"pointer"},onClick:t.handleClearAll})])]),u("div",K,[(p(!0),C(L,null,j(t.measurementOptions,(r,l)=>(p(),C("div",{class:"col-4",key:l},[d(W,{flat:"",class:"cardContent column items-center",onClick:w=>t.selectItem(r)},{default:g(()=>[d(A,{rounded:"",size:"80px","font-size":"45px",color:t.getSelectedStyle(r)?"orange":"teal","text-color":"white",icon:r.icon},null,8,["color","icon"]),u("div",U,F(r.label),1)]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1},512)),[[P,t.isShow]])}const se=z(R,[["render",Y],["__scopeId","data-v-95b412a8"],["__file","MeasuringWidget.vue"]]);export{se as default};
