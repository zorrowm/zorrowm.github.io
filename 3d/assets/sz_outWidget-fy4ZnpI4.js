import{an as D,bn as T,a6 as w,br as W,at as d,aH as S,aC as c,aG as V,b1 as L,b4 as j,aL as A,bW as h,bX as C,aS as v,aW as I,aZ as E}from"./vendor-CDV5M84i.js";import{j as M}from"./xframelib-exp-CvTEfE5n.js";import{d as P,v as $}from"./@vue-exp-YaP0LnBg.js";import{_ as G}from"./index-BTOrG-4i.js";import"./@hprose-exp-DifMA6AO.js";import"./axios-exp-BH40TtQM.js";import"./vue-router-exp-BeFgxScw.js";const N=P({__name:"sz_outWidget",setup(x,{expose:_}){_();let o,i,n,p=[{label:"姑苏区",coord:"120.59665360,31.32417637"},{label:"吴中区",coord:"120.26656151,31.12600545"},{label:"吴江区",coord:"120.61407203,31.00940314"},{label:"相城区",coord:"120.61658599,31.44896501"},{label:"虎丘区",coord:"120.42240336,31.35921238"},{label:"工业园区",coord:"120.73975003,31.33381359"},{label:"昆山市",coord:"120.96280041,31.31506478"},{label:"太仓市",coord:"121.15395177,31.57029622"},{label:"常熟市",coord:"120.81050568,31.66691104"},{label:"张家港市",coord:"120.61839073,31.90941293"}];function O(){let e=new T("vLine_layer").addTo(o);[{lng:119.61305431791536,lat:31.949257981346843},{lng:119.66748528834533,lat:31.569088949848066},{lng:119.93621458239951,lat:30.862978381864128},{lng:120.33269379413352,lat:30.779032494324515},{lng:120.91846175667051,lat:30.772412670398687},{lng:121.37081537125513,lat:31.031108498202467},{lng:121.68788865110909,lat:31.59956942613548},{lng:121.31821229420665,lat:32.00645809208013}].forEach(t=>{let a=w.fromObject(t),l=a.copy();l.alt=8e4*Math.random();let s=new W([a,l],.5);s.setStyle({speed:8,color:d.fromCssColorString("rgb(240,131,61)"),percent:.2,gradient:.01}),e.addOverlay(s)})}function u(){i=new S("sz","SampleData/data/sz.geojson"),n=new S("sz-out","SampleData/data/sz_out.geojson")}function g(){let e=new c("layer-sz-zxd").addTo(o);p.forEach(r=>{let t=w.fromString(r.coord);t.alt=3e3;let a=new V(t,"product/bg_name.png");a.size=[r.label.length*25,32],a.setStyle({scale:.8,distanceDisplayCondition:{near:0,far:25e4}}),a.setLabel(r.label,{font:"10px",disableDepthTestDistance:Number.POSITIVE_INFINITY,distanceDisplayCondition:{near:0,far:25e4}});let l=new L(t,2e3);l.setStyle({height:2e3,material:new j({speed:5,color:d.fromCssColorString("rgb(205,100,33)")})}),e.addOverlay(a).addOverlay(l)})}function f(){o.addLayer(n),n.eachOverlay(e=>{A.merge(e.polygon,{outline:!1,material:d.fromCssColorString("rgb(47,50,54)"),extrudedHeight:2e3})})}function y(){let e=new c("layer-sz-outline").addTo(o),r=h.now();n.eachOverlay(t=>{if(t.polygon){let a=C.transformCartesianArrayToWGS84Array(t.polygon.hierarchy.getValue(r).positions);a.map(s=>{s.alt=2e3});let l=new v(a);l.setStyle({width:2,material:new I({speed:2,color:d.fromCssColorString("rgb(149,236,217)")})}),e.addOverlay(l)}})}function m(){let e=new c("layer-sz-line").addTo(o),r=h.now();i.eachOverlay(t=>{if(t.polygon){let a=C.transformCartesianArrayToWGS84Array(t.polygon.hierarchy.getValue(r).positions);a.map(s=>{s.alt=2e3});let l=new v(a);l.setStyle({width:1,material:new E({speed:10*Math.random(),color:d.fromCssColorString("rgb(116,173,250)")})}),e.addOverlay(l)}})}function b(){o=M.CesiumViewer,o.setOptions({showMoon:!1,showSun:!1,enableFaxx:!0,globe:{show:!1},skyBox:{show:!1}}),new D(o),o.zoomToPosition("120.6119943479279,30.237286794313203,126132.920,0,-48.84",()=>{u(),y(),f(),m(),g()})}$(()=>{b()});const z={get viewer(){return o},set viewer(e){o=e},get szData(){return i},set szData(e){i=e},get sz_out_data(){return n},set sz_out_data(e){n=e},get sz_zxd_data(){return p},set sz_zxd_data(e){p=e},loadVLine:O,loadSzData:u,loadSzZxd:g,loadSzPolygon:f,loadSzOutline:y,loadSzLine:m,initViewer:b};return Object.defineProperty(z,"__isScriptSetup",{enumerable:!1,value:!0}),z}});function F(x,_,o,i,n,p){return null}const Q=G(N,[["render",F],["__file","sz_outWidget.vue"]]);export{Q as default};
