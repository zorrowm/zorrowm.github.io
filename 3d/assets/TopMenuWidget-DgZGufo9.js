import{u as J,ab as ie,ac as se,p as D,ad as ue,R as ce,o as K,n as $,B as de,C as fe,w as pe,x as he,j as Q,a9 as me,h as ge,ae as _e,af as ve}from"./vendor-6kqmRazU.js";import{_ as ye}from"./FullScreen-xDVT_hJu.js";import{f as be,m as X,j as b}from"./xframelib-exp-CPl8XRlL.js";import{c as H,_ as I,f as Se,u as ke,p as we}from"./index-CTmLOYTS.js";import{p,d as N,l as A,w as xe,v as Ce,r as _,O as E,R as c,V as g,a1 as f,Q as d,_ as ee,a9 as U,N as z,Y as te,z as ne,M as y,X as C,a8 as V,Z as R,ab as Ae,$ as O,a as Ie,L as M}from"./@vue-exp-BA8o4xMK.js";import{b as L,u as P}from"./vue-router-exp-BxGuMefC.js";import{O as Te}from"./urlUtils-1bBE118r.js";import{L as Me}from"./layoutTool-BuPaGfsj.js";import{W as De}from"./WidgetsEvent-TR_R_5Fb.js";import"./@hprose-exp-BDOQuVAD.js";import"./axios-exp-BH40TtQM.js";function j(){const r={primary:"#1976D2",secondary:"#26A69A",accent:"#9C27B0",positive:"#21BA45",negative:"#C10015",info:"#31CCEC",warning:"#F2C037",light:"#FFFFFF",dark:"#1D1D1D"},i={primary:"#409EFF",secondary:"#26A69A",accent:"#9C27B0",positive:"#67C23A",negative:"#F56C6C",info:"#8896b3",warning:"#e6a23c",light:"#FFFFFF",dark:"#1D1D1D"},u={primary:"#1890ff",secondary:"#26A69A",accent:"#9C27B0",positive:"#52c41a",negative:"#f5222d",info:"#fafafa",warning:"#faad14",light:"#FFFFFF",dark:"#1D1D1D"},e={"Quasar-Admin":r,Quasar:r,"Element Plus":i,"Ant Design Vue":u},o=J(),s=H(),n=w=>{const x=e[w];for(const B in x)l(B,x[B]);s.SetThemeStyle(w)},l=(w,x)=>{ie.set("default-theme-"+w,x),se(w,x)},t=p(()=>s.GetThemeStyle()),m=p(()=>{if(o.dark.isActive)return"bg-dark text-white";if(t.value==="Quasar-Admin")return"bg-grey-10 text-white";if(t.value==="Quasar"||t.value==="Element Plus"||t.value==="Ant Design Vue")return"bg-primary text-white"}),h=p(()=>{if(o.dark.isActive)return"bg-dark text-white";if(t.value==="Quasar-Admin")return"text-dark";if(t.value==="Quasar"||t.value==="Element Plus"||t.value==="Ant Design Vue")return"bg-primary text-white"}),a=p(()=>{if(o.dark.isActive)return"bg-dark text-white";if(t.value==="Quasar-Admin")return"bg-white text-dark";if(t.value==="Quasar"||t.value==="Element Plus"||t.value==="Ant Design Vue")return"bg-primary text-white"}),v=p(()=>{if(o.dark.isActive)return"bg-dark text-white";if(t.value==="Quasar-Admin")return"bg-white text-dark";if(t.value==="Quasar"||t.value==="Element Plus"||t.value==="Ant Design Vue")return"bg-white text-primary"}),k=p(()=>{if(o.dark.isActive)return["class","bg-grey-10 text-white"];if(t.value==="Quasar-Admin")return["class","bg-grey-3 text-grey-10"];if(t.value==="Quasar")return["class","bg-white text-dark"];if(t.value==="Element Plus")return["style",{backgroundColor:"#545c64",color:"white"}];if(t.value==="Ant Design Vue")return["style",{backgroundColor:"#001529",color:"white"}]}),q=p(()=>{if(o.dark.isActive)return"bg-grey-10 text-white";if(t.value==="Quasar-Admin")return"bg-grey-5 text-grey-10";if(t.value==="Quasar")return"bg-primary text-white";if(t.value==="Element Plus")return"bg-#545c64 text-yellow";if(t.value==="Ant Design Vue")return"bg-primary text-white"}),W=p(()=>o.dark.isActive?"dark":"");return{setThemeStyle:n,ThemeStyleQuasar:r,ThemeStyleElement:i,ThemeStyleAnt:u,darkTheme:m,darkThemeLoginHelp:h,darkThemeLoginCard:a,darkThemeTab:v,darkThemeSideBar:k,darkThemeSelect:q,darkThemeChart:W}}const Le=N({__name:"ItemMultiple",props:{trueItem:{default:function(){return null},type:Object},initLevel:{type:Number,default:0}},setup(r,{expose:i}){i();const u=H(),e=L(),o=r,{trueItem:s,initLevel:n}=A(o),l=p(()=>u.leftCollapsed&&!u.overlayMenu?"margin-left:-16px":"");xe(e,()=>{m()}),Ce(()=>{m()});const t=_(!1),m=()=>{for(let a of s.value.children)if(a.path===e.path||a.parent_code===e.name){t.value=!0;return}t.value=!1},h={appState:u,route:e,props:o,trueItem:s,initLevel:n,shortStyle:l,itemOpen:t,changeOpen:m};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}});function Be(r,i,u,e,o,s){const n=E("Icon");return c(),g(ue,{modelValue:e.itemOpen,"onUpdate:modelValue":i[0]||(i[0]=l=>e.itemOpen=l),group:e.trueItem.name,"header-inset-level":e.initLevel},{header:f(()=>[d(D,{avatar:"",style:ee(e.shortStyle)},{default:f(()=>[d(n,{icon:e.trueItem.meta?.icon},null,8,["icon"])]),_:1},8,["style"]),d(D,{style:{"margin-left":"-10px"}},{default:f(()=>[U(z(e.trueItem.meta?.title),1)]),_:1})]),default:f(()=>[te(r.$slots,"default")]),_:3},8,["modelValue","group","header-inset-level"])}const Y=I(Le,[["render",Be],["__file","ItemMultiple.vue"]]),Fe={__name:"ItemSingle",props:{trueItem:{default:function(){return{}},type:Object},initLevel:{type:Number,default:0}},setup(r,{expose:i}){i();const{darkThemeSelect:u}=j(),e=P(),o=L(),s=r,{trueItem:n,initLevel:l}=A(s),t=a=>{a.path&&X(a.path)||a.link?window.open(a.path):e.push({name:a.name})},m=p(()=>o.name===n.value.name),h={darkThemeSelect:u,router:e,route:o,props:s,trueItem:n,initLevel:l,toPath:t,checkActive:m,get useTheme(){return j},computed:p,toRefs:A,get useRoute(){return L},get useRouter(){return P},get H5Tool(){return be},get isValidURL(){return X}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}};function Qe(r,i,u,e,o,s){const n=E("Icon");return ne((c(),g(K,{clickable:"",exact:"","inset-level":e.initLevel,active:e.checkActive,"active-class":e.darkThemeSelect,onClick:i[0]||(i[0]=l=>e.toPath(e.trueItem))},{default:f(()=>[d(D,{avatar:""},{default:f(()=>[d(n,{icon:e.trueItem.meta?.icon},null,8,["icon"])]),_:1}),d(D,{style:{"margin-left":"-10px"}},{default:f(()=>[U(z(e.trueItem.meta?.title),1)]),_:1})]),_:1},8,["inset-level","active","active-class"])),[[ce]])}const Z=I(Fe,[["render",Qe],["__scopeId","data-v-f6605882"],["__file","ItemSingle.vue"]]),Re={__name:"SideMenuBarItem",props:{childrenItem:{default:function(){return{}},type:Object},initLevel:{type:Number,default:0}},setup(r,{expose:i}){i();const u=r,{childrenItem:e,initLevel:o}=A(u),s=p(()=>e.value.children&&e.value.children.length!==0?Y:Z),n={props:u,childrenItem:e,initLevel:o,chooseComponent:s,computed:p,toRefs:A,ItemMultiple:Y,ItemSingle:Z};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}};function Oe(r,i,u,e,o,s){const n=E("SideMenuBarItem",!0);return c(),g(Ae(e.chooseComponent),{"true-item":e.childrenItem,"init-level":e.initLevel},{default:f(()=>[e.childrenItem.children&&e.childrenItem.children.length!==0?(c(!0),y(C,{key:0},V(e.childrenItem.children,l=>(c(),g(n,{key:l.path,"children-item":l,"init-level":e.initLevel+.3},null,8,["children-item","init-level"]))),128)):R("",!0)]),_:1},8,["true-item","init-level"])}const Ve=I(Re,[["render",Oe],["__file","SideMenuBarItem.vue"]]),Pe={__name:"index",props:{topMenuChildren:{type:Object||Array,required:!1,default:()=>null}},setup(r,{expose:i}){i();const{darkThemeSideBar:u}=j(),e=r,{topMenuChildren:o}=A(e);b.Loading("SideMenuBar");const s={darkThemeSideBar:u,props:e,topMenuChildren:o,get useTheme(){return j},toRefs:A,get Global(){return b},SideMenuBarItem:Ve};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}};function je(r,i,u,e,o,s){return c(),g(de,{style:ee([{height:"calc(100%)"},e.darkThemeSideBar[0]==="style"?e.darkThemeSideBar[1]:{}]),class:O(e.darkThemeSideBar[0]==="class"?e.darkThemeSideBar[1]:"")},{default:f(()=>[te(r.$slots,"default",{},void 0,!0),d($,{class:"menu-list"},{default:f(()=>[(c(!0),y(C,null,V(e.topMenuChildren,(n,l)=>(c(),g(e.SideMenuBarItem,{key:l,"children-item":n,"init-level":0,style:{}},null,8,["children-item"]))),128))]),_:1})]),_:3},8,["class","style"])}const Ee=I(Pe,[["render",je],["__scopeId","data-v-1df24f70"],["__file","index.vue"]]);var S=(r=>(r[r.Widget=0]="Widget",r[r.Route=1]="Route",r[r.URL=2]="URL",r[r.Action=3]="Action",r))(S||{});const Ue=N({__name:"index",props:{data:{type:Array,required:!0}},setup(r,{expose:i}){i();const u=r,e=_(u.data),o=P(),s=L();function n(a){if(a.children){let v=!1;if(a.children.forEach(k=>{if(k.path===s.path){v=!0;return}}),v)return" pagemenuActive"}else if(a.path===s.path)return"pagemenuActive";return""}const l=_();function t(a,v){const k=a.label;if(l.value)l.value.label!=k&&(l.value.state=!1),l.value=a,a.state=v;else{l.value=a,a.state=v;return}}function m(a){if(!(!a||a.children)&&a.path)switch(a.kind){case void 0:case S.Route:a.blank?Te(o,a.path,{}):o.push({path:a.path});break;case S.URL:window.open(a.path,"_blank");break;case S.Action:b.EventBus.emit("IPageMenu.Action",a);break;case S.Widget:b.EventBus.emit("LayoutLoadWidget",a);break}}const h={props:u,dataRef:e,router:o,route:s,getSelectedStyle:n,currentItem:l,setShowState:t,menuClickHandler:m};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),qe={class:"row gt-xs q-py-md q-gutter-xs"};function We(r,i,u,e,o,s){return c(),y("div",qe,[(c(!0),y(C,null,V(e.dataRef,(n,l)=>(c(),y(C,{key:n.label},[n.children?(c(),g(he,{key:0,"model-value":n.state,"onUpdate:modelValue":t=>n.state=t,"transition-show":"flip-right","transition-hide":"flip-left",flat:"",label:n.label,class:O(e.getSelectedStyle(n)),onMouseover:t=>e.setShowState(n,!0)},{default:f(()=>[d($,{style:{"min-width":"100px"},onMouseover:t=>e.setShowState(n,!0),onMouseleave:t=>e.setShowState(n,!1)},{default:f(()=>[(c(!0),y(C,null,V(n.children,(t,m)=>(c(),y(C,{key:t.label},[ne((c(),g(K,{clickable:"",class:O(e.getSelectedStyle(t)),onClick:h=>e.menuClickHandler(t)},{default:f(()=>[d(D,null,{default:f(()=>[U(z(t.label),1)]),_:2},1024)]),_:2},1032,["class","onClick"])),[[fe]]),d(pe)],64))),128))]),_:2},1032,["onMouseover","onMouseleave"])]),_:2},1032,["model-value","onUpdate:modelValue","label","class","onMouseover"])):(c(),g(Q,{key:1,color:"black",flat:"",label:n.label,class:O(e.getSelectedStyle(n)),onClick:t=>e.menuClickHandler(n),onMouseover:t=>e.setShowState(n,!1)},null,8,["label","class","onClick","onMouseover"]))],64))),128))])}const He=I(Ue,[["render",We],["__file","index.vue"]]);function Ne(r){r&&Se(De.ModalContainerWidget_LoadModal,r)}const ze=N({__name:"TopMenuWidget",setup(r,{expose:i}){i();const u=[{label:"首页",icon:"ant-design:home-outlined",kind:S.Route,path:"/product/index"},{label:"API示例",kind:S.Route,path:"/product/apiexamples"},{label:"大屏展示",kind:S.Route,path:"/bigscreen"}],e=_(!1),o=_(!1),s=J(),n=_(b.Config.UI?.SiteTitle),l=H(),t=ke(),{leftCollapsed:m}=me(l),h=_(l.headerSetting.centerTitle),a=_(l.headerSetting.showFullScreen),v=_(l.headerSetting.showCollapseIcon);function k(){l.toggleCollapse()}const q=Ie({headerHeight:Me.getHeaderHeight()}),W=_(window.document.documentElement),w=L(),x=()=>{s.dialog({title:"退出",message:"您确定要退出登录吗？",cancel:!0}).onOk(()=>{t.clear(),b.Message.msg("成功退出登录"),window.open(window.location.pathname,"_self")}).onCancel(()=>{})},B=p(()=>!b.Config.UI?.IsNoLogin);function re(){Ne({modalID:"changeMyPWD",extraData:{title:"修改密码"},width:500,rowData:void 0})}const F=P();function ae(T){switch(T){case"0":F.push("/index");break;case"4":F.push("/apiexamples");break;case"5":F.push("/wsntest");break}}const le=p(()=>{const T=we.children;return T||(b.Message.warn("无法获取路由列表！"),[])});function oe(){}const G={menuList:u,rightDrawerOpen:e,isShow:o,$q:s,siteTitle:n,appState:l,userState:t,leftCollapsed:m,iscenterTitle:h,showFullScreen:a,showCollapseIcon:v,toggleCollapse:k,state:q,fullScreenElem:W,route:w,doLogout:x,isNOLogin:B,showUserModal:re,router:F,routerPush:ae,topMenuChildren:le,toggleRightDrawer:oe,FullScreen:ye,SideMenuBar:Ee,PageMenu:He};return Object.defineProperty(G,"__isScriptSetup",{enumerable:!1,value:!0}),G}}),Ge={class:"row"},Xe={class:"col-11 row justify-end items-center"},Ye={class:"col-1 justify-end q-pa-md"},Ze={class:"q-gutter-sm row items-center no-wrap"};function Je(r,i,u,e,o,s){const n=E("Icon");return c(),y(C,null,[M("div",Ge,[M("div",Xe,[d(e.PageMenu,{data:e.menuList})]),M("div",Ye,[M("div",Ze,[d(Q,{class:"lt-sm",dense:"",flat:"",round:"",icon:"menu",onClick:e.toggleRightDrawer}),d(Q,{dense:"",flat:"",href:"https://github.com",target:"_blank"},{default:f(()=>[d(n,{icon:"fa-github"}),d(_e,null,{default:f(()=>i[1]||(i[1]=[U("github")])),_:1})]),_:1}),M("span",null,[e.showCollapseIcon?(c(),g(n,{key:0,icon:e.leftCollapsed?"ant-design:menu-unfold-outlined":"ant-design:menu-fold-outlined",onClick:e.toggleCollapse},null,8,["icon"])):R("",!0)]),e.showFullScreen&&e.$q.screen.gt.sm?(c(),g(e.FullScreen,{key:0,target:e.fullScreenElem},null,8,["target"])):R("",!0)])])]),e.$q.screen.lt.sm?(c(),g(ge,{key:0,view:"hHH lpR fFf"},{default:f(()=>[d(ve,{modelValue:e.rightDrawerOpen,"onUpdate:modelValue":i[0]||(i[0]=l=>e.rightDrawerOpen=l),side:"right",bordered:""},{default:f(()=>[d(Q,{dense:"",flat:"",round:"",icon:"menu",onClick:e.toggleRightDrawer}),d(e.SideMenuBar,{"top-menu-children":e.topMenuChildren},null,8,["top-menu-children"])]),_:1},8,["modelValue"])]),_:1})):R("",!0)],64)}const ct=I(ze,[["render",Je],["__file","TopMenuWidget.vue"]]);export{ct as default};
