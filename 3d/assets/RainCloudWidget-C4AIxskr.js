import{c3 as b,cr as C,c4 as L,c5 as W,cb as E,cc as G,cs as A,ci as B,cf as D,ct as F,cu as H,cv as $,c6 as k,cw as T,c9 as j}from"./vendor-CDV5M84i.js";import{d as q,v as V,M as I,L as N,R as O}from"./@vue-exp-YaP0LnBg.js";import{_ as J}from"./index-urNJi4nj.js";import"./@hprose-exp-DifMA6AO.js";import"./xframelib-exp-CvTEfE5n.js";import"./axios-exp-BH40TtQM.js";import"./vue-router-exp-BeFgxScw.js";const g="SampleData/smoke.png",K=q({__name:"RainCloudWidget",setup(y,{expose:d}){d();const l=[];function h(){const n=new b;n.fog=new C(1118495,.002);const s=document.querySelector("#c"),r=new L({canvas:s});r.setClearColor(n.fog.color),r.setSize(s.clientWidth,s.clientHeight),r.setPixelRatio(window.devicePixelRatio);const i=new W(60,s.clientWidth/s.clientHeight,1,1e3);i.position.z=1,i.rotation.x=1.16,i.rotation.y=-.12,i.rotation.z=.27;const v=new E(5592405);n.add(v);const w=new G(16772829);w.position.set(0,0,1),n.add(w);const t=new A(16777215,30,500,1.7);t.position.set(200,300,100),t.power=150,t.castShadow=!0,n.add(t),t.shadow.mapSize.width=512,t.shadow.mapSize.height=512;const f=new B,m=new Array,x=15e3;for(let e=0;e<x;e++){const a=new D(Math.random()*400-200,Math.random()*500-250,Math.random()*400-200);a.velocity=0,m.push(a)}f.setFromPoints(m);const z=new F({color:11184810,size:.1,transparent:!0}),_=new H(f,z);n.add(_);let P=new $().load(g);function S(e){const a=new k(500,500,1,1),p=new T({map:e,transparent:!0});for(let c=0;c<25;c++){let o=new j(a,p);o.position.set(Math.random()*800-400,500,Math.random()*500-450),o.rotation.x=1.16,o.rotation.y=-.12,o.rotation.z=Math.random()*360,o.material.opacity=.6,l.push(o),n.add(o)}M()}S(P);function R(e){const a=e.domElement,p=a.clientWidth,c=a.clientHeight,o=a.width!==p||a.height!==c;return o&&e.setSize(p,c,!1),o}function M(){if(R(r)){const e=r.domElement;i.aspect=e.clientWidth/e.clientHeight,i.updateProjectionMatrix()}l.forEach(e=>{e.rotation.z-=.002}),m.forEach(e=>{e.velocity-=.1+Math.random()*.1,e.y+=e.velocity,e.y<-200&&(e.y=200,e.velocity=0)}),f.setFromPoints(m),_.rotation.y+=.002,(Math.random()>.4||t.power>100)&&(t.power<100&&t.position.set(Math.random()*400,300+Math.random()*200,100),t.power=50+Math.random()*500),r.render(n,i),requestAnimationFrame(M)}}V(()=>{h()});const u={img:g,cloudParticles:l,init:h};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),Q={class:"container"};function U(y,d,l,h,u,n){return O(),I("div",Q,d[0]||(d[0]=[N("canvas",{id:"c"},null,-1)]))}const ie=J(K,[["render",U],["__scopeId","data-v-baa9e17e"],["__file","RainCloudWidget.vue"]]);export{ie as default};
