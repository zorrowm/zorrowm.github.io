import{$ as N,Z as S}from"./@tato30/vue-pdf-exp-Cyb00yfS.js";import{s as k,r as h,c as v,d as P,p as E,b as f,e as _,l as s,j as x,a6 as d,g as j,o as C}from"./@vue-exp-DMKPrOh0.js";import{bu as M}from"./vendor-B1f7FUIB.js";import{_ as T}from"./index-CvUQtR9N.js";import"./pdfjs-dist-exp-C7mOU4gj.js";import"./@hprose-exp-BEudjurc.js";import"./xframelib-exp-B9KgMBHw.js";import"./axios-exp-B_zfNCMU.js";import"./@iconify/vue-exp-5llPk3YT.js";import"./vue-router-exp-DWvvxSx9.js";const D=k(null),b=h(null);function V(i){const{pdf:a,pages:t}=N(i);D.value=a,b.value=t}const y=v(()=>D.value?.value),g=v(()=>b.value?.value),r=.2,O=P({__name:"index",setup(i,{expose:a}){a();const t=M(),e=E({pageNum:1,scale:1});function l(){e.pageNum>1&&e.pageNum--}function u(){e.pageNum<g.value&&e.pageNum++}const n=h(1);let c=0;const m={$q:t,state:e,prePage:l,nextPage:u,scale:n,detScale:r,get initialDistance(){return c},set initialDistance(o){c=o},onTouchStart:o=>{o.touches.length===2&&(c=Math.hypot(o.touches[0].pageX-o.touches[1].pageX,o.touches[0].pageY-o.touches[1].pageY))},onTouchMove:o=>{if(o.touches.length===2){const p=Math.hypot(o.touches[0].pageX-o.touches[1].pageX,o.touches[0].pageY-o.touches[1].pageY);p>c?n.value<3&&(n.value+=r):p<c&&n.value>r&&(n.value-=r),c=p}},onTouchEnd:()=>{c=0},get VuePDF(){return S},get pdfObj(){return y},get pdfPages(){return g}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),F={class:"pdfContainer"},w={class:"page-tool"},B={class:"page-tool-item"},X={key:0,class:"zoom-tool"};function Y(i,a,t,e,l,u){return f(),_("div",F,[s("div",{class:"pdf-wrap",onTouchstart:e.onTouchStart,onTouchmove:e.onTouchMove,onTouchend:e.onTouchEnd},[x(e.VuePDF,{pdf:e.pdfObj,page:e.state.pageNum,scale:e.scale},null,8,["pdf","page","scale"])],32),s("div",w,[s("div",{class:"page-tool-item",onClick:e.prePage},"上一页"),s("div",B,d(e.state.pageNum)+"/"+d(e.pdfPages),1),s("div",{class:"page-tool-item",onClick:e.nextPage},"下一页")]),e.$q.platform.is.desktop?(f(),_("div",X,[s("div",{onClick:a[0]||(a[0]=n=>e.scale=e.scale<3?e.scale+.2:e.scale)}," + "),s("span",null,d(Math.floor(e.scale*100))+"%",1),s("div",{onClick:a[1]||(a[1]=n=>e.scale=e.scale>.2?e.scale-.2:e.scale)}," - ")])):j("",!0)])}const R=T(O,[["render",Y],["__scopeId","data-v-f56e15e3"],["__file","index.vue"]]),q=P({__name:"index",setup(i,{expose:a}){a(),C(()=>{V("/SampleData/test.pdf")});const t={PDFViewer:R};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}}),Z={class:"fit"};function z(i,a,t,e,l,u){return f(),_("div",Z,[x(e.PDFViewer)])}const ae=T(q,[["render",z],["__file","index.vue"]]);export{ae as default};
