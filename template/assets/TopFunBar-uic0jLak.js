import{u as q,e as N,i as R,j,k as z,ab as E,a3 as U,q as O,F as W,a0 as K}from"./quasar-exp-B7YDMHDE.js";import{cK as F,cL as G,cB as V}from"./vendor-CSzZZ-de.js";import{d as P,c as A,r as _,$ as C,ae as D,b as n,e as c,F as Q,a9 as L,j as w,f as h,a3 as f,k as r,i as t,a6 as T,g as x,ag as H,l as B,v as J,I as X}from"./@vue-exp-CzdoyapG.js";import{_ as S,k as I}from"./index-DylLUN-r.js";import{T as M}from"./TableEvent-Bxu_GHGl.js";const Y={class:"actionMenuLine"},Z={class:"row no-wrap items-center q-pa-sm"},ee={key:0},ne=P({__name:"ActionMenu",props:{defaultMenus:F().def([]),appendMenus:F().def([]),currentRow:G().def(null)},emits:["doActionClick"],setup(o,{emit:g}){const k=o,v=g;q();const u=A(()=>k.appendMenus.length>0),d=a=>{v("doActionClick",a.value,k.currentRow)},p=_(!1);return(a,s)=>{const l=C("Icon"),m=C("FVDropdown"),e=C("FVMenu"),b=D("tooltip");return n(),c("div",Y,[(n(!0),c(Q,null,L(o.defaultMenus,(i,$)=>w((n(),c("div",{key:$},[i.isdelete||i.value==="delete"?(n(),h(m,{key:0,placement:"bottom"},{popper:f(({hide:y})=>[r("div",Z,[s[0]||(s[0]=r("span",{class:"text-no-wrap"},"确认删除该条记录?",-1)),t(N,{flat:"",round:"",dense:"",color:"negative",icon:"delete",onClick:ve=>y()&d(i)},null,8,["onClick"])])]),default:f(()=>[t(l,{icon:i.icon,class:"operationIcon"},null,8,["icon"])]),_:2},1024)):(n(),h(l,{key:1,icon:i.icon,class:"operationIcon",onClick:y=>d(i)},null,8,["icon","onClick"]))])),[[b,i.name]])),128)),u.value?(n(),c("div",ee,[t(e,{placement:"bottom-start",shown:p.value},{popper:f(()=>[t(R,{style:{"min-width":"100px"}},{default:f(()=>[(n(!0),c(Q,null,L(o.appendMenus,(i,$)=>(n(),h(j,{key:$,clickable:"",onClick:y=>d(i)},{default:f(()=>[t(z,{class:"moreMenuItem"},{default:f(()=>[t(l,{icon:i.icon,class:"operationIcon"},null,8,["icon"]),r("span",null,T(i.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:f(()=>[r("div",null,[t(l,{icon:"ic:baseline-more-horiz",class:"operationIcon"})])]),_:1},8,["shown"])])):x("",!0)])}}}),we=S(ne,[["__scopeId","data-v-f22a159c"]]),te={class:"q-pa-sm row items-center"},oe={class:"row justify-center items-center"},ae={class:"infoLine"},se=["max"],le=P({__name:"PaginationLine",props:{rowsNumber:V().isRequired,rowsPerPage:V().def(10),max:V().def(0)},setup(o){const g=o,k=_([{label:"10条/页",value:10},{label:"20条/页",value:20},{label:"30条/页",value:30},{label:"50条/页",value:50},{label:"80条/页",value:80},{label:"100条/页",value:100}]),v=_({label:g.rowsPerPage+"条/页",value:g.rowsPerPage}),u=_(1),d=_(1),p=A(()=>g.max);function a(m){I(M.RefeshTable,{page:m})}function s(){I(M.RefeshTable,{page:1,pageSize:v.value.value})}function l(){d.value&&(u.value=d.value,I(M.RefeshTable,{page:u.value}))}return(m,e)=>(n(),c("div",te,[r("div",oe,[r("div",ae,"总共 "+T(o.rowsNumber)+" 条",1),t(E,{borderless:"",modelValue:v.value,"onUpdate:modelValue":[e[0]||(e[0]=b=>v.value=b),s],options:k.value,"option-value":"value","option-label":"label"},null,8,["modelValue","options"])]),t(U,{modelValue:u.value,"onUpdate:modelValue":[e[1]||(e[1]=b=>u.value=b),a],max:p.value,"max-pages":6,ellipsess:"","direction-links":!0},null,8,["modelValue","max"]),e[3]||(e[3]=r("div",{class:"infoLine"},"转到",-1)),w(r("input",{class:"inputPage",type:"number","onUpdate:modelValue":e[2]||(e[2]=b=>d.value=b),max:p.value,min:"1",onChange:l},null,40,se),[[H,d.value]]),e[4]||(e[4]=r("div",{class:"infoLine"}," 页",-1))]))}}),he=S(le,[["__scopeId","data-v-484cbba5"]]),ie={class:"row no-wrap full-width justify-center items-center"},ce={class:"toptitle"},re={class:"q-gutter-xs row no-wrap items-center"},ue={key:1,class:"funBtn"},de={class:"funBtn"},pe={class:"funBtn"},me=P({__name:"TopFunBar",props:{title:{type:String,default:""},ifTask:{type:Boolean,default:!0},target:{type:Object,required:!0},batch:{type:Boolean,required:!0}},emits:["topBarClick"],setup(o,{emit:g}){const k=q(),v=g,u=_("");function d(){k.dialog({title:"批量删除",message:"确认删除选中记录吗？",cancel:!0,persistent:!0}).onOk(()=>{p("batchDelete")}).onCancel(()=>{})}const p=a=>{a==="searchWord"?v("topBarClick",a,u.value):v("topBarClick",a)};return(a,s)=>{const l=C("Icon"),m=D("tooltip");return n(),c("div",ie,[B(a.$slots,"left",{},()=>[r("div",ce,T(o.title),1)],!0),t(O),r("div",re,[B(a.$slots,"right",{},()=>[t(K,{clearable:"",outlined:"",dense:"",placeholder:"请输入关键字搜索",debounce:"300",modelValue:u.value,"onUpdate:modelValue":[s[0]||(s[0]=e=>u.value=e),s[1]||(s[1]=e=>p("searchWord"))]},{append:f(()=>[t(W,{name:"search"})]),_:1},8,["modelValue"]),o.ifTask?w((n(),c("div",{key:0,class:"funBtn",onClick:s[2]||(s[2]=e=>p("creatNew"))},[t(l,{icon:"ant-design:plus-outlined"})])),[[m,"新建"]]):x("",!0),o.ifTask?w((n(),c("div",ue,[o.batch?(n(),h(l,{key:0,icon:"ant-design:delete-outlined",disabled:""})):(n(),h(l,{key:1,icon:"ant-design:delete-outlined",onClick:d}))])),[[m,"批量删除"]]):x("",!0),w((n(),c("div",de,[t(l,{icon:"ant-design:sync-outlined",onClick:s[3]||(s[3]=e=>p("refresh"))})])),[[m,"刷新"]]),w((n(),c("div",pe,[t(l,{icon:o.target.inFullscreen?"ant-design:fullscreen-exit-outlined":"ant-design:fullscreen-outlined",onClick:o.target.toggleFullscreen},null,8,["icon","onClick"])])),[[m,"刷新"],[J,X(k).screen.gt.sm]]),B(a.$slots,"rightAppend",{},void 0,!0)],!0)])])}}}),Ce=S(me,[["__scopeId","data-v-ce90b1ff"]]);export{we as A,he as P,Ce as T};
