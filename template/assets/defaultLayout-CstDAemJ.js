import{bu as z,bv as g,bw as _,bx as E,by as U,bz as W,bA as G,bB as T,bC as M,bD as k,bE as J,bF as B,bG as K,bH as $,bI as X,bJ as Y,bK as Z,bL as ee,bM as te}from"./vendor-B1f7FUIB.js";import{T as ae}from"./TabMenu-BUhZRsaB.js";import{P as oe}from"./PageFooter-D7RVQX2l.js";import{B as le}from"./Breadcrumbs-KFPOATdi.js";import{B as b,N as re}from"./xframelib-exp-B9KgMBHw.js";import{b as C,u as ne,_ as x,c as se}from"./index-CvUQtR9N.js";import{D as ie}from"./DarkMode-C3f8d41E.js";import{d as m,$ as ue,b as n,e as I,j as a,a3 as o,ab as s,f as d,g as c,l as D,a6 as S,r as q,c as y,a0 as Q,w as de,o as fe}from"./@vue-exp-DMKPrOh0.js";import{S as ce}from"./BaseMenu-C2T5kzyz.js";import{t as me}from"./tabMenu-REkMxP4d.js";import"./@hprose-exp-BEudjurc.js";import"./pdfjs-dist-exp-C7mOU4gj.js";import"./vue-router-exp-DWvvxSx9.js";import"./axios-exp-B_zfNCMU.js";import"./@iconify/vue-exp-5llPk3YT.js";const _e=m({name:"ToolbarItem"}),pe=m({..._e,setup(i,{expose:t}){t();const l=C(),e=ne(),u=z(),r={appState:l,userState:e,$q:u,doLogout:()=>{u.dialog({title:"退出",message:"您确定要退出登录吗？",cancel:!0}).onOk(()=>{e.clear(),b.Message.msg("成功退出登录"),window.open(window.location.pathname,"_self")}).onCancel(()=>{})},DarkMode:ie};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),ge={class:"q-gutter-sm row items-center no-wrap"};function be(i,t,l,e,u,f){const r=ue("Icon");return n(),I("div",ge,[a(_,{dense:"",flat:"",icon:"fa-brands fa-github",href:"https://github.com/york11122/quasar-admin-vue3-typescript",target:"_blank"},{default:o(()=>[a(g,null,{default:o(()=>t[2]||(t[2]=[s("github")])),_:1})]),_:1}),e.$q.screen.gt.sm?(n(),d(_,{key:0,dense:"",flat:"",icon:e.$q.fullscreen.isActive?"fullscreen_exit":"fullscreen",onClick:t[0]||(t[0]=h=>e.$q.fullscreen.toggle())},{default:o(()=>[a(g,null,{default:o(()=>t[3]||(t[3]=[s("全屏")])),_:1})]),_:1},8,["icon"])):c("",!0),a(e.DarkMode),e.$q.screen.gt.sm?(n(),d(_,{key:1,dense:"",flat:"",icon:"refresh",onClick:t[1]||(t[1]=h=>e.appState.reloadPage(200))},{default:o(()=>[a(g,null,{default:o(()=>t[4]||(t[4]=[s("刷新页面")])),_:1})]),_:1})):c("",!0),a(_,{round:"",dense:"",flat:"",icon:"notifications"},{default:o(()=>[a(E,{color:"red","text-color":"",floating:""},{default:o(()=>t[5]||(t[5]=[s("2")])),_:1}),a(g,null,{default:o(()=>t[6]||(t[6]=[s("通知")])),_:1})]),_:1}),a(_,{round:"",flat:""},{default:o(()=>[a(U,{color:"primary","text-color":"white"},{default:o(()=>t[7]||(t[7]=[s("U")])),_:1}),a(W,null,{default:o(()=>[a(G,{dense:""},{default:o(()=>[a(T,null,{default:o(()=>[a(M,null,{default:o(()=>[D("strong",null,S(e.userState.name),1)]),_:1})]),_:1}),a(k),a(T,{clickable:""},{default:o(()=>[a(M,null,{default:o(()=>[s(S(e.userState.roles?e.userState.roles[0].name:""),1)]),_:1})]),_:1}),a(k),a(T,{clickable:""},{default:o(()=>[a(M,{onClick:e.doLogout},{default:o(()=>[a(r,{icon:"ant-design:logout-outlined"}),t[8]||(t[8]=s(" 退出 "))]),_:1})]),_:1})]),_:1})]),_:1}),a(g,null,{default:o(()=>t[9]||(t[9]=[s("用户")])),_:1})]),_:1})])}const he=x(pe,[["render",be],["__file","ToolbarItem.vue"]]),ye=m({name:"ToolbarTitle"}),we=m({...ye,props:{title:{default:b.Config.UI?.SiteTitle}},setup(i,{expose:t}){t();const l={};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}});function ve(i,t,l,e,u,f){return n(),d(_,{flat:"","no-caps":"","no-wrap":""},{default:o(()=>[t[0]||(t[0]=D("img",{src:"img/logo.png",alt:"",style:{width:"32px"}},null,-1)),i.$q.screen.gt.xs?(n(),d(J,{key:0,shrink:"",class:"text-weight-bold"},{default:o(()=>[s(S(l.title),1)]),_:1})):c("",!0),i.$q.screen.xs?(n(),d(g,{key:1},{default:o(()=>[s(S(l.title),1)]),_:1})):c("",!0)]),_:1})}const O=x(we,[["render",ve],["__file","ToolbarTitle.vue"]]),Se=m({name:"Drawer"}),xe=m({...Se,props:{title:{default:""}},setup(i,{expose:t}){t();const l=i,e=C(),{leftCollapsed:u,leftDrawerOpen:f}=B(e),r=q(!1),h=y(()=>`height:${e.headerSetting.height}px`),w=y(()=>l.title?`height: calc(100% - ${e.headerSetting.height}px);`:"height:100%;"),v={props:l,appState:e,leftCollapsed:u,leftDrawerOpen:f,isMiniOverlay:r,titleHeightStyle:h,leftMenueStyle:w,ToolbarTitle:O,BaseMenu:ce};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}});function Te(i,t,l,e,u,f){return n(),d(K,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[0]||(t[0]=r=>e.leftDrawerOpen=r),mini:e.leftCollapsed,width:e.appState.menuSetting.menuWidth,"mini-width":e.appState.menuSetting.minWidth,"show-if-above":"",bordered:"","mini-to-overlay":e.isMiniOverlay},{default:o(()=>[l.title?(n(),I("div",{key:0,class:"absolute-top q-pa-sm",style:Q(e.titleHeightStyle)},[a(e.ToolbarTitle,{title:l.title,style:{width:"100%"},mini:e.leftCollapsed},null,8,["title","mini"]),a(k,{spaced:"sm"})],4)):c("",!0),a(e.BaseMenu,{layoutName:"DefaultLayout",style:Q(e.leftMenueStyle),isdefault:!0},null,8,["style"])]),_:1},8,["modelValue","mini","width","mini-width","mini-to-overlay"])}const Me=x(xe,[["render",Te],["__file","LeftDrawer.vue"]]),ke=m({name:"DefaultLayout"}),Ce=m({...ke,setup(i,{expose:t}){t();const l=q([3,80]),e=C(),{showTabMenu:u,showBreadCrumbs:f,leftDrawerOpen:r,showFooter:h}=B(e),w=me();w.SetTabBase("DefaultLayout");const v=e.headerSetting.height,F=()=>{r.value?e.leftCollapsed?r.value=!1:e.leftCollapsed=!0:(r.value=!0,e.leftCollapsed=!1)};de(()=>r.value,p=>{});const P=y(()=>{const p=se();return p?p.find(A=>A.name==="DefaultLayout")?.children:(b.Message.warn("无法获取路由列表！"),[])}),R=y(()=>r.value?e.leftCollapsed?"o_align_horizontal_right":"menu_open":"menu"),H=y(()=>e.overlayMenu);function N(){e.overlayMenu=!0}function V(){e.overlayMenu=!1}const j=p=>{l.value=[l.value[0]-p.delta.x,l.value[1]-p.delta.y]};fe(()=>{b.Loading("DefaultLayout布局"),b.Loading("end"),b.Message.success("加载成功！")});const L={fabPos:l,appState:e,showTabMenu:u,showBreadCrumbs:f,leftDrawerOpen:r,showFooter:h,tabMenuState:w,headerHeight:v,toggleLeftDrawer:F,topMenuChildren:P,getRightIcon:R,isOverlay:H,onmouseover:N,onmouseout:V,moveFab:j,TabMenu:ae,PageFooter:oe,Breadcrumbs:le,ToolbarItem:he,ToolbarTitle:O,LeftDrawer:Me,get RouterTransition(){return re}};return Object.defineProperty(L,"__isScriptSetup",{enumerable:!1,value:!0}),L}}),De={class:"q-pr-md"};function Le(i,t,l,e,u,f){return n(),d(te,{view:"hHh LpR lFf",class:"full-height",style:{"overflow-x":"hidden"}},{default:o(()=>[a(Y,{class:"q-py-xs header","height-hint":e.headerHeight,bordered:"",style:{"box-shadow":"rgba(0, 0, 0, 0) 0px 2px 12px 0px","padding-bottom":"2px"}},{default:o(()=>[a($,{style:{"margin-top":"-5px"}},{default:o(()=>[D("div",De,[a(_,{flat:"",dense:"",round:"","aria-label":"Menu",icon:e.getRightIcon,onClick:t[0]||(t[0]=r=>e.toggleLeftDrawer())},null,8,["icon"]),a(e.ToolbarTitle)]),e.showBreadCrumbs?(n(),d(e.Breadcrumbs,{key:0,class:"text-weight-bold","show-icon":!1})):c("",!0),a(X),a(e.ToolbarItem)]),_:1})]),_:1},8,["height-hint"]),a(e.LeftDrawer,{title:""}),a(Z,{class:"dc-page-container full-height",style:{overflow:"hidden"}},{default:o(()=>[e.showTabMenu?(n(),d(e.TabMenu,{key:0,elevated:"",style:{"border-bottom":"1px solid #e0e0e0"}})):c("",!0),a(e.RouterTransition)]),_:1}),e.showFooter?(n(),d(ee,{key:0,elevated:"",class:"bg-grey-8 text-white"},{default:o(()=>[a(e.PageFooter)]),_:1})):c("",!0)]),_:1})}const We=x(Ce,[["render",Le],["__scopeId","data-v-a83e91c2"],["__file","defaultLayout.vue"]]);export{We as default};
