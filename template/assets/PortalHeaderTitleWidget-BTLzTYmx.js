import{c as x,e as b,i as z,j as g,k as _,m as M,h as G,u as J}from"./quasar-exp-B7YDMHDE.js";import{F as K}from"./FullScreen-BFNHdAi8.js";import{_ as X}from"./DarkMode.vue_vue_type_script_setup_true_lang-I68wecM7.js";import{cA as Y}from"./vendor-CSzZZ-de.js";import{n as Z,b as ee,u as te,p as R,i as oe,j as ae,_ as ne}from"./index-DylLUN-r.js";import{W as v}from"./xframelib-exp-uSJ3EBow.js";import{S as L}from"./SystemsEvent-DUQCZw_Q.js";import{d as T,a as se}from"./WidgetsTool-D0-2VvAI.js";import{u as le,b as ie}from"./vue-router-exp-B23Vo4Jw.js";import{g as S,_ as re}from"./PageMenu.vue_vue_type_style_index_0_lang-DEJXnHqz.js";import{d as ue,r as s,w as de,c as ce,o as me,a as fe,b as i,e as Q,k as e,i as t,I as r,a6 as m,g as h,a0 as w,f,a3 as a,aa as D,$ as pe}from"./@vue-exp-CzdoyapG.js";import"./lottie-web-exp-CIY4INm7.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./xgis-cesium-exp-Cbv1lISI.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-BLEeEXwl.js";import"./urlUtils-DZs0CCYb.js";const ge={class:"test11"},_e={class:"topHeaderWidget"},ve={key:0},Se={class:"rightmenu"},he={class:"absolute-top-right q-ma-md",style:{width:"140px"}},we={class:"q-gutter-md row items-center no-wrap"},De={style:{"text-transform":"none"}},ke=ue({__name:"PortalHeaderTitleWidget",setup(Ce){const d=s([]),E=Z();S(E,d.value);const k=J(),H=s(v.Config.UI?.SiteTitle),u=ee(),l=te();l.id&&S(R.children,d.value);const{leftCollapsed:B}=Y(u),N=s(u.headerSetting.centerTitle),P=s(u.headerSetting.showFullScreen),U=s(u.headerSetting.showCollapseIcon);function W(){u.toggleCollapse()}const O=s(window.document.documentElement),C=le(),q=ie(),y=s(C.name);de(()=>C.name,n=>{n&&(y.value=n.toString())});function p(n){return y.value===n?"border-bottom:solid 3px #33f":"border-bottom:unset;"}const F=()=>{k.dialog({title:"退出",message:"您确定要退出登录吗？",cancel:!0}).onOk(()=>{l.clear(),v.Message.msg("成功退出登录"),window.open(window.location.pathname,"_self")}).onCancel(()=>{})},V=ce(()=>!v.Config.UI?.IsNoLogin&&l.name);function $(){T({modalID:"changeMyPWD",extraData:{title:"修改密码"},width:500,rowData:void 0})}function j(){q.push({path:"/"})}function A(){T({modalID:"loginModal",extraData:{title:"内部管理系统"},rowData:{},width:700})}function I(){se({modalID:"loginModal"}),S(R.children,d.value)}return me(()=>{oe(L.UserLoginSuccess,I)}),fe(()=>{ae(L.UserLoginSuccess,I)}),(n,o)=>{const c=pe("Icon");return i(),Q("div",ge,[e("div",_e,[t(r(re),{data:d.value,class:"q-mx-md"},null,8,["data"]),e("div",{class:"centerTitle",onClick:j},[N.value?(i(),Q("span",ve,m(H.value),1)):h("",!0),o[0]||(o[0]=e("div",{class:"title"},"Worldwide Coordinate Systems Online Service",-1))]),e("ul",Se,[e("li",null,[e("a",{href:"/#/epsg/4326",style:w(p("epsg-info"))},"EPSG详情",4)]),e("li",null,[e("a",{href:"/#/index",style:w(p("transform"))},"坐标转换",4)]),e("li",null,[e("a",{href:"/#/api",style:w(p("api"))},"API接口",4)])])]),e("div",he,[e("div",we,[e("span",null,[U.value?(i(),f(c,{key:0,icon:r(B)?"ant-design:menu-unfold-outlined":"ant-design:menu-fold-outlined",onClick:W},null,8,["icon"])):h("",!0)]),P.value&&r(k).screen.gt.sm?(i(),f(K,{key:0,target:O.value},null,8,["target"])):h("",!0),t(X),V.value?(i(),f(b,{key:2,flat:"","text-color":"white"},{default:a(()=>[e("span",De,m(r(l).name),1),t(G,null,{default:a(()=>[t(z,{dense:""},{default:a(()=>[t(g,null,{default:a(()=>[t(_,null,{default:a(()=>[e("div",null,[o[2]||(o[2]=D(" 角色： ")),o[3]||(o[3]=e("br",null,null,-1)),e("strong",null,m(r(l).DefaultMaxRole),1)])]),_:1})]),_:1}),t(M),t(g,{clickable:"",class:"outlist"},{default:a(()=>[t(_,{onClick:$},{default:a(()=>[e("div",null,[t(c,{icon:"ant-design:info-circle-outlined"}),o[4]||(o[4]=e("span",null,"修改密码",-1))])]),_:1})]),_:1}),t(M),t(g,{clickable:"",class:"outlist"},{default:a(()=>[t(_,{onClick:F},{default:a(()=>[e("div",null,[t(c,{icon:"ant-design:logout-outlined"}),o[5]||(o[5]=e("span",null,"退出登录",-1))])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:a(()=>[D("角色:"+m(r(l).DefaultMaxRole),1)]),_:1})]),_:1})):(i(),f(b,{key:1,dense:"",flat:"",onClick:A},{default:a(()=>[t(c,{icon:"grommet-icons:login"}),t(x,null,{default:a(()=>o[1]||(o[1]=[D("用户登录")])),_:1})]),_:1}))])])])}}}),qe=ne(ke,[["__scopeId","data-v-a4b58946"]]);export{qe as default};
