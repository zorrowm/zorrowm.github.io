import{c as V,u as H,U as X,a0 as T,F as B,q as Y,e as d,O as G,i as M,j as w,k as v,a1 as J,M as K,a2 as P,h as W,H as b,m as Z,a3 as ee,L as le,a4 as ae,A as te}from"./quasar-exp-B7YDMHDE.js";import{d as j,b as p,e as z,i as e,a3 as a,aa as s,a6 as x,k as n,c as D,r as m,f as g,I as Q,j as c,v as U,F as oe,a9 as ne,a0 as se}from"./@vue-exp-CzdoyapG.js";import{_ as ie}from"./BaseContent.vue_vue_type_script_setup_true_lang-CHGumBnk.js";import"./xframelib-exp-uSJ3EBow.js";import{b as re,_ as ue}from"./index-DylLUN-r.js";import{_ as de}from"./BtnDel.vue_vue_type_script_setup_true_lang-C1ek4QfO.js";import"./vue-router-exp-B23Vo4Jw.js";import"./axios-exp-C7rfqWEd.js";import"./vendor-CSzZZ-de.js";import"./lottie-web-exp-CIY4INm7.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./@iconify/vue-exp-BLEeEXwl.js";import"./xgis-cesium-exp-Cbv1lISI.js";const me=j({name:"EllipsisValue",__name:"EllipsisValue",props:{value:{type:String,required:!1},length:{type:Number,required:!1,default:25}},setup(h){const i=h;function C(f,r=25){return f?f.length>r?`${f.slice(0,r)}...`:f:""}return(f,r)=>(p(),z("div",null,[e(V,{anchor:"bottom middle",self:"top middle"},{default:a(()=>[s(x(i.value),1)]),_:1}),n("span",null,x(C(i.value,i.length)),1)]))}}),ce={class:"row no-wrap full-width"},pe={class:"q-gutter-xs"},fe={class:"full-width row justify-center"},ve={class:"view_title justify-between q-px-md"},be={class:"row q-col-gutter-x-md dialog_form q-pa-md"},ge={class:"col-12"},_e={class:"col-12"},we={class:"row justify-center q-pa-md"},ye=j({name:"FitTable",__name:"FitTable",setup(h){const i=H(),C=re(),f=D(()=>C.showTabMenu?"padding-bottom: 30px;":""),r=m({sortBy:"desc",descending:!1,page:1,rowsPerPage:100}),N=D(()=>Math.ceil(F.value.length/r.value.rowsPerPage)),S=m(""),y=m([]),q=m([{name:"name",required:!0,label:"Dessert (100g serving)",align:"left",field:o=>o.name,format:o=>`${o}`,sortable:!0},{name:"calories",align:"center",label:"Calories",field:"calories",sortable:!0},{name:"fat",label:"Fat (g)",field:"fat",sortable:!0},{name:"carbs",label:"Carbs (g)",field:"carbs"},{name:"protein",label:"Protein ",field:"protein"},{name:"sodium",label:"Sodium (mg)",field:"sodium"},{name:"calcium",label:"Calcium (%)",field:"calcium",sortable:!0},{name:"iron",label:"Iron (%)",field:"iron",sortable:!0},{name:"opt",align:"center",label:"操作",field:"opt"}]),F=m([]);for(let o=0;o<500;o++)F.value.push({name:"Frozen Yogurt "+o,calories:Math.floor(Math.random()*100)+1,fat:6,carbs:24,protein:"免费的设计资料-包括图标,照片,UX 插画和视频配乐",sodium:87,calcium:"14%",iron:"1%"});const k=m([]),I=m("新建"),_=m({}),$=m(void 0);q.value.forEach(({name:o})=>{k.value.push(o)});function E(){const o=`确认删除这 ${y.value.length} 条记录吗？`;i.dialog({title:"批量删除",message:o,cancel:!0,persistent:!0}).onOk(()=>{}).onOk(()=>{}).onCancel(()=>{}).onDismiss(()=>{})}function L(){}function ke(o){}function O(o){I.value="编辑",_.value={...o.value},$.value&&$.value.show()}function Qe(o){}function A(){}return(o,l)=>(p(),g(ie,{class:"q-pa-sm",style:se(f.value)},{default:a(()=>[e(X,{class:"fit sticky-header-table",selection:"multiple",selected:y.value,"onUpdate:selected":l[4]||(l[4]=t=>y.value=t),dense:Q(i).screen.lt.md,separator:"cell",flat:"",bordered:"",rows:F.value,filter:S.value,columns:q.value,"row-key":"name","visible-columns":k.value,pagination:r.value,"onUpdate:pagination":l[5]||(l[5]=t=>r.value=t)},{top:a(t=>[n("div",ce,[e(T,{clearable:"",outlined:"",dense:"",placeholder:"请输入关键字搜索",class:"on-left",debounce:"300",modelValue:S.value,"onUpdate:modelValue":l[0]||(l[0]=u=>S.value=u)},{append:a(()=>[e(B,{name:"search"})]),_:1},8,["modelValue"]),e(Y),n("div",pe,[e(d,{icon:"add","no-wrap":"",color:"primary",label:"新建",onClick:L}),c(e(d,{disable:y.value.length===0,"no-wrap":"",color:"negative",label:"批量删除",onClick:l[1]||(l[1]=u=>E()),icon:"delete_outline"},null,8,["disable"]),[[U,Q(i).screen.gt.sm]]),c(e(d,{color:"primary",label:"切换全屏","no-wrap":"",onClick:t.toggleFullscreen,icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},null,8,["onClick","icon"]),[[U,Q(i).screen.gt.sm]]),c(e(G,{color:"primary",label:"自选列",icon:"view_list","no-wrap":""},{default:a(()=>[e(M,null,{default:a(()=>[(p(!0),z(oe,null,ne(q.value,u=>(p(),g(w,{tag:"label",key:u.name},{default:a(()=>[e(v,{avatar:""},{default:a(()=>[e(J,{modelValue:k.value,"onUpdate:modelValue":l[2]||(l[2]=R=>k.value=R),val:u.name},null,8,["modelValue","val"])]),_:2},1024),e(v,null,{default:a(()=>[e(K,null,{default:a(()=>[s(x(u.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},512),[[U,Q(i).screen.gt.sm]])])])]),"body-cell-protein":a(t=>[e(P,{key:"protein",props:t},{default:a(()=>[e(me,{value:t.row.protein,length:10},null,8,["value"])]),_:2},1032,["props"])]),"body-cell-opt":a(t=>[e(P,{props:t,"auto-width":!0},{default:a(()=>[e(d,{flat:"",round:"",dense:"",color:"primary",icon:"edit",onClick:u=>O(t.row)},{default:a(()=>[e(V,null,{default:a(()=>l[8]||(l[8]=[s("编辑")])),_:1})]),_:2},1032,["onClick"]),e(d,{flat:"",round:"",dense:"",color:"primary",icon:"mdi-image-edit-outline",onClick:u=>(t.row,void 0)},{default:a(()=>[e(V,null,{default:a(()=>l[9]||(l[9]=[s("视图设计")])),_:1})]),_:2},1032,["onClick"]),e(de,{label:"视图",onConfirm:u=>(t.row,void 0)},null,8,["onConfirm"]),e(d,{flat:"",round:"",dense:"",color:"primary",icon:"mdi-more"},{default:a(()=>[e(V,null,{default:a(()=>l[10]||(l[10]=[s("更多")])),_:1}),e(W,null,{default:a(()=>[e(M,{style:{"min-width":"100px"}},{default:a(()=>[c((p(),g(w,{clickable:""},{default:a(()=>[e(v,null,{default:a(()=>l[11]||(l[11]=[s("发布服务")])),_:1})]),_:1})),[[b]]),c((p(),g(w,{clickable:""},{default:a(()=>[e(v,null,{default:a(()=>l[12]||(l[12]=[s("新建索引")])),_:1})]),_:1})),[[b]]),e(Z),c((p(),g(w,{clickable:""},{default:a(()=>[e(v,null,{default:a(()=>l[13]||(l[13]=[s("清理缓存")])),_:1})]),_:1})),[[b]]),c((p(),g(w,{clickable:""},{default:a(()=>[e(v,null,{default:a(()=>l[14]||(l[14]=[s("新增数据")])),_:1})]),_:1})),[[b]])]),_:1})]),_:1})]),_:1})]),_:2},1032,["props"])]),bottom:a(()=>[n("div",fe,[e(ee,{modelValue:r.value.page,"onUpdate:modelValue":l[3]||(l[3]=t=>r.value.page=t),input:"",max:N.value},null,8,["modelValue","max"])])]),_:1},8,["selected","dense","rows","filter","columns","visible-columns","pagination"]),e(le,{maximized:"",flat:"",persistent:"",ref_key:"dialogRef",ref:$},{default:a(()=>[e(ae,{onSubmit:A,class:"dialog_card column"},{default:a(()=>[n("h5",ve,[s(x(I.value)+"视图 ",1),c(e(d,{dense:"",outline:"",round:"",icon:"clear",size:"sm"},null,512),[[b]])]),e(te,{class:"col"},{default:a(()=>[n("div",be,[n("div",ge,[n("h5",null,[e(B,{name:"star",color:"red"}),l[15]||(l[15]=s("名称： "))]),e(T,{outlined:"",dense:"",modelValue:_.value.name,"onUpdate:modelValue":l[6]||(l[6]=t=>_.value.name=t),type:"text"},null,8,["modelValue"])]),n("div",_e,[l[16]||(l[16]=n("h5",null,"描述：",-1)),e(T,{outlined:"",dense:"",modelValue:_.value.protein,"onUpdate:modelValue":l[7]||(l[7]=t=>_.value.protein=t),type:"text"},null,8,["modelValue"])]),l[17]||(l[17]=n("div",{class:"col-12"},[n("h5",null,"目录编号：")],-1))])]),_:1}),n("div",we,[c(e(d,{outline:"",color:"primary",icon:"mdi-close-thick",label:"关闭"},null,512),[[b]]),e(d,{class:"q-mx-sm",color:"primary",icon:"mdi-check-bold",label:"提交",type:"submit"})])]),_:1})]),_:1},512)]),_:1},8,["style"]))}}),Pe=ue(ye,[["__scopeId","data-v-45d18ab1"]]);export{Pe as default};
