import{c as g,e as m,f as V,g as N,h as F,i as H,j as C,k as T,m as $,u as O,n as P,o as A,p as U,q as W,t as j,v as z,w as E,x as G}from"./quasar-exp-B7YDMHDE.js";import{T as J}from"./TabMenu-DclNEPNu.js";import{P as K}from"./PageFooter-CJPYdyMN.js";import{_ as X}from"./Breadcrumbs.vue_vue_type_style_index_0_lang-DSLJ1EeB.js";import{W as _,j as Y}from"./xframelib-exp-uSJ3EBow.js";import{b as L,u as Z,c as ee,_ as te}from"./index-DylLUN-r.js";import{_ as ae}from"./DarkMode.vue_vue_type_script_setup_true_lang-I68wecM7.js";import{d as S,b as n,e as I,i as e,a3 as t,aa as i,I as l,f as d,g as f,k as x,a6 as k,$ as le,r as q,c as y,a0 as D,n as oe,w as se,o as ne}from"./@vue-exp-CzdoyapG.js";import{_ as re}from"./BaseMenu.vue_vue_type_script_setup_true_lang-DUlxwu32.js";import{cA as B}from"./vendor-CSzZZ-de.js";import{t as ie}from"./tabMenu-DbgBKWi5.js";import"./vue-router-exp-B23Vo4Jw.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-BLEeEXwl.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./xgis-cesium-exp-Cbv1lISI.js";import"./lottie-web-exp-CIY4INm7.js";const ue={class:"q-gutter-sm row items-center no-wrap"},de=S({name:"ToolbarItem",__name:"ToolbarItem",setup(b){const o=L(),s=Z(),u=O(),r=()=>{u.dialog({title:"退出",message:"您确定要退出登录吗？",cancel:!0}).onOk(()=>{s.clear(),_.Message.msg("成功退出登录"),window.open(window.location.pathname,"_self")}).onCancel(()=>{})};return(w,a)=>{const h=le("Icon");return n(),I("div",ue,[e(m,{dense:"",flat:"",icon:"fa-brands fa-github",href:"https://github.com/york11122/quasar-admin-vue3-typescript",target:"_blank"},{default:t(()=>[e(g,null,{default:t(()=>a[2]||(a[2]=[i("github")])),_:1})]),_:1}),l(u).screen.gt.sm?(n(),d(m,{key:0,dense:"",flat:"",icon:l(u).fullscreen.isActive?"fullscreen_exit":"fullscreen",onClick:a[0]||(a[0]=p=>l(u).fullscreen.toggle())},{default:t(()=>[e(g,null,{default:t(()=>a[3]||(a[3]=[i("全屏")])),_:1})]),_:1},8,["icon"])):f("",!0),e(ae),l(u).screen.gt.sm?(n(),d(m,{key:1,dense:"",flat:"",icon:"refresh",onClick:a[1]||(a[1]=p=>l(o).reloadPage(200))},{default:t(()=>[e(g,null,{default:t(()=>a[4]||(a[4]=[i("刷新页面")])),_:1})]),_:1})):f("",!0),e(m,{round:"",dense:"",flat:"",icon:"notifications"},{default:t(()=>[e(V,{color:"red","text-color":"",floating:""},{default:t(()=>a[5]||(a[5]=[i("2")])),_:1}),e(g,null,{default:t(()=>a[6]||(a[6]=[i("通知")])),_:1})]),_:1}),e(m,{round:"",flat:""},{default:t(()=>[e(N,{color:"primary","text-color":"white"},{default:t(()=>a[7]||(a[7]=[i("U")])),_:1}),e(F,null,{default:t(()=>[e(H,{dense:""},{default:t(()=>[e(C,null,{default:t(()=>[e(T,null,{default:t(()=>[x("strong",null,k(l(s).name),1)]),_:1})]),_:1}),e($),e(C,{clickable:""},{default:t(()=>[e(T,null,{default:t(()=>[i(k(l(s).roles?l(s).roles[0].name:""),1)]),_:1})]),_:1}),e($),e(C,{clickable:""},{default:t(()=>[e(T,{onClick:r},{default:t(()=>[e(h,{icon:"ant-design:logout-outlined"}),a[8]||(a[8]=i(" 退出 "))]),_:1})]),_:1})]),_:1})]),_:1}),e(g,null,{default:t(()=>a[9]||(a[9]=[i("用户")])),_:1})]),_:1})])}}}),R=S({name:"ToolbarTitle",__name:"ToolbarTitle",props:{title:{default:_.Config.UI?.SiteTitle}},setup(b){return(o,s)=>(n(),d(m,{flat:"","no-caps":"","no-wrap":""},{default:t(()=>[s[0]||(s[0]=x("img",{src:"img/logo.png",alt:"",style:{width:"32px"}},null,-1)),o.$q.screen.gt.xs?(n(),d(P,{key:0,shrink:"",class:"text-weight-bold"},{default:t(()=>[i(k(o.title),1)]),_:1})):f("",!0),o.$q.screen.xs?(n(),d(g,{key:1},{default:t(()=>[i(k(o.title),1)]),_:1})):f("",!0)]),_:1}))}}),fe=S({name:"Drawer",__name:"LeftDrawer",props:{title:{default:""}},setup(b){const o=b,s=L(),{leftCollapsed:u,leftDrawerOpen:r}=B(s),w=q(!1),a=y(()=>`height:${s.headerSetting.height}px`),h=y(()=>o.title?`height: calc(100% - ${s.headerSetting.height}px);`:"height:100%;");return(p,v)=>(n(),d(A,{modelValue:l(r),"onUpdate:modelValue":v[0]||(v[0]=c=>oe(r)?r.value=c:null),mini:l(u),width:l(s).menuSetting.menuWidth,"mini-width":l(s).menuSetting.minWidth,"show-if-above":"",bordered:"","mini-to-overlay":w.value},{default:t(()=>[p.title?(n(),I("div",{key:0,class:"absolute-top q-pa-sm",style:D(a.value)},[e(R,{title:p.title,style:{width:"100%"},mini:l(u)},null,8,["title","mini"]),e($,{spaced:"sm"})],4)):f("",!0),e(re,{layoutName:"DefaultLayout",style:D(h.value),isdefault:!0},null,8,["style"])]),_:1},8,["modelValue","mini","width","mini-width","mini-to-overlay"]))}}),me={class:"q-pr-md"},pe={class:"dc-page-container fit"},ce=S({name:"DefaultLayout",__name:"defaultLayout",setup(b){q([3,80]);const o=L(),{showTabMenu:s,showBreadCrumbs:u,leftDrawerOpen:r,showFooter:w}=B(o);ie().SetTabBase("DefaultLayout");const h=o.headerSetting.height,p=()=>{r.value?o.leftCollapsed?r.value=!1:o.leftCollapsed=!0:(r.value=!0,o.leftCollapsed=!1)};se(()=>r.value,c=>{}),y(()=>{const c=ee();return c?c.find(M=>M.name==="DefaultLayout")?.children:(_.Message.warn("无法获取路由列表！"),[])});const v=y(()=>r.value?o.leftCollapsed?"o_align_horizontal_right":"menu_open":"menu");return y(()=>o.overlayMenu),ne(()=>{_.Loading("DefaultLayout布局"),_.Loading("end"),_.Message.success("加载成功！")}),(c,Q)=>(n(),d(G,{view:"hHh LpR lFf",class:"full-height",style:{"overflow-x":"hidden"}},{default:t(()=>[e(j,{class:"q-py-xs header","height-hint":l(h),bordered:"",style:{"box-shadow":"rgba(0, 0, 0, 0) 0px 2px 12px 0px","padding-bottom":"2px"}},{default:t(()=>[e(U,{style:{"margin-top":"-5px"}},{default:t(()=>[x("div",me,[e(m,{flat:"",dense:"",round:"","aria-label":"Menu",icon:v.value,onClick:Q[0]||(Q[0]=M=>p())},null,8,["icon"]),e(R)]),l(u)?(n(),d(X,{key:0,class:"text-weight-bold","show-icon":!1})):f("",!0),e(W),e(de)]),_:1})]),_:1},8,["height-hint"]),e(fe,{title:""}),e(z,{class:"fit q-pa-sm",style:{overflow:"hidden"}},{default:t(()=>[l(s)?(n(),d(J,{key:0,elevated:"",style:{"border-bottom":"1px solid #e0e0e0"}})):f("",!0),x("div",pe,[e(l(Y))])]),_:1}),l(w)?(n(),d(E,{key:0,elevated:"",class:"bg-grey-8 text-white"},{default:t(()=>[e(K)]),_:1})):f("",!0)]),_:1}))}}),Ie=te(ce,[["__scopeId","data-v-50c3db8b"]]);export{Ie as default};
