import{u as A,e as Q,i as D,j as L,k as j,ab as E,a3 as O,q as N,F as R,a0 as U}from"./quasar-exp-BsaNoQ7w.js";import{cJ as M,cK as W,cz as w}from"./vendor-DJm_4oaR.js";import{d as V,c as q,r as v,a0 as h,ag as z,b as s,e as d,F as I,ab as T,k,f as C,a4 as m,l as p,j as i,a7 as x,g as S,ai as $,n as B,v as J}from"./@vue-exp-Bws36Ke9.js";import{_ as F,k as y}from"./index-BQ7ovaqR.js";import{T as P}from"./TableEvent-Bxu_GHGl.js";const K=V({__name:"ActionMenu",props:{defaultMenus:M().def([]),appendMenus:M().def([]),currentRow:W().def(null)},emits:["doActionClick"],setup(u,{expose:n,emit:t}){n();const e=u,f=t,r=A(),o=q(()=>e.appendMenus.length>0),c=a=>{f("doActionClick",a.value,e.currentRow)},l=v(!1),_={props:e,emit:f,$q:r,hasAppendMenus:o,doClick:c,showing:l};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),G={class:"actionMenuLine"},H={class:"row no-wrap items-center q-pa-sm"},X={key:0};function Y(u,n,t,e,f,r){const o=h("Icon"),c=h("FVDropdown"),l=h("FVMenu"),_=z("tooltip");return s(),d("div",G,[(s(!0),d(I,null,T(t.defaultMenus,(a,g)=>k((s(),d("div",{key:g},[a.isdelete||a.value==="delete"?(s(),C(c,{key:0,placement:"bottom"},{popper:m(({hide:b})=>[p("div",H,[n[0]||(n[0]=p("span",{class:"text-no-wrap"},"确认删除该条记录?",-1)),i(Q,{flat:"",round:"",dense:"",color:"negative",icon:"delete",onClick:fe=>b()&e.doClick(a)},null,8,["onClick"])])]),default:m(()=>[i(o,{icon:a.icon,class:"operationIcon"},null,8,["icon"])]),_:2},1024)):(s(),C(o,{key:1,icon:a.icon,class:"operationIcon",onClick:b=>e.doClick(a)},null,8,["icon","onClick"]))])),[[_,a.name]])),128)),e.hasAppendMenus?(s(),d("div",X,[i(l,{placement:"bottom-start",shown:e.showing},{popper:m(()=>[i(D,{style:{"min-width":"100px"}},{default:m(()=>[(s(!0),d(I,null,T(t.appendMenus,(a,g)=>(s(),C(L,{key:g,clickable:"",onClick:b=>e.doClick(a)},{default:m(()=>[i(j,{class:"moreMenuItem"},{default:m(()=>[i(o,{icon:a.icon,class:"operationIcon"},null,8,["icon"]),p("span",null,x(a.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:m(()=>[p("div",null,[i(o,{icon:"ic:baseline-more-horiz",class:"operationIcon"})])]),_:1},8,["shown"])])):S("",!0)])}const be=F(K,[["render",Y],["__scopeId","data-v-f22a159c"],["__file","ActionMenu.vue"]]),Z=V({__name:"PaginationLine",props:{rowsNumber:w().isRequired,rowsPerPage:w().def(10),max:w().def(0)},setup(u,{expose:n}){n();const t=u,e=v([{label:"10条/页",value:10},{label:"20条/页",value:20},{label:"30条/页",value:30},{label:"50条/页",value:50},{label:"80条/页",value:80},{label:"100条/页",value:100}]),f=v({label:t.rowsPerPage+"条/页",value:t.rowsPerPage}),r=v(1),o=v(1),c=q(()=>t.max);function l(b){y(P.RefeshTable,{page:b})}function _(){y(P.RefeshTable,{page:1,pageSize:f.value.value})}function a(){o.value&&(r.value=o.value,y(P.RefeshTable,{page:r.value}))}const g={props:t,pageSizeOptions:e,pageSize:f,page:r,toPage:o,pages:c,changePagination:l,changePageSize:_,refreshTableData:a};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),ee={class:"q-pa-sm row items-center"},ne={class:"row justify-center items-center"},oe={class:"infoLine"},te=["max"];function ae(u,n,t,e,f,r){return s(),d("div",ee,[p("div",ne,[p("div",oe,"总共 "+x(t.rowsNumber)+" 条",1),i(E,{borderless:"",modelValue:e.pageSize,"onUpdate:modelValue":[n[0]||(n[0]=o=>e.pageSize=o),e.changePageSize],options:e.pageSizeOptions,"option-value":"value","option-label":"label"},null,8,["modelValue","options"])]),i(O,{modelValue:e.page,"onUpdate:modelValue":[n[1]||(n[1]=o=>e.page=o),e.changePagination],max:e.pages,"max-pages":6,ellipsess:"","direction-links":!0},null,8,["modelValue","max"]),n[3]||(n[3]=p("div",{class:"infoLine"},"转到",-1)),k(p("input",{class:"inputPage",type:"number","onUpdate:modelValue":n[2]||(n[2]=o=>e.toPage=o),max:e.pages,min:"1",onChange:e.refreshTableData},null,40,te),[[$,e.toPage]]),n[4]||(n[4]=p("div",{class:"infoLine"}," 页",-1))])}const Ce=F(Z,[["render",ae],["__scopeId","data-v-484cbba5"],["__file","PaginationLine.vue"]]),se=V({__name:"TopFunBar",props:{title:{type:String,default:""},ifTask:{type:Boolean,default:!0},target:{type:Object,required:!0},batch:{type:Boolean,required:!0}},emits:["topBarClick"],setup(u,{expose:n,emit:t}){n();const e=A(),f=u,r=t,o=v("");function c(){e.dialog({title:"批量删除",message:"确认删除选中记录吗？",cancel:!0,persistent:!0}).onOk(()=>{l("batchDelete")}).onCancel(()=>{})}const l=a=>{a==="searchWord"?r("topBarClick",a,o.value):r("topBarClick",a)},_={$q:e,props:f,emit:r,searchValue:o,deleteConfirm:c,doClick:l};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),ie={class:"row no-wrap full-width justify-center items-center"},le={class:"toptitle"},re={class:"q-gutter-xs row no-wrap items-center"},ce={key:1,class:"funBtn"},ue={class:"funBtn"},de={class:"funBtn"};function pe(u,n,t,e,f,r){const o=h("Icon"),c=z("tooltip");return s(),d("div",ie,[B(u.$slots,"left",{},()=>[p("div",le,x(t.title),1)],!0),i(N),p("div",re,[B(u.$slots,"right",{},()=>[i(U,{clearable:"",outlined:"",dense:"",placeholder:"请输入关键字搜索",debounce:"300",modelValue:e.searchValue,"onUpdate:modelValue":[n[0]||(n[0]=l=>e.searchValue=l),n[1]||(n[1]=l=>e.doClick("searchWord"))]},{append:m(()=>[i(R,{name:"search"})]),_:1},8,["modelValue"]),t.ifTask?k((s(),d("div",{key:0,class:"funBtn",onClick:n[2]||(n[2]=l=>e.doClick("creatNew"))},[i(o,{icon:"ant-design:plus-outlined"})])),[[c,"新建"]]):S("",!0),t.ifTask?k((s(),d("div",ce,[t.batch?(s(),C(o,{key:0,icon:"ant-design:delete-outlined",disabled:""})):(s(),C(o,{key:1,icon:"ant-design:delete-outlined",onClick:e.deleteConfirm}))])),[[c,"批量删除"]]):S("",!0),k((s(),d("div",ue,[i(o,{icon:"ant-design:sync-outlined",onClick:n[3]||(n[3]=l=>e.doClick("refresh"))})])),[[c,"刷新"]]),k((s(),d("div",de,[i(o,{icon:t.target.inFullscreen?"ant-design:fullscreen-exit-outlined":"ant-design:fullscreen-outlined",onClick:t.target.toggleFullscreen},null,8,["icon","onClick"])])),[[c,"刷新"],[J,e.$q.screen.gt.sm]]),B(u.$slots,"rightAppend",{},void 0,!0)],!0)])])}const he=F(se,[["render",pe],["__scopeId","data-v-ce90b1ff"],["__file","TopFunBar.vue"]]);export{be as A,Ce as P,he as T};
