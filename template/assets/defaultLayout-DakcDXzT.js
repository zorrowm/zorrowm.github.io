import{u as U,c as _,e as c,f as z,g as E,h as W,i as G,j as M,k,m as C,n as J,o as K,p as X,q as Y,t as Z,v as $,w as ee,x as te}from"./quasar-exp-BsaNoQ7w.js";import{T as ae}from"./TabMenu-CMuiPZlp.js";import{P as oe}from"./PageFooter-BgriZwzp.js";import{B as re}from"./Breadcrumbs-ClZvD-tw.js";import{B as g,N as le}from"./xframelib-exp-CMLeiWD4.js";import{b as L,u as ne,_ as x,c as se}from"./index-BQ7ovaqR.js";import{D as ie}from"./DarkMode-CfCe27xz.js";import{d as T,a0 as ue,b as n,e as B,j as a,a4 as o,ac as s,f as d,g as m,l as v,a7 as S,r as I,c as h,a1 as Q,w as de,o as fe}from"./@vue-exp-Bws36Ke9.js";import{S as me}from"./BaseMenu-aHuQwZ64.js";import{cy as q}from"./vendor-DJm_4oaR.js";import{t as ce}from"./tabMenu-CiBM6NVa.js";import"./vue-router-exp-CO9L2VdX.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-Q9Q0SWJB.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./xgis-cesium-exp-Hv7oMXHX.js";import"./lottie-web-exp-CIY4INm7.js";const pe=T({name:"ToolbarItem",__name:"ToolbarItem",setup(i,{expose:t}){t();const r=L(),e=ne(),u=U(),l={appState:r,userState:e,$q:u,doLogout:()=>{u.dialog({title:"退出",message:"您确定要退出登录吗？",cancel:!0}).onOk(()=>{e.clear(),g.Message.msg("成功退出登录"),window.open(window.location.pathname,"_self")}).onCancel(()=>{})},DarkMode:ie};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),_e={class:"q-gutter-sm row items-center no-wrap"};function ge(i,t,r,e,u,f){const l=ue("Icon");return n(),B("div",_e,[a(c,{dense:"",flat:"",icon:"fa-brands fa-github",href:"https://github.com/york11122/quasar-admin-vue3-typescript",target:"_blank"},{default:o(()=>[a(_,null,{default:o(()=>t[2]||(t[2]=[s("github")])),_:1})]),_:1}),e.$q.screen.gt.sm?(n(),d(c,{key:0,dense:"",flat:"",icon:e.$q.fullscreen.isActive?"fullscreen_exit":"fullscreen",onClick:t[0]||(t[0]=b=>e.$q.fullscreen.toggle())},{default:o(()=>[a(_,null,{default:o(()=>t[3]||(t[3]=[s("全屏")])),_:1})]),_:1},8,["icon"])):m("",!0),a(e.DarkMode),e.$q.screen.gt.sm?(n(),d(c,{key:1,dense:"",flat:"",icon:"refresh",onClick:t[1]||(t[1]=b=>e.appState.reloadPage(200))},{default:o(()=>[a(_,null,{default:o(()=>t[4]||(t[4]=[s("刷新页面")])),_:1})]),_:1})):m("",!0),a(c,{round:"",dense:"",flat:"",icon:"notifications"},{default:o(()=>[a(z,{color:"red","text-color":"",floating:""},{default:o(()=>t[5]||(t[5]=[s("2")])),_:1}),a(_,null,{default:o(()=>t[6]||(t[6]=[s("通知")])),_:1})]),_:1}),a(c,{round:"",flat:""},{default:o(()=>[a(E,{color:"primary","text-color":"white"},{default:o(()=>t[7]||(t[7]=[s("U")])),_:1}),a(W,null,{default:o(()=>[a(G,{dense:""},{default:o(()=>[a(M,null,{default:o(()=>[a(k,null,{default:o(()=>[v("strong",null,S(e.userState.name),1)]),_:1})]),_:1}),a(C),a(M,{clickable:""},{default:o(()=>[a(k,null,{default:o(()=>[s(S(e.userState.roles?e.userState.roles[0].name:""),1)]),_:1})]),_:1}),a(C),a(M,{clickable:""},{default:o(()=>[a(k,{onClick:e.doLogout},{default:o(()=>[a(l,{icon:"ant-design:logout-outlined"}),t[8]||(t[8]=s(" 退出 "))]),_:1})]),_:1})]),_:1})]),_:1}),a(_,null,{default:o(()=>t[9]||(t[9]=[s("用户")])),_:1})]),_:1})])}const be=x(pe,[["render",ge],["__file","ToolbarItem.vue"]]),he=T({name:"ToolbarTitle",__name:"ToolbarTitle",props:{title:{default:g.Config.UI?.SiteTitle}},setup(i,{expose:t}){t();const r={};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function ye(i,t,r,e,u,f){return n(),d(c,{flat:"","no-caps":"","no-wrap":""},{default:o(()=>[t[0]||(t[0]=v("img",{src:"img/logo.png",alt:"",style:{width:"32px"}},null,-1)),i.$q.screen.gt.xs?(n(),d(J,{key:0,shrink:"",class:"text-weight-bold"},{default:o(()=>[s(S(r.title),1)]),_:1})):m("",!0),i.$q.screen.xs?(n(),d(_,{key:1},{default:o(()=>[s(S(r.title),1)]),_:1})):m("",!0)]),_:1})}const O=x(he,[["render",ye],["__file","ToolbarTitle.vue"]]),we=T({name:"Drawer",__name:"LeftDrawer",props:{title:{default:""}},setup(i,{expose:t}){t();const r=i,e=L(),{leftCollapsed:u,leftDrawerOpen:f}=q(e),l=I(!1),b=h(()=>`height:${e.headerSetting.height}px`),y=h(()=>r.title?`height: calc(100% - ${e.headerSetting.height}px);`:"height:100%;"),w={props:r,appState:e,leftCollapsed:u,leftDrawerOpen:f,isMiniOverlay:l,titleHeightStyle:b,leftMenueStyle:y,ToolbarTitle:O,BaseMenu:me};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}});function ve(i,t,r,e,u,f){return n(),d(K,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[0]||(t[0]=l=>e.leftDrawerOpen=l),mini:e.leftCollapsed,width:e.appState.menuSetting.menuWidth,"mini-width":e.appState.menuSetting.minWidth,"show-if-above":"",bordered:"","mini-to-overlay":e.isMiniOverlay},{default:o(()=>[r.title?(n(),B("div",{key:0,class:"absolute-top q-pa-sm",style:Q(e.titleHeightStyle)},[a(e.ToolbarTitle,{title:r.title,style:{width:"100%"},mini:e.leftCollapsed},null,8,["title","mini"]),a(C,{spaced:"sm"})],4)):m("",!0),a(e.BaseMenu,{layoutName:"DefaultLayout",style:Q(e.leftMenueStyle),isdefault:!0},null,8,["style"])]),_:1},8,["modelValue","mini","width","mini-width","mini-to-overlay"])}const Se=x(we,[["render",ve],["__file","LeftDrawer.vue"]]),xe=T({name:"DefaultLayout",__name:"defaultLayout",setup(i,{expose:t}){t();const r=I([3,80]),e=L(),{showTabMenu:u,showBreadCrumbs:f,leftDrawerOpen:l,showFooter:b}=q(e),y=ce();y.SetTabBase("DefaultLayout");const w=e.headerSetting.height,P=()=>{l.value?e.leftCollapsed?l.value=!1:e.leftCollapsed=!0:(l.value=!0,e.leftCollapsed=!1)};de(()=>l.value,p=>{});const F=h(()=>{const p=se();return p?p.find(A=>A.name==="DefaultLayout")?.children:(g.Message.warn("无法获取路由列表！"),[])}),R=h(()=>l.value?e.leftCollapsed?"o_align_horizontal_right":"menu_open":"menu"),N=h(()=>e.overlayMenu);function V(){e.overlayMenu=!0}function j(){e.overlayMenu=!1}const H=p=>{r.value=[r.value[0]-p.delta.x,r.value[1]-p.delta.y]};fe(()=>{g.Loading("DefaultLayout布局"),g.Loading("end"),g.Message.success("加载成功！")});const D={fabPos:r,appState:e,showTabMenu:u,showBreadCrumbs:f,leftDrawerOpen:l,showFooter:b,tabMenuState:y,headerHeight:w,toggleLeftDrawer:P,topMenuChildren:F,getRightIcon:R,isOverlay:N,onmouseover:V,onmouseout:j,moveFab:H,TabMenu:ae,PageFooter:oe,Breadcrumbs:re,ToolbarItem:be,ToolbarTitle:O,LeftDrawer:Se,get RouterTransition(){return le}};return Object.defineProperty(D,"__isScriptSetup",{enumerable:!1,value:!0}),D}}),Te={class:"q-pr-md"},Me={class:"dc-page-container fit"};function ke(i,t,r,e,u,f){return n(),d(te,{view:"hHh LpR lFf",class:"full-height",style:{"overflow-x":"hidden"}},{default:o(()=>[a(Z,{class:"q-py-xs header","height-hint":e.headerHeight,bordered:"",style:{"box-shadow":"rgba(0, 0, 0, 0) 0px 2px 12px 0px","padding-bottom":"2px"}},{default:o(()=>[a(X,{style:{"margin-top":"-5px"}},{default:o(()=>[v("div",Te,[a(c,{flat:"",dense:"",round:"","aria-label":"Menu",icon:e.getRightIcon,onClick:t[0]||(t[0]=l=>e.toggleLeftDrawer())},null,8,["icon"]),a(e.ToolbarTitle)]),e.showBreadCrumbs?(n(),d(e.Breadcrumbs,{key:0,class:"text-weight-bold","show-icon":!1})):m("",!0),a(Y),a(e.ToolbarItem)]),_:1})]),_:1},8,["height-hint"]),a(e.LeftDrawer,{title:""}),a($,{class:"fit q-pa-sm",style:{overflow:"hidden"}},{default:o(()=>[e.showTabMenu?(n(),d(e.TabMenu,{key:0,elevated:"",style:{"border-bottom":"1px solid #e0e0e0"}})):m("",!0),v("div",Me,[a(e.RouterTransition)])]),_:1}),e.showFooter?(n(),d(ee,{key:0,elevated:"",class:"bg-grey-8 text-white"},{default:o(()=>[a(e.PageFooter)]),_:1})):m("",!0)]),_:1})}const Ee=x(xe,[["render",ke],["__scopeId","data-v-50c3db8b"],["__file","defaultLayout.vue"]]);export{Ee as default};
