import{I as v,T as B,A as L}from"./quasar-exp-BsaNoQ7w.js";import{k as I,W as S,_ as W}from"./index-BQ7ovaqR.js";import{B as s,i as x,j as k}from"./xframelib-exp-CMLeiWD4.js";import{c as D}from"./xgis-cesium-exp-Hv7oMXHX.js";import{d as b,r as w,o as V,k as E,v as F,f as M,a4 as d,b as l,j as c,l as y,e as C,ab as P,a2 as j,a7 as H,F as Q}from"./@vue-exp-Bws36Ke9.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./vendor-DJm_4oaR.js";import"./lottie-web-exp-CIY4INm7.js";import"./vue-router-exp-CO9L2VdX.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-Q9Q0SWJB.js";const A=b({__name:"ImageBaseLayerWidget",setup(h,{expose:u}){let a=w(""),t="imageBaseLayerWidget",i="";function g(e){i=e.id}function r(e){t=e.pid,e.pid&&(I(S.WidgetClosed,t),s.LayoutManager?.unloadWidget(t))}function o(e){let _="";return a.value&&e.id===a.value&&(_="cardSelected"),_}function m(e){a.value=e.id,s.CesiumViewer&&s.CesiumViewer.setBasicLayer(e.id)}V(()=>{s.CesiumViewer&&(a.value=s.CesiumViewer.CurrentBasicID),setTimeout(()=>{s.getLayoutManager(t)?.changeWidgetVisible(t,!0)},8e3)});const n=w(!0);function p(e=!1){n.value=e,i&&e&&k.openWindowPanel(i)}u({changeVisible:p,isShow:n});const f={get itemSelected(){return a},set itemSelected(e){a=e},get widgetID(){return t},set widgetID(e){t=e},get windowID(){return i},set windowID(e){i=e},loadedHandle:g,doClosePanel:r,getSelectedStyle:o,selectItem:m,isShow:n,changeVisible:p,get XWindow(){return x},get BasicLayerList(){return D}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),N={class:"row q-col-gutter-sm"},T={class:"text-center textContent"};function X(h,u,a,t,i,g){return E((l(),M(t.XWindow,{isDark:!0,top:"10px",left:"10px",nWidth:"280px",hHeight:"350px",title:"在线影像底图",icon:"img/basicimage/arcgis_img.png",pid:"imageBaseLayerWidget",onLoaded:t.loadedHandle,onClose:t.doClosePanel},{default:d(()=>[c(L,{style:{height:"100%"}},{default:d(()=>[y("div",N,[(l(!0),C(Q,null,P(t.BasicLayerList,(r,o)=>(l(),C("div",{class:"col-4",key:o},[c(v,{class:j(["cardContent",t.getSelectedStyle(r)]),onClick:m=>t.selectItem(r)},{default:d(()=>[c(B,{src:r.img,height:"75px"},null,8,["src"]),y("div",T,H(r.label),1)]),_:2},1032,["class","onClick"])]))),128))])]),_:1})]),_:1},512)),[[F,t.isShow]])}const ee=W(A,[["render",X],["__scopeId","data-v-e7d63a16"],["__file","ImageBaseLayerWidget.vue"]]);export{ee as default};
