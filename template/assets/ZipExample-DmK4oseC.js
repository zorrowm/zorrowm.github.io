import{e as m,aa as u,j as w,k as S,R as Z,i as A}from"./quasar-exp-B7YDMHDE.js";import{R as r,S as k,H as B,c as g}from"./xframelib-exp-uSJ3EBow.js";import{d as Q,r as p,b as c,e as y,k as z,i as t,a3 as f,F as C,a9 as I,j as E,f as N,aa as R,a6 as V}from"./@vue-exp-CzdoyapG.js";import"./axios-exp-C7rfqWEd.js";import"./vendor-CSzZZ-de.js";import"./lottie-web-exp-CIY4INm7.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./@iconify/vue-exp-BLEeEXwl.js";const j={class:"q-pa-md",style:{"max-width":"350px"}},K=Q({__name:"ZipExample",setup(D){const s=p(),n=p(),d=p();function F(){s.value&&s.value.pickFiles()}async function _(l){const i=l[0],a=await r.readZipFromFile(i);if(a[0]){const o=k.encode("ÁÖ»¶4ÔÂÔÂ±¨.docx","ISO-8859-1");k.decode(o,"gbk")}d.value=a.map(e=>e.filename),a.forEach(e=>{B(e.content,e.filename)})}function v(){n.value&&n.value.pickFiles()}async function x(l){const i=Array.from(l);r.saveZipFromFiles("0000.zip",i);const a=[];for(let e=0;e<i.length;e++){const o=i[e],h=o.name,U=await g.readFilePromise(o,"ArrayBuffer"),b=new Uint8Array(U);a.push({filename:h,content:b})}r.saveZipFile("22222.zip",a),r.saveZipFileSync("33333.zip",a)}return(l,i)=>(c(),y("div",null,[i[0]||(i[0]=z("p",null,"压缩、解压示例",-1)),t(m,{color:"white","text-color":"black",label:"解压zip压缩包",onClick:F}),t(m,{color:"primary",label:"压缩ZIP文件",onClick:v}),t(u,{ref_key:"zipUploader",ref:s,"max-files":1,class:"hidden",accept:".zip","field-name":"file",onAdded:_},null,512),z("div",j,[t(A,{bordered:"",separator:""},{default:f(()=>[(c(!0),y(C,null,I(d.value,(a,e)=>E((c(),N(w,{key:e,clickable:""},{default:f(()=>[t(S,null,{default:f(()=>[R(V(a),1)]),_:2},1024)]),_:2},1024)),[[Z]])),128))]),_:1})]),t(u,{ref_key:"zipUploader2",ref:n,class:"hidden",multiple:"","field-name":"file",onAdded:x},null,512)]))}});export{K as default};
