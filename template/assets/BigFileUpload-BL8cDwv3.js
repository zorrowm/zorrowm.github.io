import{h as g,V as _}from"./xframelib-exp-B9KgMBHw.js";import{d as B,p as v,H as x,o as y,b as h,e as E,l as e}from"./@vue-exp-DMKPrOh0.js";import{_ as F}from"./index-CvUQtR9N.js";import"./axios-exp-B_zfNCMU.js";import"./vendor-B1f7FUIB.js";import"./@hprose-exp-BEudjurc.js";import"./pdfjs-dist-exp-C7mOU4gj.js";import"./@iconify/vue-exp-5llPk3YT.js";import"./vue-router-exp-DWvvxSx9.js";const k=B({name:"BigFileUpload",props:{},components:{},setup(u,{attrs:i,slots:c,emit:d}){const r=v({}),a=x(r);function m(t,l,o="",n=5120,f="PUT"){const s=_({endpoint:l,file:t,chunkSize:n,method:f,md5:o});s.on("error",p=>{}),s.on("progress",p=>{document.getElementById("process").value=p}),s.on("attempt",p=>{}),s.on("success",()=>{document.getElementById("process").value=100})}return y(()=>{const t=document.getElementById("picker");t.onchange=()=>{const l=document.getElementById("location").value,o=t.files[0];g.getFileShortMD5(o,n=>{n.isOK&&m(o,l,n.data)})}}),{...a}}}),U={class:"q-pa-md q-gutter-md"};function b(u,i,c,d,r,a){return h(),E("div",U,i[0]||(i[0]=[e("div",{class:"text-center text-bold"},"大文件分片上传",-1),e("input",{id:"location",type:"text",value:"https://file.gis.digsur.com/api/Upload",style:{width:"400px"}},null,-1),e("br",null,null,-1),e("input",{id:"picker",type:"file",size:"50"},null,-1),e("br",null,null,-1),e("input",{type:"range",id:"process",value:"0",min:"0",max:"100",style:{width:"500px"}},null,-1)]))}const A=F(k,[["render",b],["__file","BigFileUpload.vue"]]);export{A as default};
