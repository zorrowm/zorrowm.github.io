import{i as v,j as g,k as b,F as D,h as y,G as F,m as h,e as E}from"./quasar-exp-BsaNoQ7w.js";import{w as S,B as Q}from"./xframelib-exp-CMLeiWD4.js";import{d as L,c as R,a0 as T,b as n,f as c,a4 as i,j as o,e as f,F as p,ab as w,l as u,g as C,a7 as x,k as I,r as M,ac as j}from"./@vue-exp-Bws36Ke9.js";import{_ as B}from"./index-BQ7ovaqR.js";import"./axios-exp-C7rfqWEd.js";import"./vendor-DJm_4oaR.js";import"./lottie-web-exp-CIY4INm7.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./@iconify/vue-exp-Q9Q0SWJB.js";import"./xgis-cesium-exp-Hv7oMXHX.js";import"./vue-router-exp-CO9L2VdX.js";const q=L({__name:"ContextMenu",props:{menuList:{type:Array,isRequired:!0,default:[]},target:{type:[String,Element,Boolean],isRequired:!0}},emits:["itemClicked"],setup(k,{expose:s,emit:m}){s();const e=m,r=k,d=R(()=>{if(S(r.target)){const a=r.target;return a.startsWith("#")||a.startsWith(".")?r.target:`#${a}`}else return r.target});function _(a){a.id&&e("itemClicked",a)}const t={emit:e,props:r,contextTarget:d,doClick:_};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}}),z={class:"row q-gutter-sm"},N={class:"row q-gutter-sm"},V={class:"row q-gutter-sm"};function A(k,s,m,e,r,d){const _=T("Icon");return n(),c(y,{"transition-show":"flip-right","transition-hide":"flip-left",target:e.contextTarget,"context-menu":""},{default:i(()=>[o(v,{dense:"",style:{"min-width":"100px"}},{default:i(()=>[(n(!0),f(p,null,w(m.menuList,(t,a)=>(n(),f(p,null,[t.id?(n(),f(p,{key:0},[t.children?(n(),c(g,{key:0,clickable:""},{default:i(()=>[o(b,{"no-wrap":""},{default:i(()=>[u("div",z,[t.icon?(n(),c(_,{key:0,icon:t.icon},null,8,["icon"])):C("",!0),u("span",null,x(t.label),1)])]),_:2},1024),o(b,{side:""},{default:i(()=>[o(D,{name:"keyboard_arrow_right"})]),_:1}),o(y,{anchor:"top end",self:"top start"},{default:i(()=>[o(v,null,{default:i(()=>[(n(!0),f(p,null,w(t.children,(l,K)=>(n(),f(p,null,[l.id&&!l.children?I((n(),c(g,{key:0,onClick:U=>e.doClick(l),clickable:""},{default:i(()=>[o(b,{"no-wrap":""},{default:i(()=>[u("div",N,[l.icon?(n(),c(_,{key:0,icon:l.icon},null,8,["icon"])):C("",!0),u("span",null,x(l.label),1)])]),_:2},1024)]),_:2},1032,["onClick"])),[[F]]):l.children?C("",!0):(n(),c(h,{key:1}))],64))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)):I((n(),c(g,{key:1,onClick:l=>e.doClick(t),clickable:""},{default:i(()=>[o(b,null,{default:i(()=>[u("div",V,[t.icon?(n(),c(_,{key:0,icon:t.icon},null,8,["icon"])):C("",!0),u("span",null,x(t.label),1)])]),_:2},1024)]),_:2},1032,["onClick"])),[[F]])],64)):(n(),c(h,{key:1}))],64))),256))]),_:1})]),_:1},8,["target"])}const P=B(q,[["render",A],["__file","ContextMenu.vue"]]),O=L({__name:"ContextMenuTest",setup(k,{expose:s}){s();const m=M(),e=[{id:"show-position",label:"查看此处坐标",icon:"ic:baseline-info"},{},{id:"zoom-in",label:"放大",icon:"ic:baseline-zoom-in"},{id:"zoom-out",label:"缩小",icon:"ic:baseline-zoom-out"},{id:"locate-center",label:"移动到此处",icon:"ion:md-locate"}],r=[{id:"file",label:"文件",icon:"icons8:audio-file",children:[{id:"create",label:"新建文件",icon:"material-symbols:create-new-folder-outline"},{},{id:"open",label:"打开文件",icon:"system-uicons:create"},{id:"save",label:"保存文件",icon:"ic:baseline-save"}]},{},{id:"test1",label:"测试1",icon:'ic:baseline-data-saver-on"'},{id:"test2",label:"其他",icon:"ic:baseline-10k"},{},{id:"test3",label:"测试3",icon:"ion:md-locate"}],d=M(!0);function _(){d.value=!d.value}function t(l){Q.Message.info(l.label)}const a={testRef:m,menuList:e,menuList2:r,parentRef:d,toggleMenu:_,doItemClicked:t,ContextMenu:P};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),W={class:"row justify-center"},G={ref:"testRef",class:"test2"},H={class:"test3"};function J(k,s,m,e,r,d){return n(),f("div",W,[s[1]||(s[1]=u("div",{id:"map"}," 模拟地图面板，点击右键菜单 ",-1)),u("div",G," 普通面板的右键菜单 ",512),u("div",H,[s[0]||(s[0]=j(" 父面板的右键菜单 ")),o(e.ContextMenu,{target:e.parentRef,menuList:e.menuList2,onItemClicked:e.doItemClicked},null,8,["target"]),o(E,{color:"primary",label:"开关右键菜单",onClick:e.toggleMenu})]),o(e.ContextMenu,{target:"map",menuList:e.menuList,onItemClicked:e.doItemClicked}),o(e.ContextMenu,{target:e.testRef,menuList:e.menuList2,onItemClicked:e.doItemClicked},null,8,["target"])])}const se=B(O,[["render",J],["__scopeId","data-v-b9e3b614"],["__file","ContextMenuTest.vue"]]);export{se as default};
