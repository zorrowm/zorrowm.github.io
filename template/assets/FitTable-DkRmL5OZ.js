import{bv as C,bu as Y,c8 as G,ci as x,bU as P,bI as H,bw as d,c4 as J,bA as U,bB as w,bC as g,cj as K,c3 as W,ck as h,bz as Z,bV as _,bD as $,cl as ee,c2 as le,cm as oe,bQ as ae}from"./vendor-B1f7FUIB.js";import{B as te}from"./BaseContent-YPVzmYb3.js";import"./xframelib-exp-B9KgMBHw.js";import{_ as j,b as ne}from"./index-CvUQtR9N.js";import{B as ie}from"./BtnDel-Uh29rNph.js";import{d as V,b as f,e as z,j as o,a3 as a,ab as s,a6 as k,l as i,c as I,r as m,f as v,k as c,v as Q,V as re,aa as se,a0 as ue}from"./@vue-exp-DMKPrOh0.js";import"./@hprose-exp-BEudjurc.js";import"./pdfjs-dist-exp-C7mOU4gj.js";import"./vue-router-exp-DWvvxSx9.js";import"./axios-exp-B_zfNCMU.js";import"./@iconify/vue-exp-5llPk3YT.js";const de=V({name:"EllipsisValue"}),me=V({...de,props:{value:{type:String,required:!1},length:{type:Number,required:!1,default:25}},setup(F,{expose:l}){l();const p=F;function e(u,t=25){return u?u.length>t?`${u.slice(0,t)}...`:u:""}const b={props:p,ellipsis:e};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}});function ce(F,l,p,e,b,u){return f(),z("div",null,[o(C,{anchor:"bottom middle",self:"top middle"},{default:a(()=>[s(k(e.props.value),1)]),_:1}),i("span",null,k(e.ellipsis(e.props.value,e.props.length)),1)])}const fe=j(me,[["render",ce],["__file","EllipsisValue.vue"]]),pe=V({name:"FitTable"}),be=V({...pe,setup(F,{expose:l}){l();const p=Y(),e=ne(),b=I(()=>e.showTabMenu?"padding-bottom: 30px;":""),u=m({sortBy:"desc",descending:!1,page:1,rowsPerPage:100}),t=I(()=>Math.ceil(B.value.length/u.value.rowsPerPage)),r=m(""),y=m([]),S=m([{name:"name",required:!0,label:"Dessert (100g serving)",align:"left",field:n=>n.name,format:n=>`${n}`,sortable:!0},{name:"calories",align:"center",label:"Calories",field:"calories",sortable:!0},{name:"fat",label:"Fat (g)",field:"fat",sortable:!0},{name:"carbs",label:"Carbs (g)",field:"carbs"},{name:"protein",label:"Protein ",field:"protein"},{name:"sodium",label:"Sodium (mg)",field:"sodium"},{name:"calcium",label:"Calcium (%)",field:"calcium",sortable:!0},{name:"iron",label:"Iron (%)",field:"iron",sortable:!0},{name:"opt",align:"center",label:"操作",field:"opt"}]),B=m([]);for(let n=0;n<500;n++)B.value.push({name:"Frozen Yogurt "+n,calories:Math.floor(Math.random()*100)+1,fat:6,carbs:24,protein:"免费的设计资料-包括图标,照片,UX 插画和视频配乐",sodium:87,calcium:"14%",iron:"1%"});const D=m([]),q=m("新建"),A=m({}),E=m(void 0);S.value.forEach(({name:n})=>{D.value.push(n)});function M(){const n=`确认删除这 ${y.value.length} 条记录吗？`;p.dialog({title:"批量删除",message:n,cancel:!0,persistent:!0}).onOk(()=>{}).onOk(()=>{}).onCancel(()=>{}).onDismiss(()=>{})}function N(){}function O(n){}function L(n){q.value="编辑",A.value={...n.value},E.value&&E.value.show()}function R(n){}function X(){}const T={$q:p,appState:e,sizeStyle:b,pagination:u,pagesNumber:t,filter:r,selected:y,columns:S,rows:B,group:D,editType:q,form:A,dialogRef:E,showConfirm:M,add:N,del:O,edit:L,design:R,submit:X,BaseContent:te,BtnDel:ie,EllipsisValue:fe};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}}),ge={class:"row no-wrap full-width"},_e={class:"q-gutter-xs"},ve={class:"full-width row justify-center"},we={class:"view_title justify-between q-px-md"},Fe={class:"row q-col-gutter-x-md dialog_form q-pa-md"},ye={class:"col-12"},Ce={class:"col-12"},ke={class:"row justify-center q-pa-md"};function Ve(F,l,p,e,b,u){return f(),v(e.BaseContent,{class:"q-pa-sm",style:ue(e.sizeStyle)},{default:a(()=>[o(G,{class:"fit sticky-header-table",selection:"multiple",selected:e.selected,"onUpdate:selected":l[4]||(l[4]=t=>e.selected=t),dense:e.$q.screen.lt.md,separator:"cell",flat:"",bordered:"",rows:e.rows,filter:e.filter,columns:e.columns,"row-key":"name","visible-columns":e.group,pagination:e.pagination,"onUpdate:pagination":l[5]||(l[5]=t=>e.pagination=t)},{top:a(t=>[i("div",ge,[o(x,{clearable:"",outlined:"",dense:"",placeholder:"请输入关键字搜索",class:"on-left",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":l[0]||(l[0]=r=>e.filter=r)},{append:a(()=>[o(P,{name:"search"})]),_:1},8,["modelValue"]),o(H),i("div",_e,[o(d,{icon:"add","no-wrap":"",color:"primary",label:"新建",onClick:e.add}),c(o(d,{disable:e.selected.length===0,"no-wrap":"",color:"negative",label:"批量删除",onClick:l[1]||(l[1]=r=>e.showConfirm()),icon:"delete_outline"},null,8,["disable"]),[[Q,e.$q.screen.gt.sm]]),c(o(d,{color:"primary",label:"切换全屏","no-wrap":"",onClick:t.toggleFullscreen,icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},null,8,["onClick","icon"]),[[Q,e.$q.screen.gt.sm]]),c(o(J,{color:"primary",label:"自选列",icon:"view_list","no-wrap":""},{default:a(()=>[o(U,null,{default:a(()=>[(f(!0),z(re,null,se(e.columns,r=>(f(),v(w,{tag:"label",key:r.name},{default:a(()=>[o(g,{avatar:""},{default:a(()=>[o(K,{modelValue:e.group,"onUpdate:modelValue":l[2]||(l[2]=y=>e.group=y),val:r.name},null,8,["modelValue","val"])]),_:2},1024),o(g,null,{default:a(()=>[o(W,null,{default:a(()=>[s(k(r.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},512),[[Q,e.$q.screen.gt.sm]])])])]),"body-cell-protein":a(t=>[o(h,{key:"protein",props:t},{default:a(()=>[o(e.EllipsisValue,{value:t.row.protein,length:10},null,8,["value"])]),_:2},1032,["props"])]),"body-cell-opt":a(t=>[o(h,{props:t,"auto-width":!0},{default:a(()=>[o(d,{flat:"",round:"",dense:"",color:"primary",icon:"edit",onClick:r=>e.edit(t.row)},{default:a(()=>[o(C,null,{default:a(()=>l[8]||(l[8]=[s("编辑")])),_:1})]),_:2},1032,["onClick"]),o(d,{flat:"",round:"",dense:"",color:"primary",icon:"mdi-image-edit-outline",onClick:r=>e.design(t.row)},{default:a(()=>[o(C,null,{default:a(()=>l[9]||(l[9]=[s("视图设计")])),_:1})]),_:2},1032,["onClick"]),o(e.BtnDel,{label:"视图",onConfirm:r=>e.del(t.row)},null,8,["onConfirm"]),o(d,{flat:"",round:"",dense:"",color:"primary",icon:"mdi-more"},{default:a(()=>[o(C,null,{default:a(()=>l[10]||(l[10]=[s("更多")])),_:1}),o(Z,null,{default:a(()=>[o(U,{style:{"min-width":"100px"}},{default:a(()=>[c((f(),v(w,{clickable:""},{default:a(()=>[o(g,null,{default:a(()=>l[11]||(l[11]=[s("发布服务")])),_:1})]),_:1})),[[_]]),c((f(),v(w,{clickable:""},{default:a(()=>[o(g,null,{default:a(()=>l[12]||(l[12]=[s("新建索引")])),_:1})]),_:1})),[[_]]),o($),c((f(),v(w,{clickable:""},{default:a(()=>[o(g,null,{default:a(()=>l[13]||(l[13]=[s("清理缓存")])),_:1})]),_:1})),[[_]]),c((f(),v(w,{clickable:""},{default:a(()=>[o(g,null,{default:a(()=>l[14]||(l[14]=[s("新增数据")])),_:1})]),_:1})),[[_]])]),_:1})]),_:1})]),_:1})]),_:2},1032,["props"])]),bottom:a(()=>[i("div",ve,[o(ee,{modelValue:e.pagination.page,"onUpdate:modelValue":l[3]||(l[3]=t=>e.pagination.page=t),input:"",max:e.pagesNumber},null,8,["modelValue","max"])])]),_:1},8,["selected","dense","rows","filter","columns","visible-columns","pagination"]),o(le,{maximized:"",flat:"",persistent:"",ref:"dialogRef"},{default:a(()=>[o(oe,{onSubmit:e.submit,class:"dialog_card column"},{default:a(()=>[i("h5",we,[s(k(e.editType)+"视图 ",1),c(o(d,{dense:"",outline:"",round:"",icon:"clear",size:"sm"},null,512),[[_]])]),o(ae,{class:"col"},{default:a(()=>[i("div",Fe,[i("div",ye,[i("h5",null,[o(P,{name:"star",color:"red"}),l[15]||(l[15]=s("名称： "))]),o(x,{outlined:"",dense:"",modelValue:e.form.name,"onUpdate:modelValue":l[6]||(l[6]=t=>e.form.name=t),type:"text"},null,8,["modelValue"])]),i("div",Ce,[l[16]||(l[16]=i("h5",null,"描述：",-1)),o(x,{outlined:"",dense:"",modelValue:e.form.protein,"onUpdate:modelValue":l[7]||(l[7]=t=>e.form.protein=t),type:"text"},null,8,["modelValue"])]),l[17]||(l[17]=i("div",{class:"col-12"},[i("h5",null,"目录编号：")],-1))])]),_:1}),i("div",ke,[c(o(d,{outline:"",color:"primary",icon:"mdi-close-thick",label:"关闭"},null,512),[[_]]),o(d,{class:"q-mx-sm",color:"primary",icon:"mdi-check-bold",label:"提交",type:"submit"})])]),_:1})]),_:1},512)]),_:1},8,["style"])}const he=j(be,[["render",Ve],["__scopeId","data-v-f228daca"],["__file","FitTable.vue"]]);export{he as default};
