import{c as g,I as x}from"./xframelib-exp-uSJ3EBow.js";import{d as y,q as B,X as _,o as v,b as k,e as E,k as e}from"./@vue-exp-CzdoyapG.js";import{_ as h}from"./index-DylLUN-r.js";import"./axios-exp-C7rfqWEd.js";import"./vendor-CSzZZ-de.js";import"./lottie-web-exp-CIY4INm7.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./@iconify/vue-exp-BLEeEXwl.js";import"./quasar-exp-B7YDMHDE.js";import"./xgis-cesium-exp-Cbv1lISI.js";import"./vue-router-exp-B23Vo4Jw.js";const F=y({name:"BigFileUpload",props:{},components:{},setup(c,{attrs:i,slots:u,emit:d}){const l=B({}),a=_(l);function m(t,r,o="",n=5120,f="PUT"){const s=x({endpoint:r,file:t,chunkSize:n,method:f,md5:o});s.on("error",p=>{}),s.on("progress",p=>{document.getElementById("process").value=p}),s.on("attempt",p=>{}),s.on("success",()=>{document.getElementById("process").value=100})}return v(()=>{const t=document.getElementById("picker");t.onchange=()=>{const r=document.getElementById("location").value,o=t.files[0];g.getFileShortMD5(o,n=>{n.isOK&&m(o,r,n.data)})}}),{...a}}}),b={class:"q-pa-md q-gutter-md"};function I(c,i,u,d,l,a){return k(),E("div",b,i[0]||(i[0]=[e("div",{class:"text-center text-bold"},"大文件分片上传",-1),e("input",{id:"location",type:"text",value:"https://file.gis.digsur.com/api/Upload",style:{width:"400px"}},null,-1),e("br",null,null,-1),e("input",{id:"picker",type:"file",size:"50"},null,-1),e("br",null,null,-1),e("input",{type:"range",id:"process",value:"0",min:"0",max:"100",style:{width:"500px"}},null,-1)]))}const O=h(F,[["render",I]]);export{O as default};
