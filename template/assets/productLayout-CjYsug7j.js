import{x as N,v as b}from"./quasar-exp-BsaNoQ7w.js";import{q as I,d as x,r as p,o as v,a0 as V,b as d,e as _,j as l,ac as P,a7 as i,g as m,l as c,c as W,a as B,f as D,a4 as y}from"./@vue-exp-Bws36Ke9.js";import{_ as C,d as R,b as q}from"./index-BQ7ovaqR.js";import{B as w,h as L,g as H}from"./xframelib-exp-CMLeiWD4.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./vendor-DJm_4oaR.js";import"./lottie-web-exp-CIY4INm7.js";import"./xgis-cesium-exp-Hv7oMXHX.js";import"./vue-router-exp-CO9L2VdX.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-Q9Q0SWJB.js";const u=I({lat:39.9087,lng:116.3974,city:"北京市",addr:"天安门"});let f;function k(){return new Promise((r,a)=>{f||(f=new qq.maps.Geolocation("TR5BZ-6UY64-Z66UV-DUU4Q-2HNOZ-LCFES","小冰天气")),f?.getLocation(t=>{u.addr=t.addr,u.city=t.city,u.lat=t.lat,u.lng=t.lng,r(t)},()=>{a()},{timeout:2e4,failTipFlag:!0})})}const M=x({__name:"LocationWeather",setup(r,{expose:a}){a();const t=p(),e=p();v(async()=>{const o=await k();o&&(t.value=o)});const n={currentPosition:t,weatherNow:e};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),U={class:"row justify-center q-gutter-x-md"},j={key:0,class:"row items-center"},E={key:1,class:"row items-center q-gutter-x-sm"};function F(r,a,t,e,n,o){const s=V("Icon");return d(),_("div",U,[e.currentPosition?(d(),_("span",j,[l(s,{icon:"ic:baseline-location-on"}),P(" "+i(e.currentPosition.city+" "+e.currentPosition.addr),1)])):m("",!0),e.weatherNow?(d(),_("div",E,[c("span",null,i(e.weatherNow?.text),1),c("span",null,i(e.weatherNow?.temp)+"°",1),c("span",null,i(e.weatherNow?.windDir),1),c("span",null,i(e.weatherNow?.windScale)+"级",1)])):m("",!0)])}const O=C(M,[["render",F],["__file","LocationWeather.vue"]]),Q=x({name:"productLayout",__name:"productLayout",setup(r,{expose:a}){a();const t=R(),e=p(t),n=p("productLayout"),o=q(),s=W(()=>o.headerSetting.show?o.headerSetting.height:0);v(()=>{w.Loading("end"),L.setCssVar("--center-pointer-events","none"),L.setCssVar("--header-top-height",s.value+"px")}),B(()=>{});function S(h=!1){layoutManager||(layoutManager=w.LayoutMap.get("productLayout")),layoutManager?.changeWidgetVisible("frontLayoutWidget",h)}const g={widgetCofig:t,configRef:e,layoutIDRef:n,appState:o,topHeaderHeight:s,changeLayoutWidgetVisible:S,LocationWeather:O,get LayoutContainer(){return H}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}});function T(r,a,t,e,n,o){return d(),D(N,{view:"hHh lpR fFf"},{default:y(()=>[l(b,null,{default:y(()=>[l(e.LocationWeather,{class:"absolute-top-right q-mr-sm shadow-1",style:{"font-size":"12px"}}),l(e.LayoutContainer,{widgetConfig:e.configRef,layoutID:e.layoutIDRef},null,8,["widgetConfig","layoutID"])]),_:1})]),_:1})}const ae=C(Q,[["render",T],["__scopeId","data-v-74c91a5d"],["__file","productLayout.vue"]]);export{ae as default};
