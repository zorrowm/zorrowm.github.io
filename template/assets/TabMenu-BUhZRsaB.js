import{bT as w,bU as x,bz as D,bA as y,bB as p,bC as d,bV as f,bO as T,bW as A}from"./vendor-B1f7FUIB.js";import"./xframelib-exp-B9KgMBHw.js";import{_ as E}from"./index-CvUQtR9N.js";import{t as L}from"./tabMenu-REkMxP4d.js";import{b as B,u as I}from"./vue-router-exp-DWvvxSx9.js";import{d as O,c as _,w as P,o as Q,r as S,G as b,$ as V,b as r,f as u,a3 as n,e as j,V as F,aa as N,g as k,l as z,a6 as G,a8 as U,j as i,k as v,ab as h}from"./@vue-exp-DMKPrOh0.js";const W=O({__name:"TabMenu",setup(C,{expose:s}){s();const t=L(),a=B(),l=I(),g=_(()=>t.tabMenus),c=_(()=>t.currentTab),o=_(()=>t.base?.name);P(l,()=>{t.AddTabMenu(Object.assign({},l))}),Q(()=>{t.AddTabMenu(Object.assign({},l))});const m=S(!1);function R(e){return e.title}const M={tabMenuState:t,router:a,route:l,tabMenus:g,currentTab:c,defaultPage:o,loginPage:m,selectRouteLabel:R,removeTab:e=>{e.path===c.value?.path?(t.RemoveTab(e),b(()=>{a.push({name:c.value?.name})})):t.RemoveTab(e)},removeOtherTab:e=>{t.DestroyTabMenu(),t.AddTabMenu(e),e.path!==l.path&&b(()=>{a.push({path:e.path})})},removeRightTab:e=>{t.RemoveRightTab(e),e.path!==l.path&&b(()=>{a.push({path:e.path})})},removeLeftTab:e=>{t.RemoveLeftTab(e),e.path!==l.path&&b(()=>{a.push({path:e.path})})},removeAllTab:()=>{t.DestroyTabMenu(),t.AddTabMenu(),b(()=>{a.push({path:"/"})})}};return Object.defineProperty(M,"__isScriptSetup",{enumerable:!1,value:!0}),M}}),q={class:"tab-label"};function H(C,s,t,a,l,g){const c=V("Icon");return a.loginPage?k("",!0):(r(),u(A,{key:0,dense:"","inline-label":"","outside-arrows":"","mobile-arrows":"",style:{width:"100%"},align:"left",swipeable:"","active-class":"activeTabItem",breakpoint:0},{default:n(()=>[(r(!0),j(F,null,N(a.tabMenus,o=>(r(),u(w,{key:o.path,exact:"",to:o.fullPath,name:o.path},{default:n(()=>[o.icon?(r(),u(c,{key:0,size:"1.1rem",icon:o.icon},null,8,["icon"])):k("",!0),z("span",q,G(a.selectRouteLabel(o)),1),o.name!==a.defaultPage?(r(),u(x,{key:1,class:"tab-close",name:"close",onClick:U(m=>a.removeTab(o),["prevent","stop"])},null,8,["onClick"])):k("",!0),i(D,{"touch-position":"","context-menu":""},{default:n(()=>[i(y,{dense:"",bordered:"",separator:"",class:"bg-white text-dark"},{default:n(()=>[v((r(),u(p,{clickable:""},{default:n(()=>[i(d,{onClick:m=>a.removeOtherTab(o)},{default:n(()=>s[0]||(s[0]=[h("关闭其他")])),_:2},1032,["onClick"])]),_:2},1024)),[[f],[T]]),v((r(),u(p,{clickable:""},{default:n(()=>[i(d,{onClick:m=>a.removeRightTab(o)},{default:n(()=>s[1]||(s[1]=[h("关闭右边")])),_:2},1032,["onClick"])]),_:2},1024)),[[f],[T]]),v((r(),u(p,{clickable:""},{default:n(()=>[i(d,{onClick:m=>a.removeLeftTab(o)},{default:n(()=>s[2]||(s[2]=[h("关闭左边")])),_:2},1032,["onClick"])]),_:2},1024)),[[f],[T]]),v((r(),u(p,{clickable:""},{default:n(()=>[i(d,{onClick:a.removeAllTab},{default:n(()=>s[3]||(s[3]=[h("关闭全部")])),_:1})]),_:1})),[[f],[T]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["to","name"]))),128))]),_:1}))}const se=E(W,[["render",H],["__scopeId","data-v-6af379c7"],["__file","TabMenu.vue"]]);export{se as T};
