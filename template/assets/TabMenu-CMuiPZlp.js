import{E as w,F as x,h as D,i as y,j as d,k as b,G as f,R as T,H as E}from"./quasar-exp-BsaNoQ7w.js";import"./xframelib-exp-CMLeiWD4.js";import{_ as L}from"./index-BQ7ovaqR.js";import{t as A}from"./tabMenu-CiBM6NVa.js";import{b as B,u as I}from"./vue-router-exp-CO9L2VdX.js";import{d as P,c as _,w as Q,o as F,r as O,B as p,a0 as S,b as r,f as u,a4 as n,e as j,F as N,ab as V,g as k,l as z,a7 as G,a9 as H,j as i,k as v,ac as h}from"./@vue-exp-Bws36Ke9.js";const q=P({__name:"TabMenu",setup(R,{expose:s}){s();const t=A(),a=B(),l=I(),g=_(()=>t.tabMenus),c=_(()=>t.currentTab),o=_(()=>t.base?.name);Q(l,()=>{t.AddTabMenu(Object.assign({},l))}),F(()=>{t.AddTabMenu(Object.assign({},l))});const m=O(!1);function C(e){return e.title}const M={tabMenuState:t,router:a,route:l,tabMenus:g,currentTab:c,defaultPage:o,loginPage:m,selectRouteLabel:C,removeTab:e=>{e.path===c.value?.path?(t.RemoveTab(e),p(()=>{a.push({name:c.value?.name})})):t.RemoveTab(e)},removeOtherTab:e=>{t.DestroyTabMenu(),t.AddTabMenu(e),e.path!==l.path&&p(()=>{a.push({path:e.path})})},removeRightTab:e=>{t.RemoveRightTab(e),e.path!==l.path&&p(()=>{a.push({path:e.path})})},removeLeftTab:e=>{t.RemoveLeftTab(e),e.path!==l.path&&p(()=>{a.push({path:e.path})})},removeAllTab:()=>{t.DestroyTabMenu(),t.AddTabMenu(),p(()=>{a.push({path:"/"})})}};return Object.defineProperty(M,"__isScriptSetup",{enumerable:!1,value:!0}),M}}),J={class:"tab-label"};function K(R,s,t,a,l,g){const c=S("Icon");return a.loginPage?k("",!0):(r(),u(E,{key:0,dense:"","inline-label":"","outside-arrows":"","mobile-arrows":"",style:{width:"100%"},align:"left",swipeable:"","active-class":"activeTabItem",breakpoint:0},{default:n(()=>[(r(!0),j(N,null,V(a.tabMenus,o=>(r(),u(w,{key:o.path,exact:"",to:o.fullPath,name:o.path},{default:n(()=>[o.icon?(r(),u(c,{key:0,size:"1.1rem",icon:o.icon},null,8,["icon"])):k("",!0),z("span",J,G(a.selectRouteLabel(o)),1),o.name!==a.defaultPage?(r(),u(x,{key:1,class:"tab-close",name:"close",onClick:H(m=>a.removeTab(o),["prevent","stop"])},null,8,["onClick"])):k("",!0),i(D,{"touch-position":"","context-menu":""},{default:n(()=>[i(y,{dense:"",bordered:"",separator:"",class:"bg-white text-dark"},{default:n(()=>[v((r(),u(d,{clickable:""},{default:n(()=>[i(b,{onClick:m=>a.removeOtherTab(o)},{default:n(()=>s[0]||(s[0]=[h("关闭其他")])),_:2},1032,["onClick"])]),_:2},1024)),[[f],[T]]),v((r(),u(d,{clickable:""},{default:n(()=>[i(b,{onClick:m=>a.removeRightTab(o)},{default:n(()=>s[1]||(s[1]=[h("关闭右边")])),_:2},1032,["onClick"])]),_:2},1024)),[[f],[T]]),v((r(),u(d,{clickable:""},{default:n(()=>[i(b,{onClick:m=>a.removeLeftTab(o)},{default:n(()=>s[2]||(s[2]=[h("关闭左边")])),_:2},1032,["onClick"])]),_:2},1024)),[[f],[T]]),v((r(),u(d,{clickable:""},{default:n(()=>[i(b,{onClick:a.removeAllTab},{default:n(()=>s[3]||(s[3]=[h("关闭全部")])),_:1})]),_:1})),[[f],[T]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["to","name"]))),128))]),_:1}))}const se=L(q,[["render",K],["__scopeId","data-v-6af379c7"],["__file","TabMenu.vue"]]);export{se as T};
