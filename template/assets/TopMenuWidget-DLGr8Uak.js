import{k as L,y as H,u as B,R as P,j as W,i as z,A as G,e as x,c as X,o as J,x as K}from"./quasar-exp-B7YDMHDE.js";import{F as Y}from"./FullScreen-BFNHdAi8.js";import{u as Z,W as I}from"./xframelib-exp-uSJ3EBow.js";import{b as T,_ as j,u as ee,o as te}from"./index-DylLUN-r.js";import{u as $,b as E}from"./vue-router-exp-B23Vo4Jw.js";import{d as N,X as R,c as k,w as ne,o as ae,r as _,$ as C,b as i,f as h,a3 as o,i as r,a0 as le,I as e,aa as A,a6 as O,l as q,j as M,e as Q,F as U,a9 as D,g as S,ac as oe,a1 as re,q as se,k as w,ae as ie}from"./@vue-exp-CzdoyapG.js";import{E as c,_ as ue}from"./PageMenu.vue_vue_type_style_index_0_lang-DEJXnHqz.js";import{cA as ce}from"./vendor-CSzZZ-de.js";import{L as de}from"./layoutTool-s4PeaY0S.js";import"./axios-exp-C7rfqWEd.js";import"./@iconify/vue-exp-BLEeEXwl.js";import"./monaco-editor-exp-BNK_u0iZ.js";import"./xgis-cesium-exp-Cbv1lISI.js";import"./lottie-web-exp-CIY4INm7.js";import"./urlUtils-DZs0CCYb.js";const pe=N({__name:"ItemMultiple",props:{trueItem:{default:function(){return null},type:Object},initLevel:{type:Number,default:0}},setup(f){const p=T(),t=$(),u=f,{trueItem:a,initLevel:s}=R(u),v=k(()=>p.leftCollapsed&&!p.overlayMenu?"margin-left:-16px":"");ne(t,()=>{m()}),ae(()=>{m()});const d=_(!1),m=()=>{for(let l of a.value.children)if(l.path===t.path||l.parent_code===t.name){d.value=!0;return}d.value=!1};return(l,n)=>{const g=C("Icon");return i(),h(H,{modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=b=>d.value=b),group:e(a).name,"header-inset-level":e(s)},{header:o(()=>[r(L,{avatar:"",style:le(v.value)},{default:o(()=>[r(g,{icon:e(a).meta?.icon},null,8,["icon"])]),_:1},8,["style"]),r(L,{style:{"margin-left":"-10px"}},{default:o(()=>[A(O(e(a).meta?.title??e(a).label),1)]),_:1})]),default:o(()=>[q(l.$slots,"default")]),_:3},8,["modelValue","group","header-inset-level"])}}}),me={__name:"ItemSingle",props:{trueItem:{default:function(){return{}},type:Object},initLevel:{type:Number,default:0}},setup(f){const p=B();k(()=>p.dark.isActive?"bg-grey-10 text-white":"bg-primary text-white");const t=E(),u=$(),a=f,{trueItem:s,initLevel:v}=R(a),d=l=>{if(l.kind){const n=l;switch(n.kind){case c.Route:n.blank?OpenURL(t,n.path,{}):n.name?t.push({name:n.name}):n.path&&t.push({path:n.path});break;case c.URL:window.open(n.path,"_blank");break;case c.Action:Global.EventBus.emit("IPageMenu.Action",n);break;case c.Widget:Global.EventBus.emit("LayoutLoadWidget",n);break}}else l.path&&Z(l.path)||l.link?window.open(l.path):t.push({name:l.name})},m=k(()=>u.name===s.value.name||u.path===s.value.path);return(l,n)=>{const g=C("Icon");return M((i(),h(W,{clickable:"",exact:"","inset-level":e(v),active:m.value,"active-class":l.darkThemeSelect,onClick:n[0]||(n[0]=b=>d(e(s)))},{default:o(()=>[r(L,{avatar:""},{default:o(()=>[r(g,{icon:e(s).meta?.icon??e(s).icon},null,8,["icon"])]),_:1}),r(L,{style:{"margin-left":"-10px"}},{default:o(()=>[A(O(e(s).meta?.title??e(s).label),1)]),_:1})]),_:1},8,["inset-level","active","active-class"])),[[P]])}}},he=j(me,[["__scopeId","data-v-77886570"]]),fe={__name:"SideMenuBarItem",props:{childrenItem:{default:function(){return{}},type:Object},initLevel:{type:Number,default:0}},setup(f){const p=f,{childrenItem:t,initLevel:u}=R(p),a=k(()=>t.value.children&&t.value.children.length!==0?pe:he);return(s,v)=>{const d=C("SideMenuBarItem",!0);return i(),h(oe(a.value),{"true-item":e(t),"init-level":e(u)},{default:o(()=>[e(t).children&&e(t).children.length!==0?(i(!0),Q(U,{key:0},D(e(t).children,m=>(i(),h(d,{key:m.path,"children-item":m,"init-level":e(u)+.3},null,8,["children-item","init-level"]))),128)):S("",!0)]),_:1},8,["true-item","init-level"])}}},_e={__name:"index",props:{topMenuChildren:{type:Object||Array,required:!1,default:()=>null}},setup(f){const p=B(),t=k(()=>p.dark.isActive?"bg-grey-10 text-white":"bg-white text-dark"),u=f,{topMenuChildren:a}=R(u);return I.Loading("SideMenuBar"),(s,v)=>(i(),h(G,{style:{height:"calc(100%)"},class:re(t.value)},{default:o(()=>[q(s.$slots,"default",{},void 0,!0),r(z,{class:"menu-list"},{default:o(()=>[(i(!0),Q(U,null,D(e(a),(d,m)=>(i(),h(fe,{key:m,"children-item":d,"init-level":0,style:{}},null,8,["children-item"]))),128))]),_:1})]),_:3},8,["class"]))}},ve=j(_e,[["__scopeId","data-v-4f4fae95"]]),ge={class:"row"},be={class:"col-11 row justify-end items-center"},ke={class:"col-1 justify-center q-py-md"},we={class:"q-gutter-sm row items-center no-wrap"},je=N({__name:"TopMenuWidget",setup(f){const p=[{label:"首页",icon:"ant-design:home-outlined",kind:c.Route,path:"/product/index"},{label:"帝测时空云平台",kind:c.Route,path:"/product/productPage"},{label:"解决方案",children:[{label:"智慧农业",kind:c.URL,path:"https://www.baidu.com"},{label:"智慧水利",kind:c.Route,path:"/river"},{label:"智慧物流",kind:c.URL,path:"https://www.126.com"}]},{label:"项目案例",children:[{label:"农业项目",kind:c.URL,path:"https://www.baidu.com"},{label:"水利项目",kind:c.Route,path:"/river"}]},{label:"API示例",kind:c.Route,path:"/product/apiexamples"},{label:"联系我们",kind:c.URL,path:"/product/contract"}],t=_(!1);_(!1);const u=B();_(I.Config.UI?.SiteTitle);const a=T();ee();const{leftCollapsed:s}=ce(a);_(a.headerSetting.centerTitle);const v=_(a.headerSetting.showFullScreen),d=_(a.headerSetting.showCollapseIcon);function m(){a.toggleCollapse()}se({headerHeight:de.getHeaderHeight()});const l=_(window.document.documentElement);$(),k(()=>!I.Config.UI?.IsNoLogin),E(),k(()=>{const g=te.children;return g||(I.Message.warn("无法获取路由列表！"),[])});function n(){t.value=!t.value}return(g,b)=>{const y=C("Icon"),V=ie("tooltip");return i(),Q(U,null,[w("div",ge,[w("div",be,[r(e(ue),{data:p})]),w("div",ke,[w("div",we,[M((i(),h(x,{class:"lt-sm",dense:"",flat:"",size:"md",round:"",onClick:n},{default:o(()=>[r(y,{icon:"whh:dropmenu",width:"100",height:"100"})]),_:1})),[[V,"菜单列表"]]),r(x,{dense:"",flat:"",href:"https://github.com",target:"_blank"},{default:o(()=>[r(y,{icon:"fa-github"}),r(X,null,{default:o(()=>b[1]||(b[1]=[A("github")])),_:1})]),_:1}),w("span",null,[d.value&&e(u).screen.gt.sm?(i(),h(y,{key:0,icon:e(s)?"ant-design:menu-unfold-outlined":"ant-design:menu-fold-outlined",onClick:m},null,8,["icon"])):S("",!0)]),v.value&&e(u).screen.gt.sm?(i(),h(Y,{key:0,target:l.value},null,8,["target"])):S("",!0)])])]),e(u).screen.lt.sm?(i(),h(K,{key:0,view:"hHH lpR fFf"},{default:o(()=>[r(J,{modelValue:t.value,"onUpdate:modelValue":b[0]||(b[0]=F=>t.value=F),side:"right",bordered:""},{default:o(()=>[M((i(),h(x,{dense:"",flat:"",round:"",onClick:n},{default:o(()=>[r(y,{icon:"codicon:chrome-close"})]),_:1})),[[V,"菜单列表"]]),r(ve,{"top-menu-children":p})]),_:1},8,["modelValue"])]),_:1})):S("",!0)],64)}}});export{je as default};
