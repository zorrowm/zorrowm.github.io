import{d as R,at as h,aJ as S,y as A,Q as N,a as d,r as U,aK as O,w as V,t as g,o as I,b as H,g as p,k as t,l as i,C as b,D as $,v as j,j as q,F as G,a2 as M,aH as L,aG as T,aI as J}from"./vendor.fba62f44.js";import{O as K,k as Q,_ as W}from"./index.a7a016cc.js";import{I as z}from"./@iconify/vue-exp.2703a4cd.js";import{l as P,U as X}from"./IconService.68577bd3.js";import{L as y}from"./xframelib-exp.abb6dc89.js";import"./lodash-es-exp.5cb72cd8.js";import"./vue-router-exp.aea90ceb.js";import"./axios-exp.a055fae1.js";const F="IconEdit";let Y;const D={validateForm:Y,name:F,props:{data:h().required,extra:h().isRequired},components:{Icon:z,Codemirror:S},setup(e,{emit:a}){function f(s){}A(()=>{K(F,f),c.value=o.prefix+":"+o.name}),N(()=>{Q(F,f)});const E=d(),u=U({name:"",description:"",color:"#000"}),B={name:[{required:!0,message:"\u56FE\u6807\u540D\u4E0D\u80FD\u4E3A\u7A7A!",trigger:"change"}]},m=d({mode:"text/html",matchBrackets:!0,lineWrapping:!0,theme:"default",lineNumbers:!0,smartIndent:!0,indentUnit:2,foldGutter:!0,styleActiveLine:!0}),v=d([O()]);let o=e.data;const r=d(""),c=d("");let n;V(()=>e.data,s=>{_()},{deep:!0,immediate:!0}),D.validateForm=()=>r.value!="";function l(){}function _(){o=e.data,P(o.prefix,o.name).then(s=>{s&&(n=s,u.name=n.name,u.description=n.description??"",u.color=n.color,r.value=n.body??"")})}const C=d(!0);function k(){C.value=!1,n.name=u.name,u.description&&(n.description=u.description),n.color=u.color,r.value&&(n.body=r.value),X(o.prefix,o.name,n).then(s=>{s?y.Message?.info("\u66F4\u65B0\u56FE\u6807\u5185\u5BB9\u6210\u529F\uFF01"):y.Message?.warn("\u66F4\u65B0\u56FE\u6807\u5185\u5BB9\u5931\u8D25\uFF01"),C.value=!0})}function w(s){}return{svgContentRef:r,onSubmit:l,refreshIcon:_,iconfullName:c,applyIconBody:k,showIconRef:C,onCodeChange:w,optionsRef:m,extensions:v,rules:B,formState:u,formRef:E,labelCol:{span:6},wrapperCol:{span:14}}}},Z=R(D);const x={class:"fr rightBtn"},ee={class:"iconTitle"};function oe(e,a,f,E,u,B){const m=M,v=g("Icon"),o=L,r=T,c=J,n=g("Codemirror");return I(),H(G,null,[p("div",null,[p("div",x,[t(m,{type:"primary",onClick:e.refreshIcon},{default:i(()=>[b("\u5237\u65B0")]),_:1},8,["onClick"]),t(m,{type:"primary",onClick:e.applyIconBody},{default:i(()=>[b("\u5E94\u7528\u66F4\u65B0")]),_:1},8,["onClick"])]),t(c,{model:e.formState,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,rules:e.rules,ref:"formRef"},{default:i(()=>[t(o,{label:"\u56FE\u6807",name:"icon"},{default:i(()=>[p("span",ee,$(e.iconfullName),1),e.showIconRef?(I(),j(v,{key:0,icon:e.iconfullName,width:"24",height:"24"},null,8,["icon"])):q("",!0)]),_:1}),t(o,{label:"\u540D\u79F0",name:"name"},{default:i(()=>[t(r,{value:e.formState.name,"onUpdate:value":a[0]||(a[0]=l=>e.formState.name=l),placeholder:"\u4FEE\u6539\u56FE\u6807\u540D\u79F0,\u4E0D\u542B\u4E0B\u5212\u7EBF\u548C\u7A7A\u683C"},null,8,["value"])]),_:1}),t(o,{label:"\u4E2D\u6587\u63CF\u8FF0",name:"description"},{default:i(()=>[t(r,{value:e.formState.description,"onUpdate:value":a[1]||(a[1]=l=>e.formState.description=l),placeholder:"\u8F93\u5165\u56FE\u6807\u4E2D\u6587\u540D\u6216\u63CF\u8FF0"},null,8,["value"])]),_:1}),t(o,{label:"\u9ED8\u8BA4\u989C\u8272",name:"color"},{default:i(()=>[t(r,{value:e.formState.color,"onUpdate:value":a[2]||(a[2]=l=>e.formState.color=l),placeholder:"\u9ED8\u8BA4\u989C\u8272#000"},null,8,["value"])]),_:1})]),_:1},8,["model","label-col","wrapper-col","rules"])]),p("div",null,[t(n,{value:e.svgContentRef,"onUpdate:value":a[3]||(a[3]=l=>e.svgContentRef=l),options:e.optionsRef,placeholder:"\u6D4B\u8BD5 placeholder",height:300,extensions:e.extensions,onChange:e.onCodeChange},null,8,["value","options","extensions","onChange"])])],64)}const de=W(Z,[["render",oe],["__scopeId","data-v-de68fdf8"]]);export{de as default};
