import{r as Rn,d as De,o as q,b as Z,e as we,f as Se,g as V,j as me,k as Tn,l as qe,T as Mn,m as Zr,q as an,t as Nn,v as ue,F as ge,x as Ee,a as te,c as he,y as Lt,z as eo,n as Dt,A as to,B as no,C as un,D as ro,w as Fe,E as oo,G as pe,H as at,I as cn,J as io,K as so,L as ao,M as uo,N as co,O as lo}from"./vendor.fba62f44.js";import{S as fo}from"./axios-exp.a055fae1.js";const ho=Object.prototype.toString;function kt(e,t){return ho.call(e)===`[object ${t}]`}function po(e){return kt(e,"Function")}const Rt=e=>e!=null&&e!==null&&kt(e,"Object");function jn(e){return kt(e,"String")}function go(e){return e&&Array.isArray(e)}var ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bt={},mo={get exports(){return bt},set exports(e){bt=e}};mo.exports=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(w,u){var f=w[0],d=w[1],l=w[2],g=w[3];d=((d+=((l=((l+=((g=((g+=((f=((f+=(d&l|~d&g)+u[0]-680876936|0)<<7|f>>>25)+d|0)&d|~f&l)+u[1]-389564586|0)<<12|g>>>20)+f|0)&f|~g&d)+u[2]+606105819|0)<<17|l>>>15)+g|0)&g|~l&f)+u[3]-1044525330|0)<<22|d>>>10)+l|0,d=((d+=((l=((l+=((g=((g+=((f=((f+=(d&l|~d&g)+u[4]-176418897|0)<<7|f>>>25)+d|0)&d|~f&l)+u[5]+1200080426|0)<<12|g>>>20)+f|0)&f|~g&d)+u[6]-1473231341|0)<<17|l>>>15)+g|0)&g|~l&f)+u[7]-45705983|0)<<22|d>>>10)+l|0,d=((d+=((l=((l+=((g=((g+=((f=((f+=(d&l|~d&g)+u[8]+1770035416|0)<<7|f>>>25)+d|0)&d|~f&l)+u[9]-1958414417|0)<<12|g>>>20)+f|0)&f|~g&d)+u[10]-42063|0)<<17|l>>>15)+g|0)&g|~l&f)+u[11]-1990404162|0)<<22|d>>>10)+l|0,d=((d+=((l=((l+=((g=((g+=((f=((f+=(d&l|~d&g)+u[12]+1804603682|0)<<7|f>>>25)+d|0)&d|~f&l)+u[13]-40341101|0)<<12|g>>>20)+f|0)&f|~g&d)+u[14]-1502002290|0)<<17|l>>>15)+g|0)&g|~l&f)+u[15]+1236535329|0)<<22|d>>>10)+l|0,d=((d+=((l=((l+=((g=((g+=((f=((f+=(d&g|l&~g)+u[1]-165796510|0)<<5|f>>>27)+d|0)&l|d&~l)+u[6]-1069501632|0)<<9|g>>>23)+f|0)&d|f&~d)+u[11]+643717713|0)<<14|l>>>18)+g|0)&f|g&~f)+u[0]-373897302|0)<<20|d>>>12)+l|0,d=((d+=((l=((l+=((g=((g+=((f=((f+=(d&g|l&~g)+u[5]-701558691|0)<<5|f>>>27)+d|0)&l|d&~l)+u[10]+38016083|0)<<9|g>>>23)+f|0)&d|f&~d)+u[15]-660478335|0)<<14|l>>>18)+g|0)&f|g&~f)+u[4]-405537848|0)<<20|d>>>12)+l|0,d=((d+=((l=((l+=((g=((g+=((f=((f+=(d&g|l&~g)+u[9]+568446438|0)<<5|f>>>27)+d|0)&l|d&~l)+u[14]-1019803690|0)<<9|g>>>23)+f|0)&d|f&~d)+u[3]-187363961|0)<<14|l>>>18)+g|0)&f|g&~f)+u[8]+1163531501|0)<<20|d>>>12)+l|0,d=((d+=((l=((l+=((g=((g+=((f=((f+=(d&g|l&~g)+u[13]-1444681467|0)<<5|f>>>27)+d|0)&l|d&~l)+u[2]-51403784|0)<<9|g>>>23)+f|0)&d|f&~d)+u[7]+1735328473|0)<<14|l>>>18)+g|0)&f|g&~f)+u[12]-1926607734|0)<<20|d>>>12)+l|0,d=((d+=((l=((l+=((g=((g+=((f=((f+=(d^l^g)+u[5]-378558|0)<<4|f>>>28)+d|0)^d^l)+u[8]-2022574463|0)<<11|g>>>21)+f|0)^f^d)+u[11]+1839030562|0)<<16|l>>>16)+g|0)^g^f)+u[14]-35309556|0)<<23|d>>>9)+l|0,d=((d+=((l=((l+=((g=((g+=((f=((f+=(d^l^g)+u[1]-1530992060|0)<<4|f>>>28)+d|0)^d^l)+u[4]+1272893353|0)<<11|g>>>21)+f|0)^f^d)+u[7]-155497632|0)<<16|l>>>16)+g|0)^g^f)+u[10]-1094730640|0)<<23|d>>>9)+l|0,d=((d+=((l=((l+=((g=((g+=((f=((f+=(d^l^g)+u[13]+681279174|0)<<4|f>>>28)+d|0)^d^l)+u[0]-358537222|0)<<11|g>>>21)+f|0)^f^d)+u[3]-722521979|0)<<16|l>>>16)+g|0)^g^f)+u[6]+76029189|0)<<23|d>>>9)+l|0,d=((d+=((l=((l+=((g=((g+=((f=((f+=(d^l^g)+u[9]-640364487|0)<<4|f>>>28)+d|0)^d^l)+u[12]-421815835|0)<<11|g>>>21)+f|0)^f^d)+u[15]+530742520|0)<<16|l>>>16)+g|0)^g^f)+u[2]-995338651|0)<<23|d>>>9)+l|0,d=((d+=((g=((g+=(d^((f=((f+=(l^(d|~g))+u[0]-198630844|0)<<6|f>>>26)+d|0)|~l))+u[7]+1126891415|0)<<10|g>>>22)+f|0)^((l=((l+=(f^(g|~d))+u[14]-1416354905|0)<<15|l>>>17)+g|0)|~f))+u[5]-57434055|0)<<21|d>>>11)+l|0,d=((d+=((g=((g+=(d^((f=((f+=(l^(d|~g))+u[12]+1700485571|0)<<6|f>>>26)+d|0)|~l))+u[3]-1894986606|0)<<10|g>>>22)+f|0)^((l=((l+=(f^(g|~d))+u[10]-1051523|0)<<15|l>>>17)+g|0)|~f))+u[1]-2054922799|0)<<21|d>>>11)+l|0,d=((d+=((g=((g+=(d^((f=((f+=(l^(d|~g))+u[8]+1873313359|0)<<6|f>>>26)+d|0)|~l))+u[15]-30611744|0)<<10|g>>>22)+f|0)^((l=((l+=(f^(g|~d))+u[6]-1560198380|0)<<15|l>>>17)+g|0)|~f))+u[13]+1309151649|0)<<21|d>>>11)+l|0,d=((d+=((g=((g+=(d^((f=((f+=(l^(d|~g))+u[4]-145523070|0)<<6|f>>>26)+d|0)|~l))+u[11]-1120210379|0)<<10|g>>>22)+f|0)^((l=((l+=(f^(g|~d))+u[2]+718787259|0)<<15|l>>>17)+g|0)|~f))+u[9]-343485551|0)<<21|d>>>11)+l|0,w[0]=f+w[0]|0,w[1]=d+w[1]|0,w[2]=l+w[2]|0,w[3]=g+w[3]|0}function r(w){var u,f=[];for(u=0;u<64;u+=4)f[u>>2]=w.charCodeAt(u)+(w.charCodeAt(u+1)<<8)+(w.charCodeAt(u+2)<<16)+(w.charCodeAt(u+3)<<24);return f}function s(w){var u,f=[];for(u=0;u<64;u+=4)f[u>>2]=w[u]+(w[u+1]<<8)+(w[u+2]<<16)+(w[u+3]<<24);return f}function c(w){var u,f,d,l,g,R,I=w.length,D=[1732584193,-271733879,-1732584194,271733878];for(u=64;u<=I;u+=64)n(D,r(w.substring(u-64,u)));for(f=(w=w.substring(u-64)).length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0;u<f;u+=1)d[u>>2]|=w.charCodeAt(u)<<(u%4<<3);if(d[u>>2]|=128<<(u%4<<3),u>55)for(n(D,d),u=0;u<16;u+=1)d[u]=0;return l=(l=8*I).toString(16).match(/(.*?)(.{0,8})$/),g=parseInt(l[2],16),R=parseInt(l[1],16)||0,d[14]=g,d[15]=R,n(D,d),D}function h(w){var u,f,d,l,g,R,I=w.length,D=[1732584193,-271733879,-1732584194,271733878];for(u=64;u<=I;u+=64)n(D,s(w.subarray(u-64,u)));for(f=(w=u-64<I?w.subarray(u-64):new Uint8Array(0)).length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0;u<f;u+=1)d[u>>2]|=w[u]<<(u%4<<3);if(d[u>>2]|=128<<(u%4<<3),u>55)for(n(D,d),u=0;u<16;u+=1)d[u]=0;return l=(l=8*I).toString(16).match(/(.*?)(.{0,8})$/),g=parseInt(l[2],16),R=parseInt(l[1],16)||0,d[14]=g,d[15]=R,n(D,d),D}function v(w){var u,f="";for(u=0;u<4;u+=1)f+=t[w>>8*u+4&15]+t[w>>8*u&15];return f}function b(w){var u;for(u=0;u<w.length;u+=1)w[u]=v(w[u]);return w.join("")}function C(w){return/[\u0080-\uFFFF]/.test(w)&&(w=unescape(encodeURIComponent(w))),w}function x(w,u){var f,d=w.length,l=new ArrayBuffer(d),g=new Uint8Array(l);for(f=0;f<d;f+=1)g[f]=w.charCodeAt(f);return u?g:l}function S(w){return String.fromCharCode.apply(null,new Uint8Array(w))}function k(w,u,f){var d=new Uint8Array(w.byteLength+u.byteLength);return d.set(new Uint8Array(w)),d.set(new Uint8Array(u),w.byteLength),f?d:d.buffer}function M(w){var u,f=[],d=w.length;for(u=0;u<d-1;u+=2)f.push(parseInt(w.substr(u,2),16));return String.fromCharCode.apply(String,f)}function F(){this.reset()}return b(c("hello")),typeof ArrayBuffer>"u"||ArrayBuffer.prototype.slice||function(){function w(u,f){return(u=0|u||0)<0?Math.max(u+f,0):Math.min(u,f)}ArrayBuffer.prototype.slice=function(u,f){var d,l,g,R,I=this.byteLength,D=w(u,I),j=I;return f!==e&&(j=w(f,I)),D>j?new ArrayBuffer(0):(d=j-D,l=new ArrayBuffer(d),g=new Uint8Array(l),R=new Uint8Array(this,D,d),g.set(R),l)}}(),F.prototype.append=function(w){return this.appendBinary(C(w)),this},F.prototype.appendBinary=function(w){this._buff+=w,this._length+=w.length;var u,f=this._buff.length;for(u=64;u<=f;u+=64)n(this._hash,r(this._buff.substring(u-64,u)));return this._buff=this._buff.substring(u-64),this},F.prototype.end=function(w){var u,f,d=this._buff,l=d.length,g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(u=0;u<l;u+=1)g[u>>2]|=d.charCodeAt(u)<<(u%4<<3);return this._finish(g,l),f=b(this._hash),w&&(f=M(f)),this.reset(),f},F.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},F.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},F.prototype.setState=function(w){return this._buff=w.buff,this._length=w.length,this._hash=w.hash,this},F.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},F.prototype._finish=function(w,u){var f,d,l,g=u;if(w[g>>2]|=128<<(g%4<<3),g>55)for(n(this._hash,w),g=0;g<16;g+=1)w[g]=0;f=(f=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),d=parseInt(f[2],16),l=parseInt(f[1],16)||0,w[14]=d,w[15]=l,n(this._hash,w)},F.hash=function(w,u){return F.hashBinary(C(w),u)},F.hashBinary=function(w,u){var f=b(c(w));return u?M(f):f},F.ArrayBuffer=function(){this.reset()},F.ArrayBuffer.prototype.append=function(w){var u,f=k(this._buff.buffer,w,!0),d=f.length;for(this._length+=w.byteLength,u=64;u<=d;u+=64)n(this._hash,s(f.subarray(u-64,u)));return this._buff=u-64<d?new Uint8Array(f.buffer.slice(u-64)):new Uint8Array(0),this},F.ArrayBuffer.prototype.end=function(w){var u,f,d=this._buff,l=d.length,g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(u=0;u<l;u+=1)g[u>>2]|=d[u]<<(u%4<<3);return this._finish(g,l),f=b(this._hash),w&&(f=M(f)),this.reset(),f},F.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},F.ArrayBuffer.prototype.getState=function(){var w=F.prototype.getState.call(this);return w.buff=S(w.buff),w},F.ArrayBuffer.prototype.setState=function(w){return w.buff=x(w.buff,!0),F.prototype.setState.call(this,w)},F.ArrayBuffer.prototype.destroy=F.prototype.destroy,F.ArrayBuffer.prototype._finish=F.prototype._finish,F.ArrayBuffer.hash=function(w,u){var f=b(h(new Uint8Array(w)));return u?M(f):f},F}();var ut=bt;const ct=[];class re{static addHandler(t,n,r){t.addEventListener?t.addEventListener(n,r,!1):t.attachEvent?t.attachEvent("on"+n,r):t["on"+n]=r}static windowResizeHandler(t){re.addHandler(window,"resize",t)}static fullscreenEnabled(){const t=window.document;return document.fullscreenEnabled||window.fullScreen||t.mozFullscreenEnabled||t.webkitIsFullScreen}static fullScreen(t,n){if(n){const r=window.document;let s=window.document.exitFullscreen||r.msExitFullscreen||r.mozCancelFullScreen||r.webkitCancelFullScreen;typeof s<"u"&&s?s.call(window.document):typeof window.ActiveXObject<"u"&&new window.ActiveXObject("WScript.Shell")?.SendKeys("{F11}")}else{let r=t;r||(r=window.document.documentElement);let s=r.requestFullScreen||r.webkitRequestFullScreen||r.mozRequestFullScreen||r.msRequestFullScreen;typeof s<"u"&&s?s.call(r):typeof window.ActiveXObject<"u"&&new window.ActiveXObject("WScript.Shell")?.SendKeys("{F11}")}}static requestFullScreen(t=window.document.documentElement){let n=t;var r=n.requestFullScreen||n.webkitRequestFullScreen||n.mozRequestFullScreen||n.msRequestFullScreen;if(r)r.call(n);else if(typeof window.ActiveXObject<"u"){var s=new window.ActiveXObject("WScript.Shell");s!==null&&s.SendKeys("{F11}")}}static exitFullScreen(){const t=window.document;var n=document.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.webkitExitFullscreen;if(n)n.call(document);else if(typeof window.ActiveXObject<"u"){var r=new window.ActiveXObject("WScript.Shell");r!==null&&r.SendKeys("{F11}")}}static fullScreenElement(){return window.document.fullscreenElement||window.document.webkitFullscreenElement||window.document.mozFullscreenElement||window.document.msFullscreenElement}static isFullScreen(){return!!re.fullScreenElement()}static onFullScreenChanged(t){let n;"onfullscreenchange"in window.document?n="fullscreenchange":"onwebkitfullscreenchange"in window.document?n="webkitfullscreenchange":"onmozfullscreenchange"in window.document&&(n="mozfullscreenchange"),n?document.addEventListener(n,function(){const r=re.isFullScreen();t(r)}):document.addEventListener("MSFullscreenChange",function(){const r=re.isFullScreen();t(r)})}static stringifyCircularHandler(t,n){if(typeof n=="object"&&n!==null){if(ct.indexOf(n)!==-1)return;ct.push(n)}return n}static jsonStringify(t){if(!t)return"";const n=JSON.stringify(t,re.stringifyCircularHandler);return ct.length=0,n}static jsonParse(t){const n=re.jsonStringify(t);if(n.length>1)return JSON.parse(n)}static getObjectURL(t){let n;const r=window;return r.createObjcectURL!=null?n=r.createOjcectURL(t):window.URL!=null?n=window.URL.createObjectURL(t):window.webkitURL!=null&&(n=window.webkitURL.createObjectURL(t)),n}static getFileShortMD5(t,n){const r=File.prototype,s=r.slice||r.mozSlice||r.webkitSlice,c=t,h=2097152,v=new ut.ArrayBuffer,b=new FileReader;b.onload=function(C){v.append(C.target?.result);const x=v.end();n({isOK:!0,data:x})},b.onerror=function(){const C="\u8BA1\u7B97\u6587\u4EF6\u7B80\u5355\u6458\u8981\u9519\u8BEF\uFF01";console.warn(C),n({isOK:!1,data:C})},function(){const C=0+h>=c.size?c.size:0+h;b.readAsArrayBuffer(s.call(c,0,C))}()}static getFileMD5(t,n){const r=File.prototype,s=r.slice||r.mozSlice||r.webkitSlice,c=t,h=2097152,v=Math.ceil(c.size/h);let b=0;const C=new ut.ArrayBuffer,x=new FileReader;function S(){const k=b*h,M=k+h>=c.size?c.size:k+h;x.readAsArrayBuffer(s.call(c,k,M))}x.onload=function(k){if(C.append(k.target?.result),b++,b<v)S();else{const M=C.end();n({isOK:!0,data:M})}},x.onerror=function(){const k=`${c.name}:\u8BA1\u7B97\u6587\u4EF6\u7B80\u5355\u6458\u8981\u9519\u8BEF\uFF01`;console.warn(k),n({isOK:!1,data:k})},S()}static MD5(t,n=!1){return ut.hash(t,n)}static copyTextByCommand(t){return new Promise((n,r)=>{const s=document.createElement("input");s.value=t,document.body.appendChild(s),s.select(),document.execCommand("copy"),s.remove(),n(!0)})}static copyText=t=>navigator.clipboard?navigator.clipboard.writeText(t).then(function(){return!0},function(n){return!1}):re.copyTextByCommand(t);static copyElementTextByCommand(t){const n=document.createRange();n.selectNode(document.getElementById(t));const r=window.getSelection();r.rangeCount>0&&r.removeAllRanges(),r.addRange(n);try{return document.execCommand("copy"),r.removeRange(n),!0}catch(s){return r.removeRange(n),console.error("Command\u590D\u5236\u6587\u672C\u9519\u8BEF",s),!1}}static copyElementText(t){if(!navigator.clipboard)return re.copyElementTextByCommand(t);const n=document.createRange();n.selectNode(document.getElementById(t));const r=window.getSelection();return r.rangeCount>0&&r.removeAllRanges(),r.addRange(n),navigator.clipboard.writeText(r).then(function(){return r.removeRange(n),!0},function(s){return r.removeRange(n),console.error("Clipboard\u590D\u5236\u6587\u672C\u9519\u8BEF",s),!1})}static setGrayMode(t){re.toggleClass(t,"grayMode",document.documentElement)}static toggleClass(t,n,r){const s=r||document.body;let{className:c}=s;c=c.replace(n,""),s.className=t?`${c} ${n} `:c}static setCssVar(t,n,r=document.documentElement){r.style.setProperty(t,n)}static dispatchWindowResize(){const t=new Event("resize");window.dispatchEvent(t)}static dispatchElementEvent(t,n="click",r){let s;if(s=jn(t)?document.getElementById(t):t,s){const c=new Event(n,{bubbles:!0,cancelable:!0});r&&s.addEventListener("ev",h=>{r(h)},!1),s.dispatchEvent(c)}}}class On{static isNullOrEmpty=t=>t===null||t===""||t===void 0||t.length===0;static isNotEmpty=t=>!(t===null||t===""||t===void 0||t.length===0);static toHump(t){return t.replace(/[\-\/\_](\w)/g,(n,r)=>r.toUpperCase()).replace("views","")}}class Tt{prefixKey;storage;constructor(t="",n=localStorage){this.prefixKey=t,this.storage=n}getKey(t){return`${this.prefixKey}${t}`.toUpperCase()}set(t,n,r=604800){const s=JSON.stringify({value:n,expire:r!==null?new Date().getTime()+1e3*r:null});this.storage.setItem(this.getKey(t),s)}get(t,n=null){const r=this.storage.getItem(this.getKey(t));if(r)try{const s=JSON.parse(r),{value:c,expire:h}=s;if(h===null||h>=Date.now())return c;this.remove(this.getKey(t))}catch{return n}return n}getJsonObject(t){const n=this.storage.getItem(this.getKey(t));if(n)try{const r=JSON.parse(n);if(r.expire===null||r.expire>=Date.now())return r;this.remove(this.getKey(t))}catch{return}}remove(t){this.storage.removeItem(this.getKey(t))}clear(){this.storage.clear()}setCookie(t,n,r=604800){document.cookie=`${this.getKey(t)}=${n}; Max-Age=${r}`}getCookie(t){const n=document.cookie.split("; ");for(let r=0,s=n.length;r<s;r++){const c=n[r].split("=");if(c[0]===this.getKey(t))return c[1]}return""}removeCookie(t){this.setCookie(t,1,-1)}clearCookie(){const t=document.cookie.match(/[^ =;]+(?==)/g);if(t)for(let n=t.length;n--;)document.cookie=t[n]+"=0;expire="+new Date(0).toUTCString()}}new Tt("",localStorage);function Ct(){let e=[];const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var n=0;n<36;n++){const s=Math.floor(16*Math.random());e[n]=t.substring(s,s+1)}e[14]="4";const r=3&Number(e[19])|8;return e[19]=t.substring(r,r+1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}function pi(){var e=new Date().getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(n==="x"?r:3&r|8).toString(16)});return t}var ln;function vo(e){return{all:e=e||new Map,on(t,n){const r=e?.get(t);r&&r.push(n)||e?.set(t,[n])},off(t,n){const r=e?.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit(t,n){(e?.get(t)||[]).slice().map(r=>{r(n)}),(e?.get("*")||[]).slice().map(r=>{r(t,n)})}}}(function(e){e[e.RGBA=0]="RGBA",e[e.Hex=1]="Hex",e[e.Hsla=2]="Hsla"})(ln||(ln={}));const Ve=vo(),ne={HproseServiceErrorEvent:"HproseServiceError",WebAPIErrorEvent:"WebAPIError",AlertInfoEvent:"AlertInfoEvent",CommonWarnEvent:"CommonWarnEvent",WidgetLoadedEvent:"WidgetLoaded",WidgetUnLoadedEvent:"WidgetUnLoaded",WidgetLoadedErrorEvent:"WidgetLoadedError",WidgetVisibleChanged:"WidgetVisibleChanged",AxiosRequestErrorEvent:"AxiosRequestErrorEvent"},yo=(e,t)=>{const n=document.createElement("a");n.download=t,n.style.display="none";const r=new Blob([e],{type:"application/octet-stream"});n.href=URL.createObjectURL(r),document.body.appendChild(n),n.click(),document.body.removeChild(n)};function gi(e,t){const n=window.URL||window.webkitURL||window,r=new Blob([e]),s=document.createElement("a");s.href=n.createObjectURL(r),s.download=t,s.click(),n.revokeObjectURL(s.href)}const wo=(e,t)=>{const n=JSON.stringify(e,null,2);t?yo(n,t+".json"):Ve.emit(ne.CommonWarnEvent,"\u53C2\u6570JsonID\u4E0D\u80FD\u4E3A\u7A7A\uFF01")};var dn,fn,lt,Le={},bo={get exports(){return Le},set exports(e){Le=e}};fn=ve,lt=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function s(F,w){var u=F[w];if(typeof u.bind=="function")return u.bind(F);try{return Function.prototype.bind.call(u,F)}catch{return function(){return Function.prototype.apply.apply(u,[F,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function h(F){return F==="debug"&&(F="log"),typeof console!==t&&(F==="trace"&&n?c:console[F]!==void 0?s(console,F):console.log!==void 0?s(console,"log"):e)}function v(F,w){for(var u=0;u<r.length;u++){var f=r[u];this[f]=u<F?e:this.methodFactory(f,F,w)}this.log=this.debug}function b(F,w,u){return function(){typeof console!==t&&(v.call(this,w,u),this[F].apply(this,arguments))}}function C(F,w,u){return h(F)||b.apply(this,arguments)}function x(F,w,u){var f,d=this;w=w??"WARN";var l="loglevel";function g(){var I;if(typeof window!==t&&l){try{I=window.localStorage[l]}catch{}if(typeof I===t)try{var D=window.document.cookie,j=D.indexOf(encodeURIComponent(l)+"=");j!==-1&&(I=/^([^;]+)/.exec(D.slice(j))[1])}catch{}return d.levels[I]===void 0&&(I=void 0),I}}typeof F=="string"?l+=":"+F:typeof F=="symbol"&&(l=void 0),d.name=F,d.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},d.methodFactory=u||C,d.getLevel=function(){return f},d.setLevel=function(I,D){if(typeof I=="string"&&d.levels[I.toUpperCase()]!==void 0&&(I=d.levels[I.toUpperCase()]),!(typeof I=="number"&&I>=0&&I<=d.levels.SILENT))throw"log.setLevel() called with invalid level: "+I;if(f=I,D!==!1&&function(j){var z=(r[j]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=z)}catch{}try{window.document.cookie=encodeURIComponent(l)+"="+z+";"}catch{}}}(I),v.call(d,I,F),typeof console===t&&I<d.levels.SILENT)return"No console available for logging"},d.setDefaultLevel=function(I){w=I,g()||d.setLevel(I,!1)},d.resetLevel=function(){d.setLevel(w,!1),function(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch{}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}()},d.enableAll=function(I){d.setLevel(d.levels.TRACE,I)},d.disableAll=function(I){d.setLevel(d.levels.SILENT,I)};var R=g();R==null&&(R=w),d.setLevel(R,!1)}var S=new x,k={};S.getLogger=function(F){if(typeof F!="symbol"&&typeof F!="string"||F==="")throw new TypeError("You must supply a name when creating a logger.");var w=k[F];return w||(w=k[F]=new x(F,S.getLevel(),S.methodFactory)),w};var M=typeof window!==t?window.log:void 0;return S.noConflict=function(){return typeof window!==t&&window.log===S&&(window.log=M),S},S.getLoggers=function(){return k},S.default=S,S},(dn=bo).exports?dn.exports=lt():fn.log=lt();let hn=!1;const N={Config:SysConfig,EventBus:Ve,DefaultProxyClient:null,Axios:fo,Logger:e=>{hn||(SysConfig.UI.ProductLog?Le.enableAll():Le.setDefaultLevel("warn"),hn=!0);const t=e||"default";return Le.getLogger(t)}},Un="access_token",be=new Tt("user",localStorage);function xe(){return be.get(Un)}function zn(){be.remove(Un)}function Co(){return xe()?.refresh}function Mt(e,t,n,r="json",s){const c={baseURL:N.Config.ServiceURL.DefaultWebAPI,timeout:6e4,params:e,paramsSerializer:{serialize:function(h){return lo.stringify(h,{indices:!1,arrayFormat:"repeat"})}},headers:{"Content-Type":"application/json",Authorization:"bearer "+xe()?.token},responseType:r,cancelToken:s};if(n)for(let h in n)c.headers[h]=n[h];return N.SystemID&&(c.headers.sysid=N.SystemID,N.SystemGroup&&(c.headers.sysgroup=N.SystemGroup)),t&&(c.baseURL=t),c}function ke(e,t,n,r,s="json",c,h){const v=Mt(n,t,r,s,c);return h&&h>=2e4&&(v.timeout=h),N.Axios?.get(e,v).catch(function(b){Nt(b,t,e,"Get")})}function Nt(e,t,n,r="Get"){const s=`${t}${n}`;if(e&&e.response){let c=!1;const h=e.response.status;switch(h){case 400:e.message="\u9519\u8BEF\u8BF7\u6C42";break;case 401:e.message="\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55";break;case 403:e.message="\u62D2\u7EDD\u8BBF\u95EE";break;case 404:e.message="\u8BF7\u6C42\u9519\u8BEF,\u672A\u627E\u5230\u8BE5\u8D44\u6E90";break;case 405:e.message="\u8BF7\u6C42\u65B9\u6CD5\u672A\u5141\u8BB8";break;case 408:e.message="\u8BF7\u6C42\u8D85\u65F6";break;case 500:const b=e.response.data;if(b){const C=b.indexOf(":"),x=b.indexOf(`
`);if(C>0&&x-C>2){const S=b.substring(C+2,x);S.indexOf("System.Exception")>0?e.message="\u540E\u53F0\u670D\u52A1\u5185\u90E8\u51FA\u9519\uFF01":(c=!0,e.message=S)}}else e.message="\u670D\u52A1\u5668\u7AEF\u51FA\u9519";break;case 501:e.message="\u7F51\u7EDC\u672A\u5B9E\u73B0";break;case 502:e.message="\u7F51\u7EDC\u9519\u8BEF";break;case 503:e.message="\u670D\u52A1\u4E0D\u53EF\u7528";break;case 504:e.message="\u7F51\u7EDC\u8D85\u65F6";break;case 505:e.message="http\u7248\u672C\u4E0D\u652F\u6301\u8BE5\u8BF7\u6C42";break;default:e.message=`\u8FDE\u63A5\u9519\u8BEF${e.response.status}`}let v={address:s,code:h,isExceptionInfo:c,message:e.message,result:e.response.data};if(N.EventBus.emit(ne.AxiosRequestErrorEvent,v),c)throw new Error(e.message)}else{if(e?.message)throw new Error(e.message);console.error(e,"Http\u8BF7\u6C42\u9519\u8BEF!")}}function mi(e,t,n,r,s,c="json",h){const v=Mt(r,t,s,c);h&&h>=2e4&&(v.timeout=h),v.headers["Content-Type"]="multipart/form-data";const b=function(C){let x=new FormData;return C&&Object.keys(C).forEach(S=>{if(!C)return;let k=C[S];k!=null&&(go(k)?k.forEach(M=>{x.append(S,pn(M))}):x.append(S,pn(k)))}),x}(n);return N.Axios?.post(e,b,v).catch(function(C){Nt(C,t,e,"Post")})}function Eo(e,t,n,r,s,c="json",h){const v=Mt(r,t,s,c);return h&&h>=2e4&&(v.timeout=h),N.Axios?.post(e,n,v).catch(function(b){Nt(b,t,e,"Post")})}function pn(e){return e instanceof Blob?e:e.toString()}var Et={},So={get exports(){return Et},set exports(e){Et=e}},xo=typeof window<"u"?window:ve!==void 0?ve:typeof self<"u"?self:{},_o=function(e){if(!e)return!1;var t=Bo.call(e);return t==="[object Function]"||typeof e=="function"&&t!=="[object RegExp]"||typeof window<"u"&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},Bo=Object.prototype.toString,dt=function(e){return e.replace(/^\s+|\s+$/g,"")},Fo=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)Io.call(n,r)&&(e[r]=n[r])}return e},Io=Object.prototype.hasOwnProperty,gn=xo,Ao=_o,Lo=function(e){if(!e)return{};for(var t,n={},r=dt(e).split(`
`),s=0;s<r.length;s++){var c=r[s],h=c.indexOf(":"),v=dt(c.slice(0,h)).toLowerCase(),b=dt(c.slice(h+1));n[v]===void 0?n[v]=b:(t=n[v],Object.prototype.toString.call(t)==="[object Array]"?n[v].push(b):n[v]=[n[v],b])}return n},Do=Fo;function Wn(e,t,n){var r=e;return Ao(t)?(n=t,typeof e=="string"&&(r={uri:e})):r=Do(t,{uri:e}),r.callback=n,r}function ce(e,t,n){return Hn(t=Wn(e,t,n))}function Hn(e){if(e.callback===void 0)throw new Error("callback argument missing");var t=!1,n=function(f,d,l){t||(t=!0,e.callback(f,d,l))};function r(){var f=void 0;if(f=b.response?b.response:b.responseText||function(d){try{if(d.responseType==="document")return d.responseXML;var l=d.responseXML&&d.responseXML.documentElement.nodeName==="parsererror";if(d.responseType===""&&!l)return d.responseXML}catch{}return null}(b),w)try{f=JSON.parse(f)}catch{}return f}function s(f){return clearTimeout(C),f instanceof Error||(f=new Error(""+(f||"Unknown XMLHttpRequest Error"))),f.statusCode=0,n(f,u)}function c(){if(!v){var f;clearTimeout(C),f=e.useXDR&&b.status===void 0?200:b.status===1223?204:b.status;var d=u,l=null;return f!==0?(d={body:r(),statusCode:f,method:S,headers:{},url:x,rawRequest:b},b.getAllResponseHeaders&&(d.headers=Lo(b.getAllResponseHeaders()))):l=new Error("Internal XMLHttpRequest Error"),n(l,d,d.body)}}var h,v,b=e.xhr||null;b||(b=e.cors||e.useXDR?new ce.XDomainRequest:new ce.XMLHttpRequest);var C,x=b.url=e.uri||e.url,S=b.method=e.method||"GET",k=e.body||e.data,M=b.headers=e.headers||{},F=!!e.sync,w=!1,u={body:void 0,headers:{},statusCode:0,method:S,url:x,rawRequest:b};if("json"in e&&e.json!==!1&&(w=!0,M.accept||M.Accept||(M.Accept="application/json"),S!=="GET"&&S!=="HEAD"&&(M["content-type"]||M["Content-Type"]||(M["Content-Type"]="application/json"),k=JSON.stringify(e.json===!0?k:e.json))),b.onreadystatechange=function(){b.readyState===4&&setTimeout(c,0)},b.onload=c,b.onerror=s,b.onprogress=function(){},b.onabort=function(){v=!0},b.ontimeout=s,b.open(S,x,!F,e.username,e.password),F||(b.withCredentials=!!e.withCredentials),!F&&e.timeout>0&&(C=setTimeout(function(){if(!v){v=!0,b.abort("timeout");var f=new Error("XMLHttpRequest timeout");f.code="ETIMEDOUT",s(f)}},e.timeout)),b.setRequestHeader)for(h in M)M.hasOwnProperty(h)&&b.setRequestHeader(h,M[h]);else if(e.headers&&!function(f){for(var d in f)if(f.hasOwnProperty(d))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(b.responseType=e.responseType),"beforeSend"in e&&typeof e.beforeSend=="function"&&e.beforeSend(b),b.send(k||null),b}So.exports=ce,Et.default=ce,ce.XMLHttpRequest=gn.XMLHttpRequest||function(){},ce.XDomainRequest="withCredentials"in new ce.XMLHttpRequest?ce.XMLHttpRequest:gn.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(e){ce[e==="delete"?"del":e]=function(t,n,r){return(n=Wn(t,n,r)).method=e.toUpperCase(),Hn(n)}});class $e{hproseURL;client;hproseProxy;static httpTransport;constructor(t){if(t&&!On.isNullOrEmpty(t)){if($e.httpTransport||($e.httpTransport=new ao),this.client=new uo(t),!this.client)throw Error("Hprose Client\u521D\u59CB\u5316\u9519\u8BEF");this.hproseURL=t,this.init()}}init(){this.client&&this.client.useServiceAsync().then(t=>{this.hproseProxy=t}).catch(t=>{String(t).indexOf("find this method ~")>0?(this.hproseProxy=this.client?.useService(),console.warn("\u65E7\u7248\u672C\u4E0D\u652F\u6301useServiceAsync")):Ve.emit(ne.HproseServiceErrorEvent,"\u521D\u59CB\u5316\u9ED8\u8BA4Hprose!"),console.warn(t)})}async getProxy(){if(!this.hproseProxy)try{this.client&&(this.hproseProxy=await this.client.useServiceAsync())}catch(t){console.warn(t),this.hproseProxy=this.client?.useService()}return this.hproseProxy}async invoke(t,n,r){if(this.client)return await this.client.invoke(t,n,r)}encode(t,n,r){if(this.client)return this.client.codec.encode(t,n,r)}decode(t,n){if(this.client)return this.client.codec.decode(t,n)}}class ko{hproseClient;hpProxyObj;defaultContext=new at;constructor(t){this.hproseClient=new $e(t),this.hpProxyObj=null}getClientContext(t,n){const r={};n&&(r.requestHeaders=n);const s=xe();r.httpRequestHeaders=t||{};const c=r.httpRequestHeaders;return s&&(c.token=s.token),N.SystemID&&(c.sysid=N.SystemID,N.SystemGroup&&(c.sysgroup=N.SystemGroup)),new at(r)}async getHproseProxy(){if(!this.hproseClient)throw new Error("HproseClient\u5BF9\u8C61\u4E3A\u6784\u5EFA\uFF0C\u65E0\u6CD5\u8C03\u7528Hprose\u65B9\u6CD5");if(!this.hpProxyObj){const t=await this.hproseClient.getProxy();this.hpProxyObj=t}return this.hpProxyObj||Ve.emit(ne.HproseServiceErrorEvent,"HproseProxy\u5BF9\u8C61\u4E3A\u7A7A\uFF0C\u65E0\u6CD5\u8C03\u7528Hprose\u65B9\u6CD5\uFF01"),this.hpProxyObj}async hproseInvoke(t,n,r){if(!this.hproseClient)throw new Error("HproseClient\u5BF9\u8C61\u4E3A\u6784\u5EFA\uFF0C\u65E0\u6CD5\u8C03\u7528Hprose\u65B9\u6CD5");return await this.hproseClient.invoke(t,n,r)}async hproseInvokeContext(t,n,...r){if(!this.hproseClient)throw new Error("HproseClient\u5BF9\u8C61\u4E3A\u6784\u5EFA\uFF0C\u65E0\u6CD5\u8C03\u7528Hprose\u65B9\u6CD5");const s=xe();return console.log(s,"userToken3"),s&&(n||(n=new at({httpRequestHeaders:{token:s.token}}))),await this.hproseClient.invoke(t,r,n)}async hproseInvokeEncode(t){const n=new cn(t).toBytes(),r=await this.hproseClient.client?.request(n,this.defaultContext);return r&&this.hproseClient.client?.codec.decode(r,this.defaultContext)}encodeRequest(t,...n){const r=this.hproseClient.client?.codec?.encode(t,n,this.defaultContext);return cn.toString(r)}}class Ro{message;eventBus;constructor(t,n){t&&(this.message=t),n&&(this.eventBus=n)}msg(t,n=3,r="success"){if(this.message)if(typeof this.message=="function")this.message({type:r,message:t,duration:n});else switch(r){case"info":this.message.info(t,n);break;case"success":this.message.success(t,n);break;case"warning":this.message.warn?this.message.warn(t,n):this.message.warning&&this.message.warning(t,n);break;case"error":this.message.error(t,n)}else{switch(r){case"info":case"success":console.log(t);break;case"warning":console.warn(t);break;case"error":r="dark",console.error(t)}this.eventBus&&this.eventBus.emit(ne.AlertInfoEvent,{type:r,info:t})}}info(t,n=3){this.msg(t,n,"info")}warn(t,n=3){this.msg(t,n,"warning")}err(t,n=3){this.msg(t,n,"error")}success(t,n=3){this.msg(t,n,"success")}}const vi=function(e,t,n){!N.Config.DefaultHproseAPI&&N.Config.ServiceURL&&(N.Config.DefaultHproseAPI=N.Config.ServiceURL.DefaultHproseAPI),N.Config.DefaultHproseAPI&&On.isNotEmpty(N.Config.DefaultHproseAPI)&&(N.DefaultProxyClient=new ko(N.Config.DefaultHproseAPI));const r=N.Config.UI.GrayMode;r&&re.setGrayMode(r);const s=new Ro(e,N.EventBus);N.Message=s,N.SystemID=t,N.SystemGroup=n,N.EventBus.on(ne.HproseServiceErrorEvent,c=>{const h=`\u5F53\u524D\u540E\u53F0\u4E1A\u52A1\u670D\u52A1\u4E0D\u53EF\u7528!${c}`;console.warn("Hprose\u8BF7\u6C42\u9519\u8BEF",h)}),N.EventBus.on(ne.WebAPIErrorEvent,c=>{const h=`WebAPI\u540E\u53F0\u670D\u52A1\u4E0D\u53EF\u7528!${c}`;console.warn("WebAPI\u8BF7\u6C42\u9519\u8BEF",h)}),N.EventBus.on(ne.AxiosRequestErrorEvent,c=>{const h=`Http\u8BF7\u6C42'${c.code}'\u9519\u8BEF: ${c.message}`;console.warn("Http\u8BF7\u6C42\u9519\u8BEF",h)}),N.EventBus.on(ne.CommonWarnEvent,c=>{s.warn(c)})},Pn="is_LockScreen",mn=be.get(Pn,!1),Ie={isLock:mn,lockTime:mn=="true"?qn():0};function vn(e){Ie.isLock=e,be.set(Pn,e,10),e&&(zn(),console.log("\u9501\u5C4F\u4E86\u2026\u2026"))}function qn(){let e=3600;return N.Config.UI?.LockTime&&N.Config.UI?.LockTime>=10&&(e=N.Config.UI.LockTime),e}let ft;function St(){clearInterval(ft),!(window.location.href.indexOf("/login")>0||Ie.isLock)&&(vn(!1),Ie.lockTime=qn(),ft=setInterval(()=>{if(Ie.lockTime--,Ie.lockTime<=0)return vn(!0),clearInterval(ft)},1e3))}function yi(){St(),document.addEventListener("mousedown",St)}function wi(){document.removeEventListener("mousedown",St)}function ht(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}(function e(t,n,r){function s(v,b){if(!n[v]){if(!t[v]){if(!b&&ht)return ht(v);if(c)return c(v,!0);var C=new Error("Cannot find module '"+v+"'");throw C.code="MODULE_NOT_FOUND",C}var x=n[v]={exports:{}};t[v][0].call(x.exports,function(S){var k=t[v][1][S];return s(k||S)},x,x.exports,e,t,n,r)}return n[v].exports}for(var c=ht,h=0;h<r.length;h++)s(r[h]);return s})({1:[function(e,t,n){(function(r){var s,c,h=r.MutationObserver||r.WebKitMutationObserver;if(h){var v=0,b=new h(k),C=r.document.createTextNode("");b.observe(C,{characterData:!0}),s=function(){C.data=v=++v%2}}else if(r.setImmediate||r.MessageChannel===void 0)s="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var F=r.document.createElement("script");F.onreadystatechange=function(){k(),F.onreadystatechange=null,F.parentNode.removeChild(F),F=null},r.document.documentElement.appendChild(F)}:function(){setTimeout(k,0)};else{var x=new r.MessageChannel;x.port1.onmessage=k,s=function(){x.port2.postMessage(0)}}var S=[];function k(){var F,w;c=!0;for(var u=S.length;u;){for(w=S,S=[],F=-1;++F<u;)w[F]();u=S.length}c=!1}function M(F){S.push(F)!==1||c||s()}t.exports=M}).call(this,ve!==void 0?ve:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(e,t,n){var r=e(1);function s(){}var c={},h=["REJECTED"],v=["FULFILLED"],b=["PENDING"];function C(l){if(typeof l!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,l!==s&&M(this,l)}function x(l,g,R){this.promise=l,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function S(l,g,R){r(function(){var I;try{I=g(R)}catch(D){return c.reject(l,D)}I===l?c.reject(l,new TypeError("Cannot resolve promise with itself")):c.resolve(l,I)})}function k(l){var g=l&&l.then;if(l&&(typeof l=="object"||typeof l=="function")&&typeof g=="function")return function(){g.apply(l,arguments)}}function M(l,g){var R=!1;function I(U){R||(R=!0,c.reject(l,U))}function D(U){R||(R=!0,c.resolve(l,U))}function j(){g(D,I)}var z=F(j);z.status==="error"&&I(z.value)}function F(l,g){var R={};try{R.value=l(g),R.status="success"}catch(I){R.status="error",R.value=I}return R}function w(l){return l instanceof this?l:c.resolve(new this(s),l)}function u(l){var g=new this(s);return c.reject(g,l)}function f(l){var g=this;if(Object.prototype.toString.call(l)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=l.length,I=!1;if(!R)return this.resolve([]);for(var D=new Array(R),j=0,z=-1,U=new this(s);++z<R;)P(l[z],z);return U;function P(Q,X){function K($){D[X]=$,++j!==R||I||(I=!0,c.resolve(U,D))}g.resolve(Q).then(K,function($){I||(I=!0,c.reject(U,$))})}}function d(l){var g=this;if(Object.prototype.toString.call(l)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=l.length,I=!1;if(!R)return this.resolve([]);for(var D=-1,j=new this(s);++D<R;)z(l[D]);return j;function z(U){g.resolve(U).then(function(P){I||(I=!0,c.resolve(j,P))},function(P){I||(I=!0,c.reject(j,P))})}}t.exports=C,C.prototype.catch=function(l){return this.then(null,l)},C.prototype.then=function(l,g){if(typeof l!="function"&&this.state===v||typeof g!="function"&&this.state===h)return this;var R=new this.constructor(s);return this.state!==b?S(R,this.state===v?l:g,this.outcome):this.queue.push(new x(R,l,g)),R},x.prototype.callFulfilled=function(l){c.resolve(this.promise,l)},x.prototype.otherCallFulfilled=function(l){S(this.promise,this.onFulfilled,l)},x.prototype.callRejected=function(l){c.reject(this.promise,l)},x.prototype.otherCallRejected=function(l){S(this.promise,this.onRejected,l)},c.resolve=function(l,g){var R=F(k,g);if(R.status==="error")return c.reject(l,R.value);var I=R.value;if(I)M(l,I);else{l.state=v,l.outcome=g;for(var D=-1,j=l.queue.length;++D<j;)l.queue[D].callFulfilled(g)}return l},c.reject=function(l,g){l.state=h,l.outcome=g;for(var R=-1,I=l.queue.length;++R<I;)l.queue[R].callRejected(g);return l},C.resolve=w,C.reject=u,C.all=f,C.race=d},{1:1}],3:[function(e,t,n){(function(r){typeof r.Promise!="function"&&(r.Promise=e(2))}).call(this,ve!==void 0?ve:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(e,t,n){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var h=c();function v(){try{if(!h||!h.open)return!1;var o=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),i=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!o||i)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function b(o,i){o=o||[],i=i||{};try{return new Blob(o,i)}catch(p){if(p.name!=="TypeError")throw p;for(var a=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),m=0;m<o.length;m+=1)a.append(o[m]);return a.getBlob(i.type)}}typeof Promise>"u"&&e(3);var C=Promise;function x(o,i){i&&o.then(function(a){i(null,a)},function(a){i(a)})}function S(o,i,a){typeof i=="function"&&o.then(i),typeof a=="function"&&o.catch(a)}function k(o){return typeof o!="string"&&(console.warn(o+" used as a key, but it is not a string."),o=String(o)),o}function M(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var F="local-forage-detect-blob-support",w=void 0,u={},f=Object.prototype.toString,d="readonly",l="readwrite";function g(o){for(var i=o.length,a=new ArrayBuffer(i),m=new Uint8Array(a),p=0;p<i;p++)m[p]=o.charCodeAt(p);return a}function R(o){return new C(function(i){var a=o.transaction(F,l),m=b([""]);a.objectStore(F).put(m,"key"),a.onabort=function(p){p.preventDefault(),p.stopPropagation(),i(!1)},a.oncomplete=function(){var p=navigator.userAgent.match(/Chrome\/(\d+)/),y=navigator.userAgent.match(/Edge\//);i(y||!p||parseInt(p[1],10)>=43)}}).catch(function(){return!1})}function I(o){return typeof w=="boolean"?C.resolve(w):R(o).then(function(i){return w=i})}function D(o){var i=u[o.name],a={};a.promise=new C(function(m,p){a.resolve=m,a.reject=p}),i.deferredOperations.push(a),i.dbReady?i.dbReady=i.dbReady.then(function(){return a.promise}):i.dbReady=a.promise}function j(o){var i=u[o.name].deferredOperations.pop();if(i)return i.resolve(),i.promise}function z(o,i){var a=u[o.name].deferredOperations.pop();if(a)return a.reject(i),a.promise}function U(o,i){return new C(function(a,m){if(u[o.name]=u[o.name]||zt(),o.db){if(!i)return a(o.db);D(o),o.db.close()}var p=[o.name];i&&p.push(o.version);var y=h.open.apply(h,p);i&&(y.onupgradeneeded=function(E){var _=y.result;try{_.createObjectStore(o.storeName),E.oldVersion<=1&&_.createObjectStore(F)}catch(B){if(B.name!=="ConstraintError")throw B;console.warn('The database "'+o.name+'" has been upgraded from version '+E.oldVersion+" to version "+E.newVersion+', but the storage "'+o.storeName+'" already exists.')}}),y.onerror=function(E){E.preventDefault(),m(y.error)},y.onsuccess=function(){var E=y.result;E.onversionchange=function(_){_.target.close()},a(E),j(o)}})}function P(o){return U(o,!1)}function Q(o){return U(o,!0)}function X(o,i){if(!o.db)return!0;var a=!o.db.objectStoreNames.contains(o.storeName),m=o.version<o.db.version,p=o.version>o.db.version;if(m&&(o.version!==i&&console.warn('The database "'+o.name+`" can't be downgraded from version `+o.db.version+" to version "+o.version+"."),o.version=o.db.version),p||a){if(a){var y=o.db.version+1;y>o.version&&(o.version=y)}return!0}return!1}function K(o){return new C(function(i,a){var m=new FileReader;m.onerror=a,m.onloadend=function(p){var y=btoa(p.target.result||"");i({__local_forage_encoded_blob:!0,data:y,type:o.type})},m.readAsBinaryString(o)})}function $(o){return b([g(atob(o.data))],{type:o.type})}function se(o){return o&&o.__local_forage_encoded_blob}function Re(o){var i=this,a=i._initReady().then(function(){var m=u[i._dbInfo.name];if(m&&m.dbReady)return m.dbReady});return S(a,o,o),a}function Je(o){D(o);for(var i=u[o.name],a=i.forages,m=0;m<a.length;m++){var p=a[m];p._dbInfo.db&&(p._dbInfo.db.close(),p._dbInfo.db=null)}return o.db=null,P(o).then(function(y){return o.db=y,X(o)?Q(o):y}).then(function(y){o.db=i.db=y;for(var E=0;E<a.length;E++)a[E]._dbInfo.db=y}).catch(function(y){throw z(o,y),y})}function oe(o,i,a,m){m===void 0&&(m=1);try{var p=o.db.transaction(o.storeName,i);a(null,p)}catch(y){if(m>0&&(!o.db||y.name==="InvalidStateError"||y.name==="NotFoundError"))return C.resolve().then(function(){if(!o.db||y.name==="NotFoundError"&&!o.db.objectStoreNames.contains(o.storeName)&&o.version<=o.db.version)return o.db&&(o.version=o.db.version+1),Q(o)}).then(function(){return Je(o).then(function(){oe(o,i,a,m-1)})}).catch(a);a(y)}}function zt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function rr(o){var i=this,a={db:null};if(o)for(var m in o)a[m]=o[m];var p=u[a.name];p||(p=zt(),u[a.name]=p),p.forages.push(i),i._initReady||(i._initReady=i.ready,i.ready=Re);var y=[];function E(){return C.resolve()}for(var _=0;_<p.forages.length;_++){var B=p.forages[_];B!==i&&y.push(B._initReady().catch(E))}var A=p.forages.slice(0);return C.all(y).then(function(){return a.db=p.db,P(a)}).then(function(L){return a.db=L,X(a,i._defaultConfig.version)?Q(a):L}).then(function(L){a.db=p.db=L,i._dbInfo=a;for(var T=0;T<A.length;T++){var O=A[T];O!==i&&(O._dbInfo.db=a.db,O._dbInfo.version=a.version)}})}function or(o,i){var a=this;o=k(o);var m=new C(function(p,y){a.ready().then(function(){oe(a._dbInfo,d,function(E,_){if(E)return y(E);try{var B=_.objectStore(a._dbInfo.storeName).get(o);B.onsuccess=function(){var A=B.result;A===void 0&&(A=null),se(A)&&(A=$(A)),p(A)},B.onerror=function(){y(B.error)}}catch(A){y(A)}})}).catch(y)});return x(m,i),m}function ir(o,i){var a=this,m=new C(function(p,y){a.ready().then(function(){oe(a._dbInfo,d,function(E,_){if(E)return y(E);try{var B=_.objectStore(a._dbInfo.storeName).openCursor(),A=1;B.onsuccess=function(){var L=B.result;if(L){var T=L.value;se(T)&&(T=$(T));var O=o(T,L.key,A++);O!==void 0?p(O):L.continue()}else p()},B.onerror=function(){y(B.error)}}catch(L){y(L)}})}).catch(y)});return x(m,i),m}function sr(o,i,a){var m=this;o=k(o);var p=new C(function(y,E){var _;m.ready().then(function(){return _=m._dbInfo,f.call(i)==="[object Blob]"?I(_.db).then(function(B){return B?i:K(i)}):i}).then(function(B){oe(m._dbInfo,l,function(A,L){if(A)return E(A);try{var T=L.objectStore(m._dbInfo.storeName);B===null&&(B=void 0);var O=T.put(B,o);L.oncomplete=function(){B===void 0&&(B=null),y(B)},L.onabort=L.onerror=function(){var W=O.error?O.error:O.transaction.error;E(W)}}catch(W){E(W)}})}).catch(E)});return x(p,a),p}function ar(o,i){var a=this;o=k(o);var m=new C(function(p,y){a.ready().then(function(){oe(a._dbInfo,l,function(E,_){if(E)return y(E);try{var B=_.objectStore(a._dbInfo.storeName).delete(o);_.oncomplete=function(){p()},_.onerror=function(){y(B.error)},_.onabort=function(){var A=B.error?B.error:B.transaction.error;y(A)}}catch(A){y(A)}})}).catch(y)});return x(m,i),m}function ur(o){var i=this,a=new C(function(m,p){i.ready().then(function(){oe(i._dbInfo,l,function(y,E){if(y)return p(y);try{var _=E.objectStore(i._dbInfo.storeName).clear();E.oncomplete=function(){m()},E.onabort=E.onerror=function(){var B=_.error?_.error:_.transaction.error;p(B)}}catch(B){p(B)}})}).catch(p)});return x(a,o),a}function cr(o){var i=this,a=new C(function(m,p){i.ready().then(function(){oe(i._dbInfo,d,function(y,E){if(y)return p(y);try{var _=E.objectStore(i._dbInfo.storeName).count();_.onsuccess=function(){m(_.result)},_.onerror=function(){p(_.error)}}catch(B){p(B)}})}).catch(p)});return x(a,o),a}function lr(o,i){var a=this,m=new C(function(p,y){o<0?p(null):a.ready().then(function(){oe(a._dbInfo,d,function(E,_){if(E)return y(E);try{var B=_.objectStore(a._dbInfo.storeName),A=!1,L=B.openKeyCursor();L.onsuccess=function(){var T=L.result;T?o===0||A?p(T.key):(A=!0,T.advance(o)):p(null)},L.onerror=function(){y(L.error)}}catch(T){y(T)}})}).catch(y)});return x(m,i),m}function dr(o){var i=this,a=new C(function(m,p){i.ready().then(function(){oe(i._dbInfo,d,function(y,E){if(y)return p(y);try{var _=E.objectStore(i._dbInfo.storeName).openKeyCursor(),B=[];_.onsuccess=function(){var A=_.result;A?(B.push(A.key),A.continue()):m(B)},_.onerror=function(){p(_.error)}}catch(A){p(A)}})}).catch(p)});return x(a,o),a}function fr(o,i){i=M.apply(this,arguments);var a=this.config();(o=typeof o!="function"&&o||{}).name||(o.name=o.name||a.name,o.storeName=o.storeName||a.storeName);var m,p=this;if(o.name){var y=o.name===a.name&&p._dbInfo.db?C.resolve(p._dbInfo.db):P(o).then(function(E){var _=u[o.name],B=_.forages;_.db=E;for(var A=0;A<B.length;A++)B[A]._dbInfo.db=E;return E});m=o.storeName?y.then(function(E){if(E.objectStoreNames.contains(o.storeName)){var _=E.version+1;D(o);var B=u[o.name],A=B.forages;E.close();for(var L=0;L<A.length;L++){var T=A[L];T._dbInfo.db=null,T._dbInfo.version=_}var O=new C(function(W,H){var G=h.open(o.name,_);G.onerror=function(ae){G.result.close(),H(ae)},G.onupgradeneeded=function(){G.result.deleteObjectStore(o.storeName)},G.onsuccess=function(){var ae=G.result;ae.close(),W(ae)}});return O.then(function(W){B.db=W;for(var H=0;H<A.length;H++){var G=A[H];G._dbInfo.db=W,j(G._dbInfo)}}).catch(function(W){throw(z(o,W)||C.resolve()).catch(function(){}),W})}}):y.then(function(E){D(o);var _=u[o.name],B=_.forages;E.close();for(var A=0;A<B.length;A++)B[A]._dbInfo.db=null;var L=new C(function(T,O){var W=h.deleteDatabase(o.name);W.onerror=function(){var H=W.result;H&&H.close(),O(W.error)},W.onblocked=function(){console.warn('dropInstance blocked for database "'+o.name+'" until all open connections are closed')},W.onsuccess=function(){var H=W.result;H&&H.close(),T(H)}});return L.then(function(T){_.db=T;for(var O=0;O<B.length;O++)j(B[O]._dbInfo)}).catch(function(T){throw(z(o,T)||C.resolve()).catch(function(){}),T})})}else m=C.reject("Invalid arguments");return x(m,i),m}var hr={_driver:"asyncStorage",_initStorage:rr,_support:v(),iterate:ir,getItem:or,setItem:sr,removeItem:ar,clear:ur,length:cr,key:lr,keys:dr,dropInstance:fr};function pr(){return typeof openDatabase=="function"}var le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gr="~~local_forage_type~",Wt=/^~~local_forage_type~([^~]+)~/,Te="__lfsc__:",Qe=Te.length,Ze="arbf",et="blob",Ht="si08",Pt="ui08",qt="uic8",$t="si16",Gt="si32",Xt="ur16",Kt="ui32",Vt="fl32",Yt="fl64",Jt=Qe+Ze.length,Qt=Object.prototype.toString;function Zt(o){var i,a,m,p,y,E=.75*o.length,_=o.length,B=0;o[o.length-1]==="="&&(E--,o[o.length-2]==="="&&E--);var A=new ArrayBuffer(E),L=new Uint8Array(A);for(i=0;i<_;i+=4)a=le.indexOf(o[i]),m=le.indexOf(o[i+1]),p=le.indexOf(o[i+2]),y=le.indexOf(o[i+3]),L[B++]=a<<2|m>>4,L[B++]=(15&m)<<4|p>>2,L[B++]=(3&p)<<6|63&y;return A}function tt(o){var i,a=new Uint8Array(o),m="";for(i=0;i<a.length;i+=3)m+=le[a[i]>>2],m+=le[(3&a[i])<<4|a[i+1]>>4],m+=le[(15&a[i+1])<<2|a[i+2]>>6],m+=le[63&a[i+2]];return a.length%3==2?m=m.substring(0,m.length-1)+"=":a.length%3==1&&(m=m.substring(0,m.length-2)+"=="),m}function mr(o,i){var a="";if(o&&(a=Qt.call(o)),o&&(a==="[object ArrayBuffer]"||o.buffer&&Qt.call(o.buffer)==="[object ArrayBuffer]")){var m,p=Te;o instanceof ArrayBuffer?(m=o,p+=Ze):(m=o.buffer,a==="[object Int8Array]"?p+=Ht:a==="[object Uint8Array]"?p+=Pt:a==="[object Uint8ClampedArray]"?p+=qt:a==="[object Int16Array]"?p+=$t:a==="[object Uint16Array]"?p+=Xt:a==="[object Int32Array]"?p+=Gt:a==="[object Uint32Array]"?p+=Kt:a==="[object Float32Array]"?p+=Vt:a==="[object Float64Array]"?p+=Yt:i(new Error("Failed to get type for BinaryArray"))),i(p+tt(m))}else if(a==="[object Blob]"){var y=new FileReader;y.onload=function(){var E=gr+o.type+"~"+tt(this.result);i(Te+et+E)},y.readAsArrayBuffer(o)}else try{i(JSON.stringify(o))}catch(E){console.error("Couldn't convert value into a JSON string: ",o),i(null,E)}}function vr(o){if(o.substring(0,Qe)!==Te)return JSON.parse(o);var i,a=o.substring(Jt),m=o.substring(Qe,Jt);if(m===et&&Wt.test(a)){var p=a.match(Wt);i=p[1],a=a.substring(p[0].length)}var y=Zt(a);switch(m){case Ze:return y;case et:return b([y],{type:i});case Ht:return new Int8Array(y);case Pt:return new Uint8Array(y);case qt:return new Uint8ClampedArray(y);case $t:return new Int16Array(y);case Xt:return new Uint16Array(y);case Gt:return new Int32Array(y);case Kt:return new Uint32Array(y);case Vt:return new Float32Array(y);case Yt:return new Float64Array(y);default:throw new Error("Unkown type: "+m)}}var nt={serialize:mr,deserialize:vr,stringToBuffer:Zt,bufferToString:tt};function en(o,i,a,m){o.executeSql("CREATE TABLE IF NOT EXISTS "+i.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],a,m)}function yr(o){var i=this,a={db:null};if(o)for(var m in o)a[m]=typeof o[m]!="string"?o[m].toString():o[m];var p=new C(function(y,E){try{a.db=openDatabase(a.name,String(a.version),a.description,a.size)}catch(_){return E(_)}a.db.transaction(function(_){en(_,a,function(){i._dbInfo=a,y()},function(B,A){E(A)})},E)});return a.serializer=nt,p}function de(o,i,a,m,p,y){o.executeSql(a,m,p,function(E,_){_.code===_.SYNTAX_ERR?E.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[i.storeName],function(B,A){A.rows.length?y(B,_):en(B,i,function(){B.executeSql(a,m,p,y)},y)},y):y(E,_)},y)}function wr(o,i){var a=this;o=k(o);var m=new C(function(p,y){a.ready().then(function(){var E=a._dbInfo;E.db.transaction(function(_){de(_,E,"SELECT * FROM "+E.storeName+" WHERE key = ? LIMIT 1",[o],function(B,A){var L=A.rows.length?A.rows.item(0).value:null;L&&(L=E.serializer.deserialize(L)),p(L)},function(B,A){y(A)})})}).catch(y)});return x(m,i),m}function br(o,i){var a=this,m=new C(function(p,y){a.ready().then(function(){var E=a._dbInfo;E.db.transaction(function(_){de(_,E,"SELECT * FROM "+E.storeName,[],function(B,A){for(var L=A.rows,T=L.length,O=0;O<T;O++){var W=L.item(O),H=W.value;if(H&&(H=E.serializer.deserialize(H)),(H=o(H,W.key,O+1))!==void 0)return void p(H)}p()},function(B,A){y(A)})})}).catch(y)});return x(m,i),m}function tn(o,i,a,m){var p=this;o=k(o);var y=new C(function(E,_){p.ready().then(function(){i===void 0&&(i=null);var B=i,A=p._dbInfo;A.serializer.serialize(i,function(L,T){T?_(T):A.db.transaction(function(O){de(O,A,"INSERT OR REPLACE INTO "+A.storeName+" (key, value) VALUES (?, ?)",[o,L],function(){E(B)},function(W,H){_(H)})},function(O){if(O.code===O.QUOTA_ERR){if(m>0)return void E(tn.apply(p,[o,B,a,m-1]));_(O)}})})}).catch(_)});return x(y,a),y}function Cr(o,i,a){return tn.apply(this,[o,i,a,1])}function Er(o,i){var a=this;o=k(o);var m=new C(function(p,y){a.ready().then(function(){var E=a._dbInfo;E.db.transaction(function(_){de(_,E,"DELETE FROM "+E.storeName+" WHERE key = ?",[o],function(){p()},function(B,A){y(A)})})}).catch(y)});return x(m,i),m}function Sr(o){var i=this,a=new C(function(m,p){i.ready().then(function(){var y=i._dbInfo;y.db.transaction(function(E){de(E,y,"DELETE FROM "+y.storeName,[],function(){m()},function(_,B){p(B)})})}).catch(p)});return x(a,o),a}function xr(o){var i=this,a=new C(function(m,p){i.ready().then(function(){var y=i._dbInfo;y.db.transaction(function(E){de(E,y,"SELECT COUNT(key) as c FROM "+y.storeName,[],function(_,B){var A=B.rows.item(0).c;m(A)},function(_,B){p(B)})})}).catch(p)});return x(a,o),a}function _r(o,i){var a=this,m=new C(function(p,y){a.ready().then(function(){var E=a._dbInfo;E.db.transaction(function(_){de(_,E,"SELECT key FROM "+E.storeName+" WHERE id = ? LIMIT 1",[o+1],function(B,A){var L=A.rows.length?A.rows.item(0).key:null;p(L)},function(B,A){y(A)})})}).catch(y)});return x(m,i),m}function Br(o){var i=this,a=new C(function(m,p){i.ready().then(function(){var y=i._dbInfo;y.db.transaction(function(E){de(E,y,"SELECT key FROM "+y.storeName,[],function(_,B){for(var A=[],L=0;L<B.rows.length;L++)A.push(B.rows.item(L).key);m(A)},function(_,B){p(B)})})}).catch(p)});return x(a,o),a}function Fr(o){return new C(function(i,a){o.transaction(function(m){m.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(p,y){for(var E=[],_=0;_<y.rows.length;_++)E.push(y.rows.item(_).name);i({db:o,storeNames:E})},function(p,y){a(y)})},function(m){a(m)})})}function Ir(o,i){i=M.apply(this,arguments);var a=this.config();(o=typeof o!="function"&&o||{}).name||(o.name=o.name||a.name,o.storeName=o.storeName||a.storeName);var m,p=this;return m=o.name?new C(function(y){var E;E=o.name===a.name?p._dbInfo.db:openDatabase(o.name,"","",0),o.storeName?y({db:E,storeNames:[o.storeName]}):y(Fr(E))}).then(function(y){return new C(function(E,_){y.db.transaction(function(B){function A(W){return new C(function(H,G){B.executeSql("DROP TABLE IF EXISTS "+W,[],function(){H()},function(ae,it){G(it)})})}for(var L=[],T=0,O=y.storeNames.length;T<O;T++)L.push(A(y.storeNames[T]));C.all(L).then(function(){E()}).catch(function(W){_(W)})},function(B){_(B)})})}):C.reject("Invalid arguments"),x(m,i),m}var Ar={_driver:"webSQLStorage",_initStorage:yr,_support:pr(),iterate:br,getItem:wr,setItem:Cr,removeItem:Er,clear:Sr,length:xr,key:_r,keys:Br,dropInstance:Ir};function Lr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function nn(o,i){var a=o.name+"/";return o.storeName!==i.storeName&&(a+=o.storeName+"/"),a}function Dr(){var o="_localforage_support_test";try{return localStorage.setItem(o,!0),localStorage.removeItem(o),!1}catch{return!0}}function kr(){return!Dr()||localStorage.length>0}function Rr(o){var i=this,a={};if(o)for(var m in o)a[m]=o[m];return a.keyPrefix=nn(o,i._defaultConfig),kr()?(i._dbInfo=a,a.serializer=nt,C.resolve()):C.reject()}function Tr(o){var i=this,a=i.ready().then(function(){for(var m=i._dbInfo.keyPrefix,p=localStorage.length-1;p>=0;p--){var y=localStorage.key(p);y.indexOf(m)===0&&localStorage.removeItem(y)}});return x(a,o),a}function Mr(o,i){var a=this;o=k(o);var m=a.ready().then(function(){var p=a._dbInfo,y=localStorage.getItem(p.keyPrefix+o);return y&&(y=p.serializer.deserialize(y)),y});return x(m,i),m}function Nr(o,i){var a=this,m=a.ready().then(function(){for(var p=a._dbInfo,y=p.keyPrefix,E=y.length,_=localStorage.length,B=1,A=0;A<_;A++){var L=localStorage.key(A);if(L.indexOf(y)===0){var T=localStorage.getItem(L);if(T&&(T=p.serializer.deserialize(T)),(T=o(T,L.substring(E),B++))!==void 0)return T}}});return x(m,i),m}function jr(o,i){var a=this,m=a.ready().then(function(){var p,y=a._dbInfo;try{p=localStorage.key(o)}catch{p=null}return p&&(p=p.substring(y.keyPrefix.length)),p});return x(m,i),m}function Or(o){var i=this,a=i.ready().then(function(){for(var m=i._dbInfo,p=localStorage.length,y=[],E=0;E<p;E++){var _=localStorage.key(E);_.indexOf(m.keyPrefix)===0&&y.push(_.substring(m.keyPrefix.length))}return y});return x(a,o),a}function Ur(o){var i=this.keys().then(function(a){return a.length});return x(i,o),i}function zr(o,i){var a=this;o=k(o);var m=a.ready().then(function(){var p=a._dbInfo;localStorage.removeItem(p.keyPrefix+o)});return x(m,i),m}function Wr(o,i,a){var m=this;o=k(o);var p=m.ready().then(function(){i===void 0&&(i=null);var y=i;return new C(function(E,_){var B=m._dbInfo;B.serializer.serialize(i,function(A,L){if(L)_(L);else try{localStorage.setItem(B.keyPrefix+o,A),E(y)}catch(T){T.name!=="QuotaExceededError"&&T.name!=="NS_ERROR_DOM_QUOTA_REACHED"||_(T),_(T)}})})});return x(p,a),p}function Hr(o,i){if(i=M.apply(this,arguments),!(o=typeof o!="function"&&o||{}).name){var a=this.config();o.name=o.name||a.name,o.storeName=o.storeName||a.storeName}var m,p=this;return m=o.name?new C(function(y){o.storeName?y(nn(o,p._defaultConfig)):y(o.name+"/")}).then(function(y){for(var E=localStorage.length-1;E>=0;E--){var _=localStorage.key(E);_.indexOf(y)===0&&localStorage.removeItem(_)}}):C.reject("Invalid arguments"),x(m,i),m}var Pr={_driver:"localStorageWrapper",_initStorage:Rr,_support:Lr(),iterate:Nr,getItem:Mr,setItem:Wr,removeItem:zr,clear:Tr,length:Ur,key:jr,keys:Or,dropInstance:Hr},qr=function(o,i){return o===i||typeof o=="number"&&typeof i=="number"&&isNaN(o)&&isNaN(i)},$r=function(o,i){for(var a=o.length,m=0;m<a;){if(qr(o[m],i))return!0;m++}return!1},rn=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"},Be={},on={},Ce={INDEXEDDB:hr,WEBSQL:Ar,LOCALSTORAGE:Pr},Gr=[Ce.INDEXEDDB._driver,Ce.WEBSQL._driver,Ce.LOCALSTORAGE._driver],Me=["dropInstance"],rt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Me),Xr={description:"",driver:Gr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Kr(o,i){o[i]=function(){var a=arguments;return o.ready().then(function(){return o[i].apply(o,a)})}}function ot(){for(var o=1;o<arguments.length;o++){var i=arguments[o];if(i)for(var a in i)i.hasOwnProperty(a)&&(rn(i[a])?arguments[0][a]=i[a].slice():arguments[0][a]=i[a])}return arguments[0]}var Vr=function(){function o(i){for(var a in s(this,o),Ce)if(Ce.hasOwnProperty(a)){var m=Ce[a],p=m._driver;this[a]=p,Be[p]||this.defineDriver(m)}this._defaultConfig=ot({},Xr),this._config=ot({},this._defaultConfig,i),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return o.prototype.config=function(i){if((i===void 0?"undefined":r(i))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var a in i){if(a==="storeName"&&(i[a]=i[a].replace(/\W/g,"_")),a==="version"&&typeof i[a]!="number")return new Error("Database version must be a number.");this._config[a]=i[a]}return!("driver"in i)||!i.driver||this.setDriver(this._config.driver)}return typeof i=="string"?this._config[i]:this._config},o.prototype.defineDriver=function(i,a,m){var p=new C(function(y,E){try{var _=i._driver,B=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!i._driver)return void E(B);for(var A=rt.concat("_initStorage"),L=0,T=A.length;L<T;L++){var O=A[L];if((!$r(Me,O)||i[O])&&typeof i[O]!="function")return void E(B)}var W=function(){for(var G=function(Jr){return function(){var Qr=new Error("Method "+Jr+" is not implemented by the current driver"),sn=C.reject(Qr);return x(sn,arguments[arguments.length-1]),sn}},ae=0,it=Me.length;ae<it;ae++){var st=Me[ae];i[st]||(i[st]=G(st))}};W();var H=function(G){Be[_]&&console.info("Redefining LocalForage driver: "+_),Be[_]=i,on[_]=G,y()};"_support"in i?i._support&&typeof i._support=="function"?i._support().then(H,E):H(!!i._support):H(!0)}catch(G){E(G)}});return S(p,a,m),p},o.prototype.driver=function(){return this._driver||null},o.prototype.getDriver=function(i,a,m){var p=Be[i]?C.resolve(Be[i]):C.reject(new Error("Driver not found."));return S(p,a,m),p},o.prototype.getSerializer=function(i){var a=C.resolve(nt);return S(a,i),a},o.prototype.ready=function(i){var a=this,m=a._driverSet.then(function(){return a._ready===null&&(a._ready=a._initDriver()),a._ready});return S(m,i,i),m},o.prototype.setDriver=function(i,a,m){var p=this;rn(i)||(i=[i]);var y=this._getSupportedDrivers(i);function E(){p._config.driver=p.driver()}function _(L){return p._extend(L),E(),p._ready=p._initStorage(p._config),p._ready}function B(L){return function(){var T=0;function O(){for(;T<L.length;){var W=L[T];return T++,p._dbInfo=null,p._ready=null,p.getDriver(W).then(_).catch(O)}E();var H=new Error("No available storage method found.");return p._driverSet=C.reject(H),p._driverSet}return O()}}var A=this._driverSet!==null?this._driverSet.catch(function(){return C.resolve()}):C.resolve();return this._driverSet=A.then(function(){var L=y[0];return p._dbInfo=null,p._ready=null,p.getDriver(L).then(function(T){p._driver=T._driver,E(),p._wrapLibraryMethodsWithReady(),p._initDriver=B(y)})}).catch(function(){E();var L=new Error("No available storage method found.");return p._driverSet=C.reject(L),p._driverSet}),S(this._driverSet,a,m),this._driverSet},o.prototype.supports=function(i){return!!on[i]},o.prototype._extend=function(i){ot(this,i)},o.prototype._getSupportedDrivers=function(i){for(var a=[],m=0,p=i.length;m<p;m++){var y=i[m];this.supports(y)&&a.push(y)}return a},o.prototype._wrapLibraryMethodsWithReady=function(){for(var i=0,a=rt.length;i<a;i++)Kr(this,rt[i])},o.prototype.createInstance=function(i){return new o(i)},o}(),Yr=new Vr;t.exports=Yr},{3:3}]},{},[4])(4);var yn={},To={get exports(){return yn},set exports(e){yn=e}};/*! streamsaver. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */(function(e){((t,n)=>{e.exports=n()})(0,()=>{const t=typeof window=="object"?window:this;t.HTMLElement||console.warn("streamsaver is meant to run on browsers main thread");let n=null,r=!1;const s=t.WebStreamsPolyfill||{},c=t.isSecureContext;let h=/constructor/i.test(t.HTMLElement)||!!t.safari||!!t.WebKitPoint;const v=c||"MozAppearance"in document.documentElement.style?"iframe":"navigate",b={createWriteStream:function(x,S,k){let M={size:null,pathname:null,writableStrategy:void 0,readableStrategy:void 0},F=0,w=null,u=null,f=null;if(Number.isFinite(S)?([k,S]=[S,k],console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),M.size=k,M.writableStrategy=S):S&&S.highWaterMark?(console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),M.size=k,M.writableStrategy=S):M=S||{},!h){n||(n=c?C(b.mitm):function(R){const I="width=200,height=100",D=document.createDocumentFragment(),j={frame:t.open(R,"popup",I),loaded:!1,isIframe:!1,isPopup:!0,remove(){j.frame.close()},addEventListener(...U){D.addEventListener(...U)},dispatchEvent(...U){D.dispatchEvent(...U)},removeEventListener(...U){D.removeEventListener(...U)},postMessage(...U){j.frame.postMessage(...U)}},z=U=>{U.source===j.frame&&(j.loaded=!0,t.removeEventListener("message",z),j.dispatchEvent(new Event("load")))};return t.addEventListener("message",z),j}(b.mitm)),u=new MessageChannel,x=encodeURIComponent(x.replace(/\//g,":")).replace(/['()]/g,escape).replace(/\*/g,"%2A");const l={transferringReadable:r,pathname:M.pathname||Math.random().toString().slice(-6)+"/"+x,headers:{"Content-Type":"application/octet-stream; charset=utf-8","Content-Disposition":"attachment; filename*=UTF-8''"+x}};M.size&&(l.headers["Content-Length"]=M.size);const g=[l,"*",[u.port2]];if(r){const R=v==="iframe"?void 0:{transform(D,j){if(!(D instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");F+=D.length,j.enqueue(D),w&&(location.href=w,w=null)},flush(){w&&(location.href=w)}};f=new b.TransformStream(R,M.writableStrategy,M.readableStrategy);const I=f.readable;u.port1.postMessage({readableStream:I},[I])}u.port1.onmessage=R=>{R.data.download?v==="navigate"?(n.remove(),n=null,F?location.href=R.data.download:w=R.data.download):(n.isPopup&&(n.remove(),n=null,v==="iframe"&&C(b.mitm)),C(R.data.download)):R.data.abort&&(d=[],u.port1.postMessage("abort"),u.port1.onmessage=null,u.port1.close(),u.port2.close(),u=null)},n.loaded?n.postMessage(...g):n.addEventListener("load",()=>{n.postMessage(...g)},{once:!0})}let d=[];return!h&&f&&f.writable||new b.WritableStream({write(l){if(!(l instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");h?d.push(l):(u.port1.postMessage(l),F+=l.length,w&&(location.href=w,w=null))},close(){if(h){const l=new Blob(d,{type:"application/octet-stream; charset=utf-8"}),g=document.createElement("a");g.href=URL.createObjectURL(l),g.download=x,g.click()}else u.port1.postMessage("end")},abort(){d=[],u.port1.postMessage("abort"),u.port1.onmessage=null,u.port1.close(),u.port2.close(),u=null}},M.writableStrategy)},WritableStream:t.WritableStream||s.WritableStream,supported:!0,version:{full:"2.0.5",major:2,minor:0,dot:5},mitm:"https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0"};function C(x){if(!x)throw new Error("meh");const S=document.createElement("iframe");return S.hidden=!0,S.src=x,S.loaded=!1,S.name="iframe",S.isIframe=!0,S.postMessage=(...k)=>S.contentWindow.postMessage(...k),S.addEventListener("load",()=>{S.loaded=!0},{once:!0}),document.body.appendChild(S),S}try{new Response(new ReadableStream),c&&!("serviceWorker"in navigator)&&(h=!0)}catch{h=!0}return(x=>{try{x()}catch{}})(()=>{const{readable:x}=new TransformStream,S=new MessageChannel;S.port1.postMessage(x,[x]),S.port1.close(),S.port2.close(),r=!0,Object.defineProperty(b,"TransformStream",{configurable:!1,writable:!1,value:TransformStream})}),b})})(To);function Mo(e={},t={}){let n;for(n in t)Rt(t[n])?e[n]=Mo(e[n],t[n]):e[n]=t[n];return e}function No(e,t){const n=`${e}_${t}`;return re.MD5(n)}function jo(e){const t=function(v){if(!v)return;const b=v,C=[];if(b)for(let x of b){const S=$n(x);S&&C.push(S)}return C}(e.bussinessRoutes),n=function(v){if(!v)return;const b=v;if(b&&b.length>0){const C=[];return b.forEach(x=>{const S=Gn(x);S&&C.push(S)}),C}}(e.widgetMenuConfig),r=function(v){if(v&&v.length>0){const b=[];return v.forEach(C=>{const x=function(S){return S?{id:S.id,label:S.label,container:S.container,preload:S.preload,afterid:S.afterid,bindid:S.bindid,group:S.group}:void 0}(C);x&&b.push(x)}),b}}(e.widgetConfig),s=function(v){if(v&&v.length>0)return v}(e.functionList),c=e.pkgObject.version,h=e.pkgObject.name;return{id:No(h,c),name:N.Config.UI.SiteTitle,group:N.Config.UI.Group,product:h,version:c,routes:t,widgetMenu:n,widgets:r,functions:s}}function $n(e){if(e){let t=0;e.meta?.hidden&&(t=1);let n={path:e.path,name:e.name,title:e.meta?.title,type:t,index:e.meta?.index};if(e.children){const r=[];for(let s of e.children){const c=$n(s);c&&r.push(c)}r.length>0&&(n.children=r)}return n}}function Gn(e){if(!e)return;const t={name:e.name,index:e.index,path:e.path,type:e.type};return e.children&&e.children.length>0&&(t.children=[],e.children.forEach(n=>{const r=Gn(n);r&&t.children?.push(r)})),t}function bi(e,t){const n=jo(e);wo(n,t),N.Message?.msg("\u5BFC\u51FA\u7CFB\u7EDF\u529F\u80FD\u6743\u9650\u6587\u4EF6\u6210\u529F\uFF01")}let Xn=!0;try{String.fromCharCode.apply(String,[1,2])}catch{Xn=!1,Object.defineProperty(Array.prototype,"subarray",{value:Array.prototype.slice})}var xt=2654435769;function Kn(e,t){var n=e.length,r=n<<2;if(t){var s=e[n-1];if(s<(r-=4)-3||s>r)return null;r=s}for(var c=new Uint8Array(r),h=0;h<r;++h)c[h]=e[h>>2]>>((3&h)<<3);return c}function Ge(e,t){var n,r=e.length,s=r>>2;3&r&&++s,t?(n=new Uint32Array(s+1))[s]=r:n=new Uint32Array(s);for(var c=0;c<r;++c)n[c>>2]|=e[c]<<((3&c)<<3);return n}function ye(e){return 4294967295&e}function Xe(e,t,n,r,s,c){return(n>>>5^t<<2)+(t>>>3^n<<4)^(e^t)+(c[3&r^s]^n)}function Vn(e){if(e.length<16){var t=new Uint8Array(16);t.set(e),e=t}return e}function Ke(e){for(var t=e.length,n=new Uint8Array(3*t),r=0,s=0;s<t;s++){var c=e.charCodeAt(s);if(c<128)n[r++]=c;else if(c<2048)n[r++]=192|c>>6,n[r++]=128|63&c;else{if(!(c<55296||c>57343)){if(s+1<t){var h=e.charCodeAt(s+1);if(c<56320&&56320<=h&&h<=57343){var v=65536+((1023&c)<<10|1023&h);n[r++]=240|v>>18,n[r++]=128|v>>12&63,n[r++]=128|v>>6&63,n[r++]=128|63&v,s++;continue}}throw new Error("Malformed string")}n[r++]=224|c>>12,n[r++]=128|c>>6&63,n[r++]=128|63&c}}return n.subarray(0,r)}function wn(e){var t=e.length;return t===0?"":t<32767?function(n,r){for(var s=new Array(r),c=0,h=0,v=n.length;c<r&&h<v;c++){var b=n[h++];switch(b>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s[c]=b;break;case 12:case 13:if(!(h<v))throw new Error("Unfinished UTF-8 octet sequence");s[c]=(31&b)<<6|63&n[h++];break;case 14:if(!(h+1<v))throw new Error("Unfinished UTF-8 octet sequence");s[c]=(15&b)<<12|(63&n[h++])<<6|63&n[h++];break;case 15:if(!(h+2<v))throw new Error("Unfinished UTF-8 octet sequence");var C=((7&b)<<18|(63&n[h++])<<12|(63&n[h++])<<6|63&n[h++])-65536;if(!(0<=C&&C<=1048575))throw new Error("Character outside valid Unicode range: 0x"+C.toString(16));s[c++]=C>>10&1023|55296,s[c]=1023&C|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+b.toString(16))}}return c<r&&(s.length=c),String.fromCharCode.apply(String,s)}(e,t):function(n,r){for(var s=[],c=new Array(32768),h=0,v=0,b=n.length;h<r&&v<b;h++){var C=n[v++];switch(C>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c[h]=C;break;case 12:case 13:if(!(v<b))throw new Error("Unfinished UTF-8 octet sequence");c[h]=(31&C)<<6|63&n[v++];break;case 14:if(!(v+1<b))throw new Error("Unfinished UTF-8 octet sequence");c[h]=(15&C)<<12|(63&n[v++])<<6|63&n[v++];break;case 15:if(!(v+2<b))throw new Error("Unfinished UTF-8 octet sequence");var x=((7&C)<<18|(63&n[v++])<<12|(63&n[v++])<<6|63&n[v++])-65536;if(!(0<=x&&x<=1048575))throw new Error("Character outside valid Unicode range: 0x"+x.toString(16));c[h++]=x>>10&1023|55296,c[h]=1023&x|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+C.toString(16))}if(h>=32766){var S=h+1;c.length=S,s.push(String.fromCharCode.apply(String,c)),r-=S,h=-1}}return h>0&&(c.length=h,s.push(String.fromCharCode.apply(String,c))),s.join("")}(e,t)}function Oo(e){var t=e.length;if(t===0)return"";var n=Xn?e:function(v){for(var b=v.length,C=new Array(v.length),x=0;x<b;++x)C[x]=v[x];return C}(e);if(t<65535)return String.fromCharCode.apply(String,n);for(var r=32767&t,s=t>>15,c=new Array(r?s+1:s),h=0;h<s;++h)c[h]=String.fromCharCode.apply(String,n.subarray(h<<15,h+1<<15));return r&&(c[s]=String.fromCharCode.apply(String,n.subarray(s<<15,t))),c.join("")}function bn(e,t){return typeof e=="string"&&(e=Ke(e)),typeof t=="string"&&(t=Ke(t)),e==null||e.length===0?e:Kn(function(n,r){var s,c,h,v,b,C,x=n.length,S=x-1;for(c=n[S],h=0,C=0|Math.floor(6+52/x);C>0;--C){for(v=(h=ye(h+xt))>>>2&3,b=0;b<S;++b)s=n[b+1],c=n[b]=ye(n[b]+Xe(h,s,c,b,v,r));s=n[0],c=n[S]=ye(n[S]+Xe(h,s,c,S,v,r))}return n}(Ge(e,!0),Ge(Vn(t),!1)),!1)}function Cn(e,t){return typeof e=="string"&&(e=function(n){for(var r=window.atob(n),s=r.length,c=new Uint8Array(s),h=0;h<s;h++)c[h]=r.charCodeAt(h);return c}(e)),typeof t=="string"&&(t=Ke(t)),e==null||e.length===0?e:Kn(function(n,r){var s,c,h,v,b,C=n.length,x=C-1;for(s=n[0],h=ye(Math.floor(6+52/C)*xt);h!==0;h=ye(h-xt)){for(v=h>>>2&3,b=x;b>0;--b)c=n[b-1],s=n[b]=ye(n[b]-Xe(h,s,c,b,v,r));c=n[x],s=n[0]=ye(n[0]-Xe(h,s,c,0,v,r))}return n}(Ge(e,!1),Ge(Vn(t),!1)),!0)}const _t={toBytes:Ke,toString:wn,encrypt:bn,encryptToString:function(e,t){return window.btoa(Oo(bn(e,t)))},decrypt:Cn,decryptToString:function(e,t){return wn(Cn(e,t))}};var ie;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(ie||(ie={}));var En;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close"})(En||(En={}));var Sn;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(Sn||(Sn={}));var xn,_n;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(xn||(xn={})),function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"}(_n||(_n={}));ie.Trace,ie.Debug,ie.Information,ie.Information,ie.Warning,ie.Warning,ie.Error,ie.Critical,ie.None;const ee=Rn({panelGroups:{}}),Yn=()=>({useGroupAccordion:e=>he(()=>ee.panelGroups[e].accordion),setGroupAccordionStatus:(e,t)=>{ee.panelGroups[e]={...ee.panelGroups[e],accordion:t}},panelExpanded:(e,t)=>he(()=>ee.panelGroups[e]?.panelExpandStatus?.[t]||!1),setPanelExpandedStatus:(e,t,n)=>{ee.panelGroups[e]={...ee.panelGroups[e],panelExpandStatus:{...ee.panelGroups[e]?.panelExpandStatus||{},[t]:n}}},togglePanelExpandedStatus:(e,t)=>{ee.panelGroups[e].accordion&&(ee.panelGroups[e].panelExpandStatus[t]||Object.keys(ee.panelGroups[e].panelExpandStatus).forEach(n=>{ee.panelGroups[e].panelExpandStatus[n]=!1})),ee.panelGroups[e].panelExpandStatus[t]=!ee.panelGroups[e].panelExpandStatus[t]}}),pt=e=>e>255?255:e<0?0:e,Ne=(e,t)=>{const n=e.replace("#",""),r=parseInt(n,16),s=pt((r>>16)+t),c=pt((r>>8&255)+t);return"#"+(pt((255&r)+t)|c<<8|s<<16).toString(16)};var gt=De({name:"VueCollapsiblePanelGroup",props:{accordion:{type:Boolean,default:!1},baseColor:{type:String,default:"#333333"}},setup(e){const t=te(`group-${Ct()}`),{setGroupAccordionStatus:n}=Yn(),r={"--base-color":e.baseColor,"--border-color":Ne(e.baseColor,180),"--bg-color-header":Ne(e.baseColor,140),"--bg-color-header-hover":Ne(e.baseColor,190),"--bg-color-header-active":Ne(e.baseColor,200),"--bg-color-body":"#fff"};return n(t.value,e.accordion),{idGroup:t,cssColorVars:r}}});const Uo=["data-id-group"];gt.render=function(e,t,n,r,s,c){return q(),Z("div",{"data-id-group":e.idGroup,style:Se(e.cssColorVars),class:"vcpg"},[we(e.$slots,"default")],12,Uo)},gt.__scopeId="data-v-23ab5317",gt.__file="src/controls/collapsepanel/VCollapsiblePanelGroup.vue";var mt=De({name:"VueCollapsiblePanel",props:{expanded:{type:Boolean,default:!0}},setup(e,t){const n=`panel-${Ct()}`,r=te(),s=te(),c=te(),{panelExpanded:h,togglePanelExpandedStatus:v,setPanelExpandedStatus:b}=Yn(),C=he(()=>({hasContent:t.slots.content&&t.slots.content()[0].children.length>0,dataKey:Ct()})),x=he(()=>r.value?.parentElement?.getAttribute("data-id-group")||""),S=he(()=>h(x.value,n).value&&C.value.hasContent);return Lt(()=>{b(x.value,n,e.expanded)}),eo(()=>{(async()=>(await Dt(),s.value&&c.value&&(s.value.style.height=`${Math.min(c.value.scrollHeight,s.value.scrollHeight)}px`)))()}),{body:C,panelRef:r,bodyRef:s,bodyContentRef:c,isExpanded:S,collapse:k=>{k.style.height="0"},expand:k=>{k.style.height=`${k.scrollHeight}px`},toggle:()=>{C.value.hasContent&&v(x.value,n)},toggleIcon:`
    <svg
        width="24px"
        height="24px"
        viewBox="0 0 24 24"
        fill="currentColor"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path d="M6.34292 7.75734L4.92871 9.17155L11.9998 16.2426L19.0708 9.17158L17.6566 7.75737L11.9998 13.4142L6.34292 7.75734Z"/>
    </svg>
`}}});const zo={class:"vcp__header-title"},Wo={key:0,class:"vcp__header-icon"},Ho=["innerHTML"],Po={key:0,ref:"bodyRef",class:"vcp__body"},qo={ref:"bodyContentRef",class:"vcp__body-content"};function vt(e){return window.TouchEvent&&e instanceof TouchEvent}mt.render=function(e,t,n,r,s,c){return q(),Z("section",{ref:"panelRef",class:Zr(["vcp",{"vcp--expanded":e.isExpanded,"vcp--expandable":e.body.hasContent}])},[V("header",{class:"vcp__header",onClick:t[0]||(t[0]=(...h)=>e.toggle&&e.toggle(...h))},[V("div",zo,[we(e.$slots,"title")]),e.body.hasContent?(q(),Z("div",Wo,[we(e.$slots,"icon",{},()=>[V("span",{innerHTML:e.toggleIcon},null,8,Ho)])])):me("v-if",!0)]),Tn(Mn,{"data-key":e.body.dataKey,name:"slide",onBeforeEnter:e.collapse,onEnter:e.expand,onBeforeLeave:e.expand,onLeave:e.collapse},{default:qe(()=>[e.isExpanded?(q(),Z("div",Po,[V("div",qo,[we(e.$slots,"content")],512)],512)):me("v-if",!0)]),_:3},8,["data-key","onBeforeEnter","onEnter","onBeforeLeave","onLeave"])],2)},mt.__scopeId="data-v-08c94cf8",mt.__file="src/controls/collapsepanel/VCollapsiblePanel.vue";class Y{e;constructor(t){this.e=t}stopPropagation(){this.e.stopPropagation()}preventDefault(){this.e.preventDefault()}get clientX(){return vt(this.e)?(this.e.type==="touchend"?this.e.changedTouches:this.e.touches).item(0).clientX:this.e.clientX}get clientY(){return vt(this.e)?(this.e.type==="touchend"?this.e.changedTouches:this.e.touches).item(0).clientY:this.e.clientY}get clientCoord(){return new jt(this.clientX,this.clientY)}static bindDown(t,n,r,s=!1){const c=v=>{n(new Y(v))},h=v=>{v.touches.length===1&&n(new Y(v)),v.touches.length>1&&r&&r(new Y(v))};return t.addEventListener("mousedown",c,s),t.addEventListener("touchstart",h,s),()=>{t.removeEventListener("mousedown",c,s),t.removeEventListener("touchstart",h,s)}}static bindMove(t,n,r=!1){const s=h=>{n(new Y(h))},c=h=>{h.touches.length===1&&n(new Y(h))};return t.addEventListener("mousemove",s,r),t.addEventListener("touchmove",c,r),()=>{t.removeEventListener("mousemove",s,r),t.removeEventListener("touchmove",c,r)}}static bindUp(t,n,r=!1){const s=h=>{n(new Y(h))},c=h=>{h.touches.length===0&&n(new Y(h))};return t.addEventListener("mouseup",s,r),t.addEventListener("touchend",c,r),()=>{t.removeEventListener("mouseup",s,r),t.removeEventListener("touchend",c,r)}}originalEvent({mouse:t,touch:n}){vt(this.e)?n&&n(this.e):t&&t(this.e)}}class jt{x;y;constructor(t,n){this.x=t,this.y=n}clone(){return new jt(this.x,this.y)}}class $o{handle;container;options;unbindDown;unbindMove;unbindUp;constructor(t,n,r={}){this.handle=t,this.container=n,this.options=r,t&&(this.unbindDown=Y.bindDown(t,this.mousedown),t.classList.add("draggable-handle"))}teardown(){this.handle?.classList.remove("draggable-handle"),this.unbindDown&&this.unbindDown(),this.unbindUp&&this.unbindUp(),this.unbindMove&&this.unbindMove()}offsetX;offsetY;mousedown=t=>{if(t.preventDefault(),this.handle){const{left:n,top:r}=this.handle.getBoundingClientRect();this.offsetX=t.clientX-n,this.offsetY=t.clientY-r}this.options.onMoveStart&&this.options.onMoveStart(),this.unbindMove=Y.bindMove(document,this.mousemove),this.unbindUp=Y.bindUp(document,this.mouseup)};mousemove=t=>{this.container&&(this.container.style.left=t.clientX-this.offsetX+"px",this.container.style.top=t.clientY-this.offsetY+"px"),this.options.onMove&&this.options.onMove()};mouseup=t=>{this.options.onMoveEnd&&this.options.onMoveEnd(),this.unbindUp(),this.unbindMove(),this.unbindUp=this.unbindMove=void 0}}class Go{_group;onChange;zIndex;constructor(t,n){this._group=t,this.onChange=n,this.a(r=>r.push(this))}set group(t){this._group=t;const n=We(this._group),r=We(t);n.splice(n.indexOf(this),1),r.push(this),Bn()}get group(){return this._group}unregister(){this.a(t=>t.splice(t.indexOf(this),1))}raise(){this.a(t=>{t.splice(t.indexOf(this),1),t.push(this)})}a(t){t(We(this._group)),Bn()}}const ze=new Map;function We(e){return ze.has(e)||ze.set(e,[]),ze.get(e)}function Jn(e,t){return e>t?-Jn(t,e):e<0&&t>=0?1:e-t}function Bn(){let e=0;for(const t of function(n){const r=[];return n.forEach((s,c)=>r.push(c)),r}(ze).sort(Jn))for(const n of We(t))e!=n.zIndex&&(n.zIndex=e,n.onChange(e)),e++}function Bt(e){if(e){const{width:t,height:n}=e.style;e.style.width="auto",e.style.height="auto";const r=He(e);return e.style.width=t,e.style.height=n,r}return{width:0,height:0,top:0,left:0,bottom:0,right:0}}function He(e){const t=e.getBoundingClientRect(),n=t.width,r=t.height,s=t.top,c=t.left;return{width:n,height:r,top:s,left:c,bottom:s+r,right:c+n}}class Xo{container;options;handles;constructor(t,n){if(this.container=t,this.options=n,t&&n){this.handles=Qn.map(b=>new b(t,this));const{width:r,height:s}=Bt(t),c=n.maxWidth||window.innerWidth,h=n.maxHeight||window.innerHeight;let v=!1;(r<n.minWidth||r>c)&&(t.style.width=`${Fn(r,n.minWidth,c)}px`,v=!0),(s<n.minHeight||s>h)&&(t.style.height=`${Fn(s,n.minHeight,h)}px`,v=!0),v&&n.onResize&&n.onResize()}}teardown(){this.handles?.forEach(t=>t.teardown())}}const Qn=[];class fe{container;helper;handle;handleSize=8;unbindDown;unbindMove;unbindUp;constructor(t,n){this.container=t,this.helper=n,this.handle=this.createHandleElement(),this.unbindDown=Y.bindDown(this.handle,this.mousedown)}teardown(){this.unbindDown(),this.unbindUp&&this.unbindUp(),this.unbindMove&&this.unbindMove(),this.handle.parentElement.removeChild(this.handle)}x0;y0;left0;top0;width0;height0;mousedown=t=>{t.preventDefault(),t.stopPropagation();const{left:n,top:r,width:s,height:c}=He(this.container);this.x0=t.clientX,this.y0=t.clientY,this.left0=n,this.top0=r,this.width0=s,this.height0=c,this.calcSafeBoundaries(),this.helper.options&&this.helper.options.onResizeStart&&this.helper.options.onResizeStart(),this.unbindMove=Y.bindMove(document,this.mousemove),this.unbindUp=Y.bindUp(document,this.mouseup)};minLeft;maxLeft;minRight;maxRight;minTop;maxTop;minBottom;maxBottom;calcSafeBoundaries(){if(!this.helper.options)return;const{left:t,top:n,right:r,bottom:s}=He(this.container),c=this.helper.options,h=c.maxWidth||window.innerWidth,v=c.maxHeight||window.innerHeight;this.minLeft=Math.max(r-h,0),this.maxLeft=r-c.minWidth,this.minRight=t+c.minWidth,this.maxRight=Math.min(t+h,window.innerWidth),this.minTop=Math.max(s-v,0),this.maxTop=s-c.minHeight,this.minBottom=n+c.minHeight,this.maxBottom=Math.min(n+v,window.innerHeight)}mousemove=t=>{t.preventDefault(),t.stopPropagation(),this.setPosition(t),this.fixPosition(),this.helper.options&&this.helper.options.onResize&&this.helper.options.onResize()};fixPosition(){const{width:t,height:n,left:r,top:s,right:c,bottom:h}=He(this.container),v=this.helper.options;v&&(r<this.minLeft?(this.container.style.width=t+r-this.minLeft+"px",this.container.style.left=`${this.minLeft}px`):r>this.maxLeft?(this.container.style.width=`${v.minWidth}px`,this.container.style.left=`${this.maxLeft}px`):c<this.minRight?this.container.style.width=`${v.minWidth}px`:c>this.maxRight&&(this.container.style.width=this.maxRight-r+"px"),s<this.minTop?(this.container.style.height=n+s-this.minTop+"px",this.container.style.top=`${this.minTop}px`):s>this.maxTop?(this.container.style.height=`${v.minHeight}px`,this.container.style.top=`${this.maxTop}px`):h<this.minBottom?this.container.style.height=`${v.minHeight}px`:h>this.maxBottom&&(this.container.style.height=this.maxBottom-s+"px"))}mouseup=t=>{t.preventDefault(),t.stopPropagation(),this.helper.options&&this.helper.options.onResizeEnd&&this.helper.options.onResizeEnd(),this.unbindUp(),this.unbindMove(),this.unbindUp=this.unbindMove=void 0};createHandleElement(){const t=document.createElement("div"),n=t.style;return n.position="absolute",this.applyStyle(n),this.container.appendChild(t),t}}function Fn(e,t,n){return e<t?t:e>n?n:e}Qn.push(class extends fe{setPosition(e){this.container.style.width=this.width0+e.clientX-this.x0+"px",this.container.style.height=this.height0+e.clientY-this.y0+"px"}applyStyle(e){e.width=2*this.handleSize+"px",e.height=2*this.handleSize+"px",e.right=-this.handleSize+"px",e.bottom=-this.handleSize+"px",e.cursor="nwse-resize"}},class extends fe{setPosition(e){this.container.style.height=this.height0+e.clientY-this.y0+"px"}applyStyle(e){e.right=`${this.handleSize}px`,e.left=`${this.handleSize}px`,e.height=2*this.handleSize+"px",e.bottom=-this.handleSize+"px",e.cursor="ns-resize"}},class extends fe{setPosition(e){this.container.style.left=this.left0+e.clientX-this.x0+"px",this.container.style.width=this.width0-(e.clientX-this.x0)+"px",this.container.style.height=this.height0+e.clientY-this.y0+"px"}applyStyle(e){e.left=-this.handleSize+"px",e.bottom=-this.handleSize+"px",e.width=2*this.handleSize+"px",e.height=2*this.handleSize+"px",e.cursor="nesw-resize"}},class extends fe{setPosition(e){this.container.style.left=this.left0+e.clientX-this.x0+"px",this.container.style.width=this.width0-(e.clientX-this.x0)+"px"}applyStyle(e){e.left=-this.handleSize+"px",e.bottom=`${this.handleSize}px`,e.width=2*this.handleSize+"px",e.top=`${this.handleSize}px`,e.cursor="ew-resize"}},class extends fe{setPosition(e){this.container.style.left=this.left0+e.clientX-this.x0+"px",this.container.style.width=this.width0-(e.clientX-this.x0)+"px",this.container.style.top=this.top0+e.clientY-this.y0+"px",this.container.style.height=this.height0-(e.clientY-this.y0)+"px"}applyStyle(e){e.left=-this.handleSize+"px",e.top=-this.handleSize+"px",e.width=2*this.handleSize+"px",e.height=2*this.handleSize+"px",e.cursor="nwse-resize"}},class extends fe{setPosition(e){this.container.style.top=this.top0+e.clientY-this.y0+"px",this.container.style.height=this.height0-(e.clientY-this.y0)+"px"}applyStyle(e){e.left=`${this.handleSize}px`,e.right=`${this.handleSize}px`,e.height=2*this.handleSize+"px",e.top=-this.handleSize+"px",e.cursor="ns-resize"}},class extends fe{setPosition(e){this.container.style.top=this.top0+e.clientY-this.y0+"px",this.container.style.height=this.height0-(e.clientY-this.y0)+"px",this.container.style.width=this.width0+e.clientX-this.x0+"px"}applyStyle(e){e.right=-this.handleSize+"px",e.top=-this.handleSize+"px",e.height=2*this.handleSize+"px",e.width=2*this.handleSize+"px",e.cursor="nesw-resize"}},class extends fe{setPosition(e){this.container.style.width=this.width0+e.clientX-this.x0+"px"}applyStyle(e){e.right=-this.handleSize+"px",e.top=`${this.handleSize}px`,e.bottom=`${this.handleSize}px`,e.width=2*this.handleSize+"px",e.cursor="ew-resize"}});var Pe=De({name:"",props:{disabled:{type:Boolean,default:!1},windowStyle:{type:Object,required:!0}},components:{},setup(e){const t=te(!1),n=te(!1);return{hover:t,active:n,style:function(){let r=e.windowStyle.button;return t.value&&(r={...r,...this.windowStyle.buttonHover}),n.value&&(r={...r,...this.windowStyle.buttonActive}),r},mouseup:function(r){this.active&&this.$emit("click")},mousedown:function(r){r.preventDefault(),n.value=!0;const s=Y.bindUp(document,()=>{n.value=!1,s()})}}}});const Ko=["disabled"];Pe.render=function(e,t,n,r,s,c){return q(),Z("div",{class:"btn",style:Se(e.style()),onMouseenter:t[0]||(t[0]=h=>e.hover=!0),onMouseleave:t[1]||(t[1]=h=>e.hover=!1),onMousedown:t[2]||(t[2]=an((...h)=>e.mousedown&&e.mousedown(...h),["stop"])),onTouchstart:t[3]||(t[3]=an((...h)=>e.mousedown&&e.mousedown(...h),["stop"])),onMouseup:t[4]||(t[4]=(...h)=>e.mouseup&&e.mouseup(...h)),onTouchend:t[5]||(t[5]=(...h)=>e.mouseup&&e.mouseup(...h)),disabled:e.disabled},[we(e.$slots,"default")],44,Ko)},Pe.__scopeId="data-v-71662210",Pe.__file="src/controls/vuewindow/window/Button.vue";const Ft=new Set;function In(e){return e!==null?parseFloat(e):0}function je(e){const t=window.getComputedStyle(e),n=Math.ceil([t.paddingLeft,t.width,t.paddingRight].map(In).reduce((s,c)=>s+c)),r=Math.ceil([t.paddingTop,t.height,t.paddingBottom].map(In).reduce((s,c)=>s+c));return{width:n,height:r}}class Vo{width;height;constructor(t,n){this.width=t,this.height=n}}function Yo(e){const t=e.windowEl;if(t){const n=parseFloat(t.style.left||"NaN"),r=parseFloat(t.style.top||"NaN");if(!isNaN(n)&&!isNaN(r))return{left:n,top:r}}return null}function Jo(e,t,n,r){const s=e-n,c=t-r;return s*s+c*c}window.addEventListener("resize",e=>{Ft.forEach(t=>{t&&po(t.fixPosition)&&t.fixPosition()})});const Oe=[];var An=De({name:"Window",props:{windowStyle:{type:Object,required:!0},isOpen:{type:Boolean,required:!1,default:!0},title:{type:String,required:!0,default:""},closeButton:{type:Boolean,required:!1,default:!0},resizable:{type:Boolean,required:!1,default:!1},isScrollable:{type:Boolean,required:!1,default:!1},padding:{type:Number,required:!1,default:8},activateWhenOpen:{type:Boolean,required:!1,default:!0},positionHint:{type:String,required:!1,default:""},zGroup:{type:Number,required:!1,default:1},overflow:{type:String,required:!1,default:"visible"},minWidth:{type:Number,required:!1,default:1},minHeight:{type:Number,required:!1,default:0},maxWidth:{type:Number,required:!1,default:0},maxHeight:{type:Number,required:!1,default:0},height:{type:Number,required:!1},width:{type:Number,required:!1},top:{type:Number,required:!1},left:{type:Number,required:!1}},components:{myButton:Pe},setup(e,{emit:t}){const n=co();if(!n)return;const{proxy:r}=n;let s=0,c,h,v;const b=te(e.isOpen),C=()=>{Oe.push(r),v=new Go(e.zGroup,x),e.isOpen&&function(I){I&&(Dt(()=>{s++==0&&(d(r),function(){const D=S.value,{width:j,height:z}=Bt(D);let U,P;if(e.left!==void 0!=(e.top!==void 0))throw new Error("Either of left or top is specified. Both must be set or not set.");if(typeof e.left=="number")U=e.left,P=e.top;else{const Q=e.positionHint||"auto";switch(Q){case"auto":{let X=20,K=50,$=0;do{if(Oe.every(se=>{if(!se.isOpen||r==se)return!0;const Re=Yo(se);if(Re==null)return!0;const{left:Je,top:oe}=Re;return Jo(Je,oe,X,K)>16}))break;X=(X+40)%(window.innerWidth-200),K=(K+40)%(window.innerHeight-200)}while(++$<100);U=X,P=K}break;case"center":U=(window.innerWidth-j)/2,P=(window.innerHeight-z)/2,console.log(U,P,window.innerWidth,window.innerHeight,"111111");break;default:try{const X=Q.split("/").map(Number);if(X.length!=2)throw null;const[K,$]=X;if(!isFinite(K)||!isFinite($))throw null;U=K>=0?K:window.innerWidth-j+K,P=$>=0?$:window.innerHeight-z+$}catch{throw new Error(`invalid position string: ${Q}`)}}}D&&(D.style.left=`${U}px`,D.style.top=`${P}px`)}()),e.resizable&&l(),R(),c=new $o(k.value,S.value,{onMove:()=>R(),onMoveStart:()=>t("move-start"),onMoveEnd:()=>t("move-end")}),e.resizable&&function(){const{height:D}=Bt(k.value);h=new Xo(S.value,{onResize:()=>l(),onResizeStart:()=>t("resize-start"),onResizeEnd:()=>t("resize-end"),minWidth:e.minWidth,minHeight:e.minHeight+D,maxWidth:e.maxWidth,maxHeight:e.maxHeight?e.maxHeight+D:void 0})}()}),e.activateWhenOpen&&F())}(!0),Ft.add(r)};function x(I){w.value.zIndex=`${I}`}const S=te(null),k=te(null),M=te(null);function F(){v.raise(),t("activate")}const w=te({...e.windowStyle.window,zIndex:"auto",overflow:e.overflow}),u=he(()=>e.windowStyle.titlebar),f=he(()=>{const I={...e.windowStyle.content};return e.resizable?I.padding="0":e.padding!=null&&(I.padding=`${e.padding}px`),e.isScrollable&&(I.overflow="auto"),I});function d(I){const{width:D,height:j,top:z,left:U}=I,P=S;if(P&&D!=null&&(P.value.style.width=`${D}px`),j!=null){const Q=k.value;if(Q){const X=je(Q).height;P.value.style.height=`${j+X}px`}}P&&U!=null&&(P.value.style.left=`${U}px`),P&&z!=null&&(P.value.style.top=`${z}px`)}function l(I=!0){const D=S.value,j=k.value,z=M.value;if(z&&D&&j){const{width:U,height:P}=je(z),{width:Q,height:X}=je(D),K=je(j).height,$=Q-(z.offsetWidth-U),se=X-K-(z.offsetHeight-P);z.style.width=`${$}px`,z.style.height=`${se}px`,g(),t("resize",new Vo($,se)),I&&(t("update:width",$),t("update:height",se))}}function g(){const I=S.value;if(I){const D=I.getBoundingClientRect();D.left<0&&(w.value.left="0px"),D.top<0&&(w.value.top="0px"),D.right>window.innerWidth&&(w.value.left=window.innerWidth-D.width+"px"),D.bottom>window.innerHeight&&(w.value.top=window.innerHeight-D.height+"px")}}function R(I=!0){g();const D=S.value;if(D){const{left:j,top:z}=D.getBoundingClientRect();I&&(t("update:left",j),t("update:top",z))}}return Fe(()=>e.isOpen,I=>{b.value=I}),Fe(()=>e.zGroup,I=>{v.group=I}),Fe(()=>e.width,I=>{d({width:I}),l(!1)}),Fe(()=>e.height,I=>{d({height:I}),l(!1)}),Lt(()=>{C()}),io(()=>{Ft.delete(this),v.unregister(),h&&h.teardown(),c&&c.teardown(),Oe.splice(Oe.indexOf(r),1)}),{isOpen:b,windowEl:S,titlebar:k,content:M,activate:F,styleWindow:w,styleTitlebar:u,styleContent:f,closeButtonClick:function(){b.value=!1,t("closebuttonclick")},fixPosition:g}}});const Qo={class:"title"};var Ln;An.render=function(e,t,n,r,s,c){const h=Nn("myButton");return q(),ue(Mn,{name:"fade",onAfterLeave:t[2]||(t[2]=v=>e.$emit("close")),onAfterEnter:t[3]||(t[3]=v=>e.$emit("open")),persisted:""},{default:qe(()=>[to(V("div",{class:"window",style:Se(e.styleWindow),ref:"windowEl",onMousedown:t[0]||(t[0]=(...v)=>e.activate&&e.activate(...v)),onTouchstart:t[1]||(t[1]=(...v)=>e.activate&&e.activate(...v))},[V("div",{class:"titlebar",style:Se(e.styleTitlebar),ref:"titlebar"},[V("div",Qo,[e.$slots.title?we(e.$slots,"title",{key:0}):(q(),Z(ge,{key:1},[un(ro(e.title),1)],64))]),e.closeButton?(q(),ue(h,{key:0,windowStyle:e.windowStyle,onClick:e.closeButtonClick},{default:qe(()=>[un("\xD7")]),_:1},8,["windowStyle","onClick"])):me("v-if",!0)],4),V("div",{class:"content",style:Se(e.styleContent),ref:"content"},[we(e.$slots,"default")],4)],36),[[no,e.isOpen]])]),_:3})},An.__file="src/controls/vuewindow/window/index.vue",function(e){e[e.StyleBlack=0]="StyleBlack",e[e.StyleWhite=1]="StyleWhite",e[e.StyleMetal=2]="StyleMetal",e[e.StyleGrayblue=3]="StyleGrayblue"}(Ln||(Ln={}));var J;(function(e){e[e.top=0]="top",e[e.bottom=1]="bottom",e[e.centerBack=2]="centerBack",e[e.centerMain=3]="centerMain",e[e.centerFront=4]="centerFront",e[e.left=5]="left",e[e.right=6]="right"})(J||(J={}));class Zo{layoutState;layoutMap=new Map;preConditionMap=new Map;widgetsLoadedSet=new Set;widgetConfig=new Array;_LayoutID;constructor(t,n,r){this.layoutState=t,this._LayoutID=r,n.forEach(s=>{if(s.layoutID===r&&(this.widgetConfig.push(s),s.afterid))if(this.preConditionMap.has(s.afterid))this.preConditionMap.get(s.afterid)?.add(s);else{const c=new Set;c.add(s),this.preConditionMap.set(s.afterid,c)}})}getLayoutID(){return this._LayoutID}getWidgetConfig(){return this.widgetConfig}preloadWidgets(){this.widgetConfig.filter(t=>t.preload&&!t.afterid).forEach(t=>{this._loadWidget(t)})}async loadWidget(t){if(!t)return;let n;return Rt(t)?n=t:jn(t)&&(n=this.widgetConfig.find(r=>r.id===t)),n?n.afterid?(this.isWidgetLoaded(n.afterid)||await this.loadWidget(n.afterid),this._loadWidget(n)):this._loadWidget(n):void 0}loadOtherDependenceWidgets(t){this.preConditionMap.has(t)&&this.preConditionMap.get(t)?.forEach(n=>{n.preload&&this._loadWidget(n)})}_loadWidget(t){if(!this.widgetsLoadedSet.has(t.id))return t.component().then(n=>{if(n.default){const r=so(n.default);this.getContainerComponents(t.container).value.set(t.id,r),this.widgetsLoadedSet.add(t.id),Dt().then(()=>{N.EventBus.emit(ne.WidgetLoadedEvent,{layoutID:this._LayoutID,widgetID:t.id}),this.loadOtherDependenceWidgets(t.id)})}}).catch(n=>{N.Logger().error("\u52A0\u8F7DWidget\u5931\u8D25\uFF01",t),N.EventBus.emit(ne.WidgetLoadedErrorEvent,t)})}hasDependentWidgets(t){let n=!1;if(this.preConditionMap.has(t)){const r=this.preConditionMap.get(t);if(r){for(const s of r)if(this.isWidgetLoaded(s.id)){n=!0;break}}}return n}unloadWidget(t){if(!t||!this.isWidgetLoaded(t))return;const n=this.widgetConfig.find(r=>r.id===t);if(n){if(this.preConditionMap.has(t)){const c=this.preConditionMap.get(t);if(c)for(const h of c)this.unloadWidget(h.id)}const r=this.getContainerComponents(n.container),s=r.value.get(t);s&&s.unmounted&&s.unmounted(),r.value.delete(t),this.widgetsLoadedSet.delete(t),N.EventBus.emit(ne.WidgetUnLoadedEvent,{layoutID:this._LayoutID,widgetID:t})}}isWidgetLoaded(t){return this.widgetsLoadedSet.has(t)}splitTwoContainer(t=!1){const n=this.layoutState.centerMainContainer,r=this.layoutState.centerBackContainer;t?(n&&(n.style.left="0",n.style.width="100%"),r&&(r.style.width="100%")):(n&&(n.style.left="50%",n.style.width="50%"),r&&(r.style.width="50%"))}getLayoutContainer(t){switch(t){case J.top:return this.layoutState.topContainer;case J.bottom:return this.layoutState.bottomContainer;case J.left:return this.layoutState.leftContainer;case J.right:return this.layoutState.rightContainer;case J.centerBack:return this.layoutState.centerBackContainer;case J.centerMain:return this.layoutState.centerMainContainer;case J.centerFront:return this.layoutState.centerFrontContainer}}changeContainerVisible(t,n=!1){const r=this.getLayoutContainer(t);r&&(r.style.visibility=n?"visible":"hidden")}changeWidgetVisible(t,n=!1){const r=this.getWidgetComponent(t);r&&N.EventBus.emit(ne.WidgetVisibleChanged,{id:t,layoutID:this._LayoutID,name:r.name,visible:n})}getWidgetComponent(t){if(this.widgetsLoadedSet.has(t)){const n=this.widgetConfig.find(r=>r.id===t);if(n)return this.getContainerComponents(n.container).value.get(t)}}getWigetItem(t){return this.widgetConfig.find(n=>n.id===t)}getGroupWigetItems(t){return this.widgetConfig.filter(n=>n.group===t)}getContainerComponents(t){if(this.layoutMap.has(t))return this.layoutMap.get(t);{const n=te(new Map);return this.layoutMap.set(t,n),n}}addContainerComponent(t,n){}}var yt=De({name:"MainContainer",props:{widgetConfig:{type:Array,required:!0,default:()=>[]},layoutID:{type:String,default:void 0},layoutStyle:{type:Object},enableRouterView:{type:Boolean,default:!0}},emits:["containerLoaded"],setup(e,{attrs:t,slots:n,emit:r}){const s=e.layoutID,c=te(e.enableRouterView);Fe(()=>e.enableRouterView,()=>{c.value=e.enableRouterView});const h=Rn({topContainer:void 0,centerBackContainer:void 0,centerMainContainer:void 0,centerFrontContainer:void 0,bottomContainer:void 0,leftContainer:void 0,rightContainer:void 0}),v=new Zo(h,e.widgetConfig,s),b=F(J.top),C=F(J.centerBack),x=F(J.centerFront),S=F(J.left),k=F(J.right),M=F(J.bottom);function F(u){return v?.getContainerComponents(u)}const w=he(()=>e.layoutStyle);return Lt(()=>{v&&(v.preloadWidgets(),s===void 0&&(N.LayoutManager=v),r("containerLoaded",{layoutID:s,layoutManager:v}))}),{...oo(h),topContainerComponents:b,centerbackComponents:C,centerfrontComponents:x,leftContainerComponents:S,rightContainerComponents:k,bottomContainerComponents:M,containerStyle:w,isEnableRouterView:c}}});const ei={ref:"topContainer",class:"topContainer"},ti={key:0,ref:"centerMainContainer",class:"centerdiv mainContainer"},ni={ref:"centerBackContainer",class:"centerdiv backContainer"},ri={ref:"centerFrontContainer",class:"centerdiv centerContainer"},oi={ref:"leftContainer",class:"leftContainer"},ii={ref:"rightContainer",class:"rightContainer"},si={ref:"bottomContainer",class:"bottomContainer"};yt.render=function(e,t,n,r,s,c){const h=Nn("router-view");return q(),Z("div",{class:"layoutContainer",style:Se(e.containerStyle)},[V("div",ei,[(q(!0),Z(ge,null,Ee(e.topContainerComponents,([v,b])=>(q(),ue(pe(b),{key:v}))),128))],512),V("div",null,[me(" \u4E3B\u8981\u5BB9\u5668-\u5E95\u90E8 "),e.isEnableRouterView?(q(),Z("div",ti,[Tn(h,null,{default:qe(({Component:v})=>[(q(),ue(pe(v)))]),_:1})],512)):me("v-if",!0),me(" \u4E0A\u4E00\u5C42-\u4E3B\u5BB9\u5668 "),V("div",ni,[(q(!0),Z(ge,null,Ee(e.centerbackComponents,([v,b])=>(q(),ue(pe(b),{key:v}))),128))],512),me(" \u6700\u4E0A\u6D6E\u52A8-\u4E3B\u5BB9\u5668 "),V("div",ri,[(q(!0),Z(ge,null,Ee(e.centerfrontComponents,([v,b])=>(q(),ue(pe(b),{key:v}))),128))],512),V("div",oi,[(q(!0),Z(ge,null,Ee(e.leftContainerComponents,([v,b])=>(q(),ue(pe(b),{key:v}))),128))],512),V("div",ii,[(q(!0),Z(ge,null,Ee(e.rightContainerComponents,([v,b])=>(q(),ue(pe(b),{key:v}))),128))],512)]),V("div",si,[(q(!0),Z(ge,null,Ee(e.bottomContainerComponents,([v,b])=>(q(),ue(pe(b),{key:v}))),128))],512)],4)},yt.__scopeId="data-v-4d081e5c",yt.__file="src/controls/layoutcontainer/layout.vue";const _e={Login:"/api/User/Login",ChangeMyPwd:"/api/User/ChangeMyPwd",Logout:"/api/Check/ExitLogin",RefreshToken:"/api/Check/RefreshToken",CheckToken:"/api/Check/CheckToken",GetSystemRights:"/api/System/GetSystem"},It="access_token",ai=N.Config.ServiceURL.LoginAuthURL;function Dn(){const e=Co();e&&ke(_e.RefreshToken,ai,{refreshToken:e}).then(t=>{Zn(t.data)})}function ui(){const e=be.getJsonObject(It);if(!e)return;const t=new Date().getTime(),n=new Date(e.expire).getTime()-t;n>0&&(n<=5e3?Dn():setTimeout(Dn,n-5e3))}function Zn(e){const t=new Date().getTime();let n=new Date(e.accessToken.expires).getTime()-t;if(n>=36e5?(n=18e5,console.warn("\u5BA2\u6237\u7AEF\u65F6\u95F4\u4E0E\u670D\u52A1\u5668\u4E0D\u4E00\u81F4\uFF1A\u8FC7\u53BB\u65F6\u95F4\uFF01")):n<-6e5&&(n=18e5,console.warn("\u5BA2\u6237\u7AEF\u65F6\u95F4\u4E0E\u670D\u52A1\u5668\u4E0D\u4E00\u81F4\uFF1A\u672A\u6765\u65F6\u95F4\uFF01")),n>0){let r=xe();r?(r.token=e.accessToken.tokenContent,r.expire=e.accessToken.expires,r.refresh=e.refreshToken.tokenContent):r={token:e.accessToken.tokenContent,expire:e.accessToken.expires,refresh:e.refreshToken.tokenContent},be.set(It,r,n/1e3),ui()}else be.remove(It)}const At="Wm314243",Ye=N.Config.ServiceURL.LoginAuthURL;async function Ci(e){const t={username:e.username,pwd:_t.encryptToString(e.pwd,At)},n=(await ke(_e.Login,Ye,t))?.data;return n&&Zn(n.doubletoken),n}function Ei(e){const t={oldpwd:_t.encryptToString(e.oldpwd,At),newpwd:_t.encryptToString(e.newpwd,At)};return ke(_e.ChangeMyPwd,Ye,t)}function Si(){const e=xe();e&&(Eo(_e.Logout,Ye,{token:e.token,reftoken:e.refresh}),zn())}function xi(e){return ke(_e.CheckToken,Ye,{token:e})}const Ot="ROLE_SYSTEM_RIGHT",Ut=new Tt("",sessionStorage);function ci(){return Ut.get(Ot)}function kn(e){Ut.set(Ot,e)}function li(){Ut.remove(Ot)}function Ae(e){if(e)for(let t=0;t<e.length;t++){const n=e[t];n.children&&n.children.length>0?(Ae(n.children),n.children.length===0&&(e.splice(t,1),t--)):n.selected||(e.splice(t,1),t--)}}function er(e,t,n="name"){e&&t&&e.forEach(r=>{const s=t.find(c=>c[n]===r[n]);s&&(r.children?s.children&&er(r.children,s.children,n):(!s.children||s.children.length===0)&&s.selected&&(r.selected=s.selected))})}function Ue(e,t,n,r="name"){const s=e[n],c=t[n];s?c&&er(s,c,r):c&&(e[n]=c)}function di(e){if(e&&e.length>0){const t=e.length;let n,r=!1;if(t>0){r=Rt(e[0]);const s=r?e[0]:JSON.parse(e[0]);if(t>1)for(let c=1;c<e.length;c++){const h=e[c],v=r?h:JSON.parse(h);Ue(s,v,"routes","name"),Ue(s,v,"widgetMenu","name"),Ue(s,v,"widgets","id"),Ue(s,v,"functions","id")}n=s}return n&&(Ae(n.routes),Ae(n.widgetMenu),Ae(n.widgets),Ae(n.functions)),n}}const wt=[];function tr(){return ci()}async function _i(e,t=!1){li();const n=_e.GetSystemRights,r=N.Config.ServiceURL.LoginAuthURL,s=await ke(n,r,{systemid:e});if(!s||!s.data)return void N.Message?.warn("\u65E0\u6CD5\u83B7\u53D6\u529F\u80FD\u6388\u6743\u5217\u8868\uFF01");const c=s.data;if(c&&c.length>0){if(t){const h=JSON.parse(c[0]);return kn(h),h}{const h=di(c);return kn(h),h}}}function nr(e,t){const n={...e};return n.meta||(n.meta={}),t.index!=null&&(n.meta.index=t.index),t.title!=null&&(n.meta.title=t.title),e.children&&(n.children=[],t.children&&t.children.forEach(r=>{const s=e.children?.find(c=>c.path===r.path);if(s){const c=nr(s,r);c&&n.children?.push(c)}})),n}function Bi(e,t=2){if(t===0)return e;const n=tr();return n&&n.routes?(wt.length>0||e.forEach(r=>{const s=n.routes?.find(c=>c.name===r.name);if(s){const c=nr(r,s);c&&wt.push(c)}}),wt):void 0}function Fi(e,t=2){if(t===0)return e;const n=tr();return n?n.functions:void 0}export{wi as D,pi as K,N as L,xe as M,bi as O,vi as T,Mo as a,Fi as b,Zn as c,ui as d,J as e,Si as f,xi as g,li as h,yt as i,Ci as j,Eo as k,Tt as l,_i as m,Ei as n,gi as s,tr as t,re as u,Bi as v,ke as w,mi as x,yi as z};
