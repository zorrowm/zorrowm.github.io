import{d as V,a0 as O,a as B,c as H,y as W,Q as J,t as T,o as s,v as I,l as L,k as h,g as e,b as m,F as R,x as U,D as E,C as b,j as N,a2 as X,aA as Y,r as Z,E as oo,a1 as eo,ar as to,as as no,q as j,a3 as so,a4 as ao}from"./vendor.fba62f44.js";import{F as io}from"./FullScreen.cdcde2f3.js";import{i as x,O as lo,p as ro,_ as q,u as co,a as uo,E as po}from"./index.a7a016cc.js";import{L as ho}from"./layoutTool.5f32478f.js";import{I as z}from"./@iconify/vue-exp.2703a4cd.js";import{D as go,f as fo,g as mo}from"./IconService.68577bd3.js";import{s as P,L as M,f as _o}from"./xframelib-exp.abb6dc89.js";import{d as G}from"./WidgetsTool.7a0e192d.js";import{b as wo,u as So}from"./vue-router-exp.aea90ceb.js";import{S as vo}from"./searchMenu.016b3f30.js";import ko from"./LogoTitleWidget.ede09b55.js";import{_ as yo}from"./logo.c922a61e.js";import"./lodash-es-exp.5cb72cd8.js";import"./axios-exp.a055fae1.js";import"./WidgetsEvent.9f7b2658.js";const Co="shop",Fo=V({name:Co,components:{Icon:z},setup(o,{emit:n}){const t=x(),{iconShopListShow:_}=O(t),S=B(!1),v=()=>{S.value=!1},g=()=>{S.value=!0},c=(w,k,r)=>{_.value[w].data.splice(k,1)},a={},p=async()=>{let w=t.iconShopListShow.length;for(let r=0;r<w;r++){const u=t.iconShopListShow[r];let f=[],y=u.data.length,C=u.prefix;for(let d=0;d<y;d++)f.push(u.data[d].name);a[C]=f}t.iconShopList_api=a;let k=await go(a);P(k,"\u56FE\u6807\u79BB\u7EBF\u5305.ts")},i=async()=>{let w=t.iconShopListShow.length;for(let r=0;r<w;r++){const u=t.iconShopListShow[r];let f=[],y=u.data.length,C=u.prefix;for(let d=0;d<y;d++)f.push(u.data[d].name);a[C]=f}t.iconShopList_api=a;let k=await fo(a);P(k,"svgPackage.zip")},l="shopAddSet",D=H(()=>ro(l)),$=()=>{const w=t.iconShopListShow.length;for(let r=0;r<w;r++){const u=t.iconShopListShow[r];let f=[],y=u.data.length,C=u.prefix;for(let d=0;d<y;d++)f.push(u.data[d].name);a[C]=f}t.iconShopList_api=a,G({modalID:"shopAddSet",content:"ceshi"}),S.value=!1};return W(()=>{}),lo("Show_Shop_Drawer",g),J(()=>{}),{close:v,visible:S,iconShopListShow:_,deleteIcon_shop:c,download:p,showCreateSetIcon:D,downloadsvg:i,addtosetfun:$}}});const Bo={class:"drawerOuter"},Lo={class:"setname"},Do={class:"iconsOuter"},Io={class:"iconGroup"},Eo=["title"],bo=["title"],$o=["onClick"],Mo={class:"footBtn"};function To(o,n,t,_,S,v){const g=T("Icon"),c=X,a=Y;return s(),I(a,{visible:o.visible,"onUpdate:visible":n[0]||(n[0]=p=>o.visible=p),class:"custom-class",style:{color:"red"},title:"\u8D2D\u7269\u8F66",placement:"right",onClose:o.close,width:"408px"},{closeIcon:L(()=>[h(g,{icon:"pepicons-pop:angle-right",width:"24",height:"24"})]),default:L(()=>[e("div",Bo,[(s(!0),m(R,null,U(o.iconShopListShow,(p,i)=>(s(),m("div",{key:i},[e("div",Lo,"\u524D\u7F00:"+E(p.prefix),1),e("div",Do,[(s(!0),m(R,null,U(p.data,(l,D)=>(s(),m("div",{class:"icons",key:D},[e("div",Io,[p.palette?(s(),I(g,{key:1,class:"iconback",icon:l.fullName,width:"60",height:"60",style:{cursor:"pointer"}},null,8,["icon"])):(s(),I(g,{key:0,class:"iconback",icon:l.prefix+":"+l.name,color:l.color,width:"60",height:"60",style:{cursor:"pointer"}},null,8,["icon","color"])),l.description===null?(s(),m("div",{key:2,class:"textFlow",title:l.name,style:{width:"100%","text-align":"center",color:"black",height:"25%"}},E(l.name),9,Eo)):(s(),m("div",{key:3,class:"textFlow",title:l.name,style:{width:"100%","text-align":"center",color:"black",height:"25%"}},E(l.description),9,bo))]),e("div",{class:"delete",onClick:$=>o.deleteIcon_shop(i,D,l)},[h(g,{icon:"mdi-light:delete",width:"32",height:"32",color:"#ffffff"})],8,$o)]))),128))])]))),128))]),e("div",Mo,[h(c,{type:"primary",onClick:o.download},{default:L(()=>[b("\u4E0B\u8F7D\u79BB\u7EBF\u6587\u4EF6")]),_:1},8,["onClick"]),h(c,{type:"primary",onClick:o.downloadsvg},{default:L(()=>[b("\u4E0B\u8F7D\u79BB\u7EBFsvg\u5305")]),_:1},8,["onClick"]),o.showCreateSetIcon?(s(),I(c,{key:0,type:"primary",onClick:o.addtosetfun},{default:L(()=>[b("\u6DFB\u52A0\u81F3\u56FE\u6807\u5E93")]),_:1},8,["onClick"])):N("",!0)])]),_:1},8,["visible","onClose"])}const Ao=q(Fo,[["render",To],["__scopeId","data-v-287bfe81"]]),Oo=V({name:"PageHeader",components:{Icon:z,FullScreen:io,Logo:ko,SearchMenu:vo,shopCom:Ao},props:{collapsed:{type:Boolean}},emits:["updateCollapsed"],setup(){const o=B(M.Config.UI?.SiteTitle),n=B(!0),t=wo(),_=co(),S=H(()=>_.name+"["+_.DefaultMaxRole+"]"),v=uo(),{leftCollapsed:g}=O(v),c=B(v.headerSetting.centerTitle),a=B(v.headerSetting.showFullScreen),p=B(v.headerSetting.showCollapseIcon),i=Z({headerHeight:ho.getHeaderHeight()}),l=B(window.document.documentElement),D=M.t,$=So(),w=()=>{eo.confirm({title:"\u60A8\u786E\u5B9A\u8981\u9000\u51FA\u767B\u5F55\u5417\uFF1F",onOk:()=>{_o(),_.clear(),M.Message?.msg("\u6210\u529F\u9000\u51FA\u767B\u5F55"),window.open(window.location.pathname,"_self"),n.value=!0}})},k=H(()=>!M.Config.UI?.IsNoLogin);function r(){t.push("/login")}function u(){const F=x(),A=O(F);F.clearSearchData(),A.pageIndex.value=0,A.iconEntrance.value="",t.push({path:"/"})}function f(){t.push("/back")}function y(){po("Show_Shop_Drawer",!0)}const C=async()=>{mo().then(F=>{P(F,"IconOffline.exe")}).catch(F=>{console.warn(F)})};function d(){G({modalID:"changeMyPWD",extraData:{title:"\u4FEE\u6539\u5BC6\u7801"},width:500,rowData:void 0})}const Q=()=>{t.push("/specification")};return W(()=>{_.name&&(n.value=!1)}),{...oo(i),doLogout:w,route:$,t:D,isNOLogin:k,fullScreenElem:l,roleRef:S,showUserModal:d,noLoginState:n,loginPage:r,iscenterTitle:c,leftCollapsed:g,showFullScreen:a,showCollapseIcon:p,goBackHome:u,siteTitle:o,openShop:y,routerToManage:f,downLoadExe:C,learnPage:Q}}});const K=o=>(so("data-v-7b145551"),o=o(),ao(),o),Ho={class:"topHeaderWidget"},No={class:"centerTitle"},Po=K(()=>e("span",null,[e("img",{src:yo,style:{width:"48px","margin-right":"10px"}})],-1)),Ro={class:"right-options"},Uo={title:"\u67E5\u770B\u7528\u6237\u624B\u518C"},jo={title:"\u4E0B\u8F7DIconOffline.exe\u5DE5\u5177"},Vo={style:{margin:"5px 0"}},Wo=K(()=>e("li",{style:{color:"red"}},"\u70B9\u51FB\u5934\u50CF\u8FDB\u5165\u7BA1\u7406\u7AEF\u9875\u9762",-1)),xo={key:1,style:{cursor:"pointer"}};function qo(o,n,t,_,S,v){const g=T("SearchMenu"),c=T("Icon"),a=no,p=T("shopCom");return s(),m("div",Ho,[e("div",No,[e("span",null,[Po,o.iscenterTitle?(s(),m("span",{key:0,onClick:n[0]||(n[0]=(...i)=>o.goBackHome&&o.goBackHome(...i)),style:{cursor:"pointer"}},E(o.siteTitle),1)):N("",!0)]),h(g,{style:{height:"50%",width:"33.3%"}})]),e("div",Ro,[e("span",Uo,[h(c,{icon:"iconoir:page-flip",width:"22",height:"22",onClick:o.learnPage},null,8,["onClick"])]),e("span",jo,[h(c,{icon:"fe:download",width:"24",height:"24",style:{"margin-left":"10px",cursor:"pointer"},onClick:o.downLoadExe},null,8,["onClick"])]),h(a,null,to({default:L(()=>[o.isNOLogin&&o.noLoginState?(s(),m("span",{key:0,style:{"margin-left":"10px",cursor:"pointer","flex-wrap":"nowrap"},onClick:n[3]||(n[3]=(...i)=>o.loginPage&&o.loginPage(...i))}," \u8BF7\u767B\u5F55 ")):(s(),m("span",xo,[o.isNOLogin?(s(),I(c,{key:0,icon:"ant-design:user-outlined",width:"24",height:"24",onClick:o.routerToManage},null,8,["onClick"])):N("",!0)]))]),_:2},[o.isNOLogin&&!o.noLoginState?{name:"content",fn:L(()=>[e("ul",null,[e("li",null,[e("span",Vo,E(o.roleRef),1)]),e("li",null,[e("a",{onClick:n[1]||(n[1]=j((...i)=>o.showUserModal&&o.showUserModal(...i),["prevent"]))},[h(c,{icon:"ant-design:info-circle-outlined"}),b(" \u4FEE\u6539\u5BC6\u7801 ")])]),e("li",null,[e("a",{onClick:n[2]||(n[2]=j((...i)=>o.doLogout&&o.doLogout(...i),["prevent"]))},[h(c,{icon:"ant-design:logout-outlined"}),b("\u9000\u51FA\u767B\u5F55 ")])]),Wo])]),key:"0"}:void 0]),1024),h(p)])])}const le=q(Oo,[["render",qo],["__scopeId","data-v-7b145551"]]);export{le as default};
