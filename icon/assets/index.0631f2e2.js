import{_ as E}from"./index.93c0bcf5.js";import{d as T,r as D,a as L,y as V,Q as H,E as y,t as O,o as m,b as C,k as g,l as w,v as $,F as N,x as j,j as x,g as q,ad as K}from"./vendor.fba62f44.js";import{_ as v}from"./VSwitch.433f46f5.js";import{_ as R,s as U}from"./scrollRef.434eeb82.js";import{T as W}from"./index.b7236f67.js";import{O as G,k as Q,_ as J}from"./index.a7a016cc.js";import{T as I}from"./TableEvent.69ad174d.js";import{I as X}from"./@iconify/vue-exp.2703a4cd.js";import{b as Y,u as Z}from"./vue-router-exp.aea90ceb.js";import{O as ee}from"./urlUtils.9fcd62bb.js";import{c as te,d as ne,e as ae}from"./IconService.68577bd3.js";import{L as r}from"./xframelib-exp.abb6dc89.js";import"./lodash-es-exp.5cb72cd8.js";import"./layoutTool.5f32478f.js";import"./axios-exp.a055fae1.js";const oe=[],se=[{value:"preview",name:"\u67E5\u770B",icon:"ant-design:eye-outlined"},{value:"reback",name:"\u6062\u590D\u6B63\u5E38",icon:"ant-design:rollback-outlined"},{name:"\u5F7B\u5E95\u5220\u9664",icon:"ant-design:clear-outlined",value:"delete",isdelete:!0}];function ue(){return se}function ie(e=!0){return oe}const re=[{title:"\u524D\u7F00",dataIndex:"prefix",align:"center",width:100},{title:"\u540D\u79F0",dataIndex:"name",align:"center",width:150},{title:"\u6240\u5C5E\u5206\u7C7B",dataIndex:"category",align:"center",width:150},{title:"\u6240\u5C5E\u6570\u636E\u96C6",dataIndex:"source",align:"center",width:100,customCell:(e,u,c)=>{let i="";switch(e.source){case 0:i="Iconify";break;case 1:i="\u81EA\u5B9A\u4E49";break;case 2:i="IconFont";break}return{innerHTML:i}}},{title:"\u56FE\u6807\u6570",dataIndex:"total",align:"center",width:80},{title:"\u5F69\u8272",dataIndex:"palette",align:"center",width:60,customCell:(e,u,c)=>({innerHTML:e.palette?"<b>\u662F</b>":"\u5426"})},{title:"\u793A\u4F8B\u6570\u636E",dataIndex:"samples",align:"center",key:"samples"},{title:"\u64CD\u4F5C",align:"center",width:80,key:"operation",fixed:"right"}],le=T({name:"hiddenIconSet",components:{TopFunBar:W,Pagination:E,ActionMenu:R,Icon:X,VSwitch:v},props:{},setup(){const e=D({tableData:[],PageIndex:1,PageSize:10,totalCount:0,keyword:"",sortname:"",sortway:0}),u=D({rowData:{},deleteArr:[],recordData:{}}),c=(t,n)=>{switch(t){case"searchWord":d(n);break;case"refresh":o();break}};function i(t,n){}const F=(t,n)=>{switch(t){case"preview":f(n);break;case"reback":ne(n.prefix).then(a=>{a?(o(),r.Message?.info("\u6062\u590D\u56FE\u6807\u96C6\u6210\u529F\uFF01")):r.Message?.warn("\u6062\u590D\u56FE\u6807\u96C6\u5931\u8D25\uFF01")}).catch(a=>{r.Message?.warn("\u6062\u590D\u56FE\u6807\u96C6\u5931\u8D25\uFF01"+a.Message)});break;case"delete":te(n.prefix).then(a=>{a?(o(),r.Message?.info("\u5220\u9664\u56FE\u6807\u96C6\u6210\u529F\uFF01")):r.Message?.warn("\u5220\u9664\u56FE\u6807\u96C6\u5931\u8D25\uFF01")}).catch(a=>{r.Message?.warn("\u5220\u9664\u56FE\u6807\u96C6\u5931\u8D25\uFF01"+a.Message)});break}u.rowData=n},_=Y(),f=t=>{ee(_,"/detail",{prefix:t.prefix})},l=L(new Map);function h(t){return new Promise((n,a)=>{if(t.samples){const z=t.prefix;var B=t.samples?.split(",");l.value.set(z,B),n(!0)}})}const o=()=>{ae(e.keyword,"",e.PageIndex,e.PageSize).then(t=>{t!=null?(e.tableData=t.items,e.totalCount=t.totalCount,setTimeout(()=>{l.value.clear();for(const n of e.tableData)h(n)},.5)):(e.tableData=[],e.totalCount=0)})},M={onChange:(t,n)=>{u.deleteArr=[];for(let a=0;a<n.length;a++)u.deleteArr.push(n[a].name)}},p=t=>{e.PageSize=t,o()},s=t=>{e.PageIndex=t,o()},d=t=>{e.keyword=t,e.PageIndex=1,o()},P=t=>{t.style},b=Z();V(()=>{G(I.RefeshTable,o),b.query.name!=""&&d(b.query.name)}),H(()=>{Q(I.RefeshTable,o)});function S(t){const n=t.countdata===0,a=[...ue()];return n&&a.shift(),a}function A(t){const n=t.countdata!=0;return ie(n)}return{topBarClick:c,rowSelection:M,columns:re,...y(e),initTable:o,sizeChange:p,pageChange:s,doActionClick:F,...y(u),getRightDefaultMenus:S,getRightMoreMenus:A,styleFormclick:P,scrollRef:U,stateMap:l}}}),ce=q("div",{style:{height:"50px",padding:"10px","font-weight":"bold"}}," \u56FE\u6807\u96C6\u5217\u8868 ",-1),pe={style:{"margin-right":"5px"}};function de(e,u,c,i,F,_){const f=R,k=O("Icon"),l=v,h=K,o=E;return m(),C("div",null,[ce,g(h,{size:"small","row-selection":e.rowSelection,columns:e.columns,"data-source":e.tableData,pagination:!1,rowKey:"name",scroll:e.scrollRef},{bodyCell:w(({text:M,column:p,record:s})=>[p.key?(m(),$(l,{key:0,case:p.key},{operation:w(()=>[g(f,{currentRow:s,onDoActionClick:e.doActionClick,"default-menus":e.getRightDefaultMenus(s),"append-menus":e.getRightMoreMenus(s)},null,8,["currentRow","onDoActionClick","default-menus","append-menus"])]),samples:w(()=>[s.samples?(m(!0),C(N,{key:0},j(e.stateMap.get(s.prefix),d=>(m(),C("span",pe,[g(k,{icon:s.prefix+":"+d,width:"16",height:"16"},null,8,["icon"])]))),256)):x("",!0)]),_:2},1032,["case"])):x("",!0)]),_:1},8,["row-selection","columns","data-source","scroll"]),g(o,{style:{"text-align":"right","margin-top":"5px"},totalCount:e.totalCount,pagesize:e.PageSize,pageindex:e.PageIndex,onPageChange:e.pageChange,onSizeChange:e.sizeChange},null,8,["totalCount","pagesize","pageindex","onPageChange","onSizeChange"])])}const Ee=J(le,[["render",de]]);export{Ee as default};
